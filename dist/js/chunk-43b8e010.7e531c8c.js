(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43b8e010","chunk-b436f3ae","chunk-2f6c3eb1"],{"023b":function(e,t,a){},"02c4":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var i={"written-assessment":1,oral:2,"demonstration-assessments":3,"other-assessment":4}},"0381":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{"disabled-button":e.disabled,"cc-custom-button":!e.disabled},style:{"background-color":e.bgColor,color:e.color},on:{click:e.handleClick,dblclick:e.handleDbClick}},[e.disabled&&e.disabledTooltip?[a("a-tooltip",{attrs:{title:e.disabledTooltip,placement:e.placement}},[e.loading?a("div",{staticClass:"loading vertical-center"},[a("a-spin",[a("a-icon",{staticStyle:{"font-size":"14px",color:"#666666"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)],1):e._e(),a("div",{staticClass:"icon"},[e._t("icon")],2),a("div",{staticClass:"label"},[e._v(" "+e._s(e.label)+" ")])])]:[e.loading?a("div",{staticClass:"loading vertical-center"},[a("a-spin",[a("a-icon",{staticStyle:{"font-size":"14px",color:"#666666"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)],1):e._e(),a("div",{staticClass:"icon"},[e._t("icon")],2),a("div",{staticClass:"label"},[e._v(" "+e._s(e.label)+" ")])]],2)},s=[],n={name:"CustomButton",props:{label:{type:String,default:""},bgColor:{type:String,default:"#EEF1F3"},color:{type:String,default:"#16274A"},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledTooltip:{type:String,default:""},placement:{type:String,default:"top"}},methods:{handleClick:function(){this.disabled||this.$emit("click")},handleDbClick:function(){this.disabled||this.$emit("dblclick")}}},r=n,o=(a("5d91"),a("0c7c")),l=Object(o["a"])(r,i,s,!1,null,"b546cb6a",null);t["a"]=l.exports},"03fe":function(e,t,a){e.exports=a.p+"img/2.34f982bd.png"},"05be":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"27.223",height:"28",viewBox:"0 0 27.223 28"},children:[{tag:"path",attrsMap:{id:"pubu_","data-name":"pubu ",class:"cls-1",d:"M17422.268,9413v-7.046h6.957V9413Zm-9.953,0v-7.046h7.268V9413Zm-10.312,0v-7.046h6.953V9413Zm20.266-10.41v-7.231h6.957v7.231Zm-9.953,0v-7.231h7.268v7.231Zm-10.312,0v-7.231h6.953v7.231Zm20.266-10.638V9385h6.957v6.952Zm-9.953,0V9385h7.268v6.952Zm-10.312,0V9385h6.953v6.952Z",transform:"translate(-17402.002 -9385.001)"}}]})}},"05c1":function(e,t,a){},"09cf":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44",viewBox:"0 0 44 44",style:"color: #15c39a;"},children:[{tag:"defs"},{tag:"g",attrsMap:{transform:"translate(-144 -421)"},children:[{tag:"circle",attrsMap:{class:"a",cx:"22",cy:"22",r:"22",transform:"translate(144 421)"}},{tag:"g",attrsMap:{transform:"translate(155 431)",style:"color: #fff;"},children:[{tag:"path",attrsMap:{class:"b",d:"M7.518,11.828a6.693,6.693,0,1,1,4.293,1.558,9.45,9.45,0,0,0-9.417,8.662H2.362a1.181,1.181,0,1,1-2.308-.356,11.821,11.821,0,0,1,7.464-9.863Zm4.293-.8A4.331,4.331,0,1,0,7.48,6.693a4.331,4.331,0,0,0,4.331,4.331Z"}},{tag:"path",attrsMap:{class:"b",d:"M645.312,645.31v-1.969a1.181,1.181,0,0,1,2.362,0v1.969h1.969a1.181,1.181,0,0,1,0,2.362h-1.969v1.969a1.181,1.181,0,1,1-2.362,0v-1.969h-1.969a1.181,1.181,0,0,1,0-2.362Z",transform:"translate(-628.321 -628.319)"}}]}]}]})}},"0bb4":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return l}));var i=a("b775"),s={listCementByUser:"/classcipe/sys/annountCement/listByUser",editCementSend:"/classcipe/sys/sysAnnouncementSend/editByAnntIdAndUserId",NoticeQueryById:"/classcipe/sys/annountCement/queryById",listByMessage:"/classcipe/sys/annountCement/listByMessage"};function n(e){return Object(i["d"])({url:s.editCementSend,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i["d"])({url:s.listCementByUser,method:"get",params:e})}function o(e){return Object(i["d"])({url:s.NoticeQueryById,method:"get",params:e})}function l(e){return Object(i["d"])({url:s.listByMessage,method:"get",params:e})}},"0dab":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"radioSwitch",staticClass:"cc-radio-switch"},[e._l(e.menuList,(function(t,i){return a("div",{key:i,staticClass:"radio-item",class:{"selected-radio":e.selectedItem===t},on:{click:function(a){return e.handleSelectItem(t,a)}}},[e._v(" "+e._s(t[e.displayProperty])+" ")])})),e.isTransform3dSupported?a("div",{staticClass:"bg-block",style:{transform:"translate3d("+e.left+"px,0,0)",width:e.width+"px"}}):e._e()],2)},s=[],n={name:"RadioSwitch",props:{menuList:{type:Array,default:function(){return[]}},displayProperty:{type:String,default:"name"},defaultSelectedItem:{type:Object,default:null}},data:function(){return{selectedItem:null,left:0,width:0,isTransform3dSupported:"transform"in document.body.style||"webkitTransform"in document.body.style||"MozTransform"in document.body.style}},created:function(){this.defaultSelectedItem?this.selectedItem=this.defaultSelectedItem:this.menuList.length>0&&(this.selectedItem=this.menuList[0])},mounted:function(){var e=this.menuList.indexOf(this.selectedItem);if(e>-1){this.$logger.info("radioSwitch",this.$refs.radioSwitch.childNodes);var t=this.$refs.radioSwitch.childNodes[e],a=t.getBoundingClientRect();this.width=a.width,this.left=t.offsetLeft-2}},methods:{handleSelectItem:function(e,t){this.$logger.info("handleSelectItem",e),this.selectedItem=e;var a=t.target,i=a.getBoundingClientRect();this.width=i.width,this.left=a.offsetLeft-2,this.$emit("select",e)}}},r=n,o=(a("7e08"),a("0c7c")),l=Object(o["a"])(r,i,s,!1,null,"6184798a",null);t["a"]=l.exports},"0dc6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAABWlJREFUWEfVmX9MHFUQx7/THvGuLaAUKNge7Qnyo9IgAYUWjNo0NipEaqgl0QQbDOgfNcFEA4l/mNSERhJJ1Kgl4o9EE6pVUUi1ptLGKumlJaQttaAVECilSLFAhSP8eGaWXXK3t3e7e3do+/7Zy723bz47b2bevHmEIJoQIg9AAYAkAHEANshPnnUYwKD87ALwPRH9Eqg4MvuiEOJBAM/KgNEm3x8F0ALgA7PQhkGFECkADgAoUuB6pyfw3bU+tE+OYGR2CkMzU9KTW2zYKtita7DWYsX9EXF4JCoBDluE+3c1Aagiom4jH6sLKoSwAqgD8BwAyz/zs6gf6kTj1d/Q65owImNpjMMagZJ1ySi/Mx2rV4bx/3OsXQCVROTyN5lfUCEE293XAHLnxAI+Gb6Iuv4OjMxOmwJUD44Ns6EyIROlcWmw0AruPgVgFxGxXWs2n6BCiAzZnjb0uybxzK9H0TX1d1CA6pdTV92BTzfvRII1nLvY8QqI6KyWEE1QGfJnAGuc48Mo6zoWtBZ9fSFrtyF1B3IiefFwA0C+FqwXqLzcpznUNI/2oLy7FfNChFST6slWEqE+ZTsKo+/irj4AW9Vm4AEqO85xtknWZFFny7JDKtAM25ReoGiWV/NhImJnk5oa9D0Az7NNPnb2m2Vbbn9mcCTjCcVm3yeiF7xAhRCpAM7PiQXL9o6vQu44Rm2HHaw180mOBqzNNCK65KFRIQSHoaKGKxdQ/Ueb0XkDHsdLzaFpZmHea47axHyUxqfx/01EtGsJVN4WT3AwzzlzaNmXvCohGy/aMyTQhqELqO7xVAxHAmf2HmVTyCUip2SjQoiPeP+uG+hAzZ9nAtaSkRf3O3JRsX6Lx9Dyrh/RNNrj8V/1xmxU2jP5v4+JaC8JISwArgCIZm2a3RaNwCljtCC5782BDhxQKSjJdjvasnZz9ygRxTBoPoCTnGDktB8yI9fUWF+QPElx5xH8dP2y13zOrD1KIvMAg9ZwFvPu4Dm81uc0JdzoYH+Q/uTud2xFxfp0FvM6g37BH1V28Riar/UalW14nD/I+svn8Wov5yParXCtAw1pO7jzMIOe5P218Ny3cE5c1XyjOCZJSs04lLDDtV7n/EG/BQPJs2+LjEfTFj5A4ASDsho3ZZ1uxMDMpJd0t8FSH6d75V2taNHRfrCQLMt+Wzja7yvhn30Mysml1d72oWbwrdqYjZcWw8RS04MNBSQLW73Cgt5te/nnDV3QkthkvJXMxyTP5gs2VJBaoH6Xnre6L9Mfl+xFDzaUkFpLr+tMvASN9zyqpGCaZpATsc5rx1EG6nm3L7dUO5Oh8OQP1p//BwrJc6rDk+GAbxY2GEgGVQd8eQsdR07757rB0ShssJAM4sx6Cg5bJP+UtlDTSYkebCggvZISxlXSPK0sxpeKfcGGApJlusXvxTRPBn0IwHGziTPD1iTmSdUP3l7f6G/H24Oax3Jdk3IfoEqc+UR6aulwt3QU0ci49aQwsEvMh+zEWpuYh9L4zSzW8ygia/XWONzJsDfTcfkdItqnrOatWYCQtcpFoJu7pKOoWQhxL5+j/qciGXt5p9qB/ZUdGbaZi2X/UdmRi2OFWpAMbaqQ+9lwtxQr/wqykBsTZsMrCVl4Oi5FKeRyUWx3QIVcNzPwKo0fHOrE4ZHfcWl6XC/EevQn2SJRHHs3KrxL4/vcK3dak+rW8N2A+Yqm1vOyYRw/jPVLh8KxORcGXJMYm10sxUeFWWG3hiPKYgXnqouXDVKCoTS+bHhZKYLpfbFhUDdgzrbKgry+Ocjboh6ce79pUPeX5SrLTgC8q/Gd0yb5ycP4TokdhJ98IXaUiNgWA2r/AqKY1RuF7jn8AAAAAElFTkSuQmCC"},"0f1d":function(e,t,a){"use strict";a("4830")},"0fa0":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"relevant-tag-selector-wrapper"},[a("div",{staticClass:"question-list"},e._l(e.relevantQuestionList,(function(t,i){return a("div",{key:i,staticClass:"question-item"},[t.questionId?a("div",{class:{question:!0,"checked-item":-1!==e.selectedQuestionIdList.indexOf(t.questionId)},on:{click:function(a){return e.handleSelectQuestion(t)}}},[a("div",{staticClass:"content-text"},[e._v(" "+e._s(t.questionName?t.questionName:"Unnamed question")+" ")]),a("div",{staticClass:"selected-icon"},[-1!==e.selectedQuestionIdList.indexOf(t.questionId)?a("a-icon",{attrs:{type:"check-circle",theme:"filled"}}):e._e()],1)]):e._e(),a("div",{staticClass:"item-list"},e._l(t.knowledgeTagList,(function(t,i){return a("div",{key:i,class:{"item-item":!0,"checked-item":-1!==e.selectedKnowledgeTagIdList.indexOf(t.id)},on:{click:function(a){return e.handleSelectKnowledge(t)}}},[a("div",{staticClass:"item-name"},[a("div",{staticClass:"content-text"},[e._v(" "+e._s(t.info.description?t.info.description:"Unnamed description")+" ")]),a("div",{staticClass:"selected-icon"},[-1!==e.selectedKnowledgeTagIdList.indexOf(t.id)?a("a-icon",{attrs:{type:"check-circle",theme:"filled"}}):e._e()],1)])])})),0),a("div",{staticClass:"item-list"},e._l(t.skillTagList,(function(t,i){return a("div",{key:i,class:{"item-item":!0,"checked-item":-1!==e.selectedSkillTagIdList.indexOf(t.id)},on:{click:function(a){return e.handleSelectSkill(t)}}},[a("div",{staticClass:"item-name"},[a("div",{staticClass:"content-text"},[e._v(" "+e._s(t.info.description?t.info.description:"Unnamed description")+" ")]),a("div",{staticClass:"selected-icon"},[-1!==e.selectedSkillTagIdList.indexOf(t.id)?a("a-icon",{attrs:{type:"check-circle",theme:"filled"}}):e._e()],1)])])})),0)])})),0)])},s=[],n=(a("c740"),a("a434"),a("159b"),a("99af"),{name:"RelevantTagSelector",props:{relevantQuestionList:{type:Array,default:function(){return[]}}},data:function(){return{selectedQuestionIdList:[],selectedQuestionList:[],selectedKnowledgeTagList:[],selectedKnowledgeTagIdList:[],selectedSkillTagList:[],selectedSkillTagIdList:[]}},created:function(){this.$logger.info("RelevantTagSelector relevantQuestionList",this.relevantQuestionList)},methods:{handleSelectQuestion:function(e){var t=this;this.$logger.info("handleSelectQuestion",e);var a=this.selectedQuestionIdList.indexOf(e.questionId),i=this.selectedQuestionList.findIndex((function(t){return t.questionId===e.questionId}));-1!==a&&-1!==i?(this.selectedQuestionIdList.splice(a,1),this.selectedQuestionList.splice(i,1),e.knowledgeTagList.forEach((function(e){var a=t.selectedKnowledgeTagIdList.findIndex((function(t){return t===e.id})),i=t.selectedKnowledgeTagList.findIndex((function(t){return t.info.id===e.id}));-1!==a&&-1!==i&&(t.selectedKnowledgeTagIdList.splice(a,1),t.selectedKnowledgeTagList.splice(i,1))})),e.skillTagList.forEach((function(e){var a=t.selectedSkillTagIdList.findIndex((function(t){return t===e.id})),i=t.selectedSkillTagList.findIndex((function(t){return t.info.id===e.id}));-1!==a&&-1!==i&&(t.selectedSkillTagIdList.splice(a,1),t.selectedSkillTagList.splice(i,1))}))):(this.selectedQuestionIdList.push(e.questionId),this.selectedQuestionList.push(e)),this.updateSelected()},handleSelectKnowledge:function(e){this.$logger.info("handleSelectKnowledge",e);var t=this.selectedKnowledgeTagIdList.findIndex((function(t){return t===e.id})),a=this.selectedKnowledgeTagList.findIndex((function(t){return t.info.id===e.id}));-1!==t&&-1!==a?(this.selectedKnowledgeTagIdList.splice(t,1),this.selectedKnowledgeTagList.splice(a,1)):(this.selectedKnowledgeTagIdList.push(e.id),this.selectedKnowledgeTagList.push(e)),this.updateSelected()},handleSelectSkill:function(e){this.$logger.info("handleSelectSkill",e);var t=this.selectedSkillTagIdList.findIndex((function(t){return t===e.id})),a=this.selectedSkillTagList.findIndex((function(t){return t.id===e.id}));-1!==t&&-1!==a?(this.selectedSkillTagIdList.splice(t,1),this.selectedSkillTagList.splice(a,1)):(this.selectedSkillTagIdList.push(e.id),this.selectedSkillTagList.push(e)),this.updateSelected()},updateSelected:function(){var e=this;this.$logger.info("updateSelected",this.selectedQuestionList,this.selectedKnowledgeTagIdList,this.selectedSkillTagIdList);var t=[];this.selectedQuestionList.forEach((function(a){var i={id:a.questionId,name:a.questionName,knowledgeTags:[],skillTags:[]};a.knowledgeTagList.forEach((function(t){-1!==e.selectedKnowledgeTagIdList.indexOf(t.info.id)&&(i.knowledgeTags=i.knowledgeTags.concat(t.tagList))})),a.skillTagList.forEach((function(t){-1!==e.selectedSkillTagIdList.indexOf(t.info.id)&&(i.skillTags=i.skillTags.concat(t.tagList))})),t.push(i)})),this.$logger.info("updateSelected data",t),this.$emit("update-selected",{questionList:t})}}}),r=n,o=(a("e76a"),a("0c7c")),l=Object(o["a"])(r,i,s,!1,null,"5235376e",null);t["a"]=l.exports},1036:function(e,t,a){},1054:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19"},children:[{tag:"g",attrsMap:{transform:"translate(0.5 0.5)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:rgba(228,228,228,0.2);stroke:#888996;",d:"M9,0A9,9,0,1,1,0,9,9,9,0,0,1,9,0Z"}},{tag:"path",attrsMap:{class:"b",style:"fill:#888996;",d:"M24.47,24.8V21.78h3.016a.5.5,0,0,0,0-1.005H24.47V17.759a.5.5,0,0,0-1.005,0v3.016H20.449a.5.5,0,0,0,0,1.005h3.016V24.8a.5.5,0,0,0,1.005.044q0-.022,0-.044Z",transform:"translate(-14.966 -12.299)"}}]}]})}},1077:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1649489113509",class:"icon",viewBox:"0 0 1049 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2299","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"204.8828125",height:"200"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M498.572908 914.311043 136.915348 914.311043c-13.711277 0-26.391441-4.56833-35.716719-12.868783-4.677728-4.162172-12.519211-13.064946-12.519211-25.906064L88.679418 233.106795c0-12.833574 7.841482-21.737605 12.519211-25.897262 9.326535-8.302968 22.005442-12.87004 35.716719-12.87004l205.567298 0L342.482646 105.661332 124.340809 105.661332c-32.390754 0-63.044964 11.416424-86.321692 32.130461C13.501282 159.622449 0 189.006631 0 220.532257l0 667.578478c0 31.534428 13.501282 60.917352 38.019117 82.741721 23.276728 20.720325 53.930938 32.129203 86.314147 32.129203l434.183726 0C534.790094 980.983761 514.506106 942.74459 498.572908 914.311043L498.572908 914.311043zM498.572908 914.311043","p-id":"2300",fill:"#2c2c2c"}},{tag:"path",attrsMap:{d:"M897.337931 207.209533c4.677728 4.160915 12.520468 13.063688 12.520468 25.897262l0 241.393416c27.487941 10.736141 65.641606 25.273565 88.678161 42.964683L998.536559 220.538544c0-31.525626-13.508827-60.914837-38.026662-82.739206-23.269184-20.721582-53.923394-32.130461-86.314147-32.130461L646.926056 105.668877l0 88.670616 214.696413 0C875.333746 194.339493 888.013911 198.907823 897.337931 207.209533L897.337931 207.209533zM897.337931 207.209533","p-id":"2301",fill:"#2c2c2c"}},{tag:"path",attrsMap:{d:"M789.258515 359.675813l-64.738754-64.733724L540.434804 479.001896 540.434804 34.339807C540.434804 15.384948 525.056143 0 506.100027 0l-22.89069 0c-18.954859 0-34.33855 15.384948-34.33855 34.339807l0 425.156465L284.705157 295.329384l-67.003429 67.004686 278.62411 278.61908 0 0","p-id":"2302",fill:"#2c2c2c"}},{tag:"path",attrsMap:{d:"M803.458941 533.592998c-135.430295 0-245.203501 109.750572-245.203501 245.202244 0 135.416463 109.773206 245.204759 245.203501 245.204759 135.415205 0 245.203501-109.788296 245.203501-245.204759C1048.662442 643.34357 938.874147 533.592998 803.458941 533.592998L803.458941 533.592998 803.458941 533.592998zM956.254674 718.593381 784.663778 884.059218c-2.294853 2.294853-4.851257 4.069121-7.603823 5.407052-10.77135 7.664181-25.859538 6.703486-35.518042-2.953759l-73.693083-73.711945c-10.775122-10.775122-10.775122-28.237384 0-38.993644 10.775122-10.816618 28.236126-10.816618 39.009991 0l55.314138 55.295276 155.069209-149.501203c10.75626-10.795241 28.234869-10.795241 39.011248 0C967.024766 690.355997 967.024766 707.834606 956.254674 718.593381L956.254674 718.593381 956.254674 718.593381zM956.254674 718.593381","p-id":"2303",fill:"#2c2c2c"}}]})}},1138:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"rubric",on:{click:e.handleUpdateHeader}},[i("table",{staticClass:"rubric-table"},[i("thead",[e.mode===this.tableMode.Edit?i("draggable",{staticClass:"table-header",attrs:{tag:"tr",disabled:e.disabledDraggable},on:{end:e.handleDragEnd},model:{value:e.headers,callback:function(t){e.headers=t},expression:"headers"}},e._l(e.headers,(function(t,s){return t.visible?i("th",{key:t.type,class:{"header-item":!0,"preview-mode":e.mode===e.tableMode.Preview,"min-header-width":-1!==[e.headerType.AchievementLevel].indexOf(t.type),"criteria-header-width":-1!==[e.headerType.Criteria].indexOf(t.type),"medium-header-width":-1!==[e.headerType.Description].indexOf(t.type)&&e.formType!==e.tableType.Rubric},attrs:{"data-header":JSON.stringify(t),"data-header-type":t.type,"data-header-mode":e.mode}},[i("div",{staticClass:"label-text",on:{click:function(a){return a.stopPropagation(),e.handleEditHeader(t)}}},[i("span",{staticClass:"header-label"},[e._v(e._s(t.label))])]),t.editing?[i("div",{staticClass:"label-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"header.label"}],staticClass:"header-input-item",domProps:{value:t.label},on:{click:function(e){e.stopPropagation()},blur:e.handleUpdateHeader,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleUpdateHeader.apply(null,arguments)},input:function(a){a.target.composing||e.$set(t,"label",a.target.value)}}})])]:e._e(),[i("div",{staticClass:"add-header-item"},[i("a-tooltip",{attrs:{title:"Add new level"}},[i("a-icon",{attrs:{type:"plus-circle"},on:{click:function(t){return e.handleAddNewHeader(s)}}})],1)],1)],t.type.startsWith(e.headerType.UserDefine)?i("div",{staticClass:"remove-header"},[i("a-popconfirm",{staticClass:"rubric-delete-popconfirm",attrs:{title:"Remove Header ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleRemoveHeader(t)}}},[i("template",{slot:"icon"},[i("div",{staticClass:"rubric-big-delete"},[i("img",{staticClass:"big-delete-icon",attrs:{src:a("dfe9")}})])]),i("img",{staticClass:"link-icon",attrs:{src:a("4165")}})],2)],1):e._e()],2):e._e()})),0):e._e(),e.mode!==this.tableMode.Edit?i("tr",{staticClass:"table-header"},e._l(e.headers,(function(t){return t.visible?i("th",{key:t.type,class:{"header-item":!0,"preview-mode":e.mode===e.tableMode.Preview},attrs:{"data-header":JSON.stringify(t),"data-header-type":t.type,"data-header-mode":e.mode}},[i("div",{staticClass:"label-text"},[i("span",{staticClass:"header-label"},[e._v(e._s(t.label))])])]):e._e()})),0):e._e()],1),i("tbody",{staticClass:"table-body"},e._l(e.list,(function(t,s){return i("tr",{directives:[{name:"show",rawName:"v-show",value:!(t.hasOwnProperty("isSelectedIBLine")&&t.isSelectedIBLine&&e.$store.getters.hiddenIbCurriculumId),expression:"!(item.hasOwnProperty('isSelectedIBLine') && item.isSelectedIBLine && $store.getters.hiddenIbCurriculumId)"}],key:s,staticClass:"body-line",attrs:{"data-row-id":t.rowId}},[e._l(e.headers,(function(n,r){return n.visible?i("td",{key:s+"-"+n.type,class:{"body-item":!0,"big-body-item":e.formType===e.tableType.CenturySkills&&n.type===e.headerType.Description},attrs:{"data-index":r,"data-row-id":t.rowId,"data-header-type":n.type},on:{click:function(a){return e.handleClickBodyItem(t,n)}}},[t.hasOwnProperty(n.type)?[n.type===e.headerType.Criteria?[e.formType===e.tableType.CenturySkills?[t[e.headerType.Criteria]&&t[e.headerType.Criteria].name?[i("div",{staticClass:"data-item criteria-data",on:{dblclick:function(a){return a.stopPropagation(),e.handleAddCriteria(n,t,a)}}},[i("div",{staticClass:"criteria-name"},[e._v(" "+e._s(t[e.headerType.Criteria].userInputText?t[e.headerType.Criteria].userInputText:t[e.headerType.Criteria].name)+" ")]),e.mode===e.tableMode.Edit?i("span",{staticClass:"edit-description",on:{click:function(a){return a.stopPropagation(),e.handleClickEnterCriteria(n,t)}}},[e._v(" Please enter explanation for students to understand ")]):e._e()])]:[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.tableMode.Edit,expression:"mode === tableMode.Edit"}],staticClass:"data-item add-criteria",on:{click:function(a){return a.stopPropagation(),e.handleAddCriteria(n,t,a)}}},[i("add-opacity-icon"),i("div",{staticClass:"add-text"},[e._v("Click to choose the objectives")])],1)]]:e._e(),e.formType===e.tableType.Rubric?[t[e.headerType.Criteria].isSelfInput||t[e.headerType.Criteria].name?t[e.headerType.Criteria].isSelfInput&&e.mode===e.tableMode.Edit?[i("div",{staticClass:"add-criteria-input",on:{click:function(e){e.stopPropagation()}}},[i("a-textarea",{staticClass:"my-text-input",staticStyle:{height:"100%"},attrs:{placeholder:"Enter"},model:{value:t[e.headerType.Criteria].name,callback:function(a){e.$set(t[e.headerType.Criteria],"name",a)},expression:"item[headerType.Criteria].name"}})],1)]:[i("div",{staticClass:"data-item criteria-data",on:{dblclick:function(a){return e.handleAddCriteria(n,t,a)}}},[i("div",{staticClass:"criteria-name"},[e._v(" "+e._s(t[e.headerType.Criteria].name)+" ")])])]:[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.tableMode.Edit,expression:"mode === tableMode.Edit"}],staticClass:"data-item add-criteria-option",attrs:{"data-is-self-input":t[e.headerType.Criteria].isSelfInput},on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"create-option-select",on:{click:function(a){return e.handleAddCriteria(n,t,a)}}},[i("add-opacity-icon"),i("div",{staticClass:"add-text"},[e._v("Click to choose the objectives")])],1),i("div",{staticClass:"create-option-input",on:{click:function(a){return e.handleInputIBCriteria(n,t,a)}}},[i("a-icon",{style:{fontSize:"18px"},attrs:{type:"edit"}}),i("div",{staticClass:"add-text"},[e._v("Enter customized content")])],1)])]]:e._e(),e.formType===e.tableType.Rubric_2?[i("div",{staticClass:"data-item criteria-data"},[i("div",{staticClass:"criteria-name"},[e._v(" "+e._s(t[e.headerType.Criteria].name)+" ")])])]:e._e()]:e._e(),n.type===e.headerType.Description?[e.formType===e.tableType.Rubric_2?[t[e.headerType.Description]&&t[e.headerType.Description].name?[i("div",{staticClass:"data-item criteria-data",on:{dblclick:function(a){return e.handleAddCriteria(n,t,a)}}},[i("div",{staticClass:"criteria-name"},[e._v(" "+e._s(t[e.headerType.Description].name)+" ")])])]:[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.tableMode.Edit,expression:"mode === tableMode.Edit"}],staticClass:"data-item add-criteria",on:{click:function(a){return e.handleAddCriteria(n,t,a)}}},[i("add-opacity-icon"),i("div",{staticClass:"add-text"},[e._v("Click to choose the objectives")])],1)]]:e._e(),e.formType===e.tableType.CenturySkills?[t[e.headerType.Description]&&t[e.headerType.Description].name?[i("div",{staticClass:"data-item criteria-data"},[i("div",{staticClass:"criteria-name my-century-criteria",on:{dblclick:function(a){return e.handleAddCriteria(n,t,a)}}},[i("div",{staticClass:"criteria-left-name-list"},e._l(t[e.headerType.Description].parentNameList,(function(t,a){return i("div",{key:a,class:{"criteria-left-name-item":!0,"first-left-name":0===a,"no-first-name":a>0}},[e._v(" "+e._s(t)+" ")])})),0),i("div",{staticClass:"criteria-right-description"},[i("div",{staticClass:"description-name"},[e._v(" "+e._s(t[e.headerType.Description].userInputText?t[e.headerType.Description].userInputText:t[e.headerType.Description].name)+" ")]),e.mode===e.tableMode.Edit&&e.$store.getters.bindCurriculum!==e.AllCurriculums.AU&&e.$store.getters.bindCurriculum!==e.AllCurriculums.NZ?i("span",{staticClass:"edit-description",on:{click:function(a){return a.stopPropagation(),e.handleClickEnterCriteriaDescription(n,t)}}},[e._v(" Please enter explanation for students to understand ")]):e._e()])])])]:[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.tableMode.Edit,expression:"mode === tableMode.Edit"}],staticClass:"data-item add-criteria",on:{click:function(a){return e.handleAddCriteria(n,t,a)}}},[i("add-opacity-icon"),i("div",{staticClass:"add-text"},[e._v("Click to choose the objectives")])],1)]]:e._e()]:e._e()]:e._e(),e.mode===e.tableMode.Edit?[n.type===e.headerType.Comment?[i("div",{staticClass:"comment-indicator-input"},[i("a-textarea",{staticClass:"my-text-input",staticStyle:{height:"100%"},attrs:{placeholder:""},on:{blur:function(a){return e.handleUpdateField(n,t)}},model:{value:t[e.headerType.Comment].name,callback:function(a){e.$set(t[e.headerType.Comment],"name",a)},expression:"item[headerType.Comment].name"}})],1)]:e._e(),n.type.startsWith(e.headerType.UserDefine)?[i("div",{staticClass:"user-define-indicator-input"},[i("a-textarea",{staticClass:"my-text-input",staticStyle:{height:"100%"},attrs:{placeholder:"Enter"},on:{blur:function(a){return e.handleUpdateField(n,t)}},model:{value:t[n.type].name,callback:function(a){e.$set(t[n.type],"name",a)},expression:"item[header.type].name"}})],1)]:e._e()]:e._e(),n.type===e.headerType.AchievementLevel?[i("div",{staticClass:"sub-level-data",attrs:{data:JSON.stringify(e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId])}},[i("div",{staticClass:"sub-level-list",attrs:{"data-mode":e.mode},on:{click:function(e){e.stopPropagation()}}},[e.mode===e.tableMode.Edit||e.mode===e.tableMode.TeacherEvaluate?e._l(t[e.headerType.AchievementLevel].subLevelDescription,(function(s,r){return i("div",{key:r,staticClass:"sub-level-item"},[e.mode===e.tableMode.Edit?[i("div",{staticClass:"start-index",on:{click:function(t){return t.stopPropagation(),e.handleSwitchModeTips.apply(null,arguments)}}},[i("div",{staticClass:"select-block"},[i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}})],1),e._v(" "+e._s(s.startIndex)+" ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:null!==s.endIndex,expression:"subLevel.endIndex !== null"}],staticClass:"end-index",on:{click:function(t){return t.stopPropagation(),e.handleSwitchModeTips.apply(null,arguments)}}},[i("div",{staticClass:"select-block"},[i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}})],1),e._v(" "+e._s(s.endIndex)+" ")])]:e._e(),e.mode===e.tableMode.TeacherEvaluate?[i("div",{staticClass:"start-index"},[i("div",{staticClass:"select-block",on:{click:function(a){return a.stopPropagation(),e.handleClickSubLevelItem(t,n,s.startIndex)}}},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].data===s.startIndex?i("img",{attrs:{src:a("7aa6")}}):i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}})],1),e._v(" "+e._s(s.startIndex)+" ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:null!==s.endIndex,expression:"subLevel.endIndex !== null"}],staticClass:"end-index",on:{click:function(a){return a.stopPropagation(),e.handleClickSubLevelItem(t,n,s.endIndex)}}},[i("div",{staticClass:"select-block"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].data===s.endIndex?i("img",{attrs:{src:a("7aa6")}}):i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}})],1),e._v(" "+e._s(s.endIndex)+" ")])]:e._e()],2)})):e._e(),e.mode===e.tableMode.StudentEvaluate?[e._l(t[e.headerType.AchievementLevel].subLevelDescription,(function(s,n){return e.formBodyData&&e.formBodyData[t.rowId]&&null!==e.formBodyData[t.rowId].data?i("div",{key:n,staticClass:"sub-level-item"},[i("div",{staticClass:"start-index"},[i("div",{staticClass:"select-block"},[e.formBodyData[t.rowId].data===s.startIndex?i("img",{attrs:{src:a("7aa6")}}):e._e()]),e.formBodyData[t.rowId].data===s.startIndex?[e._v(" "+e._s(s.startIndex)+" ")]:e._e()],2),i("div",{directives:[{name:"show",rawName:"v-show",value:null!==s.endIndex,expression:"subLevel.endIndex !== null"}],staticClass:"end-index"},[i("div",{staticClass:"select-block"},[e.formBodyData[t.rowId].data===s.endIndex?i("img",{attrs:{src:a("7aa6")}}):e._e()]),e.formBodyData[t.rowId].data===s.endIndex?[e._v(e._s(s.endIndex))]:e._e()],2)]):e._e()})),e.formBodyData&&e.formBodyData[t.rowId]&&null===e.formBodyData[t.rowId].data?i("div",{staticClass:"no-level-data"},[e._v(" The teacher has not graded you yet. ")]):e._e()]:e._e()],2)]),n.type!==e.headerType.AchievementLevel&&n.type!==e.headerType.LevelDescriptor&&n.type!==e.headerType.Indicators?i("div",{staticClass:"selected-icon"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].teacherEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("teacher-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].studentEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("student-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].peerEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.PeerEvaluate)?i("peer-icon"):e._e()],1):e._e()]:e._e(),n.type===e.headerType.LevelDescriptor?[i("div",{staticClass:"sub-level-data",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"sub-level-desc"},[t[e.headerType.AchievementLevel].isSelfInput&&e.mode===e.tableMode.Edit?e._e():e._l(t[e.headerType.AchievementLevel].subLevelDescription,(function(t,a){return i("div",{key:a,staticClass:"sub-level-desc-item"},[i("a-tooltip",{attrs:{placement:"topLeft",mouseEnterDelay:1}},[i("template",{slot:"title"},[e._v(" "+e._s(t.description)+" ")]),e._v(" "+e._s(t.description)+" "),t.description&&e.mode===e.tableMode.TeacherEvaluate?i("a-tooltip",{attrs:{placement:"top",title:"Add to comment"}},[i("a-icon",{staticClass:"my-copy-item-icon",style:{color:"#999"},attrs:{type:"copy"},on:{click:function(a){return e.handleUseClicked(t.description)}}})],1):e._e()],2)],1)})),t[e.headerType.AchievementLevel].isSelfInput&&e.mode===e.tableMode.Edit?e._l(t[e.headerType.AchievementLevel].subLevelDescription,(function(t,a){return i("div",{key:a,staticClass:"sub-level-desc-input-item"},[i("a-input",{staticClass:"my-desc-input",model:{value:t.description,callback:function(a){e.$set(t,"description",a)},expression:"subLevel.description"}})],1)})):e._e()],2)]),i("div",{staticClass:"selected-icon"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].teacherEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("teacher-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].studentEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("student-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].peerEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.PeerEvaluate)?i("peer-icon"):e._e()],1)]:e._e(),n.type===e.headerType.Indicators&&e.mode===e.tableMode.Edit?[i("div",{staticClass:"sub-level-data",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"sub-level-indicator"},e._l(t[e.headerType.Indicators].subLevelIndicators,(function(t,a){return i("div",{key:a,staticClass:"sub-level-indicator-item"},[i("a-input",{staticClass:"my-indicator-input",model:{value:t.indicator,callback:function(a){e.$set(t,"indicator",a)},expression:"subIndicator.indicator"}})],1)})),0)]),i("div",{staticClass:"selected-icon"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].teacherEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("teacher-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].studentEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("student-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].peerEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.PeerEvaluate)?i("peer-icon"):e._e()],1)]:e._e(),e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate||e.mode===e.tableMode.PeerEvaluate?[n.type===e.headerType.Indicators?[i("div",{staticClass:"sub-level-data",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"sub-level-indicator"},e._l(t[e.headerType.Indicators].subLevelIndicators,(function(t,a){return i("div",{key:a,staticClass:"sub-level-indicator-item"},[i("div",{staticClass:"my-indicator-text"},[e._v(" "+e._s(t&&t.indicator?t.indicator:"")+" "),t&&t.indicator&&e.mode===e.tableMode.TeacherEvaluate?i("a-tooltip",{attrs:{placement:"top",title:"Add to comment"}},[i("a-icon",{staticClass:"my-copy-item-icon",style:{color:"#999"},attrs:{type:"copy"},on:{click:function(a){return e.handleUseClicked(t.indicator)}}})],1):e._e()],1)])})),0)]),i("div",{staticClass:"selected-icon"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].teacherEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("teacher-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].studentEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("student-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].peerEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.PeerEvaluate)?i("peer-icon"):e._e()],1)]:e._e(),n.type===e.headerType.Comment?[i("div",{staticClass:"comment-indicator-input"},[i("a-textarea",{staticClass:"my-text-input",staticStyle:{height:"100%"},attrs:{placeholder:""},on:{blur:function(a){return e.handleUpdateField(n,t)}},model:{value:t[e.headerType.Comment].name,callback:function(a){e.$set(t[e.headerType.Comment],"name",a)},expression:"item[headerType.Comment].name"}})],1)]:e._e(),n.type.startsWith(e.headerType.UserDefine)?[i("div",{staticClass:"indicator-data"},[e._v(" "+e._s(t[n.type].name)+" ")]),i("div",{staticClass:"selected-icon"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].teacherEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("teacher-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].studentEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("student-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].peerEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.PeerEvaluate)?i("peer-icon"):e._e()],1)]:e._e()]:e._e(),n.type!==e.headerType.Evidence||e.mode!==e.tableMode.TeacherEvaluate&&e.mode!==e.tableMode.StudentEvaluate&&e.mode!==e.tableMode.PeerEvaluate?e._e():[i("div",{staticClass:"evidence-data"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].evidenceIdList?[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate,expression:"mode === tableMode.TeacherEvaluate || mode === tableMode.StudentEvaluate"}],class:{"evidence-info":!0,"exist-evidence":t[e.headerType.Evidence].num},on:{click:function(a){return e.handleAddEvidenceLine(s,t,a)}}},[i("add-icon",{directives:[{name:"show",rawName:"v-show",value:!e.formBodyData[t.rowId].evidenceIdList.length,expression:"!formBodyData[item.rowId].evidenceIdList.length"}]}),i("add-small-green-icon",{directives:[{name:"show",rawName:"v-show",value:e.formBodyData[t.rowId].evidenceIdList.length,expression:"formBodyData[item.rowId].evidenceIdList.length"}]}),i("div",{staticClass:"evidence-num"},[e._v("( "+e._s(e.formBodyData[t.rowId].evidenceIdList.length?e.formBodyData[t.rowId].evidenceIdList.length:0)+" ) ")])],1)]:e._e()],2)]],2):e._e()})),e.mode===e.tableMode.Edit?[i("div",{staticClass:"add-more-header"},[i("a-popconfirm",{staticClass:"rubric-delete-popconfirm",attrs:{title:"Delete this line ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleDeleteLine(t)}}},[i("template",{slot:"icon"},[i("div",{staticClass:"rubric-big-delete"},[i("img",{staticClass:"big-delete-icon",attrs:{src:a("dfe9")}})])]),i("img",{staticClass:"delete-row",attrs:{src:a("4165")}})],2)],1)]:e._e()],2)})),0)]),e.mode===e.tableMode.Edit?i("div",{staticClass:"add-new-line",on:{click:e.handleAddNewLine}},[i("div",{staticClass:"add-new-line-item"},[i("add-green-icon")],1)]):e._e(),i("a-modal",{attrs:{destroyOnClose:"",width:"1200px","dialog-style":{top:"20px"},footer:null},on:{ok:e.handleEnsureSelectCriteria},model:{value:e.selectCurriculumVisible,callback:function(t){e.selectCurriculumVisible=t},expression:"selectCurriculumVisible"}},[i("div",{staticClass:"associate-library"},[i("new-browser",{attrs:{"select-mode":e.selectModel.evaluationMode,"show-menu":e.showMenuList,"default-active-menu":e.defaultActiveMenu,"question-index":"evaluation_"},on:{"select-all-21-century":e.handleSelectAll21CenturyListData,"select-curriculum":e.handleSelectCurriculumListData,"select-subject-specific-skill":e.handleSelectSubjectSpecificSkillListData,"select-century-skill":e.handleSelect21CenturySkillListData,"select-assessmentType":e.handleSelectAssessmentType,"select-idu":e.handleSelectIdu,"ensure-select":e.handleEnsureSelectCriteria}})],1)]),i("a-modal",{attrs:{footer:null,maskClosable:!1,closable:!1,width:"700px",destroyOnClose:""},model:{value:e.inputDescriptionVisible,callback:function(t){e.inputDescriptionVisible=t},expression:"inputDescriptionVisible"}},[i("modal-header",{on:{close:function(t){e.inputDescriptionVisible=!1}}}),i("div",{staticClass:"rubric-modal"},[i("div",{staticClass:"rubric-header"},[i("div",{staticClass:"my-modal-header"},[e._v(" The specific description you entered will be shown to students instead of the curriculum description ")])]),i("div",{staticClass:"description-text"},[e.currentEnterDescriptionLine?i("div",{staticClass:"old-description"},[e._v(" "+e._s(e.currentEnterDescriptionLine[e.headerType.Description].name)+" ")]):e._e(),e.currentEnterCriteriaLine?i("div",{staticClass:"old-description"},[e._v(" "+e._s(e.currentEnterCriteriaLine[e.headerType.Criteria].name)+" ")]):e._e()]),i("div",{staticClass:"description-input"},[i("a-textarea",{attrs:{placeholder:"Enter task specific description",autoSize:{minRows:3,maxRows:6}},on:{blur:e.handleUpdateDescription},model:{value:e.inputDescription,callback:function(t){e.inputDescription=t},expression:"inputDescription"}})],1),i("div",{staticClass:"select-rubric-action"},[i("a-button",{staticClass:"my-rubric-btn",staticStyle:{width:"80px","background-color":"#F5F5F5","border-color":"#F5F5F5","box-shadow":"none",color:"#000000"},attrs:{shape:"round",type:"primary"},on:{click:e.handleCancelDescription}},[e._v("Cancel ")]),i("a-button",{staticClass:"my-rubric-btn",staticStyle:{width:"80px"},attrs:{shape:"round",type:"primary"},on:{click:e.handleEnsureDescription}},[e._v("Confirm ")])],1)])],1)],1)},s=[],n=(a("a9e3"),a("159b"),a("a434"),a("c740"),a("99af"),a("b0c0"),a("4de4"),a("2ca0"),a("a4d3"),a("e01a"),a("ac1f"),a("1276"),a("a02e")),r=a("489c"),o=a("f93e"),l=a("b76a"),c=a.n(l),d=a("3264"),u=a("ab44"),p=a("7849"),h=a("90e8"),m={Criteria:"criteria",AchievementLevel:"achievementLevel",LevelDescriptor:"levelDescriptor",Description:"description",Indicators:"indicators",Comment:"comment",Evidence:"evidence",Novice:"novice",Learner:"learner",Practitoner:"practitoner",Expert:"expert",UserDefine:"user_define_"},g=m,f=a("60f8"),v=a.n(f),y=a("9c2c"),b=a.n(y),w=a("d6ea"),C=a.n(w),k=a("1054"),T=a.n(k),A=a("da06"),L=a.n(A),I=a("60427"),S=a("5d88"),x=a.n(S),M=a("519d"),E=a.n(M),_=a("a615f"),O=a.n(_),D={name:"EvaluationTable",components:{AddIcon:v.a,AddSmallGreenIcon:b.a,AddOpacityIcon:T.a,AddGreenIcon:C.a,QuestionIcon:L.a,ModalHeader:I["a"],draggable:c.a,NewBrowser:d["a"],StudentIcon:E.a,PeerIcon:x.a,TeacherIcon:O.a},props:{initRawData:{type:Array,default:function(){return[]}},initRawHeaders:{type:Array,default:function(){return[]}},formId:{type:String,required:!0},mode:{type:String,required:!0},formType:{type:Number,required:!0},formBodyData:{type:Object,default:function(){return null}},taskLearnOuts:{type:Array,default:function(){return[]}},taskSelfOuts:{type:Array,default:function(){return[]}}},data:function(){return{selectModel:r["a"],selfHeaderAddIndex:1,headers:[],list:[],defaultActiveMenu:u["a"].specificSkills,showMenuList:[u["a"].centurySkills],selectCurriculumVisible:!1,selectKnowledgeTagVisible:!1,selectedKnowledgeTag:[],tagColorList:["pink","orange","green","cyan","blue","red","purple"],currentSelectHeader:null,currentSelectLine:null,tableType:p["a"],tableMode:h["a"],headerType:g,selectedAll21CenturyList:[],selectedCurriculumList:[],selected21CenturySkillList:[],selectedSubjectSpecificSkillList:[],selectedAssessmentList:[],selectedIduList:[],inputDescriptionVisible:!1,inputDescription:null,currentEnterDescriptionLine:null,currentEnterCriteriaLine:null,disabledDraggable:!1,selected21CenturyItem:null,has21CenturySkillNoDescriptionItem:!1,AllCurriculums:o["b"]}},watch:{list:function(e){var t=this,a=!1;this.formType===this.tableType.CenturySkills&&e.forEach((function(e){e.hasOwnProperty(t.headerType.Description)&&!1===e[t.headerType.Description].isDescription&&(t.$logger.info("!!! has21CenturySkillNoDescriptionItem",e),a=!0)})),this.has21CenturySkillNoDescriptionItem=a,this.mode===this.tableMode.TeacherEvaluate?this.headers.forEach((function(e){e.type===t.headerType.Evidence&&(e.visible=!0)})):this.headers.forEach((function(e){e.type===t.headerType.Evidence&&(e.visible=!1)}))}},created:function(){var e=this;if(this.$logger.info("["+this.mode+"] EvaluationTable created formType "+this.formType,"initRawHeaders",this.initRawHeaders,"initRawData",this.initRawData," formBodyData",this.formBodyData),-1===[h["a"].Edit,h["a"].Preview,h["a"].TeacherEvaluate,h["a"].StudentEvaluate,h["a"].PeerEvaluate].indexOf(this.mode)&&this.$confirm({title:"Parameter error",content:"Please make sure your link is correct, the current evaluation mode is "+this.mode+".",centered:!0,onOk:function(){e.$emit("error-mode")},onCancel:function(){e.$emit("error-mode")}}),this.mode===h["a"].TeacherEvaluate&&"teacher"!==this.$store.getters.currentRole&&this.$confirm({title:"Access denied",content:"Only teachers have access to teacher mode",centered:!0,onOk:function(){e.$emit("error-mode")},onCancel:function(){e.$emit("error-mode")}}),this.initRawHeaders.length)this.headers=this.initRawHeaders;else if(this.formType===p["a"].Rubric)this.headers=[{label:"Criteria",previewLabel:"Criteria",type:g.Criteria,editable:!1,editing:!1,required:!0,visible:!0},{label:"Achievement Level",previewLabel:"Achievement Level",type:g.AchievementLevel,editable:!1,editing:!1,required:!0,visible:!0},{label:"Level descriptor",previewLabel:"Level descriptor",type:g.LevelDescriptor,editable:!1,editing:!1,required:!0,visible:!0},{label:"Task specific indicators",previewLabel:"Task specific indicators",type:g.Indicators,editable:!1,editing:!1,required:!0,visible:!0},{label:"Evidence",previewLabel:"Evidence",type:g.Evidence,editable:!1,editing:!1,required:!0,visible:!0}];else if(this.formType===p["a"].Rubric_2)this.headers=[{label:"Description",previewLabel:"Description",type:g.Description,editable:!1,editing:!1,required:!0,visible:!0},{label:"Unnamed level",previewLabel:"Unnamed level",type:g.UserDefine,editable:!0,editing:!1,required:!1,visible:!0},{label:"Evidence",previewLabel:"Evidence",type:g.Evidence,editable:!1,editing:!1,required:!0,visible:!0}];else if(this.formType===p["a"].CenturySkills){var t=parseInt(this.$store.getters.bindCurriculum);this.headers=1===t||2===t?[{label:"Criteria",previewLabel:"Criteria",type:g.Criteria,editable:!1,editing:!1,required:!0,visible:!0},{label:"21st Century Skills",previewLabel:"21st Century Skills",type:g.Description,editable:!1,editing:!1,required:!0,visible:!0},{label:"Novice",previewLabel:"Novice",type:g.UserDefine+"Novice",editable:!0,editing:!1,required:!1,visible:!0},{label:"Learner",previewLabel:"Learner",type:g.UserDefine+"Learner",editable:!0,editing:!1,required:!1,visible:!0},{label:"Practitoner",previewLabel:"Practitoner",type:g.UserDefine+"Practitoner",editable:!0,editing:!1,required:!1,visible:!0},{label:"Expert",previewLabel:"Expert",type:g.UserDefine+"Expert",editable:!0,editing:!1,required:!1,visible:!0},{label:"Comment",previewLabel:"Comment",type:g.Comment,editable:!1,editing:!1,required:!0,visible:!0},{label:"Evidence",previewLabel:"Evidence",type:g.Evidence,editable:!1,editing:!1,required:!0,visible:!0}]:[{label:"21st Century Skills",previewLabel:"21st Century Skills",type:g.Description,editable:!1,editing:!1,required:!0,visible:!0},{label:"Novice",previewLabel:"Novice",type:g.UserDefine+"Novice",editable:!0,editing:!1,required:!1,visible:!0},{label:"Learner",previewLabel:"Learner",type:g.UserDefine+"Learner",editable:!0,editing:!1,required:!1,visible:!0},{label:"Practitoner",previewLabel:"Practitoner",type:g.UserDefine+"Practitoner",editable:!0,editing:!1,required:!1,visible:!0},{label:"Expert",previewLabel:"Expert",type:g.UserDefine+"Expert",editable:!0,editing:!1,required:!1,visible:!0},{label:"Comment",previewLabel:"Comment",type:g.Comment,editable:!1,editing:!1,required:!0,visible:!0},{label:"Evidence",previewLabel:"Evidence",type:g.Evidence,editable:!1,editing:!1,required:!0,visible:!0}]}this.$logger.info("["+this.mode+"] form headers ",this.headers),this.initRawData.length?this.list=this.initRawData:this.$store.getters.isIBTeacher||!this.taskLearnOuts.length&&!this.taskSelfOuts.length?this.handleAddNewLine():this.handleAddNewLineWithTaskOuts(),n["LibraryEventBus"].$on(n["LibraryEvent"].ContentListSelectClick,this.handleContentListSelectClick),n["LibraryEventBus"].$on(n["LibraryEvent"].CenturySkillsSelect,this.handleCenturySkillsSelect),n["LibraryEventBus"].$on(n["LibraryEvent"].CancelCenturySkillsSelect,this.handleCancelCenturySkillsSelect)},destroyed:function(){n["LibraryEventBus"].$off(n["LibraryEvent"].ContentListSelectClick,this.handleContentListSelectClick),n["LibraryEventBus"].$off(n["LibraryEvent"].CenturySkillsSelect,this.handleCenturySkillsSelect),n["LibraryEventBus"].$off(n["LibraryEvent"].CancelCenturySkillsSelect,this.handleCancelCenturySkillsSelect),this.$logger.info("["+this.mode+"] off NewClickableKnowledgeTag ContentListSelectClick handler")},methods:{handleContentListSelectClick:function(e){"evaluation_"===e.questionIndex&&(this.$logger.info("["+this.mode+"] evaluation handleContentListSelectClick hit",e),n["LibraryEventBus"].$emit(n["LibraryEvent"].ContentListSelectedListUpdate,{id:e.subKnowledgeId}))},handleEditHeader:function(e){this.disabledDraggable=!0,this.$logger.info("disabled Draggable"),this.$logger.info("["+this.mode+"] handleEditHeader",e),e.editable?(this.headers.forEach((function(e){0===e.label.length&&(e.label=e.previewLabel)})),this.headers.forEach((function(t){t===e?(t.editing=!0,t.previewLabel=t.label):t.editing=!1}))):this.$logger.info("["+this.mode+"] current header not editable",e)},handleUpdateHeader:function(){this.headers.forEach((function(e){0===e.label.length&&(e.label=e.previewLabel)})),this.headers.forEach((function(e){e.editing=!1})),this.disabledDraggable=!1},handleAddNewHeader:function(e){this.$logger.info("["+this.mode+"] handleAddNewHeader this.selfHeaderTypeIndex "+this.selfHeaderAddIndex+" hIndex "+e);var t=this.headerType.UserDefine+this.selfHeaderAddIndex,a=[];this.headers.forEach((function(e){return a.push(e.type)}));while(-1!==a.indexOf(t))this.selfHeaderAddIndex++,t=this.headerType.UserDefine+this.selfHeaderAddIndex;var i={label:"Unnamed Level ",previewLabel:"Unnamed Level ",type:t,editable:!0,editing:!1,visible:!0};this.headers.splice(e+1,0,i);var s=JSON.parse(JSON.stringify(this.list));s.forEach((function(e){e[i.type]={name:null}})),this.list=s,this.$logger.info("["+this.mode+"] after update list",this.list),this.selfHeaderAddIndex++},handleRemoveHeader:function(e){this.$logger.info("["+this.mode+"] handleRemoveHeader ",e);var t=this.headers.findIndex((function(t){return t.type===e.type}));-1!==t&&this.headers.splice(t,1);var a=JSON.parse(JSON.stringify(this.list));a.forEach((function(t){delete t[e.type]})),this.list=a,this.$logger.info("["+this.mode+"] after delete column update list",this.list)},handleAddNewLine:function(){this.$logger.info("["+this.mode+"] handleAddNewLine ");var e={},t=this.generateRowId();e.rowId=t,this.headers.forEach((function(a){e[a.type]={name:null,rowId:t}})),this.formType===this.tableType.CenturySkills?(e[this.headerType.Description]={name:null,rowId:t,parentNameList:[],isDescription:!0},e[this.headerType.Evidence]={num:0,rowId:t}):this.formType===this.tableType.Rubric?(e.isSelectedIBLine=!1,e.isSelfInputLine=!1,e[this.headerType.Criteria]={rowId:t,name:null,isSelfInput:!1},e[this.headerType.AchievementLevel]={rowId:t,subLevelDescription:[],isSelfInput:!1},e[this.headerType.Indicators]={rowId:t,subLevelIndicators:[],isSelfInput:!1},e[this.headerType.Evidence]={num:0,rowId:t}):this.formType===this.tableType.Rubric_2&&(e[this.headerType.Evidence]={num:0,rowId:t}),this.$logger.info("["+this.mode+"] init new line ",e),this.list.push(e)},handleAddNewLineWithTaskOuts:function(){var e=this;this.$logger.info("["+this.mode+"] handleAddNewLineWithTaskOuts ",this.taskLearnOuts,this.taskSelfOuts);var t=this.taskLearnOuts.concat(this.taskSelfOuts);t.forEach((function(t){var a={},i=e.generateRowId();a.rowId=i,e.headers.forEach((function(e){a[e.type]={name:null,rowId:i}})),e.formType===e.tableType.CenturySkills?(a[e.headerType.Description]={name:t.name,rowId:i,parentNameList:t.parentNameList,isDescription:!0},a[e.headerType.Evidence]={num:0,rowId:i},e.$logger.info("["+e.mode+"] init new line ",a),e.list.push(a)):e.formType===e.tableType.Rubric_2&&(a[e.headerType.Description].name=t.name,a[e.headerType.Evidence]={num:0,rowId:i},e.$logger.info("["+e.mode+"] init new line ",a),e.list.push(a))}))},handleDragEnd:function(){this.$logger.info("["+this.mode+"] handleDragEnd",this.headers)},handleDeleteLine:function(e){this.$logger.info("["+this.mode+"] handleDeleteLine",e),this.mode===h["a"].Edit&&(this.list=this.list.filter((function(t){return t!==e})))},handleClickBodyItem:function(e,t){this.$logger.info("["+this.mode+"]["+this.mode+"] handleClickBodyItem "+t.label,e,"header",t),(-1!==[g.Indicators,g.AchievementLevel,g.LevelDescriptor,g.UserDefine].indexOf(t.type)||t.type.startsWith(g.UserDefine))&&this.$emit("update-evaluation",{formId:this.formId,evaluationMode:this.mode,rowId:e.rowId,value:t.type,evaluateUserEmail:this.$store.getters.email,evaluateUserName:this.$store.getters.nickname,data:null})},handleClickSubLevelItem:function(e,t,a){this.$logger.info(a+" ["+this.mode+"]["+this.mode+"] handleClickSubLevelItem "+t.label,e,"header",t),(-1!==[g.Indicators,g.AchievementLevel,g.LevelDescriptor,g.UserDefine].indexOf(t.type)||t.type.startsWith(g.UserDefine))&&this.$emit("update-evaluation",{formId:this.formId,evaluationMode:this.mode,rowId:e.rowId,value:t.type,evaluateUserEmail:this.$store.getters.email,evaluateUserName:this.$store.getters.nickname,data:a})},handleSwitchModeTips:function(){this.$message.warn("Please switch to evaluation mode first!")},handleAddCriteria:function(e,t,a){if(a.preventDefault(),a.stopPropagation(),this.$logger.info("["+this.mode+"] handleAddCriteria "+e.type,e,t),this.mode===h["a"].Edit){if(this.formType===this.tableType.Rubric_2)this.showMenuList=[u["a"].learningOutcomes,u["a"].specificSkills,u["a"].assessmentType],this.defaultActiveMenu=u["a"].learningOutcomes;else if(this.formType===this.tableType.Rubric)this.showMenuList=[u["a"].specificSkills,u["a"].idu],this.defaultActiveMenu=u["a"].specificSkills;else if(this.formType===this.tableType.CenturySkills){var i=parseInt(this.$store.getters.bindCurriculum);this.$logger.info("CenturySkills header.type "+e.type,e.type===this.headerType.Description,e.type===this.headerType.Criteria),e.type===this.headerType.Description?1===i||2===i?(this.showMenuList=[u["a"].all21Century],this.defaultActiveMenu=u["a"].all21Century):(this.showMenuList=[u["a"].centurySkills],this.defaultActiveMenu=u["a"].centurySkills):e.type===this.headerType.Criteria&&(1===i?(this.showMenuList=[u["a"].AUGeneralCapabilities],this.defaultActiveMenu=u["a"].AUGeneralCapabilities):2===i&&(this.showMenuList=[u["a"].NZKeyCompetencies],this.defaultActiveMenu=u["a"].NZKeyCompetencies))}this.selectCurriculumVisible=!0,this.currentSelectHeader=e,this.currentSelectLine=t}},handleInputIBCriteria:function(e,t,a){a.preventDefault(),a.stopPropagation(),this.$logger.info("handleInputIBCriteria "),this.currentSelectHeader=e,this.currentSelectLine=t,this.currentSelectLine.isSelectedIBLine=!1,this.currentSelectLine.isSelfInputLine=!0,this.currentSelectLine[this.headerType.Criteria]={name:"",rowId:this.currentSelectLine.rowId,isSelfInput:!0};for(var i=[],s=0;s<8;s++)0!==s&&s%2!==1||i.push({startIndex:s,endIndex:0===s?null:s+1,description:""});this.currentSelectLine[this.headerType.AchievementLevel]={name:"",rowId:this.currentSelectLine.rowId,subLevelDescription:i,isSelfInput:!0};for(var n=[],r=0;r<5;r++)n.push({indicator:""});this.currentSelectLine[this.headerType.Indicators]={rowId:this.currentSelectLine.rowId,subLevelIndicators:n,isSelfInput:!0},this.$logger.info("self input currentSelectLine with criteria data ",this.currentSelectLine)},handleEnsureSelectCriteria:function(){var e=this;this.$logger.info("["+this.mode+"] handleEnsureSelectCriteria","this.list",this.list),this.selectCurriculumVisible=!1;var t=[];if(this.selectedAll21CenturyList.forEach((function(e){t.push(e)})),this.selectedCurriculumList.forEach((function(e){t.push(e)})),this.selected21CenturySkillList.forEach((function(e){t.push(e)})),this.selectedSubjectSpecificSkillList.forEach((function(e){t.push(e)})),this.selectedAssessmentList.forEach((function(e){t.push(e)})),this.selectedIduList.forEach((function(e){t.push(e)})),this.selected21CenturyItem){var a=[],i=this.selected21CenturyItemParent,s=3;while(i&&s-- >0)a.push(i.name),i=i.parent;var n={name:this.selected21CenturyItem.name,parentNameList:a,isDescription:!1};t.push(n),this.$logger.info("selectedList add selected21CenturyItem",n)}if(this.$logger.info("formType "+this.formType+" selectedList",t),this.formType===this.tableType.CenturySkills){if(t.length>=1){var r=Object.assign(this.currentSelectHeader);r.type===this.headerType.Description?(this.currentSelectLine[this.headerType.Description]={name:t[0].name,rowId:this.currentSelectLine.rowId,parentNameList:t[0].parentNameList,isDescription:t[0].isDescription},this.$logger.info("["+this.mode+"] update currentSelectLine with Description 1 data ",this.currentSelectLine),t.length>1&&t.forEach((function(t,a){if(a>0){var i={},s=e.generateRowId();i.rowId=s,e.headers.forEach((function(e){i[e.type]={name:null,rowId:s}})),i[e.headerType.Description]={name:t.name,rowId:s,parentNameList:t.parentNameList,isDescription:t.isDescription},i[e.headerType.Evidence]={num:0,rowId:s},i.rowId=s,e.$logger.info("["+e.mode+"] CenturySkills add new line with Description data ",i),e.list.push(i)}}))):r.type===this.headerType.Criteria&&(this.currentSelectLine[this.headerType.Criteria]={name:t[0].name,rowId:this.currentSelectLine.rowId},this.$logger.info("["+this.mode+"] update currentSelectLine with criteria 1 data ",this.currentSelectLine),t.length>1&&t.forEach((function(t,a){if(a>0){var i={},s=e.generateRowId();i.rowId=s,e.headers.forEach((function(e){i[e.type]={name:null,rowId:s}})),i[e.headerType.Description]={name:null,rowId:s,parentNameList:[]},i[e.headerType.Criteria]={name:t.name,rowId:i.rowId},i[e.headerType.Evidence]={num:0,rowId:s},i.rowId=s,e.$logger.info("["+e.mode+"] CenturySkills add new line with criteria data ",i),e.list.push(i)}})))}this.list=this.list.filter((function(e){return!e.description||e.description.name||!e.criteria||e.criteria.name})),this.$logger.info("CenturySkills 过滤掉没有Description的行",this.list)}else if(this.formType===this.tableType.Rubric){if(t.length>=1){this.currentSelectLine.isSelectedIBLine=!0,this.currentSelectLine.isSelfInputLine=!1,this.currentSelectLine[this.headerType.Criteria]={name:t[0].name,rowId:this.currentSelectLine.rowId,isSelfInput:!1},this.currentSelectLine[this.headerType.AchievementLevel]={name:t[0].name,rowId:this.currentSelectLine.rowId,subLevelDescription:t[0].subLevelDescription,isSelfInput:!1};var o=[];t[0].subLevelDescription.forEach((function(e){o.push({indicator:""})})),this.currentSelectLine[this.headerType.Indicators]={rowId:this.currentSelectLine.rowId,subLevelIndicators:o,isSelfInput:!1},this.$logger.info("["+this.mode+"] update currentSelectLine with criteria data ",this.currentSelectLine),t.length>1&&t.forEach((function(a,i){if(i>0){var s={},n=e.generateRowId();s.rowId=n,s.isSelectedIBLine=!0,s.isSelfInputLine=!1,e.headers.forEach((function(e){s[e.type]={name:null,rowId:n}})),s[e.headerType.Criteria]={name:a.name,rowId:n,isSelfInput:!1},s[e.headerType.AchievementLevel]={name:a.name,rowId:n,subLevelDescription:a.subLevelDescription,isSelfInput:!1};var r=[];t[0].subLevelDescription.forEach((function(e){r.push({indicator:""})})),s[e.headerType.Indicators]={rowId:e.currentSelectLine.rowId,subLevelIndicators:r,isSelfInput:!1},s[e.headerType.Evidence]={num:0,rowId:n},e.$logger.info("["+e.mode+"] Rubric add new line with criteria data ",s),e.list.push(s)}}))}this.list=this.list.filter((function(e){return!e.criteria||e.criteria.name})),this.$logger.info("Rubric 过滤掉没有criteria的行",this.list)}else this.formType===this.tableType.Rubric_2?(this.$logger.info("["+this.mode+"] tableType.Rubric selectedList",t),t.length>=1&&(this.currentSelectLine[this.headerType.Description]={name:t[0].name,rowId:this.currentSelectLine.rowId},this.$logger.info("["+this.mode+"] update currentSelectLine description with criteria data ",this.currentSelectLine),t.length>1&&t.forEach((function(t,a){if(a>0){var i={},s=e.generateRowId();e.headers.forEach((function(e){i[e.type]={name:null,rowId:s}})),i[e.headerType.Description]={name:t.name,rowId:s},i[e.headerType.Evidence]={num:0,rowId:s},i.rowId=s,e.$logger.info("["+e.mode+"] Rubric description add new line with criteria data ",i),e.list.push(i)}}))),this.list=this.list.filter((function(e){return!e.description||e.description.name})),this.$logger.info("Rubric_2 过滤掉没有Description的行",this.list)):this.$logger.info("["+this.mode+"] rubric form no allow select");this.selectedAll21CenturyList=[],this.selectedCurriculumList=[],this.selected21CenturySkillList=[],this.selectedSubjectSpecificSkillList=[],this.selectedAssessmentList=[],this.selectedIduList=[]},handleUpdateDescription:function(e,t){this.$logger.info("["+this.mode+"] handleUpdateDescription",e,t)},handleUpdateField:function(e,t){this.$logger.info("["+this.mode+"] handleUpdateField",e,t)},handleClickEnterCriteriaDescription:function(e,t){this.$logger.info("["+this.mode+"] handleClickEnterCriteriaDescription",e,t),this.mode===h["a"].Edit&&(this.inputDescription=t[this.headerType.Description].userInputText,this.currentEnterDescriptionLine=t,this.inputDescriptionVisible=!0)},handleClickEnterCriteria:function(e,t){this.$logger.info("["+this.mode+"] handleClickEnterCriteria",e,t),this.mode===h["a"].Edit&&(this.inputDescription=t[this.headerType.Criteria].userInputText,this.currentEnterCriteriaLine=t,this.inputDescriptionVisible=!0)},handleEnsureDescription:function(){this.$logger.info("["+this.mode+"] handleEnsureDescription "+this.inputDescription),this.currentEnterDescriptionLine&&(this.currentEnterDescriptionLine[this.headerType.Description].userInputText=this.inputDescription),this.currentEnterCriteriaLine&&(this.currentEnterCriteriaLine[this.headerType.Criteria].userInputText=this.inputDescription),this.mode===h["a"].Edit&&(this.inputDescriptionVisible=!1,this.currentEnterDescriptionLine=null,this.currentEnterCriteriaLine=null,this.inputDescription=null)},handleCancelDescription:function(){this.$logger.info("["+this.mode+"] handleEnsureDescription "+this.inputDescription),this.currentEnterDescriptionLine=null,this.currentEnterCriteriaLine=null,this.inputDescription=null,this.inputDescriptionVisible=!1},handleAddEvidenceLine:function(e,t,a){a.stopPropagation(),a.preventDefault(),this.$logger.info("["+this.mode+"] handleAddEvidenceLine",e,t),this.$emit("add-evidence",{index:e,data:this.formBodyData[t.rowId],rowId:t.rowId})},handleSelectAll21CenturyListData:function(e){this.$logger.info("["+this.mode+"] EvaluationTable handleSelectAll21CenturyListData",e);var t=[];e.forEach((function(e){var a=e.item,i=[],s=a.originParent,n=3;while(s&&n-- >0)i.push(s.name),s=s.originParent;var r={name:e.item.name,parentNameList:i,isDescription:!0};t.push(r)})),this.selectedAll21CenturyList=t,this.$logger.info("["+this.mode+"] selectedAll21CenturyList ",t)},handleSelectCurriculumListData:function(e){this.$logger.info("["+this.mode+"] EvaluationTable handleSelectCurriculumListData",e);var t=[];e.forEach((function(e){var a={name:e.knowledgeData.name,isDescription:!0};t.push(a)})),this.selectedCurriculumList=t,this.$logger.info("["+this.mode+"] handleSelectCurriculumListData ",t)},handleSelectSubjectSpecificSkillListData:function(e){var t=this;this.$logger.info("["+this.mode+"] EvaluationTable handleSelectSubjectSpecificSkillListData",e);var a=[];e.forEach((function(e){var i=e.knowledgeData.subLevelDescripton,s=[];i.forEach((function(e){var t=e[0],a=t.split("-"),i=parseInt(a[0]),n=null;2===a.length&&(n=parseInt(a[1]));var r=e[1];s.push({startIndex:i,endIndex:n,description:r})})),t.$logger.info("["+t.mode+"] handle subLevel",i,s);var n={name:e.knowledgeData.name,subLevelDescription:s,isDescription:!0};a.push(n)})),this.selectedSubjectSpecificSkillList=a,this.$logger.info("["+this.mode+"] handleSelectSubjectSpecificSkillListData ",a)},handleSelect21CenturySkillListData:function(e){this.$logger.info("["+this.mode+"] EvaluationTable handleSelectCurriculumListData",e);var t=[];e.forEach((function(e){var a=[],i=e.knowledgeData.originParent,s=3;while(i&&s-- >0)a.push(i.name),i=i.originParent;var n={name:e.knowledgeData.name,parentNameList:a,isDescription:!0};t.push(n)})),this.selectedCurriculumList=t,this.$logger.info("["+this.mode+"] handleSelectCurriculumListData ",t),n["LibraryEventBus"].$emit(n["LibraryEvent"].CancelCenturySkillsSelect)},handleSelectAssessmentType:function(e){this.$logger.info("["+this.mode+"] EvaluationTable handleSelectAssessmentType",e);var t=[];e.forEach((function(e){var a={name:e.knowledgeData.name,isDescription:!0};t.push(a)})),this.selectedAssessmentList=t,this.$logger.info("["+this.mode+"] handleSelectAssessmentType ",t)},handleSelectIdu:function(e){var t=this;this.$logger.info("["+this.mode+"] EvaluationTable handleSelectIdu",e);var a=[];e.forEach((function(e){var i=e.knowledgeData.subLevelDescripton,s=[];i.forEach((function(e){var a=e[0],i=[];i=-1!==a.indexOf("–")?a.split("–"):-1!==i.indexOf("-")?a.split("-"):[a],t.$logger.info("indexRangeArray",i,e);var n=parseInt(i[0]),r=null;2===i.length&&(r=parseInt(i[1]));var o=e[1];s.push({startIndex:n,endIndex:r,description:o,isDescription:!0})})),t.$logger.info("["+t.mode+"] handle subLevel",i,s);var n={name:e.knowledgeData.name,subLevelDescription:s};a.push(n)})),this.selectedIduList=a,this.$logger.info("["+this.mode+"] handleSelectIdu ",a)},handleCancelSelectData:function(){},getTableStructData:function(){return this.$logger.info("getTableStructData",this.headers,this.list),{headers:this.headers,list:this.list,formId:this.formId}},generateRowId:function(){var e="row_"+Math.random();while(-1!==this.list.findIndex((function(t){return t.rowId===e})))e="row_"+Math.random();return this.$logger.info("generateRowId "+e),e},handleCenturySkillsSelect:function(e){this.$logger.info("NewBrowser handleCenturySkillsSelect",e),this.selected21CenturyItem=e.item,this.selected21CenturyItemParent=e.parent},handleCancelCenturySkillsSelect:function(){this.selected21CenturyItem=null,this.selected21CenturyItemParent=null},handleUseClicked:function(e){this.$logger.info("handleUseClicked",e),this.$emit("use-clicked-text",e)}}},N=D,P=(a("53f2"),a("0c7c")),R=Object(P["a"])(N,i,s,!1,null,"720d1163",null);t["a"]=R.exports},"11aa":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAsCAYAAADxRjE/AAAAAXNSR0IArs4c6QAABJ1JREFUaEPNmWnI5XMUxz9f+75lCaGQlK3EG5GSFyRrsi/T2IYZqWFGDAaTNWuIPBSFGDOl0YzGTJNRNBJhsrywNUi27Brr0ffpXN153P92527n1VP33Pv//M/v/M75nvOIEbaI2Bw4C7gE2Al4EZihUWSOCHPtDNwAnAusm5x/A4+PHHRErAfsA9wFHDEhqP8Ai0cKOiI2AA4GHgAO6JAFfwHXjAx0Ah8C3Afs2wHYUf4EOGokoCNiE+BI4E5gz4J79gswXdLY0KEjYgvgeODWrBCdmH8HngamSFo9VOiI2Bo4DbgR2LYgws7jt4ATJH1hn6FBR8R2wDm+WMBWBcABfAVcKOn5ls9QoCNie2AScFUJsBl/Bu5xvZbkGj1uA4eOiB2AycCVwJYlzW11dsBJkr5v9xsodETski15KuAWXWSO6rvA2ZLemeg0MOiI2B24DLgA2LgE2Hn8JTBL0mOd/AYC3QZ8PuCaXGY/Ak8Cl7u8DQU6IvY2QKq1jSqAXY+XO+db5W3g0BHhdjwDOBXYsALYebwSmCbplTLfvqVHROyfFeJkwEKoyj4HbgYekuS8LrS+QEeEpaVL2ik1Imy4H4Cn/B1J1hil1nPoTAkDO8JVOWw4X7alwFRJq6qA/XlPoRN4FnBizQhbbr45PkJJL9UB7il0ROyaOuLMGmWtxfcxcDswJskvUMt6FumIaLXmvWo9Gb4F3Dyul/Rrze+Mu/US2prYiu2gGgC/AQuAmZI+q+G/hktX0DktHwocDlgbvAz4eKentrDsLDLrY/u7Ta9oCtx1pCPCO4g7LMwBQ9wPPAisA1yd3a9Tu3b9dQO5CXi2qh4XvVC3kbakvAU4I+Wlj/tR4N580EzAF3LTCQ/2xbsbeFjSH91EuXGks0J4yvgU8IWbk7sJdzzXWzcIn4BFz7RUdK0xyhdvzLOgpJ+6Ba4NHRE+9uOA2cBuuUh5BHDuegt0dDYSR29+lrEPc8L2Wsva+TlgrqTv1ga4FnTuI3zBLgV2zIrjdPBCxbnsrndtNhSng3N8UU7XK7rN27IXK83pjPDFOct5t9ZulpGus15f+W/Pe6cDXglYsS3LvF/epHHUOYUq6GPy4uyRlWHib/7pKpDp8A1wRQ6sXg0Y3J/NkfReHZi6PoXQOYA+ARxWoSMM90LKyo/yAl4EeOJ+LaEX1gWq41cGbVnp8d15XGWuv544rIctgHxCJwFvuxTWVW9VD2l9XgbtS+ZlStnU3P4cg7+eebxobepwFXxH6NwROzWObaDYWs96NZcr3tr3xYqgXX/dKKryuROUL91sSfP6Qlyk8nK+eya7nhtLE/NQ6jXWkiZfauJbFGlP0K67Ll1NzI3FGuQ2SV6A98X+B536wvX1QMD//2hib+TadmH7wrDJD9TxXQM6ItbPsjUF2KzOD7T5WFdbci4o2gw1/L1C9/+gU9h7bWXJuU2DqcaKzidjLbKynxFuvcU4dJvGsNS09KzS2e6C1sbudC6Nhu1aHzc9AeVG/jrgvJJtplWdIT8AnLeLgff7nQZFL2Noi/X9UhBZ9Dhi3vJ8nf86cBVYNSzATuD/Aok9WzfHt1isAAAAAElFTkSuQmCC"},1449:function(e,t,a){"use strict";var i=function(){var e=this,t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"my-unit-plan-preview"},[t.loading?[s("a-skeleton",{attrs:{active:""}})]:[s("a-row",{staticClass:"action-header"},[s("a-col",{staticClass:"action-header-toggle",attrs:{span:"24"}},[s("a-radio-group",{attrs:{"button-style":"solid"},on:{change:t.handleViewModeChange},model:{value:t.viewMode,callback:function(e){t.viewMode=e},expression:"viewMode"}},[s("a-radio-button",{staticClass:"left-button",attrs:{value:"Detail"}},[t._v(" Info ")]),s("a-radio-button",{staticClass:"right-button",attrs:{value:"Preview"}},[t._v(" Detail ")]),s("a-radio-button",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student","teacher"],expression:"['student', 'teacher']"}],staticClass:"right-button",attrs:{value:"Reviews"}},[t._v(" Reviews ")])],1)],1)],1),s("a-row",{staticClass:"top-header"},[s("a-col",{attrs:{span:"24"}},[s("div",{staticClass:"title-line"},[s("div",{staticClass:"name"},[t._v(" "+t._s(t.data.name)+" ")]),s("div",{staticClass:"action-item"},[s("div",{staticClass:"star"},[t.data.createBy!==t.$store.getters.userInfo.email?[t.data.isFavorite?t._e():s("img",{attrs:{src:a("58e7")},on:{click:function(e){return t.handleFavorite(t.data)}}}),t.data.isFavorite?s("img",{attrs:{src:a("24e3")},on:{click:function(e){return t.handleFavorite(t.data)}}}):t._e()]:t._e()],2),this.isOwner||this.isCollaborater?s("div",{staticClass:"edit"},[s("a-button",{attrs:{type:"primary",shape:"round"},on:{click:function(e){return t.handleEditItem(t.data)}}},[s("div",{staticClass:"button-content"},[t._v(" Edit "),s("img",{staticClass:"edit-icon",attrs:{src:a("11aa")}})])])],1):s("div",{staticClass:"edit"},[t.myContentId?s("a-button",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:function(e){return t.handleEditItem({id:t.myContentId})}}},[s("div",{staticClass:"button-content"},[t._v(" Edit in my content "),s("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"edit"}})],1)]):s("a-button",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:t.handleDuplicateItem}},[s("div",{staticClass:"button-content"},[t._v(" Copy "),s("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"copy"}})],1)]),t.data.type===t.typeMap.task?s("a-button",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:t.handleStartTask}},[s("div",{staticClass:"button-content"},[t._v(" Start "+t._s(t.data.buyed?"Session":"")),s("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"play-circle"}})],1)]):t._e()],1)])])])],1),s("a-row",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"author-info"},[s("a-col",{staticClass:"avatar-icon",attrs:{span:"3"}},[s("img",{attrs:{src:t.collaborate.owner&&t.collaborate.owner.avatar}})]),s("a-col",{attrs:{span:"21"}},[s("div",{staticClass:"sub-info"},[s("div",{staticClass:"created-by"},[t._v(" "+t._s(t.data.createBy)+" ")]),s("div",{staticClass:"created-time"},[t.lastChangeSavedTime?[t._v(" "+t._s(t.lastChangeSavedTime)+" ")]:t._e()],2)]),s("div",{staticClass:"star-info"},[s("review-score",{attrs:{review:t.reviewsStats,placement:"bottom"}}),s("a-button",{attrs:{type:"link"}},[t._v(t._s(t._f("percentFormat")(t.reviewsStats.overall))+" ("+t._s(t.reviewsStats.reviewsCount)+" reviews)")])],1)])],1),s("a-space",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"},{name:"show",rawName:"v-show",value:"Reviews"!==t.viewMode,expression:"viewMode !== 'Reviews'"}],staticClass:"author-info"},[s("div",{staticClass:"avatar-icon"},[s("img",{attrs:{src:t.collaborate.owner&&t.collaborate.owner.avatar}})]),s("div",[s("div",{staticClass:"sub-info"},[s("div",{staticClass:"created-by"},[t._v(" "+t._s(t.collaborate.owner&&t.collaborate.owner.nickname)+" ")]),s("div",{staticClass:"created-time"},[t.lastChangeSavedTime?[t._v(" "+t._s(t.lastChangeSavedTime)+" ")]:t._e()],2)]),s("div",{staticClass:"star-info",on:{click:function(){return e.viewMode="Reviews"}}},[s("a-tooltip",{attrs:{placement:"right"}},[s("template",{slot:"title"},[t._v(" "+t._s(t.reviewsStats.reviewsScoreStatDetail&&t.reviewsStats.reviewsScoreStatDetail[4]&&t.reviewsStats.reviewsScoreStatDetail[4].reviewsScoreCount)+" people gave a score of 5 stars ")]),s("a-rate",{attrs:{value:t.reviewsStats.avgReviewsScore,"allow-half":"",disabled:""}})],2)],1)])]),s("a-row",{directives:[{name:"show",rawName:"v-show",value:"Detail"===t.viewMode,expression:"viewMode === 'Detail'"}],staticClass:"data-info"},[s("a-col",{staticClass:"right-detail",attrs:{span:"24"}},[s("div",{staticClass:"sub-detail"},[s("div",{staticClass:"detail-block"},[s("div",{staticClass:"block-main-label"},[t.data.type===t.typeMap.task?[t._v("Task details")]:[t._v("Overview")]],2),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"view-text"},[t._v(" "+t._s(t.data.overview)+" ")])]),t.data.type===t.typeMap.task&&t.data.questionNames.length>0?[s("div",{staticClass:"block-main-label"},[t._v(" Key question(s)/Line(s) of Inquiry ")]),s("div",{staticClass:"detail-block",staticStyle:{margin:"10px"}},[s("div",{staticClass:"keyword-block-content"},[s("div",{staticClass:"content-list"},t._l(t.data.questionNames,(function(e,a){return s("div",{key:a,staticClass:"content-item"},[e?s("div",{staticClass:"question"},[t._v(" "+t._s(e)+" ")]):t._e()])})),0)])])]:t._e(),s("div",{staticClass:"block-main-label"},[t._v(" Customized tags ")]),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"custom-tags"},t._l(t.data.customTags,(function(e,a){return s("div",{key:"tagIndex"+a,staticClass:"tag-item"},[s("a-tooltip",{attrs:{title:e.parentName}},[s("a-tag",{staticClass:"tag"},[t._v(" "+t._s(e.name)+" ")])],1)],1)})),0)]),s("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"block-main-label"},[t._v(" This task contains interactive questions of ")]),s("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"overview-block"},[s("div",{staticClass:"custom-tags"},t._l(t.inActiveTypes,(function(e,a){return s("div",{key:"interActiveIndex"+a,staticClass:"tag-item"},[s("a-tooltip",{attrs:{title:e}},[s("a-tag",{staticClass:"tag",attrs:{color:t.tagColorList[a]}},[t._v(" "+t._s(e)+" ")])],1)],1)})),0)]),s("div",{staticClass:"block-main-label"},[t._v(" Learning Objectives ")]),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"learn-question-tag"},[s("div",{staticClass:"learn-out",staticStyle:{margin:"10px"}},[s("ui-learn-out-sub",{attrs:{"learn-outs":t.data.learnOuts,"self-outs":t.data.selfOuts,"class-info-list":t.itemsList}})],1)])]),t.data.inquiry?[s("div",{staticClass:"block-main-label"},[t._v(" Big idea ")]),s("div",{staticClass:"inquiry-block-content"},[s("div",{staticClass:"inquiry"},[t._v(" "+t._s(t.data.inquiry)+" ")])])]:t._e(),t.data.materialList&&t.data.materialList.length?[s("div",{staticClass:"block-main-label"},[t._v(" Material list ")]),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"material-list"},t._l(t.data.materialList,(function(e,a){return s("div",{key:a,staticClass:"material-item"},[s("div",{staticClass:"material-name"},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"material-link",on:{click:function(a){return t.handleOpenLink(e.link)}}},[t._v(" "+t._s(e.link)+" ")])])})),0)])]:t._e(),t.data.rwc?[s("div",{staticClass:"block-main-label"},[t._v(" Real World Connection(s) ")]),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"view-text"},[t._v(" "+t._s(t.data.rwc)+" ")])])]:t._e()],2)])])],1),s("a-row",{directives:[{name:"show",rawName:"v-show",value:"Preview"===t.viewMode,expression:"viewMode === 'Preview'"}],staticClass:"preview-data-info"},[s("a-col",{staticClass:"slide-preview",attrs:{span:"24"}},[t.data.scenarios||t.data.inquiry||t.data.questions&&t.data.questions.length?s("div",{staticClass:"data-detail-wrapper"},[t.data.scenarios?[s("div",{staticClass:"block-main-label"},[t._v(" Sustainable development goal ")]),s("div",{staticClass:"detail-block"},t._l(t.data.scenarios,(function(e,a){return s("div",{key:a,staticClass:"scenario-item ref-block"},[s("div",{staticClass:"scenario-block-content"},[s("div",{staticClass:"content-list"},[s("div",{staticClass:"content-item"},[s("div",{staticClass:"question"},[e.description?[s("a-tooltip",{attrs:{title:e.description,placement:"top"}},[t._v(" "+t._s(e.sdgName)+" ")])]:[t._v(" "+t._s(e.sdgName))]],2),s("div",{staticClass:"tags"},t._l(e.sdgKeyWords,(function(e,a){return s("div",{key:"tagIndex"+a,staticClass:"tag-item"},[s("a-tag",{staticClass:"tag"},[t._v(" "+t._s(e.name)+" ")])],1)})),0)])])])])})),0)]:t._e(),t.data&&t.data.inquiry?[s("div",{staticClass:"detail-block"},[s("div",{staticClass:"block-main-label"},[t._v(" Big idea ")]),s("div",{staticClass:"inquiry-block-content"},[s("div",{staticClass:"inquiry"},[t._v(" "+t._s(t.data.inquiry)+" ")])])])]:t._e(),t.data&&t.data.questions&&t.data.questions.length?[s("div",{staticClass:"block-main-label"},[t._v(" Key question(s)/Line(s) of Inquiry ")]),s("div",{staticClass:"detail-block"},[s("div",{staticClass:"keyword-block-content"},[t.data.questions&&t.data.questions.length?s("div",{staticClass:"content-list"},t._l(t.data.questions,(function(e,a){return s("div",{key:"qIndex"+a,staticClass:"content-item"},[e&&e.name?s("div",{staticClass:"question"},[t._v(" "+t._s(e.name)+" ")]):t._e()])})),0):t._e()])])]:t._e()],2):t._e(),t.type===t.typeMap.task&&t.data.presentationId&&t.imgList.length>0?[s("div",{staticClass:"top-icon-groups"},[s("a-col",{staticClass:"material-row"},[Object.keys(t.currentPageMaterial).length>0?s("div",{staticClass:"icon-group"},[t.currentPageMaterial.hasOwnProperty("text")?s("a-badge",{attrs:{count:t.showMaterialSize("text")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("text")}}},[s("text-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Text")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("image")?s("a-badge",{attrs:{count:t.showMaterialSize("image")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("image")}}},[s("image-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Image")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("video")?s("a-badge",{attrs:{count:t.showMaterialSize("video")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("video")}}},[s("video-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Video")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("audio")?s("a-badge",{attrs:{count:t.showMaterialSize("audio")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("audio")}}},[s("audio-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Audio")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("iframe")?s("a-badge",{attrs:{count:t.showMaterialSize("iframe")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("iframe")}}},[s("youtube-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Youtube")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("pdf")?s("a-badge",{attrs:{count:t.showMaterialSize("pdf")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("pdf")}}},[s("pdf-type-svg"),s("div",{staticClass:"icon-text"},[t._v("PDF")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("website")?s("a-badge",{attrs:{count:t.showMaterialSize("website")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("website")}}},[s("url-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Website")])],1)]):t._e()],1):t._e()])],1),s("a-skeleton",{attrs:{loading:t.slideLoading,active:""}},[s("div",{ref:"slide",staticClass:"slide-select-wrapper"},[s("div",{staticClass:"slide-select"},[s("div",{staticClass:"slide-select-and-preview"},[s("div",{staticClass:"slide-preview",style:{width:"600px"}},[s("a-carousel",{ref:"carousel",attrs:{arrows:"","after-change":t.onChangePage}},[s("div",{staticClass:"custom-slick-arrow",staticStyle:{left:"10px",zIndex:"9"},attrs:{slot:"prevArrow"},slot:"prevArrow"},[s("a-icon",{attrs:{type:"left-circle"}})],1),s("div",{staticClass:"custom-slick-arrow",staticStyle:{right:"10px",zIndex:"9"},attrs:{slot:"nextArrow"},slot:"nextArrow"},[s("a-icon",{attrs:{type:"right-circle"}})],1),t._l(t.imgList,(function(e,t){return s("div",{key:t},[s("img",{attrs:{src:e}})])}))],2),t.currentPageItem?s("div",{staticClass:"plugin-tags"},[s("a-row",{staticClass:"tag-row"},[t.currentPageItem.data.bloomLevel?s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Bloom's Taxonomy:")]),s("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[t._v(t._s(t.currentPageItem.data.bloomLevel))])]):t._e(),t.currentPageItem.data.knowledgeLevel?s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Knowledge dimension(s):")]),s("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[t._v(t._s(t.currentPageItem.data.knowledgeLevel))])]):t._e()]),s("a-row",{staticClass:"tag-row"},[t.currentPageItem.data.verbs&&t.currentPageItem.data.verbs.length>0?s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Command terms:")]),t._l(t.currentPageItem.data.verbs,(function(e,a){return s("span",{key:a,staticClass:"tag-value",staticStyle:{color:"#15C39A"}},[t._v(t._s(e))])}))],2):t._e(),t.currentPageTips?s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Tip added:")]),s("span",{staticClass:"tag-value",staticStyle:{color:"#0054FF"}},[t._v(t._s(t.currentPageTips.tip))])]):t._e()]),t.currentPageItem.data.learnOuts&&t.currentPageItem.data.learnOuts.length>0?s("a-row",{staticClass:"tag-row"},[s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Learning Objectives:")]),t._l(t.currentPageItem.data.learnOuts,(function(e,a){return s("span",{key:a,staticClass:"tag-value",staticStyle:{color:"#00BCF2"}},[s("a-tooltip",{attrs:{title:e.path,overlayStyle:{"z-index":"3000"}}},[t._v(t._s(e.name)+" ")])],1)}))],2)]):t._e(),s("a-row",{staticClass:"tag-row"},[s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("This is a "),s("span",[t._v(t._s(t.currentPageItem.type))]),t._v(" slide")])])])],1):t._e(),t.imgList&&t.imgList.length?s("div",{staticClass:"page-info"},[t._v(" "+t._s(t.currentImgIndex+1)+" / "+t._s(t.imgList.length)+" ")]):t._e(),s("div",{staticClass:"carousel-page"},[s("div",{staticClass:"img-list-wrapper"},[s("div",{staticClass:"img-list"},t._l(t.imgList,(function(e,a){return s("div",{key:"index"+a,staticClass:"img-item",on:{click:function(e){return t.handleGotoImgIndex(a)}}},[s("img",{attrs:{src:e}})])})),0)])])],1)])])])])]:t._e(),t.type===t.typeMap.evaluation?[s("evaluation-table-preview",{attrs:{"evaluation-id":t.data.id}})]:t._e()],2)],1),s("a-row",{directives:[{name:"show",rawName:"v-show",value:"Reviews"===t.viewMode,expression:"viewMode === 'Reviews'"}],staticClass:"reviews-info"},["student"===t.currentRole?s("a-col",{staticClass:"slide-reviews",attrs:{span:"24"}},[s("rate-by-percent",{attrs:{rates:t.reviewsStats}}),s("reviews-preview",{attrs:{id:t.id,role:"student",list:t.ReviewsTask.ReviewsTaskList,save:t.ReviewsTask.ReviewsTaskSave,del:t.ReviewsTask.ReviewsTaskDelete,myReview:t.ReviewsTask.ReviewsTaskMyReview}})],1):s("a-col",{staticClass:"slide-reviews",attrs:{span:"24"}},[s("reviews-preview",{attrs:{id:t.id,role:"teacher",list:t.ReviewsTeacher.ReviewsTeacherList,save:t.ReviewsTeacher.ReviewsTeacherSave,del:t.ReviewsTeacher.ReviewsTeacherDelete,myReview:t.ReviewsTeacher.ReviewsTeacherMyReview,canEdit:!0},on:{update:t.loadReviewStats}})],1)],1)],s("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"800px",zIndex:6e3,title:"My Materials"},on:{ok:function(e){t.materialVisible=!1},cancel:function(e){t.materialVisible=!1}},model:{value:t.materialVisible,callback:function(e){t.materialVisible=e},expression:"materialVisible"}},[s("task-material-preview",{attrs:{"current-page-element-lists":t.currentPageElementLists,"filter-type":t.filterMaterialType,"current-page-index":t.currentImgIndex}})],1),s("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"900px",zIndex:5e3,title:null},on:{ok:function(e){t.mediaVisible=!1},cancel:function(e){t.mediaVisible=!1}},model:{value:t.mediaVisible,callback:function(e){t.mediaVisible=e},expression:"mediaVisible"}},[s("media-preview",{attrs:{"media-list":t.mediaList,"material-type":t.filterMaterialType}})],1)],2)},s=[],n=a("5530"),r=(a("a9e3"),a("d81d"),a("a630"),a("3ca3"),a("d3b7"),a("6062"),a("ddb0"),a("159b"),a("b0c0"),a("823b")),o=a("3f76"),l=a("69b3"),c=a("8c95"),d=a("c621"),u=a("972f"),p=a("7eee"),h=a("d33b"),m=a("873a"),g=a("542c"),f=a("91ff"),v=a("d980"),y=a("dd6e"),b=a("abb8"),w=a("e11c"),C=a("9afb"),k=a("f93e"),T=a("2934"),A=a("5225"),L=a("9fb0"),I=a("8ded"),S=a.n(I),x=a("2f59"),M=a("2f62"),E=a("6b36"),_=a("c2e5"),O=a("ca00"),D=O.formatLocalUTC,N=a("de0d"),P=N.UnitPlanQueryById,R=a("b199"),B=R.TaskQueryById,U=a("9f06"),j=U.EvaluationQueryById,F=a("95c6"),V=F.FavoritesAdd,G=a("56f2"),z=G.SelfStudyTaskBye,Q=G.SelfStudyTaskStart,H={name:"CommonPreview",components:{UiLearnOutSub:f["a"],EvaluationTablePreview:u["a"],CommonAssociatePreview:c["a"],NoMoreResources:l["a"],TaskLink:p["a"],MediaPreview:m["a"],TaskMaterialPreview:g["a"],RateByPercent:v["a"],ReviewsPreview:y["a"],ReviewScore:b["a"]},props:{id:{type:String,required:!0},type:{type:Number,required:!0},isLibrary:{type:Boolean,default:!1},myContentId:{type:String,default:null}},mixins:[h["a"],w["a"],x["a"]],computed:Object(n["a"])(Object(n["a"])({},Object(M["e"])({userMode:function(e){return e.app.userMode},currentRole:function(e){return e.user.currentRole}})),{},{lastChangeSavedTime:function(){if(this.data){r["info"]("lastChangeSavedTime data",this.data);var e=this.data.updateTime||this.data.createTime;if(e)return D(e)}return""},inActiveTypes:function(){var e=[];return this.itemsList&&(e=this.itemsList.map((function(e){return e.type}))),Array.from(new Set(e))}}),mixin:[x["a"]],data:function(){return{loading:!0,slideLoading:!1,copyLoading:!1,data:null,imgList:[],viewMode:"Detail",RATE_TOOLTIPS:k["y"],ReviewsTask:E,ReviewsTeacher:_,tagColorList:["pink","orange","green","cyan","blue","red","purple"],activeContentType:-1,typeMap:o["e"],subPreviewVisible:!1,currentImgIndex:0,initPrompts:[],reviewsStats:{avgReviewsScore:0,reviewsScoreStatDetail:[],reviewsCount:0,effectiveness:0,overall:0,quality:0,studentsEngagement:0}}},created:function(){r["info"]("CommonPreview id "+this.id+" type "+this.type),this.loadData()},methods:{loadData:function(){var e=this;r["info"]("loadData "+this.id+" type "+this.type),this.loading=!0,this.type===this.typeMap["unit-plan"]?P({id:this.id}).then((function(t){r["info"]("UnitPlanQueryById "+e.id,t.result),e.data=t.result,e.oldForm=e.data,e.data&&e.data.image&&(e.imgList=[e.data.image])})).finally((function(){e.loading=!1,e.queryContentCollaborates(e.id,e.type)})):this.type===this.typeMap.task?B({id:this.id}).then((function(t){r["info"]("TaskQueryById "+e.id,t.result),e.data=t.result,e.loading=!1,e.oldForm=e.data,e.queryContentCollaborates(e.id,e.type),e.loadThumbnail(),e.data.presentationId&&e.getClassInfo(e.data.presentationId)})):this.type===this.typeMap.evaluation&&j({id:this.id}).then((function(t){r["info"]("EvaluationQueryById "+e.id,t.result),e.data=t.result,e.oldForm=e.data,e.data&&e.data.image&&(e.imgList=[e.data.image])})).finally((function(){e.loading=!1,e.queryContentCollaborates(e.id,e.type)})),Object(T["a"])(k["q"]).then((function(t){t.success&&(r["info"]("DICT_PROMPT_TYPE",t.result),e.initPrompts=t.result)})),this.loadReviewStats()},handleAuthCallback:function(){this.$logger.info("Preview handleAuthCallback"),"loadThumbnail"===this.currentMethodName?this.loadThumbnail():"handleDuplicateItem"===this.currentMethodName&&this.handleDuplicateItem()},loadThumbnail:function(){var e=this;this.$logger.info("Preview loadThumbnail ",this.data),this.data.presentationId?this.isLibrary?Object(d["d"])({taskId:this.data.id}).then((function(t){if(t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden){var a=t.result.pageObjects;e.thumbnailList=[],a.length?a.forEach((function(t){e.imgList.push(t.contentUrl),e.thumbnailList.push({contentUrl:t.contentUrl,id:t.pageObjectId}),e.slideLoading=!1,e.$logger.info("current imgList ",e.imgList)})):(e.imgList=[],e.slideLoading=!1)}else e.$logger.info("等待授权事件通知"),e.currentMethodName="loadThumbnail"})):Object(d["d"])({taskId:this.data.id}).then((function(t){if(t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden){var a=t.result.pageObjects;e.thumbnailList=[],a.length?a.forEach((function(t){e.imgList.push(t.contentUrl),e.thumbnailList.push({contentUrl:t.contentUrl,id:t.pageObjectId}),e.slideLoading=!1,e.$logger.info("current imgList ",e.imgList)})):(e.imgList=[],e.slideLoading=!1)}else e.$logger.info("等待授权事件通知"),e.currentMethodName="loadThumbnail"})):this.slideLoading=!1},loadReviewStats:function(){var e=this,t=null;t="student"===this.currentRole?E["ReviewsTaskStats"]:_["ReviewsTeacherStats"],t&&t({taskId:this.id,purchasesId:this.id}).then((function(t){t.success&&(e.reviewsStats=t.result)}))},handleSelectContentType:function(e){r["info"]("handleSelectContentType "+e),this.activeContentType=e},handleSubPreviewClose:function(){r["info"]("handleSubPreviewClose"),this.subPreviewVisible=!1},handleViewModeChange:function(){this.$logger.info("handleViewModeChange "+this.viewMode)},handleFavorite:function(e){var t=this;r["info"]("handleFavorite",e),V({sourceId:e.id,sourceType:e.type}).then((function(a){r["info"]("FavoritesAdd ",a),e.isFavorite=!e.isFavorite,t.data.isFavorite=e.isFavorite,t.$emit("favoritiesAdd",Object(n["a"])({},t.data))}))},handleGotoImgIndex:function(e){this.$logger.info("handleGotoImgIndex "+e),this.currentImgIndex=e,this.$refs.carousel.goTo(e)},handleEditItem:function(e){e.type=this.type,r["info"]("handleEditItem",e),e.type===o["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===o["e"].task?window.open("/teacher/task-redirect/"+e.id,"_blank"):e.type===o["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleDuplicateItem:function(){var e=this;this.$logger.info("handleDuplicateItem",this.data),this.$confirm({title:"Confirm to copy",content:"Are you sure to copy "+this.data.name+" ?",centered:!0,onOk:function(){e.copyLoading=!0,Object(C["Duplicate"])({id:e.data.id,type:e.data.type}).then((function(t){t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden?(e.$logger.info("Duplicate response",t),e.$message.success("Copy successfully")):e.currentMethodName="handleDuplicateItem"})).finally((function(){e.copyLoading=!1}))}})},handleStartTask:function(){var e=this;this.$confirm({title:"Confirm to start",content:"Are you sure to start "+this.data.name+" ?",centered:!0,onOk:function(){e.copyLoading=!0,e.data.buyed||k["Y"].SCHOOL===e.userMode?e.handleStartSession(e.data.id):z({taskId:e.data.id}).then((function(t){t.success&&e.handleStartSession(e.data.id)})).finally((function(){e.copyLoading=!1}))}})},handleOpenLink:function(e){window.open(e,"_blank")},handleStartSession:function(e){var t=this;this.copyLoading=!0,Q({taskId:e}).then((function(e){if(t.$logger.info("StartOpenSession res",e),e.success){t.copyLoading=!1;var a=A["a"]+"s/"+e.result.classId+"?token="+S.a.get(L["a"]);t.$logger.info("try open "+a),window.location.href=a}else t.$message.warn("StartLesson Failed! "+e.message)})).finally((function(){t.copyLoading=!1}))}}},q=H,Y=(a("7569"),a("0c7c")),K=Object(Y["a"])(q,i,s,!1,null,"0a1695ec",null);t["a"]=K.exports},"149a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-content"},[a("div",{staticClass:"filter-line"},[a("radio-switch",{attrs:{"menu-list":e.menuList,"default-selected-item":e.getSelectItem},on:{select:e.toggleType}}),a("div",{staticClass:"create-new"},[a("a-space",[a("custom-search-input",{attrs:{round:!1,value:e.searchText,placeholder:"Search your content"},on:{"update:value":function(t){e.searchText=t},search:e.handleSearch}}),a("user-profile-avatar")],1)],1)],1),a("div",{staticClass:"content-wrapper"},[a("a-spin",{attrs:{tip:"Loading...",spinning:e.loading}},[a("div",{staticClass:"content-list"},[0===e.pagination.total||e.loading?e._e():e._l(e.myContentList,(function(t){return a("favorite-content-item",{key:t.id,attrs:{content:t},on:{delete:e.handleDeleteItem,duplicate:e.handleDuplicateItem}})})),0!==e.pagination.total||e.loading?e._e():[a("div",{staticClass:"empty-tips"},[a("no-more-resources")],1)]],2)]),a("div",{staticClass:"pagination"},[a("a-pagination",{attrs:{total:e.pagination.total,"page-size":e.pagination.pageSize,showTotal:e.pagination.showTotal,"show-less-items":""},on:{change:e.pagination.onChange},model:{value:e.pageNo,callback:function(t){e.pageNo=t},expression:"pageNo"}})],1)],1)])},s=[],n=a("2909"),r=(a("c740"),a("d3b7"),a("159b"),a("99af"),a("b0c0"),a("823b")),o=a("9afb"),l=a("3f76"),c=a("4803"),d=a("8f46"),u=a("95c6"),p=a("60427"),h=a("f93e"),m=a("adfc"),g=a("c08c"),f=a("1712"),v=a("2f59"),y=a("49a2"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.content?a("div",{staticClass:"content-item"},[a("div",{staticClass:"cover",on:{click:function(t){return e.handlePreviewDetail(e.content)}}},[a("div",{staticClass:"cover-block",style:{"background-image":"url('"+(e.content.image||"http://dcdkqlzgpl5ba.cloudfront.net/1392467808404684802/file/202208140641519097-20220814143449.png")+"')"}},[a("div",{staticClass:"bottom-action"},[a("div",{staticClass:"bottom-action-item vertical-left"}),a("div",{directives:[{name:"show",rawName:"v-show",value:!((e.content.type===e.typeMap.task||e.content.type===e.typeMap.pd)&&e.content.slideEditing),expression:"!((content.type === typeMap.task || content.type === typeMap.pd) && content.slideEditing)"}],staticClass:"bottom-action-item vertical-right",on:{click:function(t){return e.handlePreviewDetail(e.content)}}},[a("div",{staticClass:"bottom-action-item-icon"},[a("a-icon",{attrs:{type:"eye"}})],1),a("div",{staticClass:"bottom-action-item-label"},[e._v("Preview")])])])])]),a("div",{staticClass:"detail"},[a("div",{staticClass:"detail-content"},[a("div",{staticClass:"base-info"},[a("div",{staticClass:"name-type"},[a("div",{staticClass:"type-icon"},[a("content-type-icon",{attrs:{type:e.content.type}})],1),a("div",{staticClass:"name"},[e._v(" "+e._s(e.content.name||"Untitled "+e.contentTypeName)+" ")])]),a("div",{staticClass:"extra-info"},[a("a-space",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.curriculumName&&e.content.type!==e.typeMap.pd,expression:"curriculumName && content.type !== typeMap.pd"}],staticClass:"info-item curriculum-info"},[e._v(" "+e._s(e.curriculumName)+" ")]),a("div",{staticClass:"info-item subject-info"},[a("a-space",e._l(e.content.subjectList,(function(t,i){return a("div",{key:i,staticClass:"subject-item"},[e._v(e._s(t))])})),0)],1),a("div",{staticClass:"info-item year-info"},[a("a-space",e._l(e.content.yearList,(function(t,i){return a("div",{key:i,staticClass:"subject-item"},[e._v(e._s(t))])})),0)],1),e.content.taskType?a("div",{staticClass:"info-item task-type-info"},[a("div",{staticClass:"self-type-wrapper"},[a("div",{staticClass:"self-field-label"},["FA"===e.content.taskType?a("div",{staticClass:"task-type-item green-active-task-type"},[a("a-tooltip",{attrs:{placement:"top",title:"Formative Assessment"}},[e._v("FA")])],1):e._e(),"SA"===e.content.taskType?a("div",{staticClass:"task-type-item red-active-task-type"},[a("a-tooltip",{attrs:{title:"Summative Assessment",placement:"top"}},[e._v("SA")])],1):e._e(),"Activity"===e.content.taskType?a("div",{staticClass:"task-type-item blue-active-task-type task-type-activity"},[a("a-tooltip",{attrs:{title:"Teaching/Learning Activity",placement:"top"}},[e._v("Activity")])],1):e._e(),"IA"===e.content.taskType?a("div",{staticClass:"task-type-item blue-active-task-type task-type-examine"},[a("a-tooltip",{attrs:{title:"Internal Assessment",placement:"top"}},[e._v("IA")])],1):e._e()])])]):e._e()])],1),a("div",{staticClass:"tag-info"},e._l(e.content.customTags,(function(t,i){return a("div",{key:i,staticClass:"tag-info-item"},[a("a-tag",{staticClass:"tag-item",attrs:{color:"#FFEDAF",title:t.category}},[e._v(" "+e._s(t.name)+" ")])],1)})),0),a("div",{staticClass:"owner"},[e.content.owner?[a("a-avatar",{attrs:{src:e.content.owner.avatar,size:"small"}})]:[a("a-avatar",{attrs:{size:"small"}},[e._v(e._s(e.content.createBy.toUpperCase()[0]))])],a("div",{staticClass:"user-name"},[e._v(" "+e._s(e._f("upCaseFirst")(e.content.owner?e.content.owner.firstname+" "+e.content.owner.lastname:e.content.createBy))+" ")])],2),a("div",{staticClass:"update-time"},[e._v(" "+e._s(e._f("dayjs")(e.content.updateTime||e.content.createTime))+" ")])]),a("div",{staticClass:"right-info"},[a("div",{staticClass:"buy-info",on:{click:function(e){e.stopPropagation()}}},[a("a-space",[a("div",{staticClass:"price"},[e._v("$"+e._s(e.content.discountPrice||e.content.price||0))]),e.content.discountPrice>0&&e.content.discountPrice!==e.content.price?a("div",{staticClass:"price_was"},[e._v("$"+e._s(e.content.price))]):e._e(),a("div",{staticClass:"buy"},[e.content.createBy===e.$store.getters.userInfo.email||e.content.buyed?e._e():a("a-button",{attrs:{type:"danger",shape:"round",loading:e.copyLoading},on:{click:function(t){return e.handleBuyItem()}}},[e._v(" Buy now ")]),e.content.createBy===e.$store.getters.userInfo.email||e.content.createBy!==e.$store.getters.userInfo.email&&e.content.buyed&&-1!=e.content.myContentId?a("a-button",{staticClass:"cc-dark-button",attrs:{type:"danger",shape:"round",loading:e.copyLoading},on:{click:function(t){return e.handleEditItem()}}},[e._v(" Edit ")]):e._e(),a("a-tooltip",{attrs:{title:"You have already purchased this content, please copy it directly",placement:"top"}},[e.content.createBy!==e.$store.getters.userInfo.email&&e.content.buyed&&-1==e.content.myContentId?a("a-button",{attrs:{type:"primary",shape:"round",loading:e.copyLoading},on:{click:function(t){e.handleBuyItem("Copy successfully")}}},[e._v(" Copy ")]):e._e()],1)],1)])],1)])]),a("div",{staticClass:"action"},[e.showButton?[a("a-space",[a("custom-button",{attrs:{label:"Unlike"},on:{click:function(t){return e.handleDeleteFavoriteItem(e.content)}},scopedSlots:e._u([{key:"icon",fn:function(){return[a("a-icon",{attrs:{type:"heart",theme:"outlined"}})]},proxy:!0}],null,!1,2956425241)})],1)]:e._e()],2),e.previewVisible?a("content-preview",{attrs:{"content-id":e.previewCurrentId,"content-type":e.previewType,"show-enter-button":!1,"review-edit":!1,"review-create":!1},on:{close:e.handlePreviewClose}}):e._e(),a("a-modal",{attrs:{title:null,closable:!1,"append-to-body":!0,"destroy-on-close":!1,width:"500px"},on:{ok:e.handleEnsureBuyStat,cancel:e.handleCancelBuyStat},model:{value:e.contentBuyStatVisible,callback:function(t){e.contentBuyStatVisible=t},expression:"contentBuyStatVisible"}},[a("modal-header",{attrs:{title:"Which age(s) will you use this resource with?"},on:{close:e.handleCancelBuyStat}}),a("div",{staticClass:"grade-list"},[a("div",{staticClass:"content-tag-list"},e._l(e.allAges,(function(t){return a("div",{key:t,staticClass:"content-tag",class:{"selected-tag":-1!==e.selectedGradeList.indexOf(t)},on:{click:function(a){return e.toggleSelectContentTag(t)}}},[e._v(" "+e._s(t)+" ")])})),0)])],1)],1)]):e._e()},w=[],C=(a("a434"),a("f031")),k=a("0381"),T=a("d185"),A=a.n(T),L=a("dfbd"),I=a.n(L),S=a("ce85"),x=a("82bf"),M=a("23f6"),E={name:"FavoriteContentItem",components:{ModalHeader:p["a"],ContentTypeIcon:d["a"],ContentPreview:S["a"],CustomButton:k["a"],DuplicateIcon:I.a,EditIcon:A.a},props:{content:{type:Object,default:null},showButton:{type:Boolean,default:!0},clickPreview:{type:Boolean,default:!0}},mixins:[C["a"],v["a"]],data:function(){return{typeMap:l["e"],isSelfLearning:!1,copyLoading:!1,contentBuyStatVisible:!1,selectedGradeList:[]}},created:function(){this.allowPreview=this.clickPreview},computed:{status:function(){return this.content.status},contentTypeName:function(){return this.content?Object(l["b"])(this.content.type):null},curriculumName:function(){return this.$store.getters.curriculumId2NameMap.hasOwnProperty(this.content.curriculumId)?this.$store.getters.curriculumId2NameMap[this.content.curriculumId]:null},allAges:function(){for(var e=[],t=3;t<19;t++)e.push(t+" years");return e}},methods:{handleBuyItem:function(e){var t=this;this.$logger.info("handleBuyItem",this.content),Object(x["a"])({id:this.content.id,type:this.content.type}).then((function(a){a.code!==t.ErrorCode.ppt_google_token_expires&&a.code!==t.ErrorCode.ppt_forbidden?(t.$logger.info("Duplicate response",a),e?t.$message.success(e):t.$message.success("Buy successfully"),t.$router.push("/teacher/main/created-by-me")):t.currentMethodName="handleBuyItem"})).finally((function(){t.buyLoading=!1,t.contentBuyStatVisible=!0}))},handleEditItem:function(){if(this.content.createBy!==this.$store.getters.userInfo.email)return this.handleEditBuy();var e=this.content;e.canPublish||this.$classcipe.setRequiredCheck(e.id),e.type===l["e"]["unit-plan"]?this.$router.push({path:"/teacher/unit-plan-redirect/"+e.id}):e.type===l["e"].task?this.$router.push({path:"/teacher/task-redirect/"+e.id}):e.type===l["e"].video?this.$router.push({path:"/teacher/video-redirect/"+e.id}):e.type===l["e"].pd&&this.$router.push({path:"/teacher/pd-content-redirect/"+e.id})},handleEnsureBuyStat:function(){var e=this;Object(M["a"])({contentId:this.contentId,contentType:this.contentType,grades:this.selectedGradeList}).finally((function(){e.handleCancelBuyStat()}))},handleCancelBuyStat:function(){this.contentBuyStatVisible=!1,this.selectedGradeList=[],this.$router.push({path:"/teacher/main/created-by-me"})},toggleSelectContentTag:function(e){this.$logger.info("toggleSelectContentTag",e);var t=this.selectedGradeList.indexOf(e);-1===t?this.selectedGradeList.push(e):this.selectedGradeList.splice(t,1)},handleEditBuy:function(){this.$logger.info("handleEdit",this.content.myContentId),this.content.type===this.typeMap["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+this.content.myContentId,"_blank"):this.content.type===this.typeMap.task?window.open("/teacher/task-redirect/"+this.content.myContentId,"_blank"):this.content.type===this.typeMap.pd?window.open("/teacher/pd-content-redirect/"+this.content.myContentId,"_blank"):this.contentType===this.typeMap.video&&window.open("/teacher/video-redirect/"+this.content.myContentId,"_blank")},handleDeleteFavoriteItem:function(e){this.$emit("delete",e)}}},_=E,O=(a("2f08"),a("0c7c")),D=Object(O["a"])(_,b,w,!1,null,"2e0eebd5",null),N=D.exports,P=a("0dab"),R=a("69b3"),B=a("6e84"),U=a("21fb"),j=a("cd3e"),F=a("3881"),V=a("2775"),G=a("29d8"),z=a("7147"),Q={name:"MyFavorite",components:{ContentTypeFilter:G["a"],CustomSearchInput:V["a"],UserProfileAvatar:F["a"],GlobalSearchInput:j["a"],RadioSwitch:P["a"],FavoriteContentItem:N,ContentItem:y["a"],CommonPreviewV2:m["a"],ContentStatusIcon:c["a"],ContentTypeIcon:d["a"],ModalHeader:p["a"],ClassList:g["a"],CustomTag:f["a"],NoMoreResources:R["a"]},mixins:[v["a"],B["a"],U["a"]],data:function(){var e=this;return{loading:!0,myContentList:[],currentType:null,previewCurrentId:"",previewType:"",currentPreviewLesson:null,searchKey:null,pagination:{onChange:function(t){r["info"]("pagination onChange",t),e.pageNo=t,e.loadMyContent()},showTotal:function(e){return"Total ".concat(e," items")},total:0,pageSize:15},pageNo:1,searchText:"",filterParams:{},typeMap:l["e"],viewPreviewSessionVisible:!1,PPTCommentPreviewVisible:!1,classList:[],lessonSelectTagVisible:!1,sessionTags:[],sessionItem:{},startLoading:!1,userTags:{},customTagList:[],menuList:[{name:"All types",type:null},{name:"Unit Plan",type:this.$classcipe.typeMap["unit-plan"]},{name:"Task",type:this.$classcipe.typeMap["task"]}]}},computed:{getSelectItem:function(){var e=sessionStorage.getItem(h["I"])?parseInt(sessionStorage.getItem(h["I"])):z["a"].CreatedByMe,t=this.menuList.findIndex((function(t){return t.type===e}));return t>-1?this.menuList[t]:this.menuList[0]}},created:function(){r["info"]("teacher my content"),this.loadMyContent()},methods:{handleSchoolChange:function(){this.pageNo=1,this.loadMyContent()},handleModeChange:function(e){e===h["Y"].SELF&&(this.pageNo=1,this.loadMyContent())},loadMyContent:function(){var e=this;this.loading=!0;var t={shareType:this.shareType,pageNo:this.pageNo,pageSize:this.pagination.pageSize,searchKey:this.searchText?this.searchText:"",types:this.currentType?[this.currentType]:[],delFlag:0,schoolId:this.school};this.filterParams&&(t=Object.assign(this.filterParams,t)),this.currentType&&(t.type=this.currentType),Object(u["FavoritesGetMyFavorites"])(t).then((function(t){r["info"]("FavoritesGetMyFavorites",t),t.result&&t.result.records&&t.result.records.length?(t.result.records.forEach((function(e,t){e.key=t})),e.myContentList=t.result.records,e.pagination.total=t.result.total,e.pagination.current=t.result.current):(e.myContentList=[],e.pagination.total=0),r["info"]("myContentList",e.myContentList)})).finally((function(){e.loading=!1}))},toggleType:function(e){r["info"]("toggleType ",e),sessionStorage.setItem(h["I"],e.type),this.currentType=e.type,this.loadMyContent()},handleEditItem:function(e){r["info"].apply(r,["handleEditItem"].concat(Object(n["a"])(e))),e.type===l["e"]["unit-plan"]?this.$router.push({path:"/teacher/unit-plan-redirect/"+e.id}):e.type===l["e"].task?this.$router.push({path:"/teacher/task-redirect/"+e.id}):e.type===l["e"].evaluation&&this.$router.push({path:"/teacher/evaluation-redirect/"+e.id})},handleDuplicateItem:function(e){var t=this;this.$logger.info("handleDuplicateItem",e);var a=e.content;this.$confirm({title:"Confirm duplicate",content:"Are you sure to duplicate "+a.name+" ?",centered:!0,onOk:function(){Object(o["Duplicate"])({id:a.id,type:a.type}).then((function(a){a.code!==t.ErrorCode.ppt_google_token_expires&&a.code!==t.ErrorCode.ppt_forbidden?(t.$logger.info("Duplicate response",a),t.$message.success("Duplicate successfully! Please check in My Content.")):(t.currentMethodName="handleDuplicateItem",t.currentMethodParam=e)}))}})},handleAuthCallback:function(){this.$logger.info("Shared handleAuthCallback"),"handleDuplicateItem"===this.currentMethodName&&this.handleDuplicateItem(this.currentMethodParam)},handleDeleteItem:function(e){var t=this;r["info"]("handleDeleteItem",e);var a={sourceId:e.id,sourceType:e.type};Object(u["FavoritesDelete"])(a).then((function(e){r["info"]("DeleteMyContentByType",e)})).then((function(){t.loadMyContent()}))},handleSearch:function(e){this.$logger.info("handleSearch",e),this.searchText=e,this.pageNo=1,this.loadMyContent()}}},H=Q,q=(a("a9f3"),Object(O["a"])(H,i,s,!1,null,"0c89c2c4",null));t["default"]=q.exports},1707:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABGtJREFUeF7tm1toFFcYx/+T3exG4+aq1mSzGyPx0qpNWsHUxDSxwQsECnnw9iIai1JtqRSkNTSaQPBSfChSS1ulqRR88qEigqBB30wUbFD70sRoNKuJl407bpKd2d2ZcrZdXWdms5eZuDvjOTAM7J7v/833m3O+c2bOHAZRyvJTvQsYwbQLENcDTHG0em/i96aFhWe+rS5ePxW+GCXRqt9v74Yo/jgVDpPR3Lx4Jsb9QmdLjb05GfvJbGQAVpzqtQuCaUhrR2r0CIDszAyMeAPHvqu1f6VGS2orA1D12812MMx+LZ2o1QoDIDqPvP6O/bUlrWo1w/ZyAJ23/gJQqZUDLXQiARA9F8vtbatzHtVCWwkAC8CmhbhWGlIARHfQw+/oqHecUOtDAcBtFyCmNOtLg1ICEBTE4BAb2NSxquSMGgi6BUCC5oPiuIvlPj34SWlXshB0DYAEPeEX3ANubvUP6+beSAaC7gGQoL180NX/1FdzvHHeYKIQDAGABM1yQv+5+88+uLJhiTcRCIYBQIJ+7gvc3LvCXvHWAiCBuycCV7+ptlfHC8FQLSAc9JOxwKWWlfbV8UAwJAAS+LCX/7O11tEUC4IuADQ6bCgqnBYrFtn/D1/wfxz42LFlMkNdAJifZUbdooKEARCDIZY/3l7n+CKasS4ABEZ9aK4uhsVqTgrCoIc71FHvbFEy1gUAcuEOAGsrZycFgBj1u8f3HWkoOywV0A0AcuEz/QJqyvMwKz8rYRCiCPSPcp9/3+D8OdJYVwBCM77hMeRPN6NgeiZsNkvCIE5vXGRmGCYYNtQdgPCFB/0CAlwgYQC9Xy57LWbdAkg48v8NerYtpQB0nQOSvfNhO9oCaBegOYAmQZoEIwjQeYB0WKnqTL+FEbVDX6Q9HQbpMJjCYbDYZkFpjgXOXCucOVY4cy2hs+sFj10X7mrZ0qNqTWkXsFlMIEHaZ2SGzqFjxn9n8pspQ/GDFNwYHjMGgM8qZ4MciRYKgLYAg3cBDxfEyJifLFbgodePPvcE/nH70Of2oXvrEuPlgJO9j0MBk+MBy+ORl4+aFgwLgECIp1AARu0CtAXQLkBzQDw50LjDoFIOsJoyUF+aA0fOqyUtMnU23FSYBC8FkJ9lxtGGUiyeJf/QQbcAyvOz0LSwAGV51pfN/cM52aHgpQAme1DSJYDG8jy0rixR7OdKADa8W4ivq4pk9cls8dj1YXTd88SVM9RW0ux9wE/rykDutlLZc/Eeul3y7xUb5uaGHpffyc5E36gPXXc9uDDwHCz3crVabXwx7TUDsGd5ETa9Vyhz+PeTcWw/PxDzQlJVQTMAJIA183JDr7TC5fIgizujvlTFFpdfTQHE5THNKlEA9LV4Cl+Lp0NvoF0gdhdIv21zGrackZ5tS+dE6slWKj7qvNUmAgc0dJo+UqL4a0/z+zsnBZCOW2e1IsiIwrLu5orXNlfpYvO0FgBEQWi/tr2iTaqlvFgHIJ22z6sAMAJRPMtA/EV658Oa/wJolqxfGeNBmwAAAABJRU5ErkJggg=="},1712:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.mergeTagList.length||e.showTagList.length,expression:"mergeTagList.length || showTagList.length"}],staticClass:"custom-tag"},[a("div",[a("a-card",{staticClass:"cover-card",attrs:{"head-style":{background:"#15c39a",color:"#fff"},"body-style":{padding:"10px"},title:"edit"===e.displayMode?"Tag your content":"Tag",bordered:!1}},[e.showArrow?a("a",{staticClass:"header-triangle"}):e._e(),a("a-button",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.displayMode,expression:"displayMode === 'edit'"}],staticClass:"setting-button",attrs:{slot:"extra",href:"#"},on:{click:e.handleSetting},slot:"extra"},[e._v("My tags "),a("a-icon",{attrs:{type:"edit"}})],1),"edit"===e.displayMode?a("div",{staticClass:"tag-selected-label"},[0===e.showTagList.length?[e._v("No tags added : ")]:e._e(),0!==e.showTagList.length?[e._v("Tags added :")]:e._e()],2):e._e(),a("div",{staticClass:"tag-content-wrapper"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showTagList.length,expression:"showTagList.length"}],staticClass:"selected-tag"},[a("div",{staticClass:"skt-tag-list"},e._l(e.showTagList,(function(t){return a("div",{key:t.name,staticClass:"skt-tag-item "},[a("a-tooltip",{attrs:{title:t.parentName}},[a("a-tag",{class:{"tag-item":!0,"tag-disable":!e.canCloseTag(t)},attrs:{closable:e.canCloseTag(t)},on:{close:function(a){return e.closeTag(t)}}},[e._v(" "+e._s(t.name)+" ")])],1)],1)})),0)]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.tagList.length,expression:"!tagList.length"}],staticClass:"no-selected-tag"},[a("div",{staticClass:"no-tag-content"},["edit"===e.displayMode?[e._v("Click on the tag below to select")]:e._e(),"readonly"===e.displayMode?[e._v("no tag")]:e._e()],2)])]),"edit"===e.displayMode?a("a-spin",{attrs:{spinning:e.tagLoading}},[a("div",{staticClass:"tag-category"},[a("a-row",[a("a-col",{attrs:{offset:"0",span:"24"}},[a("div",[a("a-tabs",{attrs:{"tab-position":"top"}},e._l(e.mergeTagList,(function(t,i){return a("a-tab-pane",{key:i,attrs:{tab:t.name}},[a("a-row",[a("a-col",{attrs:{offset:"0",span:24}},[a("div",{staticClass:"tag-search-input"},[a("a-input-search",{staticClass:"search-input",attrs:{placeholder:"Search or create tags"},on:{search:e.searchTag,keyup:e.searchTag},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.handleKeyEnter(t)}},model:{value:e.inputTag,callback:function(t){e.inputTag=t},expression:"inputTag"}})],1)])],1),a("div",{staticClass:"skt-tag-wrapper"},[a("div",{staticClass:"triangle"}),1===t.customDeep?[a("div",{staticClass:"skt-tag-list"},[e.filterKeywordListInput(t.keywords).length>0?a("div",{staticClass:"search-tag-wrapper tag-wrapper"},e._l(e.filterKeywordListInput(t.keywords),(function(i,s){return a("div",{key:s,staticClass:"skt-tag-item"},[a("a-tag",{staticClass:"tag-item",attrs:{draggable:"true"},on:{click:function(a){return e.selectChooseTag(t,i)}}},[e._v(" "+e._s(i)+" ")])],1)})),0):e._e(),0!==e.filterKeywordListInput(t.keywords).length||t.createOwn?e._e():a("dvi",{staticClass:"no-tag-content"},[a("div",{staticClass:"no-tag-text"},[e._v("Tag does not exist")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.createOwn&&!e.tagNameIsExist(e.createTagName,e.showTagList)&&!e.tagIsExist(e.createTagName,e.filterKeywordListInput(t.keywords))&&e.createTagName&&e.createTagName.length>=1,expression:"parent.createOwn && !tagNameIsExist(createTagName,showTagList) && !tagIsExist(createTagName,filterKeywordListInput(parent.keywords)) && createTagName && createTagName.length >= 1"}],staticClass:"create-tag-wrapper tag-wrapper"},[a("div",{staticClass:"skt-tag-create-line",on:{click:function(a){return e.handleCreateTagByInput(t)}}},[a("div",{staticClass:"create-tag-label"},[e._v(" Create ")]),a("div",{staticClass:"create-tag"},[a("a-tag",{staticClass:"created-tag-item"},[e._v(" "+e._s(e.createTagName)+" ")])],1)])])],1)]:[a("a-tabs",{attrs:{"tab-position":"top"}},e._l(t.children,(function(i,s){return a("a-tab-pane",{key:s,attrs:{tab:i.name}},[a("div",{staticClass:"skt-tag-list"},[e.filterKeywordListInput(i.keywords).length>0?a("div",{staticClass:"search-tag-wrapper tag-wrapper"},e._l(e.filterKeywordListInput(i.keywords),(function(s,n){return a("div",{key:n,staticClass:"skt-tag-item"},[a("a-tag",{staticClass:"tag-item",on:{click:function(a){return e.selectChooseTag(i,s,t)}}},[e._v(" "+e._s(s)+" ")])],1)})),0):e._e(),a("div",{staticClass:"create-tag-wrapper tag-wrapper"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.tagNameIsExist(e.createTagName,e.showTagList)&&!e.tagIsExist(e.createTagName,e.filterKeywordListInput(i.keywords))&&e.createTagName&&e.createTagName.length>=1,expression:"!tagNameIsExist(createTagName,showTagList) && !tagIsExist(createTagName, filterKeywordListInput(child.keywords)) && createTagName && createTagName.length >= 1"}],staticClass:"skt-tag-create-line",on:{click:function(a){return e.handleCreateTagByInput(i,t)}}},[a("div",{staticClass:"create-tag-label"},[e._v(" Create ")]),a("div",{staticClass:"create-tag"},[a("a-tag",{staticClass:"created-tag-item"},[e._v(" "+e._s(e.createTagName)+" ")])],1)])])])])})),1)]],2)],1)})),1)],1)])],1)],1)]):e._e()],1)],1),a("a-modal",{attrs:{title:"My tags",footer:null,width:"600px",destroyOnClose:"",afterClose:e.refreshTag},model:{value:e.settingVisible,callback:function(t){e.settingVisible=t},expression:"settingVisible"}},[a("div",[a("tag-setting")],1)])],1)},s=[],n=(a("159b"),a("c740"),a("b0c0"),a("4de4"),a("d81d"),a("ac1f"),a("1276"),a("a434"),a("7db0"),a("823b")),r=a("f736"),o=a("b842"),l=a("d28d"),c=a("d33b4"),d=a("69b3"),u={name:"CustomTag",components:{NoMoreResources:d["a"],TagBrowser:r["a"],TagSetting:o["a"]},mixins:[c["a"]],props:{selectedTagsList:{type:Array,default:function(){return[]}},customTags:{type:Object,required:!0},scopeTagsList:{type:Array,default:function(){return[]}},showArrow:{type:Boolean,default:!1},currentFieldName:{type:String,default:null},displayMode:{type:String,default:"edit"}},mounted:function(){},destroyed:function(){},data:function(){return{tagList:this.selectedTagsList,globalRootKey:"",tagLoading:!1,visible:!0,settingVisible:!1,browseVisible:!1,inputTag:"",tagName:"",createTagName:"",tagSearchList:[]}},created:function(){this.$logger.info("customTags",this.customTags)},computed:{showTagList:function(){var e=this,t=[];return this.tagList.forEach((function(a){e.currentFieldName&&e.currentFieldName===a.fieldName?t.push(a):e.currentFieldName||t.push(a)})),t},mergeTagList:function(){var e=this,t=[];this.$logger.info("customTags",this.customTags),this.$logger.info("scopeTagsList",this.scopeTagsList);var a=this.customTags.userGlobalTags;return this.scopeTagsList.forEach((function(i){var s=e.customTags.recommends.findIndex((function(e){return e.name===i})),n="";s>-1&&(n=e.customTags.recommends[s],n.customDeep>1&&a.length>0&&n.children.forEach((function(e){a.forEach((function(t){t.parentId===e.id&&-1===e.keywords.indexOf(t.name)&&e.keywords.push(t.name)}))})));var r=e.customTags.userTags.findIndex((function(e){return e.name===i}));r>-1&&(n?e.customTags.userTags[r].keywords.forEach((function(e){-1===n.keywords.indexOf(e)&&n.keywords.push(e)})):(n=e.customTags.userTags[r],n.customDeep||(n.customDeep=1))),n&&t.push(n)})),this.$logger.info("mergeTagList",t),t},filterKeywordListInput:function(){return function(e){var t=this,a=e;this.inputTag&&(a=e.filter((function(e){return e.toLowerCase().indexOf(t.inputTag.toLowerCase())>-1})));var i=this.tagList.map((function(e){return e.name.toLowerCase()}));return a.filter((function(e){return-1===i.indexOf(e.toLowerCase())}))}},canCloseTag:function(){return function(e){return-1!==this.scopeTagsList.indexOf(e.parentName)||!!(e.parentName.indexOf("-")>-1&&this.scopeTagsList.indexOf(e.parentName.split("-")[0]>-1))}}},watch:{selectedTagsList:function(){this.$logger.info("selectedTagsList change",this.selectedTagsList),this.tagList=this.selectedTagsList}},methods:{handleOk:function(){},handleCancel:function(){this.visible=!1},handleSetting:function(){this.settingVisible=!0},handleBrowse:function(){this.browseVisible=!0},closeTag:function(e){this.tagList.splice(this.tagList.findIndex((function(t){return t.name===e.name})),1),this.tagName="",this.$emit("change-user-tags",this.tagList)},selectChooseTag:function(e,t,a){this.$logger.info("choose tag ",e,t,a),this.tagList.unshift({parentName:a?a.name+"-"+e.name:e.name,name:t,fieldName:this.currentFieldName,id:"unique_id_"+Math.random()})},remoteChooseTag:function(e,t){var a=this,i=this.mergeTagList.find((function(t){return t.id===e}));i&&t&&("string"===typeof t&&(t=[t]),t.forEach((function(e){var t=a.tagList.find((function(t){return t.name===e}));t||a.selectChooseTag(i,e)})))},handleTagItemDrop:function(e,t){},handleCreateTagByInput:function(e,t){var a=this;this.$logger.info("skill handleCreateTagByInput "+this.createTagName,"parent",e);var i=this.tagList.find((function(e){return e.name.toLowerCase()===a.createTagName.toLowerCase()}));if(i)this.$message.warn("already exist same name tag");else{var s={name:this.createTagName,parentName:e.name,parentId:t?e.id:"",isGlobal:!!t};this.tagLoading=!0,Object(l["b"])(s).then((function(i){a.$logger.info("add AddUserTagNew ",i.result),i.success?(s.id=i.result.id,a.createTagName="",a.inputTag="",a.$message.success("Add tag successfully"),a.$emit("change-add-keywords",s),a.selectChooseTag(e,s.name,t)):a.$message.error(i.message),a.tagLoading=!1}))}},handleKeyEnter:function(e){this.$logger.info("tag handleKeyEnter ",this.inputTag,e),this.createTagName=this.inputTag,this.handleCreateTagByInput(e)},searchTag:function(e){n["info"]("tag searchTag",e),this.createTagName=this.inputTag},refreshTag:function(){this.$emit("reload-user-tags")}}},p=u,h=(a("b7b8"),a("0c7c")),m=Object(h["a"])(p,i,s,!1,null,"293c78e8",null);t["a"]=m.exports},1778:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"a",(function(){return d}));a("ac1f");var i=a("b775"),s={search:"/classcipe/api/v2/library/search",getLibraryRecommend:"/classcipe/api/v2/library/getLibraryRecommend",getLibraryResource:"/classcipe/api/v2/library/getLibraryResource",queryAllResource:"/classcipe/api/v2/library/queryAllResource",queryLibraryResource:"/classcipe/api/v2/library/queryLibraryResource",getLibraryPDContent:"/classcipe/api/v2/library/getLibraryPDContent"};function n(e){return Object(i["d"])({url:s.search,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i["d"])({url:s.getLibraryRecommend,method:"get",params:e})}function o(e){return Object(i["d"])({url:s.getLibraryResource,method:"get",params:e})}function l(e){return Object(i["d"])({url:s.queryAllResource,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(i["d"])({url:s.queryLibraryResource,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(i["d"])({url:s.getLibraryPDContent,method:"get",params:e})}},1899:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"common-link"},[i("div",{staticClass:"link-group-wrapper"},[e.groups.length&&!e.linkGroupLoading?[i("draggable",{attrs:{disabled:!e.canEdit,animation:"300",group:"group",move:e.onMove},model:{value:e.groups,callback:function(t){e.groups=t},expression:"groups"}},e._l(e.groups,(function(t,s){return i("div",{directives:[{name:"show",rawName:"v-show",value:!(e.hiddenEmptyGroup&&0===t.contents.length),expression:"!(hiddenEmptyGroup && group.contents.length === 0)"}],key:s,staticClass:"link-group"},[i("div",{staticClass:"group-item"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.groupName,expression:"group.groupName"}],staticClass:"group-header"},[i("div",{staticClass:"group-left-info"},[i("div",{staticClass:"group-name"},[t.editing?e._e():i("div",{staticClass:"group-name-text"},[e._v(" "+e._s(t.groupName?t.groupName:"Untitled")+" ")]),t.editing?i("div",{staticClass:"group-name-input"},[i("a-input",{staticClass:"group-name-input",on:{pressEnter:function(a){return e.handleToggleEditGroupName(t,s)}},model:{value:e.newGroupName,callback:function(t){e.newGroupName=t},expression:"newGroupName"}})],1):e._e()]),e.canEdit?i("div",{staticClass:"group-edit-icon",on:{click:function(a){return e.handleToggleEditGroupName(t,s)}}},[i("a-tooltip",[i("template",{slot:"title"},[e._v(" Rename ")]),t.editing?e._e():i("a-icon",{style:{fontSize:"20px",color:"#15C39A"},attrs:{type:"edit"}})],2),t.editing?i("a-icon",{style:{fontSize:"20px",color:"#15C39A"},attrs:{type:"check"}}):e._e()],1):e._e()]),e.canEdit?i("div",{staticClass:"group-right-info"},[i("div",{staticClass:"group-action"},[i("a-button",{style:{"background-color":"#fff",color:"#000",border:"none"},attrs:{type:"primary"},on:{click:function(a){return e.handleLinkGroup(t)}}},[i("div",{staticClass:"btn-text"},[e._v(" + Link ")])])],1),i("a-popconfirm",{attrs:{"cancel-text":"No","ok-text":"Yes",title:"Delete group?"},on:{confirm:function(a){return e.handleDeleteGroup(t)}}},[i("span",{staticClass:"delete-action"},[i("img",{attrs:{src:a("1ffa")}})])])],1):e._e()]),i("draggable",{staticStyle:{width:"100%","min-height":"50px"},attrs:{disabled:!e.canEdit,animation:"300",group:"link-content"},on:{add:e.handleDragContent,update:e.handleDragContent,end:e.handleDragEnd},model:{value:t.contents,callback:function(a){e.$set(t,"contents",a)},expression:"group.contents"}},e._l(t.contents,(function(t){return i("div",{key:t.id,staticClass:"group-link-item"},[i("div",{staticClass:"left-info"},[i("div",{staticClass:"icon"},[i("content-type-icon",{attrs:{type:t.type}})],1),i("div",{staticClass:"name",on:{click:function(a){return e.handleViewDetail(t)}}},[i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[e._v(" Click and drag tasks to move between categorys ")]),e._v(" "+e._s(t.name?t.name:"untitled")+" ")],2)],1),t.type===e.typeMap.task?["fa"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag green-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e(),"sa"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag red-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e(),"activity"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag blue-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e()]:e._e(),t.isCreated?i("div",{staticClass:"downloaded-icon"},[i("a-tooltip",{attrs:{placement:"top",title:"already saved in my content"}},[i("downloaded-svg")],1)],1):e._e()],2),i("div",{staticClass:"right-info"},[i("div",{staticClass:"date"},[e._v(e._s(e._f("dayjs")(t.createTime)))]),i("div",{staticClass:"status"},[0===t.status?[e._v("Draft")]:e._e(),1===t.status?[e._v("Published")]:e._e()],2),e.canEdit?i("div",{staticClass:"more-action-wrapper action-item-wrapper"},[i("a-dropdown",[i("a-icon",{staticStyle:{"margin-right":"8px"},attrs:{type:"more"}}),i("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[i("a-menu-item",[i("a-popconfirm",{attrs:{title:e.$t("teacher.my-content.action-delete")+"?","cancel-text":"No","ok-text":"Yes"},on:{confirm:function(a){return e.handleDeleteLinkItem(t)}}},[i("a",{staticClass:"delete-action",attrs:{href:"#"}},[i("a-icon",{attrs:{type:"delete"}}),e._v(" "+e._s(e.$t("teacher.my-content.action-delete"))+" ")],1)])],1),i("a-menu-item",[i("a",{on:{click:function(a){return e.handleEditLinkItem(t)}}},[i("a-icon",{attrs:{type:"form"}}),e._v(" "+e._s(e.$t("teacher.my-content.action-edit"))+" ")],1)])],1)],1)],1):e._e()])])})),0)],1)])})),0)]:e._e()],2),i("a-modal",{attrs:{"dialog-style":{top:"0px"},footer:null,destroyOnClose:"",width:"900px"},model:{value:e.selectLinkContentVisible,callback:function(t){e.selectLinkContentVisible=t},expression:"selectLinkContentVisible"}},[i("div",{staticClass:"my-modal-title",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.linkTitle)+" ")]),i("div",{staticClass:"link-content-wrapper"},[i("new-my-content",{attrs:{"default-group-name":e.subDefaultGroupName,"filter-type-list":e.subFilterTypeList,"from-id":e.fromId,"from-type":e.fromType,"group-name-list":e.groupNameList,mode:"common-link","selected-list":e.selectedList,"show-create":e.showCreate,"show-tabs":e.showTabs},on:{cancel:function(t){e.selectLinkContentVisible=!1},ensure:e.handleEnsureSelectedLink}})],1)]),i("a-drawer",{attrs:{closable:!1,visible:e.previewVisible,destroyOnClose:"",placement:"right",width:"1000px"},on:{close:function(t){e.previewVisible=!1}}},[i("div",{staticClass:"preview-wrapper-row"},[i("div",{staticClass:"view-back"},[i("a-button",{staticClass:"preview-back-btn",attrs:{type:"primary",shape:"round"},on:{click:function(t){e.previewVisible=!1}}},[i("a-icon",{style:{"font-size":"12px"},attrs:{type:"left"}}),e._v("Back")],1)],1),e.previewCurrentId&&e.previewType?i("div",{staticClass:"detail-wrapper"},[i("common-preview-v2",{attrs:{id:e.previewCurrentId,type:e.previewType}})],1):e._e()])])],1)},s=[],n=a("2909"),r=(a("a9e3"),a("159b"),a("d3b7"),a("498a"),a("9afb")),o=a("9586"),l=a("1e7f"),c=a("3f76"),d=a("8f46"),u=a("823b"),p=a("adfc"),h=a("b76a"),m=a.n(h),g=a("1077"),f=a.n(g),v={name:"PlanLink",components:{ContentTypeIcon:d["a"],NewMyContent:l["a"],MyContentSelector:o["a"],CommonPreviewV2:p["a"],draggable:m.a,DownloadedSvg:f.a},props:{fromType:{type:Number,required:!0},fromId:{type:String,required:!0},filterType:{type:Number,default:0},hiddenEmptyGroup:{type:Boolean,default:!1},canEdit:{type:Boolean,default:!0},isLibrary:{type:Boolean,default:!1}},computed:{groupNameList:function(){var e=[];return this.groups.forEach((function(t){e.push(t.groupName)})),e}},data:function(){return{defaultGroupName:"Untitled category",defaultGroupNameEditMode:"view",defaultGroupOtherContents:[],linkGroupLoading:!0,ownerLinkGroupList:[],othersLinkGroupList:[],groups:[],subDefaultGroupName:["Untitled category"],currentGroupId:null,selectLinkContentVisible:!1,typeMap:c["e"],previewVisible:!1,previewCurrentId:"",previewType:"",subFilterTypeList:[c["e"].evaluation],showCreate:!0,showTabs:!0,linkTitle:"Link Content",editingGroup:"",groupRransition:[],newGroupName:null,selectedList:[]}},created:function(){this.$logger.info("load PlanLink with id["+this.fromId+"] fromType["+this.fromType+"]"),this.subFilterTypeList=[c["e"].task],this.getAssociate()},methods:{getAssociate:function(){var e=this;this.$logger.info("GetAssociate id["+this.fromId+"] fromType["+this.fromType+"]"),this.linkGroupLoading=!0,Object(r["GetAssociate"])({id:this.fromId,type:this.fromType,published:this.isLibrary?1:0}).then((function(t){e.$logger.info("CommonLink GetAssociate response",t),e.groups=t.result.groups,e.$logger.info("formatted owner",t.result.owner),e.$logger.info("formatted others",t.result.others),e.othersLinkGroupList=[],e.ownerLinkGroupList=t.result.owner,e.groups.forEach((function(t){t.editing=!1,t.contents=[],e.ownerLinkGroupList.forEach((function(e){e.group===t.groupName&&(t.contents=e.contents)}))})),e.groups=e.groups.sort((function(e,t){return e.groupName?1:-1})),e.$logger.info("formatted groups",e.groups),e.$logger.info("ownerLinkGroupList",e.ownerLinkGroupList),t.result.others.forEach((function(t){var a;(a=e.othersLinkGroupList).unshift.apply(a,Object(n["a"])(t.contents))})),e.$logger.info("othersLinkGroupList",e.othersLinkGroupList),e.$emit("group-name-list-update")})).finally((function(){e.linkGroupLoading=!1}))},handleEnsureSelectedLink:function(e){this.$logger.info("handleEnsureSelectedLink",e),this.selectLinkContentVisible=!1,this.getAssociate()},handleLinkGroup:function(e){var t=this;this.$logger.info("handleLinkGroup",e),this.subDefaultGroupName=e.groupName,this.selectLinkContentVisible=!0,this.selectedList=[],e.contents.forEach((function(e){t.selectedList.push(e.type+"-"+e.id)})),this.fromType===c["e"]["unit-plan"]?this.subFilterTypeList=[c["e"].task]:this.filterType===c["e"].task&&(this.subFilterTypeList=[c["e"].evaluation,c["e"]["unit-plan"]])},handleToggleEditGroupName:function(e,t){var a=this;this.$logger.info("handleToggleEditGroupName",e),e.editing?function(){var i="Untitled group ",s=1;while(1){var n=!0;if(a.groups.forEach((function(e){e.groupName===i+s&&(n=!1)})),n){i+=s;break}s++}e.groupName=a.newGroupName&&a.newGroupName.trim().length?a.newGroupName:i,Object(r["AddOrSaveGroupName"])({fromId:a.fromId,fromType:a.fromType,id:e.id,groupName:e.groupName}).then((function(e){a.$logger.info("AddOrSaveGroupName",e)})).finally((function(){e.editing=!1,a.$set(a.groups,t,e)}))}():(this.newGroupName=e.groupName,e.editing=!0,this.$set(this.groups,t,e))},handleDeleteGroup:function(e){var t=this;this.$logger.info("handleDeleteGroup",e),Object(r["DeleteGroup"])({fromId:this.fromId,fromType:this.fromType,id:e.id}).then((function(e){t.$logger.info("DeleteGroup",e),t.getAssociate()}))},handleViewDetail:function(e){u["info"]("handleViewDetail",e),this.previewCurrentId=e.id,this.previewType=e.type,this.previewVisible=!0},handleEditLinkItem:function(e){u["info"]("handleEditLinkItem",e),e.type===c["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===c["e"].task?window.open("/teacher/task-redirect/"+e.id,"_blank"):e.type===c["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleDeleteLinkItem:function(e){var t=this;this.$logger.info("handleDeleteLinkItem",e),Object(r["AssociateCancel"])({fromId:this.fromId,fromType:this.fromType,toId:e.id,toType:e.type}).then((function(e){t.$logger.info("handleDeleteLinkItem response ",e),t.getAssociate()}))},handleDragEnd:function(){var e=this;u["info"]("handleDragEnd ",this.groups),this.groups.forEach((function(t,a){e.$set(e.groups,a,t)})),Object(r["SaveGroupItems"])({fromId:this.fromId,fromType:this.fromType,groups:this.groups}).then((function(t){e.$logger.info("AddOrSaveGroupName",t)})).finally((function(){}))},onMove:function(e,t){return!!e.draggedContext.element.groupName&&!!e.relatedContext.element.groupName},handleDragContent:function(e,t){this.$logger.info("PlanLink handleDragContent",e,this.groups,t);var a=JSON.parse(e.item.dataset.item);this.$logger.info("drag in data ",a)}}},y=v,b=(a("8b49"),a("0c7c")),w=Object(b["a"])(y,i,s,!1,null,"39bd8b28",null);t["a"]=w.exports},"19d1":function(e,t,a){},"1d3c":function(e,t,a){},"1e54":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAwxJREFUWEfF2E9IFFEcB/Dvb3ZGtzBISWlnu2Vg4MFrdEmoQ5AUhOShg9Cx0t2K/pysQ5gg7mx4DCIqMlDqkLCQkYcOQZeig4JFHXR3U0mJRdydt/OLGZth0nV3Vndn97j7fu999vvevJk3BB8/LQ/5sGyIUQJOMCAATAlJvrvYR19sBvnlaYnpx2VCgoAG95jMEEzUk4rIE+b3voDUuDgL5mebMW5YnulMOipP+gMazrZBlt4TcHC7GWEgs57Vj/oCMhGqFxTTI99AXlDMWK4KKKSJ8xL4Sm5F7lq6Rxn3NBVLylzgFQeZGGIeI4LMwAd9RT7tFcWMqYqC3Bg7Fa8oBtIQRmfFQIUwXlFWO2F0Jm/Uz1YEVAzjCQXAxFRkY/SCKYVyL/pdJVQOxitqx6CdYJwkmMYXonJ3oV17R6DdYOyryV4zm1Flg6qJKXtRVxtTFsgPjGeQXxhPID8xJUF+Y4qCaoHZFlQrTEFQLTFbQLXG/Af692j5qdhRpciJwXq42u52UM7Zz7l1qJr+ioBz5RSbbUvdm8rtzwI1Da0dCtYpP8zn4HI6qDTGmbJQPN8vsaHVGuOA1Jj+lggnvYKqkYw9NjUPcIOyX6x4na5qYqyEVE1cIPCYx3TmWRin3FeT9Yca84MAdzAjkYoq9+2+zJcMxBwBY1kPyLcX++i7+Zs6/OcAAsFBELUxSeOp/kDcSUjVxGMC95YCWeerXLZ76WZD2t12Sz1R70K//KR5ZL1VocCMkzzzt4Vo3RGzNqyJpwBftPthUE8yIr/cSCiWmyOi1iKgaWYjnozWvy7UJqzpXwG0uzofTUbkq+pItock6YW7Jrci7zNPseGYmAOxMyYDD5IR5Y4FCms6bx6Igc/EGM9DPE9H9/wslp6q6YME3LbbiHy+69f14BtrK6lXZuyNloGPyYhybCMhPQYgYtfkGZ3pqDJtgUKaHjNfsQE0y2y8y+ZE4vetvfOlptD5fYDlUJNxmQxuB/KT7iSbY7kOhaRLAGfWODO0Gm1ctepcNcxiInUtmLD7+wvOVfp1AUVkuQAAAABJRU5ErkJggg=="},"1e7f":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my-content"},[e.showTabs?i("div",{staticClass:"display-type-toggle"},[-1!==e.filterTypeList.indexOf(e.typeMap["unit-plan"])?i("div",{class:{"display-type-item":!0,"active-display-type":e.currentType===e.typeMap["unit-plan"]},on:{click:function(t){return e.handleToggleDisplayType(e.typeMap["unit-plan"])}}},[e._v(" "+e._s(e.$t("teacher.my-content.unit-plan-type"))+" ")]):e._e(),-1!==e.filterTypeList.indexOf(e.typeMap.task)?i("div",{class:{"display-type-item":!0,"active-display-type":e.currentType===e.typeMap.task},on:{click:function(t){return e.handleToggleDisplayType(e.typeMap.task)}}},[e._v(" "+e._s(e.$t("teacher.my-content.tasks-type"))+" ")]):e._e(),-1!==e.filterTypeList.indexOf(e.typeMap.evaluation)?i("div",{class:{"display-type-item":!0,"active-display-type":e.currentType===e.typeMap.evaluation},on:{click:function(t){return e.handleToggleDisplayType(e.typeMap.evaluation)}}},[e._v(" "+e._s(e.$t("teacher.my-content.evaluation-type"))+" ")]):e._e()]):e._e(),e.showCreate?i("div",{staticClass:"create-new-action"},[i("div",{staticClass:"create-action"},[i("a-button",{attrs:{type:"primary",shape:"round",icon:"plus",loading:e.createLoading},on:{click:e.handleEnsureCreate}},[e._v(" Create New "+e._s(e.currentTypeLabel)+" ")])],1)]):e._e(),i("div",{staticClass:"content-wrapper"},[i("a-skeleton",{attrs:{loading:e.skeletonLoading,active:""}},[i("div",{staticClass:"content-list"},["list"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("a-list-item",{key:"item.key",class:{"my-list-item":!0,"active-item":-1!==e.mySelectedList.indexOf(t.type+"-"+t.id),"active-new-item":t.id===e.editId},attrs:{"data-id":t.type+"-"+t.id}},[i("div",{staticClass:"select-block",on:{click:function(a){return e.handleLinkItem(t,a)}}},[-1===e.mySelectedList.indexOf(t.type+"-"+t.id)?i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}}):e._e(),-1!==e.mySelectedList.indexOf(t.type+"-"+t.id)?i("div",{staticClass:"selected-icon"},[i("img",{attrs:{src:a("7aa6")}})]):e._e()],1),i("span",{staticClass:"content-info-left"},[i("content-type-icon",{attrs:{type:t.type}}),i("span",{staticClass:"name-content"},[e.editId===t.id&&"input"===e.createNewNameMode?i("a-input",{ref:"inputRef",attrs:{size:"small",type:"text",placeholder:"Input name"},on:{blur:function(a){return e.handleConfirmName(t)},pressEnter:function(a){return e.handleConfirmName(t)}},model:{value:e.createNewName,callback:function(t){e.createNewName=t},expression:"createNewName"}}):i("a-tooltip",{attrs:{title:"Rename"}},[i("span",{staticClass:"name-text",on:{click:function(a){return e.handleRename(t)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")])])],1)],1),i("span",{staticClass:"content-info-right"},[i("span",{staticClass:"status"},[0===t.status?[e._v("Draft")]:e._e(),1===t.status?[e._v("Published")]:e._e()],2),i("span",{staticClass:"update-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime||t.createTime))+" ")]),i("div",{staticClass:"action"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item",on:{click:function(a){return e.handleViewDetail(t,a)}}},[i("span",{staticClass:"btn-text"},[e._v("Preview")])]),i("div",{staticClass:"action-item",on:{click:function(a){return e.handleEditItem(t)}}},[i("span",{staticClass:"btn-text"},[e._v("Edit")])])]),e.mode===e.displayMode.Link?i("div",{attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link this content to my Unit?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleLinkItem(t,a)}}},[i("span",[i("a-icon",{attrs:{type:"form"}}),e._v(" Link ")],1)])],1)])]):e._e(),e.mode===e.displayMode.Refer?i("div",{attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item refer-item"},[i("a-button",{staticClass:"refer-btn",attrs:{type:"primary"},on:{click:function(a){return e.handleReferItem(t,a)}}},[i("img",{staticClass:"btn-icon btn-icon-white",attrs:{src:a("e568")}}),i("img",{staticClass:"btn-icon btn-icon-color",attrs:{src:a("83d7")}}),i("div",{staticClass:"btn-text"},[e._v(" Refer ")])])],1)])]):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.displayMode.Evaluation,expression:"mode === displayMode.Evaluation"}],attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleLinkItem(t,a)}}},[i("div",{staticClass:"link-item"},[i("img",{staticClass:"link-icon",attrs:{src:a("de1a")}}),e._v(" "+e._s("Link this evaluation to this "+(t.type===e.typeMap.task?"task":t.type===e.typeMap.task?"lesson":""))+" ")])])],1)])])])])])}}],null,!1,2451434729)}):e._e(),"card"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("div",{key:"item.key",staticClass:"my-card-list-item"},[i("div",{staticClass:"cover-img-wrapper"},[i("div",{staticClass:"cover-image",style:{backgroundImage:"url('"+t.image+"')"}})]),i("div",{staticClass:"item-intro"},[i("div",{staticClass:"page-info"},[i("span",{staticClass:"page-num-tag"},[e._v(" 1/1 ")])]),i("div",{staticClass:"main-title",on:{click:function(a){return e.handleViewDetail(t,a)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")]),i("div",{staticClass:"sub-title"},[e._v(" "+e._s(e._f("dayjs")(t.createTime))+" ")])]),i("div",{staticClass:"item-action-wrapper"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.displayMode.Link,expression:"mode === displayMode.Link"}]},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link this content to my Unit?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleLinkItem(t,a)}}},[i("span",[i("a-icon",{attrs:{type:"form"}}),e._v(" Link ")],1)])],1)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.displayMode.Refer,expression:"mode === displayMode.Refer"}]},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item refer-item"},[i("a-button",{staticClass:"refer-btn",attrs:{type:"primary"},on:{click:function(a){return e.handleReferItem(t,a)}}},[i("img",{staticClass:"btn-icon btn-icon-white",attrs:{src:a("e568")}}),i("img",{staticClass:"btn-icon btn-icon-color",attrs:{src:a("83d7")}}),i("div",{staticClass:"btn-text"},[e._v(" Refer ")])])],1)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.displayMode.Evaluation,expression:"mode === displayMode.Evaluation"}]},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleLinkItem(t,a)}}},[i("div",{staticClass:"link-item"},[i("img",{staticClass:"link-icon",attrs:{src:a("de1a")}}),e._v(" "+e._s("Link this evaluation to this "+(t.type===e.typeMap.task?"task":t.type===e.typeMap.task?"lesson":""))+" ")])])],1)])])]),i("div",{staticClass:"card-action-icon"},[-1!==e.mySelectedList.indexOf(t.type+"-"+t.id)?i("img",{attrs:{src:a("7aa6")}}):e._e()])])}}],null,!1,2986142521)}):e._e(),i("div",{staticClass:"modal-ensure-action-line"},[i("a-button",{staticClass:"action-item action-cancel",attrs:{shape:"round"},on:{click:e.handleCancel}},[e._v("Cancel")]),i("a-button",{staticClass:"action-ensure action-item",attrs:{type:"primary",shape:"round",loading:e.ensureLoading},on:{click:e.handleEnsure}},[e._v("Ok")])],1)],1)]),i("a-drawer",{attrs:{destroyOnClose:"",placement:"right",width:"800px",closable:!1,visible:e.previewVisible},on:{close:e.handlePreviewClose}},[i("div",{staticClass:"preview-wrapper"},[i("a-row",{staticClass:"preview-wrapper-row"},[i("a-col",{attrs:{span:"3"}},[i("div",{staticClass:"view-back",on:{click:e.handlePreviewClose}},[i("div",{staticClass:"back-icon"},[i("img",{attrs:{src:a("217a")}})])])]),i("a-col",{attrs:{span:"21"}},[i("div",{staticClass:"detail-wrapper"},[e.previewCurrentId&&e.previewType?i("div",{staticClass:"preview-detail"},[i("common-preview-no-link",{attrs:{id:e.previewCurrentId,type:e.previewType}})],1):e._e()])])],1)],1)])],1)])},s=[],n=a("3835"),r=a("b85c"),o=a("1da1"),l=(a("96cf"),a("a9e3"),a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("fb6a"),a("159b"),a("a434"),a("b0c0"),a("823b")),c=a("ea23"),d=a("7d7a"),u=a("9afb"),p=a("95c6"),h=a("3f76"),m=a("4803"),g=a("8f46"),f=a("4fb2"),v=a("57a5b"),y=a("69b3"),b=a("05be"),w=a.n(b),C=a("8d47"),k=a.n(C),T=a("9f06"),A=a("b199"),L=a("de0d"),I=a("1449"),S={name:"NewMyContent",components:{CommonPreviewNoLink:I["a"],ContentStatusIcon:m["a"],ContentTypeIcon:g["a"],UnitPlanPreview:c["default"],MaterialPreview:d["default"],NoMoreResources:y["a"],PuBuIcon:w.a,ListModeIcon:k.a},props:{filterTypeList:{type:Array,default:function(){return[]}},selectedList:{type:Array,default:function(){return[]}},mode:{type:String,default:v["a"].Link},selectedType:{type:String,default:"created-by-me"},currentId:{type:String,default:""},fromType:{type:Number,required:!0},fromId:{type:String,required:!0},defaultGroupName:{type:String,default:null},showTabs:{type:Boolean,default:!0},showCreate:{type:Boolean,default:!0},noSelectedTips:{type:String,default:"Please select at least one content."}},data:function(){var e=this;return{skeletonLoading:!0,loading:!0,createLoading:!1,loadFailed:!1,myContentList:[],displayMode:v["a"],currentStatus:"all-status",currentStatusLabel:this.$t("teacher.my-content.all-status"),currentType:null,currentTypeLabel:null,currentOwner:"all-owner",currentOwnerLabel:this.$t("teacher.my-content.all-owner"),previewVisible:!1,previewCurrentId:"",previewType:"",pagination:{onChange:function(t){l["info"]("pagination onChange",t),e.pageNo=t,e.loadMyContent()},showTotal:function(e){return"Total ".concat(e," items")},total:0,pageSize:10},pageNo:1,typeMap:h["e"],dataListMode:"list",createdType:"All",createNewName:"",createNewNameMode:"hide",mySelectedList:[],waitCancelAssociateMap:new Map,waitAddAssociateMap:new Map,editId:"",ensureLoading:!1}},watch:{selectedType:function(e){this.$logger.info("watch select type "+e),this.pageNo=1,this.myContentList=[],this.pagination.total=0,this.pagination.pageSize=8,this.loadMyContent()}},created:function(){this.$logger.info("NewMyContent filterTypeList",this.filterTypeList),this.filterTypeList.length&&(this.currentType=this.filterTypeList[0],this.currentTypeLabel=Object(h["b"])(this.filterTypeList[0])),this.$logger.info("currentTypeLabel "+this.currentTypeLabel),this.$logger.info("NewMyContent selectedList",this.selectedList),this.mySelectedList=this.selectedList.slice(),this.loadMyContent()},methods:{loadMyContent:function(){this.loading=!0,"Created by me"===this.createdType?this.getMyContent():"My Favorite"===this.createdType?this.getMyFavorites():"Shared"===this.createdType?(this.loading=!1,this.skeletonLoading=!1,this.$logger.info("shared coming soon!")):this.getMyContent()},handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},getMyContent:function(){var e=this,t=[];this.filterTypeList.forEach((function(e){t.push(h["e"][e])})),Object(u["FindMyContent"])({owner:h["c"][this.currentOwner],types:this.currentType?[this.currentType]:t,pageNo:this.pageNo,pageSize:this.pagination.pageSize,currentId:this.currentId}).then((function(t){l["info"]("getMyContent",t),t.result&&t.result.records&&t.result.records.length?(t.result.records.forEach((function(e,t){e.key=t})),e.myContentList=t.result.records,e.pagination.total=t.result.total):(e.myContentList=[],e.pagination.total=0),l["info"]("myContentList",e.myContentList)})).finally((function(){e.loading=!1,e.skeletonLoading=!1,e.$nextTick((function(){e.$refs.inputRef&&e.$refs.inputRef.focus()}))}))},getMyFavorites:function(){var e=this;this.$logger.info("getMyFavorites"),Object(p["FavoritesGetMyFavorites"])({type:this.currentType,pageNo:this.pageNo,pageSize:this.pagination.pageSize}).then((function(t){e.$logger.info("FavoritesGetMyFavorites response",t),t.result&&t.result.records&&t.result.records.length?(t.result.records.forEach((function(e,t){e.key=t})),e.myContentList=t.result.records,e.pagination.total=t.result.total,e.pagination.current=t.result.current):(e.myContentList=[],e.pagination.total=0)})).finally((function(){e.loading=!1,e.skeletonLoading=!1}))},toggleStatus:function(e,t){l["info"]("toggleStatus "+e+" label "+t),this.currentStatus=e,this.currentStatusLabel=t,this.loadMyContent()},toggleType:function(e,t){l["info"]("toggleType "+e+" label "+t),this.currentType=e,this.currentTypeLabel=t,this.loadMyContent()},toggleOwner:function(e,t){l["info"]("toggleOwner "+e+" label "+t),this.currentOwner=e,this.currentOwnerLabel=t,this.loadMyContent()},handleLinkItem:function(e,t){l["info"]("handleLinkItem",e),t.preventDefault(),t.stopPropagation();var a=e.type+"-"+e.id,i=this.mySelectedList.indexOf(a);-1!==i?(this.mySelectedList.splice(i,1),this.waitCancelAssociateMap.set(a,e),this.waitAddAssociateMap.delete(a)):(this.mySelectedList.push(a),this.waitAddAssociateMap.set(a,e),this.waitCancelAssociateMap.delete(a))},handleViewDetail:function(e,t){l["info"]("my content created by me handleViewDetail",e,t),t.preventDefault(),t.stopPropagation(),this.previewCurrentId=e.id,this.previewType=e.type,this.previewVisible=!0},handlePreviewClose:function(){l["info"]("handlePreviewClose"),this.previewCurrentId="",this.previewType="",this.previewVisible=!1},handleReferItem:function(e,t){l["info"]("handleReferItem",e),t.preventDefault(),t.stopPropagation(),f["b"].$emit(f["a"].ReferContentItem,{item:e})},handleToggleType:function(e){this.$logger.info("handleToggleType "+e),this.createdType=e,this.loadMyContent()},handleToggleDisplayType:function(e){this.$logger.info("handleToggleDisplayType"+e),this.currentType===e?(this.currentType=null,this.currentTypeLabel=null):(this.currentType=e,this.currentTypeLabel=Object(h["b"])(e)),this.$logger.info("after handleToggleDisplayType"+this.currentType),this.loadMyContent()},handleEnsureCreate:function(){var e=this;this.$logger.info("handleEnsureCreate "+this.currentType+" "+this.createNewName),this.createLoading=!0,this.createNewName="",this.currentType===this.typeMap.evaluation?Object(T["EvaluationAddOrUpdate"])({name:this.createNewName}).then((function(t){e.$logger.info("EvaluationAddOrUpdate response",t),e.editId=t.result.id,e.createNewNameMode="input";var a=e.typeMap.evaluation+"-"+e.editId;e.mySelectedList.push(a),e.waitAddAssociateMap.set(a,{id:e.editId,type:e.typeMap.evaluation}),e.loadMyContent()})).finally((function(){e.createLoading=!1})):this.currentType===this.typeMap.task?Object(A["TaskAddOrUpdate"])({name:this.createNewName}).then((function(t){e.$logger.info("TaskAddOrUpdate response",t),e.editId=t.result.id,e.createNewNameMode="input";var a=e.typeMap.task+"-"+e.editId;e.mySelectedList.push(a),e.waitAddAssociateMap.set(a,{id:e.editId,type:e.typeMap.task}),e.loadMyContent()})).finally((function(){e.createLoading=!1})):this.currentType===this.typeMap["unit-plan"]&&Object(L["UnitPlanAddOrUpdate"])({name:this.createNewName}).then((function(t){e.$logger.info("UnitPlanAddOrUpdate response",t),e.editId=t.result.id,e.createNewNameMode="input";var a=e.typeMap["unit-plan"]+"-"+e.editId;e.mySelectedList.push(a),e.waitAddAssociateMap.set(a,{id:e.editId,type:e.typeMap["unit-plan"]}),e.loadMyContent()})).finally((function(){e.createLoading=!1}))},handleCancel:function(){this.$emit("cancel")},handleEnsure:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i,s,o,l,c,d,p,h,m,g,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$logger.info("handleEnsure add group associate",e.waitAddAssociateMap,e.waitCancelAssociateMap,e.defaultGroupName),e.ensureLoading=!0,!e.waitCancelAssociateMap.size&&!e.waitAddAssociateMap.size){t.next=18;break}a={fromId:e.fromId,fromType:e.fromType,groupName:e.defaultGroupName,otherContents:[]},i=Object(r["a"])(e.waitAddAssociateMap);try{for(i.s();!(s=i.n()).done;)o=Object(n["a"])(s.value,2),l=o[0],c=o[1],-1===e.selectedList.indexOf(l)?a.otherContents.push({toId:c.id,toType:c.type}):e.$logger.info("handleEnsure waitAddAssociateMap item is selected skip "+l,c,e.selectedList)}catch(v){i.e(v)}finally{i.f()}d={fromId:e.fromId,fromType:e.fromType,others:[]},p=Object(r["a"])(e.waitCancelAssociateMap);try{for(p.s();!(h=p.n()).done;)m=Object(n["a"])(h.value,2),g=m[0],f=m[1],-1!==e.selectedList.indexOf(g)?d.others.push({toId:f.id,toType:f.type}):e.$logger.info("handleEnsure waitCancelAssociateMap item is no selected skip "+g,f,e.selectedList)}catch(v){p.e(v)}finally{p.f()}if(e.ensureLoading=!0,e.$logger.info("associate data",a),!a.otherContents.length){t.next=14;break}return t.next=14,Object(u["Associate"])(a);case 14:if(e.$logger.info("cancelAssociateData data",d),!d.others.length){t.next=18;break}return t.next=18,Object(u["AssociateCancel"])(d);case 18:e.ensureLoading=!1,e.$emit("ensure");case 20:case"end":return t.stop()}}),t)})))()},handleEditItem:function(e){l["info"]("handleEditItem",e),e.type===h["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===h["e"].task?window.open("/teacher/task-redirect/"+e.id,"_blank"):e.type===h["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleConfirmName:function(e){var t=this;this.createNewNameMode="hide",e.name!==this.createNewName&&(e.name=this.createNewName,Object(u["Rename"])({id:e.id,type:e.type,name:this.createNewName}).then((function(e){t.$logger.info("Rename response",e),e.success||t.$message.error(e.message)})))},handleRename:function(e){var t=this;this.editId=e.id,this.createNewNameMode="input",this.createNewName=e.name,this.$nextTick((function(){t.$refs.inputRef.focus()}))}}},x=S,M=(a("2d67"),a("0c7c")),E=Object(M["a"])(x,i,s,!1,null,"1eae7179",null);t["a"]=E.exports},"1f7f":function(e,t,a){"use strict";a("1d3c")},"1ffa":function(e,t,a){e.exports=a.p+"img/delete.531182ef.png"},"20b5":function(e,t,a){},"20de":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"30.75",height:"24.6",viewBox:"0 0 30.75 24.6"},children:[{tag:"g",attrsMap:{id:"黄色文件夹",transform:"translate(0)"},children:[{tag:"path",attrsMap:{id:"路径_406","data-name":"路径 406",style:"fill: #ce9f06;",class:"cls-1",d:"M269.187,4.28H258.341L255.592.494A1.286,1.286,0,0,0,254.676,0h-7.638c-.916,0-1.526.988-1.221,2.305l2.749,17.288a1.486,1.486,0,0,0,1.375,1.317h16.8a1.513,1.513,0,0,0,1.375-1.316l2.139-13.173c.305-1.153-.305-2.14-1.07-2.14Z",transform:"translate(-239.833)"}},{tag:"path",attrsMap:{id:"路径_407","data-name":"路径 407",style:"fill: #fff;",class:"cls-2",d:"M358.4,286.514V275.456h18.45v11.058Z",transform:"translate(-349.793 -268.839)"}},{tag:"path",attrsMap:{id:"路径_408","data-name":"路径 408",style:" fill: #ffcd2c;",class:"cls-3",d:"M29.158,229.582H15.641l-3.615-3.806a1.656,1.656,0,0,0-1.1-.5H1.5a1.552,1.552,0,0,0-1.415,2.15L4.64,243.31a1.766,1.766,0,0,0,1.728,1.159H25.413a1.768,1.768,0,0,0,1.729-1.157l3.588-12.076a1.523,1.523,0,0,0-1.572-1.653Z",transform:"translate(0 -219.868)"}}]}]})}},"214d":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-tag"},[a("div",{staticStyle:{"font-family":"Inter-Bold"}},[e._v(" "+e._s(e.knowledge.name)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.tags.length,expression:"tags.length"}],staticClass:"tag-select-wrapper"},[a("a-row",[a("a-col",{attrs:{offset:"0",span:"24"}},[a("div",{staticClass:"skt-tag-list"},e._l(e.tags,(function(t){return a("div",{key:t,staticClass:"skt-tag-item "},[a("a-tag",{staticClass:"tag-item",attrs:{closable:!0},on:{close:function(a){return e.closeTag(t)}}},[e._v(" "+e._s(t)+" ")])],1)})),0)])],1)],1),a("a-spin",{directives:[{name:"show",rawName:"v-show",value:e.tagLoading,expression:"tagLoading"}],staticClass:"spin-loading"}),a("a-row",[a("a-col",[a("div",{staticClass:"tag-search-input"},[a("a-input-search",{staticClass:"search-input",attrs:{size:"large",placeholder:"Search tag"},on:{search:e.searchTag,keyup:e.searchTag},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleKeyup.apply(null,arguments)}},model:{value:e.inputTag,callback:function(t){e.inputTag=t},expression:"inputTag"}})],1)])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.tagSearchList.length||e.inputTag,expression:"tagSearchList.length || inputTag"}],staticClass:"skt-tag-wrapper"},[a("a-row",[a("a-col",{attrs:{offset:"0"}},[a("div",{staticClass:"skt-tag-list"},[a("div",{staticClass:"triangle"}),a("div",{staticClass:"search-tag-wrapper tag-wrapper"},e._l(e.tagSearchList,(function(t){return a("div",{key:t,staticClass:"skt-tag-item"},[a("a-tag",{class:{"tag-item":!0,"tag-disable":e.tags.indexOf(t)>-1},attrs:{draggable:"true"},on:{click:function(a){return e.selectChooseTag(t)}}},[e._v(" "+e._s(t)+" ")])],1)})),0),a("div",{staticClass:"create-tag-wrapper tag-wrapper"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.tagIsExist(e.inputTag,e.tagSearchList)&&e.inputTag&&e.inputTag.length>=1,expression:"!tagIsExist(inputTag,tagSearchList) && inputTag && inputTag.length >= 1"}],staticClass:"skt-tag-create-line",on:{click:e.handleCreateTagByInput}},[a("div",{staticClass:"create-tag-label"},[e._v(" Create ")]),a("div",{staticClass:"create-tag"},[a("a-tag",{staticClass:"created-tag-item"},[e._v(" "+e._s(e.inputTag)+" ")])],1)])])])])],1)],1),e.contentLoading?e._e():a("div",{directives:[{name:"show",rawName:"v-show",value:!e.inputTag,expression:"!inputTag"}],staticClass:"hot-select-wrapper"},[a("a-row",[a("a-col",{attrs:{offset:"0",span:"24"}},[a("div",{staticClass:"title"},[e._v("Hot")]),a("div",{staticClass:"skt-tag-list"},e._l(e.hotList,(function(t,i){return a("div",{key:i,staticClass:"skt-tag-item"},[a("a-tag",{class:{"tag-item":!0,"tag-disable":e.tags.indexOf(t)>-1},on:{click:function(a){return e.addTag(t)}}},[e._v(" "+e._s(t)+" ")])],1)})),0)]),a("a-col",{attrs:{offset:"0",span:"24"}},[a("div",{staticClass:"title"},[e._v("Knowledge")]),a("div",{ref:"knowledgeTagRef",class:{"skt-tag-list":!0,"hide-some":e.isHideSome}},e._l(e.recommendList,(function(t,i){return a("div",{key:i,staticClass:"skt-tag-item "},[a("a-tag",{class:{"tag-item":!0,"tag-disable":e.tags.indexOf(t)>-1},on:{click:function(a){return e.addTag(t)}}},[e._v(" "+e._s(t)+" ")])],1)})),0),a("div",{staticClass:"downUp"},[e.isHideSome?a("a-icon",{attrs:{type:"double-right"},on:{click:e.showAll}}):e._e(),e.isHideSome?e._e():a("a-icon",{attrs:{type:"double-left"},on:{click:e.showAll}})],1)])],1)],1),a("a-skeleton",{attrs:{loading:e.contentLoading,active:""}})],1)},s=[],n=(a("a434"),a("498a"),a("823b")),r=a("db6a"),o=a("d33b4"),l=a("4fcf"),c=l.debounce,d={name:"LearnOutAddTag",components:{},mixins:[o["a"]],computed:{},props:{knowledge:{type:Object,default:function(){}}},data:function(){return{tags:this.knowledge.tags?this.knowledge.tags:[],hotList:[],recommendList:[],tagLoading:!1,contentLoading:!1,visible:!0,inputTag:"",tagName:"",tagSearchList:[],userTags:[],isHideSome:!0}},created:function(){this.debouncedSearchKnowledge=c(this.searchTag,500),this.$logger.info("knowledge ",this.knowledge),this.loadRecommendTags()},watch:{},methods:{handleOk:function(){},closeTag:function(e){this.tags.splice(this.tags.indexOf(e),1),this.$emit("handle-select-tags",this.tags),this.$logger.info("handle-select-tags ",this.tags)},selectChooseTag:function(e){this.addTag(e)},loadRecommendTags:function(){var e=this;this.contentLoading=!0,Object(r["FindRecommendByKnowledgeId"])({knowledgeId:this.knowledge.knowledgeId}).then((function(t){e.$logger.info("loadRecommendTags response",t.result),t.success?(e.hotList=t.result.hots,e.recommendList=t.result.tags,e.contentLoading=!1,setTimeout((function(){e.$refs.knowledgeTagRef.offsetHeight<200&&(e.isHideSome=!1)}),100)):e.$message.error(t.message)}))},addTag:function(e){-1===this.tags.indexOf(e)&&this.tags.push(e),this.$emit("handle-select-tags",this.tags),this.$logger.info("handle-select-tags ",this.tags)},handleKeyup:function(){this.$logger.info("tag handleKeyup ",this.inputTag),this.debouncedSearchKnowledge(this.inputTag),this.handleCreateTagByInput()},handleCreateTagByInput:function(){this.$logger.info("skill handleCreateTagByInput "+this.inputTag),this.addTag(this.inputTag),this.inputTag=""},searchTag:function(){var e=this;n["info"]("searchTag",this.inputTag);var t=this.inputTag;t&&"string"===typeof t&&t.trim().length>=3?Object(r["FindRecommendByKnowledgeId"])({knowledgeId:this.knowledge.knowledgeId,key:t}).then((function(t){n["info"]("searchByDescription",t),e.tagSearchList=t.result.tags})):this.tagSearchList=[]},handleEnsureSelectData:function(){this.addTagVisible=!1,this.knowledge.tags=this.tags,this.$emit("remove-learn-outs",this.tags)},showAll:function(){this.isHideSome=!this.isHideSome}}},u=d,p=(a("9ee6"),a("0c7c")),h=Object(p["a"])(u,i,s,!1,null,"29f8bd7a",null);t["a"]=h.exports},"217a":function(e,t,a){e.exports=a.p+"img/back.c46424eb.png"},"22dc":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAABJZJREFUWEfNmV1oW2Ucxp//OemW0a45ycmcqGBxvbBNoqKTQcGLtlNRmRdeOKej0oEfF04Q1+HNbnohTHQIE8SvORkdeiPCpKgoil7Uj4mynNZ1s250zinm5Jz0O0tyHkm71iZN87WTNecy7///PL88vOfN+74RVPk06+3bVCjdBLZCcAuA60EJiCBF0oTIeYCjhJzMOM53U/HhkSqtctqkEhGv1naz16M8L1R2QnBjJb0kzoM4kkkl35ycPBOrpHd5bVnATU1brlPXbegXkT0iaKjW7ErftEO+npDUQcRGJyvVKgmsBdr3iKiHIPBVKl6snsA5h5ldE+bID5XoFgG+q0HTk2+JSG8lgpXUkkiBeMmORw+V27cK8G2Nft35GCL3lSt0NXUkj9mmkQ0mU0qnELBH08ODInJvqWY3x0kO2Kaxu5TmCmBND38gIj2lGmsxTiezz46PvFZMOwe42R96XFWVgVrAlKOZndMUdiRixsnV6peAGxvDm9d5ZdTt1aAc0OU1BH+1Y8bdANKFepeANT1yVARPVmpQk3pir2VG31gV2OcLbxGPjIpArQlAxaL824rFtwB/zeS3zies6aHDIspzFevWsIFkj20axwoBq1owckmATTX0r0b6MysWfWAF8EZ/+z0eVf22GsVa9hBM2jHbD/w5u9xHtGCoX6AcqKV5tdoOM9sT5shXOcC+YGhQgbIi+mpN3OxzHPYl4sareQmHzwqk1U0j17QcvGPFo0/nAPv18CREmlwzcVHIAQcTMeOh3IT1SLp+1t+8b0sOWabRkT8l5gSy3sVg3JMihiwzmgesh00RCbjn4qIS+YVlGvfnJ/yLQO5w0cY1KYLv2jHjqdyXLhj+EJCdrrm4KEQHL+Yfn0QLRF4QBWWfqVzkKSmVdtAxGY8O5f5w+NruVBo8P5fsvtYF5IRlGnr+vnhhtxYMjwkke3tTRw8/smLGY/lAC8CB0AFRlP46ogXT7LRt45uCwE1NrZs8Xu+FelmPSf5om8a2QgEuHZH8gfArUKSvHlJOZ7hj0jI+LQqMQGuzXzYMQ3DTWkKTPGGbxsOrMeQc87ObeVVRv16rvQUJK4lkZNY8c7Es4GyRTw/tV0Q5uBYpk5le2xw5Wsy74N2aLxA5rijYda2hSUTTydnuqanf/y074SuFqj8YPg7Io7WGJrMXgBQRUbJeJIZTc+yenjb+Kf7SrRxVfXrkZQH7smq1ACcYo4MnRJwbAOW9RWiQp5Ozma6Zmd8uFVyHi8E0+9seVFTPYcH8/xiuPSQ/Sc3h2cUkNT3UA8j7S0mDZ5O83Jn/ApaZXOt6X9C7VyD7BNh8NdQETzkO90/Ehz/P1ykAPZZ00DkbNy4s1pYJvFje4vUFGneLyDMisrV8cM4R+FIyfNuyhk8U69MCkV5RcGSxhsAfTF3enkiMnst+ViHw/1aadmsLFU+3CG4H0ALBxqVRigNgnHBOA/gpYVrfF7onWw1cC7T3iqIuQYMcd9LoSiSMsaqBy0+3usr86QHiYlpSXXULnP2aBeb0qboGnodeNj1Ijtc98ELS4UcA2UGkB/4DghWui59/P+kAAAAASUVORK5CYII="},"23f6":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var i=a("b775"),s="api/contentGrade",n={save:"/classcipe/".concat(s,"/save"),getStatByContentId:"/classcipe/".concat(s,"/getStatByContentId")};function r(e){return Object(i["d"])({url:n.save,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(i["d"])({url:n.getStatByContentId,method:"get",params:e})}},"24e3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAmCAYAAAC29NkdAAAAAXNSR0IArs4c6QAAA2BJREFUWEfNmEloFEEUhr83iTHGLQqCMaKIIO4KehARNJLMaDwYMQRF8SxuF8WD4JKgB1HEBZFchIAobogLWWYSoiAo0aCCIgQRcQUXEteAmfST7jjjOHv3lGCdBrr+731dXVNd1UKapi1U4aMaZQZCKcpIhNfAAyya+MFlWUVPWsYNRlHAamA5wlyU8QifgVfAY5Tz4qcxFUOSXdAQSxCOosxJVxz4DpzAYr8EnN/Rpu0MI8weYDNQlJajdGCxVZbREd8vQVBb2Y1Sl0Es/vJD+qmUZbyzL2gbE7GcUZnughMG9kkFB2IzfwlqiJPAJhfQ2K7PgTL6KSCPW8A4TxylTvzsjWSjgtrKNpRjnqCRkPIEwQdMy4GjWNRIgEs2wxHUFibh4wkwJAewuajyBYup9pQZEAxyDmGNuQoGSEq9+Nko2kYpFi+AfANYk4he+hgrGmQ7wmGTZGMsZYMt2IwQMAY1CVIaREO8BUpMcg2yOm1BNQg0jfpoC9oreJ5pshGeYtmC3UCxEaB5SI8t+AiYbZ5thPjQFmwANhjBmYbYi7W2sA4fZ0yzDfGqRK9TRCFv/rt5qHQTpiSyWTiEjx2G7toMxqJWAuwbEGxkDIN4BowwQ8+RorxnEJOljG+x+8GdKAdzRJuJKxvFT70N+yPYTj593EWYZ6aKZ8o9brNAarH+EnQedTMz8NGJMNgzPrdgLzBPKngawSQemkJsBY7nVsdzepNUcCo2nfzYGeQiQrXnMt6C56UicVefXLCdQsKEgEXearlO3aIEv8zkZ3wyqaAzH69QzDDn+Piv39Od/KBMVvI12W2lFPz9pykhjzvARNdjkl2gC2GhlPMpVfe0go5kK1NQbv6DXfdL8lksZc6BLWXLKBgjac/JCdkNTMZeXeQTyCSXsA6mw2qQcQjNwKyM5dOCuE+YSqnkQzacrEYwAtJ2ignTBCzIBp6kTxvdVEkN37LNuxJ0HncLQ8njGsrSbIs4/ZQr9LBGahKXkpznYDxAL1DAaBrQrD+XnKKcLSID71c3zfUIRh+3IoTYj7ArTcF+lJ3i54gbqdi+ngWjokHWIpwGCuMkehDWSrnzx/LcchZ0pleQ+QjXomul8ow+VsgKujyb/Q4aEXQkrzKcItZjf37s5WyqV5db4V8Yk/SC1H4NzQAAAABJRU5ErkJggg=="},"272d":function(e,t,a){"use strict";a("c52c")},2775:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-search-input"},[a("a-input",{style:{borderRadius:e.round?"32px":"6px"},attrs:{placeholder:e.placeholder},nativeOn:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)},function(t){return e.handleUpdateValue.apply(null,arguments)}]},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}}),a("div",{staticClass:"search-icon",on:{click:e.handleSearch}},[a("search-icon")],1),e.data?a("div",{staticClass:"search-close",on:{click:e.handleClear}},[a("a-icon",{attrs:{type:"close"}})],1):e._e()],1)},s=[],n=a("c44c"),r=a.n(n),o={name:"CustomSearchInput",components:{SearchIcon:r.a},props:{value:{type:String,default:null},round:{type:Boolean,default:!1},placeholder:{type:String,default:null}},data:function(){return{data:null}},watch:{value:function(e){this.data=e}},created:function(){this.data=this.value},methods:{handleSearch:function(){this.$logger.info("search",this.data),this.$emit("search",this.data)},handleUpdateValue:function(){this.$emit("update:value",this.data),this.$emit("change",this.data)},handleClear:function(){this.data="",this.handleUpdateValue(),this.handleSearch(),this.$emit("clear")}}},l=o,c=(a("cfe3"),a("0c7c")),d=Object(c["a"])(l,i,s,!1,null,"10ece3be",null);t["a"]=d.exports},"27aa":function(e,t,a){"use strict";a("5bb5")},"27f0":function(e,t){e.exports="data:image/png;base64,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"},"29d8":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-type-filter"},[a("a-dropdown",[a("a-menu",{staticClass:"create-new-menu",attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{on:{click:function(t){return e.toggleType(null,"All")}}},[a("span",[e._v("All")])]),a("a-menu-item",{on:{click:function(t){return e.toggleType(e.typeMap["unit-plan"],"Units")}}},[a("span",[e._v("Units")])]),a("a-menu-item",{on:{click:function(t){return e.toggleType(e.typeMap.task,"Tasks")}}},[a("span",[e._v("Tasks")])]),a("a-menu-item",{on:{click:function(t){return e.toggleType(e.typeMap.pd,"PD contents")}}},[a("span",[e._v("PD contents")])]),a("a-menu-item",{on:{click:function(t){return e.toggleType(e.typeMap.video,"Videos")}}},[a("span",[e._v("Videos")])])],1),a("a-button",{staticClass:"type-filter-button",staticStyle:{padding:"0 25px",display:"flex","align-items":"center","border-radius":"6px",background:"#FFFFFF","font-family":"Inter-Bold",color:"#182552"}},[e.currentTypeLabel?a("span",[e._v(e._s(e.currentTypeLabel))]):a("span",[e._v("Choose type(s)of content")]),a("a-icon",{attrs:{type:"caret-down"}})],1)],1)],1)},s=[],n=a("f93e"),r=a("3f76"),o={name:"ContentTypeFilter",data:function(){return{currentType:null,typeMap:r["e"],currentTypeLabel:"All"}},methods:{toggleType:function(e,t){this.$logger.info("toggleType "+e+" label "+t),this.currentType=e,this.currentTypeLabel=t,this.pageNo=1,sessionStorage.setItem(n["E"],this.pageNo),sessionStorage.setItem(n["H"],t),e&&sessionStorage.setItem(n["G"],e),this.$emit("change",this.currentType)}}},l=o,c=(a("8c9c"),a("0c7c")),d=Object(c["a"])(l,i,s,!1,null,"95a15538",null);t["a"]=d.exports},"2ae5":function(e,t){e.exports="data:image/png;base64,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"},"2cea":function(e,t,a){},"2d57":function(e,t,a){},"2d67":function(e,t,a){"use strict";a("3c1d")},"2d6c":function(e,t){e.exports="data:image/png;base64,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"},"2e66":function(e,t,a){"use strict";a("495e")},"2f08":function(e,t,a){"use strict";a("4caa")},"2f91":function(e,t){e.exports="data:image/png;base64,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"},3151:function(e,t){e.exports="data:image/png;base64,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"},3361:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"27.909",viewBox:"0 0 28 27.909"},children:[{tag:"defs"},{tag:"path",attrsMap:{id:"liebiao_","data-name":"liebiao ",class:"cls-1",d:"M62,62h6.932v6.93H62V62Zm10.279,0H90v6.93H72.279V62Zm0,10.326H90v7.208H72.279V72.326ZM62,72.326h6.932v7.208H62V72.326Zm0,10.558h6.932v7.024H62V82.885Zm10.279,0H90v7.024H72.279V82.885Z",transform:"translate(-62 -62)"}}]})}},3404:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1654058113220",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4384","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"48",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z",fill:"#8094B2","p-id":"4385"}},{tag:"path",attrsMap:{d:"M521.671111 189.62963a156.292741 156.292741 0 0 1 153.979259 130.844444 123.505778 123.505778 0 0 1 36.598519-5.688889 125.345185 125.345185 0 0 1 87.988148 36.02963 122.88 122.88 0 0 1 2.844444 170.913185l29.392593 29.278815a130.123852 130.123852 0 0 1 29.582222 43.33037 132.020148 132.020148 0 0 1 10.24 51.617185v36.295111a48.772741 48.772741 0 0 1-8.722963 27.83763 37.717333 37.717333 0 0 1-26.548148 15.985778 7.149037 7.149037 0 0 1-2.654815 0.341333h-28.634074v9.481482a22.33837 22.33837 0 0 1-22.755555 22.546963H259.982222a22.452148 22.452148 0 0 1-22.755555-22.546963v-9.481482h-28.444445a7.149037 7.149037 0 0 1-2.654815-0.341333 37.338074 37.338074 0 0 1-26.548148-15.985778A48.96237 48.96237 0 0 1 170.666667 682.249481v-36.295111a131.242667 131.242667 0 0 1 39.822222-94.966518l29.582222-29.278815a122.159407 122.159407 0 0 1 3.034074-170.913185 124.548741 124.548741 0 0 1 87.798519-36.02963 120.414815 120.414815 0 0 1 36.408889 5.688889 156.387556 156.387556 0 0 1 154.358518-130.844444m69.973333 523.946666v-20.10074l0.37926-1.896297v-80.137481a13.558519 13.558519 0 1 1 27.117037 0v59.316148h58.785185a10.448593 10.448593 0 0 0 1.137778-5.12v-47.597037a120.794074 120.794074 0 0 0-9.102223-48.146963 139.320889 139.320889 0 0 0-14.601481-25.391407l-0.379259-0.341334v-0.189629l-0.37926-0.303408-0.379259-0.360296a135.168 135.168 0 0 0-11.946666-13.520593l-48.924445-48.488296a154.680889 154.680889 0 0 1-71.68 17.768296 157.013333 157.013333 0 0 1-72.248889-17.768296l-48.545185 48.488296a137.765926 137.765926 0 0 0-12.136296 13.520593v0.360296l-0.568889 0.303408v0.170666l-0.379259 0.341334a151.381333 151.381333 0 0 0-14.601482 25.391407 124.245333 124.245333 0 0 0-9.291852 48.146963v47.597037a13.103407 13.103407 0 0 0 1.137778 5.12h58.785185v-59.297185a13.748148 13.748148 0 0 1 27.496297 0v102.153481h140.325925z m-69.973333-259.621926a109.530074 109.530074 0 1 0-110.554074-109.70074 110.08 110.08 0 0 0 110.554074 109.70074M283.117037 713.576296h66.180741a42.116741 42.116741 0 0 1-20.66963-15.947852 55.333926 55.333926 0 0 1-10.24-31.971555v-47.634963a163.972741 163.972741 0 0 1 9.671111-56.888889 135.907556 135.907556 0 0 1-51.01037-12.193185l-34.322963 33.583407a98.929778 98.929778 0 0 0-19.911111 29.108148v0.18963a91.268741 91.268741 0 0 0-6.447408 34.133333v35.19526h39.442963v-39.822223a13.786074 13.786074 0 0 1 13.842963-13.577481 13.463704 13.463704 0 0 1 13.463704 13.577481v72.248889z m84.385185-344.670815a126.008889 126.008889 0 0 0-13.084444-5.575111 83.437037 83.437037 0 0 0-23.514074-3.39437 80.554667 80.554667 0 0 0-55.751111 22.85037 77.615407 77.615407 0 0 0 0 110.174815 80.384 80.384 0 0 0 71.30074 21.409185c3.223704-0.967111 6.447407-1.744593 9.481482-2.711703 3.982222-4.645926 8.154074-9.481481 12.705185-13.748148l43.994074-43.330371-1.137778-0.967111h-0.189629a158.53037 158.53037 0 0 1-41.718519-74.619259 58.235259 58.235259 0 0 0-1.517037-7.243852v-0.796445l-0.18963-0.625777z m392.533334 344.670815v-72.248889a13.387852 13.387852 0 0 1 13.653333-13.577481 13.615407 13.615407 0 0 1 13.653333 13.577481v39.822223h39.632593v-35.176297a87.798519 87.798519 0 0 0-6.826667-34.133333h0.379259l-0.379259-0.18963a94.644148 94.644148 0 0 0-19.721481-29.108148l-34.512593-33.583407a133.328593 133.328593 0 0 1-51.01037 12.193185 163.972741 163.972741 0 0 1 9.671111 56.888889V665.6a56.357926 56.357926 0 0 1-9.860741 31.952593 44.316444 44.316444 0 0 1-20.859259 15.947851h66.180741z m-84.385186-344.670815l-0.379259 1.441186v0.625777l-0.379259 0.474075v0.360296a158.53037 158.53037 0 0 1-43.045926 81.806222h-0.18963l-0.948148 0.967111 43.614815 43.330371a158.473481 158.473481 0 0 1 12.894815 13.748148c2.844444 0.967111 6.068148 1.744593 9.481481 2.711703a80.801185 80.801185 0 0 0 15.54963 1.441186A78.336 78.336 0 0 0 767.81037 493.037037a77.160296 77.160296 0 0 0 0-110.174815 79.056593 79.056593 0 0 0-55.561481-22.85037 83.437037 83.437037 0 0 0-23.514074 3.39437c-4.361481 1.72563-8.912593 3.508148-13.084445 5.575111",fill:"#FFFFFF","p-id":"4386"}}]})}},"367f":function(e,t,a){e.exports=a.p+"img/voice.a5780e0c.png"},3696:function(e,t,a){},3881:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"user-profile-avatar"},[i("div",{staticClass:"notification",on:{click:e.handleToNotification}},[i("a-badge",{attrs:{count:e.msgUnreadCount}},[i("a-icon",{style:{fontSize:"20px",color:"#999"},attrs:{type:"mail"}})],1)],1),i("a-dropdown",{attrs:{getPopupContainer:function(e){return e.parentElement}},model:{value:e.dropVis,callback:function(t){e.dropVis=t},expression:"dropVis"}},[e.currentAvatar?i("a-avatar",{attrs:{src:e.currentAvatar}}):i("img",{attrs:{src:a("4992")}}),i("div",{staticClass:"profile-info",attrs:{slot:"overlay"},slot:"overlay"},[i("div",{staticClass:"base-info"},[i("div",{staticClass:"avatar"},[e.currentAvatar?i("a-avatar",{attrs:{src:e.currentAvatar}}):i("img",{attrs:{src:a("4992")}})],1),i("div",{staticClass:"base"},[i("div",{staticClass:"name"},[e._v(e._s(e.currentRealName))]),i("div",{staticClass:"email"},[e._v(e._s(e.$store.getters.userInfo.email))])])]),i("div",{staticClass:"storage-info"},[i("a-progress",{staticClass:"cc-storage-progress",attrs:{percent:e.storageProgress,"show-info":!1}}),i("div",{staticClass:"storage-info-text"},[e._v(" "+e._s(e._f("sizeFormat")(e.consumedSize))+" of "+e._s(e._f("sizeFormat")(e.totalSize))+" ")])],1),i("div",{staticClass:"plan-upgrade"},[i("a-space",[e.info.planInfo&&!e.info.planInfo.freeUsePlan?i("div",{staticClass:"free-plan"},[e._v(e._s(e.info.planInfo.planName))]):i("div",{staticClass:"free-plan"},[e._v("Free plan")]),i("div",{staticClass:"upgrade"},[e._v("Upgrade")])]),e.info.planInfo&&e.info.planInfo.planUser&&e.info.planInfo.planUser.planEndTime&&!e.info.planInfo.freeUsePlan?i("div",{staticClass:"plan-end"},[e._v(" Ends on "+e._s(e.info.planInfo.planUser.planEndTime)+" ")]):e._e()],1),i("a-divider",{staticClass:"cc-small-divider"}),i("div",{staticClass:"class-info"},[i("div",{staticClass:"class-list"},[i("div",{class:{"class-item":!0,active:e.userMode===e.USER_MODE.SELF},on:{click:e.handleChangePersonal}},[i("div",{staticClass:"class-avatar"},[e.$store.getters.userInfo.avatar?i("a-avatar",{attrs:{src:e.$store.getters.userInfo.avatar}}):i("img",{attrs:{src:a("4992")}})],1),i("div",{staticClass:"class-base-info"},[i("div",{staticClass:"class-name"},[e._v("Personal")]),i("div",{staticClass:"class-updated-by"},[e._v(e._s(e.$store.getters.userInfo.firstname)+" "+e._s(e.$store.getters.userInfo.lastname))])])]),e._l(e.info.schoolList,(function(t){return i("div",{key:t.id,class:{"class-item":!0,active:e.userMode===e.USER_MODE.SCHOOL&&e.currentSchool.schoolName===t.schoolName},on:{click:function(a){return e.handleChangeSchool(t)}}},[i("div",{staticClass:"class-avatar"},[t.schoolUser.avatar?i("a-avatar",{attrs:{src:t.schoolUser.avatar}}):i("a-avatar",{staticStyle:{color:"#f56a00",backgroundColor:"#fde3cf"}},[e._v(" "+e._s(t.schoolName?t.schoolName[0].toUpperCase():"C")+" ")])],1),i("div",{staticClass:"class-base-info"},[i("div",{staticClass:"class-name"},[e._v(e._s(t.schoolName))]),i("div",{staticClass:"class-updated-by"},[t.schoolUser.firstname||t.schoolUser.lastname?[e._v(" "+e._s(t.schoolUser.firstname)+" "+e._s(t.schoolUser.lastname)+" ")]:[e._v(" "+e._s(e.$store.getters.userInfo.firstname)+" "+e._s(e.$store.getters.userInfo.lastname)+" ")]],2)])])}))],2)]),i("a-divider",{staticClass:"cc-small-divider"}),e.isAuth?i("div",{staticClass:"account profile-menu-item",on:{click:e.handleToAccounts}},[e.userMode===e.USER_MODE.SCHOOL?[e._v(" School account ")]:[e._v(" Account ")]],2):e._e(),i("div",{staticClass:"logout profile-menu-item",on:{click:e.handleLogout}},[e._v(" Logout ")])],1)],1)],1)},s=[],n=a("1da1"),r=(a("cd17"),a("ed3b")),o=a("5530"),l=(a("d3b7"),a("ac1f"),a("5319"),a("caad"),a("2532"),a("99af"),a("d81d"),a("96cf"),a("2f62")),c=a("c24f"),d=a("9fb0"),u=a("f93e"),p=a("6757"),h=a("0bb4"),m=a("8ee6"),g={name:"UserProfileAvatar",data:function(){return{unit:1073741824,schoolUserRole:p["a"],USER_MODE:u["Y"],msg1Count:"0",msg2Count:"0",stopTimer:!1,dropVis:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(l["e"])({info:function(e){return e.user.info},currentSchool:function(e){return e.user.currentSchool},userMode:function(e){return e.app.userMode},msgUnreadCount:function(e){return e.websocket.msgUnreadCount}})),{},{msgTotal:function(){return parseInt(this.msg1Count)+parseInt(this.msg2Count)},consumedSize:function(){return this.userMode===u["Y"].SELF?1024*this.info.usedSpace:1024*this.currentSchool.usedSpace},totalSize:function(){return this.info.planInfo?this.info.planInfo.storageSpace*this.unit:this.unit},storageProgress:function(){return Math.round(this.consumedSize/this.totalSize*100)},isAuth:function(){return!0},currentAvatar:function(){return this.userMode===u["Y"].SELF?this.info.avatar:this.currentSchool&&this.currentSchool.schoolUser&&this.currentSchool.schoolUser.avatar?this.currentSchool.schoolUser.avatar:this.info.avatar},currentRealName:function(){return this.userMode===u["Y"].SELF?this.info.firstname+" "+this.info.lastname:this.currentSchool&&this.currentSchool.schoolUser&&(this.currentSchool.schoolUser.firstname||this.currentSchool.schoolUser.lastname)?this.currentSchool.schoolUser.firstname+" "+this.currentSchool.schoolUser.lastname:this.info.firstname+" "+this.info.lastname}}),created:function(){this.initData(),this.hasSetCurriculum()},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(l["d"])([d["M"],"SET_CURRENT_SCHOOL"])),Object(l["b"])(["GetClassList"])),{},{timerFun:function(){var e=this;this.stopTimer=!1;var t=setInterval((function(){e.stopTimer?clearInterval(t):e.loadData()}),6e3)},initData:function(){var e=this;Object(h["c"])().then((function(t){t.success&&(e.announcement1=t.result.anntMsgList,e.msg1Count=t.result.anntMsgTotal,e.$store.commit("SET_UNREAD_COUNT",e.msg1Count?e.msg1Count:0),e.$store.commit("SET_SHARED_COUNT",t.result.collaborate?t.result.collaborate:0))})).catch((function(t){e.$logger.error("系统消息通知异常",t),e.stopTimer=!0,e.$logger.error("清理timer")}))},handleToSettings:function(){this.$router.push({path:"/account/settings"})},handleToAccounts:function(){this.$router.push({path:"/account/info"})},handleToNotification:function(){this.$router.push({path:"/notification"})},handleLogout:function(e){var t=this;r["a"].confirm({title:this.$t("layouts.usermenu.dialog.title"),content:this.$t("layouts.usermenu.dialog.content"),onOk:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("Logout");case 2:return e.next=4,AppLogout("www",null);case 4:location.href="/v2/login";case 5:case"end":return e.stop()}}),e)})));function a(){return e.apply(this,arguments)}return a}(),onCancel:function(){}})},handleChangePersonal:function(){var e=this;Object(c["c"])({isPersonal:!0,schoolId:""}).finally((function(){e[d["M"]](u["Y"].SELF),e.GetClassList(),e.$router.replace("/teacher/main/created-by-me"),e.$store.dispatch("GetInfo").then((function(t){e.hasSetCurriculum()}))}))},handleChangeSchool:function(e){var t=this,a=this.userMode;Object(c["c"])({isPersonal:!1,schoolId:e.id}).then((function(i){t[d["M"]](u["Y"].SCHOOL),t.GetClassList(e.id),a===u["Y"].SELF&&t.$router.replace("/teacher/main/created-by-me"),t.$store.dispatch("GetInfo").then((function(e){t.hasSetCurriculum()}))}))},hasSetCurriculum:function(){var e=this;Object(m["a"])({schoolId:this.currentSchool.id}).then((function(t){0===t.code&&(t.result&&t.result.length>0?0===t.result[0].gradeSettingInfo.length&&e.doConfirmGoCuriculum():e.doConfirmGoCuriculum())}))},doConfirmGoCuriculum:function(){var e=this;if(this.userMode===u["Y"].SCHOOL){var t=this.currentSchool.roleNames.includes("Admin");if(!t)return}var a="CURICULUM_SET_".concat(this.userMode,"_").concat(this.currentSchool.id,"_").concat(this.info.id),i=sessionStorage.getItem(a);i||this.$confirm({title:"Curriculum Set",content:"Please Set Curriculum first",centered:!0,cancelButtonProps:{style:{display:"none"}},onOk:function(){sessionStorage.setItem(a,1),e.$router.push("/manage/curriculum")},onCancel:function(){}})},hasRolePermission:function(e){var t=!1;if(this.userMode===u["Y"].SCHOOL&&this.currentSchool.roleNames){var a=this.currentSchool.roleNames.map((function(e){return e.toLowerCase()}));t=a.includes(e)}return t}})},f=g,v=(a("b401"),a("0c7c")),y=Object(v["a"])(f,i,s,!1,null,"4127cd78",null);t["a"]=y.exports},"3b68":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var i=a("b775"),s={queryByContentId:"/classcipe/api2/discountSetting/queryByContentId",save:"/classcipe/api2/discountSetting/save"};function n(e){return Object(i["d"])({url:s.queryByContentId,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i["d"])({url:s.save,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},"3c1d":function(e,t,a){},"3ee2":function(e,t,a){"use strict";a("4441")},4063:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1654007912423",class:"icon",viewBox:"0 0 1084 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4353","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"50.8125",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M960.480617 0.226421a34.896459 34.896459 0 0 1 38.539661 29.898346v22.401178c-23.184015 149.461623-38.539661 269.0249-54.196399 358.68983A336.34887 336.34887 0 0 1 1083.927969 680.210566 348.663497 348.663497 0 0 1 728.640468 1023.936169a343.996584 343.996584 0 0 1-277.907088-134.497396v97.13199h-77.079322V672.743507a44.68192 44.68192 0 0 1 7.527278-29.898347 357.274702 357.274702 0 0 1 255.024163-291.426078l161.987013-186.676483L126.458263 501.001142l154.459736 82.197871a38.148243 38.148243 0 0 1 23.184014 52.299524 33.51144 33.51144 0 0 1-53.895307 15.054556l-231.840149-112.066109a18.968739 18.968739 0 0 1-15.355646-22.431287 48.38534 48.38534 0 0 1 15.355646-52.299524L937.296602 0.226421h23.184015z m-231.840149 425.923473a254.211218 254.211218 0 1 0 262.551441 254.060672 255.927437 255.927437 0 0 0-262.551441-254.060672z m162.288104 216.785594a49.07785 49.07785 0 0 1 46.36803 44.832465 47.993922 47.993922 0 0 1-38.539661 44.832465H566.653455a49.047741 49.047741 0 0 1-46.36803-44.832465 47.692831 47.692831 0 0 1 38.539661-44.832465h332.103486z m7.828369-463.28888l-139.10409 164.395742a637.560409 637.560409 0 0 1 115.920075 22.431287z","p-id":"4354"}}]})}},4133:function(e,t,a){"use strict";a("973f")},4198:function(e,t,a){"use strict";a("49af")},4441:function(e,t,a){},4551:function(e,t){e.exports="data:image/png;base64,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"},"462b":function(e,t,a){e.exports=a.p+"img/6.4fb8f45e.png"},4663:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1651916978523",class:"icon",viewBox:"0 0 4082 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3589","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"191.34375",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M1428.30377823 305.16784271A206.88634426 206.88634426 0 1 1 1222.06767929 512.05418697 206.50703463 206.50703463 0 0 1 1428.30377823 305.16784271z m619.95460051 0a206.88634426 206.88634426 0 1 1-206.23609896 206.88634426A206.5612216 206.5612216 0 0 1 2048.25837874 305.16784271z m619.95460049 0a206.88634426 206.88634426 0 1 1-206.23609895 206.88634426A206.5612216 206.5612216 0 0 1 2668.21297923 305.16784271z","p-id":"3590"}}]})}},4768:function(e,t,a){},4803:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"status-icon-item"},[0===e.status?[a("a-icon",{attrs:{type:"cloud-upload"}})]:e._e()],2)},s=[],n=(a("a9e3"),{name:"ContentStatusIcon",props:{status:{type:Number,default:-1}}}),r=n,o=(a("0f1d"),a("0c7c")),l=Object(o["a"])(r,i,s,!1,null,"7b28124c",null);t["a"]=l.exports},4830:function(e,t,a){},"495e":function(e,t,a){},4992:function(e,t,a){e.exports=a.p+"img/default-avatar.db1c5445.png"},"49a2":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.content?i("div",{staticClass:"content-item",style:{border:e.activeItem?"1px solid #15c39a":"1px solid #EEF1F6"}},[i("div",{staticClass:"cover"},[i("div",{staticClass:"cover-block",style:{"background-image":"url('"+(e.content.image||"http://dcdkqlzgpl5ba.cloudfront.net/1392467808404684802/file/202208140641519097-20220814143449.png")+"')"}},[e.content.type!==e.typeMap.task&&e.content.type!==e.typeMap.pd||!e.content.slideEditing?e._e():i("div",{staticClass:"slide-editing-mask"},[i("custom-button",{attrs:{label:"Save Slides",loading:e.updateEditSlideLoading},on:{click:e.updateEditSlideStatus},scopedSlots:e._u([{key:"icon",fn:function(){return[i("a-icon",{attrs:{type:"save"}})]},proxy:!0}],null,!1,1080341873)})],1),e.showCoverBar?i("div",{staticClass:"bottom-action"},[!e.content.delFlag&&e.showEdit?i("div",{staticClass:"bottom-action-item vertical-left",on:{click:e.editItem}},[i("div",{staticClass:"bottom-action-item-icon"},[i("a-icon",{attrs:{type:"form"}})],1),i("div",{staticClass:"bottom-action-item-label"},[e._v("Edit")])]):i("div",{staticClass:"bottom-action-item vertical-left"}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.allowPreview&&!((e.content.type===e.typeMap.task||e.content.type===e.typeMap.pd)&&e.content.slideEditing),expression:"allowPreview && !((content.type === typeMap.task || content.type === typeMap.pd) && content.slideEditing)"}],staticClass:"bottom-action-item vertical-right",on:{click:function(t){return e.$store.dispatch("setV2Box",e.content)}}},[i("div",{staticClass:"bottom-action-item-icon"},[i("a-icon",{attrs:{type:"eye"}})],1),i("div",{staticClass:"bottom-action-item-label"},[e._v("Preview")])])]):e._e()])]),i("div",{staticClass:"detail"},[i("div",{staticClass:"detail-content"},[i("div",{staticClass:"base-info"},[i("div",{staticClass:"header-line vertical-between"},[i("div",{staticClass:"left vertical-left"},[i("div",{staticClass:"type-icon vertical-left"},[i("a-space",[i("content-type-icon",{attrs:{type:e.content.type}}),e.content.collaborates>0?i("collaborate-icon"):e._e(),e.content.sourceFrom?i("a-icon",{attrs:{type:"shopping"}}):e._e()],1)],1),i("div",{staticClass:"name"},[e._v(" "+e._s(e.content.name||"Untitled "+e.contentTypeName)+" ")])]),i("div",{staticClass:"right vertical-right"},[i("div",{staticClass:"time-at"},[e._v(" "+e._s(e._f("datejs")(e.content.updateTime||e.content.createTime))+" ")])])]),i("div",{staticClass:"set-price-line vertical-right"},[e.showPrice?i("div",{staticClass:"price-info vertical-left"},[i("div",{staticClass:"price"},[e._v(" $"+e._s(e.content.discountPrice||e.content.price||0)+" ")]),e.content.discountPrice>0&&e.content.discountPrice!==e.content.price?i("div",{staticClass:"price_was"},[e._v("$"+e._s(e.content.price))]):e._e(),e.showSetPrice?i("div",{staticClass:"edit"},[i("a-icon",{attrs:{type:"edit"},nativeOn:{click:function(t){return e.showEditPrice.apply(null,arguments)}}})],1):e._e()]):e._e(),e.showPublishStatus?i("div",{staticClass:"publish-status"},[e._v(" "+e._s(1===e.content.status?"Published":"Unpublished")+" ")]):e._e()]),i("div",{staticClass:"extra-info"},[i("a-space",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.curriculumName&&e.content.type!==e.typeMap.pd,expression:"curriculumName && content.type !== typeMap.pd"}],staticClass:"info-item curriculum-info"},[e._v(" "+e._s(e.curriculumName)+" ")]),i("div",{staticClass:"info-item subject-info"},[i("a-space",e._l(e.content.subjectList.slice(0,2),(function(t,a){return i("div",{key:"sub"+a,staticClass:"subject-item"},[e._v(e._s(t))])})),0),e.content.subjectList.slice(2).length?i("div",{staticClass:"more-item"},[i("a-tooltip",{attrs:{placement:"top",title:e.content.subjectList.slice(2).join("、 ")}},[e._v("more("+e._s(e.content.subjectList.slice(2).length)+")")])],1):e._e()],1),i("div",{staticClass:"info-item year-info"},[i("a-space",e._l(e.content.yearList.slice(0,4),(function(t,a){return i("div",{key:"year"+a,staticClass:"subject-item"},[e._v(e._s(t))])})),0),e.content.yearList.slice(4).length?i("div",{staticClass:"more-item"},[i("a-tooltip",{attrs:{placement:"top",title:e.content.yearList.slice(4).join("、 ")}},[e._v("more("+e._s(e.content.yearList.slice(4).length)+")")])],1):e._e()],1),e.content.taskType?i("div",{staticClass:"info-item task-type-info"},[i("div",{staticClass:"self-type-wrapper"},[i("div",{staticClass:"self-field-label"},["FA"===e.content.taskType?i("div",{staticClass:"task-type-item green-active-task-type"},[i("a-tooltip",{attrs:{placement:"top",title:"Formative Assessment"}},[e._v("FA")])],1):e._e(),"SA"===e.content.taskType?i("div",{staticClass:"task-type-item red-active-task-type"},[i("a-tooltip",{attrs:{placement:"top",title:"Summative Assessment"}},[e._v("SA")])],1):e._e(),"Activity"===e.content.taskType?i("div",{staticClass:"task-type-item blue-active-task-type task-type-activity"},[i("a-tooltip",{attrs:{title:"Teaching/Learning Activity",placement:"top"}},[e._v("Activity")])],1):e._e(),"IA"===e.content.taskType?i("div",{staticClass:"task-type-item blue-active-task-type task-type-examine"},[i("a-tooltip",{attrs:{title:"Internal Assessment",placement:"top"}},[e._v("IA")])],1):e._e()])])]):e._e()])],1),e.knowledgeTagsList.length?i("div",{staticClass:"tag-info"},e._l(e.knowledgeTagsList,(function(t,a){return i("div",{key:"tag"+a,staticClass:"tag-info-item"},[i("a-tag",{staticClass:"tag-item knowledge-tag",attrs:{color:"#EABA7F",title:t}},[e._v(e._s(t))])],1)})),0):e._e(),i("div",{staticClass:"tag-info"},[e.commandTermsList.length?e._l(e.commandTermsList,(function(t,a){return i("div",{key:"term"+a,staticClass:"tag-info-item"},[i("a-tag",{staticClass:"tag-item command-tag",attrs:{color:"#06ACD7",title:t}},[e._v(e._s(t))])],1)})):e._e(),e._l(e.content.customTags,(function(t,a){return i("div",{key:"ct"+a,staticClass:"tag-info-item"},[i("a-tag",{staticClass:"tag-item",attrs:{color:"#FFEDAF",title:t.category}},[e._v(" "+e._s(t.name)+" ")])],1)}))],2)])]),i("div",{staticClass:"footer-line"},[i("div",{staticClass:"avatar-info"},[i("div",{staticClass:"owner"},[e.content.owner?[e.content.owner.avatar?i("a-avatar",{attrs:{src:e.content.owner.avatar,size:"small"}}):i("img",{attrs:{src:a("4992")}})]:[i("a-avatar",{attrs:{size:"small"}},[e._v(e._s(e.content.createBy.toUpperCase()[0]))])],i("div",{staticClass:"user-name"},[e._v(" "+e._s(e._f("upCaseFirst")(e.content.owner?e.content.owner.firstname+" "+e.content.owner.lastname:e.content.createBy))+" ")])],2)]),i("div",{staticClass:"action vertical-right"},[e.showButton&&!e.content.delFlag?[e.showSchedule&&e.content.type===e.typeMap.task?i("custom-button",{attrs:{label:"Schedule",disabled:!e.content.canPublish||e.content.slideEditing,"disabled-tooltip":e.content.slideEditing?"Please save your slides":"Please complete the information"},on:{click:e.handleSchedule},scopedSlots:e._u([{key:"icon",fn:function(){return[i("schedule-icon",{staticStyle:{width:"13px",height:"14px"}})]},proxy:!0}],null,!1,3052775659)}):e._e(),e.showSchedule&&e.content.type===e.typeMap.pd?i("custom-button",{attrs:{label:"Workshop",disabled:!e.content.canPublish||e.content.slideEditing,"disabled-tooltip":e.content.slideEditing?"Please save your slides":"Please complete the information"},on:{click:e.handlePublicWorkshopSchedule},scopedSlots:e._u([{key:"icon",fn:function(){return[i("schedule-icon",{staticStyle:{width:"13px",height:"14px"}})]},proxy:!0}],null,!1,3052775659)}):e._e(),e.canPublishToLibrary(e.content)?[0===e.content.status?i("custom-button",{attrs:{disabled:!e.content.canPublish||e.content.slideEditing,"disabled-tooltip":e.content.slideEditing?"Please save your slides":"Please complete the information",label:"Publish"},on:{click:e.handlePublishStatus},scopedSlots:e._u([{key:"icon",fn:function(){return[i("publish-icon",{staticStyle:{width:"13px",height:"14px"}})]},proxy:!0}],null,!1,558482039)}):e._e(),0!==e.content.status&&e.content.owner.email===e.$store.getters.email?i("custom-button",{attrs:{label:"Unpublish"},on:{click:e.handlePublishStatus},scopedSlots:e._u([{key:"icon",fn:function(){return[i("un-publish-icon",{staticStyle:{width:"13px",height:"14px"}})]},proxy:!0}],null,!1,1836974273)}):e._e()]:e._e(),e.content.sourceFrom?i("custom-button",{attrs:{label:"Review"},on:{click:function(t){return e.handlePreviewDetail(e.content,!0)}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("edit-icon",{staticStyle:{width:"13px",height:"14px"}})]},proxy:!0}],null,!1,25356274)}):e._e(),e.showSub&&e.content.type===e.typeMap.task?i("custom-button",{attrs:{label:"Sub-task",disabled:!e.content.canPublish||e.content.slideEditing,"disabled-tooltip":e.content.slideEditing?"Please save your slides":"Please complete the information"},on:{click:e.goToSubTaskList},scopedSlots:e._u([{key:"icon",fn:function(){return[i("sub-task-icon",{staticStyle:{width:"13px",height:"14px"}})]},proxy:!0}],null,!1,2286577578)}):e._e(),e.showCollaborateDelete?i("a-dropdown",{attrs:{trigger:["click"],getPopupContainer:function(e){return e.parentElement}}},[i("div",{staticClass:"more-action"},[i("more-icon")],1),i("div",{staticClass:"content-item-more-action",attrs:{slot:"overlay"},slot:"overlay"},[i("div",{staticClass:"menu-item"},[i("a-popconfirm",{attrs:{placement:"topRight","ok-text":"Yes","cancel-text":"No"},on:{confirm:e.handleCollaborateDeleteItem},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Confirm delete this content? ")]},proxy:!0}],null,!1,4061851878)},[i("custom-button",{attrs:{label:"Delete"}})],1)],1)])]):e._e(),e.showArchive&&e.content.owner.email===e.$store.getters.email&&1!==e.content.status?i("a-dropdown",{attrs:{trigger:["click"],getPopupContainer:function(e){return e.parentElement}}},[i("div",{staticClass:"more-action"},[i("more-icon")],1),i("div",{staticClass:"content-item-more-action",attrs:{slot:"overlay"},slot:"overlay"},[i("div",{staticClass:"menu-item"},[i("custom-button",{attrs:{label:"Archive"},on:{click:e.handleDeleteItem}})],1)])]):e._e()]:e._e(),e.showButton&&e.content.delFlag&&e.content.owner.email===e.$store.getters.email&&e.allowPermanentDelete?[i("a-dropdown",{attrs:{trigger:["click"],getPopupContainer:function(e){return e.parentElement}}},[i("div",{staticClass:"more-action"},[i("more-icon")],1),i("div",{staticClass:"content-item-more-action",attrs:{slot:"overlay"},slot:"overlay"},[i("div",{staticClass:"menu-item"},[i("a-popconfirm",{attrs:{placement:"topRight",title:"Confirm restore "+(e.content.name?e.content.name:"Untitled")+" ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(t){return e.handleRestoreItem(e.content)}}},[i("custom-button",{attrs:{label:"Restore"},scopedSlots:e._u([{key:"icon",fn:function(){return[i("edit-icon")]},proxy:!0}],null,!1,1068401689)})],1)],1),e.content.sessionCount>0?i("div",{staticClass:"menu-item"},[i("custom-button",{attrs:{label:"Delete",disabled:!0,"disabled-tooltip":"There are still sessions existing under this content, it cannot be deleted"},scopedSlots:e._u([{key:"icon",fn:function(){return[i("delete-icon",{staticStyle:{width:"13px",height:"14px"}})]},proxy:!0}],null,!1,4176319575)})],1):i("div",{staticClass:"menu-item"},[i("a-popconfirm",{attrs:{placement:"topRight","ok-text":"Yes","cancel-text":"No"},on:{confirm:e.handlePermanentDeleteItem},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" All the relevant content will be "),i("br"),e._v(" cleared and you will not be able "),i("br"),e._v(" to retrieve after deleting it ")]},proxy:!0}],null,!1,553494336)},[i("custom-button",{attrs:{label:"Delete"},scopedSlots:e._u([{key:"icon",fn:function(){return[i("delete-icon",{staticStyle:{width:"13px",height:"14px"}})]},proxy:!0}],null,!1,4176319575)})],1)],1)])])]:e._e()],2)])]),i("discounted-price",{ref:"discountedPrice",on:{update:e.updatePrice}})],1):e._e()},s=[],n=(a("d3b7"),a("3f76")),r=a("9afb"),o=a("f031"),l=a("0381"),c=a("4cf6"),d=a.n(c),u=a("49c9"),p=a.n(u),h=a("d185"),m=a.n(h),g=a("e6fe"),f=a.n(g),v=a("4063"),y=a.n(v),b=a("98f7"),w=a.n(b),C=a("81cf"),k=a.n(C),T=a("b3e1"),A=a.n(T),L=a("4663"),I=a.n(L),S=a("8f46"),x=a("fb85"),M=a("823b"),E=a("60427"),_=a("3404"),O=a.n(_),D=a("523d"),N={name:"ContentItem",components:{ModalHeader:E["a"],ContentTypeIcon:S["a"],CustomButton:l["a"],SubTaskIcon:d.a,PreviewGrayIcon:p.a,EditIcon:m.a,PublishIcon:f.a,UnPublishIcon:y.a,ScheduleIcon:w.a,OriginalTipsIcon:k.a,CollaborateIcon:O.a,DeleteIcon:A.a,MoreIcon:I.a,DiscountedPrice:x["a"]},props:{content:{type:Object,default:null},showButton:{type:Boolean,default:!0},clickPreview:{type:Boolean,default:!0},activeItem:{type:Boolean,default:!1},showPublish:{type:Boolean,default:!1},showEdit:{type:Boolean,default:!0},showSchedule:{type:Boolean,default:!0},showSubTask:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0},showSetPrice:{type:Boolean,default:!1},showPrice:{type:Boolean,default:!0},showCoverBar:{type:Boolean,default:!0},allowPermanentDelete:{type:Boolean,default:!0},showArchive:{type:Boolean,default:!0},showRestore:{type:Boolean,default:!1},showPublishStatus:{type:Boolean,default:!1},showSub:{type:Boolean,default:!0},showCollaborateDelete:{type:Boolean,default:!1}},mixins:[o["a"]],data:function(){return{typeMap:n["e"],isSelfLearning:!1,enableDiscount:!1,visible:!1}},created:function(){this.allowPreview=this.clickPreview,this.isSelfLearning=1===this.content.contentType},computed:{status:function(){return this.content.status},contentTypeName:function(){return this.content?Object(n["b"])(this.content.type):null},curriculumName:function(){return this.$store.getters.curriculumId2NameMap.hasOwnProperty(this.content.curriculumId)?this.$store.getters.curriculumId2NameMap[this.content.curriculumId]:null},isOwner:function(){return this.$store.getters.userInfo.email===this.content.createBy},canPublishToLibrary:function(){return function(e){var t=this.showPublish&&!e.sourceFrom&&e.owner.email===this.$store.getters.email;return e.type!==n["e"].pd&&t}}},methods:{editItem:function(){var e=this.content;e.canPublish||this.$classcipe.setRequiredCheck(e.id),e.type===n["e"]["unit-plan"]?this.$router.push({path:"/teacher/unit-plan-redirect/"+e.id}):e.type===n["e"].task?this.$router.push({path:"/teacher/task-redirect/"+e.id}):e.type===n["e"].video?this.$router.push({path:"/teacher/video-redirect/"+e.id}):e.type===n["e"].pd&&this.$router.push({path:"/teacher/pd-content-redirect/"+e.id})},setCheckRequired:function(){this.$classcipe.setRequiredCheck(this.contentId)},handleSchedule:function(){this.$router.push({path:"/teacher/schedule-session/"+this.content.id+"/"+this.content.type})},handlePublicWorkshopSchedule:function(){this.$logger.info("handlePublicWorkshopSchedule",this.content),this.$router.push({path:"/teacher/schedule-workshop/"+this.content.id+"/"+this.content.type})},handlePublishStatus:function(){this.$emit("update-publish",{content:this.content})},handleDeleteItem:function(){var e=this;this.$logger.info("handleDeleteItem",this.content),Object(r["DeleteMyContentByType"])(this.content).then((function(t){e.$logger.info("DeleteMyContentByType",t),e.$emit("delete",{content:e.content})}))},handlePermanentDeleteItem:function(){var e=this;M["info"]("handlePermanentDeleteItem",this.content),Object(r["PermanentDeleteMyContent"])({sourceId:this.content.id,sourceType:this.content.type}).then((function(e){M["info"]("handlePermanentDeleteItem",e)})).then((function(){e.$emit("delete",{content:e.content})}))},handleRestoreItem:function(){var e=this;M["info"]("handleRestoreItem",this.content),Object(r["ContentRestore"])({id:this.content.id,type:this.content.type}).then((function(t){e.$logger.info("handleRestoreItem response",t)})).finally((function(){e.$emit("delete",{content:e.content})}))},handleCollaborateDeleteItem:function(){var e=this;M["info"]("handleCollaborateDeleteItem",this.content),Object(D["d"])({id:this.content.id,type:this.content.type}).then((function(e){M["info"]("handleCollaborateDeleteItem",e)})).then((function(){e.$emit("update-list")}))},showEditPrice:function(){this.visible=!0,this.$refs.discountedPrice.showEditPrice(this.content.id,this.content.type)},updatePrice:function(e){this.$logger.info("update price"),this.content.price=e.price,this.content.discountPrice=e.discountPrice,this.visible=!1},goToSubTaskList:function(){this.$router.push({path:"/teacher/sub-task/".concat(this.content.id)})}}},P=N,R=(a("272d"),a("0c7c")),B=Object(R["a"])(P,i,s,!1,null,"0d3b8b00",null);t["a"]=B.exports},"49af":function(e,t,a){},"49c9":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1652089317367",class:"icon",viewBox:"0 0 1172 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3862","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"54.9375",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M171.162468 259.56311L84.13823 174.181676c-61.272168-60.250965 30.636084-150.605212 91.908251-90.354247l109.890301 107.759095a712.888349 712.888349 0 0 1 234.654641-59.940164v-66.600182a65.046178 65.046178 0 0 1 130.092356 0v66.600182a714.642154 714.642154 0 0 1 234.432641 59.940164l109.6683-107.759095a66.067381 66.067381 0 0 1 92.130252 1.620605 63.314573 63.314573 0 0 1 0 88.800242l-87.024238 85.381434c105.450288 80.34202 171.162468 191.608724 171.162468 316.794866 0 251.726488-265.512726 447.331223-585.415601 447.331223S0 828.151064 0 576.424576c0-125.252742 65.71218-236.519447 171.162468-316.861466zM585.637601 895.88345c254.634696 0 455.323245-147.697004 455.323245-319.525474s-200.688549-319.547674-455.323245-319.547674c-255.078697 0-455.545246 147.697004-455.545245 319.547674S330.558904 895.88345 585.637601 895.88345z m0-63.913975A255.655899 255.655899 0 1 1 845.822313 576.357976a258.009105 258.009105 0 0 1-260.184712 255.611499z m0-127.80575a127.82795 127.82795 0 1 0 0-255.633699 127.82795 127.82795 0 1 0 0 255.633699z","p-id":"3863"}}]})}},"49cf":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#808191;",d:"M147.606,67.158q-.2.222-.369.394l-.3.3a3.363,3.363,0,0,1-.271.246l-3.325-3.35q.2-.2.493-.468t.493-.419a1.45,1.45,0,0,1,1.059-.345,2.553,2.553,0,0,1,.911.222,3.346,3.346,0,0,1,.825.69,3.912,3.912,0,0,1,.7,1.034,3.168,3.168,0,0,1,.16.813A1.114,1.114,0,0,1,147.606,67.158ZM138.2,69.892l3.818-3.818L145.34,69.4q-2.094,2.094-3.818,3.793-.739.714-1.441,1.416T138.8,75.865q-.579.554-.948.924l-.443.443a4.227,4.227,0,0,1-.394.345,2.45,2.45,0,0,1-.493.3q-.271.123-.751.3t-1,.333q-.517.16-.985.3a4.376,4.376,0,0,1-.714.16q-.468.049-.5-.086a1.879,1.879,0,0,1,.037-.6q.025-.246.123-.727t.2-.973q.1-.493.209-.924a4.73,4.73,0,0,1,.185-.6,3.071,3.071,0,0,1,.259-.468,3.28,3.28,0,0,1,.382-.443Zm8.35,3.571a2.087,2.087,0,0,1,.985.246A1.033,1.033,0,0,1,148,74.72v5.591a3.074,3.074,0,0,1-.259,1.268,3.234,3.234,0,0,1-.7,1.01,3.176,3.176,0,0,1-1.01.665,3.007,3.007,0,0,1-1.158.234H131.128a2.761,2.761,0,0,1-1.158-.259,3.276,3.276,0,0,1-1-.7,3.6,3.6,0,0,1-.7-1.047A3.121,3.121,0,0,1,128,80.188V66.468a2.241,2.241,0,0,1,.271-1.022,3.8,3.8,0,0,1,.7-.961,3.966,3.966,0,0,1,.973-.714,2.321,2.321,0,0,1,1.084-.283h5.739a1.022,1.022,0,0,1,.973.5,2.069,2.069,0,0,1,.283,1.022,1.937,1.937,0,0,1-.283,1,1.036,1.036,0,0,1-.973.48h-4.507a1.071,1.071,0,0,0-.837.357,1.263,1.263,0,0,0-.32.874V79.3a1.143,1.143,0,0,0,.32.825,1.11,1.11,0,0,0,.837.333h11.4a1.28,1.28,0,0,0,.887-.333,1.065,1.065,0,0,0,.369-.825V74.72a1.061,1.061,0,0,1,.16-.591,1.289,1.289,0,0,1,.394-.394,1.594,1.594,0,0,1,.517-.209A2.6,2.6,0,0,1,146.547,73.463Z",transform:"translate(-128 -63.488)"}}]})}},"49de":function(e,t,a){"use strict";a.r(t),a.d(t,"materialAPIUrl",(function(){return s})),a.d(t,"MaterialAddOrUpdate",(function(){return n})),a.d(t,"MaterialQueryById",(function(){return r})),a.d(t,"MaterialDelete",(function(){return o})),a.d(t,"MaterialDeleteBatch",(function(){return l})),a.d(t,"MaterialList",(function(){return c})),a.d(t,"YoutubeQueryByKeywords",(function(){return d})),a.d(t,"FileRecord",(function(){return u})),a.d(t,"addFileUploadRecord",(function(){return p}));var i=a("b775"),s={MaterialAddOrUpdate:"/classcipe/api/material/addOrUpdate",MaterialQueryById:"/classcipe/api/material/queryById",MaterialDelete:"/classcipe/api/material/delete",MaterialDeleteBatch:"/classcipe/api/material/deleteBatch",MaterialList:"/classcipe/api/material/list",YoutubeQueryByKeywords:"/classcipe/api/youtube/queryByKeywords",FileRecord:"/classcipe/api/fileUploadRecord/list",addFileUploadRecord:"/classcipe/api/fileUploadRecord/add"};function n(e){return Object(i["d"])({url:s.MaterialAddOrUpdate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i["d"])({url:s.MaterialQueryById,method:"get",params:e})}function o(e){return Object(i["d"])({url:s.MaterialDelete,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(i["d"])({url:s.MaterialDeleteBatch,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(i["d"])({url:s.MaterialList,method:"get",params:e})}function d(e){return Object(i["d"])({url:s.YoutubeQueryByKeywords,method:"get",params:e})}function u(e){return Object(i["d"])({url:s.FileRecord,method:"get",params:e})}function p(e){return Object(i["d"])({url:s.addFileUploadRecord,method:"post",data:e})}},"49e6":function(e,t,a){"use strict";a("a1e2")},"4bc1":function(e,t,a){"use strict";a("1036")},"4bd5":function(e,t,a){e.exports=a.p+"img/0.b1ca977a.png"},"4caa":function(e,t,a){},"4cf6":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1651915697007",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3453","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"48",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M892.598721 0.002327H131.397471A84.246928 84.246928 0 0 0 46.545455 83.783803v856.43286A84.246928 84.246928 0 0 0 131.397471 1023.998138h761.20125A84.246928 84.246928 0 0 0 977.450737 940.216663V83.783803A84.246928 84.246928 0 0 0 892.598721 0.002327z m-342.014601 95.603973h155.368092v156.159361l-77.684046-44.218001-77.684046 44.218001V95.6063z m329.912832 785.032425a48.127803 48.127803 0 0 1-48.500165 47.755441H191.999405a48.127803 48.127803 0 0 1-48.500165-47.755441V143.361741a48.127803 48.127803 0 0 1 48.500165-47.755441h261.63093v240.871742a7.214516 7.214516 0 0 0 0 1.023995 5.911249 5.911249 0 0 1 0 1.303268v2.280718a11.822497 11.822497 0 0 0 0 1.349812v0.837815c0 0.558543 0.232726 1.070541 0.372362 1.582539a2.327263 2.327263 0 0 0 0 0.558543c0 0.651634 0.325817 1.210177 0.465452 1.861811v0.279272c0 0.698179 0.418907 1.396358 0.651634 2.094536a48.593256 48.593256 0 0 0 6.702518 12.893039l1.256722 1.675629 0.279272 0.325817 2.094537 1.349813 0.511998 0.558543a9.72796 9.72796 0 0 0 0.930905 1.023996l0.744724 0.744724 0.837815 0.791269 0.837815 0.837815 0.837814 0.698179 0.930906 0.79127 1.023996 1.023995 0.744724 0.605089 1.629084 1.163631a48.081258 48.081258 0 0 0 21.457367 7.959241H510.601738l1.349813-0.279272h0.837814l1.582539-0.372362h0.605089l1.76872-0.511998h0.418907l1.908356-0.698179h0.279272l2.047991-0.837815 2.141082-1.023996 2.047992-1.070541 101.887583-57.948854 101.934129 57.855764 0.465452 0.279271 1.396358 0.744725 0.698179 0.325816 1.535994 0.744725 0.651634 0.279271 1.535993 0.651634 0.744725 0.279272 1.442903 0.511997 0.837814 0.279272 1.349813 0.418907 1.023996 0.279272 1.210177 0.279272 1.210177 0.279271 1.070541 0.232726h12.893038a48.081258 48.081258 0 0 0 44.683453-47.66235V96.211388h29.090791a48.127803 48.127803 0 0 1 48.500165 47.755441v737.276984zM269.59036 630.876837h290.907901a47.801986 47.801986 0 1 0 0-95.603972h-290.907901a47.801986 47.801986 0 1 0 0 95.603972z m446.043266 114.687531H269.59036a47.801986 47.801986 0 1 0 0 95.557427h446.043266a47.801986 47.801986 0 1 0 0-95.557427z","p-id":"3454"}}]})}},"4fb2":function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return n}));var i=a("2b0e"),s=new i["default"],n={LinkToMyContentItem:"LinkToMyContentItem",ToggleSelectContentItem:"ToggleSelectContentItem",ReferContentItem:"ReferContentItem",ReloadMyContent:"ReloadMyContent"}},"519d":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"31.442",height:"40",viewBox:"0 0 31.442 40"},children:[{tag:"g",attrsMap:{transform:"translate(-179.2 -99.38)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#ffd629;",d:"M311.741,121.054h-8.855a3.363,3.363,0,0,1-3.334-3.372l-2.351-14.93a3.363,3.363,0,0,1,3.334-3.372h13.558a3.363,3.363,0,0,1,3.334,3.372l-2.351,14.93A3.363,3.363,0,0,1,311.741,121.054Z",transform:"translate(-112.388)"}},{tag:"path",attrsMap:{class:"b",style:"fill:#ffca29;",d:"M309.8,99.48h-9.432A3.382,3.382,0,0,0,297,102.852l2.378,14.93a3.382,3.382,0,0,0,3.372,3.372S320.211,104.4,309.8,99.48Z",transform:"translate(-112.28 -0.095)"}},{tag:"path",attrsMap:{class:"c",style:"fill:#fff;",d:"M305.523,99.48h-5.151A3.382,3.382,0,0,0,297,102.852l1.493,9.318S310.432,104.916,305.523,99.48Z",transform:"translate(-112.256 -0.095)"}},{tag:"path",attrsMap:{class:"d",style:"fill:#15c39a;",d:"M193.655,253.831l-12.8-7.107A2.924,2.924,0,0,1,179.4,244.2V229.982a2.924,2.924,0,0,1,1.459-2.528l12.8-7.107a2.916,2.916,0,0,1,2.923,0l12.8,7.107a2.924,2.924,0,0,1,1.459,2.528V244.2a2.924,2.924,0,0,1-1.459,2.528l-12.8,7.107A2.939,2.939,0,0,1,193.655,253.831Z",transform:"translate(-0.19 -114.84)"}},{tag:"path",attrsMap:{class:"e",style:"fill:#007b5e;",d:"M210.637,639.48v4.461a2.948,2.948,0,0,1-1.464,2.549l-12.8,7.168a2.9,2.9,0,0,1-2.923,0l-12.8-7.168a2.944,2.944,0,0,1-1.459-2.549v-4.257s1.01-.452,2.493,2.421c1.147,2.226,7.134,4.685,9.632,6.5a5.258,5.258,0,0,0,3.6,1.389,12.643,12.643,0,0,0,2.484-.576c2.233-.79,9.066-5.222,10.1-6.7C208.715,641,209.258,639.48,210.637,639.48Z",transform:"translate(0 -514.704)"}},{tag:"path",attrsMap:{class:"f",style:"opacity:0.2;fill:#f9f2d7;",d:"M234.729,224.149l-9.738-5.4a2.886,2.886,0,0,0-2.918,0L209.3,225.919s-.113,4.2,10.422,5.712,2.72.395,2.72.395S232.806,231.365,234.729,224.149Z",transform:"translate(-28.667 -113.316)"}},{tag:"path",attrsMap:{class:"g",style:"fill:#11b48e",d:"M375.76,446.593l.9,1.817a1.593,1.593,0,0,0,1.2.87l2.007.29a1.592,1.592,0,0,1,.88,2.716l-1.451,1.417a1.585,1.585,0,0,0-.457,1.408l.342,2a1.594,1.594,0,0,1-2.312,1.679l-1.793-.942a1.594,1.594,0,0,0-1.479,0l-1.793.942a1.593,1.593,0,0,1-2.312-1.679l.342-2a1.581,1.581,0,0,0-.457-1.408l-1.451-1.417a1.592,1.592,0,0,1,.885-2.716l2.007-.29a1.593,1.593,0,0,0,1.2-.87l.9-1.817a1.583,1.583,0,0,1,2.844,0Z",transform:"translate(-179.405 -330.031)"}},{tag:"path",attrsMap:{class:"h",style:"fill:#fff;",d:"M389.277,459.237l1.17,2.369a.953.953,0,0,0,.723.523l2.611.38a.955.955,0,0,1,.528,1.631l-1.893,1.845a.965.965,0,0,0-.276.847l.447,2.6a.957.957,0,0,1-1.389,1.008l-2.34-1.227a.95.95,0,0,0-.889,0l-2.335,1.227a.957.957,0,0,1-1.389-1.008l.447-2.6a.952.952,0,0,0-.276-.847l-1.893-1.845a.958.958,0,0,1,.533-1.631l2.611-.38a.972.972,0,0,0,.723-.523l1.17-2.369A.959.959,0,0,1,389.277,459.237Z",transform:"translate(-193.493 -342.41)"}}]}]})}},"523d":function(e,t,a){"use strict";a.d(t,"o",(function(){return n})),a.d(t,"n",(function(){return r})),a.d(t,"u",(function(){return o})),a.d(t,"q",(function(){return l})),a.d(t,"p",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"r",(function(){return u})),a.d(t,"t",(function(){return p})),a.d(t,"j",(function(){return h})),a.d(t,"e",(function(){return m})),a.d(t,"b",(function(){return g})),a.d(t,"l",(function(){return f})),a.d(t,"m",(function(){return v})),a.d(t,"g",(function(){return y})),a.d(t,"h",(function(){return b})),a.d(t,"f",(function(){return w})),a.d(t,"c",(function(){return C})),a.d(t,"s",(function(){return k})),a.d(t,"k",(function(){return T})),a.d(t,"i",(function(){return A})),a.d(t,"d",(function(){return L}));var i=a("b775"),s={InviteCollaborate:"/classcipe/api/collaborate/invite",GetCollaborateUsers:"/classcipe/api/collaborate/getCollaborateUsers",GetShared:"/classcipe/api/collaborate/getShared",GetSharedNotReceived:"/classcipe/api/collaborate/getSharedNotReceived",GetFindSharedNotReceived:"/classcipe/api/collaborate/getFindSharedNotReceived",DeleteCollaborate:"/classcipe/api/collaborate/delete",DeleteByMeCollaborate:"/classcipe/api/collaborate/deleteByMe",ReceiveCollaborate:"/classcipe/api/collaborate/receive",GetCollaborateComment:"/classcipe/api/editMessage/queryNewMessage",DeleteCollaborateCommentById:"/classcipe/api/editMessage/delete",MarkedCollaborateComment:"/classcipe/api/editMessage/marked",AddCollaborateComment:"/classcipe/api/editMessage/addMessage",GetCollaborateModifiedHistory:"/classcipe/api/editMessage/queryHistory",QueryContentCollaborates:"/classcipe/api/collaborate/v2/queryContentCollaborates",CollaboratesSearchUser:"/classcipe/api/collaborate/v2/searchUser",CollaboratesInvite:"/classcipe/api/collaborate/v2/invite",CollaboratesAgree:"/classcipe/api/collaborate/v2/agree",CollaboratesUpdate:"/classcipe/api/collaborate/v2/updateCollaborate",CollaboratesRemove:"/classcipe/api/collaborate/v2/remove",CollaboratesDeleteByOthers:"/classcipe/api/collaborate/v2/deleteByOthers",CollaboratesUpdateLink:"/classcipe/api/collaborate/v2/updateLink",CollaboratesQueryShared:"/classcipe/api/collaborate/v2/queryShared",CollaboratesQuerySharedOwner:"/classcipe/api/collaborate/v2/querySharedOwner",QueryByLinkCode:"/classcipe/api/collaborate/v2/queryByLinkCode",CollaboratesApply:"/classcipe/api/collaborate/v2/apply",CollaboratesSendInviteEmail:"/classcipe/api/collaborate/v2/sendInviteEmail"};function n(e){return Object(i["d"])({url:s.DeleteCollaborate,method:"post",data:e})}function r(e){return Object(i["d"])({url:s.DeleteByMeCollaborate,method:"post",data:e})}function o(e){return Object(i["d"])({url:s.ReceiveCollaborate,method:"post",data:e})}function l(e){return Object(i["d"])({url:s.GetCollaborateComment,method:"post",data:e})}function c(e){return Object(i["d"])({url:s.DeleteCollaborateCommentById+"?id="+e.id,method:"post",data:e})}function d(e){return Object(i["d"])({url:s.AddCollaborateComment,method:"post",data:e})}function u(e){return Object(i["d"])({url:s.GetCollaborateModifiedHistory,method:"post",data:e})}function p(e){return Object(i["d"])({url:s.QueryContentCollaborates,method:"get",params:e})}function h(e){return Object(i["d"])({url:s.CollaboratesSearchUser,method:"get",params:e})}function m(e){return Object(i["d"])({url:s.CollaboratesInvite,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function g(e){return Object(i["d"])({url:s.CollaboratesAgree,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(e){return Object(i["d"])({url:s.CollaboratesUpdate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function v(e){return Object(i["d"])({url:s.CollaboratesUpdateLink,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function y(e){return Object(i["d"])({url:s.CollaboratesQueryShared,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(e){return Object(i["d"])({url:s.CollaboratesQuerySharedOwner,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function w(e){return Object(i["d"])({url:s.QueryByLinkCode,method:"get",params:e})}function C(e){return Object(i["d"])({url:s.CollaboratesApply,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function k(e){return Object(i["d"])({url:s.MarkedCollaborateComment+"?id="+e.id,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function T(e){return Object(i["d"])({url:s.CollaboratesSendInviteEmail,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function A(e){return Object(i["d"])({url:s.CollaboratesRemove,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function L(e){return Object(i["d"])({url:s.CollaboratesDeleteByOthers,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},5399:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA1FJREFUWEe92DtoFFEUBuD/jI8kYOGjsbCwECwVFLTQQtBCRDRooWAjCgoWyWqQgMK9Z+MDLLIzkkaMhZUpFFNEUEhhEVBQ0M5ABBuLFCFRtIgkmV9m1pVNsrPzzlQLe+653565c/beETRd1aq3z/fRD/AoRDY3fxf7mfxI+udVr3+NjW0KGBhwdy8tiQvwIIDvAMbIubuq+jsIk0asqneLpIXI+jQTLIslR63t7U46XrV2gnRGINi0Is8EyZOqlR8hUNUzBGzSxJFxxLy1PV1J8hjzYLtIxzcIOlvGE+Pk7HGpVt0Dvo+JXJX7PwMXrendkAQYxBhTOyuOPANa3zWBXBVr3ZcQOZ00ads44rW1PcfT5IpBfhar3hyAdA9Ea8EkuNBtbd9kFFDVPVOvXO+L5phIJPE7ALJ1Qs7QD5/K8TQVaYcjMRI+mYJziZDEeCSQvl9RrbiF4hodglxMgJymv3S4HfCIauVtXmBwW8PKrWxfbZFODVw4FiyXUoGRuMavjkSaTlWdD5dD1Bqk7+eqYCwuBtn4uhRgYtwyJE8bU3m1ckkVDkyNC0TEJPnniOrN6VKBReMKXYNl4AoDloUrBFgmLjewbFwu4FrgMgPXCpcJWBauWn24x/f9IYgcCnshOeE46EvVqFW9UySfp9p9t2nCjaZsjOkUZ+sUgB3LGjWRfLNQP0Ns/JLqtJcAV9/A1naK43xrtXNKXMHw1AfcSbz9SogrDGit9w6C4OwafxETwYmscbaNG5C7guEakS2/Eq29lLhCKmjM4H5x1n2IqwQy4AoBqnrXCAy1BWbEFQK01nsMweUI4A+QQ+ScqupibJVbBOReg1a9d8CyB2S+fjv5FJgbTfowROGLAH4KD/fkW0DekLNjeVHN2NzALLctzRhjBneJsy74J1l1RTZqAa8a0/sozURZY1XdS4QMpwKCnBHBhY6Orvf9/Vd+Zp283bh794a2LSwsHiVleNU7wn8Dxao7BciuMgAF5JyWmBZSwBw5UpCjYkxtrzjyIeolYo70uYfS58nwFbC1DwcgvJ07Y5EJiBFre86HQGPMepGt9yHoK3KOzLmI5+TsxaDX/n/LX4e6h0RwAyLBtmp75gkyDeQMKO8B/4m1ldFGir8fcc419qfJGAAAAABJRU5ErkJggg=="},"53a3":function(e,t,a){e.exports=a.p+"img/1.3740e00d.png"},"53f2":function(e,t,a){"use strict";a("8bab")},"57a5b":function(e,t,a){"use strict";var i={Link:"Link",Select:"Select",Evaluation:"Evaluation",Refer:"Refer"};t["a"]=i},"58e7":function(e,t){e.exports="data:image/png;base64,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"},5952:function(e,t,a){},"59fa":function(e,t,a){e.exports=a.p+"img/class_icon.9dfce42f.png"},"5ac9":function(e,t){e.exports="data:image/png;base64,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"},"5bb5":function(e,t,a){},"5d88":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"31.442",height:"40",viewBox:"0 0 31.442 40"},children:[{tag:"g",attrsMap:{transform:"translate(-179.2 -99.38)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#ffd629;",d:"M311.741,121.054h-8.855a3.363,3.363,0,0,1-3.334-3.372l-2.351-14.93a3.363,3.363,0,0,1,3.334-3.372h13.558a3.363,3.363,0,0,1,3.334,3.372l-2.351,14.93A3.363,3.363,0,0,1,311.741,121.054Z",transform:"translate(-112.388)"}},{tag:"path",attrsMap:{class:"b",style:"fill:#ffca29;",d:"M309.8,99.48h-9.432A3.382,3.382,0,0,0,297,102.852l2.378,14.93a3.382,3.382,0,0,0,3.372,3.372S320.211,104.4,309.8,99.48Z",transform:"translate(-112.28 -0.095)"}},{tag:"path",attrsMap:{class:"c",style:"fill:#fff;opacity:0.3;",d:"M305.523,99.48h-5.151A3.382,3.382,0,0,0,297,102.852l1.493,9.318S310.432,104.916,305.523,99.48Z",transform:"translate(-112.256 -0.095)"}},{tag:"path",attrsMap:{class:"d",style:"fill:#6bc04a;",d:"M193.655,253.831l-12.8-7.107A2.924,2.924,0,0,1,179.4,244.2V229.982a2.924,2.924,0,0,1,1.459-2.528l12.8-7.107a2.916,2.916,0,0,1,2.923,0l12.8,7.107a2.924,2.924,0,0,1,1.459,2.528V244.2a2.924,2.924,0,0,1-1.459,2.528l-12.8,7.107A2.939,2.939,0,0,1,193.655,253.831Z",transform:"translate(-0.19 -114.84)"}},{tag:"path",attrsMap:{class:"e",style:"fill:#258101;opacity:0.2;",d:"M210.637,639.48v4.461a2.948,2.948,0,0,1-1.464,2.549l-12.8,7.168a2.9,2.9,0,0,1-2.923,0l-12.8-7.168a2.944,2.944,0,0,1-1.459-2.549v-4.257s1.01-.452,2.493,2.421c1.147,2.226,7.134,4.685,9.632,6.5a5.258,5.258,0,0,0,3.6,1.389,12.643,12.643,0,0,0,2.484-.576c2.233-.79,9.066-5.222,10.1-6.7C208.715,641,209.258,639.48,210.637,639.48Z",transform:"translate(0 -514.704)"}},{tag:"path",attrsMap:{class:"f",style:"opacity:0.2;fill:#f9f2d7;",d:"M234.729,224.149l-9.738-5.4a2.886,2.886,0,0,0-2.918,0L209.3,225.919s-.113,4.2,10.422,5.712,2.72.395,2.72.395S232.806,231.365,234.729,224.149Z",transform:"translate(-28.667 -113.316)"}},{tag:"path",attrsMap:{class:"g",style:"fill:#5db43b;",d:"M375.76,446.593l.9,1.817a1.593,1.593,0,0,0,1.2.87l2.007.29a1.592,1.592,0,0,1,.88,2.716l-1.451,1.417a1.585,1.585,0,0,0-.457,1.408l.342,2a1.594,1.594,0,0,1-2.312,1.679l-1.793-.942a1.594,1.594,0,0,0-1.479,0l-1.793.942a1.593,1.593,0,0,1-2.312-1.679l.342-2a1.581,1.581,0,0,0-.457-1.408l-1.451-1.417a1.592,1.592,0,0,1,.885-2.716l2.007-.29a1.593,1.593,0,0,0,1.2-.87l.9-1.817a1.583,1.583,0,0,1,2.844,0Z",transform:"translate(-179.405 -330.031)"}},{tag:"path",attrsMap:{class:"h",style:"fill:#fff;",d:"M389.277,459.237l1.17,2.369a.953.953,0,0,0,.723.523l2.611.38a.955.955,0,0,1,.528,1.631l-1.893,1.845a.965.965,0,0,0-.276.847l.447,2.6a.957.957,0,0,1-1.389,1.008l-2.34-1.227a.95.95,0,0,0-.889,0l-2.335,1.227a.957.957,0,0,1-1.389-1.008l.447-2.6a.952.952,0,0,0-.276-.847l-1.893-1.845a.958.958,0,0,1,.533-1.631l2.611-.38a.972.972,0,0,0,.723-.523l1.17-2.369A.959.959,0,0,1,389.277,459.237Z",transform:"translate(-193.493 -342.41)"}}]}]})}},"5d91":function(e,t,a){"use strict";a("19d1")},"60f8":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19"},children:[{tag:"g",attrsMap:{transform:"translate(-771.25 -365.25)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#808191;stroke:#808191;",d:"M9,0A9,9,0,1,1,0,9,9,9,0,0,1,9,0Z",transform:"translate(771.75 365.75)"}},{tag:"path",attrsMap:{class:"b",style:"fill:#fff;stroke:#fff;stroke-width:0.5px;",d:"M24.47,24.8V21.78h3.016a.5.5,0,0,0,0-1.005H24.47V17.759a.5.5,0,0,0-1.005,0v3.016H20.449a.5.5,0,0,0,0,1.005h3.016V24.8a.5.5,0,0,0,1.005.044q0-.022,0-.044Z",transform:"translate(756.784 353.451)"}}]}]})}},"666c":function(e,t,a){"use strict";a("05c1")},"66a8":function(e,t){e.exports="data:image/png;base64,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"},"66d8":function(e,t,a){"use strict";a("a283")},6867:function(e,t,a){"use strict";a("3696")},6964:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-card-view"},[a("div",{staticClass:"card-cover",style:{backgroundImage:"url("+e.cover+")"}}),a("div",{class:{"card-info":!0,"active-item":e.activeFlag}},[a("div",{staticClass:"card-title"},[a("div",{staticClass:"type-icon"},[a("content-type-icon",{attrs:{type:e.contentType}})],1),a("div",{staticClass:"title-text"},[e._v(e._s(e.title))])]),a("div",{staticClass:"card-time"},[e._v(" "+e._s(e._f("dayjs")(e.updateTime))+" ")])])])},s=[],n=(a("a9e3"),a("8f46")),r={name:"DataCardView",components:{ContentTypeIcon:n["a"]},props:{cover:{type:String,default:null},title:{type:String,default:null},updateTime:{type:String,default:null},activeFlag:{type:Boolean,default:!1},contentType:{type:Number,required:!0}}},o=r,l=(a("7531"),a("0c7c")),c=Object(l["a"])(o,i,s,!1,null,"3706e6d5",null);t["a"]=c.exports},"6b36":function(e,t,a){"use strict";a.r(t),a.d(t,"reviewsTaskAPIUrl",(function(){return s})),a.d(t,"ReviewsTaskSave",(function(){return n})),a.d(t,"ReviewsTaskList",(function(){return r})),a.d(t,"ReviewsTaskMyReview",(function(){return o})),a.d(t,"ReviewsTaskStats",(function(){return l})),a.d(t,"ReviewsTaskDelete",(function(){return c})),a.d(t,"ReviewsTaskMyReviewBySession",(function(){return d})),a.d(t,"getReviewsStatByContentId",(function(){return u}));var i=a("b775"),s={delete:"/classcipe/api/reviewsTask/delete",getMyReviews:"/classcipe/api/reviewsTask/library/getMyReviews",getMyReviewsSession:"/classcipe/api/reviewsTask/session/getMyReviews",getReviewsStat:"/classcipe/api/reviewsTask/library/getReviewsStat",list:"/classcipe/api/reviewsTask/list",save:"/classcipe/api/reviewsTask/save",getReviewsStatByContentId:"/classcipe/api/reviewsTask/getReviewsStatByContentId"};function n(e){return Object(i["d"])({url:s.save,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i["d"])({url:s.list,method:"get",params:e})}function o(e){return Object(i["d"])({url:s.getMyReviews,method:"get",params:e})}function l(e){return Object(i["d"])({url:s.getReviewsStat,method:"get",params:e})}function c(e){return Object(i["d"])({url:s.delete+"?id="+e.id,method:"get",data:e})}function d(e){return Object(i["d"])({url:s.getMyReviewsSession,method:"get",params:e})}function u(e){return Object(i["d"])({url:s.getReviewsStatByContentId,method:"get",params:e})}},"6c03":function(e,t,a){"use strict";a("9ad4")},"6cf7":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},children:[{tag:"g",attrsMap:{transform:"translate(18043 19026)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#808191;",d:"M73.235,82.144m-12,0a12,12,0,1,0,12-12A12,12,0,0,0,61.235,82.144Z",transform:"translate(-18104.234 -19096.145)"}},{tag:"g",attrsMap:{transform:"translate(-18108.662 -19021)"},children:[{tag:"path",attrsMap:{class:"b",style:"fill:#fff;",d:"M83.509,45.353a.881.881,0,0,0-.647-.284h-.944V43.295H73.485v1.775h-.946a.878.878,0,0,0-.875.947,6.045,6.045,0,0,0,1.924,3.944q.184.171.381.324A4.221,4.221,0,0,0,77,52.479V53.99h1.4V52.479a4.221,4.221,0,0,0,3.031-2.2q.195-.154.378-.322a6.045,6.045,0,0,0,1.924-3.944.876.876,0,0,0-.228-.664Zm-10.969.594h.946v2.375q0,.1.005.208A5.161,5.161,0,0,1,72.539,45.947Zm9.373,2.58q0-.1.005-.206V45.947h.944a5.161,5.161,0,0,1-.948,2.58Zm-1.638,6.2H75.128a.878.878,0,0,0-.878.878v1.143h6.9V55.6a.878.878,0,0,0-.878-.878Z",transform:"translate(0 -42.701)"}},{tag:"path",attrsMap:{class:"c",style:"fill:#15c39a;",d:"M169.08,0h-8.245a.7.7,0,1,0,0,1.408h8.245a.7.7,0,1,0,0-1.408Zm-2.79,11.234h-2.665a.818.818,0,0,0-.818.818h4.3a.818.818,0,0,0-.817-.818Zm.782-6.868-1.13-.1a.258.258,0,0,1-.207-.141l-.6-1.2a.258.258,0,0,0-.466.011l-.524,1.178a.258.258,0,0,1-.212.152l-1.112.1a.258.258,0,0,0-.126.466l.859.614a.258.258,0,0,1,.092.3l-.4,1.091a.258.258,0,0,0,.361.317l1.185-.62a.258.258,0,0,1,.235,0l1.252.631a.258.258,0,0,0,.357-.322l-.417-1.091a.258.258,0,0,1,.094-.3l.885-.613a.258.258,0,0,0-.124-.467Z",transform:"translate(-87.256)"}}]}]}]})}},"6f26":function(e,t,a){"use strict";a("20b5")},"6f6b":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"30.511",height:"24.408",viewBox:"0 0 30.511 24.408"},children:[{tag:"g",attrsMap:{id:"打开的文件夹",transform:"translate(0)"},children:[{tag:"path",attrsMap:{id:"路径_403","data-name":"路径 403",style:" fill: #009b77;",class:"cls-1",d:"M269,4.247H258.243L255.515.491A1.276,1.276,0,0,0,254.606,0h-7.579c-.909,0-1.515.98-1.212,2.287l2.728,17.153a1.474,1.474,0,0,0,1.364,1.307h16.671a1.5,1.5,0,0,0,1.364-1.306l2.122-13.071c.3-1.144-.3-2.124-1.062-2.124Z",transform:"translate(-239.879 0)"}},{tag:"path",attrsMap:{id:"路径_404","data-name":"路径 404",style:" fill: #fff;",class:"cls-2",d:"M358.4,286.427V275.456h18.306v10.971Z",transform:"translate(-349.86 -268.89)"}},{tag:"path",attrsMap:{id:"路径_405","data-name":"路径 405",style:" fill: #15c39a;",class:"cls-3",d:"M28.931,229.548H15.519l-3.587-3.776a1.643,1.643,0,0,0-1.091-.492H1.484a1.54,1.54,0,0,0-1.4,2.133L4.6,243.169a1.752,1.752,0,0,0,1.715,1.15h18.9a1.754,1.754,0,0,0,1.716-1.148l3.56-11.982a1.511,1.511,0,0,0-1.56-1.64Z",transform:"translate(0 -219.911)"}}]}]})}},"6fdc":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAoCAYAAADDo7u9AAAAAXNSR0IArs4c6QAAANtJREFUOE/tkjFPwgAQhb/XMjjIJpZRpbiCorO7RmL7q8DJH6GJmwnBBFdnR1Z/gHEwdnGyz9RILKQaRhO58d3LvbvLJ4DN7aQThBoiHwC2mWCGT483U23sJLthyINQvTDPyubV5D1FrWSsQCfl5rfJl2rG6RtircqAeVbUTrLF8aWcF0VxOpI4rYzA12rE/b1AtXvB+tySOMvz954KsbF11g1rukA6cpELE9vnn2dWLlcS/5Phi4cB8iFWbny3BA/OjPfVbKe3wPEPPFz9zgMrHmaP+zPIrXiYfgAthaY0NrP7nAAAAABJRU5ErkJggg=="},7125:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},children:[{tag:"g",attrsMap:{transform:"translate(18312 18963)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#808191;",d:"M73.235,82.144m-12,0a12,12,0,1,0,12-12A12,12,0,0,0,61.235,82.144Z",transform:"translate(-18373.234 -19033.145)"}},{tag:"g",attrsMap:{transform:"translate(-36.035 2.01)"},children:[{tag:"rect",attrsMap:{class:"b",style:"fill:#15c39a;",width:"13",height:"6",rx:"1",transform:"translate(-18269.965 -18957.01)"}},{tag:"path",attrsMap:{class:"c",style:"fill:#fff;",d:"M78.2,197.857a2.37,2.37,0,0,1,.674.177,1.745,1.745,0,0,1,.585.4,1.622,1.622,0,0,1,.372.647,2.036,2.036,0,0,1,.035.939q-.035.142-.142.7T79.472,202q-.142.727-.319,1.5t-.337,1.321a3.663,3.663,0,0,1-.257.656,2.452,2.452,0,0,1-.434.612,2.185,2.185,0,0,1-.638.452,2.044,2.044,0,0,1-.886.177h-9.82a2.072,2.072,0,0,1-.771-.16,2.576,2.576,0,0,1-.736-.452,2.333,2.333,0,0,1-.549-.709,2.016,2.016,0,0,1-.213-.931v-7.6a2.349,2.349,0,0,1,.585-1.693,2.173,2.173,0,0,1,1.648-.612h8.721a2.366,2.366,0,0,1,.807.151,2.675,2.675,0,0,1,.753.417,2.283,2.283,0,0,1,.549.62,1.456,1.456,0,0,1,.213.762v.195h-.922q-.709,0-1.657-.009t-2.021-.009q-1.072,0-2-.009t-1.6-.009h-.815a.905.905,0,0,0-.718.292,2.021,2.021,0,0,0-.4.771q-.142.514-.319,1.09t-.319,1.072q-.177.585-.355,1.134a1,1,0,0,0-.035.23.7.7,0,0,0,.709.709q.549,0,.744-.691l.939-3.439q2.3.018,4.219.018H78.2Z",transform:"translate(-18335.512 -19153.57)"}}]}]}]})}},7147:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var i={CreatedByMe:0,SharedByMe:1,SharedByOthers:2,Archived:3}},7286:function(e,t,a){},"72b3":function(e,t,a){"use strict";a("2cea")},"72df":function(e,t,a){},7340:function(e,t,a){},7531:function(e,t,a){"use strict";a("2d57")},7569:function(e,t,a){"use strict";a("ba70")},7715:function(e,t,a){},7735:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ppt-slide-view"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"score-number-item"},[i("score-number",{attrs:{score:e.studentScore}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode,expression:"mode"}],staticClass:"go-session-detail"},[i("a-space",[i("a-button",{attrs:{shape:"round",type:"primary",disabled:e.loading},on:{click:e.handleEnsureEvidence}},[e._v("Confirm")]),i("a-button",{attrs:{shape:"round"},on:{click:e.handleCancelEvidence}},[e._v("Cancel")])],1)],1),e.loading?e._e():i("div",{staticClass:"student-profile"},[i("div",{staticClass:"student-info"},[i("div",{staticClass:"student-name"},[e._v("Student :")]),e._v(" "+e._s(e.studentName)+" ")])]),e.loading?e._e():i("div",{staticClass:"tips"},[i("h3",[e._v("Multiple choice")])]),e.loading?e._e():i("div",{staticClass:"slide-content-list",style:{height:e.mode?"calc(100vh - 200px)":"400px"}},[e._l(e.slideDataList,(function(t,s){return i("div",{key:s,class:{"slide-comment-item":!0,"active-slide-item":-1!==e.selectedSlidePageIdList.indexOf(t.pageObjectId)||-1!==e.selectedStudentSlidePageIdList.indexOf(t.pageObjectId)},attrs:{"data-pageObjectId":t.pageObjectId,"data-selectedSlidePageIdList":JSON.stringify(e.selectedSlidePageIdList)},on:{click:function(a){return e.handleAddSlideItem(t)}}},[i("div",{staticClass:"slide-header-label"},[i("h3",[e._v("Slide "+e._s(s+1))]),i("div",{staticClass:"selected-icon"},[-1!==e.selectedSlidePageIdList.indexOf(t.pageObjectId)?i("div",{staticClass:"icon-item"},[i("teacher-icon")],1):e._e(),-1!==e.selectedStudentSlidePageIdList.indexOf(t.pageObjectId)?i("div",{staticClass:"icon-item"},[i("student-icon")],1):e._e()])]),i("div",{staticClass:"slide-body"},[i("div",{staticClass:"slide-img"},[i("img",{attrs:{src:t.contentUrl,"data-url":t.contentUrl},on:{click:function(t){return e.handleClickImg(t)}}}),i("div",{staticClass:"top-icon-groups"},[Object.keys(t.material).length>0?i("a-col",{staticClass:"material-row"},[i("div",{staticClass:"icon-group"},[t.material.hasOwnProperty("text")?i("a-badge",{attrs:{count:t.material["text"]?t.material["text"].length:0}},[i("div",{staticClass:"icon",on:{click:function(a){return e.showPluginMaterial(t,"text")}}},[i("text-type-svg"),i("div",{staticClass:"icon-text"},[e._v("Text")])],1)]):e._e(),t.material.hasOwnProperty("image")?i("a-badge",{attrs:{count:t.material["image"]?t.material["image"].length:0}},[i("div",{staticClass:"icon",on:{click:function(a){return e.showPluginMaterial(t,"image")}}},[i("image-type-svg"),i("div",{staticClass:"icon-text"},[e._v("Image")])],1)]):e._e(),t.material.hasOwnProperty("video")?i("a-badge",{attrs:{count:t.material["video"]?t.material["video"].length:0}},[i("div",{staticClass:"icon",on:{click:function(a){return e.showPluginMaterial(t,"video")}}},[i("video-type-svg"),i("div",{staticClass:"icon-text"},[e._v("Video")])],1)]):e._e(),t.material.hasOwnProperty("audio")?i("a-badge",{attrs:{count:t.material["audio"]?t.material["audio"].length:0}},[i("div",{staticClass:"icon",on:{click:function(a){return e.showPluginMaterial(t,"audio")}}},[i("audio-type-svg"),i("div",{staticClass:"icon-text"},[e._v("Audio")])],1)]):e._e(),t.material.hasOwnProperty("iframe")?i("a-badge",{attrs:{count:t.material["iframe"]?t.material["iframe"].length:0}},[i("div",{staticClass:"icon",on:{click:function(a){return e.showPluginMaterial(t,"iframe")}}},[i("youtube-type-svg"),i("div",{staticClass:"icon-text"},[e._v("Youtube")])],1)]):e._e(),t.material.hasOwnProperty("pdf")?i("a-badge",{attrs:{count:t.material["pdf"]?t.material["pdf"].length:0}},[i("div",{staticClass:"icon",on:{click:function(a){return e.showPluginMaterial(t,"pdf")}}},[i("pdf-type-svg"),i("div",{staticClass:"icon-text"},[e._v("PDF")])],1)]):e._e(),t.material.hasOwnProperty("website")?i("a-badge",{attrs:{count:t.material["website"]?t.material["website"].length:0}},[i("div",{staticClass:"icon",on:{click:function(a){return e.showPluginMaterial(t,"website")}}},[i("url-type-svg"),i("div",{staticClass:"icon-text"},[e._v("Website")])],1)]):e._e()],1)]):e._e()],1)]),i("div",{staticClass:"slide-response"},[i("div",{staticClass:"data-list"},[t.commentList.length?i("div",{staticClass:"data-item"},[i("div",{staticClass:"comment-bg",on:{click:function(e){e.stopPropagation()}}},[i("img",{staticClass:"cover",attrs:{src:t.contentUrl}}),i("img",{staticClass:"expand-icon",attrs:{src:a("d815")},on:{click:function(a){return a.stopPropagation(),e.handleViewExpand(t)}}}),e._l(t.commentList,(function(e,t){return i("div",{key:t,staticClass:"dot-item",style:{position:"absolute",border:"2px solid #aaa",backgroundColor:e.background,left:e.left/e.content_width*280+"px",top:e.top/e.content_height*160+"px"}})}))],2)]):e._e(),t.material&&t.material.hasOwnProperty("image")?i("div",{staticClass:"img-item-list",on:{click:function(e){e.stopPropagation()}}},e._l(t.material.image,(function(t,a){return i("div",{key:a,staticClass:"img-item",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"img-cover",style:{"background-image":"url('"+t.url+"')"}}),i("div",{staticClass:"view-item",on:{click:function(a){return a.stopPropagation(),e.handleViewItem(t.url)}}},[e._v("View "),i("a-icon",{attrs:{type:"eye"}})],1)])})),0):e._e(),t.material&&t.material.hasOwnProperty("audio")?i("div",{staticClass:"audio-item-list"},e._l(t.material.audio,(function(e,t){return i("div",{key:t,staticClass:"audio-item",on:{click:function(e){e.stopPropagation()}}},[i("img",{staticClass:"img-icon",attrs:{src:a("1707")}}),i("div",{staticClass:"audio-view"},[i("audio",{attrs:{controls:"",src:e.url}})])])})),0):e._e(),t.material&&t.material.hasOwnProperty("video")?i("div",{staticClass:"video-item-list"},e._l(t.material.video,(function(e,t){return i("div",{key:t,staticClass:"video-item",on:{click:function(e){e.stopPropagation()}}},[i("img",{staticClass:"img-icon",attrs:{src:a("66a8")}}),i("div",{staticClass:"video-view"},[i("video",{attrs:{controls:"",src:e.url}})])])})),0):e._e(),e._l(t.responseList,(function(t,a){return i("div",{key:a,staticClass:"data-item"},["media"===t.itemData.type?["audio"===t.responseData.content.mediaType?[i("audio",{attrs:{src:t.responseData.content.link,controls:""}})]:e._e()]:e._e(),"audio"===t.responseData.type?[i("audio",{attrs:{src:t.responseData.content.link,controls:""}})]:e._e(),"draw"===t.responseData.type?[i("img",{attrs:{src:t.responseData.content}})]:e._e(),"text"===t.responseData.type?[e._v(" "+e._s(t.responseData.content)+" ")]:e._e(),t.itemData&&t.itemData.data&&t.itemData.data.options?[i("div",{staticClass:"option-list",on:{click:function(e){e.stopPropagation()}}},e._l(t.itemData.data.options,(function(t,a){return i("div",{key:a,staticClass:"option-item"},[i("a-radio",{attrs:{checked:t.isAnswer}},[e._v(e._s(t.text))]),t.isAnswer?i("span",{staticClass:"correct-option"},[e._v("Correct answer")]):e._e()],1)})),0)]:e._e()],2)}))],2)]),i("div",{staticClass:"slide-comment"},[i("div",{staticClass:"teacher-data",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"teacher-score"},[i("a-row",{staticClass:"score-item",attrs:{gutter:5}},[i("a-col",{attrs:{span:"5"}},[i("h3",{staticStyle:{"text-align":"right"}},[e._v("Score")])]),i("a-col",{attrs:{span:"16"}},[i("a-input",{attrs:{placeholder:"Max 10",type:"number",min:"0",max:"10"},nativeOn:{keyup:function(e){e.stopPropagation(),t.score=t.score>10?10:t.score}},model:{value:t.score,callback:function(a){e.$set(t,"score",a)},expression:"slideItem.score"}})],1)],1),i("div",{staticClass:"comment-list"},e._l(t.teacherCommentList,(function(t,a){return i("div",{key:a,staticClass:"comment-item"},[i("div",{staticClass:"comment-user-info"},[i("div",{staticClass:"avatar"},[i("img",{attrs:{src:t.avatar}})]),i("div",{staticClass:"profile"},[i("div",{staticClass:"name"},[e._v(e._s(t.createBy))]),i("div",{staticClass:"time"},[e._v(e._s(e._f("formatDate")(t.createTime)))])])]),i("div",{staticClass:"comment-detail"},[e._v(e._s(t.comment))])])})),0),i("div",{staticClass:"comment-add"},[i("div",{staticClass:"add-comment-wrapper"},[i("div",{staticClass:"comment-input-wrapper"},[i("div",{staticClass:"input"},[i("evidence-comment-input",{attrs:{extra:t},on:{send:e.handleAddComment}})],1)])])])],1)]),i("div",{staticClass:"action-item"},[e.mode===e.EvaluationTableMode.TeacherEvaluate?[-1!==e.selectedSlidePageIdList.indexOf(t.pageObjectId)?[e._m(0,!0)]:e._e(),-1===e.selectedSlidePageIdList.indexOf(t.pageObjectId)?[e._m(1,!0)]:e._e()]:e._e(),e.mode===e.EvaluationTableMode.StudentEvaluate?[-1!==e.selectedStudentSlidePageIdList.indexOf(t.pageObjectId)?[e._m(2,!0)]:e._e(),-1===e.selectedStudentSlidePageIdList.indexOf(t.pageObjectId)?[e._m(3,!0)]:e._e()]:e._e()],2)])])])})),i("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"800px",zIndex:6e3,title:"My Materials"},on:{ok:function(t){e.materialVisible=!1},cancel:function(t){e.materialVisible=!1}},model:{value:e.materialVisible,callback:function(t){e.materialVisible=t},expression:"materialVisible"}},[i("task-material-preview",{attrs:{"current-page-element-lists":e.currentPageElementLists,"filter-type":e.filterMaterialType}})],1),i("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"900px",zIndex:5e3,title:null},on:{ok:function(t){e.mediaVisible=!1},cancel:function(t){e.mediaVisible=!1}},model:{value:e.mediaVisible,callback:function(t){e.mediaVisible=t},expression:"mediaVisible"}},[i("media-preview",{attrs:{"media-list":e.mediaList,"material-type":e.filterMaterialType}})],1),i("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"1000px",zIndex:5e3,title:null},on:{ok:function(t){e.viewSlideItemVisible=!1},cancel:function(t){e.viewSlideItemVisible=!1}},model:{value:e.viewSlideItemVisible,callback:function(t){e.viewSlideItemVisible=t},expression:"viewSlideItemVisible"}},[i("slide-preview",{attrs:{"slide-item":e.currentViewSlideItem}})],1)],2),e.loading?i("div",{staticClass:"loading"},[i("a-spin")],1):e._e(),i("a-modal",{attrs:{destroyOnClose:"",footer:null,closable:!1,width:"800px",bodyStyle:{padding:"0px"}},on:{ok:function(t){e.previewItemVisible=!1}},model:{value:e.previewItemVisible,callback:function(t){e.previewItemVisible=t},expression:"previewItemVisible"}},[i("div",{staticClass:"preview-item"},[i("img",{staticClass:"preview-img",attrs:{src:e.previewItemUrl},on:{load:function(t){e.previewLoading=!1}}}),e.previewLoading?i("div",{staticClass:"preview-loading"},[i("a-spin",{staticClass:"preview-loading"})],1):e._e()])])],1)},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"action-btn-delete"},[i("div",{staticClass:"action-icon"},[i("img",{attrs:{src:a("8dab"),alt:""}})]),i("div",{staticClass:"text"},[e._v(" Delete ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"action-btn-add"},[i("div",{staticClass:"action-icon"},[i("img",{attrs:{src:a("ce1b"),alt:""}})]),i("div",{staticClass:"text"},[e._v(" Add ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"action-btn-delete"},[i("div",{staticClass:"action-icon"},[i("img",{attrs:{src:a("8dab"),alt:""}})]),i("div",{staticClass:"text"},[e._v(" Delete ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"action-btn-add"},[i("div",{staticClass:"action-icon"},[i("img",{attrs:{src:a("ce1b"),alt:""}})]),i("div",{staticClass:"text"},[e._v(" Add ")])])}],n=a("3835"),r=a("b85c"),o=a("5530"),l=(a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("159b"),a("a434"),a("b0c0"),a("8897")),c=a("9f06"),d=a("c621"),u=a("90e8"),p=a("519d"),h=a.n(p),m=a("a615f"),g=a.n(m),f=a("1b72"),v=a("873a"),y=a("542c"),b=a("8448"),w=a.n(b),C=a("998c"),k=a.n(C),T=a("4084"),A=a.n(T),L=a("8a21"),I=a.n(L),S=a("1eeb"),x=a.n(S),M=a("5a1d"),E=a.n(M),_=a("6631"),O=a.n(_),D=a("f4e6"),N=a("97e7"),P=a("de36"),R=a("2f59"),B={name:"PptSlideView",components:{ScoreNumber:N["a"],SlidePreview:D["a"],EvidenceCommentInput:P["a"],StudentIcon:h.a,TeacherIcon:g.a,MediaPreview:v["a"],TaskMaterialPreview:y["a"],TextTypeSvg:w.a,ImageTypeSvg:k.a,VideoTypeSvg:A.a,AudioTypeSvg:I.a,YoutubeTypeSvg:x.a,PdfTypeSvg:E.a,UrlTypeSvg:O.a},mixins:[R["a"]],props:{mode:{type:String,default:""},slideId:{type:String,required:!0},formId:{type:String,default:null},rowId:{type:String,default:null},classId:{type:String,default:null},sessionId:{type:String,default:null},selectedIdList:{type:Array,default:function(){return[]}},selectedIdStudentList:{type:Array,default:function(){return[]}},studentName:{type:String,default:null}},data:function(){return{loading:!0,EvaluationTableMode:u["a"],selectedSlidePageIdList:[],selectedStudentSlidePageIdList:[],rawSlideDataMap:new Map,slideDataList:[],elementsList:[],itemsList:[],materialVisible:!1,mediaVisible:!1,filterMaterialType:null,currentPageElementLists:[],mediaList:[],currentViewSlideItem:null,viewSlideItemVisible:!1,previewItemUrl:null,previewItemVisible:!1,previewLoading:!1}},watch:{studentName:function(){this.loadData()}},computed:{studentScore:function(){var e=0;return this.slideDataList.forEach((function(t){e+=parseInt(t.score)})),e},totalScore:function(){return 10*this.slideDataList.length}},created:function(){this.$logger.info("PptSlideView"+this.slideId+" classId "+this.classId,"selectedIdList",this.selectedIdList,"selectedIdStudentList",this.selectedIdStudentList,"studentName",this.studentName),this.selectedSlidePageIdList=this.selectedIdList,this.selectedStudentSlidePageIdList=this.selectedIdStudentList,this.loadData()},methods:{resetData:function(){this.rawSlideDataMap.clear(),this.slideDataList=[],this.elementsList=[],this.itemsList=[],this.currentPageElementLists=[],this.mediaList=[],this.materialVisible=!1,this.mediaVisible=!1,this.viewSlideItemVisible=!1,this.previewItemVisible=!1,this.previewLoading=!1,this.filterMaterialType=null,this.previewItemUrl=null,this.currentViewSlideItem=null},loadData:function(){var e=this;this.loading=!0,this.resetData(),this.$logger.info("加载PPT数据 "+this.classId+" slideId "+this.slideId+" formId"+this.formId+" rowId "+this.rowId),Promise.all([Object(d["d"])({taskId:this.formId}),Object(f["d"])({slideId:this.slideId}),Object(c["QuerySessionEvidence"])({sessionId:this.sessionId,user:this.studentName}),Object(f["e"])({classId:this.sessionId})]).then((function(t){if(e.$logger.info("加载PPT数据 response",t),t[2].result&&t[2].result.result){e.$logger.info("使用历史评估数据",t[2].result.result);var a=JSON.parse(t[2].result.result);e.$logger.info("解析历史数据",a),e.slideDataList=a.slideDataList,e.elementsList=a.elementsList,e.itemsList=a.itemsList,e.$logger.info("使用历史评估数据 this.slideDataList",e.slideDataList," this.elementsList",e.elementsList," this.itemsList",e.itemsList),e.loading=!1}else{if(t[0].code!==e.ErrorCode.ppt_google_token_expires&&t[0].code!==e.ErrorCode.ppt_forbidden){var i=t[0].result.pageObjects;i.length?(i.forEach((function(t){t.responseList=[],t.commentList=[],t.pageObjectId&&e.rawSlideDataMap.set(t.pageObjectId,t)})),e.loadStudentData()):(e.loading=!1,e.$logger.info("loaded data",e.imgList,e.commentData))}t[1].success&&(e.elementsList=t[1].result.relements,e.itemsList=t[1].result.items)}}))},handleAuthCallback:function(){this.$logger.info("handleAuthCallback"),this.loadData()},loadStudentData:function(){var e=this;this.$logger.info("loadStudentData",this.rawSlideDataMap),Object(l["a"])({class_id:this.sessionId}).then((function(t){e.$logger.info("GetStudentResponse response",t);var a=t.data.presentation_comments;a.forEach((function(t){var a=JSON.parse(t.data),i=a.page_id,s=e.rawSlideDataMap.get(i);s?(s.commentList.push(Object(o["a"])(Object(o["a"])({},a),{},{user_id:t.user_id})),e.rawSlideDataMap.set(i,s)):e.$logger.warn("commentList no get slideIem by pageId "+i)}));var i=t.data.response,s=[];i.forEach((function(t){var a=JSON.parse(t.response_data),i=JSON.parse(t.item_data),n=t.response_type,r=t.student_user_id,o=a.page_id,l=e.rawSlideDataMap.get(o);l&&-1===s.indexOf(i.item_id)&&(s.push(i.item_id),e.$logger.info("find slideItem response "+a.page_id,i),l.responseList.push({responseData:a,itemData:i,responseType:n,studentUserId:r}),e.rawSlideDataMap.set(o,l))})),e.$logger.info("after set rawSlideDataMap ",e.rawSlideDataMap);var l,c=Object(r["a"])(e.rawSlideDataMap);try{var d=function(){var t=Object(n["a"])(l.value,2),a=t[0],i=t[1],s={};e.elementsList.forEach((function(e){if(a===e.pageId){var t=JSON.parse(e.data);"tip"!==t.type&&(s.hasOwnProperty(t.type)||(s[t.type]=[]),s[t.type].push(t))}})),e.slideDataList.push(Object(o["a"])(Object(o["a"])({},i),{},{pageId:a,material:s,score:0,teacherCommentList:[]})),i.commentList.length&&e.$logger.info("commentList have data"+JSON.stringify(i)),i.responseList.length&&e.$logger.info("responseList have data"+JSON.stringify(i))};for(c.s();!(l=c.n()).done;)d()}catch(u){c.e(u)}finally{c.f()}e.$logger.info("slideDataList",e.slideDataList)})).finally((function(){e.loading=!1}))},showPluginMaterial:function(e,t){var a=e.material[t],i=e.pageId;this.$logger.info("showPluginMaterial ",e,t);var s=[];0!==this.slideDataList.length&&this.elementsList.forEach((function(e){if(i===e.pageId){var t=JSON.parse(e.data);s.push(t)}})),this.currentPageElementLists=s,"text"===t||"website"===t||"pdf"===t?a.length>1?(this.filterMaterialType=t,this.materialVisible=!0):"tip"!==a[0].type&&window.open(a[0].url,"_blank"):(this.mediaList=a,this.filterMaterialType=t,this.mediaVisible=!0)},handleAddSlideItem:function(e){if(this.$logger.info("handleAddSlideItem",e),this.mode===u["a"].TeacherEvaluate){var t=this.selectedSlidePageIdList.indexOf(e.pageId);-1!==t?this.selectedSlidePageIdList.splice(t,1):this.selectedSlidePageIdList.push(e.pageId)}else if(this.mode===u["a"].StudentEvaluate){var a=this.selectedStudentSlidePageIdList.indexOf(e.pageId);-1!==a?this.selectedStudentSlidePageIdList.splice(a,1):this.selectedStudentSlidePageIdList.push(e.pageId)}},handleClickImg:function(e){this.$logger.info("handleClickImg",e),e.target.src=e.target.src+"#"+(new Date).getTime()},handleEnsureEvidence:function(){var e=this;this.$logger.info("handleEnsureEvidence "+this.mode,this.mode===u["a"].TeacherEvaluate?this.selectedSlidePageIdList:this.selectedStudentSlidePageIdList);var t={slideDataList:this.slideDataList,elementsList:this.elementsList,itemsList:this.itemsList};this.$logger.info("保存evaluation数据",t),Object(c["SaveSessionEvidence"])({sessionId:this.sessionId,user:this.studentName,result:JSON.stringify(t)}).then((function(){e.$emit("ensure-evidence-finish",{mode:e.mode,data:e.mode===u["a"].TeacherEvaluate?e.selectedSlidePageIdList:e.selectedStudentSlidePageIdList,row:e.rowId,user:e.studentName,formId:e.formId,slideDataList:JSON.stringify(e.slideDataList)})}))},handleCancelEvidence:function(){this.$emit("cancel-evidence-finish")},handleAddComment:function(e){this.$logger.info("handleAddComment",e),e.extra.teacherCommentList.push({comment:e.inputValue,avatar:this.$store.getters.avatar,createBy:this.$store.state.user.name,createTime:(new Date).getTime()})},handleViewExpand:function(e){this.$logger.info("handleViewExpand",e),this.currentViewSlideItem=e,this.viewSlideItemVisible=!0},handleViewItem:function(e){this.previewItemUrl=e,this.previewItemVisible=!0,this.previewLoading=!0}}},U=B,j=(a("93ba"),a("0c7c")),F=Object(j["a"])(U,i,s,!1,null,"1a73cb12",null);t["a"]=F.exports},7849:function(e,t,a){"use strict";var i={Rubric:1,Rubric_2:2,CenturySkills:3};t["a"]=i},"7aa6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAABWlJREFUWEfVmX9MHFUQx7/THvGuLaAUKNge7Qnyo9IgAYUWjNo0NipEaqgl0QQbDOgfNcFEA4l/mNSERhJJ1Kgl4o9EE6pVUUi1ptLGKumlJaQttaAVECilSLFAhSP8eGaWXXK3t3e7e3do+/7Zy723bz47b2bevHmEIJoQIg9AAYAkAHEANshPnnUYwKD87ALwPRH9Eqg4MvuiEOJBAM/KgNEm3x8F0ALgA7PQhkGFECkADgAoUuB6pyfw3bU+tE+OYGR2CkMzU9KTW2zYKtita7DWYsX9EXF4JCoBDluE+3c1Aagiom4jH6sLKoSwAqgD8BwAyz/zs6gf6kTj1d/Q65owImNpjMMagZJ1ySi/Mx2rV4bx/3OsXQCVROTyN5lfUCEE293XAHLnxAI+Gb6Iuv4OjMxOmwJUD44Ns6EyIROlcWmw0AruPgVgFxGxXWs2n6BCiAzZnjb0uybxzK9H0TX1d1CA6pdTV92BTzfvRII1nLvY8QqI6KyWEE1QGfJnAGuc48Mo6zoWtBZ9fSFrtyF1B3IiefFwA0C+FqwXqLzcpznUNI/2oLy7FfNChFST6slWEqE+ZTsKo+/irj4AW9Vm4AEqO85xtknWZFFny7JDKtAM25ReoGiWV/NhImJnk5oa9D0Az7NNPnb2m2Vbbn9mcCTjCcVm3yeiF7xAhRCpAM7PiQXL9o6vQu44Rm2HHaw180mOBqzNNCK65KFRIQSHoaKGKxdQ/Ueb0XkDHsdLzaFpZmHea47axHyUxqfx/01EtGsJVN4WT3AwzzlzaNmXvCohGy/aMyTQhqELqO7xVAxHAmf2HmVTyCUip2SjQoiPeP+uG+hAzZ9nAtaSkRf3O3JRsX6Lx9Dyrh/RNNrj8V/1xmxU2jP5v4+JaC8JISwArgCIZm2a3RaNwCljtCC5782BDhxQKSjJdjvasnZz9ygRxTBoPoCTnGDktB8yI9fUWF+QPElx5xH8dP2y13zOrD1KIvMAg9ZwFvPu4Dm81uc0JdzoYH+Q/uTud2xFxfp0FvM6g37BH1V28Riar/UalW14nD/I+svn8Wov5yParXCtAw1pO7jzMIOe5P218Ny3cE5c1XyjOCZJSs04lLDDtV7n/EG/BQPJs2+LjEfTFj5A4ASDsho3ZZ1uxMDMpJd0t8FSH6d75V2taNHRfrCQLMt+Wzja7yvhn30Mysml1d72oWbwrdqYjZcWw8RS04MNBSQLW73Cgt5te/nnDV3QkthkvJXMxyTP5gs2VJBaoH6Xnre6L9Mfl+xFDzaUkFpLr+tMvASN9zyqpGCaZpATsc5rx1EG6nm3L7dUO5Oh8OQP1p//BwrJc6rDk+GAbxY2GEgGVQd8eQsdR07757rB0ShssJAM4sx6Cg5bJP+UtlDTSYkebCggvZISxlXSPK0sxpeKfcGGApJlusXvxTRPBn0IwHGziTPD1iTmSdUP3l7f6G/H24Oax3Jdk3IfoEqc+UR6aulwt3QU0ci49aQwsEvMh+zEWpuYh9L4zSzW8ygia/XWONzJsDfTcfkdItqnrOatWYCQtcpFoJu7pKOoWQhxL5+j/qciGXt5p9qB/ZUdGbaZi2X/UdmRi2OFWpAMbaqQ+9lwtxQr/wqykBsTZsMrCVl4Oi5FKeRyUWx3QIVcNzPwKo0fHOrE4ZHfcWl6XC/EevQn2SJRHHs3KrxL4/vcK3dak+rW8N2A+Yqm1vOyYRw/jPVLh8KxORcGXJMYm10sxUeFWWG3hiPKYgXnqouXDVKCoTS+bHhZKYLpfbFhUDdgzrbKgry+Ocjboh6ce79pUPeX5SrLTgC8q/Gd0yb5ycP4TokdhJ98IXaUiNgWA2r/AqKY1RuF7jn8AAAAAElFTkSuQmCC"},"7bd1":function(e,t,a){},"7e08":function(e,t,a){"use strict";a("9a48")},"7edd":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"review-evaluation"},[i("div",{staticClass:"toggle-mode-type-wrapper"},[i("div",{staticClass:"toggle-mode-type"},[i("div",{staticClass:"toggle-mode"},[i("div",{class:{"mode-item":!0,"skill-active-mode":"block-list"===e.currentMode},on:{click:function(t){return e.toggleMode("block-list")}}},[e._v(" Edit students ")]),i("div",{class:{"mode-item":!0,"knowledge-active-mode":"evaluation"===e.currentMode},on:{click:function(t){return e.toggleMode("evaluation")}}},[e._v(" Evaluation&Learning evidence ")]),i("div",{class:{"mode-item":!0,"general-active-mode":"statistic"===e.currentMode},on:{click:function(t){return e.toggleMode("statistic")}}},[e._v(" Statistics Results ")])])])]),i("div",{staticClass:"review-content-wrapper"},["block-list"===e.currentMode?i("div",{staticClass:"block-list"},[i("div",{staticClass:"user-search-wrapper"},[i("div",{staticClass:"search-header"},[i("div",{staticClass:"search-line"},[e._m(0),i("div",{staticClass:"search-by-id"},[i("a-input",{staticClass:"user-search",attrs:{"aria-placeholder":"Search",placeholder:"Search"},on:{change:e.searchUser},model:{value:e.userNameOrEmail,callback:function(t){e.userNameOrEmail=t},expression:"userNameOrEmail"}},[i("img",{staticClass:"search-icon",attrs:{slot:"prefix",src:a("22dc")},slot:"prefix"})])],1),i("div",{staticClass:"search-by-group"},[i("a-button",{staticStyle:{padding:"0 10px",display:"flex","align-items":"center",height:"36px","border-radius":"6px",background:"#FFFFFF",border:"1px solid #eee","font-family":"Inter-Bold",color:"#182552"}},[i("span",[e._v("All Students（20）")]),i("a-icon",{attrs:{type:"caret-down"}})],1)],1)]),e._m(1)]),i("div",{staticClass:"user-list"},e._l(e.displayUserList,(function(t,a){return e.userList.length?i("div",{key:a,staticClass:"user-item"},[i("div",{staticClass:"user-avatar-email"},[i("div",{staticClass:"avatar"},[i("img",{attrs:{src:t.avatar}})]),i("div",{staticClass:"email"},[e._v(" "+e._s(t.email)+" ")]),i("div",{staticClass:"id"},[e._v(" "+e._s(t.id)+" ")])]),i("div",{staticClass:"user-name"},[e._v(" "+e._s(t.nickname)+" ")]),i("div",{staticClass:"action"},[i("div",{attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item",on:{click:function(a){return e.handleBlockStudent(t)}}},[i("div",{staticClass:"action-name"},[e._v("Block")]),e._m(2,!0)])])])])]):e._e()})),0)])]):e._e(),"evaluation"===e.currentMode?i("div",{staticClass:"evaluation-review"},[i("start-evaluation-view",{attrs:{"slide-id":e.slideId,"class-id":e.classId,"evaluation-id":e.evaluationId}})],1):e._e(),"statistic"===e.currentMode?i("div",{staticClass:"evaluation-review"},[i("no-more-resources",{attrs:{tips:"comming soon!"}})],1):e._e()])])},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"label"},[i("img",{attrs:{src:a("9e80")}}),i("div",{staticClass:"label-title"},[e._v("Select Students")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-label-line"},[a("div",{staticClass:"label-item label-item-email"},[e._v("Email")]),a("div",{staticClass:"label-item label-item-name"},[e._v("Student Name")]),a("div",{staticClass:"label-item label-item-name"},[e._v("Student ID")]),a("div",{staticClass:"label-item label-item-action"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"active-icon"},[i("img",{attrs:{src:a("1e54")}})])}],n=(a("159b"),a("b0c0"),a("69b3")),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"start-evaluation-view"},[i("a-card",{attrs:{bordered:!1,bodyStyle:{padding:"16px 24px",height:"100%",minHeight:"500px"},loading:e.contentLoading}},[i("div",[i("div",{staticClass:"start-evaluation-content"},[i("div",{staticClass:"class-student-wrapper"},[i("div",{staticClass:"search-student"},[i("a-input",{staticClass:"user-search",attrs:{"aria-placeholder":"Search",placeholder:"Search"},on:{change:e.handleSearchStudent},model:{value:e.searchStudentInput,callback:function(t){e.searchStudentInput=t},expression:"searchStudentInput"}},[i("img",{staticClass:"search-icon",attrs:{slot:"prefix",src:a("22dc")},slot:"prefix"})])],1),i("div",{staticClass:"student-list-area"},[i("div",{staticClass:"class-name"},[i("div",{staticClass:"class-name-tag"},[e._v(" 班级tag ")])]),i("div",{staticClass:"students-bar"},[i("div",{staticClass:"student-bar-item"},[e._v(" All Students（"+e._s(e.studentList.length)+"）"),i("a-icon",{attrs:{type:"caret-down"}})],1)]),i("div",{staticClass:"student-list-wrapper"},[i("div",{staticClass:"student-list"},e._l(e.studentList,(function(t,s){return i("div",{key:s,class:{"list-item":!0,"selected-student":-1!==e.selectedStudentEmailList.indexOf(t.email)},on:{click:function(a){return e.handleClickStudent(t)}}},[i("div",{staticClass:"student-avatar"},[t.avatar?i("img",{attrs:{src:t.avatar,alt:""}}):e._e(),t.avatar?e._e():i("img",{attrs:{slot:"prefix",src:a("a6bd"),alt:""},slot:"prefix"})]),i("div",{staticClass:"student-name",attrs:{"data-email":t.email}},[e._v(" "+e._s(t.user_name)+" ")]),-1!==e.selectedStudentEmailList.indexOf(t.email)?i("div",{staticClass:"select-status-icon"},[i("img",{attrs:{slot:"prefix",src:a("0dc6")},slot:"prefix"})]):e._e()])})),0),i("div",{staticClass:"select-mode-toggle"},[i("a-switch",{on:{change:e.handleToggleSelectMode},model:{value:e.groupSelectMode,callback:function(t){e.groupSelectMode=t},expression:"groupSelectMode"}}),i("div",{staticClass:"select-tips"},[e._v(" Single student Group ")])],1)])])]),i("div",{staticClass:"student-evaluation-form"},[i("div",{staticClass:"evaluation-header"},[i("div",{staticClass:"summary"},[i("div",{staticClass:"summary-info"},[i("div",{staticClass:"student-avatar"},[i("img",{attrs:{slot:"prefix",src:a("2d6c")},slot:"prefix"})]),i("div",{staticClass:"student-name"},[e.selectedStudentEmailList.length?[e._v(" "+e._s(e.selectedStudentEmailList[0])+" ")]:[e._v(" Student ID ")]],2),i("div",{staticClass:"summary-input"},[i("a-input",{staticClass:"my-form-input",attrs:{placeholder:"Summary"},model:{value:e.summary,callback:function(t){e.summary=t},expression:"summary"}})],1),i("div",{staticClass:"voice-summary",on:{click:e.handleAddAudioOverview}},[i("img",{attrs:{src:a("367f")}})])]),e.form.audioUrl?i("div",{staticClass:"summary-voice"},[i("div",{staticClass:"audio-wrapper"},[i("audio",{attrs:{src:e.form.audioUrl,controls:""}}),i("span",{on:{click:function(t){e.form.audioUrl=null}}},[i("a-icon",{attrs:{type:"delete"}})],1)])]):e._e()]),i("div",{staticClass:"evaluation-type"},[i("div",{class:{"evaluation-type-item":!0,"active-evaluation-type":"Student"===e.activeEvaluationType},on:{click:function(t){return e.handleActiveEvaluationType("Student")}}},[i("img",{attrs:{src:a("5ac9"),alt:""}}),i("div",{staticClass:"type-name"},[e._v("Student evaluation")])]),i("div",{class:{"evaluation-type-item":!0,"active-evaluation-type":"Teacher"===e.activeEvaluationType},on:{click:function(t){return e.handleActiveEvaluationType("Teacher")}}},[i("img",{attrs:{src:a("3151"),alt:""}}),i("div",{staticClass:"type-name"},[e._v("Teacher evaluation")])]),i("div",{class:{"evaluation-type-item":!0,"active-evaluation-type":"Peer"===e.activeEvaluationType},on:{click:function(t){return e.handleActiveEvaluationType("Peer")}}},[i("img",{attrs:{src:a("2f91"),alt:""}}),i("div",{staticClass:"type-name"},[e._v("Peer evaluation")])])])]),i("div",{staticClass:"rubric-wrapper"},[1===e.form.tableMode?i("div",{staticClass:"rubric-item"},[i("evaluation-table",{ref:"rubric",attrs:{"description-list":e.evaluationTableList,"init-raw-headers":e.initRawHeaders,"init-raw-data":e.initRawData,mode:"evaluate"},on:{"add-evidence":e.handleAddEvidence}})],1):e._e()]),i("div",{staticClass:"action-line"},[i("a-button",{attrs:{type:"primary",shape:"round"}},[e._v("Complete")])],1)])])]),i("a-drawer",{attrs:{destroyOnClose:"",placement:"right",width:"820px",closable:!1,visible:e.addEvaluationVisible},on:{close:e.handleAddEvaluationClose}},[i("div",{staticClass:"add-evaluation-evidence-wrapper"},[i("div",{staticClass:"slide-preview"},[e.slideId?i("ppt-slide-view",{attrs:{"slide-id":e.slideId,"class-id":e.currentClassId},on:{"ensure-evidence-finish":e.handleEnsureEvidenceFinish}}):e._e(),e.slideId?e._e():[i("no-more-resources",{attrs:{tips:"no slide"}})]],2)])]),i("a-modal",{attrs:{footer:null,destroyOnClose:"",title:"Add Audio"},on:{ok:function(t){e.showAddAudioVisible=!1},cancel:function(t){e.showAddAudioVisible=!1}},model:{value:e.showAddAudioVisible,callback:function(t){e.showAddAudioVisible=t},expression:"showAddAudioVisible"}},[i("div",{staticClass:"audio-material-action"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.currentUploading,expression:"currentUploading"}],staticClass:"uploading-mask"},[i("div",{staticClass:"uploading"},[i("a-spin",{attrs:{large:""}})],1)]),i("div",{staticClass:"action-item"},[i("a-upload",{attrs:{name:"file",accept:"audio/*",customRequest:e.handleUploadAudio,showUploadList:!1}},[i("a-button",{attrs:{type:"primary",icon:"upload"}},[e._v(e._s(e.$t("teacher.add-unit-plan.upload-audio")))])],1)],1),i("a-divider",[e._v(" "+e._s(e.$t("teacher.add-unit-plan.or"))+" ")]),i("div",{staticClass:"action-item-column"},[i("div",{staticClass:"action-tips"},[e._v(" "+e._s(e.$t("teacher.add-unit-plan.record-your-voice"))+" ")]),e.audioUrl?i("div",{staticClass:"audio-wrapper"},[i("audio",{attrs:{src:e.audioUrl,controls:""}}),i("span",{on:{click:function(t){e.audioUrl=null}}},[i("a-icon",{attrs:{type:"delete"}})],1)]):e._e()]),i("div",{staticClass:"material-action"},[i("a-button",{key:"back",staticClass:"action-item",on:{click:e.handleCancelAddAudio}},[e._v(" Cancel ")]),i("a-button",{key:"submit",staticClass:"action-item",attrs:{type:"primary"},on:{click:e.handleConfirmAddAudio}},[e._v(" Ok ")])],1)],1)])],1)],1)},o=[],l=a("3835"),c=a("b85c"),d=(a("d3b7"),a("a434"),a("2ca0"),a("a4d3"),a("e01a"),a("ac1f"),a("5319"),a("4ec9"),a("3ca3"),a("ddb0"),a("823b")),u=a("8f46"),p=a("3f76"),h=a("9afb"),m=a("c0f4"),g=a("c621"),f=a("4fb2"),v=a("9f06"),y=a("ca00"),b=a("9586"),w=a("0fa0"),C=a("02c4"),k=a("57a5b"),T=a("1138"),A=a("81c4"),L=a("8897"),I=a("2934"),S=a("7735"),x={name:"StartEvaluationView",components:{NoMoreResources:n["a"],PptSlideView:S["a"],EvaluationTable:T["a"],ContentTypeIcon:u["a"],InputSearch:m["a"],CommonFormHeader:A["a"],MyContentSelector:b["a"],RelevantTagSelector:w["a"]},props:{evaluationId:{type:String,required:!0},classId:{type:String,required:!0},slideId:{type:String,required:!0}},data:function(){return{contentLoading:!0,referenceLoading:!1,contentType:p["e"],templateTypeMap:C["a"],displayMode:k["a"],creating:!1,leftAddExpandStatus:!1,selectLinkContentVisible:!1,associateEvaluationVisible:!1,selectRubricVisible:!1,labelCol:{span:4},wrapperCol:{span:18},form:{id:null,audioUrl:null,name:"",status:0,selfType:0,table:[],tableMode:0,createTime:"",updateTime:""},showAddAudioVisible:!1,currentUploading:!1,audioUrl:null,evaluationTableList:[],initRawHeaders:[],initRawData:[],selfType:!1,studentList:[],selectedStudentEmailList:[],selectedStudentNameList:[],searchStudentInput:"",groupSelectMode:!1,summary:"",activeEvaluationType:"Peer",addEvaluationVisible:!1,currentClassId:null,currentFormRowData:null}},computed:{lastChangeSavedTime:function(){var e=this.form.updateTime||this.form.createTime;return e?Object(y["formatLocalUTC"])(this.form.updateTime||this.form.createTime):""}},created:function(){d["info"]("AddEvaluation created "+this.evaluationId),this.form.id=this.evaluationId,f["b"].$on(f["a"].LinkToMyContentItem,this.handleLinkMyContent),this.initData()},beforeDestroy:function(){f["b"].$off(f["a"].LinkToMyContentItem,this.handleLinkMyContent)},methods:{initData:function(){var e=this;d["info"]("initData doing..."),Object(v["EvaluationQueryById"])({id:this.evaluationId}).then((function(t){e.$logger.info("EvaluationQueryById response",t.result);var a=t.result;if(e.form.name=a.name,e.form.id=a.id,e.form.selfType=a.selfType,e.selfType=2===a.selfType,e.form.tableMode=a.tableMode,e.audioUrl=a.audioUrl,a.table.length){var i=a.table.splice(0,1)[0];e.$logger.info("headers ",i);var s=[];i.forEach((function(t){e.$logger.info("header ",t),t.itemType.startsWith("user_ext")?s.push({label:t.itemName,previewLabel:t.itemName,type:t.itemType,editable:!1,required:!1}):s.push({label:t.itemName,previewLabel:t.itemName,type:t.itemType,editable:!1,required:!0})})),e.$logger.info("formatHeaders",s),s.length&&(e.initRawHeaders=s);var n=a.table,r=[];e.$logger.info("bodyList ",n),n.forEach((function(e){var t={};e.forEach((function(e){e.itemType.startsWith("keywords")?t[e.itemType]=e.itemName?JSON.parse(e.itemName):[]:t[e.itemType]=e.itemName})),r.push(t)})),e.$logger.info("initRawData",r),e.initRawData=r}})).finally((function(){e.contentLoading=!1,e.referenceLoading=!1})),Object(L["b"])({class_id:this.classId}).then((function(t){e.$logger.info(e.classId+" GetStudents",t),e.studentList=t.data}))},handleSaveEvaluation:function(){var e=this;d["info"]("handleSaveEvaluation",this.$refs.rubric.headers,this.$refs.rubric.list);var t=this.$refs.rubric.headers,a=this.$refs.rubric.list,i={name:this.form.name,selfType:this.selfType?2:1,tableMode:this.form.tableMode,table:[]},s=[];t.forEach((function(e){s.push({itemType:e.type,itemName:e.label})})),i.table.push(s),this.$logger.info("header line ",s),a.forEach((function(e){if(e["description"]){var a=[];t.forEach((function(t){a.push({itemType:t.type,itemName:"keywords"===t.type?JSON.stringify(e[t.type]):e[t.type]})})),i.table.push(a)}})),d["info"]("evaluationData add line list",i),Object(v["EvaluationAddOrUpdate"])(i).then((function(t){d["info"]("EvaluationAddOrUpdate",t.result),t.success?e.$router.replace("/teacher/evaluation-redirect/"+t.result.id):e.$message.error(t.message)}))},handlePublishEvaluation:function(){var e=this;d["info"]("handlePublishEvaluation",{id:this.evaluationId,status:1}),this.evaluationId&&Object(h["UpdateContentStatus"])({id:this.evaluationId,status:1,type:this.contentType.evaluation}).then((function(t){e.$logger.info("UpdateContentStatus response",t),e.form.status=1}))},handleSelectEvaluationType:function(e){this.$logger.info("handleSelectEvaluationType "+e),this.form.selfType=e},goBack:function(){var e=this;if(window.history.length<=1)return this.$router.push({path:"/teacher/main/created-by-me"}),!1;this.$router.go(-1),setTimeout((function(){e.$router.push({path:"/teacher/main/created-by-me"})}),500)},handleToggleTemplateType:function(e){var t=this;this.$logger.info("handleToggleTemplateType "+e),this.templateLoading=!0,this.currentTemplateType=e,this.selectedTemplateList=[],Object(g["e"])({category:this.currentTemplateType}).then((function(e){t.$logger.info("handleToggleTemplateType ",e),t.templateList=e.result})).finally((function(){t.templateLoading=!1}))},handleShowSelectTemplate:function(){this.selectedTemplateList=[],this.templateLoading=!1,this.presentationLink=null,this.selectTemplateVisible=!0},handleSelectTemplate:function(e){this.$logger.info("handleSelectTemplate ",e),this.selectedTemplateList.length&&this.selectedTemplateList[0].id===e.id?this.selectedTemplateList=[]:this.selectedTemplateList=[e]},handleOpenGoogleSlide:function(e){this.$logger.info("handleOpenGoogleSlide "+e),window.open(e,"_blank")},handleViewDetail:function(e){this.$logger.info("handleViewDetail ",e),e.type===this.contentType["unit-plan"]&&this.$router.push({path:"/teacher/unit-plan-redirect/"+e.id})},handleUpdateSelected:function(e){this.$logger.info("handleUpdateSelected",e),this.relevantSelectedQuestionList=e.questionList},handleCancelSelectedRelevant:function(){this.showRelevantQuestionVisible=!1,this.relevantSelectedQuestionList=[]},handleConfirmSelectedRelevant:function(){this.$logger.info("handleConfirmSelectedRelevant",this.relevantSelectedQuestionList),this.showRelevantQuestionVisible=!1;var e=new Map,t=new Map;this.relevantSelectedQuestionList.forEach((function(a){a.knowledgeTags.forEach((function(t){e.has(t.description)||e.set(t.description,[]);var a=e.get(t.description);-1===a.indexOf(t.name)&&a.push(t.name),e.set(t.description,a)})),a.skillTags.forEach((function(e){t.has(e.description)||t.set(e.description,[]);var a=t.get(e.description);-1===a.indexOf(e.name)&&a.push(e.name),t.set(e.description,a)}))})),this.$logger.info("knowledgeDescriptionMap",e),this.$logger.info("skillDescriptionMap",t);var a,i=Object(c["a"])(e);try{for(i.s();!(a=i.n()).done;){var s=Object(l["a"])(a.value,2),n=s[0],r=s[1];this.evaluationTableList.push({description:n,tagList:r,type:"knowledge"})}}catch(m){i.e(m)}finally{i.f()}var o,d=Object(c["a"])(t);try{for(d.s();!(o=d.n()).done;){var u=Object(l["a"])(o.value,2),p=u[0],h=u[1];this.evaluationTableList.push({description:p,tagList:h,type:"skill"})}}catch(m){d.e(m)}finally{d.f()}this.$logger.info("evaluation table list",this.evaluationTableList)},handleSelectRubric:function(e){this.$logger.info("handleSelectRubric "+e),this.form.tableMode=e},handleEnsureSelectRubric:function(){this.$logger.info("handleEnsureSelectRubric "+this.form.tableMode),0!==this.form.tableMode?(this.selectRubricVisible=!1,1===this.form.tableMode&&(this.showRelevantQuestionVisible=!0)):this.$message.warn("Choose rubric format!")},handleSearchStudent:function(){this.$logger.info("searchStudentInput "+this.searchStudentInput)},handleClickStudent:function(e){if(this.$logger.info("handleClickStudent",e),this.groupSelectMode){this.$logger.info("groupSelectMode");var t=this.selectedStudentEmailList.indexOf(e.email);-1===t?this.selectedStudentEmailList.push(e.email):this.selectedStudentEmailList.splice(t,1)}else this.selectedStudentEmailList.length&&this.selectedStudentEmailList[0]===e.email?this.selectedStudentEmailList=[]:this.selectedStudentEmailList=[e.email]},handleAddAudioOverview:function(){this.$logger.info("handleAddAudioOverview"),this.showAddAudioVisible=!0},handleToggleSelectMode:function(){this.$logger.info("handleToggleSelectMode",this.groupSelectMode),this.groupSelectMode||(this.selectedStudentEmailList=[])},handleActiveEvaluationType:function(e){this.$logger.info("handleActiveEvaluationType",e),this.activeEvaluationType=e},handleUploadAudio:function(e){var t=this;d["info"]("handleUploadAudio",e),this.currentUploading=!0;var a=new FormData;a.append("file",e.file,e.file.name),this.uploading=!0,this.$http.post(I["b"].UploadFile,a,{contentType:!1,processData:!1,headers:{"Content-Type":"multipart/form-data"},timeout:6e4}).then((function(e){d["info"]("handleUploadAudio upload response:",e),t.audioUrl=t.$store.getters.downloadUrl+e.result})).catch((function(e){d["error"]("handleUploadImage error",e)})).finally((function(){t.currentUploading=!1}))},handleCancelAddAudio:function(){this.audioUrl=null,this.showAddAudioVisible=!1},handleConfirmAddAudio:function(){this.audioUrl&&(this.form.audioUrl=this.audioUrl,this.audioUrl=null),this.showAddAudioVisible=!1},handleAudioResult:function(e){var t=this;d["info"]("handleAudioResult",e),this.currentUploading=!0;var a=new FormData;a.append("file",e,"audio.wav"),this.$http.post(I["b"].UploadFile,a,{contentType:!1,processData:!1,headers:{"Content-Type":"multipart/form-data"},timeout:6e4}).then((function(e){d["info"]("handleAudioResult upload response:",e),t.audioUrl=t.$store.getters.downloadUrl+e.result,d["info"]("handleAudioResult audioUrl",t.audioUrl)})).catch((function(e){d["error"]("handleAudioResult error",e)})).finally((function(){t.currentUploading=!1}))},handleAddEvidence:function(e){this.$logger.info("handleAddEvidence classId "+this.classId,e),this.currentClassId=this.classId,this.currentFormRowData=e,this.addEvaluationVisible=!0},handleAddEvaluationClose:function(){this.$logger.info("handleAddEvaluationClose"),this.addEvaluationVisible=!1},handleEnsureEvidenceFinish:function(e){this.$logger.info("handleEnsureEvidenceFinish",e,this.currentFormRowData),this.addEvaluationVisible=!1,this.$logger.info("data.data",e.data),this.$logger.info("currentFormRowData.data",this.currentFormRowData.data);var t=e.data,a=Object.assign({},this.currentFormRowData.data);a.evidence=t,this.$logger.info("newRowData ",a),this.evaluationTableList.splice(this.currentFormRowData.index,1,a)}}},M=x,E=(a("6867"),a("0c7c")),_=Object(E["a"])(M,r,o,!1,null,"43b83291",null),O=_.exports,D={name:"ReviewEvaluation",components:{StartEvaluationView:O,NoMoreResources:n["a"]},props:{evaluationId:{type:String,default:null},classId:{type:String,default:null},slideId:{type:String,default:null}},data:function(){return{currentMode:"evaluation",userList:[],displayUserList:[],userNameOrEmail:null}},created:function(){this.$logger.info("review evaluation "+this.evaluationId+" class id "+this.classId)},methods:{toggleMode:function(e){this.$logger.info("toggleMode "+e),this.currentMode=e},searchUser:function(){var e=this;if(this.$logger.info("searchUser "+this.userNameOrEmail),this.userList.length){var t=[];this.userList.forEach((function(a){-1===a.name.indexOf(e.userNameOrEmail)&&-1===a.email.indexOf(e.userNameOrEmail)||t.push(a)})),this.displayUserList=t}this.$logger.info("displayUserList",this.displayUserList)},handleBlockStudent:function(){this.$logger.info("handleBlockStudent")}}},N=D,P=(a("6c03"),Object(E["a"])(N,i,s,!1,null,"2bda48ad",null));t["a"]=P.exports},"7ee9":function(e,t,a){e.exports=a.p+"img/5.2460f902.png"},"7eee":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"common-link"},[i("div",{staticClass:"link-group-wrapper"},[e.ownerLinkGroupList.length&&!e.linkGroupLoading?e._l(e.ownerLinkGroupList,(function(t,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:!(e.hiddenEmptyGroup&&0===t.contents.length),expression:"!(hiddenEmptyGroup && linkGroup.contents.length === 0)"}],key:a,staticClass:"link-group"},[i("div",{staticClass:"group-item"},[i("div",{staticClass:"group-header"},[i("div",{staticClass:"group-left-info"},[i("div",{staticClass:"group-name"},[i("div",{staticClass:"group-name-text"},[e._v(" "+e._s(t.group)+" ")])])]),i("div",{staticClass:"group-right-info"},[i("div",{staticClass:"group-action"},[i("a-button",{directives:[{name:"show",rawName:"v-show",value:e.canEdit,expression:"canEdit"}],style:{"background-color":"#fff",color:"#000",border:"none"},attrs:{type:"primary"},on:{click:function(a){return e.handleLinkGroup(t)}}},[i("div",{staticClass:"btn-text",staticStyle:{"line-height":"20px"}},[e._v(" + Link ")])])],1)])]),i("div",{staticClass:"group-body"},[i("draggable",{attrs:{group:"site",animation:"300",disabled:!e.canEdit},on:{end:e.handleDragEnd},model:{value:t.contents,callback:function(a){e.$set(t,"contents",a)},expression:"linkGroup.contents"}},[i("transition-group",e._l(t.contents,(function(t){return i("div",{key:t.id,staticClass:"group-link-item"},[i("div",{staticClass:"left-info",on:{click:function(a){return e.handleViewDetail(t)}}},[i("div",{staticClass:"icon"},[i("content-type-icon",{attrs:{type:t.type}})],1),i("div",{staticClass:"name"},[e.showDragTips?i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[e._v(" Click and drag content to change the order ")]),e._v(" "+e._s(t.name?t.name:"untitled")+" ")],2):e._e(),e.showDragTips?e._e():[e._v(" "+e._s(t.name?t.name:"untitled")+" ")]],2),t.type===e.typeMap.task?["fa"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag green-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e(),"sa"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag red-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e(),"activity"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag blue-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e(),"ia"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag blue-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e()]:e._e(),t.isCreated?i("div",{staticClass:"downloaded-icon"},[i("a-tooltip",{attrs:{placement:"top",title:"already saved in my content"}},[i("downloaded-svg")],1)],1):e._e()],2),i("div",{staticClass:"right-info"},[i("div",{staticClass:"date",on:{click:function(a){return e.handleViewDetail(t)}}},[e._v(e._s(e._f("dayjs")(t.createTime)))]),i("div",{staticClass:"status",on:{click:function(a){return e.handleViewDetail(t)}}},[0===t.status?[e._v("Draft")]:e._e(),1===t.status?[e._v("Published")]:e._e()],2),e.canEdit?i("div",{staticClass:"more-action-wrapper action-item-wrapper"},[i("a-dropdown",[i("a-icon",{staticStyle:{"margin-right":"8px"},attrs:{type:"more"}}),i("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[i("a-menu-item",[i("a-popconfirm",{attrs:{title:e.$t("teacher.my-content.action-delete")+"?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleDeleteLinkItem(t)}}},[i("a",{staticClass:"delete-action",attrs:{href:"#"}},[i("a-icon",{attrs:{type:"delete"}}),e._v(" "+e._s(e.$t("teacher.my-content.action-delete"))+" ")],1)])],1),i("a-menu-item",[i("a",{on:{click:function(a){return e.handleEditLinkItem(t)}}},[i("a-icon",{attrs:{type:"form"}}),e._v(" "+e._s(e.$t("teacher.my-content.action-edit"))+" ")],1)])],1)],1)],1):e._e()])])})),0)],1),0===t.contents.length?i("div",{staticClass:"no-link-group-contents"},[i("no-more-resources")],1):e._e()],1)])])})):e._e()],2),i("a-modal",{attrs:{footer:null,"dialog-style":{top:"10px"},destroyOnClose:"",width:"900px"},model:{value:e.selectLinkContentVisible,callback:function(t){e.selectLinkContentVisible=t},expression:"selectLinkContentVisible"}},[i("div",{staticClass:"my-modal-title",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.linkTitle)+" ")]),i("div",{staticClass:"link-content-wrapper"},[i("task-new-my-content",{attrs:{"from-id":e.fromId,"from-type":e.fromType,"filter-type":e.subFilterType,"no-selected-tips":e.noSelectedTips,"selected-list":e.selectedList,"group-name":e.groupName},on:{cancel:function(t){e.selectLinkContentVisible=!1},ensure:e.handleEnsureSelectedLink}})],1)]),i("a-drawer",{attrs:{destroyOnClose:"",placement:"right",closable:!1,width:"800px",visible:e.previewVisible},on:{close:function(t){e.previewVisible=!1}}},[i("a-row",{staticClass:"preview-wrapper-row"},[i("a-col",{attrs:{span:"2"}},[i("div",{staticClass:"view-back",on:{click:function(t){e.previewVisible=!1}}},[i("div",{staticClass:"back-icon"},[i("img",{attrs:{src:a("217a")}})])])]),i("a-col",{attrs:{span:"22"}},[e.previewCurrentId&&e.previewType?i("div",{staticClass:"detail-wrapper"},[i("common-preview-no-link",{attrs:{id:e.previewCurrentId,type:e.previewType}})],1):e._e()])],1)],1)],1)},s=[],n=(a("a9e3"),a("d3b7"),a("159b"),a("7db0"),a("498a"),a("9afb")),r=a("9586"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my-content"},[i("div",{staticClass:"create-new-action"},[i("div",{staticClass:"create-action"},[i("a-button",{attrs:{type:"primary",shape:"round",icon:"plus",loading:e.createLoading},on:{click:e.handleEnsureCreate}},[e._v(" Create New "+e._s(e.currentTypeLabel)+" ")])],1)]),i("div",{staticClass:"content-wrapper"},[i("a-skeleton",{attrs:{loading:e.skeletonLoading,active:""}},[i("div",{staticClass:"content-list"},["list"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("a-list-item",{key:"item.key",class:{"my-list-item":!0,"active-item":-1!==e.mySelectedList.indexOf(t.type+"-"+t.id),"active-new-item":t.id===e.editId},attrs:{"data-id":t.type+"-"+t.id}},[i("div",{staticClass:"select-block",on:{click:function(a){return e.handleLinkItem(t,a)}}},[-1===e.mySelectedList.indexOf(t.type+"-"+t.id)?i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}}):e._e(),-1!==e.mySelectedList.indexOf(t.type+"-"+t.id)?i("div",{staticClass:"selected-icon"},[i("img",{attrs:{src:a("7aa6")}})]):e._e()],1),i("span",{staticClass:"content-info-left"},[i("content-type-icon",{attrs:{type:t.type}}),i("span",{staticClass:"name-content"},[e.editId===t.id&&"input"===e.createNewNameMode?i("a-input",{ref:"inputRef",attrs:{size:"small",type:"text",placeholder:"Input name"},on:{blur:function(a){return e.handleConfirmName(t)},pressEnter:function(a){return e.handleConfirmName(t)}},model:{value:e.createNewName,callback:function(t){e.createNewName=t},expression:"createNewName"}}):i("a-tooltip",{attrs:{title:"Rename"}},[i("span",{staticClass:"name-text",on:{click:function(a){return e.handleRename(t)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")])])],1)],1),i("span",{staticClass:"content-info-right"},[i("span",{staticClass:"status"},[0===t.status?[e._v("Draft")]:e._e(),1===t.status?[e._v("Published")]:e._e()],2),i("span",{staticClass:"update-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime||t.createTime))+" ")]),i("div",{staticClass:"action"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item",on:{click:function(a){return e.handleViewDetail(t,a)}}},[i("span",{staticClass:"btn-text"},[e._v("Preview")])]),i("div",{staticClass:"action-item",on:{click:function(a){return e.handleEditItem(t)}}},[i("span",{staticClass:"btn-text"},[e._v("Edit")])])])])])])}}],null,!1,69311050)}):e._e(),"card"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("div",{key:"item.key",staticClass:"my-card-list-item"},[i("div",{staticClass:"cover-img-wrapper"},[i("div",{staticClass:"cover-image",style:{backgroundImage:"url('"+t.image+"')"}})]),i("div",{staticClass:"item-intro"},[i("div",{staticClass:"page-info"},[i("span",{staticClass:"page-num-tag"},[e._v(" 1/1 ")])]),i("div",{staticClass:"main-title",on:{click:function(a){return e.handleViewDetail(t,a)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")]),i("div",{staticClass:"sub-title"},[e._v(" "+e._s(e._f("dayjs")(t.createTime))+" ")])]),i("div",{staticClass:"card-action-icon"},[-1!==e.mySelectedList.indexOf(t.type+"-"+t.id)?i("img",{attrs:{src:a("7aa6")}}):e._e()])])}}],null,!1,3242308050)}):e._e(),i("div",{staticClass:"modal-ensure-action-line"},[i("a-button",{staticClass:"action-item action-cancel",attrs:{shape:"round"},on:{click:e.handleCancel}},[e._v("Cancel")]),i("a-button",{staticClass:"action-ensure action-item",attrs:{type:"primary",shape:"round",disabled:!e.mySelectedList.length,loading:e.ensureLoading},on:{click:e.handleEnsure}},[e._v("Ok")])],1)],1)]),i("a-drawer",{attrs:{destroyOnClose:"",placement:"right",width:"800px",closable:!1,visible:e.previewVisible},on:{close:e.handlePreviewClose}},[i("div",{staticClass:"preview-wrapper"},[i("a-row",{staticClass:"preview-wrapper-row"},[i("a-col",{attrs:{span:"3"}},[i("div",{staticClass:"view-back",on:{click:e.handlePreviewClose}},[i("div",{staticClass:"back-icon"},[i("img",{attrs:{src:a("217a")}})])])]),i("a-col",{attrs:{span:"21"}},[i("div",{staticClass:"detail-wrapper"},[e.previewCurrentId&&e.previewType?i("div",{staticClass:"preview-detail"},[i("common-preview-no-link",{attrs:{id:e.previewCurrentId,type:e.previewType}})],1):e._e()])])],1)],1)])],1)])},l=[],c=a("3835"),d=a("b85c"),u=a("1da1"),p=(a("96cf"),a("4ec9"),a("3ca3"),a("ddb0"),a("fb6a"),a("a434"),a("b0c0"),a("823b")),h=a("ea23"),m=a("7d7a"),g=a("3f76"),f=a("4803"),v=a("8f46"),y=a("4fb2"),b=a("69b3"),w=a("05be"),C=a.n(w),k=a("8d47"),T=a.n(k),A=a("9f06"),L=a("b199"),I=a("1449"),S={name:"NewMyContent",components:{CommonPreviewNoLink:I["a"],ContentStatusIcon:f["a"],ContentTypeIcon:v["a"],UnitPlanPreview:h["default"],MaterialPreview:m["default"],NoMoreResources:b["a"],PuBuIcon:C.a,ListModeIcon:T.a},props:{filterType:{type:Number,required:!0},selectedList:{type:Array,default:function(){return[]}},fromId:{type:String,required:!0},fromType:{type:Number,required:!0},groupName:{type:String,required:!0},noSelectedTips:{type:String,default:"Please select at least one content."}},data:function(){var e=this;return{skeletonLoading:!0,loading:!0,createLoading:!1,loadFailed:!1,myContentList:[],currentStatus:"all-status",currentStatusLabel:this.$t("teacher.my-content.all-status"),currentType:null,currentTypeLabel:null,currentOwner:"all-owner",currentOwnerLabel:this.$t("teacher.my-content.all-owner"),previewVisible:!1,previewCurrentId:"",previewType:"",pagination:{onChange:function(t){p["info"]("pagination onChange",t),e.pageNo=t,e.getMyContent()},showTotal:function(e){return"Total ".concat(e," items")},total:0,pageSize:10},pageNo:1,typeMap:g["e"],dataListMode:"list",createdType:"All",createNewName:"",createNewNameMode:"hide",mySelectedList:[],mySelectedMap:new Map,editId:"",ensureLoading:!1,waitAddAssociateMap:new Map,waitCancelAssociateMap:new Map}},created:function(){this.$logger.info("NewMyContent filterType",this.filterType),this.currentType=this.filterType,this.currentTypeLabel=Object(g["b"])(this.filterType),this.$logger.info("currentTypeLabel "+this.currentTypeLabel),this.$logger.info("NewMyContent selectedList",this.selectedList),this.mySelectedList=this.selectedList.slice(),this.getMyContent()},methods:{handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},getMyContent:function(){var e=this;this.loading=!0,Object(n["FindMyContent"])({owner:g["c"][this.currentOwner],types:[this.currentType],pageNo:this.pageNo,pageSize:this.pagination.pageSize,currentId:this.currentId}).then((function(t){p["info"]("getMyContent",t),t.result&&t.result.records&&t.result.records.length?(t.result.records.forEach((function(e,t){e.key=t})),e.myContentList=t.result.records,e.pagination.total=t.result.total):(e.myContentList=[],e.pagination.total=0),p["info"]("myContentList",e.myContentList)})).finally((function(){e.loading=!1,e.skeletonLoading=!1,e.$nextTick((function(){e.$refs.inputRef&&e.$refs.inputRef.focus()}))}))},handleLinkItem:function(e,t){p["info"]("handleLinkItem",e),t.preventDefault(),t.stopPropagation();var a=e.type+"-"+e.id,i=this.mySelectedList.indexOf(a);-1!==i?(this.mySelectedList.splice(i,1),this.waitCancelAssociateMap.set(a,e),this.waitAddAssociateMap.delete(a)):(this.mySelectedList.push(a),this.waitAddAssociateMap.set(a,e),this.waitCancelAssociateMap.delete(a))},handleViewDetail:function(e,t){p["info"]("my content created by me handleViewDetail",e,t),t.preventDefault(),t.stopPropagation(),this.previewCurrentId=e.id,this.previewType=e.type,this.previewVisible=!0},handleToggleSelect:function(e){p["info"]("handleToggleSelect",e)},handlePreviewClose:function(){p["info"]("handlePreviewClose"),this.previewCurrentId="",this.previewType="",this.previewVisible=!1},handleReferItem:function(e,t){p["info"]("handleReferItem",e),t.preventDefault(),t.stopPropagation(),y["b"].$emit(y["a"].ReferContentItem,{item:e})},handleToggleType:function(e){this.$logger.info("handleToggleType "+e),this.createdType=e,this.getMyContent()},handleToggleDisplayType:function(e){this.$logger.info("handleToggleDisplayType"+e),this.currentType===e?(this.currentType=null,this.currentTypeLabel=null):(this.currentType=e,this.currentTypeLabel=Object(g["b"])(e)),this.$logger.info("after handleToggleDisplayType"+this.currentType),this.getMyContent()},handleEnsureCreate:function(){var e=this;this.$logger.info("handleEnsureCreate "+this.currentType+" "+this.createNewName),this.createLoading=!0,this.createNewName="",this.currentType===this.typeMap.evaluation?Object(A["EvaluationAddOrUpdate"])({name:this.createNewName}).then((function(t){e.$logger.info("EvaluationAddOrUpdate response",t),e.editId=t.result.id,e.createNewNameMode="input";var a=e.typeMap.evaluation+"-"+e.editId;e.mySelectedList.push(a),e.waitAddAssociateMap.set(a,{id:e.editId,type:e.typeMap.evaluation}),e.getMyContent()})).finally((function(){e.createLoading=!1})):this.currentType===this.typeMap.task?Object(L["TaskAddOrUpdate"])({name:this.createNewName}).then((function(t){e.$logger.info("TaskAddOrUpdate response",t),e.editId=t.result.id,e.createNewNameMode="input";var a=e.typeMap.task+"-"+e.editId;e.mySelectedList.push(a),e.waitAddAssociateMap.set(a,{id:e.editId,type:e.typeMap.task}),e.getMyContent()})).finally((function(){e.createLoading=!1})):(this.$logger.info("handleEnsureCreate currentType is not supported"),this.$message.warn("handleEnsureCreate currentType is not supported"))},handleCancel:function(){this.$emit("cancel")},handleEnsure:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var a,i,s,r,o,l,u,p,h,m,g,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$logger.info("handleEnsure waitCancelAssociateMap",e.waitAddAssociateMap,"waitCancelAssociateMap",e.waitCancelAssociateMap),e.ensureLoading=!0,!e.waitCancelAssociateMap.size&&!e.waitAddAssociateMap.size){t.next=18;break}a={fromId:e.fromId,fromType:e.fromType,groupName:e.groupName,otherContents:[]},i=Object(d["a"])(e.waitAddAssociateMap);try{for(i.s();!(s=i.n()).done;)r=Object(c["a"])(s.value,2),o=r[0],l=r[1],-1===e.selectedList.indexOf(o)?a.otherContents.push({toId:l.id,toType:l.type}):e.$logger.info("handleEnsure waitAddAssociateMap item is selected skip "+o,l,e.selectedList)}catch(v){i.e(v)}finally{i.f()}u={fromId:e.fromId,fromType:e.fromType,others:[]},p=Object(d["a"])(e.waitCancelAssociateMap);try{for(p.s();!(h=p.n()).done;)m=Object(c["a"])(h.value,2),g=m[0],f=m[1],-1!==e.selectedList.indexOf(g)?u.others.push({toId:f.id,toType:f.type}):e.$logger.info("handleEnsure waitCancelAssociateMap item is no selected skip "+g,f,e.selectedList)}catch(v){p.e(v)}finally{p.f()}if(e.ensureLoading=!0,e.$logger.info("associate data",a),!a.otherContents.length){t.next=14;break}return t.next=14,Object(n["Associate"])(a);case 14:if(e.$logger.info("cancelAssociateData data",u),!u.others.length){t.next=18;break}return t.next=18,Object(n["AssociateCancel"])(u);case 18:e.ensureLoading=!1,e.$emit("ensure");case 20:case"end":return t.stop()}}),t)})))()},handleEditItem:function(e){p["info"]("handleEditItem",e),e.type===g["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===g["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleConfirmName:function(e){var t=this;this.createNewNameMode="hide",e.name!==this.createNewName&&(e.name=this.createNewName,Object(n["Rename"])({id:e.id,type:e.type,name:this.createNewName}).then((function(e){t.$logger.info("Rename response",e),e.success||t.$message.error(e.message)})))},handleRename:function(e){var t=this;this.editId=e.id,this.createNewNameMode="input",this.createNewName=e.name,this.$nextTick((function(){t.$refs.inputRef.focus()}))}}},x=S,M=(a("8fb9"),a("0c7c")),E=Object(M["a"])(x,o,l,!1,null,"599b2370",null),_=E.exports,O=a("1077"),D=a.n(O),N=a("b76a"),P=a.n(N),R={name:"TaskLink",components:{NoMoreResources:b["a"],ContentTypeIcon:v["a"],TaskNewMyContent:_,MyContentSelector:r["a"],CommonPreviewNoLink:I["a"],draggable:P.a,DownloadedSvg:D.a},props:{fromType:{type:Number,required:!0},fromId:{type:String,required:!0},filterType:{type:Number,default:0},canEdit:{type:Boolean,default:!0},isLibrary:{type:Boolean,default:!1},hiddenEmptyGroup:{type:Boolean,default:!1},showDragTips:{type:Boolean,default:!0}},data:function(){return{defaultGroupName:"Untitled category",defaultGroupNameEditMode:"view",defaultGroupOtherContents:[],linkGroupLoading:!0,ownerLinkGroupList:[],subDefaultGroupName:["Untitled category"],noSelectedTips:"",currentGroupId:null,selectLinkContentVisible:!1,typeMap:g["e"],previewVisible:!1,previewCurrentId:"",previewType:"",subFilterType:null,selectedList:[],showCreate:!0,showTabs:!0,linkTitle:null,groupName:null}},created:function(){this.$logger.info("load TaskLink with id["+this.fromId+"] fromType["+this.fromType+"]"),this.getAssociate()},methods:{getAssociate:function(){var e=this;this.$logger.info("GetAssociate id["+this.fromId+"] fromType["+this.fromType+"]"),this.linkGroupLoading=!0,Object(n["GetAssociate"])({id:this.fromId,type:this.fromType,published:this.isLibrary?1:0}).then((function(t){if(e.$logger.info("TaskLink GetAssociate response",t),t.success){var a=t.result;e.ownerLinkGroupList=[],a.groups.forEach((function(t){e.ownerLinkGroupList.push({group:t.groupName,contents:[]}),t.editing=!1}));var i=[],s=[];a.owner.forEach((function(t){t.contents.forEach((function(t){t.type===e.typeMap["unit-plan"]?i.push(t):t.type===e.typeMap.evaluation&&s.push(t)}))}));var n=e.ownerLinkGroupList.find((function(e){return"Relevant Unit Plan(s)"===e.group}));n&&(n.contents=i);var r=e.ownerLinkGroupList.find((function(e){return"Linked assessment tool(s)"===e.group}));r&&(r.contents=s),e.ownerLinkGroupList=e.ownerLinkGroupList.sort((function(e,t){return-1!==e.group.indexOf("Unit Plan")?-1:1})),e.selectedList=[],e.ownerLinkGroupList.forEach((function(t){t.contents.forEach((function(t){e.selectedList.push(t.type+"-"+t.id)}))})),e.$logger.info("ownerLinkGroupList",e.ownerLinkGroupList)}else e.$message.error(t.message)})).finally((function(){e.linkGroupLoading=!1}))},handleEnsureSelectedLink:function(e){this.$logger.info("handleEnsureSelectedLink",e),this.selectLinkContentVisible=!1,this.getAssociate()},handleLinkGroup:function(e){this.$logger.info("handleLinkGroup",e),this.subDefaultGroupName=e.group,"Linked assessment tool(s)"===e.group.trim()?(this.subFilterType=g["e"].evaluation,this.linkTitle="Link Assessment tool(s)",this.groupName="Linked assessment tool(s)",this.noSelectedTips="No assessment rubric(s) selected",this.selectLinkContentVisible=!0):"Relevant Unit Plan(s)"===e.group.trim()?(this.subFilterType=g["e"]["unit-plan"],this.linkTitle="Link Unit Plan",this.groupName="Relevant Unit Plan(s)",this.noSelectedTips="No new Unit plan selected",this.selectLinkContentVisible=!0):(this.$logger.warn("handleLinkGroup unknown group",e),this.$message.warn("handleLinkGroup unknown group "+e))},handleToggleEditGroupName:function(e){var t=this;if(this.$logger.info("handleToggleEditGroupName",e),e.editing){e.editing=!1;var a=[];e.contents.forEach((function(e){a.push(e.id)})),Object(n["AddOrSaveGroupName"])({fromId:this.fromId,fromType:this.fromType,groupName:e.group,ids:a}).then((function(a){t.$logger.info("AddOrSaveGroupName",a),e.editing=!1}))}else e.editing=!0},handleViewDetail:function(e){p["info"]("handleViewDetail",e),this.previewCurrentId=e.id,this.previewType=e.type,this.previewVisible=!0},handleEditLinkItem:function(e){p["info"]("handleEditLinkItem",e),e.type===g["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===g["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleDeleteLinkItem:function(e){var t=this;this.$logger.info("handleDeleteLinkItem",e),Object(n["AssociateCancel"])({fromId:this.fromId,fromType:this.fromType,toId:e.id,toType:e.type}).then((function(e){t.$logger.info("handleDeleteLinkItem response ",e),t.getAssociate()}))},handleDragEnd:function(){var e=this;p["info"]("handleDragEnd ",this.ownerLinkGroupList),this.ownerLinkGroupList.forEach((function(t){var a=[];t.contents.forEach((function(e){a.push(e.id)})),Object(n["AddOrSaveGroupName"])({fromId:e.fromId,fromType:e.fromType,groupName:t.group,ids:a}).then((function(t){e.$logger.info("AddOrSaveGroupName",t)}))}))}}},B=R,U=(a("666c"),Object(M["a"])(B,i,s,!1,null,"1c31a9fc",null));t["a"]=U.exports},"80a9":function(e,t,a){e.exports=a.p+"img/button_line_1.e8da84a5.png"},"81c4":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-row",{staticClass:"common-form-header"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.$store.getters.hiddenHeader&&e.debounceHiddenHeader,expression:"$store.getters.hiddenHeader && debounceHiddenHeader"}],staticClass:"hover-bar",on:{mouseenter:e.handleMouseEnterOutHoverBar,mouseout:e.handleCancelBounce}}),i("a-col",{attrs:{span:"15"}},[i("a-space",[e.showBack?i("span",{staticClass:"back-icon"},[i("a-icon",{attrs:{type:"left"}})],1):e._e(),e.showBack?i("a-button",{staticClass:"nav-back-btn",attrs:{type:"link"},on:{click:e.handleBack}},[e._v(e._s(e.$t("teacher.add-lesson.back")))]):e._e(),i("span",[i("content-type-icon",{attrs:{type:e.form.type}})],1),e.form.type===e.typeMap.classSessionEvaluation?[i("div",{staticClass:"edit-form-name"},[i("div",{staticClass:"form-name"},[e._v(" "+e._s(e.form.className?e.form.className:"Untitled session")+" ")]),i("div",{staticClass:"class-name"},[e._v(" "+e._s(e.form.name?e.form.name:"Untitled className")+" ")])])]:e._e(),e.form.type===e.typeMap.evaluation?[i("div",{staticClass:"edit-form-name"},[i("div",{staticClass:"form-name"},[e.editFormNameMode?[i("a-input",{attrs:{maxLength:240},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleEnsureNewFormName.apply(null,arguments)},click:function(e){e.stopPropagation()}},model:{value:e.formName,callback:function(t){e.formName=t},expression:"formName"}})]:[e._v(e._s(e.form.name?e.form.name:"Untitled session"))]],2),i("div",{staticClass:"edit-icon",on:{click:function(t){t.stopPropagation(),e.editFormNameMode=!e.editFormNameMode}}},[i("img",{attrs:{src:a("5399"),alt:""}})])])]:e._e(),e.form.type!==e.typeMap.evaluation&&e.form.type!==e.typeMap.classSessionEvaluation?[e.lastChangeSavedTime?i("span",{staticClass:"unit-last-change-time"},[i("span",{staticClass:"unit-nav-title"},[e._v(" "+e._s(e.form.name?e.form.name:"Untitled")+" ")]),e.form.name?i("a-divider",{attrs:{type:"vertical"}}):e._e(),e._v(" "+e._s(e.$t("teacher.add-lesson.last-change-saved-at-time",{time:e.lastChangeSavedTime}))+" ")],1):e._e()]:e._e()],2)],1),i("a-col",{staticClass:"unit-right-action",attrs:{span:"9"}},[i("a-space",[e.showCollaborate?[i("div",{staticClass:"collaborate-users"},[e._l(e.collaborateUserList,(function(t,a){return a<5?i("div",{key:a,class:{"item-avator":!0,gray:-1===e.onlineUsers.indexOf(t.email)},style:{"z-index":1e3-a}},[i("a-tooltip",{attrs:{title:e.formatOnlineEmail(t.email),placement:"bottom"}},[i("a-badge",{attrs:{color:"green"}},[i("a-avatar",{staticClass:"user-item",attrs:{size:30,src:t.userAvatar}})],1)],1)],1):e._e()})),i("a-dropdown",{directives:[{name:"show",rawName:"v-show",value:e.collaborateUserList.length>5,expression:"collaborateUserList.length > 5"}],attrs:{overlayStyle:{"z-index":"3000"}}},[i("a",{staticClass:"ant-dropdown-link",staticStyle:{"font-size":"16px","margin-left":"15px"}},[e._v(" +"+e._s(e.collaborateUserList.length-5)+" ")]),i("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},e._l(e.collaborateUserList,(function(t,a){return a>4?i("a-menu-item",{key:a},[i("a-avatar",{class:{"user-item":!0,gray:-1===e.onlineUsers.indexOf(t.email)},attrs:{size:"small",src:t.userAvatar}}),e._v(" "+e._s(t.userName)+" ")],1):e._e()})),1)],1)],2),i("a-tooltip",{directives:[{name:"show",rawName:"v-show",value:e.isOwner,expression:"isOwner"}],attrs:{placement:"bottom",title:"Collaborate"}},[i("div",{staticClass:"collaborate-comment",on:{click:e.handleStartCollaborate}},[i("collaborate-user-icon",{staticClass:"active-icon"})],1)]),e.isOwner||e.isEditCollaborater?i("div",{staticClass:"collaborate-comment",on:{click:e.handleViewComment}},[i("comment-icon",{staticClass:"active-icon"})],1):e._e()]:e._e(),i("a-button",{directives:[{name:"show",rawName:"v-show",value:e.showShare&&(e.isOwner||e.isEditCollaborater),expression:"showShare && (isOwner || isEditCollaborater)"}],staticClass:"my-form-header-btn",on:{click:e.handleSharing}},[i("div",{staticClass:"btn-icon"},[i("a-icon",{style:{fontSize:"16px",color:"#15c39a"},attrs:{type:"share-alt"}})],1),i("div",{staticClass:"btn-text"},[e.isShare?[e._v(" Sharing ")]:[e._v(" Share ")]],2)]),i("a-button",{directives:[{name:"show",rawName:"v-show",value:e.isOwner||e.isEditCollaborater,expression:"isOwner || isEditCollaborater"}],staticClass:"my-form-header-btn",attrs:{loading:e.saving},on:{click:e.handleSave}},[i("div",{staticClass:"btn-icon"},[i("img",{attrs:{src:a("4551")}})]),i("div",{staticClass:"btn-text",attrs:{"data-isOwner":e.isOwner+"","data-isEditCollaborater":e.isEditCollaborater+""}},[e._v(" Save ")])]),e.isOwner&&0===e.form.status&&e.form.type!==e.typeMap.classSessionEvaluation?i("a-button",{staticClass:"my-form-header-btn",attrs:{loading:e.publishing},on:{click:function(t){return e.handlePublish(1)}}},[i("div",{staticClass:"btn-icon"},[i("img",{attrs:{src:a("f7b2")}})]),i("div",{staticClass:"btn-text",attrs:{"data-isOwner":e.isOwner+"","data-form-status":e.form.status+""}},[e._v(" Publish ")])]):e._e(),e.isOwner&&1===e.form.status?i("a-button",{staticClass:"my-form-header-btn",attrs:{loading:e.publishing},on:{click:function(t){return e.handlePublish(0)}}},[i("div",{staticClass:"btn-icon"},[i("a-icon",{style:{fontSize:"16px",color:"#15c39a"},attrs:{theme:"filled",type:"down-square"}})],1),i("div",{staticClass:"btn-text",attrs:{"data-isOwner":e.isOwner+"","data-form-status":e.form.status+""}},[e._v(" Unpublish ")])]):e._e()],2),e.allowHiddenHeader?i("div",{staticClass:"hidden-top-header",style:{"background-color":(e.hiddenHeader,"#fff")}},[i("div",{staticClass:"hidden-toggle",on:{click:e.toggleHiddenHeader}},[e.hiddenHeader?[i("a-icon",{style:{fontSize:"16px",color:"#182552"},attrs:{type:"caret-down"}})]:e._e()],2)]):e._e()],1)],1)},s=[],n=(a("cd17"),a("ed3b")),r=a("5530"),o=(a("a9e3"),a("c740"),a("99af"),a("b0c0"),a("a434"),a("4de4"),a("a903")),l=a.n(o),c=a("09cf"),d=a.n(c),u=a("8f46"),p=a("3f76"),h=a("49cf"),m=a.n(h),g=a("2f62"),f=a("9fb0"),v=a("4fcf"),y=v.debounce,b={name:"CommonFormHeader",components:{CommentIcon:l.a,ContentTypeIcon:u["a"],EditIcon:m.a,CollaborateUserIcon:d.a},props:{form:{type:Object,default:function(){return null}},collaborate:{type:Object,default:function(){return null}},lastChangeSavedTime:{type:String,default:""},showCollaborate:{type:Boolean,default:!0},showBack:{type:Boolean,default:!0},shareStatus:{type:Number,default:0},showShare:{type:Boolean,default:!0},isPreviewMode:{type:Boolean,default:!1}},data:function(){return{publishing:!1,saving:!1,typeMap:p["e"],editFormNameMode:!1,formName:"",collaborateUserList:[],owner:{},isShare:!1,onlineUsers:[this.$store.getters.userInfo.email],debounceHiddenHeader:null}},computed:Object(r["a"])(Object(r["a"])({isOwner:function(){return this.$store.getters.userInfo.email===this.form.createBy},isCollaborater:function(){var e=this,t=this.collaborateUserList.findIndex((function(t){return t.email===e.$store.getters.userInfo.email}));return t>-1},isEditCollaborater:function(){var e=this,t=this.collaborateUserList.findIndex((function(t){return t.email===e.$store.getters.userInfo.email}));return t>-1&&"Edit"===this.collaborateUserList[t].permissions}},Object(g["e"])({removedCollaborate:function(e){return e.websocket.removedCollaborate},hiddenHeader:function(e){return e.app.hiddenHeader}})),{},{allowHiddenHeader:function(){return this.$route.meta.allowHiddenHeader}}),watch:{collaborate:function(e){this.owner=e.owner;var t=[this.$store.getters.userInfo.email].concat(e.onlineEmails);this.onlineUsers=t,this.formatUserList(e.users)},shareStatus:function(e){this.isShare=1===e},removedCollaborate:function(e){var t=this;e&&e.indexOf(this.form.id)>-1&&n["a"].error({title:"Alert",content:"You have been removed from the collaborating list of "+this.form.name,okText:"Ok",mask:!0,onOk:function(){t.$router.push({path:"/teacher/main/created-by-me"})}});var a=this.collaborate.users.findIndex((function(e){return e.email===t.$store.getters.userInfo.email}));a>-1&&this.collaborate.users.splice(a,1),this.removedCollaborateAction(!1)}},created:function(){this.$logger.info("form header name:"+this.form.name+" lastChangeSavedTime:"+this.lastChangeSavedTime),this.form&&this.form.name&&(this.formName=this.form.name),this.debounceHiddenHeader=y(this.toggleHiddenHeader,500)},methods:Object(r["a"])(Object(r["a"])({handleMouseEnterOutHoverBar:function(){this.debounceHiddenHeader()}},Object(g["b"])(["removedCollaborateAction"])),{},{formatUserList:function(e){var t=this,a=[];this.owner&&(a=[{userName:this.owner.nickname,userAvatar:this.owner.avatar,email:this.owner.email}]),e&&(a=a.concat(e.filter((function(e){return t.onlineUsers.indexOf(e.email)>-1&&e.email!==t.owner.email}))),a=a.concat(e.filter((function(e){return-1===t.onlineUsers.indexOf(e.email)&&e.email!==t.owner.email})))),this.collaborateUserList=a},handleBack:function(){this.$logger.info("handleBack"),this.isPreviewMode?this.$emit("back"):(this.isOwner,this.$router.push({path:"/teacher/main/created-by-me"}))},handleSave:function(){this.saving=!0,this.$logger.info("handleSave"),this.$emit("save")},handlePublish:function(e){this.publishing=!0,this.$logger.info("handlePublish"),this.$emit("publish",e)},handleStartCollaborate:function(){this.$logger.info("handleStartCollaborate"),this.$emit("collaborate")},handleViewComment:function(){this.$emit("view-collaborate")},handleEnsureNewFormName:function(){if(this.$logger.info("handleEnsureNewFormName "+this.form.name),this.editFormNameMode=!1,this.formName&&this.formName!==this.form.name){var e=Object.assign({},this.form);e.name=this.formName,this.$emit("update-form",e)}this.$logger.info("editFormNameMode "+this.editFormNameMode)},handleSharing:function(){this.sharing=!0,this.$logger.info("handleSharing"),this.$emit("share")},formatOnlineEmail:function(e){return e===this.form.createBy?"Owner: "+e:e},toggleHiddenHeader:function(){this.$logger.info("toggleHiddenHeader"),this.$store.commit(f["j"],!this.$store.getters.hiddenHeader)},handleCancelBounce:function(){this.$logger.info("handleCancelBounce"),this.debounceHiddenHeader.cancel()}})},w=b,C=(a("9bc1"),a("0c7c")),k=Object(C["a"])(w,i,s,!1,null,"b4133aa6",null);t["a"]=k.exports},"81cf":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1651915706526",class:"icon",viewBox:"0 0 1069 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3589","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"50.109375",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M550.120826 4.91l497.83239 344.313542a26.725201 26.725201 0 0 1 6.69292 37.554717 26.39985 26.39985 0 0 1-6.69292 6.553484l-497.83239 344.36002a27.887166 27.887166 0 0 1-31.280104 0L21.008332 393.331743a26.725201 26.725201 0 0 1-6.646442-37.554717 26.213936 26.213936 0 0 1 6.646442-6.553484L518.840722 4.91a27.887166 27.887166 0 0 1 31.280104 0z m-15.616813 120.844386L179.314477 371.486796l355.189536 245.546496 355.143058-245.639453-355.189536-245.639453z m-15.663291 893.318881L0 660.118963l95.095236-65.767232 439.408777 303.830672 439.362299-303.830672L1069.008027 660.118963l-518.840722 358.907826a27.887166 27.887166 0 0 1-31.280105 0z","p-id":"3590"}}]})}},8275:function(e,t,a){},"82bf":function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return c}));var i=a("b775"),s={GetLinkCategory:"/classcipe/api/v2/mycontent/getLinkCategory",AddOrUpdateLinkCategory:"/classcipe/api/v2/mycontent/addOrUpdateLinkCategory",QueryTagsByIds:"/classcipe/api/v2/mycontent/queryTagsByIds",DeleteLinkCategory:"/classcipe/api/v2/mycontent/deleteLinkCategory",QueryCustomTags:"/classcipe/api/v2/mycontent/queryCustomTags",ImportOtherIdentityContent:"/classcipe/api/v2/mycontent/importOtherIdentityContent",UpdateContentField:"/classcipe/api/v2/mycontent/updateContentField",ContentBuy:"/classcipe/api/v2/mycontent/content/bye",QueryNewBigIdea:"/classcipe/api/v2/mycontent/queryNewBigIdea"};function n(e){return Object(i["d"])({url:s.QueryTagsByIds,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i["d"])({url:s.QueryCustomTags,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(i["d"])({url:s.ImportOtherIdentityContent,method:"post",data:e})}function l(e){return Object(i["d"])({url:s.ContentBuy,method:"post",data:e})}function c(e){return Object(i["d"])({url:s.QueryNewBigIdea,method:"post",data:e})}},"83d7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAAAAXNSR0IArs4c6QAABFVJREFUSEvVV19oW1UY//1O7k3btVuStndz3bAbIlqngqWT4dquxU0dMnAIFVEfOm1r53yosD74sFAVHSIKss2lFeaDjtEHcSBjIJK2aR+EysCJTETpUFdmbtdmmnZtkvPJTZo0mzdbyqrgebqc7/t+v+985/tzLrGCy//1kVrTa54W8AECKg/aFuA8oD6wJ9ecQVtbijnheMi0tLdK5hIPg7pGwDUUXtBInLui/5hEa1/yVj5WjYR6FdVhQJZwl4wEgnmB7rGbXz6eVrCGT9wNT+JV0bIX5FoCzj4F0IRMCXASNN63G1+8dDNya/j4M1DqUwBGQT1BDIZqYHVkoIWUd0WwjkAZgNUASnOGpEB0CoLzmuieaur6piDo94Nea3qmF5CHBMyEmlAU2QZwbdZOiPdYNRJ6ShR/UrPz0zTVWhhmvQB7CbQCKF9yABoiEwLVZjd1fFuQfDDorSmrMbB+SSMRlz1Q6lSOWOQcEQ4aGIJGX58gGCRaWpSFH0q1Ye5VgjdAbMojEQEuJJXaPbP9pYu3uvOs3Dc8sNmr5Jc8/ctuSZCRj4fMyji3KoWTBGqvPzlOR2fkeezpml3cpy9yzB9Lls2htf3ajQ4FIqE7DTDfUbswsWM9OOix1l/dJdCfEajMhQpIiGbP1I6Oo1b4aIUYZguAXiRTh+zW7qHbJ3YQwkGj2lPTQ/LtG7L1EgX7tMILFDzpJOWCknti27t+XhliADXjoVWJOX4BYFf+fQOYAVABwAQwH03+XuFW7+6hlqDyja7zOYCxxssxsE+7JU1l+Ng2j8czBLLETe4knd3UWecmcyX2j33cbGr9VrphUA7ZjV3hG4zTieMR9aiCGiDhd89mfh5t6ni6aGJrpP87ULY4lS6CH+2mzi3OZxogFDKr71MPAjoIsImAExn3hCTeiTZ2vl48caTf6cGetAGhoxvMcmzOlET16PEGQp0SLbUkC7dBAFqhfWp75yfLIc6cbnFFy6QcDZn6DHwV8hleHIBiG0Q2iOJqCrxu4MlUsnm6ZX9kRYgdkE3hE6V/eRYCJO6CYB9Ip2arF9tpdvTJtfkF68+dB6ZWjDgHJEJr6Fg5SkruQELXi2I3oe8F4BNw2m7s2AhnoLgs16y2Iv0FQ+2evZmOtmbjVZ83JZtF5DFCDLu5681C+itHnM9w5sOSjf6k+u2R1+b+W+KCYVkS/Dsn/v8Tz8Yq8PjBeBEHKVrFP3ak1tTeiTwDm1YkNAvQeWul12yJuT4+UR4tGrUIxcCGq3WG1uezqkJepBXpd95P9blN8CMy9SWgXGuyCJ7rVISikOKzJJ7L6wlnWT06cJCQw5DcAzwFII7FObFcon/qp2eKM7OzXU5rsJ2B8ZDPmOMIiPvzyG+fzx1BCzBsB/xPpN2pGh6oo9L9BLelPbv5S2z5TmUuTQM8m9IL+6/seOXXHIUzibiKOz0aW52fi+WjF7bQWiaVh2PReGwkWzF/Ay535VYy6arNAAAAAElFTkSuQmCC"},"870d":function(e,t,a){},8897:function(e,t,a){"use strict";a.d(t,"g",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"f",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return u}));var i=a("ef87"),s={GetMyClasses:"/class/get_my_classes",TurnOnStudentPaced:"/class/turn_on_student_paced",EndSession:"/class/end_session",ReopenSession:"/class/reopen_session",NameSession:"/class/name_session",StartLesson:"/slide/start_lesson",GetStudents:"/class/get_students",GetStudentResponse:"/class/get_student_response",SlideGetAll:"/slide/get_all",GetClassMembers:"/class/get_class_members"};function n(e){return Object(i["a"])({url:s.TurnOnStudentPaced,method:"post",data:e})}function r(e){return Object(i["a"])({url:s.EndSession,method:"post",data:e})}function o(e){return Object(i["a"])({url:s.ReopenSession,method:"post",data:e})}function l(e){return Object(i["a"])({url:s.NameSession,method:"post",data:e})}function c(e){return Object(i["a"])({url:s.StartLesson,method:"post",data:e})}function d(e){return Object(i["a"])({url:s.GetStudents,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(e){return Object(i["a"])({url:s.GetStudentResponse,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},"88d4":function(e,t){e.exports="data:image/png;base64,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"},"8b49":function(e,t,a){"use strict";a("023b")},"8bab":function(e,t,a){},"8c95":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"associate-preview"},[i("a-row",{staticClass:"bottom-relative"},[i("a-col",{staticClass:"content-type-filter",attrs:{span:"24"}},[i("a-radio-group",{attrs:{"button-style":"solid"},on:{change:e.handleUserTypeChange},model:{value:e.activeUserType,callback:function(t){e.activeUserType=t},expression:"activeUserType"}},[i("a-radio-button",{staticClass:"left-button",attrs:{value:"owner"}},[e._v(" "+e._s(e.$t("teacher.unit-plan-preview.by-owner"))+" ")]),i("a-radio-button",{staticClass:"right-button",attrs:{value:"others"}},[e._v(" "+e._s(e.$t("teacher.unit-plan-preview.by-others"))+" ")])],1),i("div",{staticClass:"content-type-list"},[i("div",{staticClass:"toggle-mode-type-wrapper"},[i("div",{staticClass:"toggle-mode-type"},[i("div",{staticClass:"toggle-mode"},[i("div",{class:{"mode-item":!0,"skill-active-mode":e.activeContentType===e.typeMap.task},on:{click:function(t){return e.handleSelectContentType(e.typeMap.task)}}},[e._v(" "+e._s(e.$t("teacher.unit-plan-preview.task"))+" ")]),i("div",{class:{"mode-item":!0,"general-active-mode":e.activeContentType===e.typeMap.evaluation},on:{click:function(t){return e.handleSelectContentType(e.typeMap.evaluation)}}},[e._v(" "+e._s(e.$t("teacher.unit-plan-preview.evaluation"))+" ")])])])])])],1),i("a-col",{staticClass:"created-toggle",attrs:{span:"24"}},[i("div",{staticClass:"toggle-view-type"},[i("div",{staticClass:"switch-icon"},[i("div",{class:{"icon-item":!0,"active-icon":"list"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("list")}}},[i("list-mode-icon")],1),i("div",{class:{"icon-item":!0,"active-icon":"card"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("card")}}},[i("pu-bu-icon")],1)])])])],1),i("a-row",[i("a-col",{attrs:{span:"24"}},[i("div",{staticClass:"associate-info"},["list"===e.dataListMode?e._l(e.currentAssociateList,(function(t,s){return t.type===e.activeContentType?i("div",{key:s,staticClass:"associate-block-list"},[i("div",{staticClass:"question-item list-question-item"},[i("div",{class:{"list-item":!0,"browser-item":!0,"odd-line":s%2===0}},[i("div",{staticClass:"item-name"},[i("dir-icon",{attrs:{"content-type":t.type}}),i("span",{staticClass:"data-name",on:{click:function(a){return e.handleClickTitle(t)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")])],1),i("div",{staticClass:"arrow-item"},[i("span",{staticClass:"data-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime||t.createTime))+" ")]),i("div",{staticClass:"edit-item-icon",on:{click:function(a){return e.handleEditItem(t.type,t)}}},[i("img",{attrs:{src:a("ae3c")}})]),i("div",{staticClass:"star-it",on:{click:function(a){return e.handleFavorite(t)}}},[t.createBy!==e.$store.getters.userInfo.email?[t.isFavorite?e._e():i("img",{attrs:{src:a("58e7")}}),t.isFavorite?i("img",{attrs:{src:a("24e3")}}):e._e()]:e._e()],2),i("div",{staticClass:"edit-it",on:{click:function(a){return e.handleEditItem(t.type,t)}}},[i("a-icon",{attrs:{type:"more"}})],1)])])])]):e._e()})):e._e(),"card"===e.dataListMode?[i("div",{staticClass:"associate-block-list associate-block-list-card"},e._l(e.currentAssociateList,(function(t,s){return t.type===e.activeContentType?i("div",{key:s,staticClass:"question-item card-question-item"},[i("div",{class:{"card-item":!0,"browser-item":!0,"odd-line":s%2===0}},[i("data-card-view",{attrs:{title:t.name,"update-time":t.updateTime,cover:t.image,"content-type":t.type}}),i("div",{staticClass:"card-action-item"},[i("div",{staticClass:"action-left"},[i("div",{staticClass:"edit-item-icon",on:{click:function(a){return e.handleEditItem(t.type,t)}}},[i("img",{attrs:{src:a("ae3c")}})]),t.createBy!==e.$store.getters.userInfo.email?[i("div",{staticClass:"star-it",on:{click:function(a){return e.handleFavorite(t)}}},[t.isFavorite?e._e():i("img",{attrs:{src:a("58e7")}}),t.isFavorite?i("img",{attrs:{src:a("24e3")}}):e._e()])]:e._e()],2),i("div",{staticClass:"action-right"},[i("div",{staticClass:"edit-it",on:{click:function(a){return e.handleEditItem(t.type,t)}}},[i("a-icon",{attrs:{type:"more"}})],1)])])],1)]):e._e()})),0)]:e._e()],2)])],1),i("a-row")],1)},s=[],n=(a("a9e3"),a("d3b7"),a("159b"),a("823b")),r=a("3f76"),o=a("8f46"),l=a("05be"),c=a.n(l),d=a("8d47"),u=a.n(d),p=a("6964"),h=a("faaa"),m=a("69b3"),g=a("95c6"),f=g.FavoritesAdd,v=a("9afb"),y=v.GetAssociate,b={name:"IsLibrary",props:{id:{type:String,required:!0},contentType:{type:Number,required:!0}},components:{NoMoreResources:m["a"],DirIcon:h["a"],DataCardView:p["a"],ContentTypeIcon:o["a"],PuBuIcon:c.a,ListModeIcon:u.a},data:function(){return{loading:!0,associateData:null,tagColorList:["pink","orange","green","cyan","blue","red","purple"],activeContentType:r["e"].task,activeUserType:"owner",currentAssociateList:[],typeMap:r["e"],previewType:"",dataListMode:"list"}},created:function(){n["info"]("Associate Preview id "+this.id),this.loadAssociateData()},methods:{loadAssociateData:function(){var e=this;n["info"]("loadAssociateData "+this.id+" "+this.contentType),this.loading=!0,y({id:this.id,type:this.contentType,published:this.isLibrary?1:0,preview:!0}).then((function(t){n["info"]("GetAssociate ",t),e.associateData=t.result,e.handleUserTypeChange()})).then((function(){n["info"]("get favorite "+e.id)})).finally((function(){e.loading=!1}))},handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},handleSelectContentType:function(e){n["info"]("handleSelectContentType "+e),this.activeContentType=e},handleSubPreviewClose:function(){n["info"]("handleSubPreviewClose"),this.previewType=null},handleUserTypeChange:function(){var e=this;n["info"]("handleUserTypeChange "+this.activeUserType);var t=this.associateData[this.activeUserType];this.currentAssociateList=[],t.forEach((function(t){t.contents&&t.contents.length&&t.contents.forEach((function(t){e.currentAssociateList.push(t)}))})),n["info"]("currentAssociateList",this.currentAssociateList)},handleClickTitle:function(e){n["info"]("handleClickTitle",e),this.previewType=r["e"]["unit-plan"]},handleSubPreview:function(e,t){n["info"]("handleSubPreview",e,t),this.previewType=r["e"]["unit-plan"]},handleFavorite:function(e){n["info"]("handleFavorite",e),f({sourceId:e.id,sourceType:e.type}).then((function(t){n["info"]("FavoritesAdd ",t),e.isFavorite=!e.isFavorite}))},handleEditItem:function(e,t){n["info"]("handleEditItem",e,t),t.type===r["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+t.id,"_blank"):t.type===r["e"].task?window.open("/teacher/task-redirect/"+t.id,"_blank"):t.type===r["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+t.id,"_blank")}}},w=b,C=(a("fa0b"),a("0c7c")),k=Object(C["a"])(w,i,s,!1,null,"3b8f30d4",null);t["a"]=k.exports},"8c9c":function(e,t,a){"use strict";a("9b26")},"8d47":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"27.909",viewBox:"0 0 28 27.909"},children:[{tag:"path",attrsMap:{id:"liebiao_","data-name":"liebiao ",class:"cls-1",d:"M62,62h6.932v6.93H62V62Zm10.279,0H90v6.93H72.279V62Zm0,10.326H90v7.208H72.279V72.326ZM62,72.326h6.932v7.208H62V72.326Zm0,10.558h6.932v7.024H62V82.885Zm10.279,0H90v7.024H72.279V82.885Z",transform:"translate(-62 -62)"}}]})}},"8d8d":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1627029145108",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2817",width:"200",height:"200"},children:[{tag:"path",attrsMap:{d:"M341.33 796.686h341.358v71.094H341.33z",fill:"#434A54","p-id":"2818"}},{tag:"path",attrsMap:{d:"M767.996 853.31H256c-11.782 0-21.328 9.562-21.328 21.376 0 11.75 9.546 21.312 21.328 21.312h511.996c11.782 0 21.312-9.562 21.312-21.312 0-11.812-9.53-21.376-21.312-21.376z",fill:"#656D78","p-id":"2819"}},{tag:"path",attrsMap:{d:"M42.674 789.312c-11.766 0-21.344-9.562-21.344-21.312V170.674c0-11.766 9.578-21.344 21.344-21.344h938.634c11.782 0 21.376 9.578 21.376 21.344V768c0 11.75-9.594 21.312-21.376 21.312H42.674z",fill:"#5D9CEC","p-id":"2820"}},{tag:"path",attrsMap:{d:"M981.308 128.002H42.674C19.112 128.002 0.004 147.096 0.004 170.674V768c0 23.56 19.108 42.686 42.67 42.686h938.634c23.594 0 42.688-19.124 42.688-42.686V170.674c0-23.578-19.094-42.672-42.688-42.672z m0 639.998H42.674V170.674h938.634V768z",fill:"#656D78","p-id":"2821"}},{tag:"path",attrsMap:{d:"M42.674 682.688h963.042v91.376H42.674z",fill:"#656D78","p-id":"2822"}},{tag:"path",attrsMap:{d:"M533.328 746.688c0 11.75-9.546 21.312-21.328 21.312s-21.328-9.562-21.328-21.312c0-11.812 9.546-21.376 21.328-21.376s21.328 9.564 21.328 21.376z",fill:"#AAB2BC","p-id":"2823"}},{tag:"path",attrsMap:{d:"M719.996 682.812h-165.308l128-511.982h165.308z",fill:"#FFFFFF",opacity:".1","p-id":"2824"}}]})}},"8dab":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAABKRJREFUWEfNWFtoFGcU/s4/yWaTmM1uVoRgHpqW9kF8EiRVm7q5QJpuZolIpIkQURCEPkQbIQHtmxf6YJu0BZ9UGi1K85LsbEgCQZO0Bm1BEASJtaiQYhHNZjddk2x25pSZdDe3vczkUvrDPOzOOef//u+c/1yGYHFxba0jJEQNhKhmoneZeTsB23UzDPwpiCbA/EzVtCFo2qC7vz9sZQsyKxzy+bwa8ykiKmfAZkaPgCiAUQ3oKPL7+0zqpBcL+3z7VOAigHIzBlPJMPMvIGov8vvvprOTkiFuaJBCMzNfMdEXIDLNZFrQzAzmr525uW3U3a0mk026UbC+3glN6wZQvR5WUrIFDJIQn7l6eqZWyqwCNOX1uiDEfSZ6fzPAJGwy/y6i0Q8LBwcnl+6zDJDupqm5uYHNYibJAYecOTmfLHXfMkBBn+97AJ9vKjMrjTN/61KUlvjfCUDBujoPhLizFjBSaSn0RwsGEXv4ENA0a2Y0rcIVCAzrSglAkz7fPQLKLFkSAnktLbB5PAk19cULRM6dg/bqlRVTYy6/f18CUNDr9UGSeq1Y0GVz6uuRe/Qo5h88QPT2bYMl+8GDiD16hL/PnLFkTtI0nyMQUAyGgrL8M4g+smQBwJZLlyAVFyN07BgwO2uo550+DVt5OUJHjoCnVt3qdFuMuvz+/RSuqnKreXl/gSgrlTS53Sjo6IBwOKxiXrzlkQimW1uhvXyZ3AZzTIvF3DQpy01E9GPadJ6fj/yzZyFKSgxQWjicYCQtwuxsCJcLHIlAnZhA5MKFtKyxqjZS0Of7AUCzmaPbKiuNIH7b2WnETKaVtXMntpw/j9mbNzF761Ymcf19lw5oBMDHZqT/A0CjOqBxAB+sBZD98GHMj41Be/0a9kOHMNPVBbF1K2zV1Zi9fh1rYOgJBWU5BCJT0bqSIWdvr+EO/Zrrrplub0fWjh3IbW42bplUUmLNZczhDQWk5x6dFXtjI8LHj0Ns27YGQOtw2UqG1g0IeLKuoN4EQEZQr/nabwKgLlOJMX4DkwX1zI0bUB8/Xgjq1lYjhvT6FmpqMmqblTxkJEYzpSMVoOyyMsTGx41MbKuqQnRgAFRQgKxduzA/MmLt2sdLx7/F9Q6IFnuIFEkpnldmrl3DXE9PxtSVvXcv8tva8PbyZQNs2sU87FKUioVqb7b9sNtRePUqOBpdKAVRfexKsSTJaE9EcTGmT5zI2B8x86dFitK/2DHK8jCI9mc6tu4mvcUgW+ZZkVUVM1euINqXYUZkHnEpiuGhBKA3dXV7hBBjmQAZSk6nkZHJbk8pzvPzUJ8+Td1uLNEUzHsKFeXeMkD6jzey/I0gOmkG1EbJaJrW6Q4EEnv+v8cg/dShmpoiLSfnVwDvbRQLKez8Qaq629nXF1z6PukoHT5wwK3GYj+BqHKTQA1BiAZTo3QcAHs8WVMOR8eGD47M3znt9lOWPjYsZSXo9VawJF20PLOtpvYuVPVLV19f2mHU9GeWSVmuE8BJJtLb3WyTrpwH86gEdDgUJWBGxzSguLGgx+PkgoJaAnYDKAXROwD0R1/PwfwcwDMGfiNJ6k8WJ+mA/QM7FWPB1r8LHAAAAABJRU5ErkJggg=="},"8f46":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"status-icon-item"},[e.type===e.typeMap.task?a("span",[e._v("Task")]):e._e(),e.type===e.typeMap["unit-plan"]?a("span",[e._v("Unit")]):e._e(),e.type===e.typeMap.pd?a("span",[e._v("PD")]):e._e(),e.type===e.typeMap.video?a("span",[e._v("Video")]):e._e()])},s=[],n=(a("a9e3"),a("3f76")),r={name:"ContentTypeIcon",props:{type:{type:Number,default:-1},size:{type:String,default:"30px"}},data:function(){return{typeMap:n["e"]}}},o=r,l=(a("4133"),a("0c7c")),c=Object(l["a"])(o,i,s,!1,null,"a464ed10",null);t["a"]=c.exports},"8fb9":function(e,t,a){"use strict";a("8275")},"90e8":function(e,t,a){"use strict";var i={Edit:"edit",Preview:"preview",StudentEvaluate:"student-evaluate",TeacherEvaluate:"teacher-evaluate",PeerEvaluate:"peer-evaluate"};t["a"]=i},"91ff":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag-ui"},[a("a-col",[a("div",{staticClass:"objectives-wrapper"},[e.getknowledgeListType(e.TagType.skill).length>0?a("a-row",{staticClass:"objectives-wrapper-block"},[a("div",{staticClass:"title-item title-skill"},[e._v("Achievement objectives")]),e._l(e.getknowledgeListType(e.TagType.skill),(function(t,i){return a("div",{key:i,staticClass:"objectives-list"},[a("div",{staticClass:"objectives-list-item objectives-list-item-skill objectives-list-item-top-fixed"},[a("div",{staticClass:"skt-description"},[a("a-tooltip",{attrs:{title:t.path}},[t.key?a("span",{staticClass:"self-out-icon"},[a("a-icon",{attrs:{type:"user-add"}})],1):e._e(),e._v(" "+e._s(t.name)+" "),t.subjectId&&e.getSubjectName(t.subjectId)?a("span",{staticClass:"subject-name-tag"},[a("a-tag",{staticClass:"my-subject-name-tag"},[e._v(e._s(e.getSubjectName(t.subjectId)))])],1):e._e()]),e.bloomInfo(t.knowledgeId,"isExist")?a("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"skt-chart"},[a("div",{staticClass:"skt-chart-detail"},[a("label",[e._v("Bloom Taxonomy")]),a("a-rate",{staticClass:"rate-bar-con small",attrs:{tooltips:e.bloomLevelDesc,count:6,value:e.bloomInfo(t.knowledgeId,"bloomLevel"),disabled:""}},[a("div",{attrs:{slot:"character"},slot:"character"},[a("div",{staticClass:"rate-bar"})])])],1),a("div",{staticClass:"skt-chart-detail"},[a("label",[e._v("Knowledge dimension")]),e._l(e.bloomInfo(t.knowledgeId,"knowledgeLevel"),(function(i,s){return a("a-tag",{key:t.name+"bloom_tag"+s,staticClass:"tag-item",attrs:{color:"purple"}},[e._v(" "+e._s(i)+" ")])}))],2)]):e._e()],1)])])}))],2):e._e(),e.getknowledgeListType(e.TagType.knowledge).length>0?a("a-row",{staticClass:"objectives-wrapper-block"},[a("div",{staticClass:"title-item title-learnout"},[e._v("Learning outcomes")]),e._l(e.getknowledgeListType(e.TagType.knowledge),(function(t,i){return a("div",{key:i,staticClass:"objectives-list"},[a("div",{staticClass:"objectives-list-item objectives-list-item-learn objectives-list-item-top-fixed"},[a("div",{staticClass:"skt-description"},[a("a-tooltip",{attrs:{title:t.path}},[t.key?a("span",{staticClass:"self-out-icon"},[a("a-icon",{attrs:{type:"user-add"}})],1):e._e(),e._v(" "+e._s(t.name)+" "),t.subjectId&&e.getSubjectName(t.subjectId)?a("span",{staticClass:"subject-name-tag"},[a("a-tag",{staticClass:"my-subject-name-tag"},[e._v(e._s(e.getSubjectName(t.subjectId)))])],1):e._e()]),e.bloomInfo(t.knowledgeId,"isExist")?a("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"skt-chart"},[a("div",{staticClass:"skt-chart-detail"},[a("label",[e._v("Bloom Taxonomy")]),a("a-rate",{staticClass:"rate-bar-con small",attrs:{tooltips:e.bloomLevelDesc,count:6,value:e.bloomInfo(t.knowledgeId,"bloomLevel"),disabled:""}},[a("div",{attrs:{slot:"character"},slot:"character"},[a("div",{staticClass:"rate-bar"})])])],1),a("div",{staticClass:"skt-chart-detail"},[a("label",[e._v("Knowledge dimension")]),e._l(e.bloomInfo(t.knowledgeId,"knowledgeLevel"),(function(i,s){return a("a-tag",{key:t.name+"bloom_tag"+s,staticClass:"tag-item",attrs:{color:"purple"}},[e._v(" "+e._s(i)+" ")])}))],2)]):e._e()],1)])])}))],2):e._e(),e.getknowledgeListType(e.TagType.century).length>0?a("a-row",{staticClass:"objectives-wrapper-block"},[a("div",{staticClass:"title-item title-21"},[e.$store.getters.bindCurriculum===e.AllCurriculums.NZ?[e._v(" Key competencies ")]:e.$store.getters.bindCurriculum===e.AllCurriculums.AU?[e._v(" General capabilities ")]:[e._v(" 21st Century Skills ")]],2),e._l(e.getknowledgeListType(e.TagType.century),(function(t,i){return a("div",{key:i,staticClass:"objectives-list"},[a("div",{staticClass:"objectives-list-item objectives-list-item-21 objectives-list-item-top-fixed",on:{click:function(a){return e.handleActiveDescription(e.TagType.century,t)}}},[a("div",{staticClass:"skt-description skt-description-21"},[a("a-tooltip",{attrs:{title:t.path}},[t.key?a("span",{staticClass:"self-out-icon"},[a("a-icon",{attrs:{type:"user-add"}})],1):e._e(),e._v(" "+e._s(t.name)+" "),t.subjectId&&e.getSubjectName(t.subjectId)?a("span",{staticClass:"subject-name-tag"},[a("a-tag",{staticClass:"my-subject-name-tag"},[e._v(e._s(e.getSubjectName(t.subjectId)))])],1):e._e()]),e.bloomInfo(t.knowledgeId,"isExist")?a("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"skt-chart"},[a("div",{staticClass:"skt-chart-detail"},[a("label",[e._v("Bloom Taxonomy")]),a("a-rate",{staticClass:"rate-bar-con small",attrs:{tooltips:e.bloomLevelDesc,count:6,value:e.bloomInfo(t.knowledgeId,"bloomLevel"),disabled:""}},[a("div",{attrs:{slot:"character"},slot:"character"},[a("div",{staticClass:"rate-bar"})])])],1),a("div",{staticClass:"skt-chart-detail"},[a("label",[e._v("Knowledge dimension")]),e._l(e.bloomInfo(t.knowledgeId,"knowledgeLevel"),(function(i,s){return a("a-tag",{key:t.name+"bloom_tag"+s,staticClass:"tag-item",attrs:{color:"purple"}},[e._v(" "+e._s(i)+" ")])}))],2)]):e._e()],1),t.tagListVisible?a("a-divider",{staticStyle:{margin:"10px 0px"}}):e._e(),t.tagListVisible?a("div",{staticClass:"skt-description-tag-list"},e._l(t.tags,(function(i){return a("div",{key:i,class:{"tag-list-item":!0,"skill-mode":!0}},[a("a-tag",{staticClass:"tag-item",attrs:{closable:!0},on:{close:function(a){return e.handleDeleteTag(t,i)}}},[e._v(e._s(i))])],1)})),0):e._e()],1)])}))],2):e._e()],1)]),a("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"800px"},model:{value:e.addTagVisible,callback:function(t){e.addTagVisible=t},expression:"addTagVisible"}},[a("div",{staticClass:"my-modal-title",attrs:{slot:"title"},slot:"title"},[e._v(" Add tag ")]),a("learn-out-add-tag",{attrs:{knowledge:e.knowledge},on:{"handle-select-tags":e.handleEnsureTags}})],1),a("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"1000px",title:"Add tag"},model:{value:e.centuryTagVisible,callback:function(t){e.centuryTagVisible=t},expression:"centuryTagVisible"}},[a("div",{staticClass:"ensure-setting-modal"},[a("div",{staticClass:"tips"},[a("p",[e._v(" "+e._s(e.knowledge.name)+" ")])]),a("div",[e._l(e.centuryTagList,(function(t,i){return a("div",{key:i,staticClass:"row-cascader"},[a("a-cascader",{staticStyle:{width:"900px"},attrs:{fieldNames:{label:"name",value:"name",children:"children"},options:e.centuryList,"change-on-select":""},model:{value:e.centuryTagList[i],callback:function(t){e.$set(e.centuryTagList,i,t)},expression:"centuryTagList[index]"}}),e.centuryTagList.length>1?a("a-button",{attrs:{type:"link",icon:"minus",size:"large"},on:{click:function(t){return e.handleRemoveCenturyTag(i)}}}):e._e()],1)})),a("a-button",{attrs:{type:"link",icon:"plus-circle",size:"large"},on:{click:function(t){return e.handleAddCenturyTag()}}})],2),a("div",{staticClass:"modal-ensure-action-line-center"},[a("a-button",{staticClass:"action-item action-cancel",attrs:{shape:"round"},on:{click:function(t){e.centuryTagVisible=!1}}},[e._v("Cancel")]),a("a-button",{staticClass:"action-ensure action-item",attrs:{type:"primary",shape:"round"},on:{click:e.handleEnsureCenturyTags}},[e._v("Confirm")])],1)])])],1)},s=[],n=(a("ac1f"),a("1276"),a("d81d"),a("4de4"),a("7db0"),a("a630"),a("3ca3"),a("d3b7"),a("6062"),a("ddb0"),a("99af"),a("c740"),a("a434"),a("159b"),a("b0c0"),a("823b")),r=a("69b3"),o=a("214d"),l=a("f93e"),c=a("db6a"),d=a("2934"),u={name:"UiLearnOutSub",components:{LearnOutAddTag:o["a"],NoMoreResources:r["a"]},props:{learnOuts:{type:Array,default:function(){return[]}},selfOuts:{type:Array,default:function(){return[]}},classInfoList:{type:Array,default:function(){return[]}}},mounted:function(){},destroyed:function(){},computed:{dealPath:function(){return function(e){return e?e.split(">"):e}},bloomInfo:function(){var e=this;return function(t,a){if(!t||0===e.classInfoList.length)return null;var i=e.classInfoList.map((function(e){return e.data&&e.data.data?e.data.data:""})),s=i.filter((function(e){return e&&e.learnOuts&&e.learnOuts.length>0})),n=s.filter((function(e){return e.learnOuts.find((function(e){return e.knowledgeId===t}))})),r={knowledgeLevel:[],bloomLevel:0};return r.knowledgeLevel=Array.from(new Set(n.map((function(e){return e.knowledgeLevel})).filter((function(e){return""!==e})))),r.bloomLevel=n.map((function(t){var a=e.bloomLevel.find((function(e){return e.text===t.bloomLevel}));return a?parseInt(a.value):""})).filter((function(e){return""!==e})).sort().pop(),"isExist"===a?r.knowledgeLevel.length>0||r.bloomLevel>0:r[a]}},bloomLevelDesc:function(){return this.bloomLevel&&this.bloomLevel.length>0?this.bloomLevel.map((function(e){return e.title})):[]}},data:function(){return{knowledgeList:[],addTagVisible:!1,centuryTagVisible:!1,centuryTagList:[],knowledge:{},tags:[],TagType:l["U"],AllCurriculums:l["b"],centuryList:[],bloomLevel:[]}},created:function(){this.knowledgeList=this.learnOuts.concat(this.selfOuts),n["info"]("knowledgeList ",this.knowledgeList),this.get21century(),this.initData()},watch:{},methods:{initData:function(){var e=this;Object(d["a"])(l["k"]).then((function(t){t.success&&(n["info"]("DICT_BLOOM_TAXONOMY",t.result),e.bloomLevel=t.result)}))},handleActiveDescription:function(e,t){var a=this.knowledgeList.findIndex((function(e){return e.knowledgeId===t.knowledgeId}));this.knowledgeList[a].tagType!==l["U"].knowledge&&this.knowledgeList[a].tagType!==l["U"].century||(this.knowledgeList[a].tagListVisible?this.knowledgeList[a].tagListVisible=!1:this.knowledgeList[a].tagListVisible=!0,this.$set(this.knowledgeList,a,this.knowledgeList[a]),n["info"]("tagListVisible ",this.knowledgeList[a].tagListVisible))},handleDeleteTag:function(e,t){var a=this.knowledgeList.findIndex((function(t){return t.knowledgeId===e.knowledgeId}));this.knowledgeList[a].tags.splice(this.knowledgeList[a].tags.indexOf(t),1)},handleDeleteKnowledgeItem:function(e){var t=this.knowledgeList.findIndex((function(t){return t.knowledgeId===e.knowledgeId})),a=this.knowledgeList[t];this.knowledgeList.splice(t,1),this.$emit("remove-learn-outs",a)},handleAddTag:function(e){n["info"]("handleAddTag ",e),e.tagType===l["U"].knowledge?(this.knowledge=e,this.addTagVisible=!0):e.tagType===l["U"].century&&(this.knowledge=e,this.centuryTagList=[],this.centuryTagList.push([]),this.centuryTagVisible=!0)},handleEnsureSelectData:function(){this.addTagVisible=!1},handleEnsureTags:function(e){var t=this;this.knowledge.tags=e;var a=this.knowledgeList.findIndex((function(e){return e.knowledgeId===t.knowledge.knowledgeId}));this.knowledgeList[a].tagListVisible=!0},handleEnsureCenturyTags:function(){var e=this;n["info"]("handleEnsureCenturyTags ",this.centuryTagList),0!==this.centuryTagList[0].length?(this.centuryTagList.forEach((function(t){e.knowledge.tags||(e.knowledge.tags=[]),-1===e.knowledge.tags.indexOf(t[t.length-1])&&e.knowledge.tags.push(t[t.length-1]),n["info"]("this.knowledge.tags ",e.knowledge.tags)})),this.centuryTagVisible=!1,this.knowledge.tagListVisible=!0):this.$message.error("Please select tags")},handleRemoveCenturyTag:function(e){n["info"]("handleRemoveCenturyTag ",e),this.centuryTagList.splice(e,1)},handleAddCenturyTag:function(){this.centuryTagList.push([])},treeForeach:function(e,t){var a=this;e.forEach((function(e){e.children&&a.treeForeach(e.children,t),t(e)}))},get21century:function(){var e=this;Object(c["getAll21Century"])({}).then((function(t){e.$logger.info("getAll21Century response",t),t.success&&(e.centuryList=t.result,e.treeForeach(e.centuryList,(function(t){0===t.children.length&&(t.title=e.$options.filters["gradeFormat"](t.gradeNames))})))})).finally((function(){e.subTreeLoading=!1}))},getknowledgeListType:function(e){return e===l["U"].skill?this.knowledgeList.filter((function(e){return e.tagType===l["U"].skill||e.tagType===l["U"].ibSkill||e.tagType===l["U"].idu})):e===l["U"].century?this.knowledgeList.filter((function(e){return e.tagType===l["U"].century||e.tagType===l["U"].common})):this.knowledgeList.filter((function(t){return t.tagType===e}))},getSubjectName:function(e){var t=this.$store.getters.allSubjects.find((function(t){return t.id===e}));return t?t.name:null}}},p=u,h=(a("66d8"),a("0c7c")),m=Object(h["a"])(p,i,s,!1,null,"306ae012",null);t["a"]=m.exports},"93ba":function(e,t,a){"use strict";a("d4fb")},"94d5":function(e,t,a){},9586:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-content-selector"},[a("my-content-created-by-me",{attrs:{"filter-type-list":e.filterTypeList,"selected-list":e.selectedList,mode:e.mode,"selected-type":e.selectedType,"current-id":e.currentId}})],1)},s=[],n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my-content"},[i("div",{staticClass:"filter-line"},[i("div",{staticClass:"status-tab"},["created-by-me"===e.selectedType?i("div",{staticClass:"toggle-mode-type-wrapper"},[i("div",{staticClass:"toggle-mode-type"},[i("div",{staticClass:"toggle-mode"},[i("div",{class:{"mode-item":!0,"skill-active-mode":"all-status"===e.currentStatus},on:{click:function(t){e.toggleStatus("all-status",e.$t("teacher.my-content.all-status"))}}},[e._v(" "+e._s(e.$t("teacher.my-content.all-status"))+" ")]),i("div",{class:{"mode-item":!0,"knowledge-active-mode":"published"===e.currentStatus},on:{click:function(t){e.toggleStatus("published",e.$t("teacher.my-content.published-status"))}}},[e._v(" "+e._s(e.$t("teacher.my-content.published-status"))+" ")]),i("div",{class:{"mode-item":!0,"general-active-mode":"draft"===e.currentStatus},on:{click:function(t){e.toggleStatus("draft",e.$t("teacher.my-content.draft-status"))}}},[e._v(" "+e._s(e.$t("teacher.my-content.draft-status"))+" ")])])])]):e._e()])]),i("div",{staticClass:"content-wrapper"},[i("a-skeleton",{attrs:{loading:e.skeletonLoading,active:""}},[i("div",{staticClass:"content-list"},["list"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("a-list-item",{key:"item.key",class:{"my-list-item":!0,"active-item":-1!==e.selectedList.indexOf(t.id)},on:{click:function(a){return e.handleToggleSelect(t,a)}}},[i("span",{staticClass:"content-info-left"},[i("content-type-icon",{attrs:{type:t.type}}),i("span",{staticClass:"name-content"},[i("span",{staticClass:"name-text",on:{click:function(a){return e.handleViewDetail(t,a)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")])])],1),i("span",{staticClass:"content-info-right"},[i("span",{staticClass:"update-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime||t.createTime))+" ")]),i("span",{staticClass:"status"},[0===t.status?[e._v("Draft")]:e._e(),1===t.status?[e._v("Published")]:e._e()],2),i("div",{staticClass:"action"},[e.mode===e.displayMode.Link?i("div",{attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link this content to my Unit?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleLinkItem(t,a)}}},[i("span",[i("a-icon",{attrs:{type:"form"}}),e._v(" Link ")],1)])],1)])]):e._e(),e.mode===e.displayMode.Refer?i("div",{attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item refer-item"},[i("a-button",{staticClass:"refer-btn",attrs:{type:"primary"},on:{click:function(a){return e.handleReferItem(t,a)}}},[i("img",{staticClass:"btn-icon btn-icon-white",attrs:{src:a("e568")}}),i("img",{staticClass:"btn-icon btn-icon-color",attrs:{src:a("83d7")}}),i("div",{staticClass:"btn-text"},[e._v(" Refer ")])])],1)])]):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.displayMode.Evaluation,expression:"mode === displayMode.Evaluation"}],attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleLinkItem(t,a)}}},[i("div",{staticClass:"link-item"},[i("img",{staticClass:"link-icon",attrs:{src:a("de1a")}}),e._v(" "+e._s("Link this evaluation to this "+(t.type===e.typeMap.task?"task":t.type===e.typeMap.lesson?"lesson":""))+" ")])])],1)])])])]),-1!==e.selectedList.indexOf(t.id)?i("div",{directives:[{name:"show",rawName:"v-show",value:"refer"!==e.mode,expression:"mode !== 'refer'"}],staticClass:"action-icon"},[i("img",{attrs:{src:a("7aa6")}})]):e._e()])}}],null,!1,2472396095)}):e._e(),"card"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("div",{key:"item.key",staticClass:"my-card-list-item"},[i("div",{staticClass:"ppt-preview-wrapper"},[i("div",{staticClass:"template-hover-action-mask"},[i("div",{staticClass:"template-hover-action"},[i("div",{staticClass:"modal-ensure-action-line"},[i("a-button",{staticClass:"action-ensure action-item",attrs:{shape:"round"},on:{click:function(a){return e.handlePreviewTemplate(t)}}},[i("a-icon",{attrs:{type:"eye",theme:"filled"}}),i("div",{staticClass:"btn-text"},[e._v(" Preview ")])],1),-1===e.selectedList.indexOf(t.id)?i("a-button",{staticClass:"action-ensure action-item",attrs:{shape:"round"},on:{click:function(a){return e.handleToggleSelect(t,a)}}},[i("a-icon",{attrs:{type:"plus-circle",theme:"filled"}}),i("div",{staticClass:"btn-text"},[e._v(" Add ")])],1):i("a-button",{staticClass:"action-ensure action-item",attrs:{shape:"round"},on:{click:function(a){return e.handleToggleSelect(t,a)}}},[i("a-icon",{attrs:{type:"minus-circle",theme:"filled"}}),i("div",{staticClass:"btn-text"},[e._v(" Remove ")])],1)],1)])]),i("div",{staticClass:"cover-img-wrapper"},[i("div",{staticClass:"cover-image",style:{backgroundImage:"url('"+t.image+"')"}})])]),i("div",{staticClass:"item-intro",on:{click:function(a){return e.handleViewDetail(t,a)}}},[i("div",{staticClass:"page-info"},[i("span",{staticClass:"page-num-tag"},[e._v(" 1/"+e._s(t.pageObjectIds.length)+" ")])]),i("div",{staticClass:"main-title"},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")]),i("div",{staticClass:"sub-title"},[e._v(" "+e._s(e._f("dayjs")(t.createTime))+" ")])]),i("div",{staticClass:"card-action-icon"},[-1!==e.selectedList.indexOf(t.id)?i("img",{attrs:{src:a("7aa6")}}):e._e()])])}}],null,!1,815843547)}):e._e()],1)]),i("a-drawer",{attrs:{destroyOnClose:"",placement:"right",width:"1000px",closable:!1,"z-index":4e3,visible:e.previewVisible},on:{close:e.handlePreviewClose}},[i("div",{staticClass:"preview-wrapper-row"},[i("div",{staticClass:"view-back"},[i("a-button",{staticClass:"preview-back-btn",attrs:{type:"primary",shape:"round"},on:{click:e.handlePreviewClose}},[i("a-icon",{style:{"font-size":"12px"},attrs:{type:"left"}}),e._v("Back")],1)],1),i("div",{staticClass:"detail-wrapper"},[e.previewCurrentId&&e.previewType?i("div",{staticClass:"preview-detail"},[i("common-preview-v2",{attrs:{id:e.previewCurrentId,type:e.previewType}})],1):e._e()])])]),i("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"1000px",zIndex:4e3,title:null},on:{ok:function(t){e.previewTemplateVisible=!1},cancel:function(t){e.previewTemplateVisible=!1}},model:{value:e.previewTemplateVisible,callback:function(t){e.previewTemplateVisible=t},expression:"previewTemplateVisible"}},[i("div",{staticClass:"link-content-wrapper"},[i("template-preview",{attrs:{template:e.previewTemplate,"selected-template-id-list":e.selectedList},on:{"handle-select":e.handleToggleSelect}})],1)])],1)])},r=[],o=(a("ac1f"),a("1276"),a("159b"),a("d3b7"),a("823b")),l=a("ea23"),c=a("7d7a"),d=a("9afb"),u=a("95c6"),p=a("3f76"),h=a("4803"),m=a("8f46"),g=a("4fb2"),f=a("57a5b"),v=a("adfc"),y=a("69b3"),b=a("3361"),w=a.n(b),C=a("9b5b"),k=a.n(C),T=a("e709"),A={name:"MyContentCreatedByMe",components:{CommonPreviewV2:v["a"],ContentStatusIcon:h["a"],ContentTypeIcon:m["a"],UnitPlanPreview:l["default"],MaterialPreview:c["default"],NoMoreResources:y["a"],PubuSvg:k.a,LiebiaoSvg:w.a,TemplatePreview:T["a"]},props:{filterTypeList:{type:Array,default:function(){return[]}},selectedList:{type:Array,default:function(){return[]}},mode:{type:String,default:f["a"].Link},selectedType:{type:String,default:"created-by-me"},currentId:{type:String,default:""}},data:function(){var e=this;return{skeletonLoading:!0,loading:!0,loadFailed:!1,myContentList:[],displayMode:f["a"],currentStatus:"all-status",currentStatusLabel:this.$t("teacher.my-content.all-status"),currentType:"",currentTypeLabel:this.$t("teacher.my-content.all-type"),currentOwner:"all-owner",currentOwnerLabel:this.$t("teacher.my-content.all-owner"),previewVisible:!1,previewCurrentId:"",previewType:"",pagination:{onChange:function(t){o["info"]("pagination onChange",t),e.pageNo=t,e.loadMyContent()},showTotal:function(e){return"Total ".concat(e," items")},total:0,pageSize:100},pageNo:1,typeMap:p["e"],dataListMode:"card",previewTemplate:{},previewTemplateVisible:!1}},watch:{selectedType:function(e){this.$logger.info("watch select type "+e),this.pageNo=1,this.myContentList=[],this.pagination.total=0,this.pagination.pageSize=100,this.loadMyContent()}},computed:{countPptSize:function(){return function(e){return e?e.split(",").length:0}}},created:function(){o["info"]("teacher my content filter type ",this.filterTypeList),this.loadMyContent()},mounted:function(){},methods:{loadMyContent:function(){this.loading=!0,"created-by-me"===this.selectedType?this.getMyContent():"my-favorite"===this.selectedType?this.getMyFavorites():"shared"===this.selectedType&&(this.loading=!1,this.skeletonLoading=!1,this.$logger.info("shared coming soon!"))},handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},getMyContent:function(){var e=this,t=[];this.filterTypeList.forEach((function(e){t.push(p["e"][e])})),Object(d["FindMyContent"])({owner:p["c"][this.currentOwner],status:p["d"][this.currentStatus],types:this.currentType?[p["e"][this.currentType]]:t,pageNo:this.pageNo,pageSize:this.pagination.pageSize,currentId:this.currentId,slideStatus:1}).then((function(t){o["info"]("getMyContent",t),t.result&&t.result.records&&t.result.records.length?(t.result.records.forEach((function(e,t){e.key=t})),e.myContentList=t.result.records,e.pagination.total=t.result.total):(e.myContentList=[],e.pagination.total=0),o["info"]("myContentList",e.myContentList)})).finally((function(){e.loading=!1,e.skeletonLoading=!1}))},getMyFavorites:function(){var e=this;this.$logger.info("getMyFavorites"),Object(u["FavoritesGetMyFavorites"])({type:p["e"][this.currentType],pageNo:this.pageNo,pageSize:this.pagination.pageSize}).then((function(t){e.$logger.info("FavoritesGetMyFavorites response",t),t.result&&t.result.records&&t.result.records.length?(t.result.records.forEach((function(e,t){e.key=t})),e.myContentList=t.result.records,e.pagination.total=t.result.total,e.pagination.current=t.result.current):(e.myContentList=[],e.pagination.total=0)})).finally((function(){e.loading=!1,e.skeletonLoading=!1}))},toggleStatus:function(e,t){o["info"]("toggleStatus "+e+" label "+t),this.currentStatus=e,this.currentStatusLabel=t,this.loadMyContent()},toggleType:function(e,t){o["info"]("toggleType "+e+" label "+t),this.currentType=e,this.currentTypeLabel=t,this.loadMyContent()},toggleOwner:function(e,t){o["info"]("toggleOwner "+e+" label "+t),this.currentOwner=e,this.currentOwnerLabel=t,this.loadMyContent()},handleLinkItem:function(e,t){o["info"]("handleLinkItem",e),t.preventDefault(),t.stopPropagation(),g["b"].$emit(g["a"].LinkToMyContentItem,{item:e})},handleViewDetail:function(e,t){o["info"]("my content created by me handleViewDetail",e,t),t.preventDefault(),t.stopPropagation(),this.previewCurrentId=e.id,this.previewType=e.type,this.previewVisible=!0},handleToggleSelect:function(e,t){o["info"]("handleToggleSelect",e,t),g["b"].$emit(g["a"].ToggleSelectContentItem,e,t),this.previewTemplateVisible=!1},handlePreviewClose:function(){o["info"]("handlePreviewClose"),this.previewCurrentId="",this.previewType="",this.previewVisible=!1},handleReferItem:function(e,t){o["info"]("handleReferItem",e),t.preventDefault(),t.stopPropagation(),g["b"].$emit(g["a"].ReferContentItem,{item:e})},handlePreviewTemplate:function(e){this.$logger.info("handlePreviewTemplate ",e),this.previewTemplateVisible=!0,this.previewTemplate=e}}},L=A,I=(a("72b3"),a("0c7c")),S=Object(I["a"])(L,n,r,!1,null,"4b50f0f9",null),x=S.exports,M={name:"MyContentSelector",components:{MyContentCreatedByMe:x},props:{filterTypeList:{type:Array,default:function(){return[]}},selectedList:{type:Array,default:function(){return[]}},mode:{type:String,default:f["a"].Link},currentId:{type:String,default:""}},data:function(){return{displayMode:f["a"],selectedType:"created-by-me"}},computed:{},created:function(){this.$logger.info("MyContentSelector selectedType "+this.selectedType+", mode:"+this.mode+", filterType ",this.filterTypeList)},mounted:function(){},methods:{handleToggleType:function(e){this.$logger.info("handleToggleType "+e),this.selectedType=e}}},E=M,_=(a("27aa"),Object(I["a"])(E,i,s,!1,null,"1ed7a2f5",null));t["a"]=_.exports},"95c6":function(e,t,a){"use strict";a.r(t),a.d(t,"favoritesAPIUrl",(function(){return s})),a.d(t,"FavoritesAdd",(function(){return n})),a.d(t,"FavoritesQueryById",(function(){return r})),a.d(t,"FavoritesDelete",(function(){return o})),a.d(t,"FavoritesDeleteBatch",(function(){return l})),a.d(t,"FavoritesList",(function(){return c})),a.d(t,"FavoritesGetMyFavorites",(function(){return d}));var i=a("b775"),s={FavoritesAdd:"/classcipe/api/favorites/add",FavoritesQueryById:"/classcipe/api/favorites/queryById",FavoritesDelete:"/classcipe/api/favorites/delete",FavoritesDeleteBatch:"/classcipe/api/favorites/deleteBatch",FavoritesList:"/classcipe/api/favorites/list",FavoritesGetMyFavorites:"/classcipe/api/favorites/getMyFavorites"};function n(e){return Object(i["d"])({url:s.FavoritesAdd,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i["d"])({url:s.FavoritesQueryById,method:"get",params:e})}function o(e){return Object(i["d"])({url:s.FavoritesDelete,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(i["d"])({url:s.FavoritesDeleteBatch,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(i["d"])({url:s.FavoritesList,method:"get",params:e})}function d(e){return Object(i["d"])({url:s.FavoritesGetMyFavorites,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},"972f":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"evaluation-preview"},[e.loading?[a("a-skeleton",{attrs:{active:""}})]:[a("a-row",{staticClass:"top-info",attrs:{gutter:[16,24]}},[a("a-col",{attrs:{span:"24"}},e._l(e.forms,(function(t,i){return a("div",{key:i,class:{"form-item":!0,"form-item-active":!0}},[a("evaluation-table",{ref:"evaluationTable",refInFor:!0,attrs:{"form-id":t.formId,"init-raw-headers":t.initRawHeaders,"init-raw-data":t.initRawData,"form-type":t.formType,mode:e.EvaluationTableMode.Preview}})],1)})),0)],1)]],2)},s=[],n=(a("d3b7"),a("159b"),a("823b")),r=a("8f46"),o=a("c0f4"),l=a("9f06"),c=a("ca00"),d=a("9586"),u=a("0fa0"),p=a("1138"),h=a("90e8"),m={name:"EvaluationTablePreview",components:{EvaluationTable:p["a"],ContentTypeIcon:r["a"],InputSearch:o["a"],MyContentSelector:d["a"],RelevantTagSelector:u["a"]},props:{evaluationId:{type:String,default:null}},data:function(){return{loading:!0,forms:[],evaluationTableList:[],initRawHeaders:[],initRawData:[],selfType:!1,EvaluationTableMode:h["a"]}},computed:{lastChangeSavedTime:function(){var e=this.form.updateTime||this.form.createTime;return e?Object(c["formatLocalUTC"])(this.form.updateTime||this.form.createTime):""}},created:function(){n["info"]("EvaluationTablePreview created "+this.evaluationId),this.initData()},methods:{initData:function(){var e=this;n["info"]("initData doing..."),Object(l["EvaluationQueryByIds"])({ids:[this.evaluationId]}).then((function(t){e.$logger.info("handleToggleSelect EvaluationQueryByIds "+e.evaluationId,t);var a=[];t.result.forEach((function(e){e.forms.forEach((function(e){a.push({title:e.title,titleEditing:!1,formType:e.formType,se:e.se,pe:e.pe,menuVisible:!1,id:e.id,formId:e.formId,initRawHeaders:JSON.parse(e.initRawHeaders),initRawData:JSON.parse(e.initRawData)})}))})),e.forms=a,0===e.forms.length&&e.$message.warn("The current assessment tool form has not been created")})).finally((function(){e.loading=!1}))}}},g=m,f=(a("4198"),a("0c7c")),v=Object(f["a"])(g,i,s,!1,null,"e834b3c0",null);t["a"]=v.exports},"973f":function(e,t,a){},9774:function(e,t,a){"use strict";a("a730")},"97e7":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"score-number"},[i("div",{staticClass:"score-number-label"},e._l(e.numberLetters,(function(t,s){return i("div",{key:s,staticClass:"score-number-item"},["0"===t?i("img",{style:{width:e.size+"px"},attrs:{src:a("4bd5"),alt:t}}):e._e(),"1"===t?i("img",{style:{width:e.size+"px"},attrs:{src:a("53a3"),alt:t}}):e._e(),"2"===t?i("img",{style:{width:e.size+"px"},attrs:{src:a("03fe"),alt:t}}):e._e(),"3"===t?i("img",{style:{width:e.size+"px"},attrs:{src:a("bec2"),alt:t}}):e._e(),"4"===t?i("img",{style:{width:e.size+"px"},attrs:{src:a("e062"),alt:t}}):e._e(),"5"===t?i("img",{style:{width:e.size+"px"},attrs:{src:a("7ee9"),alt:t}}):e._e(),"6"===t?i("img",{style:{width:e.size+"px"},attrs:{src:a("462b"),alt:t}}):e._e(),"7"===t?i("img",{style:{width:e.size+"px"},attrs:{src:a("cbe2"),alt:t}}):e._e(),"8"===t?i("img",{style:{width:e.size+"px"},attrs:{src:a("edce"),alt:t}}):e._e(),"9"===t?i("img",{style:{width:e.size+"px"},attrs:{src:a("cf3a"),alt:t}}):e._e()])})),0),i("div",{staticClass:"number-underline"},[i("img",{style:{width:1.5*e.size+"px"},attrs:{src:a("80a9"),alt:""}}),i("img",{style:{width:1.5*e.size+"px"},attrs:{src:a("a8b4"),alt:""}})])])},s=[],n=(a("a9e3"),a("ac1f"),a("1276"),a("d3b7"),a("25f0"),{name:"ScoreNumber",props:{score:{type:Number,default:0},size:{type:Number,default:40}},data:function(){return{numberLetters:[]}},created:function(){var e=this.score.toString().split("");e.length?this.numberLetters=e:this.numberLetters=["0"]},watch:{score:function(e){var t=e.toString().split("");t.length?this.numberLetters=t:this.numberLetters=["0"]}}}),r=n,o=(a("4bc1"),a("0c7c")),l=Object(o["a"])(r,i,s,!1,null,"613e9fe3",null);t["a"]=l.exports},"980a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return o}));var i=a("b775"),s={PDContentAddOrUpdate:"/classcipe/api/v2/pd/addOrUpdate",PDContentQueryById:"/classcipe/api/v2/pd/queryById",PDContentDelete:"/classcipe/api/v2/pd/delete",PDContentDeleteBatch:"/classcipe/api/v2/pd/deleteBatch",PDContentList:"/classcipe/api/v2/pd/list"};function n(e){return Object(i["d"])({url:s.PDContentAddOrUpdate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i["d"])({url:s.PDContentQueryById,method:"get",params:e})}function o(e){return Object(i["d"])({url:s.PDContentDelete+"?id="+e.id,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},"9a45":function(e,t,a){},"9a48":function(e,t,a){},"9ad4":function(e,t,a){},"9b26":function(e,t,a){},"9b5b":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"27.223",height:"28",viewBox:"0 0 27.223 28"},children:[{tag:"defs"},{tag:"path",attrsMap:{id:"pubu_","data-name":"pubu ",class:"cls-1",d:"M17422.268,9413v-7.046h6.957V9413Zm-9.953,0v-7.046h7.268V9413Zm-10.312,0v-7.046h6.953V9413Zm20.266-10.41v-7.231h6.957v7.231Zm-9.953,0v-7.231h7.268v7.231Zm-10.312,0v-7.231h6.953v7.231Zm20.266-10.638V9385h6.957v6.952Zm-9.953,0V9385h7.268v6.952Zm-10.312,0V9385h6.953v6.952Z",transform:"translate(-17402.002 -9385.001)"}}]})}},"9bb4":function(e,t,a){},"9bc1":function(e,t,a){"use strict";a("9bb4")},"9c2c":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19"},children:[{tag:"g",attrsMap:{transform:"translate(-771.25 -365.25)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#15c39a;stroke:#15c39a;",d:"M9,0A9,9,0,1,1,0,9,9,9,0,0,1,9,0Z",transform:"translate(771.75 365.75)"}},{tag:"path",attrsMap:{class:"b",style:"fill:#fff;stroke:#fff;stroke-width:0.5px;",d:"M24.47,24.8V21.78h3.016a.5.5,0,0,0,0-1.005H24.47V17.759a.5.5,0,0,0-1.005,0v3.016H20.449a.5.5,0,0,0,0,1.005h3.016V24.8a.5.5,0,0,0,1.005.044q0-.022,0-.044Z",transform:"translate(756.784 353.451)"}}]}]})}},"9e80":function(e,t,a){e.exports=a.p+"img/friend.1e9e3845.png"},"9ee6":function(e,t,a){"use strict";a("9a45")},"9f06":function(e,t,a){"use strict";a.r(t),a.d(t,"evaluationAPIUrl",(function(){return o})),a.d(t,"EvaluationAddOrUpdate",(function(){return l})),a.d(t,"EvaluationQueryById",(function(){return c})),a.d(t,"EvaluationQueryByIds",(function(){return d})),a.d(t,"EvaluationDelete",(function(){return u})),a.d(t,"FindMyClasses",(function(){return p})),a.d(t,"GetSessionEvaluationByClassId",(function(){return h})),a.d(t,"SaveSessionEvaluation",(function(){return m})),a.d(t,"QuerySessionEvaluation",(function(){return g})),a.d(t,"QuerySessionEvidence",(function(){return f})),a.d(t,"SaveSessionEvidence",(function(){return v})),a.d(t,"QuerySessionTakeaway",(function(){return y})),a.d(t,"SaveSessionTakeaway",(function(){return b})),a.d(t,"GetEvaluationFormSet",(function(){return w})),a.d(t,"SaveEvaluationFormSet",(function(){return C})),a.d(t,"GetEvaluationMode",(function(){return k})),a.d(t,"SaveEvaluationMode",(function(){return T}));var i=a("b775"),s=a("8ded"),n=a.n(s),r=a("9fb0"),o={addOrUpdate:"/classcipe/api/evaluation/addOrUpdate",delete:"/classcipe/api/evaluation/delete",deleteBatch:"/classcipe/api/evaluation/deleteBatch",list:"/classcipe/api/evaluation/list",queryById:"/classcipe/api/evaluation/queryById",queryByIds:"/classcipe/api/evaluation/queryByIds",findMyClasses:"/classcipe/api/evaluation/findMyClasses",GetSessionEvaluationByClassId:"/classcipe/api/evaluation/getSessionEvaluationByClassId",querySessionEvaluation:"/classcipe/api/evaluation/querySessionEvaluation",saveSessionEvaluation:"/classcipe/api/evaluation/saveSessionEvaluation",querySessionEvidence:"/classcipe/api/evaluation/querySessionEvidence",saveSessionEvidence:"/classcipe/api/evaluation/saveSessionEvidence",getEvaluationFormSet:"/classcipe/api/evaluation/getEvaluationFormSet",saveEvaluationFormSet:"/classcipe/api/evaluation/saveEvaluationFormSet",getEvaluationMode:"/classcipe/api/evaluation/getEvaluationMode",saveEvaluationMode:"/classcipe/api/evaluation/saveEvaluationMode",saveSessionTakeaway:"/classcipe/api/evaluation/saveSessionTakeaway",querySessionTakeaway:"/classcipe/api/evaluation/querySessionTakeaway"};function l(e){return Object(i["d"])({url:o.addOrUpdate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(i["d"])({url:o.queryById,method:"get",params:e})}function d(e){return Object(i["d"])({url:o.queryByIds,method:"post",data:e})}function u(e){return Object(i["d"])({url:o.delete+"?id="+e.id,method:"post",data:e})}function p(e){var t=n.a.get(r["a"]);return e["token"]=t,Object(i["d"])({url:o.findMyClasses,method:"post",data:e})}function h(e){return Object(i["d"])({url:o.GetSessionEvaluationByClassId,method:"get",params:e})}function m(e){return Object(i["d"])({url:o.saveSessionEvaluation,method:"post",data:e})}function g(e){return Object(i["d"])({url:o.querySessionEvaluation,method:"post",data:e})}function f(e){return Object(i["d"])({url:o.querySessionEvidence,method:"post",data:e})}function v(e){return Object(i["d"])({url:o.saveSessionEvidence,method:"post",data:e})}function y(e){return Object(i["d"])({url:o.querySessionTakeaway,method:"post",data:e})}function b(e){return Object(i["d"])({url:o.saveSessionTakeaway,method:"post",data:e})}function w(e){return Object(i["d"])({url:o.getEvaluationFormSet,method:"post",data:e})}function C(e){return Object(i["d"])({url:o.saveEvaluationFormSet,method:"post",data:e})}function k(e){return Object(i["d"])({url:o.getEvaluationMode,method:"post",data:e})}function T(e){return Object(i["d"])({url:o.saveEvaluationMode,method:"post",data:e})}},a1e2:function(e,t,a){},a283:function(e,t,a){},a615f:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"31.442",height:"40",viewBox:"0 0 31.442 40"},children:[{tag:"g",attrsMap:{transform:"translate(-179.2 -99.38)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#6bc04a;",d:"M311.741,121.054h-8.855a3.363,3.363,0,0,1-3.334-3.372l-2.351-14.93a3.363,3.363,0,0,1,3.334-3.372h13.558a3.363,3.363,0,0,1,3.334,3.372l-2.351,14.93A3.363,3.363,0,0,1,311.741,121.054Z",transform:"translate(-112.388)"}},{tag:"path",attrsMap:{class:"b",style:"fill:#85d663;opacity:0.3;",d:"M309.8,99.48h-9.432A3.382,3.382,0,0,0,297,102.852l2.378,14.93a3.382,3.382,0,0,0,3.372,3.372S320.211,104.4,309.8,99.48Z",transform:"translate(-112.28 -0.095)"}},{tag:"path",attrsMap:{class:"c",style:"fill:#99dd7a;opacity:0.3;",d:"M305.523,99.48h-5.151A3.382,3.382,0,0,0,297,102.852l1.493,9.318S310.432,104.916,305.523,99.48Z",transform:"translate(-112.256 -0.095)"}},{tag:"path",attrsMap:{class:"d",style:"fill:#ffd629;",d:"M193.655,253.831l-12.8-7.107A2.924,2.924,0,0,1,179.4,244.2V229.982a2.924,2.924,0,0,1,1.459-2.528l12.8-7.107a2.916,2.916,0,0,1,2.923,0l12.8,7.107a2.924,2.924,0,0,1,1.459,2.528V244.2a2.924,2.924,0,0,1-1.459,2.528l-12.8,7.107A2.939,2.939,0,0,1,193.655,253.831Z",transform:"translate(-0.19 -114.84)"}},{tag:"path",attrsMap:{class:"e",style:"fill:#ff9a2c;opacity:0.2;",d:"M210.637,639.48v4.461a2.948,2.948,0,0,1-1.464,2.549l-12.8,7.168a2.9,2.9,0,0,1-2.923,0l-12.8-7.168a2.944,2.944,0,0,1-1.459-2.549v-4.257s1.01-.452,2.493,2.421c1.147,2.226,7.134,4.685,9.632,6.5a5.258,5.258,0,0,0,3.6,1.389,12.643,12.643,0,0,0,2.484-.576c2.233-.79,9.066-5.222,10.1-6.7C208.715,641,209.258,639.48,210.637,639.48Z",transform:"translate(0 -514.704)"}},{tag:"path",attrsMap:{class:"f",style:"fill:#f9f2d7;opacity:0.2;",d:"M234.729,224.149l-9.738-5.4a2.886,2.886,0,0,0-2.918,0L209.3,225.919s-.113,4.2,10.422,5.712,2.72.395,2.72.395S232.806,231.365,234.729,224.149Z",transform:"translate(-28.667 -113.316)"}},{tag:"path",attrsMap:{class:"g",style:"fill:#6bc04a;opacity:0.25;",d:"M375.76,446.593l.9,1.817a1.593,1.593,0,0,0,1.2.87l2.007.29a1.592,1.592,0,0,1,.88,2.716l-1.451,1.417a1.585,1.585,0,0,0-.457,1.408l.342,2a1.594,1.594,0,0,1-2.312,1.679l-1.793-.942a1.594,1.594,0,0,0-1.479,0l-1.793.942a1.593,1.593,0,0,1-2.312-1.679l.342-2a1.581,1.581,0,0,0-.457-1.408l-1.451-1.417a1.592,1.592,0,0,1,.885-2.716l2.007-.29a1.593,1.593,0,0,0,1.2-.87l.9-1.817a1.583,1.583,0,0,1,2.844,0Z",transform:"translate(-179.405 -330.031)"}},{tag:"path",attrsMap:{class:"h",style:"fill:#ea803f;",d:"M389.277,459.237l1.17,2.369a.953.953,0,0,0,.723.523l2.611.38a.955.955,0,0,1,.528,1.631l-1.893,1.845a.965.965,0,0,0-.276.847l.447,2.6a.957.957,0,0,1-1.389,1.008l-2.34-1.227a.95.95,0,0,0-.889,0l-2.335,1.227a.957.957,0,0,1-1.389-1.008l.447-2.6a.952.952,0,0,0-.276-.847l-1.893-1.845a.958.958,0,0,1,.533-1.631l2.611-.38a.972.972,0,0,0,.723-.523l1.17-2.369A.959.959,0,0,1,389.277,459.237Z",transform:"translate(-193.493 -342.41)"}}]}]})}},a6bd:function(e,t,a){e.exports=a.p+"img/default_avatar.47541fcf.png"},a730:function(e,t,a){},a8b4:function(e,t,a){e.exports=a.p+"img/button_line_2.04084462.png"},a903:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40"},children:[{tag:"g",attrsMap:{id:"组_3098","data-name":"组 3098",transform:"translate(-1148 -81)"},children:[{tag:"g",attrsMap:{id:"组_2452","data-name":"组 2452",transform:"translate(1046.967 -34.555)"},children:[{tag:"path",attrsMap:{id:"路径_1323","data-name":"路径 1323",d:"M257.987,432.507h0a2.427,2.427,0,1,0,4.855,0h0a2.427,2.427,0,1,0-4.855,0Z",transform:"translate(-148.775 -298.588)",fill:"#15c39a"}},{tag:"path",attrsMap:{id:"路径_1324","data-name":"路径 1324",d:"M459.935,432.507h0a2.427,2.427,0,1,0,4.855,0h0a2.427,2.427,0,1,0-4.855,0Z",transform:"translate(-341.129 -298.588)",fill:"#15c39a"}},{tag:"path",attrsMap:{id:"路径_1325","data-name":"路径 1325",d:"M661.883,432.507a2.427,2.427,0,1,0,2.427-2.427A2.427,2.427,0,0,0,661.883,432.507Z",transform:"translate(-533.483 -298.588)",fill:"#15c39a"}},{tag:"path",attrsMap:{id:"路径_1326","data-name":"路径 1326",d:"M139.309,127.116a17.325,17.325,0,0,0-4.226-5.506,21.375,21.375,0,0,0-27.5,0,17.263,17.263,0,0,0-4.226,5.506,15.57,15.57,0,0,0-1.562,6.8,15.845,15.845,0,0,0,2.179,7.962,18.117,18.117,0,0,0,5.126,5.552v5.737a1.388,1.388,0,0,0,.692,1.2,1.389,1.389,0,0,0,1.384,0l6.071-3.506a22.012,22.012,0,0,0,4.088.381,20.768,20.768,0,0,0,13.751-5.01,17.262,17.262,0,0,0,4.226-5.506,15.605,15.605,0,0,0,0-13.613Zm-17.977,21.362a19.272,19.272,0,0,1-4.036-.427,1.383,1.383,0,0,0-.98.156l-4.451,2.571v-4.071a1.4,1.4,0,0,0-.623-1.159,13.915,13.915,0,0,1-6.688-11.629c0-8.026,7.524-14.552,16.778-14.552s16.778,6.527,16.778,14.552-7.53,14.558-16.778,14.558Z",transform:"translate(0 0)",fill:"#15c39a"}}]},{tag:"rect",attrsMap:{id:"矩形_1460","data-name":"矩形 1460",width:"40",height:"40",transform:"translate(1148 81)",fill:"none"}}]}]})}},a9f3:function(e,t,a){"use strict";a("7340")},ab4d:function(e,t,a){"use strict";a("72df")},abb8:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("label",{staticStyle:{"margin-right":"10px"},attrs:{for:""}},[e._v("Overall")]),"student"===e.currentRole?a("a-rate",{attrs:{"allow-half":"",disabled:""},model:{value:e.data.reviewsScore,callback:function(t){e.$set(e.data,"reviewsScore",t)},expression:"data.reviewsScore"}}):e._e(),"teacher"===e.currentRole?a("a-popover",{attrs:{placement:e.placement},on:{visibleChange:e.debouncedGetData}},[a("template",{slot:"content"},[a("a-spin",{attrs:{spinning:e.loading}},[a("a-space",{attrs:{direction:"vertical"}},[a("a-space",{attrs:{align:"center"}},[a("label",[e._v("Students engagement")]),a("a-rate",{staticStyle:{margin:"0"},attrs:{tooltips:e.RATE_TOOLTIPS.ENGAGEMENT,"allow-half":"",disabled:""},model:{value:e.data.studentsEngagement,callback:function(t){e.$set(e.data,"studentsEngagement",t)},expression:"data.studentsEngagement"}})],1),a("a-space",{attrs:{align:"center"}},[a("label",[e._v("Effectiveness of teaching & learning")]),a("a-rate",{staticStyle:{margin:"0"},attrs:{tooltips:e.RATE_TOOLTIPS.EFFETIVENESS,"allow-half":"",disabled:""},model:{value:e.data.effectiveness,callback:function(t){e.$set(e.data,"effectiveness",t)},expression:"data.effectiveness"}})],1),a("a-space",{attrs:{align:"center"}},[a("label",[e._v("Quality of the content")]),a("a-rate",{staticStyle:{margin:"0"},attrs:{tooltips:e.RATE_TOOLTIPS.QUALITY,"allow-half":"",disabled:""},model:{value:e.data.quality,callback:function(t){e.$set(e.data,"quality",t)},expression:"data.quality"}})],1)],1)],1)],1),a("a-rate",{attrs:{tooltips:e.RATE_TOOLTIPS.OVERALL,"allow-half":"",disabled:""},model:{value:e.data.overall,callback:function(t){e.$set(e.data,"overall",t)},expression:"data.overall"}}),a("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"down"}})],2):e._e()],1)},s=[],n=a("5530"),r=(a("d3b7"),a("f93e")),o=a("c2e5"),l=a("6b36"),c=a("2f62"),d=a("4fcf"),u=d.debounce,p={name:"ReviewScore",props:{review:{type:Object,default:function(){}},placement:{type:String,default:"bottom"},id:{type:String,default:null}},watch:{review:{handler:function(e){this.data=e?Object(n["a"])({},e):{}},immediate:!0},id:{handler:function(e){e&&(this.reviewId=e)},immediate:!0}},computed:Object(n["a"])({},Object(c["e"])({currentRole:function(e){return e.user.currentRole}})),created:function(){this.debouncedGetData=u(this.getReview,300)},beforeDestroy:function(){this.timer&&clearTimeout(this.timer)},data:function(){return{RATE_TOOLTIPS:r["y"],data:{},reviewId:this.id,hasRender:!1,timer:null,loading:!1}},methods:{getReview:function(e){var t=this;if(this.reviewId&&e&&!this.hasRender){var a=null;a="student"===this.currentRole?l["ReviewsTaskStats"]:o["ReviewsTeacherStats"],this.loading=!0,a&&a({taskId:this.reviewId,purchasesId:this.reviewId}).then((function(e){e.success&&(t.data=e.result,t.hasRender=!0,t.timer=setTimeout((function(){t.hasRender=!1}),6e4))})).finally((function(){t.loading=!1}))}}}},h=p,m=a("0c7c"),g=Object(m["a"])(h,i,s,!1,null,"6e24629c",null);t["a"]=g.exports},ac3e:function(e,t,a){},acba:function(e,t,a){"use strict";a("7715")},adfc:function(e,t,a){"use strict";var i=function(){var e=this,t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"my-common-preview"},[t.loading?[s("a-skeleton",{attrs:{active:""}})]:[s("div",{staticClass:"main-content-preview",class:{"has-extra-info":-1!==[t.typeMap.task,t.typeMap["unit-plan"]].indexOf(t.type)}},[s("div",{staticClass:"top-header"},[s("div",{staticClass:"title-line"},[s("div",{staticClass:"name"},[t._v(" "+t._s(t.data.name)+" ")]),s("div",{staticClass:"action-item"},[s("div",{staticClass:"star"},[t.data.createBy!==t.$store.getters.userInfo.email?[t.data.isFavorite?t._e():s("img",{attrs:{src:a("58e7")},on:{click:function(e){return t.handleFavorite(t.data)}}}),t.data.isFavorite?s("img",{attrs:{src:a("24e3")},on:{click:function(e){return t.handleFavorite(t.data)}}}):t._e()]:t._e()],2),this.isOwner||this.isCollaborater?s("div",{staticClass:"edit"},[s("a-button",{attrs:{type:"primary",shape:"round"},on:{click:function(e){return t.handleEditItem(t.data)}}},[s("div",{staticClass:"button-content"},[t._v(" Edit "),s("img",{staticClass:"edit-icon",attrs:{src:a("11aa")}})])])],1):s("div",{staticClass:"edit"},[t.myContentId?s("a-button",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:function(e){return t.handleEditItem({id:t.myContentId})}}},[s("div",{staticClass:"button-content"},[t._v(" Edit in my content "),s("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"edit"}})],1)]):s("a-button",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:t.handleDuplicateItem}},[s("div",{staticClass:"button-content"},[t._v(" Copy "),s("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"copy"}})],1)]),t.data.type===t.typeMap.task?s("a-button",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:t.handleStartTask}},[s("div",{staticClass:"button-content"},[t._v(" Start "+t._s(t.data.buyed?"Session":"")),s("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"play-circle"}})],1)]):t._e()],1)])])]),s("a-row",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"author-info"},[s("a-col",{staticClass:"avatar-icon",attrs:{span:"3"}},[s("img",{attrs:{src:t.collaborate.owner&&t.collaborate.owner.avatar}})]),s("a-col",{attrs:{span:"21"}},[s("div",{staticClass:"sub-info"},[s("div",{staticClass:"created-by"},[t._v(" "+t._s(t.data.createBy)+" ")]),s("div",{staticClass:"created-time"},[t.lastChangeSavedTime?[t._v(" "+t._s(t.lastChangeSavedTime)+" ")]:t._e()],2)]),s("div",{staticClass:"star-info"},[s("review-score",{attrs:{review:t.reviewsStats,placement:"bottom"}}),s("a-button",{attrs:{type:"link"}},[t._v(t._s(t._f("percentFormat")(t.reviewsStats.overall))+" ("+t._s(t.reviewsStats.reviewsCount)+" reviews)")])],1)])],1),s("a-space",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"author-info"},[s("div",{staticClass:"avatar-icon"},[s("img",{attrs:{src:t.collaborate.owner&&t.collaborate.owner.avatar}})]),s("div",[s("div",{staticClass:"sub-info"},[s("div",{staticClass:"created-by"},[t._v(" "+t._s(t.collaborate.owner&&t.collaborate.owner.nickname)+" ")]),s("div",{staticClass:"created-time"},[t.lastChangeSavedTime?[t._v(" "+t._s(t.lastChangeSavedTime)+" ")]:t._e()],2)]),s("div",{staticClass:"star-info",on:{click:function(){return e.viewMode="Reviews"}}},[s("a-tooltip",{attrs:{placement:"right"}},[s("template",{slot:"title"},[t._v(" "+t._s(t.reviewsStats.reviewsScoreStatDetail&&t.reviewsStats.reviewsScoreStatDetail[4]&&t.reviewsStats.reviewsScoreStatDetail[4].reviewsScoreCount)+" people gave a score of 5 stars ")]),s("a-rate",{attrs:{value:t.reviewsStats.avgReviewsScore,"allow-half":"",disabled:""}})],2)],1)])]),s("a-row",{staticClass:"data-info"},[s("a-col",{staticClass:"right-detail",attrs:{span:"24"}},[s("div",{staticClass:"sub-detail"},[s("div",{staticClass:"detail-block"},[s("div",{staticClass:"block-main-label"},[t.data.type===t.typeMap.task?[t._v("Task details")]:[t._v("Overview")]],2),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"view-text"},[t._v(" "+t._s(t.data.overview)+" ")])]),t.data.type===t.typeMap.task&&t.data.questionNames.length>0?[s("div",{staticClass:"block-main-label"},[t._v(" Key question(s)/Line(s) of Inquiry ")]),s("div",{staticClass:"detail-block",staticStyle:{margin:"10px"}},[s("div",{staticClass:"keyword-block-content"},[s("div",{staticClass:"content-list"},t._l(t.data.questionNames,(function(e,a){return s("div",{key:a,staticClass:"content-item"},[e?s("div",{staticClass:"question"},[t._v(" "+t._s(e)+" ")]):t._e()])})),0)])])]:t._e(),s("div",{staticClass:"block-main-label"},[t._v(" Customized tags ")]),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"custom-tags"},t._l(t.data.customTags,(function(e,a){return s("div",{key:"tagIndex"+a,staticClass:"tag-item"},[s("a-tooltip",{attrs:{title:e.parentName}},[s("a-tag",{staticClass:"tag"},[t._v(" "+t._s(e.name)+" ")])],1)],1)})),0)]),s("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"block-main-label"},[t._v(" This task contains interactive questions of ")]),s("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"overview-block"},[s("div",{staticClass:"custom-tags"},t._l(t.inActiveTypes,(function(e,a){return s("div",{key:"interActiveIndex"+a,staticClass:"tag-item"},[s("a-tooltip",{attrs:{title:e}},[s("a-tag",{staticClass:"tag",attrs:{color:t.tagColorList[a]}},[t._v(" "+t._s(e)+" ")])],1)],1)})),0)]),s("div",{staticClass:"block-main-label"},[t._v(" Learning Objectives ")]),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"learn-question-tag"},[s("div",{staticClass:"learn-out",staticStyle:{margin:"10px"}},[s("ui-learn-out-sub",{attrs:{"learn-outs":t.data.learnOuts,"self-outs":t.data.selfOuts,"class-info-list":t.itemsList}})],1)])]),t.data.inquiry?[s("div",{staticClass:"block-main-label"},[t._v(" Big idea ")]),s("div",{staticClass:"inquiry-block-content"},[s("div",{staticClass:"inquiry"},[t._v(" "+t._s(t.data.inquiry)+" ")])])]:t._e(),t.data.materialList&&t.data.materialList.length?[s("div",{staticClass:"block-main-label"},[t._v(" Material list ")]),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"material-list"},t._l(t.data.materialList,(function(e,a){return s("div",{key:a,staticClass:"material-item"},[s("div",{staticClass:"material-name"},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"material-link",on:{click:function(a){return t.handleOpenLink(e.link)}}},[t._v(" "+t._s(e.link)+" ")])])})),0)])]:t._e(),t.data.rwc?[s("div",{staticClass:"block-main-label"},[t._v(" Real World Connection(s) ")]),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"view-text"},[t._v(" "+t._s(t.data.rwc)+" ")])])]:t._e()],2)])])],1),s("a-row",{staticClass:"preview-data-info"},[s("a-col",{staticClass:"slide-preview",attrs:{span:"24"}},[t.data.scenarios||t.data.inquiry||t.data.questions&&t.data.questions.length?s("div",{staticClass:"data-detail-wrapper"},[t.data.scenarios?[s("div",{staticClass:"block-main-label"},[t._v(" Sustainable development goal ")]),s("div",{staticClass:"detail-block"},t._l(t.data.scenarios,(function(e,a){return s("div",{key:a,staticClass:"scenario-item ref-block"},[s("div",{staticClass:"scenario-block-content"},[s("div",{staticClass:"content-list"},[s("div",{staticClass:"content-item"},[s("div",{staticClass:"question"},[e.description?[s("a-tooltip",{attrs:{title:e.description,placement:"top"}},[t._v(" "+t._s(e.sdgName)+" ")])]:[t._v(" "+t._s(e.sdgName))]],2),s("div",{staticClass:"tags"},t._l(e.sdgKeyWords,(function(e,a){return s("div",{key:"tagIndex"+a,staticClass:"tag-item"},[s("a-tag",{staticClass:"tag"},[t._v(" "+t._s(e.name)+" ")])],1)})),0)])])])])})),0)]:t._e(),t.data&&t.data.inquiry?[s("div",{staticClass:"detail-block"},[s("div",{staticClass:"block-main-label"},[t._v(" Big idea ")]),s("div",{staticClass:"inquiry-block-content"},[s("div",{staticClass:"inquiry"},[t._v(" "+t._s(t.data.inquiry)+" ")])])])]:t._e(),t.data&&t.data.questions&&t.data.questions.length?[s("div",{staticClass:"block-main-label"},[t._v(" Key question(s)/Line(s) of Inquiry ")]),s("div",{staticClass:"detail-block"},[s("div",{staticClass:"keyword-block-content"},[t.data.questions&&t.data.questions.length?s("div",{staticClass:"content-list"},t._l(t.data.questions,(function(e,a){return s("div",{key:"qIndex"+a,staticClass:"content-item"},[e&&e.name?s("div",{staticClass:"question"},[t._v(" "+t._s(e.name)+" ")]):t._e()])})),0):t._e()])])]:t._e()],2):t._e(),t.type===t.typeMap.evaluation?[s("evaluation-table-preview",{attrs:{"evaluation-id":t.data.id}})]:t._e()],2)],1),s("div",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"associate-info"},[t.type===t.typeMap.task?[s("task-link",{ref:"commonLink",attrs:{"show-drag-tips":!1,isLibrary:t.isLibrary,"hidden-empty-group":!0,"can-edit":!1,"from-id":t.id,"from-type":t.type}})]:t._e(),t.type===t.typeMap["unit-plan"]?[s("plan-link",{ref:"commonLink",attrs:{isLibrary:t.isLibrary,"hidden-empty-group":!0,"can-edit":!1,"from-id":t.id,"from-type":t.type}})]:t._e()],2),s("a-row",{staticClass:"reviews-info"},["student"===t.currentRole?s("a-col",{staticClass:"slide-reviews",attrs:{span:"24"}},[s("rate-by-percent",{attrs:{rates:t.reviewsStats}}),s("reviews-preview",{attrs:{id:t.id,role:"student",list:t.ReviewsTask.ReviewsTaskList,save:t.ReviewsTask.ReviewsTaskSave,del:t.ReviewsTask.ReviewsTaskDelete,myReview:t.ReviewsTask.ReviewsTaskMyReview}})],1):s("a-col",{staticClass:"slide-reviews",attrs:{span:"24"}},[s("reviews-preview",{attrs:{id:t.id,role:"teacher",list:t.ReviewsTeacher.ReviewsTeacherList,save:t.ReviewsTeacher.ReviewsTeacherSave,del:t.ReviewsTeacher.ReviewsTeacherDelete,myReview:t.ReviewsTeacher.ReviewsTeacherMyReview,canEdit:!0},on:{update:t.loadReviewStats}})],1)],1)],1),-1!==[t.typeMap.task,t.typeMap["unit-plan"]].indexOf(t.type)?s("div",{staticClass:"extra-content-preview"},[t.type===t.typeMap.task&&t.data.presentationId&&t.imgList.length>0?[s("div",{staticClass:"top-icon-groups"},[s("a-col",{staticClass:"material-row"},[Object.keys(t.currentPageMaterial).length>0?s("div",{staticClass:"icon-group"},[t.currentPageMaterial.hasOwnProperty("text")?s("a-badge",{attrs:{count:t.showMaterialSize("text")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("text")}}},[s("text-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Text")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("image")?s("a-badge",{attrs:{count:t.showMaterialSize("image")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("image")}}},[s("image-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Image")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("video")?s("a-badge",{attrs:{count:t.showMaterialSize("video")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("video")}}},[s("video-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Video")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("audio")?s("a-badge",{attrs:{count:t.showMaterialSize("audio")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("audio")}}},[s("audio-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Audio")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("iframe")?s("a-badge",{attrs:{count:t.showMaterialSize("iframe")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("iframe")}}},[s("youtube-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Youtube")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("pdf")?s("a-badge",{attrs:{count:t.showMaterialSize("pdf")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("pdf")}}},[s("pdf-type-svg"),s("div",{staticClass:"icon-text"},[t._v("PDF")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("website")?s("a-badge",{attrs:{count:t.showMaterialSize("website")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("website")}}},[s("url-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Website")])],1)]):t._e()],1):t._e()])],1),s("a-skeleton",{attrs:{loading:t.slideLoading,active:""}},[s("div",{ref:"slide",staticClass:"slide-select-wrapper"},[s("div",{staticClass:"slide-select"},[s("div",{staticClass:"slide-select-and-preview"},[s("div",{staticClass:"slide-preview",style:{width:"310px"}},[s("a-carousel",{ref:"carousel",attrs:{arrows:"","after-change":t.onChangePage}},[s("div",{staticClass:"custom-slick-arrow",staticStyle:{left:"-23px","z-index":"9"},attrs:{slot:"prevArrow"},slot:"prevArrow"},[s("a-icon",{style:{"font-size":"20px",color:"#aaa",opacity:.6},attrs:{type:"left-circle"}})],1),s("div",{staticClass:"custom-slick-arrow",staticStyle:{right:"-23px","z-index":"9"},attrs:{slot:"nextArrow"},slot:"nextArrow"},[s("a-icon",{style:{"font-size":"20px",color:"#aaa",opacity:.6},attrs:{type:"right-circle"}})],1),t._l(t.imgList,(function(e,t){return s("div",{key:t,staticClass:"slide-item"},[s("img",{attrs:{src:e}})])}))],2),t.currentPageItem?s("div",{staticClass:"plugin-tags"},[s("a-row",{staticClass:"tag-row"},[t.currentPageItem.data.bloomLevel?s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Bloom's Taxonomy:")]),s("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[t._v(t._s(t.currentPageItem.data.bloomLevel))])]):t._e(),t.currentPageItem.data.knowledgeLevel?s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Knowledge dimension(s):")]),s("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[t._v(t._s(t.currentPageItem.data.knowledgeLevel))])]):t._e()]),s("a-row",{staticClass:"tag-row"},[t.currentPageItem.data.verbs&&t.currentPageItem.data.verbs.length>0?s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Command terms:")]),t._l(t.currentPageItem.data.verbs,(function(e,a){return s("span",{key:a,staticClass:"tag-value",staticStyle:{color:"#15C39A"}},[t._v(t._s(e))])}))],2):t._e(),t.currentPageTips?s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Tip added:")]),s("span",{staticClass:"tag-value",staticStyle:{color:"#0054FF"}},[t._v(t._s(t.currentPageTips.tip))])]):t._e()]),t.currentPageItem.data.learnOuts&&t.currentPageItem.data.learnOuts.length>0?s("a-row",{staticClass:"tag-row"},[s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Learning Objectives:")]),t._l(t.currentPageItem.data.learnOuts,(function(e,a){return s("span",{key:a,staticClass:"tag-value",staticStyle:{color:"#00BCF2"}},[s("a-tooltip",{attrs:{title:e.path,overlayStyle:{"z-index":"3000"}}},[t._v(t._s(e.name)+" ")])],1)}))],2)]):t._e(),s("a-row",{staticClass:"tag-row"},[s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("This is a "),s("span",[t._v(t._s(t.currentPageItem.type))]),t._v(" slide")])])])],1):t._e(),t.imgList&&t.imgList.length?s("div",{staticClass:"page-info"},[t._v(" "+t._s(t.currentImgIndex+1)+" / "+t._s(t.imgList.length)+" ")]):t._e()],1)])])])])]:t._e(),t.type===t.typeMap["unit-plan"]?[s("div",{staticClass:"unit-cover",style:{"background-image":"url('"+(t.data.image||"http://dcdkqlzgpl5ba.cloudfront.net/1392467808404684802/file/202208140641519097-20220814143449.png")+"')"}})]:t._e(),t.type===t.typeMap.task?s("div",{staticClass:"recommend"},[s("div",{staticClass:"recommend-title"},[s("a-divider",[t._v("Recommend")])],1),s("div",{staticClass:"recommend-list"},t._l(t.recommendTemplateList,(function(e,a){return s("div",{key:a,staticClass:"slide-preview-item",style:{width:"310px"}},[s("a-carousel",{ref:"carousel",refInFor:!0,attrs:{arrows:""}},[s("div",{staticClass:"custom-slick-arrow",staticStyle:{left:"-23px","z-index":"9"},attrs:{slot:"prevArrow"},slot:"prevArrow"},[s("a-icon",{style:{"font-size":"20px",color:"#aaa",opacity:.6},attrs:{type:"left-circle"}})],1),s("div",{staticClass:"custom-slick-arrow",staticStyle:{right:"-23px","z-index":"9"},attrs:{slot:"nextArrow"},slot:"nextArrow"},[s("a-icon",{style:{"font-size":"20px",color:"#aaa",opacity:.6},attrs:{type:"right-circle"}})],1),t._l(e.images,(function(e,t){return s("div",{key:t,staticClass:"slide-item"},[s("img",{attrs:{src:e}})])}))],2),e.introduce?s("a-row",{staticClass:"slide-desc",attrs:{title:e.introduce}},[t._v(" "+t._s(e.introduce)+" ")]):t._e(),s("div",{staticClass:"recommend-slide-name"},[t._v(" "+t._s(e.name)+" ")])],1)})),0)]):t._e()],2):t._e()],s("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"800px",zIndex:6e3,title:"My Materials"},on:{ok:function(e){t.materialVisible=!1},cancel:function(e){t.materialVisible=!1}},model:{value:t.materialVisible,callback:function(e){t.materialVisible=e},expression:"materialVisible"}},[s("task-material-preview",{attrs:{"current-page-element-lists":t.currentPageElementLists,"filter-type":t.filterMaterialType,"current-page-index":t.currentImgIndex}})],1),s("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"900px",zIndex:5e3,title:null},on:{ok:function(e){t.mediaVisible=!1},cancel:function(e){t.mediaVisible=!1}},model:{value:t.mediaVisible,callback:function(e){t.mediaVisible=e},expression:"mediaVisible"}},[s("media-preview",{attrs:{"media-list":t.mediaList,"material-type":t.filterMaterialType}})],1)],2)},s=[],n=a("5530"),r=(a("a9e3"),a("d81d"),a("a630"),a("3ca3"),a("d3b7"),a("6062"),a("ddb0"),a("159b"),a("b0c0"),a("823b")),o=a("3f76"),l=a("69b3"),c=a("8c95"),d=a("c621"),u=a("972f"),p=a("7eee"),h=a("d33b"),m=a("873a"),g=a("542c"),f=a("91ff"),v=a("d980"),y=a("dd6e"),b=a("abb8"),w=a("e11c"),C=a("9afb"),k=a("f93e"),T=a("2934"),A=a("5225"),L=a("9fb0"),I=a("8ded"),S=a.n(I),x=a("2f62"),M=a("6b36"),E=a("c2e5"),_=a("1899"),O=a("2f59"),D=a("ca00"),N=D.formatLocalUTC,P=a("de0d"),R=P.UnitPlanQueryById,B=a("b199"),U=B.TaskQueryById,j=a("9f06"),F=j.EvaluationQueryById,V=a("95c6"),G=V.FavoritesAdd,z=a("56f2"),Q=z.SelfStudyTaskBye,H=z.SelfStudyTaskStart,q={name:"CommonPreviewV2",components:{PlanLink:_["a"],UiLearnOutSub:f["a"],EvaluationTablePreview:u["a"],CommonAssociatePreview:c["a"],NoMoreResources:l["a"],TaskLink:p["a"],MediaPreview:m["a"],TaskMaterialPreview:g["a"],RateByPercent:v["a"],ReviewsPreview:y["a"],ReviewScore:b["a"]},props:{id:{type:String,required:!0},type:{type:Number,required:!0},isLibrary:{type:Boolean,default:!1},myContentId:{type:String,default:null}},mixins:[h["a"],w["a"],O["a"]],computed:Object(n["a"])(Object(n["a"])({},Object(x["e"])({userMode:function(e){return e.app.userMode},currentRole:function(e){return e.user.currentRole}})),{},{lastChangeSavedTime:function(){if(this.data){r["info"]("lastChangeSavedTime data",this.data);var e=this.data.updateTime||this.data.createTime;if(e)return N(e)}return""},inActiveTypes:function(){var e=[];return this.itemsList&&(e=this.itemsList.map((function(e){return e.type}))),Array.from(new Set(e))}}),data:function(){return{loading:!0,slideLoading:!1,copyLoading:!1,data:null,imgList:[],viewMode:"Detail",RATE_TOOLTIPS:k["y"],ReviewsTask:M,ReviewsTeacher:E,tagColorList:["pink","orange","green","cyan","blue","red","purple"],activeContentType:-1,typeMap:o["e"],subPreviewVisible:!1,currentImgIndex:0,initPrompts:[],reviewsStats:{avgReviewsScore:0,reviewsScoreStatDetail:[],reviewsCount:0,effectiveness:0,overall:0,quality:0,studentsEngagement:0},recommendTemplateList:[]}},created:function(){r["info"]("CommonPreviewV2 id "+this.id+" type "+this.type),this.loadData()},methods:{loadData:function(){var e=this;r["info"]("loadData "+this.id+" type "+this.type),this.loading=!0,this.type===this.typeMap["unit-plan"]?R({id:this.id}).then((function(t){r["info"]("UnitPlanQueryById "+e.id,t.result),e.data=t.result,e.oldForm=e.data,e.data&&e.data.image&&(e.imgList=[e.data.image])})).finally((function(){e.loading=!1,e.queryContentCollaborates(e.id,e.type)})):this.type===this.typeMap.task?(U({id:this.id}).then((function(t){r["info"]("TaskQueryById "+e.id,t.result),e.data=t.result,e.loading=!1,e.oldForm=e.data,e.queryContentCollaborates(e.id,e.type),e.loadThumbnail(),e.data.presentationId&&e.getClassInfo(e.data.presentationId)})),this.$logger.info("loadRecommendThumbnail"),Object(d["f"])({taskId:this.id}).then((function(t){r["info"]("loadRecommendThumbnail res:",t.result),t.success&&(e.recommendTemplateList=t.result)}))):this.type===this.typeMap.evaluation&&F({id:this.id}).then((function(t){r["info"]("EvaluationQueryById "+e.id,t.result),e.data=t.result,e.oldForm=e.data,e.data&&e.data.image&&(e.imgList=[e.data.image])})).finally((function(){e.loading=!1,e.queryContentCollaborates(e.id,e.type)})),Object(T["a"])(k["q"]).then((function(t){t.success&&(r["info"]("DICT_PROMPT_TYPE",t.result),e.initPrompts=t.result)})),this.loadReviewStats()},handleAuthCallback:function(){this.$logger.info("Preview handleAuthCallback"),"loadThumbnail"===this.currentMethodName?this.loadThumbnail():"handleDuplicateItem"===this.currentMethodName&&this.handleDuplicateItem()},loadThumbnail:function(){var e=this;this.$logger.info("Preview loadThumbnail ",this.data),this.data.presentationId?this.isLibrary?Object(d["d"])({taskId:this.data.id}).then((function(t){if(t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden){var a=t.result.pageObjects;e.thumbnailList=[],a.length?a.forEach((function(t){e.imgList.push(t.contentUrl),e.thumbnailList.push({contentUrl:t.contentUrl,id:t.pageObjectId}),e.slideLoading=!1,e.$logger.info("current imgList ",e.imgList)})):(e.imgList=[],e.slideLoading=!1)}else e.$logger.info("等待授权事件通知"),e.currentMethodName="loadThumbnail"})):Object(d["d"])({taskId:this.data.id}).then((function(t){if(t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden){var a=t.result.pageObjects;e.thumbnailList=[],a.length?a.forEach((function(t){e.imgList.push(t.contentUrl),e.thumbnailList.push({contentUrl:t.contentUrl,id:t.pageObjectId}),e.slideLoading=!1,e.$logger.info("current imgList ",e.imgList)})):(e.imgList=[],e.slideLoading=!1)}else e.$logger.info("等待授权事件通知"),e.currentMethodName="loadThumbnail"})):this.slideLoading=!1},loadReviewStats:function(){var e=this,t=null;t="student"===this.currentRole?M["ReviewsTaskStats"]:E["ReviewsTeacherStats"],t&&t({taskId:this.id,purchasesId:this.id}).then((function(t){t.success&&(e.reviewsStats=t.result)}))},handleSelectContentType:function(e){r["info"]("handleSelectContentType "+e),this.activeContentType=e},handleSubPreviewClose:function(){r["info"]("handleSubPreviewClose"),this.subPreviewVisible=!1},handleViewModeChange:function(){this.$logger.info("handleViewModeChange "+this.viewMode)},handleFavorite:function(e){var t=this;r["info"]("handleFavorite",e),G({sourceId:e.id,sourceType:e.type}).then((function(a){r["info"]("FavoritesAdd ",a),e.isFavorite=!e.isFavorite,t.data.isFavorite=e.isFavorite,t.$emit("favoritiesAdd",Object(n["a"])({},t.data))}))},handleGotoImgIndex:function(e){this.$logger.info("handleGotoImgIndex "+e),this.currentImgIndex=e,this.$refs.carousel.goTo(e)},handleEditItem:function(e){e.type=this.type,r["info"]("handleEditItem",e),e.type===o["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===o["e"].task?window.open("/teacher/task-redirect/"+e.id,"_blank"):e.type===o["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleDuplicateItem:function(){var e=this;this.$logger.info("handleDuplicateItem",this.data),this.$confirm({title:"Confirm to copy",content:"Are you sure to copy "+this.data.name+" ?",centered:!0,onOk:function(){e.copyLoading=!0,Object(C["Duplicate"])({id:e.data.id,type:e.data.type}).then((function(t){t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden?(e.$logger.info("Duplicate response",t),e.$message.success("Copy successfully"),e.$router.push({path:"/teacher/main/created-by-me"})):e.currentMethodName="handleDuplicateItem"})).finally((function(){e.copyLoading=!1}))}})},handleStartTask:function(){var e=this;this.$confirm({title:"Confirm to start",content:"Are you sure to start "+this.data.name+" ?",centered:!0,onOk:function(){e.copyLoading=!0,e.data.buyed||k["Y"].SCHOOL===e.userMode?e.handleStartSession(e.data.id):Q({taskId:e.data.id}).then((function(t){t.success&&e.handleStartSession(e.data.id)})).finally((function(){e.copyLoading=!1}))}})},handleOpenLink:function(e){window.open(e,"_blank")},handleStartSession:function(e){var t=this;this.copyLoading=!0,H({taskId:e}).then((function(e){if(t.$logger.info("StartOpenSession res",e),e.success){t.copyLoading=!1;var a=A["a"]+"s/"+e.result.classId+"?token="+S.a.get(L["a"]);t.$logger.info("try open "+a),window.location.href=a}else t.$message.warn("StartLesson Failed! "+e.message)})).finally((function(){t.copyLoading=!1}))}}},Y=q,K=(a("1f7f"),a("0c7c")),Z=Object(K["a"])(Y,i,s,!1,null,"5cac3e1c",null);t["a"]=Z.exports},ae3c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAAAXNSR0IArs4c6QAABDNJREFUWEfNl2FoG2UYx//Pm6TO6GBikov7MGpyQWQqg30pE93cPinU5oJa5kQGInVaNkVGPzgtOBmbyNbpRBHZHGgV63ppRTYQtgmF6hcFURB2VyedNZdtzbSr7dbc+0hC03XtJblrm9T7ev/neX78732f5znC/+BZubo5FAwGOgG0EjhnA3toubmijclGBOgUQPfMYvltWcFC8eR6vyhChW4yiPHjsoHdGdc2+wWlCVg596tJyI5lAVPUlmaC6AHRLfOOEvMwj43fW3ewsJp8SpD4lIDAXChmZmJ7S8bsP1NXsIiqbSPCJwTyO106ZtllGelXCu/qBhZRkzsI4ggRhDMUf28ZuYeAs/m6gYXjyXZB9C4RORrBwFVmuS5rpM0SdM0dC6vaSwJ4rxxUAYRtfs4a0o/OdrKmYEosuYt8oqtSE2fwF9Y5fetcTc3AFDX1MsAHKzkFxoVr0ndfbqjn77qAKfHUXhLYU9EphrTBmy8Z+ndOuiV3TElobxHotWozmJn3WYZeVrekYFFV6wDRfhdQZy1D3wJAltMuGVjhTBHhUDUogC/nJ+0HLg33j1TSLgmYEtd2kqDD1aEAKZHKmr16Ne2iwaLx1HYmPlrx9k1TMKPLMnqLI6fas0iwJ31Kws45rS4OA3rQMnIPl0ZOjcEARU39QoS1VQqNXpf2ulGzb7ga0IJHUiShvUCMFyXh0MVz+rHiFkpiAIQVzsMZtmTZfNFMn3QLtaAhrqip00R4pBAsJe/Omvo7Siy5FT5x3GnHksydWUN/0wuUJ7Db41rkqqlnw7GWx4RP9M3sVFLuzZjpN0KN2kafH2kiWjUDwTiRMXytQI9dE7DpHnWAmTstQ98fvrvlCeH3dZccKi14kTWpmGjgIwCaJNCdnczsxoXBCa9QLhzb5FfUO44R0TOl5FLi7azZ26GoWgsRfQmgofCOmT+2DL2tUjf3AlixXURV7TiInp2XUPKHGVPfEY4nH/WR6C0dfGZ0W0bvNi8AnkeSEteeJ0EflQtk5s8sI7ddia3aSIL6QRQsOmfLp62h9OeLhSvj2PqAkljzB4HuqlSAmfssTLaG8iua/AF8VfxxZW7PGPr7NQGLqslNIHHGTXJmPo2x8cev3RoMNPjE2qw5+oPb7l4pv6NjhSYqQB+4AZs++IOWoW9wq3ejcwRTEtphAu10k6CkyYxP3YaRr//1EuPZMUXVfiai+90WYWbLMvSoW70b3TzHFDXVRIRBN8E3OjwfzBj6q55iqoidwAaI8KDrIoxfr2Niw6hx8h/XMS6EN4FFEqnXBeB+4DJOjE9w29if+mUXtTxJZsCURHIXofLP6Y3MPGBL3ud1lfFCRljdHFSCgQNEaC/b5YHfCfyTBL7NS/mNl4XPC8xsLUXiqTZBmLlRzJwHcUYyRiDw19QUzl85n76y0AILjfsPWT6SVuLmISoAAAAASUVORK5CYII="},afc5:function(e,t,a){"use strict";a("94d5")},b199:function(e,t,a){"use strict";a.r(t),a.d(t,"taskAPIUrl",(function(){return s})),a.d(t,"TaskCreateTaskPPT",(function(){return n})),a.d(t,"TaskCreateNewTaskPPT",(function(){return r})),a.d(t,"TaskAddOrUpdate",(function(){return o})),a.d(t,"SplitTask",(function(){return l})),a.d(t,"TaskQueryById",(function(){return c})),a.d(t,"TaskDelete",(function(){return d})),a.d(t,"getTaskBySessionId",(function(){return u})),a.d(t,"UpdateSlideEditing",(function(){return p})),a.d(t,"QuerySubTask",(function(){return h}));var i=a("b775"),s={createTaskPPT:"/classcipe/api/task/createTaskPPT",createNewTaskPPT:"/classcipe/api/task/createNewTaskPPT",addOrUpdate:"/classcipe/api/task/addOrUpdate",delete:"/classcipe/api/task/delete",deleteBatch:"/classcipe/api/task/deleteBatch",list:"/classcipe/api/task/list",queryById:"/classcipe/api/task/queryById",splitTask:"/classcipe/api/task/spliteTask",getTaskBySessonId:"/classcipe/api/task/getTaskBySessonId",updateSlideEditing:"/classcipe/api/task/updateSlideEditing",querySubTask:"/classcipe/api/task/querySubTask"};function n(e){return Object(i["d"])({url:s.createTaskPPT,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i["d"])({url:s.createNewTaskPPT,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(i["d"])({url:s.addOrUpdate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(i["d"])({url:s.splitTask,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(i["d"])({url:s.queryById,method:"get",params:e})}function d(e){return Object(i["d"])({url:s.delete+"?id="+e.id,method:"post",data:e})}function u(e){return Object(i["d"])({url:s.getTaskBySessonId,method:"get",params:e})}function p(e){return Object(i["d"])({url:s.updateSlideEditing,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return Object(i["d"])({url:s.querySubTask,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},b3e1:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1651291412559",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2926",width:"48",height:"48","xmlns:xlink":"http://www.w3.org/1999/xlink"},children:[{tag:"path",attrsMap:{d:"M776.28836885 838.02245644a56.86808467 56.86808467 0 0 1-56.86808467 56.18566846H307.41100859a56.86808467 56.86808467 0 0 1-56.86808554-56.18566845V241.36250908h526.31412715v596.65994737zM364.33596114 140.47852607a11.37361729 11.37361729 0 0 1 11.71482626-11.37361728h274.90032247a11.37361729 11.37361729 0 0 1 11.71482539 11.37361728v34.12085098H364.33596114v-34.12085098z m547.41218642 34.12085098h-180.89737822v-34.12085098a79.61531924 79.61531924 0 0 0-79.61531924-78.53482529H376.33512763A79.61531924 79.61531924 0 0 0 296.43546816 140.47852607v34.12085098H114.79880498a34.12085097 34.12085097 0 1 0 0 67.72988936h66.53565879v595.69319004a125.10978662 125.10978662 0 0 0 126.07654482 123.97242568h412.00927559a125.10978662 125.10978662 0 0 0 126.07654483-123.97242568V241.36250908h66.53565878a34.12085097 34.12085097 0 0 0 34.46205997-34.12085098 33.49530175 33.49530175 0 0 0-34.7464002-32.86975341zM513.15973964 792.86919717a34.12085097 34.12085097 0 0 0 34.4051921-34.12085098V398.43215967a34.46205908 34.46205908 0 0 0-68.86725117 0v360.31618652a34.12085097 34.12085097 0 0 0 34.46205908 34.12085098m-124.48423741-71.99499551a34.12085097 34.12085097 0 0 0 34.46205909-34.12085098v-216.09872315a34.46205908 34.46205908 0 0 0-68.92411904 0v216.09872315a35.14447617 35.14447617 0 0 0 34.46205995 34.12085098m248.91160782 0a34.12085097 34.12085097 0 0 0 34.46205908-34.12085098v-216.09872315a34.46205908 34.46205908 0 0 0-68.92411904 0v216.09872315a34.12085097 34.12085097 0 0 0 34.46205996 34.12085098","p-id":"2927"}}]})}},b401:function(e,t,a){"use strict";a("b718")},b4ab:function(e,t,a){},b718:function(e,t,a){},b7b8:function(e,t,a){"use strict";a("ac3e")},b7f2:function(e,t,a){},b842:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag-setting",on:{click:e.trySaveTagCategory}},[a("a-spin",{attrs:{spinning:e.tagLoading}},[a("div",{staticClass:"tag-content-wrapper"},[a("div",{staticClass:"tag-tab",attrs:{id:"tag-tab"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.userTagList.length,expression:"userTagList.length"}],staticClass:"icon-left icon-nav",on:{click:function(t){return t.stopPropagation(),e.scrollLeft.apply(null,arguments)}}},[a("a-icon",{attrs:{type:"left"}})],1),e.userTagList.length?a("div",{staticClass:"user-tag-category-tabs",attrs:{id:"user-tag-category-tabs"}},e._l(e.userTagList,(function(t,i){return a("div",{key:i,class:{"user-tag-item":!0,"active-tab":t.name===e.currentActiveTagCategoryName},on:{click:function(a){return e.handleActiveTagCategory(t)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!1===t.editing,expression:"userTagItem.editing === false"}],staticClass:"action-icon"},[a("div",{staticClass:"tag-title-item"},[a("div",{staticClass:"tag-title",on:{dblclick:function(a){return e.handleEditTagCategory(t)}}},[e._v(e._s(t.name))]),a("div",{staticClass:"tag-delete-icon",on:{click:function(a){return e.handleDeleteTagCategory(t.name)}}},[a("a-icon",{style:{fontSize:"12px",color:"#15c39a"},attrs:{type:"delete"}})],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.editing,expression:"userTagItem.editing === true"}],staticClass:"editing-title",on:{click:function(e){e.stopPropagation()}}},[a("a-input",{staticClass:"my-tag-category-input",attrs:{placeholder:"Name your category",id:"tag-category-"+t.name},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.handleEnsureUpdateTagCategory(t)}},model:{value:e.currentEditTagCategoryName,callback:function(t){e.currentEditTagCategoryName=t},expression:"currentEditTagCategoryName"}})],1)])})),0):e._e(),a("div",{staticClass:"icon-right icon-nav"},[a("a-icon",{directives:[{name:"show",rawName:"v-show",value:e.userTagList.length,expression:"userTagList.length"}],attrs:{type:"right"},on:{click:function(t){return t.stopPropagation(),e.scrollRight.apply(null,arguments)}}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.userTagList.length>=1,expression:"userTagList.length >= 1"}],staticClass:"icon-add"},[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[e._v(" Add tag type ")]),a("a-icon",{directives:[{name:"show",rawName:"v-show",value:e.showAddCategory,expression:"showAddCategory"}],style:{fontSize:"18px",color:"#15c39a"},attrs:{type:"plus-circle"},on:{click:function(t){return t.stopPropagation(),e.handleInitCreateTagCategory.apply(null,arguments)}}})],2)],1)]),a("div",{staticClass:"user-tag-list-wrapper"},[a("div",{staticClass:"tab-content"},[a("div",{staticClass:"skt-tag-wrapper"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.userTagList.length,expression:"userTagList.length"}],staticClass:"skt-tag-list"},[a("div",{staticClass:"search-tag-wrapper tag-wrapper"},[e._l(e.displayTagList,(function(t){return a("div",{key:t,staticClass:"skt-tag-item"},[a("a-tag",{staticClass:"tag-item",class:{"active-tag-item":e.tagSearchList.indexOf(t)>-1}},[e._v(" "+e._s(t)+" "),a("a-icon",{attrs:{type:"close"},on:{click:function(a){return e.handleDeleteTag(t)}}})],1)],1)})),a("div",{staticClass:"create-tag-item-btn"},[a("a-input",{directives:[{name:"show",rawName:"v-show",value:e.createTagInputVisible,expression:"createTagInputVisible"}],ref:"search-input",staticClass:"search-input",attrs:{placeholder:"Create Tags"},on:{pressEnter:e.handleEnsureCreateTag,change:e.handleFilterSearchTag},nativeOn:{blur:function(t){return e.handleEnsureCreateTag.apply(null,arguments)}},model:{value:e.inputTag,callback:function(t){e.inputTag=t},expression:"inputTag"}}),a("div",{staticClass:"create-tag-item-wrapper"},[0!==e.displayTagList.length||e.createTagInputVisible?e._e():a("div",{staticClass:"no-tag-list"},[a("div",{staticClass:"no-tips"},[e._v(" There is no tag under the current type. ")])]),a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[e._v(" Create tag ")]),a("a-icon",{directives:[{name:"show",rawName:"v-show",value:!e.createTagInputVisible,expression:"!createTagInputVisible"}],style:{fontSize:"18px",color:"#15c39a"},attrs:{type:"plus-circle"},on:{click:e.handleShowSearchInput}})],2)],1)],1)],2)]),a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.userTagList.length&&!e.tagLoading,expression:"userTagList.length === 0 && !tagLoading"}],staticClass:"no-tag-tips"},[a("no-more-resources",{attrs:{tips:""}}),a("div",{staticClass:"no-tips"},[e._v(" No tags type have been added yet, create one now ? ")]),a("div",{staticClass:"create-tag-btn"},[a("a-button",{attrs:{type:"primary",shape:"round"},on:{click:e.handleInitCreateTagCategory}},[e._v("Create")])],1)],1)])])])])])],1)},s=[],n=(a("b0c0"),a("159b"),a("498a"),a("d3b7"),a("7db0"),a("a630"),a("3ca3"),a("4de4"),a("d28d")),r=a("d33b4"),o=a("69b3"),l={name:"TagSetting",mixins:[r["a"]],components:{NoMoreResources:o["a"]},data:function(){return{currentActiveTagCategory:null,currentActiveTagCategoryName:"",currentEditTagCategoryName:"",userTagList:[],createTagName:"",tagLoading:!1,inputTag:"",tagSearchList:[],currentEditTagName:"",displayTagList:[],createTagInputVisible:!1}},computed:{showAddCategory:function(){return this.userTagList.every((function(e){return!1===e.editing}))}},created:function(){this.handleUpdateUserTags()},methods:{handleActiveTagCategory:function(e){this.$logger.info("handleActiveTagCategory",e),this.currentActiveTagCategoryName=e.name,this.currentActiveTagCategory=e,this.displayTagList=e.keywords,this.filterKeyword()},handleEditTagCategory:function(e){this.$logger.info("handleEditTagCategory",e),this.currentEditTagCategoryName=e.name,this.userTagList.forEach((function(e){e.editing=!1})),e.editing=!0},handleEnsureUpdateTagCategory:function(e){this.$logger.info("handleEnsureUpdateTagCategory "+this.currentEditTagCategoryName,e),this.currentEditTagCategoryName=this.currentEditTagCategoryName&&this.currentEditTagCategoryName.trim()?this.currentEditTagCategoryName.trim():"Untitled category "+(this.userTagList.length+1),e.newTag?this.handleCreateTagCategory(e):this.handleUpdateTagCategory(e)},handleCreateTagCategory:function(e){var t=this;this.$logger.info("handleCreateTagCategory",e),this.tagLoading=!0,Object(n["a"])({parentName:this.currentEditTagCategoryName}).then((function(e){t.$logger.info("add AddUserParentTag ",e.result),e.success?t.handleUpdateUserTags():(t.$message.error(e.message),t.tagLoading=!1)})).catch((function(){t.tagLoading=!1}))},handleUpdateTagCategory:function(e){var t=this;this.$logger.info("handleUpdateTagCategory",e),e.name&&this.currentEditTagCategoryName&&e.name!==this.currentEditTagCategoryName&&(this.tagLoading=!0,Object(n["k"])({name:e.name,newName:this.currentEditTagCategoryName}).then((function(e){t.$logger.info("UpdateUserParentTag response",e.result),e.success?t.handleUpdateUserTags():(t.$message.error(e.message),t.tagLoading=!1)})).catch((function(){t.tagLoading=!1})))},handleInitCreateTagCategory:function(){var e=this;this.$logger.info("handleInitCreateTagCategory"),this.currentEditTagName="Untitled category "+(this.userTagList.length+1);var t={name:this.currentEditTagName,editing:!0,newTag:!0,keywords:[]};this.currentActiveTagCategoryName=t.name,this.currentEditTagCategoryName=t.name,this.currentActiveTagCategory=t,this.displayTagList=[],this.userTagList.push(t),this.$nextTick((function(){var a=document.getElementById("tag-category-"+t.name);a&&a.focus(),e.scrollRight()}))},handleUpdateUserTags:function(){var e=this;this.tagLoading=!0,Object(n["c"])({}).then((function(t){if(e.$logger.info("FindCustomTags response",t.result),t.success){var a=[];t.result.userTags.forEach((function(e){e.name&&(e.editing=!1,e.newTag=!1,a.push(e))})),e.userTagList=a,e.$logger.info("userTagList",e.userTagList);var i=e.userTagList.find((function(t){return t.name&&e.currentActiveTagCategoryName===t.name}));i||(i=e.userTagList.find((function(t){return t.name&&e.currentEditTagCategoryName===t.name}))),!i&&e.userTagList.length>0&&(i=e.userTagList.find((function(e){return e.name}))),i&&(e.currentActiveTagCategoryName=i.name,e.currentActiveTagCategory=i,e.displayTagList=i.keywords),e.$logger.info("currentActiveTagCategory",e.currentActiveTagCategory,"displayTagList",e.displayTagList),e.filterKeyword()}else e.$message.error(t.message)})).finally((function(){e.tagLoading=!1}))},filterKeyword:function(){var e=this;if(this.currentActiveTagCategoryName){this.tagSearchList=[];var t=this.userTagList.find((function(t){return t.name===e.currentActiveTagCategoryName}));if(this.$logger.info("userTagItem",t),!t||t.keywords&&0===t.keywords.length)return;this.tagSearchList=Array.from(t.keywords),this.tagSearchList=this.tagSearchList.filter((function(t){return e.inputTag&&e.inputTag.trim()&&t.toLowerCase().indexOf(e.inputTag.toLowerCase())>-1})),this.$logger.info("tagSearchList",this.tagSearchList)}},handleEnsureCreateTag:function(){this.$logger.info("handleEnsureCreateTag",this.inputTag),this.createTagName=this.inputTag,this.inputTag="",this.createTagInputVisible=!1,this.handleCreateTagByInput()},handleCreateTagByInput:function(){var e=this;this.$logger.info("handleCreateTagByInput "+this.createTagName);var t=!1,a=this.userTagList.find((function(t){return t.name===e.currentActiveTagCategoryName}));if(a&&a.keywords){var i=a.keywords.find((function(t){return t.toLowerCase()===e.createTagName.toLowerCase()}));i&&(t=!0)}if(t)this.$message.warn("Already exist same name tag");else if(this.createTagName&&this.createTagName.trim()){var s={name:this.createTagName,parentName:this.currentActiveTagCategoryName};this.tagLoading=!0,Object(n["b"])(s).then((function(t){e.$logger.info("add AddUserTagNew ",t.result),t.success?(e.handleUpdateUserTags(),e.$message.success("Add tag successfully"),e.inputTag="",e.createTagName="",e.$emit("change-add-keywords",s)):e.$message.error(t.message)})).finally((function(){e.tagLoading=!1}))}else;},handleFilterSearchTag:function(){this.$logger.info("tag handleFilterSearchTag",this.inputTag),this.createTagName=this.inputTag,this.filterKeyword()},handleDeleteTag:function(e){var t=this;this.$createElement;this.$confirm({title:"Delete tag "+e,content:function(e){return e("div",{class:"my-delete-tips"},["Are you sure you want to delete this tag ? This is permanent and can not be undone ."])},bodyStyle:{padding:"10px"},okText:"Confirm",centered:!0,onOk:function(){t.handleEnsureDeleteTag(e)}})},handleEnsureDeleteTag:function(e){var t=this;this.$logger.info("handleEnsureDeleteTag "+this.currentActiveTagCategoryName+" "+e),this.tagLoading=!0,Object(n["l"])({parentName:this.currentActiveTagCategoryName,name:e}).then((function(e){t.$logger.info("add UserTagDeleteNew ",e.result),e.success?(t.handleUpdateUserTags(),t.$message.success("Delete successfully")):t.$message.error(e.message)})).finally((function(){t.tagLoading=!1}))},handleDeleteTagCategory:function(e){var t=this;this.$createElement;this.$confirm({title:"Delete tag type "+e,content:function(e){return e("div",{class:"my-delete-tips"},["Are you sure you want to delete this tag type ? After deleting, all tags under this type will be deleted as well."])},bodyStyle:{padding:"10px"},okText:"Confirm",centered:!0,onOk:function(){t.handleEnsureDeleteTagCategory(e)}})},handleEnsureDeleteTagCategory:function(e){var t=this;this.$logger.info("handleEnsureDeleteTagCategory "+e),this.tagLoading=!0,Object(n["l"])({parentName:e}).then((function(e){t.$logger.info("add UserTagDeleteNew ",e.result),e.success?(t.handleUpdateUserTags(),t.$message.success("Delete successfully")):t.$message.error(e.message)})).finally((function(){t.tagLoading=!1}))},handleShowSearchInput:function(){var e=this;this.createTagInputVisible=!0,this.$nextTick((function(){e.$refs["search-input"].focus()}))},scrollLeft:function(){this.$logger.info("scrollLeft");var e=document.getElementById("user-tag-category-tabs");e.scrollTo({left:e.scrollLeft-400,behavior:"smooth"})},scrollRight:function(){this.$logger.info("scrollRight");var e=document.getElementById("user-tag-category-tabs");e.scrollTo({left:e.scrollLeft+400,behavior:"smooth"})},trySaveTagCategory:function(){this.$logger.info("trySaveTagCategory");var e=this.userTagList.find((function(e){return e.editing&&e.name}));e?(this.$logger.info("trySaveTagCategory userTagItem",e),e.newTag?this.handleCreateTagCategory(e):this.handleUpdateTagCategory(e)):this.$logger.info("no editing tag category")}}},c=l,d=(a("acba"),a("0c7c")),u=Object(d["a"])(c,i,s,!1,null,"7e71e60a",null);t["a"]=u.exports},ba70:function(e,t,a){},be9d:function(e,t,a){},bec2:function(e,t,a){e.exports=a.p+"img/3.19a62d0d.png"},c08c:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my-class-list"},[i("div",{staticClass:"class-list-wrapper"},[e.loading?e._e():i("div",{staticClass:"class-list"},e._l(e.data,(function(t,s){return i("div",{key:s,staticClass:"list-item"},[e._m(0,!0),i("div",{staticClass:"class-name"},[i("div",{staticClass:"class-name-text"},[e._v(e._s(t.className))])]),i("div",{staticClass:"class-date"},[e._v(e._s(e._f("formatDate")(t.date)))]),i("div",{staticClass:"class-action"},[i("div",{staticClass:"icon-action"},[i("a-tooltip",[i("template",{slot:"title"},[e._v(" teacher-projecting ")]),i("div",{staticClass:"icon-action-item",on:{click:function(a){return e.handleTeacherProjecting(t)}}},[i("img",{staticClass:"icon-color",attrs:{src:a("88d4")}}),i("img",{staticClass:"icon-gray",attrs:{src:a("c4ee")}})])],2)],1),i("a-popover",{attrs:{placement:"rightTop",trigger:"click"}},[i("template",{slot:"content"},[i("div",{staticClass:"class-more-icon-panel"},[i("div",{staticClass:"class-more-item",on:{click:function(a){return e.handleReviewEditEvaluation(t)}}},[i("div",{staticClass:"class-action-icon"},[i("evaluate-icon")],1),i("div",{staticClass:"class-action-name"},[e._v(" Evaluate ")])]),i("div",{staticClass:"class-more-item",on:{click:function(a){return e.handleArchiveSession(t)}}},[i("div",{staticClass:"class-action-icon"},[i("archive-session-icon")],1),i("div",{staticClass:"class-action-name"},[e._v(" Archive Session ")])])])]),i("div",{staticClass:"more-action"},[i("img",{attrs:{src:a("6fdc")}})])],2)],1)])})),0),e.data.length||e.loading?e._e():[i("div",{staticClass:"no-data"},[i("no-more-resources",{attrs:{tips:"No previous session"}})],1)],e.loading?i("div",{staticClass:"loading"},[i("a-spin")],1):e._e()],2),i("a-modal",{attrs:{footer:null,title:null,destroyOnClose:"",width:"1300px"},on:{ok:function(t){e.reviewEvaluationVisible=!1},cancel:function(t){e.reviewEvaluationVisible=!1}},model:{value:e.reviewEvaluationVisible,callback:function(t){e.reviewEvaluationVisible=t},expression:"reviewEvaluationVisible"}},[e.currentReviewEvaluationSessionItem?i("div",{staticClass:"review-evaluation-wrapper"},[i("review-evaluation",{attrs:{"class-id":e.currentReviewEvaluationSessionItem.classId,"slide-id":e.classData.presentationId,"evaluation-id":e.currentReviewEvaluationSessionItem.evaluationId}})],1):e._e()]),i("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"800px",title:"Summary"},on:{ok:function(t){e.PPTCommentPreviewVisible=!1},cancel:function(t){e.PPTCommentPreviewVisible=!1}},model:{value:e.PPTCommentPreviewVisible,callback:function(t){e.PPTCommentPreviewVisible=t},expression:"PPTCommentPreviewVisible"}},[i("div",{staticClass:"view-ppt-comment"},[e.slideId?i("ppt-comment-preview",{attrs:{"slide-id":e.slideId,"class-data":e.classData}}):e._e()],1)])],1)},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"class-icon"},[i("img",{attrs:{src:a("59fa")}})])}],n=(a("159b"),a("99af"),a("9f06")),r=a("8d8d"),o=a.n(r),l=a("823b"),c=a("3f76"),d=a("e63d"),u=a("5225"),p=a("7edd"),h=a("7125"),m=a.n(h),g=a("6cf7"),f=a.n(g),v=a("69b3"),y={name:"ClassList",components:{NoMoreResources:v["a"],ReviewEvaluation:p["a"],TvSvg:o.a,PptCommentPreview:d["a"],ArchiveSessionIcon:m.a,EvaluateIcon:f.a},props:{slideId:{type:String,default:null},classData:{type:Object,default:null}},data:function(){return{data:[],loading:!0,typeMap:c["e"],PPTCommentPreviewVisible:!1,currentClassId:null,loadFailed:!1,cursor:0,currentPage:0,pageSize:100,total:0,reviewEvaluationVisible:!1,currentReviewEvaluationSessionItem:null,tagList:["Content tag","Content tag","Content tag"],colorList:["pink","red","orange","green","purple","cyan","blue"]}},created:function(){this.loadTeacherClasses(this.pageSize,this.slideId)},methods:{loadTeacherClasses:function(e,t){var a=this;l["info"]("loadTeacherClasses  limit:"+e+" slideId:"+t),this.loading=!0,Object(n["FindMyClasses"])({limit:e,slideId:t}).then((function(t){l["info"]("FindMyClasses",t.result.data),t.success&&(t.result.forEach((function(e){e.date=1e3*e.date})),a.data=e?a.data.concat(t.result):t.result),a.total=t.result.length,l["info"](" data",a.data),a.loading=!1}))},handleTeacherProjecting:function(e){this.$logger.info("handleStartSession",e),window.open(u["a"]+"d/"+e.classId,"_blank")},handleDashboard:function(e){this.$logger.info("handleDashboard",e),window.open(u["a"]+"d/"+e.classId,"_blank")},handleReviewEditEvaluation:function(e){this.$logger.info("handleReviewEditEvaluation",e,this.classData),this.$router.push({path:"/teacher/class-evaluation/".concat(this.classData.id,"/").concat(e.taskClassId,"/").concat(e.classId)})},handleArchiveSession:function(e){this.$logger.info("handleArchiveSession",e)}}},b=y,w=(a("afc5"),a("0c7c")),C=Object(w["a"])(b,i,s,!1,null,"a92b6266",null);t["a"]=C.exports},c0f4:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-search"},[a("a-textarea",{staticClass:"cc-form-textarea",attrs:{"auto-size":{minRows:2,maxRows:6},placeholder:e.placeholder,disabled:!e.canEdit},on:{keyup:e.handleSearch,focus:e.handleSearch},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e.fetching?a("a-spin",{attrs:{slot:"notFoundContent",size:"small"},slot:"notFoundContent"}):e._e(),e.showSearchListFlag?a("div",{staticClass:"search-list-wrapper"},[a("ul",{staticClass:"search-list"},e._l(e.searchList,(function(t,i){return a("li",{key:i,staticClass:"search-list-item input-search-item",on:{click:function(a){return e.handleSelectItem(t)}}},[e._v(e._s(t[e.label]))])})),0)]):e._e()],1)},s=[],n=(a("a9e3"),a("823b")),r={name:"InputSearch",props:{defaultValue:{type:String,default:null},keyIndex:{type:Number,default:null},currendIndex:{type:Number,default:null},label:{type:String,default:"name"},placeholder:{type:String,default:"name"},searchList:{type:Array,default:function(){return[]}},canEdit:{type:Boolean,default:!0}},computed:{showSearchListFlag:function(){return this.searchList.length>0&&this.keyIndex===this.currendIndex}},mounted:function(){this.globalClick(this.handleClick)},data:function(){return{fetching:!1,lastFetchId:0,value:null}},created:function(){this.value=this.defaultValue,n["info"]("inputSearch value",this.value)},watch:{defaultValue:function(e){this.$logger.info("defaultValue change",e),this.value=e}},methods:{handleClick:function(e){e.target.classList.contains("input-search-item")||this.$emit("reset")},handleSearch:function(){n["info"]("handleSearch"+this.value),this.$emit("search",this.keyIndex,this.value),this.$emit("change")},handleSelectItem:function(e){n["info"]("handleSelectItem",e),this.value=e[this.label],this.$emit("select-item",this.keyIndex,e),this.$emit("reset")},handleResetSearchList:function(){n["info"]("handleResetSearchList"),this.$emit("reset")}}},o=r,l=(a("cad2"),a("0c7c")),c=Object(l["a"])(o,i,s,!1,null,"c65473be",null);t["a"]=c.exports},c164:function(e,t,a){"use strict";a("be9d")},c2e5:function(e,t,a){"use strict";a.r(t),a.d(t,"reviewsTeacherAPIUrl",(function(){return n})),a.d(t,"ReviewsTeacherSave",(function(){return r})),a.d(t,"ReviewsTeacherList",(function(){return o})),a.d(t,"ReviewsTeacherDelete",(function(){return l})),a.d(t,"ReviewsTeacherMyReview",(function(){return c})),a.d(t,"ReviewsTeacherStats",(function(){return d})),a.d(t,"byOverall",(function(){return u}));var i=a("b775"),s="reviewsTeacher",n={delete:"/classcipe/api/".concat(s,"/delete"),list:"/classcipe/api/".concat(s,"/list"),save:"/classcipe/api/".concat(s,"/save"),myReviews:"/classcipe/api/".concat(s,"/myReviews"),queryReviewsStat:"/classcipe/api/".concat(s,"/queryReviewsStat"),byOverall:"/classcipe/api/".concat(s,"/reviewsStat/byOverall")};function r(e){return Object(i["d"])({url:n.save,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(i["d"])({url:n.list,method:"get",params:e})}function l(e){return Object(i["d"])({url:n.delete+"?id="+e.id,method:"get",data:e})}function c(e){return Object(i["d"])({url:n.myReviews,method:"get",params:e})}function d(e){return Object(i["d"])({url:n.queryReviewsStat,method:"get",params:e})}function u(e){return Object(i["d"])({url:n.byOverall,method:"get",params:e})}},c44c:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1651919287086",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3862","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"48",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M1011.699621 955.59682l-299.842879-300.13541a400.32681 400.32681 0 1 0-56.555731 56.75075l299.84288 300.086654a39.686521 39.686521 0 0 0 28.277865 11.701186 41.636719 41.636719 0 0 0 28.765415-11.701186 39.784031 39.784031 0 0 0-0.48755-56.701994zM80.480272 401.594439a320.807504 320.807504 0 1 1 320.807503 321.148788 321.295053 321.295053 0 0 1-320.807503-321.343808z","p-id":"3863"}}]})}},c4ee:function(e,t){e.exports="data:image/png;base64,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"},c52c:function(e,t,a){},c621:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"f",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return d}));var i=a("b775"),s={getTemplates:"/classcipe/api/templates/getTemplates",filterTemplates:"/classcipe/api/templates/filterTemplates",recommendTemplates:"/classcipe/api/templates/recommendTemplates",getPresentation:"/classcipe/api/templates/getPresentation",getPublishedPresentation:"/classcipe/api/templates/getPublishedPresentation",getPageThumbnail:"/classcipe/api/templates/getPageThumbnail",queryById:"/classcipe/api/templates/queryById"};function n(e){return Object(i["d"])({url:s.getTemplates,method:"get",params:e})}function r(e){return Object(i["d"])({url:s.filterTemplates,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(i["d"])({url:s.recommendTemplates,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(i["d"])({url:s.getPresentation,method:"get",params:e})}function c(e){return Object(i["d"])({url:s.getPageThumbnail,method:"get",params:e})}function d(e){return Object(i["d"])({url:s.getPublishedPresentation,method:"get",params:e})}},cad2:function(e,t,a){"use strict";a("f424")},cbe2:function(e,t,a){e.exports=a.p+"img/7.d0600535.png"},cd3e:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"global-search-input"},[a("div",{staticClass:"search-icon"},[a("a-icon",{attrs:{type:"search"},nativeOn:{click:function(t){return e.activeSearchInput.apply(null,arguments)}}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showSearchWrapper,expression:"showSearchWrapper"}],staticClass:"global-search"},[a("div",{staticClass:"search-input-line"},[a("div",{staticClass:"search-back"},[a("a-icon",{style:{color:"#999",fontSize:"16px"},attrs:{type:"arrow-left"},on:{click:e.handleBack}})],1),a("div",{staticClass:"search-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchKeyword,expression:"searchKeyword"}],attrs:{autocomplete:"off",id:"search-input",placeholder:"Search..."},domProps:{value:e.searchKeyword},on:{keyup:[e.handleSearch,function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.emitSearchEvent(e.searchKeyword)}],input:function(t){t.target.composing||(e.searchKeyword=t.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.searchKeyword.length>0,expression:"searchKeyword.length > 0"}],staticClass:"search-clear",on:{click:e.handleSearchClear}},[a("a-icon",{attrs:{type:"close"}})],1)]),a("div",{staticClass:"search-recommend-list"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.searchKeyword,expression:"searchKeyword"}],staticClass:"do-search",on:{click:function(t){return e.emitSearchEvent(e.searchKeyword)}}},[a("div",{staticClass:"icon"},[a("a-icon",{style:{color:"#999",fontSize:"16px"},attrs:{type:"search"}})],1),a("div",{staticClass:"search-content-left"},[e._v(' Search "'),a("span",{staticClass:"bold"},[e._v(e._s(e.searchKeyword))]),e._v('" ')])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showSearchHistory,expression:"showSearchHistory"}],staticClass:"search-history"},e._l(e.historyList,(function(t){return a("div",{key:t,staticClass:"list-item",on:{click:function(a){return e.emitSearchEvent(t)}}},[a("div",{staticClass:"icon"},[a("a-icon",{style:{color:"#999",fontSize:"16px"},attrs:{type:"clock-circle",theme:"filled"}})],1),a("div",{staticClass:"search-content"},[e._v(" "+e._s(t)+" ")])])})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showSearchRecommend,expression:"showSearchRecommend"}],staticClass:"recommend-list"},[e._l(e.similarList,(function(t,i){return a("div",{key:i,staticClass:"list-item",on:{click:function(a){return e.emitSearchEvent(t.name)}}},[a("div",{staticClass:"icon similar-icon"},[e._v(" # ")]),a("div",{staticClass:"search-content"},[a("div",{staticClass:"content-name"},[e._v(" "+e._s(t.name)+" ")])])])})),e._l(e.pdList,(function(t){return a("div",{key:t.id,staticClass:"list-item",on:{click:function(a){return e.viewItem(t)}}},[e._m(0,!0),a("div",{staticClass:"search-content"},[a("div",{staticClass:"content-name"},[e._v(" "+e._s(t.name)+" ")])])])})),e._l(e.planList,(function(t){return a("div",{key:t.id,staticClass:"list-item",on:{click:function(a){return e.viewItem(t)}}},[e._m(1,!0),a("div",{staticClass:"search-content"},[a("div",{staticClass:"content-name"},[e._v(" "+e._s(t.name)+" ")])])])})),e._l(e.taskList,(function(t){return a("div",{key:t.id,staticClass:"list-item",on:{click:function(a){return e.viewItem(t)}}},[e._m(2,!0),a("div",{staticClass:"search-content"},[a("div",{staticClass:"content-name"},[e._v(" "+e._s(t.name)+" ")])])])}))],2),e.searching?a("div",{staticClass:"searching"},[a("a-spin",[a("a-icon",{staticStyle:{"font-size":"24px"},attrs:{slot:"indicator",type:"loading",spin:"",tip:"searching..."},slot:"indicator"})],1)],1):e._e()]),a("div",{staticClass:"bg-mask",on:{click:e.handleBack}})]),e.previewVisible?a("content-preview",{attrs:{"content-id":e.previewCurrentId,"content-type":e.previewType},on:{close:e.handlePreviewClose}}):e._e()],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon"},[a("div",{staticClass:"tag-icon"},[e._v("PD")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon"},[a("div",{staticClass:"tag-icon"},[e._v("Unit")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon"},[a("div",{staticClass:"tag-icon"},[e._v("Task")])])}],n=a("5530"),r=(a("498a"),a("a434"),a("fb6a"),a("ac1f"),a("841c"),a("d3b7"),a("159b"),a("b0c0"),a("99af"),a("c44c")),o=a.n(r),l=a("85b1"),c=a("1778"),d=a("ce85"),u=a("f031"),p={name:"GlobalSearchInput",components:{ContentPreview:d["a"],SearchIcon:o.a},mixins:[u["a"]],data:function(){return{data:null,searchKeyword:"",showSearchWrapper:!1,searching:!1,handleSearch:null,pdList:[],planList:[],similarList:[],taskList:[],historyList:[]}},props:{schoolId:{type:String,default:"0"},source:{type:String,default:"library"}},computed:{showSearchHistory:function(){return null===this.searchKeyword||""===this.searchKeyword.trim()},showSearchRecommend:function(){return this.searchKeyword}},created:function(){this.handleSearch=Object(l["a"])(this.doSearch,300),this.restoreSearchKey()},methods:{storeSearchKey:function(){var e=this.$store.getters.userInfo.id;window.sessionStorage.setItem("".concat(e,"_search_key_list"),JSON.stringify(this.historyList))},restoreSearchKey:function(){var e=this.$store.getters.userInfo.id,t=window.sessionStorage.getItem("".concat(e,"_search_key_list"));this.historyList=t?JSON.parse(t):[]},handleSearchClear:function(){this.searchKeyword="",this.recommendList=[]},handleBack:function(){this.$logger.info("handleBack"),this.showSearchWrapper=!1},doSearch:function(){var e=this.searchKeyword.trim();if(e){var t=this.historyList.indexOf(e);-1!==t&&this.historyList.splice(t,1),this.historyList.unshift(e),this.historyList.length>5&&(this.historyList=this.historyList.slice(0,5)),this.storeSearchKey(),this.search(e)}},search:function(e){var t=this;this.$logger.info("search",e),this.searching=!0,this.recommendList=[],this.pdList=[],this.planList=[],this.taskList=[],this.similarList=[],Object(c["d"])({key:e,schoolId:this.schoolId}).then((function(a){t.$logger.info("searchByKeyword "+e,a);var i=[],s=a.result.similarList;t.pdList=a.result.pdList,t.planList=a.result.planList,t.taskList=a.result.taskList,s.forEach((function(t){if(t.name&&!i.some((function(e){return e.name===t.name}))){var a=0,s=t.name.toLowerCase().indexOf(e),n="";while(-1!==s&&s+e.length<=t.name.length)n+=t.name.substring(a,s)+'<span class="search-keyword-item">'+t.name.substring(s,s+e.length)+"</span>",a=s+e.length,s=t.name.toLowerCase().indexOf(e,s+e.length);n+=t.name.substring(a);var r={fromType:t.fromType,name:t.name,tagName:n,id:t.id};i.push(r)}})),t.similarList=s})).finally((function(){t.searching=!1}))},activeSearchInput:function(){this.showSearchWrapper=!0,this.$nextTick((function(){document.getElementById("search-input").focus()}))},emitSearchEvent:function(e){this.$logger.info("emitSearchEvent",e),this.$emit("search",e),this.handleBack()},viewItem:function(e){this.$logger.info("viewItem",e);var t=Object(n["a"])(Object(n["a"])({},e),{},{type:parseInt(e.fromType)});this.$logger.info("dataItem",e),this.showSearchWrapper=!1,this.$router.push({path:"/teacher/".concat(this.source,"-view/").concat(t.type,"/").concat(t.id)})}}},h=p,m=(a("9774"),a("0c7c")),g=Object(m["a"])(h,i,s,!1,null,"d3f54b0c",null);t["a"]=g.exports},ce1b:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAAAXNSR0IArs4c6QAABDZJREFUWEfNWF1oHFUU/s7MpBYVk5pdbYLU2Db1ry/qi3XT2H3WgmCESl9ES7YaUEEKBQtViCBUEMWiu61ioWCh8an1eWo2q0+tL6GNTUvXPiSr2TaNtJR0Z+bIubuzs7M/2dnZRPY+DTPn55tzz/3OuYcQYnVnklu6HLxGTC8yIULMAwBtBNgCkGeiLDHyIEzd0/jsUixxtVU3FFQhah59EIbxATO9RYStQfVEjhlXiPhHWNZXC/Gx20F0mwMzDxu9Rn9CYxwCSVSUI0BpyoM8knpyjXHpvXrDAJU/cM4hjN+w5pKIfyrRbbhWBNaTOf54l2OfBWi7B8MDEOTPXT2/I54uaPqrt2L7/mpkoyGwDZPHYwbsCYlSMQISl/ZWMb5ctMScs6CPLA7vy9SzWtfXw5nU65rNp4jIYGZQeS/aA+ZquzaZ2XJ02nMzNvpzteUaYBIpHfa5tQJVD5wNfVd15HzAesxvB7p07Xe1fWsQqeqolH0w5wq2s+NW/N2sK+MBMw8bUaP/D0n0/wNUdeQAnl6w5p5zT2sZWG/62JgG/kYSvf00by0XXZ9MvD8/lEgWKQiAIk/dmC2ewNbpQCfCO33PwiDCiflLuOOsSFE1qD1a5Bxsa1BIuAgsnfwYoPEwoET/7b5n8PmWmHJ48GoGP8xfbC1kPmk+tLAz8ZkCFplMzUqZCQvswKbncWDTC8r8kevnceT6hZaBub4ZmMnvHH2aHjKPbr3P6JqVMhOWrlYDmKLeEoZlqzBIkfSxjwj8RdhoicFVA+bl94cUTadOAxhp5zSuAbAJiqRTaQKGOgNYkaoYOEfRqdQ1MAaaZesDmoG9G59Ct7GuRvSl7j7EuvvV+8zSHH5bmq+RWbLu4UTuEpYdu5kr4assRSdTd0FY3yzHRvu3Y3zzjuZGV5AITCXMtyXH7gLNge199El8OTjcFrD3/jQxsXAlgA0BFnArhd139z6Bwft7Qm3lzJ1FnLlxLQAodTSzkvwmAbs6L/nLdNF6jXR/f9Xowmu1hC46lGA7tiR1bBGvbHuCHZlaqT2PbMPX215WH96//CtO/XM5rCkp5V7b42sUQ/T6QiUCziANJ/+ega1uxMFXZe/vaxTFhNdahz+dwaH4JRu21krMdxkJ35u1Cs7rAxtcRsRgZ17fSr+6wUwO6QZMAhm+SUmroWgmX+oaGGzZFuKL8cRUpUr9EcHkdyMa0U8Crp2WuxE216aAcpjfvDm8f6JatvFQxUwOGTpOF2/lUljbv2/66rEMVWy8UR0pF+DKYygZGRjaGXcMJUrN+rZ6UarV4emC5eyuHAkEjlhZUA3uHkto7JQHdwJP4ifXmkaTIOEmuXb5RnrMOdbwSb4w931bg7vKv2hr1AnMEPjk6o466+xNqfC/AnWJQYQIA2COKFGiPDOyBOQBTC1bhV/+jY8FaVt9nv4DguA3GCvpDXoAAAAASUVORK5CYII="},ce85:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{staticClass:"cc-content-preview-drawer",attrs:{visible:!0,closable:!1,title:null,width:"1000px",bodyStyle:{height:"100%"}},on:{close:e.handleClose}},[a("div",{staticClass:"content-preview"},[a("content-preview-detail",e._b({on:{close:e.handleClose,reload:e.handleReload}},"content-preview-detail",e.$attrs,!1))],1)])},s=[],n=(a("d3b7"),a("3ca3"),a("ddb0"),{name:"ContentPreview",components:{ContentPreviewDetail:function(){return Promise.all([a.e("chunk-6e709c5e"),a.e("chunk-14f6b998"),a.e("chunk-fc7cb014"),a.e("chunk-8537801c"),a.e("chunk-0c73e72c")]).then(a.bind(null,"70fe"))}},data:function(){return{}},methods:{handleClose:function(){this.$emit("close")},handleReload:function(){this.$emit("reload")}}}),r=n,o=(a("fe45"),a("0c7c")),l=Object(o["a"])(r,i,s,!1,null,"499cb44e",null);t["a"]=l.exports},cf3a:function(e,t,a){e.exports=a.p+"img/9.1120bb95.png"},cfe3:function(e,t,a){"use strict";a("b7f2")},d185:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1651915723829",class:"icon",viewBox:"0 0 1317 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3997","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"61.734375",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M656.175524 768.22059l85.236153-84.379029-111.902212-110.521292-85.712332 84.37903v40.713358h70.950764v69.807933h41.427627z m324.278325-523.797588a15.285366 15.285366 0 0 0-24.285161 0.761887l-258.089357 254.51801a14.904422 14.904422 0 0 0-0.952359 23.808982 15.809164 15.809164 0 0 0 24.761341-0.71427l258.089357-254.565628a14.666332 14.666332 0 0 0 0.476179-23.666127z m59.046274 432.037774v138.092092a200.471622 200.471622 0 0 1-61.903351 147.996627 207.423845 207.423845 0 0 1-150.472762 61.427172H213.328472a207.423845 207.423845 0 0 1-150.472761-61.427172 200.947802 200.947802 0 0 1-62.379531-147.996627V209.661889a200.804948 200.804948 0 0 1 62.379531-147.996627A207.471463 207.471463 0 0 1 213.328472 0.190472h613.795538a204.138206 204.138206 0 0 1 86.188512 18.190062 21.523319 21.523319 0 0 1 13.33303 16.761522 21.809027 21.809027 0 0 1-6.666515 21.04714l-36.189652 35.665854a21.428083 21.428083 0 0 1-23.332801 5.809391 134.187419 134.187419 0 0 0-33.332574-4.380852H213.328472a113.473605 113.473605 0 0 0-83.331434 34.189697A110.568909 110.568909 0 0 0 95.235925 209.661889v605.129069a110.568909 110.568909 0 0 0 34.761113 82.188603 113.425987 113.425987 0 0 0 83.331434 34.142079h613.795538a114.28311 114.28311 0 0 0 83.331434-34.142079 110.568909 110.568909 0 0 0 34.761113-82.188603v-91.664578a22.237589 22.237589 0 0 1 6.666515-15.999636l47.141783-46.522749a22.332824 22.332824 0 0 1 25.7137-5.095122 20.904286 20.904286 0 0 1 14.761568 21.094757zM969.025538 139.711102l212.376113 209.519036L685.698661 837.933287H472.846368v-209.519035z m327.611583 95.997813l-68.093687 66.665147-212.376113-209.519035 67.617507-66.665148a69.807933 69.807933 0 0 1 50.475041-20.33287 68.71272 68.71272 0 0 1 49.99886 20.33287l112.378392 110.56891a69.950787 69.950787 0 0 1 0 98.902508z","p-id":"3998"}}]})}},d28d:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"k",(function(){return d})),a.d(t,"l",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"h",(function(){return h})),a.d(t,"i",(function(){return m})),a.d(t,"j",(function(){return g})),a.d(t,"g",(function(){return f}));var i=a("b775"),s={GetUserTags:"/classcipe/api/tag/getUserTags",UserTagAddOrUpdate:"/classcipe/api/tag/addOrUpdateUserTag",AddUserTagNew:"/classcipe/api/tag/addUserTagNew",AddUserParentTag:"/classcipe/api/tag/addUserParentTag",UpdateUserParentTag:"/classcipe/api/tag/updateUserParentTag",UserTagDelete:"/classcipe/api/tag/userTagDelete",UserTagDeleteNew:"/classcipe/api/tag/userTagDeleteNew",GetTreeByKey:"/classcipe/api/tag/getTreeByKey",GetGlobalTree:"/classcipe/api/tag/getTree",GetRootGlobalTag:"/classcipe/api/tag/getRootGlobalTag",GetGlobalTagKeywords:"/classcipe/api/tag/getTagKeywords",TagQueryById:"/classcipe/api/tag/queryById",TagDelete:"/classcipe/api/tag/delete",TagDeleteBatch:"/classcipe/api/tag/deleteBatch",FindCustomTags:"/classcipe/api/tag/findCustomTags",GetTagYearTips:"/classcipe/api/tag/getTagYearTips",QuerySourceTagByCategory:"/classcipe/api/tag/querySourceTagByParent",SchoolRootCustomList:"/classcipe/api/tag/rootSchoolCustomList",SchoolAddOrUpdateTag:"/classcipe/api/tag/addOrUpdate",SchoolTagSet:"/classcipe/api/tag/schoolTagSet",SchoolSelectLibrary:"/classcipe/api/tag/schoolSelectLibrary",SchoolTagDelete:"/classcipe/api/tag/schoolTagDelete",SchoolCommonTagList:"/classcipe/api/tag/schoolCommonTagList"};function n(e){return Object(i["d"])({url:s.GetTreeByKey,method:"get",params:e})}function r(e){return Object(i["d"])({url:s.GetTagYearTips,method:"get",params:e})}function o(e){return Object(i["d"])({url:s.GetGlobalTagKeywords,method:"get",params:e})}function l(e){return Object(i["d"])({url:s.AddUserTagNew,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(i["d"])({url:s.AddUserParentTag,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(i["d"])({url:s.UpdateUserParentTag,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(e){return Object(i["d"])({url:s.UserTagDeleteNew,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function p(e){return Object(i["d"])({url:s.FindCustomTags,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return Object(i["d"])({url:s.SchoolSelectLibrary,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function m(e){return Object(i["d"])({url:s.SchoolTagDelete+"?id="+e.id,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function g(e){return Object(i["d"])({url:s.SchoolTagSet,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(e){return Object(i["d"])({url:s.SchoolCommonTagList,method:"get",params:e})}},d33b:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));a("159b"),a("9911"),a("4de4"),a("d81d"),a("d3b7");var i=a("7aef"),s=a("8448"),n=a.n(s),r=a("998c"),o=a.n(r),l=a("4084"),c=a.n(l),d=a("8a21"),u=a.n(d),p=a("1eeb"),h=a.n(p),m=a("5a1d"),g=a.n(m),f=a("6631"),v=a.n(f),y=a("1b72"),b={components:{TextTypeSvg:n.a,ImageTypeSvg:o.a,VideoTypeSvg:c.a,AudioTypeSvg:u.a,YoutubeTypeSvg:h.a,PdfTypeSvg:g.a,UrlTypeSvg:v.a},data:function(){return{loadingClass:!1,currentImgIndex:0,elementsList:[],itemsList:[],showMenuList:[],thumbnailList:[],fileTypeMap:i["a"],materialVisible:!1,mediaVisible:!1,mediaList:[],filterMaterialType:""}},created:function(){},computed:{currentPageElements:function(){var e=[];if(0===this.thumbnailList.length)return e;if(this.thumbnailList[this.currentImgIndex]){var t=this.thumbnailList[this.currentImgIndex].id;this.elementsList.forEach((function(a){if(t===a.pageId){var s=a.data;"iframe"===s.type?e.push(i["a"].youtube):"image"===s.type?e.push(i["a"].img):"audio"===s.type?e.push(i["a"].audio):"text"===s.type?e.push(i["a"].txt):"video"===s.type?e.push(i["a"].video):"pdf"===s.type?e.push(i["a"].pdf):"website"===s.type&&e.push(i["a"].link)}}))}return e},currentPageElementLists:function(){var e=[];if(0===this.thumbnailList.length)return e;if(this.thumbnailList[this.currentImgIndex]){var t=this.thumbnailList[this.currentImgIndex].id;this.elementsList.forEach((function(a){if(t===a.pageId){var i=a.data;e.push(i)}}))}return e},currentPageItem:function(){var e=[];if(0===this.thumbnailList.length)return"";if(this.thumbnailList[this.currentImgIndex]){var t=this.thumbnailList[this.currentImgIndex].id;this.itemsList.forEach((function(a){if(t===a.pageId){var i=a.data;e.push(i)}}))}return e.length>0?e[0]:""},currentPageId:function(){return 0===this.thumbnailList.length?null:this.thumbnailList[this.currentImgIndex]?this.thumbnailList[this.currentImgIndex].id:void 0},currentPageTips:function(){if(0===this.thumbnailList.length)return"";var e=this.currentPageElementLists.filter((function(e){return"tip"===e.type}));return e?e[0]:""},currentPageMaterial:function(){var e={};if(0===this.thumbnailList.length)return e;if(this.thumbnailList[this.currentImgIndex]){var t=this.thumbnailList[this.currentImgIndex].id;this.elementsList.forEach((function(a){if(t===a.pageId){var i=a.data;"tip"!==i.type&&(e.hasOwnProperty(i.type)||(e[i.type]=[]),e[i.type].push(i))}}))}return e}},methods:{getClassInfo:function(e){var t=this;this.loadingClass=!0;var a=this.thumbnailList.map((function(e){return e.id}));0===a.length?this.loadingClass=!1:Object(y["d"])({slideId:e,pageIds:a}).then((function(e){t.$logger.info("QueryByClassInfoSlideId ",e),e.success&&(e.result.relements.forEach((function(e){"string"===typeof e.data&&(e.data=JSON.parse(e.data))})),e.result.items.forEach((function(e){"string"===typeof e.data&&(e.data=JSON.parse(e.data))})),t.elementsList=e.result.relements,t.itemsList=e.result.items)})).finally((function(){t.loadingClass=!1,t.setTaskKnowAndBloomFormPPT()}))},setTaskKnowAndBloomFormPPT:function(){var e=this.thumbnailList.map((function(e){return e.id})),t=[],a=[];this.itemsList.forEach((function(i){if(-1!==e.indexOf(i.pageId)){var s=i.data;s.data&&s.data.bloomLevel&&-1===t.indexOf(s.data.bloomLevel)&&t.push(s.data.bloomLevel),s.data&&s.data.knowledgeLevel&&-1===a.indexOf(s.data.knowledgeLevel)&&a.push(s.data.knowledgeLevel)}})),t.length>0&&this.setCustomTagByPPT&&this.setCustomTagByPPT(t,"Bloom's Taxonomy"),a.length>0&&this.setCustomTagByPPT&&this.setCustomTagByPPT(a,"Knowledge Dimensions")},showPluginMaterial:function(e){var t=this.currentPageMaterial[e];this.$logger.info("showPluginMaterial ",t),"text"===e||"website"===e||"pdf"===e?t.length>1?(this.filterMaterialType=e,this.materialVisible=!0):"tip"!==t[0].type&&window.open(t[0].url,"_blank"):(this.mediaList=t,this.filterMaterialType=e,this.mediaVisible=!0)},showMaterialSize:function(e){return this.currentPageMaterial[e].length>1?this.currentPageMaterial[e].length:0},computerSize:function(e){var t=0,a=this.thumbnailList[this.currentImgIndex].id;return this.elementsList.forEach((function(i){if(a===i.pageId){var s=i.data;s.type===e&&t++}})),t},onChangePage:function(e){this.currentImgIndex=e},getTargetPageItemData:function(e){var t=null;return this.itemsList.forEach((function(a){e===a.pageId&&(t=a.data)})),t}}}},d340:function(e,t,a){},d4fb:function(e,t,a){},d815:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABVNJREFUeF7tm0+IG3UUx9+brOypB2kmCoL00HopnlZcaJvU9mILCrXignUR7XYTW1GpB+mldBeEIoVFFP9ksodClaLFFS9aT+1m4l7qsQiixR5EShKKKIsUmnky2cw4SebP78/7jZRtjsnv937v+5n3+/fmBWGTf3CT64chAEW3MQWe9ywnlAnPO39r3/GbqjZtt/4CebBTtf9oP8vCG+1y9ULwfQjAbjkHgeBbroECO+TRYndvbUHFrr22vB163i8qfVP7ELzaqVTP+21CAMXV+gJaeIZ7MILevm75+FVVu3bL+QIIZlT7x/WLPhSjAAjwSLc8f1HX+WKzfgERZ3XtxEWlOQCRMONw3HadZQCY47BlPAII6bXunlqdw9moDdt1PgKAE7p2DQOgtzrl2ge6Tib1L7WcJSI4qWPfGAAkfKddmT+n45xIX9utnwXAUyJt81wET3fK1XdVnZLtp7NrGYkAnf0+T/H+WEYAjBqWFSXaXufJ57INmowEDvFGIyCOsOiTzWrHJT4XANzTgVN8bgC4IBTdxhkEUrpMJUWVsUUwds8FXOiW5xezQjzud3XxNAOAXzID8I36n2TDiQMqQNAR3ynXLpWan84SWuG9P+qbQgTQjG/UN+InKJQgSOQFdMUHYu3VxhxY5F+ihj6SAP4THxo2CIFLfOBryXVOEIB/iQo/EgDGxZuEwC0+8LXYrJ9ExKW4bTolH5AsXhtCTJao6DqPIcDP8otltp8bU7dxCoDOJm6DdqsxBxTMFzGj6mtCvH275fwGBNvEIYj76dsMzhNIcKBdqX7fX9Kjg9k/OG8AWt91dh37VdwJ2YURVzrl+efj7Jdc5zkiuAgIk9njy4lPssf2XkBsd6DLk4X1w7/vevufJIdKa87T1AM/j/hgMgQe8WMRkE09vUUGhNU769bhvw4cu501TrHp7EWEzwHgkfG2fOLZASSuCQjXCAqHunvm/sgSH/y+tbn8pIXeZwCwI7KBhecRUTtZ7dimwNBaMnROoOtowaH27tqNLGdGf39orf6410M/v7gFgN4LDmOydtLaGwHQX3HdxpQFNG3RxKVblaMdTqc5bRkDwOmkSVv3AZikey/Yvh8Bpp7SVrc+bQE8yrFyP3zlk206NQa57wLDOTxcmSz8PZt2+ks8FfpHY4Ql/35gKtvMPgXiE5h0+c564SWRU2AAo38kvgvfRO8FJiCwAsjI3q4SFo6InAYHR+Gv4+4D3BDYAAilrhGuIdKLaafCwRF4Jf4esBEfnBBCAP5Cc9eyXgHLuypb0iIkPpzodL1AD+yPOx0Ojr5fDZ//41cIVQh+3VH0uh+bEZIpbZETvyEGAV5vl6sfj0qzXecKADwlujPJQgjrjYSKpARKXFRzeD2a2Hm7cvQnXQD96SCYco/WGQknRdNKXVTFAxhItGZAGK0vEgYwWHLGSl5MiA+iQSyzND5JkiIhrq5IEgBAtPTFpHhuCEn1RNIABo6dJsCC2otK+TSWbiSk1RGpAhBdnEfayYvXjgSPFtOqXnMEoC5eF0La08oJgL54UxByAMAn3gQEwwD4xXNDMAjAnHhOCIYAmBfPBeGeB+CDUD0njF6nmf8vkE8UpNX/iBxWDEVAMLRZCEl1PyLCQw8j9UrMEWAWQly9j4zwHAH0Zxrrm9zROh8V4TkD4IMQre/REf4/AACAgrVDtuQmKlIl5ZYFKX4RdBtTCPRjVmfp3y14s7O7+qF0v0EH23VItW9SPwR4Ofj36HCRVMs5SD2aZhsQ4c9upfa+jr2i6zwDHj2hYyPaFxFvBv8a9b9ney/A5WDedjY9gH8Beinjbph4NMoAAAAASUVORK5CYII="},d980:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"ratePercentCon",staticClass:"rate-percent-con"},[a("div",{staticClass:"rate-percent-wrap"},[a("div",{ref:"ratePercentSum",staticClass:"rate-percent__sum"},[a("div",{staticClass:"sum-title"},[e._v(e._s(e._f("percentFormat")(e.percents.avgReviewsScore)))]),a("div",{staticClass:"sum-desc"},[a("a-rate",{attrs:{defaultValue:e.percents.avgReviewsScore,"allow-half":"",disabled:""}})],1)]),a("div",{staticClass:"rate-percent__detail",attrs:{direction:"vertical"}},e._l(e.percents.reviewsScoreStatDetail.concat().reverse(),(function(t,i){return a("a-space",{key:"percent_"+i,staticClass:"detail-bar",attrs:{align:"center"}},[a("a-progress",{style:{width:e.progressWidth},attrs:{strokeLinecap:"square",strokeColor:"#FFBB00",percent:t.reviewsScoreRate,showInfo:!1}}),a("a-rate",{attrs:{defaultValue:t.reviewsScore,disabled:""}}),a("span",[e._v(e._s(t.reviewsScoreRate)+"%")])],1)})),1)])])},s=[],n=a("5530"),r=(a("b4ab"),{name:"RateByPercent",props:{rates:{type:Object,default:function(){return{avgReviewsScore:0,reviewsScoreStatDetail:[{reviewsScore:1,reviewsScoreCount:0,reviewsScoreRate:0},{reviewsScore:2,reviewsScoreCount:0,reviewsScoreRate:0},{reviewsScore:3,reviewsScoreCount:0,reviewsScoreRate:0},{reviewsScore:4,reviewsScoreCount:0,reviewsScoreRate:0},{reviewsScore:5,reviewsScoreCount:0,reviewsScoreRate:0}]}}}},watch:{rates:function(e){this.percents=Object(n["a"])({},e)}},data:function(){return{percents:this.rates,progressWidth:"135px"}},mounted:function(){if(this.$refs.ratePercentCon&&this.$refs.ratePercentSum){var e=this.$refs.ratePercentCon.getBoundingClientRect().width,t=this.$refs.ratePercentSum.getBoundingClientRect().width;this.progressWidth=e-40-t-45-200+"px"}}}),o=r,l=a("0c7c"),c=Object(l["a"])(o,i,s,!1,null,null,null);t["a"]=c.exports},da06:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#fff;",d:"M30.273,36.273a6,6,0,1,1,6-6,6.007,6.007,0,0,1-6,6m0-13a7,7,0,1,0,7,7,7,7,0,0,0-7-7m0,9.536a.441.441,0,1,0,.441.44.441.441,0,0,0-.441-.44m.481-5.736a2.264,2.264,0,0,0-2.743,2.212.5.5,0,1,0,1,0A1.263,1.263,0,1,1,30.7,30.473a1.391,1.391,0,0,0-.925,1.307v.147a.5.5,0,0,0,1,0v-.153a.383.383,0,0,1,.262-.36,2.263,2.263,0,0,0-.281-4.342",transform:"translate(-23.273 -23.273)"}}]})}},dd6e:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"reviews-wrapper"},[e.canList||e.showCreate||e.canEdit?i("div",{staticClass:"reviews-title"},[i("h4",[e._v("Reviews")])]):e._e(),i("review-edit",{directives:[{name:"show",rawName:"v-show",value:e.canEdit,expression:"canEdit"}],ref:"myReview",attrs:{role:e.role,footerBottom:!e.canList&&e.showCreate,canCreate:e.showCreate,myReviews:e.myReviews},on:{submit:e.handleSaveMyReview}}),e.needSearch&&e.canList?i("div",{staticClass:"reviews-search"},[i("div",{staticClass:"my-search"},[i("a-input-search",{attrs:{placeholder:"Search",allowClear:!0},on:{search:e.triggerSearch,pressEnter:e.triggerSearch},model:{value:e.reviewsNotes,callback:function(t){e.reviewsNotes=t},expression:"reviewsNotes"}})],1),i("a-select",{attrs:{getPopupContainer:function(e){return e.parentElement}},on:{change:e.triggerChangeRate},model:{value:e.reviewsScore,callback:function(t){e.reviewsScore=t},expression:"reviewsScore"}},[i("a-select-option",{attrs:{value:""}},[e._v(" All rating ")]),e._l([5,4,3,2,1],(function(t){return i("a-select-option",{key:"rate_choose_"+t,attrs:{value:t}},[e._v(" "+e._s(t)+" star ")])}))],2)],1):e._e(),e.canList?i("div",{staticClass:"reviews-content"},[i("a-spin",{attrs:{spinning:e.delLoading}},[e.myReviews?i("div",{staticClass:"reviews-content-detail reviews-me"},[i("div",{staticClass:"content-detail__avatar"},[e.myReviews.avatar?i("img",{attrs:{src:e.myReviews.avatar}}):i("img",{attrs:{src:a("4992")}})]),i("div",{staticClass:"content-detail__rate"},[i("review-score",{attrs:{review:e.myReviews}}),i("div",{staticClass:"content-detail__tag"},[i("a-tooltip",{attrs:{title:"Distance learning"}},[i("a-tag",{directives:[{name:"show",rawName:"v-show",value:e.myReviews.learningDistance,expression:"myReviews.learningDistance"}],attrs:{color:"#f50"}},[e._v(" Distance ")])],1),i("a-tooltip",{attrs:{title:"At home learning"}},[i("a-tag",{directives:[{name:"show",rawName:"v-show",value:e.myReviews.learningHome,expression:"myReviews.learningHome"}],attrs:{color:"#2db7f5"}},[e._v(" At home ")])],1),i("a-tooltip",{attrs:{title:"In-class learning"}},[i("a-tag",{directives:[{name:"show",rawName:"v-show",value:e.myReviews.learningClass,expression:"myReviews.learningClass"}],attrs:{color:"#87d068"}},[e._v(" In-class ")])],1)],1)],1),i("div",[i("div",{staticClass:"content-detail__title"},[i("div",{staticClass:"title-info"},[i("div",{staticClass:"info-author"},[e._v(" "+e._s(e.myReviews.nickName)+" ")]),i("div",{staticClass:"info-time"},[e._v(" "+e._s(e._f("dayjs")(e.myReviews.createTime))+" ")])])]),i("div",{staticClass:"content-detail__review"},[i("label",[e._v(" "+e._s(e.myReviews.reviewsNotes)+" ")])])]),i("a-space",{directives:[{name:"show",rawName:"v-show",value:e.canEdit,expression:"canEdit"}],staticClass:"content-detail__edit"},[i("a-button",{attrs:{type:"link"},on:{click:function(){return e.triggerEdit(!0)}}},[e._v("Edit")]),i("a-button",{attrs:{type:"link"},on:{click:e.handleDelMyReview}},[e._v("Delete")])],1)],1):e._e()]),i("a-skeleton",{attrs:{loading:e.loading,active:""}},[e.reviewsList.length>0?i("a-list",{attrs:{"item-layout":"vertical",pagination:e.pagination,"data-source":e.reviewsList},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("a-list-item",{key:"item.id"},[i("div",{staticClass:"reviews-content-detail"},[i("div",{staticClass:"content-detail__avatar"},[t.avatar?i("img",{attrs:{src:t.avatar}}):i("img",{attrs:{src:a("4992")}})]),i("div",{staticClass:"content-detail__rate"},[i("review-score",{attrs:{review:t}}),i("div",{staticClass:"content-detail__tag"},[i("a-tooltip",{attrs:{title:"Distance learning"}},[i("a-tag",{directives:[{name:"show",rawName:"v-show",value:t.learningDistance,expression:"item.learningDistance"}],attrs:{color:"#f50"}},[e._v(" Distance ")])],1),i("a-tooltip",{attrs:{title:"At home learning"}},[i("a-tag",{directives:[{name:"show",rawName:"v-show",value:t.learningHome,expression:"item.learningHome"}],attrs:{color:"#2db7f5"}},[e._v(" At home ")])],1),i("a-tooltip",{attrs:{title:"In-class learning"}},[i("a-tag",{directives:[{name:"show",rawName:"v-show",value:t.learningClass,expression:"item.learningClass"}],attrs:{color:"#87d068"}},[e._v(" In-class ")])],1)],1)],1),i("div",[i("div",{staticClass:"content-detail__title"},[i("div",{staticClass:"title-info"},[i("div",{staticClass:"info-author"},[e._v(" "+e._s(t.nickName)+" ")]),i("div",{staticClass:"info-time"},[e._v(" "+e._s(e._f("dayjs")(t.createTime))+" ")])])]),i("div",{staticClass:"content-detail__review"},[i("label",[e._v(" "+e._s(t.reviewsNotes)+" ")])])])])])}}],null,!1,2711396856)}):e._e(),e.myReviews||0!==e.reviewsList.length?e._e():i("a-empty",{attrs:{description:"No reviews yet"}})],1)],1):e._e()],1)},s=[],n=a("5530"),r=a("53ca"),o=(a("a9e3"),a("d3b7"),a("7db0"),a("823b")),l=a("f93e"),c=a("ed18"),d=a("abb8"),u={name:"ReviewsPreview",components:{ReviewEdit:c["a"],ReviewScore:d["a"]},props:{id:{type:[String,Number],required:!0},role:{type:String,default:"student"},save:{type:Function,default:function(){}},list:{type:Function,required:!0},del:{type:Function,default:function(){}},myReview:{type:Function,default:function(){}},canEdit:{type:Boolean,default:!0},canCreate:{type:Boolean,default:!0},canList:{type:Boolean,default:!0},needSearch:{type:Boolean,default:!0}},watch:{id:{handler:function(e){this.currentId=e,this.loadData()},immediate:!0},canCreate:function(e){this.showCreate=e}},data:function(){var e=this;return{loading:!1,delLoading:!1,subLoading:!1,showCreate:this.canCreate,RATE_TOOLTIPS:l["y"],isEdit:!1,myReviews:null,reviewsList:[],reviewsNotes:"",reviewsScore:"",currentId:this.id,pagination:{onChange:function(t){e.pageNo=t,e.loadReviewList()},showTotal:function(e){return"Total ".concat(e," items")},total:0,pageSize:10,size:"small"},pageNo:1,mockData:{reviewsLabel:1,reviewsNotes:"123213123",reviewsScore:1,overall:1,effectiveness:5,quality:4,studentsEngagement:1,createBy:"jacob",id:123213213,createTime:"123123"}}},mounted:function(){this.loadData()},methods:{justifyPromise:function(e){return("object"===Object(r["a"])(e)||"function"===typeof e)&&"function"===typeof e.then},loadData:function(){this.loadMyReview(),this.loadReviewList()},loadMyReview:function(){var e=this,t=this.myReview({taskId:this.currentId,purchasesId:this.currentId});this.justifyPromise(t)&&(this.$refs.myReview&&this.$refs.myReview.triggerLoading(!0),this.delLoading=!0,t.then((function(t){t.success&&t.result?e.myReviews=Object(n["a"])(Object(n["a"])({},t.result),{},{learningClass:Boolean(t.result.learningClass),learningDistance:Boolean(t.result.learningDistance),learningHome:Boolean(t.result.learningHome),updatedMsg:Boolean(t.result.updatedMsg)}):e.myReviews=null})).finally((function(){e.$refs.myReview&&e.$refs.myReview.triggerLoading(!1),e.delLoading=!1})))},loadReviewList:function(){var e=this,t=this.list({reviewsNotes:this.reviewsNotes,reviewsScore:this.reviewsScore,pageNo:this.pageNo,pageSize:this.pagination.pageSize,taskId:this.currentId,excludeSelf:1,overall:this.reviewsScore,searchKey:this.reviewsNotes,purchasesId:this.currentId});this.justifyPromise(t)&&(this.loading=!0,t.then((function(t){o["info"]("loadReviewList",t),t.result&&t.result.records&&t.result.records.length?(e.reviewsList=t.result.records,e.pagination.total=t.result.total):(e.reviewsList=[],e.pagination.total=0),o["info"]("reviewsList",e.reviewsList)})).finally((function(){e.loading=!1})))},handleDelMyReview:function(){var e=this;this.myReviews&&this.$confirm({title:"Confirm delete",content:"Are you sure to delete your review ?",centered:!0,onOk:function(){var t=e.del({id:e.myReviews.id});e.justifyPromise(t)&&(e.delLoading=!0,t.then((function(t){e.$logger.info("del response",t),t.success&&(e.$message.success("Del successfully"),e.myReviews=null,e.$emit("update"))})).finally((function(){e.delLoading=!1})))}})},handleSaveMyReview:function(e){var t=this;if("student"!==this.role||this.myReviews){var a=this.save(Object(n["a"])({taskId:this.currentId,purchasesId:this.currentId,id:this.myReviews&&this.myReviews.id?this.myReviews.id:null},e));this.justifyPromise(a)&&(this.$refs.myReview&&this.$refs.myReview.triggerLoading(!0),a.then((function(e){if(e.success){if(t.$message.success("Submitted successfully"),t.myReviews=Object(n["a"])(Object(n["a"])(Object(n["a"])({},t.myReviews),e.result),{},{learningClass:Boolean(e.result.learningClass),learningDistance:Boolean(e.result.learningDistance),learningHome:Boolean(e.result.learningHome),updatedMsg:Boolean(e.result.updatedMsg)}),t.myReviews&&t.myReviews.id){var a=t.reviewsList.find((function(e){return e.id===t.myReviews.id}));a&&(a=Object(n["a"])(Object(n["a"])({},a),e.result))}t.$refs.myReview&&t.$refs.myReview.triggerIsEdit(!1),t.$emit("update")}})).finally((function(){t.$refs.myReview&&t.$refs.myReview.triggerLoading(!1)})))}},triggerEdit:function(e){this.$refs.myReview&&this.$refs.myReview.triggerEdit(e)},triggerSearch:function(){this.loadReviewList()},triggerChangeRate:function(e){this.loadReviewList()}}},p=u,h=(a("6f26"),a("0c7c")),m=Object(h["a"])(p,i,s,!1,null,"807d777a",null);t["a"]=m.exports},de1a:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABL5JREFUWEetV11oHFUU/s7dieQh0GzzswvmYdudiEKlBQ0oJrjQhhpIdGdVaJGCog8RLe1DHyoqFSxYkGJFwYqKLRZSMGbXpEjElKRYaB8CBlowmNk04A+72TZJMUrC7twjd5LdnZ39T5y3uXPvOd/5+b57hvA/PK3B8GOaoEMAngDQAVAAjDUGm8Q0DcZwYn7pR2Aq43ZH2/Hf8lD/g5psOE9E/dXt8Cxb/GZyPnbVuXfLANp3GXvJQ+NE8Fd3vrGDwRlAnEjOffdx9syWALTrzx0k8gwT0FSrc+c+CQwuzo18rtbqBuDbHd4PFTlIcxq1o2NclsxXifkPQOgk6CCI+9177f5g7krGo7frAqCazSPElDtyZphgNpRBd0bags/qHtKGQHi8ADAjljRHjLoA+HRjzN1wzDwjM+t9qYUfEuXK0dYWavLs2DlZBELyo/UB6DSGCDbdNh++bq0s96VSU6vVeqElMPBwQ0PDr4Vlw+m6ANjpFJ6vmbEHoAvy/tK7hc5Dmj/o/YQJh0A0LdNrR5yZ8XVGfiLgQA4+42ZdACpHGdLade+QIHohu08CFxbnRl7Jvvs6I+8T8E4eAK+UBxAINbY80NRy77crf1ZLL1DsfJP44wlzpC973q9HToHwXlUhUjwXJC4B1MqQE8m5lb5SMrphqLRzRUspMZCKR8dzAILGZxA06ChBoigD7Z3h5wl0uYC7kl9OxKMXizNRwTnLwynz++H8mZDm1713QNSR72FWlM4/JZ0DsNh6sdBY+cjVFwYdd8qtWvPrxhsg+rQgCOaTOQCtuvG0hzBRpHDMU0lzubewBGVqXsZ5ezDyFAkVrUM9GWtWZm2XDcAfCAdYEzeKL5ZinitRETt2fkOEsLskpSLfcI7xYvXkM0kz+pYNwFckMHYiS4hMSPN3eicB6t6m8xl5f7lHaQj5gsYeEnTLZXDWWlnqcouMm+e5bi5Vc5XVBnGrxL2RkJzpScVHTXWe/Hr4FEgUcDNjZbruzo9OOzu4Hud2VnXjAyI66QyMgVVwujdpjt3MrpNPj6jaq1HKfhiYSM6N9G7H+UZZw8cI4pyT80DacDrfzIDxewE3pTyaiMdydPEFjbdJ0Olaal6wJxBq9GneL4jQzSAzk04fvbcwNuu2Q/7OCDsXpZTGYjwWy6759ci3IOT0vRzP3YZrfSefbiwTUXM+VfK1pBn7KvveHgyHhRDRSg3XHAg3N2q0V1rW7OKd0WStzu0S+HTjFyLalwfAl5Jm9IjTSNtuo9sjaD8gryXM2JTzm+K5EBzbuDewKtOyJ7UQm6kVhGrCj4hwPB+hukSsR7I0qWSopMhIPp+IR1+vGYAdnYd+LqCLGrM2haKcoQ3ppitunkuJE4vxkbM1A1Ab/boxCaKQ69AsmAcTZvSau7v9mvcYkxqnCidjACUErDIUW4rbAuF9Hk3cAKGxiG7Mt4lomhkrBO5gomdK/w/wgpVef7LScFoKSu429OmRV4nwZa2pc2fLkpmBWvqmSAecCwoECOfq+eNRyvnvP+nDf/81dncr4IsmIjU+a5r2YbUfTmZ7oDyTMJfPlh/XqkMqO5SqWxKElwh0gMG6LVbMKkr19zNuZdYv1lvvUnD+A2xgPb8puyDSAAAAAElFTkSuQmCC"},de36:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-input-with-button"},[e.replyMode?[a("a-input",{staticClass:"my-padding-input reply-mode",attrs:{size:"large"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("div",{staticClass:"reply-info",attrs:{slot:"addonBefore"},slot:"addonBefore"},[a("span",{staticClass:"reply-tips"},[e._v("Reply")]),a("span",{staticClass:"reply-user"},[e._v(" @"+e._s(e.replyUsername)+" ")])])])]:e._e(),e.replyMode?e._e():[a("a-input",{staticClass:"my-padding-input",attrs:{size:"large"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],a("a-button",{staticClass:"my-send-btn",attrs:{loading:e.sendLoading,size:"small",type:"primary"},on:{click:e.handleSendEvent,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSendEvent.apply(null,arguments)}}},[e._v("Send ")])],2)},s=[],n={name:"EvidenceCommentInput",props:{replyMode:{type:Boolean,default:!1},replyUsername:{type:String,default:null},extra:{type:Object,default:null}},data:function(){return{value:null,sendLoading:!1}},methods:{handleSendEvent:function(){var e=this;this.$logger.info("trigger send "+this.value),this.value&&(this.sendLoading=!0,this.$emit("send",{inputValue:this.value,extra:this.extra}),setTimeout((function(){e.sendLoading=!1,e.value=""}),1e3))}}},r=n,o=(a("f61a"),a("0c7c")),l=Object(o["a"])(r,i,s,!1,null,"64ce848f",null);t["a"]=l.exports},dfbd:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1651918650328",class:"icon",viewBox:"0 0 1177 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3725","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"55.171875",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M1177.559963 350.415734v518.177582a148.014168 148.014168 0 0 1-46.846407 109.717869 155.693906 155.693906 0 0 1-112.636171 45.668848H380.147075a155.693906 155.693906 0 0 1-112.63617-45.668848 147.962969 147.962969 0 0 1-46.795209-109.717869V350.415734a147.860573 147.860573 0 0 1 46.795209-109.71787 155.693906 155.693906 0 0 1 112.63617-45.668847h637.93031a155.693906 155.693906 0 0 1 112.636171 45.668847A147.911771 147.911771 0 0 1 1177.559963 350.415734z m-195.01417 262.544673v-6.911765a33.022877 33.022877 0 0 0-10.546841-24.267975 34.661222 34.661222 0 0 0-24.882354-10.239651h-208.991294V367.618349a32.818084 32.818084 0 0 0-10.546842-24.267975 34.558825 34.558825 0 0 0-24.882354-10.239652h-7.065359a34.558825 34.558825 0 0 0-24.882354 10.239652 32.818084 32.818084 0 0 0-10.546842 24.267975v203.666675H451.210259a34.661222 34.661222 0 0 0-24.882354 10.239652 33.022877 33.022877 0 0 0-10.546842 24.267975v6.860567a32.971679 32.971679 0 0 0 10.546842 24.267975 34.251635 34.251635 0 0 0 24.882354 10.239652H660.457544v203.666675a32.766886 32.766886 0 0 0 10.546842 24.267975 34.149239 34.149239 0 0 0 24.882354 10.239652h7.06536a34.558825 34.558825 0 0 0 24.882354-10.239652 32.766886 32.766886 0 0 0 10.546841-24.267975V647.160845H947.167796a34.661222 34.661222 0 0 0 24.882354-10.239652 31.896516 31.896516 0 0 0 10.495643-23.960786z","p-id":"3726"}},{tag:"path",attrsMap:{d:"M686.927044 219.450587l220.766894 24.370371-6.143791-68.912857a98.761442 98.761442 0 0 0-99.785407-97.276692H179.603493a98.761442 98.761442 0 0 0-99.734209 97.276692V629.753436a98.761442 98.761442 0 0 0 99.734209 97.276693l114.786498 4.505447V292.664097z m294.389991-44.542486v151.905235l-196.294126-58.622007-311.695002 68.810461-7.218955 4.351852 1.228759 131.374733-99.324623 112.636171-26.162311 219.384541H179.603493A177.299572 177.299572 0 0 1 0 629.753436V174.959299A177.35077 177.35077 0 0 1 179.603493 0.014847H801.76474a177.35077 177.35077 0 0 1 179.552295 174.893254z","p-id":"3727"}}]})}},dfe9:function(e,t){e.exports="data:image/png;base64,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"},e062:function(e,t,a){e.exports=a.p+"img/4.1ebec331.png"},e11c:function(e,t,a){"use strict";a.d(t,"b",(function(){return v})),a.d(t,"a",(function(){return y}));var i=a("2909"),s=a("5530"),n=(a("c740"),a("159b"),a("b0c0"),a("d81d"),a("4de4"),a("d3b7"),a("523d")),r=a("d4ec"),o=a("bee2"),l=a("ade3"),c=function(){function e(){Object(r["a"])(this,e),Object(l["a"])(this,"id",""),Object(l["a"])(this,"type",0),Object(l["a"])(this,"fieldName",""),Object(l["a"])(this,"inputValue","")}return Object(o["a"])(e,null,[{key:"convert2CollborateMsg",value:function(t){var a=new e;return a.id=t.id,a.type=t.type,a.fieldName=t.fieldName,a.inputValue=t.inputValue,a}}]),e}(),d=function(){function e(){Object(r["a"])(this,e),Object(l["a"])(this,"id",""),Object(l["a"])(this,"type",0),Object(l["a"])(this,"details",{})}return Object(o["a"])(e,null,[{key:"convert2SaveContentMsg",value:function(t){var a=new e;return a.id=t.id,a.type=t.type,a.details=t.details,a}}]),e}(),u=a("39e6"),p=a("f93e"),h=a("2f62"),m=a("8ded"),g=a.n(m),f=a("9fb0"),v={collaborate:1,collaborateComment:2,imageUpload:3,customTag:4,taskDetails:5,recommend:6,associate:7,assessmentToolsLearnOuts:8},y={data:function(){return{shareVisible:!1,shareStatus:0,oldForm:{},rightModule:v,showModuleList:[v.customTag,v.recommend],rightWidth:600,leftWidth:730,collaborate:{},initCompleted:!1,updateContentVisible:!1,defaultHistoryKey:"1",showCollaborateModalVisible:!1,collaborateContent:null,currentFieldName:{},historyList:[],collaborateCommentList:[],currentCollaborateCommentList:[],currentRightModule:null,showHistoryLoading:!1}},watch:{needRefreshCollaborate:function(e){e&&e.indexOf(this.oldForm.id)>-1&&this.isOwner&&(this.refreshCollaborateAction(!1),this.handleStartCollaborate())},changeCollaborate:function(e){e&&e.indexOf(this.form.id)>-1&&(this.changeCollaborateAction(!1),this.$logger.info("need changeCollaborate"),this.queryContentCollaborates(this.form.id,this.form.type))}},filters:{unitLabelName:function(e,t,a){return a&&a.planFieldMap&&a.planFieldMap[t]?a.planFieldMap[t]:e},unitLabelHint:function(e,t,a){return a&&a.planHintMap&&a.planHintMap[t]?a.planHintMap[t]:e},taskLabelName:function(e,t,a){return a&&a.taskFieldMap&&a.taskFieldMap[t]?a.taskFieldMap[t]:e},taskLabelHint:function(e,t,a){return a&&a.taskHintMap&&a.taskHintMap[t]?a.taskHintMap[t]:e}},created:function(){var e=this.$route.query.token;e||(e=g.a.get(f["a"]))},mounted:function(){var e=this;this.resetWidth(),window.onresize=function(){e.resetWidth()},window.addEventListener("beforeunload",(function(t){return e.beforeunloadHandler(t)})),this.receiveSaveContentMsg("")},destroyed:function(){var e=this;window.removeEventListener("beforeunload",(function(t){return e.beforeunloadHandler(t)}))},computed:Object(s["a"])(Object(s["a"])({getCollaborateUsers:function(){return function(e){var t=[];return e.users&&(t=Object(i["a"])(e.users)),e.owner.nickName=e.owner.nickname,t.push(e.owner),t}},isOwner:function(){return!!this.oldForm&&this.$store.getters.userInfo.email===this.oldForm.createBy},isCollaborater:function(){var e=this;if(!this.collaborate.users)return!1;var t=this.collaborate.users.findIndex((function(t){return t.email===e.$store.getters.userInfo.email}));return t>-1},isEditCollaborater:function(){var e=this;if(!this.collaborate.users)return!1;var t=this.collaborate.users.findIndex((function(t){return t.email===e.$store.getters.userInfo.email}));return t>-1&&"Edit"===this.collaborate.users[t].permissions},canEdit:function(){return this.isOwner||this.isEditCollaborater},showRightModule:function(){return function(e){return this.showModuleList.indexOf(e)>-1}},showUpdateContent:function(){var e=this.$store.state.websocket.saveContentMsg;return!(!e||e.content.id!==this.form.id)&&(e.content.details.updateTime=this.oldForm.updateTime,e.content.details.gradeId=this.oldForm.gradeId,!e.hideUpdate&&!Object(u["a"])(e.content.details,this.oldForm))},associateIdTypeList:function(){var e=this,t=[];return this.associateUnitPlanIdList&&this.associateUnitPlanIdList.forEach((function(a){t.push({id:a,type:e.$classcipe.typeMap["unit-plan"]})})),this.associateTaskIdList&&this.associateTaskIdList.forEach((function(a){t.push({id:a,type:e.$classcipe.typeMap.task})})),t}},Object(h["c"])({vueSocket:"vueSocket"})),Object(h["e"])({needRefreshCollaborate:function(e){return e.websocket.needRefreshCollaborate},removedCollaborate:function(e){return e.websocket.removedCollaborate},changeCollaborate:function(e){return e.websocket.changeCollaborate},collapsed:function(e){return e.app.sideCollapsed}})),methods:Object(s["a"])(Object(s["a"])({},Object(h["b"])(["refreshCollaborateAction","changeCollaborateAction","removedCollaborateAction","receiveSaveContentMsg"])),{},{setRightModuleVisible:function(e){e===this.rightModule.collaborate?this.showModuleList=[v.collaborate]:e===this.rightModule.collaborateComment?this.showModuleList=[v.collaborateComment]:e===this.rightModule.customTag?this.showModuleList=[v.customTag]:e===this.rightModule.taskDetails?this.showModuleList=[v.taskDetails]:e===this.rightModule.recommend?this.showModuleList=[v.recommend]:this.showModuleList=[v.customTag,v.recommend]},resetRightModuleVisible:function(){this.showModuleList=[v.customTag,v.recommend]},beforeunloadHandler:function(e){if(this.$logger.info("beforeunloadHandler ",this.$route.name),"AddTask"===this.$route.name||"UnitPlan"===this.$route.name)return e=e||window.event,e&&(e.returnValue="alert"),"alert"},resetWidth:function(){document.body.clientWidth<1400?(this.rightWidth=480,this.leftWidth=550):(this.rightWidth=600,this.leftWidth=720)},queryContentCollaborates:function(e,t){var a=this;this.collaborate={},Object(n["t"])({id:e,type:t}).then((function(e){a.$logger.info("QueryContentCollaborates response:",e),e.success&&(a.collaborate=e.result)}))},confirmSelectCollaborateUsers:function(e){this.collaborate=e},handleBack:function(){this.$logger.info("handleBack"),this.$router.push({path:"/teacher/main/created-by-me"})},handleCollaborateEvent:function(e,t,a){var i=this,s=new c;s.id=e,s.fieldName=t,s.inputValue=a;var n=this.collaborate.users.filter((function(e){return e.userId!==i.$store.getters.userInfo.id})).map((function(e){return e.userId}));this.isOwner||-1===n.indexOf(this.collaborate.owner.id)&&n.push(this.collaborate.owner.id),n.length},handleSaveContentEvent:function(e,t,a){var i=this,s=new d;s.id=e,s.type=t,s.details=a;var n=this.collaborate.users.filter((function(e){return e.userId!==i.$store.getters.userInfo.id})).map((function(e){return e.userId}));this.isOwner||-1===n.indexOf(this.collaborate.owner.id)&&n.push(this.collaborate.owner.id),n.length},handleCancelComment:function(){this.handleDisplayRightModule(),this.currentFieldName=""},handleStartCollaborate:function(){this.$logger.info("handleStartCollaborate"),this.collaborateContent=Object.assign({},this.form),this.showCollaborateModalVisible=!0},cleaPageCache:function(){sessionStorage.removeItem(p["E"]),sessionStorage.removeItem(p["H"]),sessionStorage.removeItem(p["G"])},GetCollaborateModifiedHistory:function(e,t){var a=this;Object(n["r"])({sourceType:e,sourceId:t}).then((function(e){a.historyList=[],a.$logger.info("GetCollaborateModifiedHistory",e),e.code||(a.historyList=e.result)}))},GetCollaborateComment:function(e,t){var a=this;Object(n["q"])({sourceType:e,sourceId:t}).then((function(e){a.$logger.info("GetCollaborateComment",e),e.code||(a.collaborateCommentList=e.result)})).finally((function(){a.showHistoryLoading=!1}))},loadCollaborateData:function(e,t){this.GetCollaborateModifiedHistory(e,t),this.GetCollaborateComment(e,t)},handleShareStatus:function(e){this.$logger.info("handleShareStatus",e),this.shareStatus=e}})}},e568:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAAAAXNSR0IArs4c6QAAAw1JREFUSEvdl02ojmkYx3//g/H97fiOkYQwRUY2RIZIihRNWLAjFmfBwoJCQxIrmdjMAlmJkuzMkIWFFBvSTE6K5GhY+MrHNf1P962nx/u85z28Wcy1euq+7ut/ffyv674e0USJiInARWAW0FIw3QHcBY4BlyV9VD6MiF7AcGAeMBYYBNwDbgNPJH3oyseI2AUcAj7bLdwJ4B3QJun3ToWImALsANYAI9NFn30CngNngaOSHtcDj4j1wGmgZx29l8BcRcQi4DAwCugLDAT6lDz9mFK1VdLNKqMR8QPgqGcXUu2Uz08B5atHDLwaeAD8mw7npMgXA/0LII7+IbBO0q0uwMsRrwLOFe7cNrCVbNQ1cHrtoSN22vcBP5aid91XSGrvquYF/kwC/inoP61Fgs7zRLafU33N1ix20szdKOl10rWdIcAbSW/LDkXEBKDoaEclcDLYA1gKnAGGFQy+T+w8HhEDAPPEtd0j6c9vBk7gLkUb8FuJrWb4FmATsDKRcqqkv5sCnMD7ARdS9J9LB7wAHLFngHt0QK1+r5nqiDCZBidrLyW5hl9IRLglnMbeFaS6J2l6xd0vaxwRC4EDidGu0dXi5YjIxFkCnEokqmX/vKS13QG+A8xIF+77W5JbKzP7J2AvsCBlpoqQByXt7g6wZ7DZa3Ga++eWiIi5qfHdTvXGoO9ulvRHd4A7oyuIgXN/uvbbPa2AcYm5Hou1ZKGk600BTun2FBsKTE7t454dkcZpfvrsfKskPyi1iFmTXJUR1yCZZ/dowPN8KzAt1d1zfnzmRhm5qp0aAi45YU64DJ7By1x/SfsrSmCSfn3EdYy6r1skvfmuwFVgpQw1P+L/BbAH/atGImlUJ22f3l6ydHgD8bDwrpVlDPCsUaMN6vnx8Hqbpd3A3p/cl1lOAJfSKtSg3bpqHjK/AhsKWlcMvDPtwnkKeaNsaqrTm53t+z3YbGAPgmvAzNL234xoyzYM+hewPC/0rsHJtP8Wfz2aCW7QK8A2SY+KvzCO/BfAm2VrMxH9CwTccGZzx/wHLF5e3RCoSfoAAAAASUVORK5CYII="},e63d:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ppt-comment-preview"},[e.loading?a("div",{staticClass:"loading"},[a("a-spin")],1):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"img-list-wrapper"},[a("div",{staticClass:"img-list"},e._l(e.imgList,(function(t,i){return a("div",{key:i,staticClass:"img-item",on:{click:function(t){return e.handleGotoImgIndex(i)}}},[a("img",{attrs:{src:t.imgUrl}})])})),0)]),!e.loading&&e.imgList.length?a("div",{staticClass:"ppt-preview"},[a("a-carousel",{ref:"carousel",attrs:{"dot-position":"right"}},[a("a",{attrs:{slot:"customPaging"},slot:"customPaging"}),a("div",{staticClass:"custom-slick-arrow",staticStyle:{left:"10px","z-index":"1"},attrs:{slot:"prevArrow"},slot:"prevArrow"},[a("a-icon",{attrs:{type:"left-circle"}})],1),a("div",{staticClass:"custom-slick-arrow",staticStyle:{right:"10px"},attrs:{slot:"nextArrow"},slot:"nextArrow"},[a("a-icon",{attrs:{type:"right-circle"}})],1),e._l(e.imgList,(function(e,t){return a("div",{key:t,staticClass:"preview-img-item"},[a("div",{staticClass:"preview-block",style:{backgroundImage:"url('"+e.imgUrl+"')"},attrs:{"data-img":e.imgUrl}})])}))],2)],1):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"comment-detail"},e._l(e.commentData,(function(t,i){return a("div",{key:i,staticClass:"comment-item"},[t.page_id===e.currentPageId&&"text"===t.type?[a("div",{staticClass:"comment-content"},[e._v(" "+e._s(t.link))]),a("div",{staticClass:"comment-info"},[a("div",{staticClass:"comment-user"},[e._v(" "+e._s(t.user_id)+" ")]),a("div",{staticClass:"comment-time"},[e._v(" "+e._s(e._f("dayjs")(1e3*t.time))+" ")])])]:e._e()],2)})),0),e.loading||e.imgList.length?e._e():a("div",{staticClass:"empty-comment-preview"},[a("a-empty")],1)])},s=[],n=a("5530"),r=(a("d3b7"),a("3ca3"),a("ddb0"),a("159b"),a("8897")),o=a("c621"),l=a("2f59"),c={name:"PptCommentPreview",props:{slideId:{type:String,default:"1tfhTKkxPXsgfh_9mYZUVqHQn_1up1sAOln5PHiRXmj4"},classData:{type:Object,default:null}},mixins:[l["a"]],data:function(){return{loading:!0,commentData:[],imgList:[],currentImgIndex:0,currentPageId:null}},created:function(){this.$logger.info("PptCommentPreview"+this.slideId+" classId "+this.classData.classId),this.loadData()},methods:{loadData:function(){var e=this;Promise.all([Object(r["a"])({class_id:this.classData.classId}),Object(o["d"])({taskId:this.classData.contentId})]).then((function(t){e.$logger.info("PptCommentPreview loadData",t);var a=t[0].data.presentation_comments;if(a.forEach((function(t){var a=JSON.parse(t.data);e.commentData.push(Object(n["a"])(Object(n["a"])({},a),{},{user_id:t.user_id}))})),t[1].code!==e.ErrorCode.ppt_google_token_expires&&t[1].code!==e.ErrorCode.ppt_forbidden){var i=t[1].result.pageObjectIds;i.length?i.forEach((function(t){Object(o["b"])({pageObjectId:t,presentationId:e.slideId,mimeType:"SMALL"}).then((function(a){e.imgList.push({pageId:t,imgUrl:a.result.contentUrl})})).finally((function(){e.$logger.info("current imgList.length "+e.imgList.length+" total:"+i.length),e.imgList.length===i.length&&(e.currentPageId=e.imgList[e.currentImgIndex].pageId,e.loading=!1)}))})):(e.loading=!1,e.$logger.info("loaded data",e.imgList,e.commentData))}}))},handleAuthCallback:function(){var e=this;this.$logger.info("TaskPreview handleAuthCallback"),Object(o["d"])({presentationId:this.slideId}).then((function(t){if(t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden){var a=t.result.pageObjectIds;a.length?a.forEach((function(t){Object(o["b"])({pageObjectId:t,presentationId:e.slideId,mimeType:"SMALL"}).then((function(a){e.imgList.push({pageId:t,imgUrl:a.result.contentUrl})})).finally((function(){e.$logger.info("current imgList.length "+e.imgList.length+" total:"+a.length),e.imgList.length===a.length&&(e.currentPageId=e.imgList[e.currentImgIndex].pageId,e.loading=!1)}))})):(e.loading=!1,e.$logger.info("loaded data",e.imgList,e.commentData))}}))},handleGotoImgIndex:function(e){this.$logger.info("handleGotoImgIndex "+e),this.currentImgIndex=e,this.currentPageId=this.imgList[this.currentImgIndex].pageId,this.$refs.carousel.goTo(e)}}},d=c,u=(a("3ee2"),a("0c7c")),p=Object(u["a"])(d,i,s,!1,null,"65cdf43a",null);t["a"]=p.exports},e6fe:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1653279259330",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4202","xmlns:xlink":"http://www.w3.org/1999/xlink"},children:[{tag:"path",attrsMap:{d:"M54.859102 64.003017A64.804294 64.804294 0 0 0 120.321679 128.002743h783.356642a63.999726 63.999726 0 1 0 0-127.999452H120.321679A64.804294 64.804294 0 0 0 54.859102 64.003017zM212.115571 640.000549h103.862412v319.998628A65.060293 65.060293 0 0 0 381.44056 1023.998903h261.11888a65.060293 65.060293 0 0 0 65.462577-63.999726V640.000549h103.862412a63.926583 63.926583 0 0 0 46.079803-109.457817l-299.518717-293.740455a66.194002 66.194002 0 0 0-92.159605 0l-299.884429 293.740455A63.890012 63.890012 0 0 0 212.115571 640.000549z","p-id":"4203"}}]})}},e709:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"preview-preview"},[e.loading?[a("a-skeleton",{attrs:{active:""}})]:[a("a-row",{staticClass:"action-header"},[a("a-col",{staticClass:"action-header-toggle",attrs:{span:"24"}},[e._v(" "+e._s(e.templateData.name)+" ")])],1),a("a-row",{staticClass:"top-header"},[a("a-col",{staticClass:"material-row"},[a("div",{staticClass:"icon-group"},[e.currentPageMaterial.hasOwnProperty("text")?a("a-badge",{attrs:{count:e.showMaterialSize("text")}},[a("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("text")}}},[a("text-type-svg"),a("div",{staticClass:"icon-text"},[e._v("Text")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("image")?a("a-badge",{attrs:{count:e.showMaterialSize("image")}},[a("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("image")}}},[a("image-type-svg"),a("div",{staticClass:"icon-text"},[e._v("Image")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("video")?a("a-badge",{attrs:{count:e.showMaterialSize("video")}},[a("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("video")}}},[a("video-type-svg"),a("div",{staticClass:"icon-text"},[e._v("Video")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("audio")?a("a-badge",{attrs:{count:e.showMaterialSize("audio")}},[a("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("audio")}}},[a("audio-type-svg"),a("div",{staticClass:"icon-text"},[e._v("Audio")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("iframe")?a("a-badge",{attrs:{count:e.showMaterialSize("iframe")}},[a("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("iframe")}}},[a("youtube-type-svg"),a("div",{staticClass:"icon-text"},[e._v("Youtube")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("pdf")?a("a-badge",{attrs:{count:e.showMaterialSize("pdf")}},[a("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("pdf")}}},[a("pdf-type-svg"),a("div",{staticClass:"icon-text"},[e._v("PDF")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("website")?a("a-badge",{attrs:{count:e.showMaterialSize("website")}},[a("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("website")}}},[a("url-type-svg"),a("div",{staticClass:"icon-text"},[e._v("Website")])],1)]):e._e()],1)])],1),a("a-row",{staticClass:"preview-data-info"},[a("a-col",{staticClass:"slide-preview",attrs:{span:"24"}},[a("a-col",{attrs:{span:"24"}},[e.thumbnailList.length?e._e():a("div",{staticClass:"no-preview-img"},[a("no-more-resources")],1)]),a("a-col",{staticClass:"left-preview",staticStyle:{display:"flex","flex-direction":"row"},attrs:{span:"24"}},[a("div",{staticClass:"left-preview-left",staticStyle:{display:"flex"}},[e.thumbnailList.length?a("a-carousel",{ref:"carousel",staticClass:"my-carousel"},e._l(e.thumbnailList,(function(e,t){return a("div",{key:"cIndex"+t},[a("img",{attrs:{src:e.contentUrl}})])})),0):e._e(),e.currentPageItem?a("div",{staticClass:"plugin-tags"},[a("a-row",{staticClass:"tag-row"},[e.currentPageItem.data.bloomLevel?a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[e._v("Bloom's Taxonomy:")]),a("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[e._v(e._s(e.currentPageItem.data.bloomLevel))])]):e._e(),e.currentPageItem.data.knowledgeLevel?a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[e._v("Knowledge dimension(s):")]),a("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[e._v(e._s(e.currentPageItem.data.knowledgeLevel))])]):e._e()]),a("a-row",{staticClass:"tag-row"},[e.currentPageItem.data.verbs&&e.currentPageItem.data.verbs.length>0?a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[e._v("Command terms:")]),e._l(e.currentPageItem.data.verbs,(function(t,i){return a("span",{key:i,staticClass:"tag-value",staticStyle:{color:"#15C39A"}},[e._v(e._s(t))])}))],2):e._e(),e.currentPageTips?a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[e._v("Tip added:")]),a("span",{staticClass:"tag-value",staticStyle:{color:"#0054FF"}},[e._v(e._s(e.currentPageTips.tip))])]):e._e()]),e.currentPageItem.data.learnOuts&&e.currentPageItem.data.learnOuts.length>0?a("a-row",{staticClass:"tag-row"},[a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[e._v("Assessment objective(s):")]),e._l(e.currentPageItem.data.learnOuts,(function(t,i){return a("span",{key:i,staticClass:"tag-value",staticStyle:{color:"#00BCF2"}},[a("a-tooltip",{attrs:{title:t.path,overlayStyle:{"z-index":"3000"}}},[e._v(e._s(t.name)+" ")])],1)}))],2)]):e._e(),a("a-row",{staticClass:"tag-row"},[a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[e._v("This is a "),a("span",[e._v(e._s(e.currentPageItem.type))]),e._v(" slide")])])])],1):e._e(),e.thumbnailList&&e.thumbnailList.length?a("div",{staticClass:"page-info"},[e._v(" "+e._s(e.currentImgIndex+1)+" / "+e._s(e.thumbnailList.length)+" ")]):e._e(),-1===e.selectIds.indexOf(e.template.id)?a("a-button",{staticClass:"action-ensure action-item",attrs:{type:"primary",shape:"round"},on:{click:function(t){return e.handleSelectTemplate(t)}}},[a("a-icon",{staticClass:"btn-icon",attrs:{type:"plus-circle"}}),a("div",{staticClass:"btn-text"},[e._v(" Insert ")])],1):e._e()],1),a("div",{staticClass:"carousel-page"},[a("div",{staticClass:"img-list-wrapper"},[a("div",{staticClass:"img-list"},e._l(e.thumbnailList,(function(t,i){return a("div",{key:"index"+i,staticClass:"img-item",on:{click:function(t){return e.handleGotoImgIndex(i)}}},[a("img",{attrs:{src:t.contentUrl}})])})),0)])])])],1)],1),a("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"800px",zIndex:6e3,title:"My Materials"},on:{ok:function(t){e.materialVisible=!1},cancel:function(t){e.materialVisible=!1}},model:{value:e.materialVisible,callback:function(t){e.materialVisible=t},expression:"materialVisible"}},[a("task-material-preview",{attrs:{"current-page-element-lists":e.currentPageElementLists,"filter-type":e.filterMaterialType,"current-page-index":e.currentImgIndex}})],1),a("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"900px",zIndex:5e3,title:null},on:{ok:function(t){e.mediaVisible=!1},cancel:function(t){e.mediaVisible=!1}},model:{value:e.mediaVisible,callback:function(t){e.mediaVisible=t},expression:"mediaVisible"}},[a("media-preview",{attrs:{"media-list":e.mediaList,"material-type":e.filterMaterialType}})],1)]],2)},s=[],n=(a("d3b7"),a("159b"),a("b0c0"),a("69b3")),r=a("8448"),o=a.n(r),l=a("998c"),c=a.n(l),d=a("4084"),u=a.n(d),p=a("8a21"),h=a.n(p),m=a("1eeb"),g=a.n(m),f=a("5a1d"),v=a.n(f),y=a("6631"),b=a.n(y),w=a("3111"),C=a("542c"),k=a("3f76"),T=a("c621"),A=a("d33b"),L=a("873a"),I=a("4fb2"),S=a("2f59"),x={name:"TemplatePreview",components:{TaskMaterialPreview:C["a"],MaterialTypeIcon:w["a"],NoMoreResources:n["a"],TextTypeSvg:o.a,ImageTypeSvg:c.a,VideoTypeSvg:u.a,AudioTypeSvg:h.a,YoutubeTypeSvg:g.a,PdfTypeSvg:v.a,UrlTypeSvg:b.a,MediaPreview:L["a"]},props:{template:{type:Object,default:function(){return null}},selectedTemplateIdList:{type:Array,default:function(){return[]}}},watch:{selectedTemplateIdList:function(e){this.$logger.info("selectedTemplateIdList ",e),this.selectIds=e}},computed:{},mounted:function(){},data:function(){return{selectIds:[],templateData:{},loading:!0,loadingClass:!1,data:null,subPreviewVisible:!1}},mixins:[A["a"],S["a"]],created:function(){this.loadData()},methods:{loadData:function(){var e=this;this.templateData=this.template,this.$logger.info("selectedTemplateIdList ",this.selectedTemplateIdList),this.selectIds=this.selectedTemplateIdList,this.templateData.type===k["e"].task?(this.loading=!0,Object(T["d"])({taskId:this.templateData.id}).then((function(t){if(e.$logger.info("task loadThumbnail response",t.result),t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden){var a=t.result.pageObjects;e.templateData.pageObjectIds=[],a.forEach((function(t){e.templateData.pageObjectIds.push(t.id),e.thumbnailList.push({contentUrl:t.contentUrl,id:t.pageObjectId}),e.$logger.info("current thumbnailList ",e.thumbnailList)}))}})).finally((function(){e.loading=!1,e.getClassInfo(e.templateData.presentationId)}))):(this.loading=!1,this.templateData.images.forEach((function(t,a){e.thumbnailList.push({contentUrl:t,id:e.templateData.pageObjectIds[a]})})),this.getClassInfo(this.templateData.presentationId))},handleAuthCallback:function(){this.$logger.info("handleAuthCallback"),this.loadData()},handleGotoImgIndex:function(e){this.$logger.info("handleGotoImgIndex "+e),this.currentImgIndex=e,this.$refs.carousel.goTo(e)},handleSelectTemplate:function(e){this.$logger.info("handleSelectTemplate "+this.templateData.name),I["b"].$emit(I["a"].ToggleSelectContentItem,this.templateData,e)},handlePreviewMaterial:function(e){this.$logger.info("handlePreviewMaterial "+e),"tip"!==e.type&&window.open(e.url,"_blank")}}},M=x,E=(a("ff58"),a("0c7c")),_=Object(E["a"])(M,i,s,!1,null,"18f143d6",null);t["a"]=_.exports},e76a:function(e,t,a){"use strict";a("4768")},ed18:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-reviews"},[!e.myReviews&&"teacher"!==e.role||e.footerBottom?e._e():a("a-space",{staticClass:"reviews-opt"},["student"!==e.role||e.isEdit?e._e():a("a-button",{attrs:{type:"link"},on:{click:function(){return e.triggerEdit(!0)}}},[e._v("Edit Review")]),"teacher"!==e.role||e.myReviews||e.isEdit||!e.showCreate?e._e():a("a-button",{attrs:{type:"link"},on:{click:function(){return e.triggerEdit(!0)}}},[e._v("Leave a Review")]),e.isEdit?a("a-button",{attrs:{type:"link"},on:{click:function(){return e.triggerEdit(!1)}}},[e._v("Cancel")]):e._e(),e.isEdit?a("a-button",{attrs:{type:"primary"},on:{click:e.handleSaveMyReview}},[e._v(e._s(e.myReviews?"Update":"Submit"))]):e._e()],1),"student"===e.role?a("a-spin",{attrs:{spinning:e.subLoading}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],staticClass:"reviews-edit"},[a("div",{staticClass:"reviews-edit__check"},[a("div",[a("label",[e._v("Difficulty Level")]),a("a-rate",{staticClass:"rate-bar-con",attrs:{count:3,tooltips:e.reviewsText,allowClear:!1},model:{value:e.subForm.reviewsLabel,callback:function(t){e.$set(e.subForm,"reviewsLabel",t)},expression:"subForm.reviewsLabel"}},[a("div",{attrs:{slot:"character"},slot:"character"},[a("div",{staticClass:"rate-bar"})])])],1),a("div",[a("label",[e._v("Overall review")]),a("a-rate",{attrs:{allowClear:!1},model:{value:e.subForm.reviewsScore,callback:function(t){e.$set(e.subForm,"reviewsScore",t)},expression:"subForm.reviewsScore"}})],1)]),a("div",{staticClass:"reviews-edit__text"},[a("a-textarea",{ref:"reviewsNotes",attrs:{placeholder:"Enter your reviews......","auto-size":{minRows:4,maxRows:6}},model:{value:e.subForm.reviewsNotes,callback:function(t){e.$set(e.subForm,"reviewsNotes",t)},expression:"subForm.reviewsNotes"}})],1)])]):e._e(),"teacher"===e.role?a("a-spin",{attrs:{spinning:e.subLoading}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],staticClass:"reviews-edit"},[a("div",{staticClass:"reviews-edit__check"},[a("div",[a("a-tooltip",{attrs:{title:"Overall review"}},[a("label",[e._v("Overall review")])]),a("a-rate",{attrs:{tooltips:e.RATE_TOOLTIPS.OVERALL,allowClear:!1},model:{value:e.subForm.overall,callback:function(t){e.$set(e.subForm,"overall",t)},expression:"subForm.overall"}})],1),a("div",[a("a-tooltip",{attrs:{title:"Students engagement"}},[a("label",[e._v("Students engagement")])]),a("a-rate",{attrs:{tooltips:e.RATE_TOOLTIPS.ENGAGEMENT,allowClear:!1},model:{value:e.subForm.studentsEngagement,callback:function(t){e.$set(e.subForm,"studentsEngagement",t)},expression:"subForm.studentsEngagement"}})],1)]),a("div",{staticClass:"reviews-edit__check"},[a("div",[a("a-tooltip",{attrs:{title:"Effectiveness of teaching & learning"}},[a("label",[e._v("Effectiveness of teaching & learning")])]),a("a-rate",{attrs:{tooltips:e.RATE_TOOLTIPS.EFFETIVENESS,allowClear:!1},model:{value:e.subForm.effectiveness,callback:function(t){e.$set(e.subForm,"effectiveness",t)},expression:"subForm.effectiveness"}})],1),a("div",[a("a-tooltip",{attrs:{title:"Quality of the content"}},[a("label",[e._v("Quality of the content")])]),a("a-rate",{attrs:{tooltips:e.RATE_TOOLTIPS.QUALITY,allowClear:!1},model:{value:e.subForm.quality,callback:function(t){e.$set(e.subForm,"quality",t)},expression:"subForm.quality"}})],1)]),a("div",{staticClass:"reviews-edit__check"},[a("div",[a("a-checkbox",{model:{value:e.subForm.learningDistance,callback:function(t){e.$set(e.subForm,"learningDistance",t)},expression:"subForm.learningDistance"}},[e._v(" Distance learning ")])],1),a("div",[a("a-checkbox",{model:{value:e.subForm.learningHome,callback:function(t){e.$set(e.subForm,"learningHome",t)},expression:"subForm.learningHome"}},[e._v(" At home learning ")])],1),a("div",[a("a-checkbox",{model:{value:e.subForm.learningClass,callback:function(t){e.$set(e.subForm,"learningClass",t)},expression:"subForm.learningClass"}},[e._v(" In-class learning ")])],1)]),a("div",{staticClass:"reviews-edit__text"},[a("a-textarea",{ref:"reviewsNotes",attrs:{placeholder:"Enter your reviews......","auto-size":{minRows:4,maxRows:6}},model:{value:e.subForm.reviewsNotes,callback:function(t){e.$set(e.subForm,"reviewsNotes",t)},expression:"subForm.reviewsNotes"}})],1)])]):e._e(),(e.myReviews||"teacher"===e.role)&&e.footerBottom?a("a-space",{staticClass:"reviews-footer"},[a("a-button",{on:{click:e.handleCancel}},[e._v("Cancel")]),a("a-button",{attrs:{type:"primary"},on:{click:e.handleSaveMyReview}},[e._v("Submit")])],1):e._e()],1)},s=[],n=a("5530"),r=(a("a9e3"),a("f93e")),o={name:"ReviewsEdit",props:{footerBottom:{type:Boolean,default:!1},role:{type:String,default:"student"},myReviews:{type:Object,default:null},canCreate:{type:Boolean,default:!0}},watch:{canCreate:function(e){this.showCreate=e,!this.footerBottom&&("teacher"!==this.role||!this.showCreate||this.myReviews&&this.myReviews.id)||(this.isEdit=!0)},myReviews:{handler:function(e){this.subForm=e?Object(n["a"])({},e):Object(n["a"])({},this.init),this.footerBottom||"teacher"===this.role&&this.showCreate&&(!e||!e.id)?this.isEdit=!0:this.isEdit=!1},immediate:!0}},data:function(){return{subLoading:!1,showCreate:this.canCreate,RATE_TOOLTIPS:r["y"],isEdit:!1,reviewsText:["Easy","Intermediate","Difficult"],subForm:this.myReviews,init:{reviewsLabel:1,reviewsNotes:"",reviewsScore:1,overall:1,effectiveness:1,quality:1,studentsEngagement:1,learningClass:!1,learningDistance:!1,learningHome:!1,updatedMsg:!0}}},mounted:function(){!this.footerBottom&&("teacher"!==this.role||!this.showCreate||this.myReviews&&this.myReviews.id)||(this.isEdit=!0)},methods:{handleSaveMyReview:function(){if("student"!==this.role||this.myReviews){this.subLoading=!0;var e=Object(n["a"])(Object(n["a"])({},this.subForm),{},{learningClass:Number(this.subForm.learningClass),learningDistance:Number(this.subForm.learningDistance),learningHome:Number(this.subForm.learningHome),updatedMsg:Number(this.subForm.updatedMsg)});this.$emit("submit",e)}},handleCancel:function(){this.$emit("cancel")},triggerLoading:function(e){this.subLoading=e},triggerIsEdit:function(e){this.isEdit=e},triggerEdit:function(e){var t=this;this.isEdit=e,this.$nextTick((function(){e&&t.$refs.reviewsNotes&&t.$refs.reviewsNotes.focus()}))}}},l=o,c=(a("ab4d"),a("0c7c")),d=Object(c["a"])(l,i,s,!1,null,"179193f5",null);t["a"]=d.exports},ed70:function(e,t){e.exports="data:image/png;base64,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"},edce:function(e,t,a){e.exports=a.p+"img/8.2fb6907e.png"},ef87:function(e,t,a){"use strict";a("d3b7");var i=a("bc3a"),s=a.n(i),n=a("8ded"),r=a.n(n),o=a("56cd"),l=(a("a27e"),a("9fb0")),c=a("823b"),d=s.a.create({baseURL:"https://api.app.classcipe.com",timeout:6e3}),u=function(e){if(e.response){var t=e.response.data;403===e.response.status&&o["a"].error({message:"Forbidden",description:t.message})}return Promise.reject(e)};d.interceptors.request.use((function(e){var t=r.a.get(l["a"]);return t?e.data?e.data["token"]||(e.data["token"]=t):e.data={token:t}:c["info"](l["a"]+" no set"),e}),u),d.interceptors.response.use((function(e){return e&&e.data&&e.data.code&&"ok"!==e.data.code&&200!==e.data.code&&c["error"](e.data),e.data}),u);t["a"]=d},efca:function(e,t,a){"use strict";a("7bd1")},f031:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var i=a("1da1"),s=(a("d81d"),a("0481"),a("b0c0"),a("159b"),a("96cf"),a("c621")),n=a("f93e"),r=a("b199"),o=a("980a"),l=a("944d"),c={data:function(){return{allowPreview:!0,previewCurrentId:null,previewType:null,previewCode:null,previewVisible:!1,previewSchoolId:"0",updateEditSlideLoading:!1,setColor:["#FFEDAF","#C8F4FF","#E6E4FF","#ffccb0","#ffa9a2","#a3ecb9","#f7c5f8","#ffbfe2","#d5b9ff","#c4f6b1"],savingSlides:!1,formSteps:[],requiredFields:[],emptyRequiredFields:[]}},created:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},computed:{commandTermsList:function(){return Object(l["a"])(this.content.learnOuts.map((function(e){return e.commandTerms})).flat(2),"name").map((function(e){return e.name}))},knowledgeTagsList:function(){return Object(l["a"])(this.content.learnOuts.map((function(e){return e.knowledgeTags})).flat(2),"name").map((function(e){return e.name}))}},methods:{handlePreviewDetail:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$logger.info("handlePreviewDetail",e,"allowPreview",this.allowPreview),this.allowPreview&&(this.previewVisible=!1,this.$nextTick((function(){t.previewCurrentId=a&&e.sourceFrom||e.id,t.previewType=e.type,t.previewCode=e.sessionId||e.sessionInfo&&e.sessionInfo.classId,t.previewSchoolId=e.schoolId?e.schoolId:"0",t.reviewList=!1,t.reviewCreate=!!a,t.reviewEdit=!!a,t.previewVisible=!0})),this.$emit("preview",e))},handlePreviewDeleteDetail:function(e){var t=this;this.$logger.info("handlePreviewDeleteDetail",e,"allowPreview",this.allowPreview),this.allowPreview&&(this.previewVisible=!1,this.$nextTick((function(){t.previewCurrentId=e.contentId,t.previewType=e.contentType,t.previewCode=e.classId,t.reviewList=!1,t.reviewCreate=!1,t.reviewEdit=!1,t.previewVisible=!0})),this.$emit("preview",e))},handlePreviewClose:function(){this.$logger.info("handlePreviewClose"),this.previewVisible=!1,this.previewCurrentId=null,this.previewType=null,this.previewCode=null},updateEditSlideStatus:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.updateEditSlideLoading){t.next=26;break}if(t.prev=1,e.updateEditSlideLoading=!0,a=parseInt(e.content.type),i=null,a!==e.$classcipe.typeMap.task){t.next=11;break}return t.next=8,Object(s["c"])({taskId:e.content.id,needRefresh:!0});case 8:i=t.sent,t.next=15;break;case 11:if(a!==e.$classcipe.typeMap.pd){t.next=15;break}return t.next=14,Object(s["c"])({taskId:e.content.id,needRefresh:!0});case 14:i=t.sent;case 15:i&&0===i.code&&(e.content.presentationId=i.result.presentationId,e.content.pageObjects=i.result.pageObjects),e.content.slideEditing=!1,t.next=21;break;case 19:t.prev=19,t.t0=t["catch"](1);case 21:return t.prev=21,e.updateEditSlideLoading=!1,n=e.contentReget(),0===n.code&&(e.content.canPublish=n.result.canPublish),t.finish(21);case 26:case"end":return t.stop()}}),t,null,[[1,19,21,26]])})))()},contentReget:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=parseInt(e.content.type),i=null,a!==e.$classcipe.typeMap.task){t.next=8;break}return t.next=5,Object(r["TaskQueryById"])({id:e.content.id});case 5:i=t.sent,t.next=12;break;case 8:if(a!==e.$classcipe.typeMap.pd){t.next=12;break}return t.next=11,Object(o["c"])({id:e.content.id});case 11:i=t.sent;case 12:return t.abrupt("return",i);case 13:case"end":return t.stop()}}),t)})))()},simpleIsEmpty:function(e){return null===e||""===e||void 0===e||(!(!e.hasOwnProperty("length")||0!==e.length)||"{}"===JSON.stringify(e))},calculateCanPublish:function(){var e=this,t=!0;this.emptyRequiredFields=[],this.formSteps.forEach((function(e){e.showRequiredTips=!1,e.showSatisfiedTips=!1})),this.requiredFields.forEach((function(a){var i;a===n["V"].Slides||a===n["v"].Slides?e.content.presentationId&&null!==(i=e.content.pageObjects)&&void 0!==i&&i.length||(e.emptyRequiredFields.push(a),e.formSteps.forEach((function(e){e.commonFields.indexOf(a)>-1&&(e.showRequiredTips=!0,e.showSatisfiedTips=!1,t=!1)}))):a===n["V"].Link||a===n["w"].Link||"learnOuts"===a||"questions"===a||"overview"===a||"goals"===a||e.simpleIsEmpty(e.content[a])&&(e.$logger.info("".concat(a," is empty"),e.content[a]),e.emptyRequiredFields.push(a),e.formSteps.forEach((function(e){e.commonFields.indexOf(a)>-1&&(e.showRequiredTips=!0,e.showSatisfiedTips=!1,t=!1)})))})),this.content.canPublish,this.content.canPublish=t}}}},f424:function(e,t,a){},f4e6:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"slide-preview"},[a("div",{staticClass:"slide-cover"},[a("img",{staticClass:"cover",attrs:{src:e.slideItem.contentUrl}}),e._l(e.slideItem.commentList,(function(t,i){return[t.user_id===e.userId?a("div",{key:i,class:{"dot-item":!0,heartbeat:e.currentActiveId===t.link+"_"+t.time},style:{position:"absolute",border:"3px solid #aaa",backgroundColor:t.background,left:t.left/t.content_width*700+"px",top:t.top/t.content_height*400+"px"},on:{click:function(a){return e.handleActiveItem(t)},mouseover:function(a){return e.handleActiveItem(t)}}}):e._e()]}))],2),a("div",{staticClass:"slide-dot-list"},[e._l(e.slideItem.commentList,(function(t,i){return[t.user_id===e.userId?a("div",{key:i,class:{"dot-item":!0,"active-dot-item":e.currentActiveId===t.link+"_"+t.time,"in-active-dot-item":e.currentActiveId!==t.link+"_"+t.time},attrs:{id:"dot-item-"+t.link+"_"+t.time},on:{mouseover:function(a){return e.handleActiveItem(t)},click:function(a){return e.handleActiveItem(t)}}},[a("div",{staticClass:"author-profile"},[a("div",{staticClass:"avatar"},[a("span",{staticClass:"avatar-user"},[e._v(e._s(t.user_id?t.user_id.slice(0,1).toUpperCase():"C"))])]),a("div",{staticClass:"profile"},[a("div",{staticClass:"author-name"},[e._v(e._s(t.user_id))]),a("div",{staticClass:"author-time"},[e._v(e._s(e._f("formatDate")(1e3*t.time)))])])]),a("div",{staticClass:"dot-detail",attrs:{"data-item":JSON.stringify(t)}},["audio"===t.type?a("div",{class:{"audio-item":!0}},[a("audio",{attrs:{controls:"",src:t.link}})]):e._e(),"video"===t.type?a("div",{class:{"video-item":!0}},[a("video",{attrs:{controls:"",src:t.link}})]):e._e(),"text"===t.type?a("div",{class:{"text-item":!0}},[e._v(" "+e._s(t.link)+" ")]):e._e()])]):e._e()]}))],2)])},s=[],n=(a("9911"),{name:"SlidePreview",props:{slideItem:{type:Object,required:!0},userId:{type:String,default:null}},data:function(){return{currentActiveId:null}},created:function(){},methods:{handleActiveItem:function(e){this.$logger.info("SlidePreview handleActiveItem",e),this.currentActiveId=e.link+"_"+e.time;var t="dot-item-"+e.link+"_"+e.time,a=document.getElementById(t);a&&a.scrollIntoView({behavior:"smooth"})}}}),r=n,o=(a("efca"),a("0c7c")),l=Object(o["a"])(r,i,s,!1,null,"b58106c2",null);t["a"]=l.exports},f61a:function(e,t,a){"use strict";a("5952")},f736:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"new-library",attrs:{id:"new-library"}},[a("div",{staticClass:"navigation"},[e._v(" Browse More ")]),a("div",{staticClass:"main"},[e.treeItemData.length>0?a("div",{staticClass:"tree-navigation"},[a("a-directory-tree",{staticClass:"tree",attrs:{"default-expand-all":"",icon:e.getIcon,"tree-data":e.treeItemData,"replace-fields":{children:"children",title:"name",key:"id"}},on:{select:e.onSelect,expand:e.onExpand},scopedSlots:e._u([{key:"title",fn:function(t){return[a("p",[a("span",[e._v(e._s(t.title))]),a("span",{staticStyle:{"margin-left":"40px",color:"orange"}},[e._v(e._s(t.title))])])]}}],null,!1,3266010875)}),a("a-spin",{directives:[{name:"show",rawName:"v-show",value:e.loadingTree,expression:"loadingTree"}],staticClass:"spin-loading"})],1):e._e(),a("div",{staticClass:"content-list"},[a("div",{staticClass:"content-list-wrapper"},[a("div",{staticClass:"content-header"},[a("div",{staticClass:"name"},[a("a-page-header",{attrs:{title:"Label classification"}})],1)]),a("div",{staticClass:"content-list"},[a("a-divider"),e.tagValues.length>0?[a("div",{staticClass:"skt-tag-list"},e._l(e.tagValues,(function(t){return a("div",{key:t.id,staticClass:"skt-tag-item"},[a("a-badge",[a("a-tag",{staticClass:"tag-item",class:{"tag-item":!0,active:e.selectedTags.indexOf(t.name)>-1},on:{click:function(a){return e.selectTag(t)}}},[e._v(" "+e._s(t.name)+" ")]),e.selectedTags.indexOf(t.name)>-1?a("div",{staticClass:"icon-wrapper"},[a("a-icon",{staticClass:"checked-icon",style:{fontSize:"18px",color:"#ffffff"},attrs:{type:"check-circle"}})],1):e._e()],1)],1)})),0)]:[a("div",{staticClass:"content-empty"},[a("a-empty")],1)]],2),a("a-spin",{directives:[{name:"show",rawName:"v-show",value:e.loadingContent,expression:"loadingContent"}],staticClass:"spin-content-loading"})],1)])])])},s=[],n=(a("159b"),a("b0c0"),a("a434"),a("d28d")),r={name:"TagBrowser",components:{},data:function(){return{treeItemData:[],loadingContent:!1,loadingTree:!1,firstLoad:!1,tagValues:[],selectedTags:[],selectedTagsList:[]}},props:{rootKey:{type:String,default:""},tagList:{type:Array,default:function(){return[]}}},created:function(){var e=this;this.loadingTree=!0,Object(n["f"])({key:this.rootKey}).then((function(t){e.$logger.info("TagTree response",t.result),t.success?(e.treeItemData=t.result.children,0===e.treeItemData.length&&e.onSelect([t.result.id]),e.treeItemData.forEach((function(t){t.scopedSlots={title:"title"},e.loop(t)}))):e.$message.error(t.message),e.loadingTree=!1})),this.tagList.forEach((function(t){e.selectedTags.push(t.name),e.selectedTagsList.push(t)}))},mounted:function(){},methods:{onSelect:function(e,t){var a=this;this.loadingContent=!0,Object(n["d"])({tagId:e[0]}).then((function(e){a.$logger.info("GetGlobalTagKeywords response",e.result),e.success?a.tagValues=e.result:a.$message.error(e.message),a.loadingContent=!1}))},onExpand:function(){},selectTag:function(e){e.parentName=this.rootKey;var t=this.selectedTags.indexOf(e.name);e.isGlobal=!0,t>-1?(this.selectedTags.splice(t,1),this.selectedTagsList.splice(e,1)):(this.selectedTags.push(e.name),this.selectedTagsList.push(e)),this.$emit("add-global-tag",this.selectedTagsList)},getIcon:function(e){var t=this.$createElement,a=e.expanded;return t("a-icon",{attrs:{type:a?"folder-open":"folder"}})},loop:function(e){if(e.selectable=!1,e.children&&e.children.length>0)for(var t in e.children)this.loop(e.children[t]);else e.children&&0===e.children.length&&(e.selectable=!0)}}},o=r,l=(a("49e6"),a("0c7c")),c=Object(l["a"])(o,i,s,!1,null,"2c1ef957",null);t["a"]=c.exports},f7b2:function(e,t){e.exports="data:image/png;base64,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"},f8935:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"23.635",viewBox:"0 0 25 23.635"},children:[{tag:"g",attrsMap:{id:"蓝色文件夹",transform:"translate(-70.998 -72.533)"},children:[{tag:"path",attrsMap:{id:"路径_393","data-name":"路径 393",style:"fill: #4273f6;",class:"cls-1",d:"M93.425,96.167h-15.9A4.639,4.639,0,0,1,73,91.443V77.256a4.636,4.636,0,0,1,4.519-4.723l3.19.056a2.244,2.244,0,0,1,1.517.6l2.386,2.244a2.238,2.238,0,0,0,1.517.6h7.3a4.637,4.637,0,0,1,4.519,4.723v10.7a4.642,4.642,0,0,1-4.521,4.725Z",transform:"translate(-1.949)"}},{tag:"path",attrsMap:{id:"路径_394","data-name":"路径 394",style:"fill: #465cdb;\n        opacity: 0.69;",class:"cls-2",d:"M92.217,350.112H78.981a5.913,5.913,0,0,1-5.85-5.941V335.8a1.288,1.288,0,0,1,1.278-1.3H96.788a1.289,1.289,0,0,1,1.278,1.3v8.365a5.908,5.908,0,0,1-5.847,5.942Z",transform:"translate(-2.073 -254.958)"}},{tag:"path",attrsMap:{id:"路径_395","data-name":"路径 395",style:" fill: #fff;",class:"cls-3",d:"M177.619,318.685H160.68a1.6,1.6,0,0,1-1.575-1.606v-8.956a1.6,1.6,0,0,1,1.575-1.606h16.94a1.6,1.6,0,0,1,1.575,1.606v8.954a1.6,1.6,0,0,1-1.575,1.61Z",transform:"translate(-85.625 -227.596)"}},{tag:"path",attrsMap:{id:"路径_396","data-name":"路径 396",style:" fill: #fff; opacity: 0.16;",class:"cls-4",d:"M179.624,299.657h-16.94a1.6,1.6,0,0,1-1.575-1.606v-8.957a1.6,1.6,0,0,1,1.575-1.606h16.94a1.6,1.6,0,0,1,1.575,1.606v8.954A1.6,1.6,0,0,1,179.624,299.657Z",transform:"translate(-87.573 -209.086)"}},{tag:"path",attrsMap:{id:"路径_397","data-name":"路径 397",style:"fill: #4273f6;",class:"cls-1",d:"M93.371,418.174h-15.8A4.621,4.621,0,0,1,73,413.532V403.5H97.94v10.033a4.616,4.616,0,0,1-4.569,4.643Z",transform:"translate(-1.948 -322.007)"}},{tag:"path",attrsMap:{id:"路径_398","data-name":"路径 398",style:"fill: #5066fb;\n        opacity: 0.14;",class:"cls-5",d:"M91.367,747.612H75.57A4.621,4.621,0,0,1,71,742.97v-.484H95.936v.484a4.616,4.616,0,0,1-4.569,4.643Z",transform:"translate(0 -651.445)"}},{tag:"path",attrsMap:{id:"路径_399","data-name":"路径 399",style:" fill: #5d75ce;\n        opacity: 0.52;",class:"cls-6",d:"M347.708,457.546h-5.143a2.043,2.043,0,1,1,0-4.085h5.14a2.043,2.043,0,1,1,0,4.085Z",transform:"translate(-262.114 -370.394)"}},{tag:"path",attrsMap:{id:"路径_400","data-name":"路径 400",style:" fill: #ffd629;",class:"cls-7",d:"M372.261,471.719H367.7a1.619,1.619,0,1,1,0-3.239h4.561a1.619,1.619,0,0,1,0,3.239Z",transform:"translate(-286.952 -384.99)"}}]}]})}},fa0b:function(e,t,a){"use strict";a("7286")},faaa:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dir-icon"},["blue"===e.dirType?i("blue-dir-svg",{staticClass:"blue"}):"yellow"===e.dirType?i("yellow-dir-svg",{staticClass:"yellow"}):"opened"===e.dirType?i("open-dir-svg",{staticClass:"opened"}):e.contentType===e.typeMap.task?i("img",{attrs:{src:a("ed70")}}):e.contentType===e.typeMap["unit-plan"]?i("img",{attrs:{src:a("27f0")}}):(e.contentType,e.typeMap.evaluation,i("img",{attrs:{src:a("2ae5")}}))],1)},s=[],n=(a("a9e3"),a("f8935")),r=a.n(n),o=a("20de"),l=a.n(o),c=a("6f6b"),d=a.n(c),u=a("3f76"),p={name:"DirIcon",components:{BlueDirSvg:r.a,YellowDirSvg:l.a,OpenDirSvg:d.a},props:{dirType:{type:String,default:null},contentType:{type:Number,default:null}},data:function(){return{typeMap:u["e"]}}},h=p,m=(a("c164"),a("0c7c")),g=Object(m["a"])(h,i,s,!1,null,"1cf1c170",null);t["a"]=g.exports},fb85:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{closable:!1,maskClosable:!1,destroyOnClose:"","ok-text":e.okText,confirmLoading:e.confirmLoading},on:{ok:e.updatePrice,cancel:function(t){e.visible=!1}},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("modal-header",{attrs:{title:"Edit price"},on:{close:function(t){e.visible=!1}}}),a("div",{staticClass:"edit-price"},[a("a-row",{attrs:{gutter:20,type:"flex",align:"middle"}},[a("a-col",{staticClass:"label-name",attrs:{span:"6"}},[e._v(" Price: ")]),a("a-col",{attrs:{span:"6"}},[a("a-input-number",{attrs:{"default-value":0,min:0,max:1e7,formatter:function(e){return("$ "+e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}})],1),a("a-col",{directives:[{name:"show",rawName:"v-show",value:e.enableDiscount&&e.price>0,expression:"enableDiscount && price > 0"}],attrs:{span:"12"}},[e._v("Discounted price "),a("span",{style:{color:"red"}},[e._v("$"+e._s((e.price*(1-1*e.discount/100)).toFixed(2)))])])],1),e.price>0?a("a-row",{attrs:{gutter:20,type:"flex",align:"middle"}},[a("a-col",{staticClass:"label-name",attrs:{span:"6"}},[e._v(" Discount: ")]),a("a-col",{attrs:{span:"6"}},[a("a-input-number",{directives:[{name:"show",rawName:"v-show",value:e.enableDiscount,expression:"enableDiscount"}],attrs:{"default-value":1,min:.01,max:100,formatter:function(e){return(e||1)+"%"},parser:function(e){return e.replace("%","")||1}},model:{value:e.discount,callback:function(t){e.discount=t},expression:"discount"}})],1),a("a-col",{attrs:{span:"12"}},[e.price>0?a("a-switch",{attrs:{checked:e.enableDiscount,size:"small"},on:{change:e.onChange}}):e._e()],1)],1):e._e(),a("a-row",{directives:[{name:"show",rawName:"v-show",value:e.enableDiscount&&e.price>0,expression:"enableDiscount && price > 0"}],attrs:{gutter:20,type:"flex",align:"middle"}},[a("a-col",{staticClass:"label-name",attrs:{span:"6"}},[e._v(" Duration setting ")]),a("a-col",{attrs:{span:"16"}},[a("a-range-picker",{attrs:{"default-value":e.initDate,mode:["date"],"disabled-date":e.disabledDate},on:{change:e.handleDurationChange}})],1)],1)],1)],1)},s=[],n=a("1da1"),r=(a("b680"),a("96cf"),a("3f76")),o=a("3b68"),l=a("60427"),c=a("c1df"),d=a.n(c),u={name:"DiscountedPrice",props:{okText:{type:String,default:"OK"}},components:{ModalHeader:l["a"]},data:function(){return{typeMap:r["e"],contentId:"",contentType:"",enableDiscount:!1,visible:!1,discount:0,price:0,editPrice:!1,startDate:null,endData:null,initDate:[d()(new Date),null],confirmLoading:!1}},methods:{showEditPrice:function(e,t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var s,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.contentId=e,a.contentType=t,i.next=4,Object(o["a"])({contentId:e,contentType:t});case 4:s=i.sent,n=s.result,n&&(a.$logger.info("discountSettingQuery",n),a.discount=n.discount,a.price=n.price,a.enableDiscount=Boolean(n.enableDiscount),a.startDate=n.discountStartTime,a.endData=n.discountEndTime,n.discountStartTime&&n.discountEndTime&&(a.initDate=[d.a.utc(n.discountStartTime).local(),d.a.utc(n.discountEndTime).local()])),a.visible=!0;case 8:case"end":return i.stop()}}),i)})))()},updatePrice:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$logger.info("update price"),a=parseInt(e.contentType),e.confirmLoading=!0,t.next=5,Object(o["b"])({contentId:e.contentId,contentType:a,discount:e.discount,discountModel:2,price:e.price,discountStartTime:e.startDate,enableDiscount:e.enableDiscount,discountEndTime:e.endData});case 5:i=!1,e.discount>0&&(i=d()().isAfter(d.a.utc(e.startDate).local())&&d()().isBefore(d.a.utc(e.endData).local())),s=e.price,i&&e.discount>0&&(s=parseFloat((e.price-e.price*e.discount/100).toFixed(2))),e.$emit("update",{price:e.price,discountPrice:s}),e.editPrice=!1,e.confirmLoading=!1,e.visible=!1;case 13:case"end":return t.stop()}}),t)})))()},handleDurationChange:function(e){this.$logger.info("handleDurationChange",e),this.startDate=d()(e[0].toDate()).utc().format("YYYY-MM-DD 00:00:00"),this.endData=d()(e[1].toDate()).utc().format("YYYY-MM-DD 00:00:00")},onChange:function(e){this.enableDiscount=e,e?this.discount||(this.discount=1):(this.discount=0,this.startDate=null,this.endData=null)},disabledDate:function(e){return e&&e<d()().subtract(1,"days").endOf("day")}}},p=u,h=(a("2e66"),a("0c7c")),m=Object(h["a"])(p,i,s,!1,null,"14094471",null);t["a"]=m.exports},fe45:function(e,t,a){"use strict";a("d340")},ff58:function(e,t,a){"use strict";a("870d")}}]);