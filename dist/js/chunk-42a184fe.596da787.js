(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42a184fe"],{"24ac":function(e,t,a){},"4cf1":function(e,t,a){"use strict";a("24ac")},b199:function(e,t,a){"use strict";a.r(t),a.d(t,"taskAPIUrl",(function(){return n})),a.d(t,"TaskCreateTaskPPT",(function(){return r})),a.d(t,"TaskCreateNewTaskPPT",(function(){return i})),a.d(t,"TaskAddOrUpdate",(function(){return d})),a.d(t,"SplitTask",(function(){return c})),a.d(t,"TaskQueryById",(function(){return o})),a.d(t,"TaskDelete",(function(){return u})),a.d(t,"getTaskBySessionId",(function(){return p})),a.d(t,"UpdateSlideEditing",(function(){return l})),a.d(t,"QuerySubTask",(function(){return k}));var s=a("b775"),n={createTaskPPT:"/classcipe/api/task/createTaskPPT",createNewTaskPPT:"/classcipe/api/task/createNewTaskPPT",addOrUpdate:"/classcipe/api/task/addOrUpdate",delete:"/classcipe/api/task/delete",deleteBatch:"/classcipe/api/task/deleteBatch",list:"/classcipe/api/task/list",queryById:"/classcipe/api/task/queryById",splitTask:"/classcipe/api/task/spliteTask",getTaskBySessonId:"/classcipe/api/task/getTaskBySessonId",updateSlideEditing:"/classcipe/api/task/updateSlideEditing",querySubTask:"/classcipe/api/task/querySubTask"};function r(e){return Object(s["d"])({url:n.createTaskPPT,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function i(e){return Object(s["d"])({url:n.createNewTaskPPT,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(s["d"])({url:n.addOrUpdate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(s["d"])({url:n.splitTask,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(s["d"])({url:n.queryById,method:"get",params:e})}function u(e){return Object(s["d"])({url:n.delete+"?id="+e.id,method:"post",data:e})}function p(e){return Object(s["d"])({url:n.getTaskBySessonId,method:"get",params:e})}function l(e){return Object(s["d"])({url:n.updateSlideEditing,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function k(e){return Object(s["d"])({url:n.querySubTask,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},f12a:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1,bodyStyle:{padding:"16px 24px",height:"100%",minHeight:"500px"}}},[a("a-spin",{staticClass:"redirect-spin",attrs:{tip:"Loading...",size:"large"}})],1)},n=[],r=(a("d3b7"),a("ac1f"),a("5319"),a("b199")),i=a("9574"),d={name:"TaskRedirectByMode",props:{taskMode:{type:String,default:"1"}},created:function(){this.$logger.info("TaskRedirectByMode "+this.taskMode),i["b"].$on(i["a"].GOOGLE_AUTH_REFRESH,this.handleTaskRedirect),this.handleTaskRedirect()},beforeDestroy:function(){i["b"].$off(i["a"].GOOGLE_AUTH_REFRESH,this.handleTaskRedirect)},methods:{handleTaskRedirect:function(){var e=this;if(1===parseInt(this.taskMode)||2===parseInt(this.taskMode)){var t={name:null,taskMode:parseInt(this.taskMode),status:0};this.startCreating=!0,this.$logger.info("create task ",t),Object(r["TaskAddOrUpdate"])(t).then((function(t){e.$logger.info("TaskAddOrUpdate response",t.result),t.success?520!==t.code&&403!==t.code?(e.$router.replace("/teacher/add-task/"+t.result.id),e.$emit("close")):e.$logger.info("等待授权回调"):e.$message.error(t.message)})).finally((function(){e.startCreating=!1}))}else this.$message.error("Task mode is not supported")}}},c=d,o=(a("4cf1"),a("0c7c")),u=Object(o["a"])(c,s,n,!1,null,"44cd0fd2",null);t["default"]=u.exports}}]);