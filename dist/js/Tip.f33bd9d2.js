(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Tip"],{"018d6":function(t,e,i){"use strict";i("23bc")},"0228":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"b",(function(){return n}));var a=i("2b0e"),s=new a["a"],o={TEXT:"TEXT",VIDEO:"VIDEO",AUDIO:"AUDIO"},n={ADD_NEW_MEDIA:"ADD_NEW_MEDIA",DELETE_MEDIA_ELEMENT:"DELETE_MEDIA_ELEMENT",ADD_MEDIA_FOR_TIP:"ADD_MEDIA_FOR_TIP",IS_UPLOAD:"IS_UPLOAD"}},"0312":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"task-tip"},[t.currentTemp==t.tempInfo.main?[i("a-spin",{attrs:{tip:t.uploadText,spinning:!t.canUpload}},[i("div",{staticClass:"tip-content"},[i("a-row",{staticClass:"tip-context"},[i("a-col",{attrs:{span:t.choiceItem?12:24}},[i("div",[i("span",{staticClass:"span"},[t._v("Text Tip")]),i("symbols-input",{attrs:{isAreaText:!0},model:{value:t.tip_text,callback:function(e){t.tip_text=e},expression:"tip_text"}})],1),i("div",{staticClass:"upvideo-row"},[i("span",{staticClass:"span"},[t._v("Vedio Tip")]),i("upload-enter-for-tip",{attrs:{uploadProgress:t.uploadProgress,choiceFileType:t.choiceFileType,googleOriginUrl:t.googleOriginUrl}})],1),i("div",{staticClass:"tip-row",attrs:{span:12}},[i("div",{staticClass:"carousel-page"},[i("div",{staticClass:"img-list-wrapper"},[i("div",{staticClass:"img-list"},t._l(t.videoUrlList,(function(e,a){return i("div",{key:"index"+a,staticClass:"img-item"},[i("div",{staticClass:"img-box"},[t.isVideoType(e,"video")?i("video",{attrs:{width:"340px",height:"190px",src:e.url,preload:"auto",controls:""}}):t._e(),t.isVideoType(e,"iframe")?i("iframe",{attrs:{width:"340px",height:"190px",id:"item_player",src:e.url,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture;",allowfullscreen:""}}):t._e(),i("div",{staticClass:"delete_btn",on:{click:function(e){return t.deleteVideo(a)}}},[i("delete-btn",{staticClass:"del-icon"})],1)])])})),0)])])])]),t.choiceItem?i("a-col",{attrs:{span:12}},[i("div",{staticClass:"right-answer-content"},[i("span",{staticClass:"span"},[t._v("Correct Answer")]),t._l(t.choiceItem.data.data.options,(function(e,a){return i("div",{key:a,staticClass:"checktext checkitem"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.rightAnswers,expression:"rightAnswers"}],staticClass:"tipscheck",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.rightAnswers)?t._i(t.rightAnswers,e.id)>-1:t.rightAnswers},on:{change:[function(i){var a=t.rightAnswers,s=i.target,o=!!s.checked;if(Array.isArray(a)){var n=e.id,r=t._i(a,n);s.checked?r<0&&(t.rightAnswers=a.concat([n])):r>-1&&(t.rightAnswers=a.slice(0,r).concat(a.slice(r+1)))}else t.rightAnswers=o},t.handleCheckedChange]}}),i("p",{staticClass:"checktextbox",attrs:{title:e.text}},[t._v(" "+t._s(e.text)+" ")])])}))],2)]):t._e()],1)],1)])]:t.currentTemp==t.tempInfo.classcipeDirve?[i("classcipe-drive",{attrs:{insertClasscipeFile:t.insertClasscipeFile}})]:t.currentTemp==t.tempInfo.youtube?[i("google-youtube-video",{ref:"googleyoutubevideo",attrs:{nextYoutube:t.nextYoutube}})]:t._e()],2)},s=[],o=(i("c740"),i("d81d"),i("4de4"),i("9911"),i("a434"),i("823b")),n=i("6fb2"),r=i.n(n),c=i("2f68"),l=i("0228"),d=i("d7f9"),u=i("5aee"),p=i("1ac6"),h={name:"Tip",components:{UploadEnterForTip:c["a"],DeleteBtn:r.a,ClasscipeDrive:d["a"],GoogleYoutubeVideo:u["a"],SymbolsInput:p["a"]},data:function(){return{rightAnswers:[],currentTemp:0,tempInfo:{main:0,classcipeDirve:1,youtube:2},taskLoading:!1,tip_text:"",uploadText:"Uploading...",fileProgress:0,tip_id:0,param:{data:{type:"tip",urls:"",tip:"",source:"add-on"}},videoUrlList:[],canUpload:!0,tipData:{},choiceItem:{},googleOriginUrl:"https://dev.frontend.classcipe.com/"}},watch:{fileProgress:function(){this.uploadText="Uploading..."+Math.floor(this.fileProgress)},tip_text:function(){this.updateTip()}},created:function(){var t=this;l["a"].$on(l["b"].ADD_MEDIA_FOR_TIP,(function(e){t.addMaterialList(e)})),l["a"].$on(l["b"].IS_UPLOAD,(function(e){t.canUpload=e,t.sendMsgToParent(e,"canUpload")}));var e=this;window.addEventListener("message",(function(t){try{var i=JSON.parse(t.data);e.initTipData(i)}catch(a){}}),!1)},mounted:function(){window.parent&&window.parent.postMessage(JSON.stringify({from:"form",event:"tip-loaded",data:null}),"*")},methods:{uploadProgress:function(t){this.fileProgress=t},initTipData:function(t){if("classroom"===t.from&&"sendtipData"===t.event&&t.data){var e=t.data,i=e.elements,a=e.items,s=i.findIndex((function(t){return"tip"===t.data.type}));s>-1?(this.tipData=i[s].data,this.tip_text=this.tipData.tip?this.tipData.tip:"",this.videoUrlList=this.tipData.urls?this.tipData.urls:[]):(this.tip_text="",this.videoUrlList=[],this.tipData={}),this.currentTemp=this.tempInfo.main;var o=a.findIndex((function(t){return"choice"===t.type}));this.choiceItem=a[o]?a[o]:null,this.choiceItem&&this.setRightAnswers()}},setRightAnswers:function(){var t=this.choiceItem.data;if(t){var e=t.type;if("choice"===e){var i=t.data.options;this.rightAnswers=i.filter((function(t){return t.isAnswer})).map((function(t){return t.id}))}}},handleCheckedChange:function(){this.choiceItem.data.data.isMulti||(this.rightAnswers=[this.rightAnswers[this.rightAnswers.length-1]]),o["info"]("this.rightAnswers ",this.rightAnswers),this.sendMsgToParent(this.rightAnswers,"changeAnswer")},choiceFileType:function(t){1===t?this.currentTemp=this.tempInfo.classcipeDirve:2===t&&(this.currentTemp=this.tempInfo.youtube)},insertClasscipeFile:function(t){t&&this.addMaterialList({type:"video",url:t.filePath}),this.currentTemp=this.tempInfo.main},nextYoutube:function(t){t&&this.addMaterialList({type:"iframe",url:t.link}),this.currentTemp=this.tempInfo.main},isVideoType:function(t,e){return t.type===e||t.tpye===e},deleteVideo:function(t){this.videoUrlList.splice(t,1),this.updateTip()},addMaterialList:function(t){var e=t.url,i=t.type;this.$logger.info("addMaterialList",e,i),null===this.videoUrlList&&(this.videoUrlList=[]),this.videoUrlList.push({type:i,url:e}),this.updateTip()},updateTip:function(){this.tipData.tip=this.tip_text,this.tipData.urls=this.videoUrlList,this.sendMsgToParent(this.tipData,"updateTip")},sendMsgToParent:function(t,e){window.parent&&window.parent.postMessage(JSON.stringify({from:"form",event:e,data:t}),"*")}}},f=h,m=(i("088f"),i("0c7c")),v=Object(m["a"])(f,a,s,!1,null,"5f5d46db",null);e["default"]=v.exports},"088f":function(t,e,i){"use strict";i("7cfd")},"11ab":function(t,e,i){var a=i("b2b7");t.exports={__esModule:!0,default:a.svgComponent({tag:"svg",attrsMap:{class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},children:[{tag:"path",attrsMap:{d:"M678 629.8L350.8 64h322.4l327.2 565.8H678z m-275 47.2L241.8 960h621L1024 677H403zM308.2 134.8L0 677 161.2 960 474 417.6 308.2 134.8z"}}]})}},1362:function(t,e,i){},"140a":function(t,e,i){},"173c":function(t,e){t.exports="data:image/png;base64,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"},"1ac6":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"virtual_keyboard_input"},[t.isAreaText?i("a-textarea",{ref:"inputRef",attrs:{id:"input-area",placeholder:"Insert tip for the slide",autoSize:{minRows:4,maxRows:5}},on:{blur:function(e){return t.hideSymbolBtn()},focus:function(e){return t.showSymbolBtn()},keyup:t.inputValue},model:{value:t.input_text,callback:function(e){t.input_text=e},expression:"input_text"}}):i("a-input",{attrs:{size:"large",id:"input-area"},on:{blur:function(e){return t.hideSymbolBtn()},focus:function(e){return t.showSymbolBtn()}},model:{value:t.input_text,callback:function(e){t.input_text=e},expression:"input_text"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.symbolBtnShow,expression:"symbolBtnShow"}],staticClass:"bundle-virtual-keyboard-wrapper"},[i("div",{staticStyle:{position:"relative"}},[i("button",{staticClass:"keybtn-active",on:{click:function(e){return t.showKeyBoard()}}},[t._v("π")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.keyboardShow,expression:"keyboardShow"}],staticClass:"math-symbols-keyboard"},[i("div",{staticClass:"virtual_keyboard",on:{click:function(e){return t.noCloseKeyBtn()}}},[i("div",{staticClass:"virtual_keyboard__header"},[i("button",{staticClass:"virtual_keyboard__header-prev",on:{click:t.prevSymbol}},[t._v("<")]),i("div",{staticClass:"virtual_keyboard__header-title"},[t._v(t._s(t.MathSymbols[t.symbolIndex].name))]),i("button",{staticClass:"virtual_keyboard__header-next",on:{click:t.nextSymbol}},[t._v(">")])]),i("div",{staticClass:"virtual_keyboard_body"},[i("ul",{staticClass:"virtual_keyboard__list"},t._l(t.MathSymbols[t.symbolIndex].values,(function(e,a){return i("li",{key:a,staticClass:"virtual_keyboard__list-item",style:e.length>3?"width:70px":""},[i("button",{staticClass:"virtual_keyboard__list-item-button",on:{click:function(i){return t.insertSymbol(e)}}},[t._v(" "+t._s(e)+" ")])])})),0)])])])])])],1)},s=[],o={name:"Tip",props:{isAreaText:{type:Boolean,default:!0},inputText:{type:String,default:null}},model:{prop:"inputText",event:"input"},computed:{input_text:{get:function(){return this.inputText},set:function(t){this.$emit("input",t)}}},data:function(){return{keyboardShow:!1,symbolBtnShow:!1,symbolIndex:0,canCloseKeyBtn:!1,currentIndex:0,MathSymbols:[{name:"Exponents",values:["Xⁿ","Xᵤ","X²","X³","X⁴","√"]},{name:"Operators",values:["+","-","×","÷","/","±","∑","!","log()","ln()"]},{name:"Angles",values:["π","º","'","''","sin()","cos()","tan()","sin⁻¹()","cos⁻¹()","tan⁻¹()"]},{name:"Functions",values:["()","[]","{}","||","ƒ’(x)","ƒ’’(x)","∫"]},{name:"superscript",values:["⁰","¹","²","³","⁴","⁵","⁶","⁷","⁸","⁹"]},{name:"subscript",values:["₀","₁","₂","₃","₄","₅","₆","₇","₈","₉","ₐ","ᵦ","ₑ","ᵢ","ₒ","ᵣ","ᵤ","ᵥ","ₓ","ᵧ"]}]}},methods:{noCloseKeyBtn:function(){this.setInputFocus(),this.canCloseKeyBtn=!1},hideSymbolBtn:function(){var t=this;setTimeout((function(){t.canCloseKeyBtn&&(t.symbolBtnShow=!1,t.keyboardShow=!1),t.canCloseKeyBtn=!0}),200)},showSymbolBtn:function(){this.symbolBtnShow=!0,this.setInputFocus()},setInputFocus:function(){var t=document.getElementById("input-area");t.focus()},showKeyBoard:function(){this.canCloseKeyBtn=!1,this.keyboardShow=!this.keyboardShow,this.setInputFocus()},prevSymbol:function(){this.symbolIndex>0?this.symbolIndex-=1:this.symbolIndex=this.MathSymbols.length-1},nextSymbol:function(){this.symbolIndex<this.MathSymbols.length-1?this.symbolIndex+=1:this.symbolIndex=0},insertSymbol:function(t){var e=document.getElementById("input-area");null===this.input_text||""===this.input_text?this.input_text=t:this.input_text=this.input_text.substr(0,e.selectionStart)+t+this.input_text.substring(e.selectionStart),this.setInputFocus()},inputValue:function(t){}}},n=o,r=(i("4c16"),i("0c7c")),c=Object(r["a"])(n,a,s,!1,null,"6c947aca",null);e["a"]=c.exports},"1e60":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return s}));var a=["avi","wmv","mpeg","mp4","mov","m4v","asf","flv","f4v","rmvb","rm","3gp","vob","webm"],s=["mp3","m4a"]},"226e":function(t,e,i){},"23bc":function(t,e,i){},"2b5a":function(t,e,i){"use strict";i("226e")},"2f68":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-enter"},[a("a-space",[a("a-tooltip",{attrs:{title:"classcipe drive",placement:"top"}},[a("div",{staticClass:"upload-type-item"},[a("div",{staticClass:"remark-button-outer"},[a("img",{staticClass:"remark-button",attrs:{src:i("173c"),alt:""},on:{click:t.openClasscipeDrive}})])])]),a("a-tooltip",{attrs:{title:"youtube",placement:"top"}},[a("div",{staticClass:"upload-type-item"},[a("youtube-icon",{staticClass:"svg-icon",on:{click:t.addYoutube}})],1)])],1),a("div",{staticClass:"material-recorder"})],1)},s=[],o=(i("ac1f"),i("1276"),i("b0c0"),i("0228")),n=i("11ab"),r=i.n(n),c=i("4fce"),l=i.n(c),d=i("6f6b"),u=i.n(d),p=i("1da1"),h=i("d4ec"),f=i("bee2"),m=i("ade3"),v=(i("96cf"),i("99af"),i("d3b7"),i("a15b"),i("3ca3"),i("ddb0"),i("2b3d"),i("8ded")),g=i.n(v),b=i("d0d0"),y=i("823b"),w={dev:{clientId:"93768424123-g7das9do6ofs1h0hetqi46634rvbchbk.apps.googleusercontent.com",appId:"classcipe-drive",developerKey:"AIzaSyCSgKwoxLiQLuiBeFPyavrNkhlbnZqj0SI"},release:{clientId:"93768424123-g7das9do6ofs1h0hetqi46634rvbchbk.apps.googleusercontent.com",appId:"classcipe-drive",developerKey:"AIzaSyCSgKwoxLiQLuiBeFPyavrNkhlbnZqj0SI"}},C=function(){function t(){var e=this;Object(h["a"])(this,t),Object(m["a"])(this,"LoadPickerConfig",w.release),Object(m["a"])(this,"clientId",this.LoadPickerConfig.clientId),Object(m["a"])(this,"appId",this.LoadPickerConfig.appId),Object(m["a"])(this,"classcipeUserId",null),Object(m["a"])(this,"OriginUrl","https://docs.google.com/"),Object(m["a"])(this,"scope",["https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/drive.file"]),Object(m["a"])(this,"developerKey",this.LoadPickerConfig.developerKey),Object(m["a"])(this,"oauthToken",""),Object(m["a"])(this,"pickerApiLoaded",!1),Object(m["a"])(this,"classCallback",null),Object(m["a"])(this,"onloadingCallBack",null),Object(m["a"])(this,"uploadDriveInstance",null),Object(m["a"])(this,"onPickerApiLoad",(function(){e.pickerApiLoaded=!0,e.createPicker()})),Object(m["a"])(this,"onAuthApiLoad",(function(){window.gapi.auth.authorize({client_id:e.clientId,scope:e.scope,immediate:!1},e.handleAuthResult)})),Object(m["a"])(this,"handleAuthResult",(function(t){t&&!t.error&&(e.oauthToken=t.access_token,g.a.set("google_picker_auth_token",e.oauthToken),e.createPicker())})),Object(m["a"])(this,"createPicker",(function(){if(e.pickerApiLoaded&&e.oauthToken){var t=(new window.google.picker.PickerBuilder).setTitle("My Drive").enableFeature(window.google.picker.Feature.NAV_HIDDEN).setOrigin(e.OriginUrl).setAppId(e.appId).setOAuthToken(e.oauthToken).addView(window.google.picker.ViewId.DOCS_VIDEOS).setDeveloperKey(e.developerKey).setCallback(e.pickerCallback).build();t.setVisible(!0)}})),Object(m["a"])(this,"pickerCallback",(function(t){if(y["info"](t),t.action===window.google.picker.Action.PICKED){var i=t.docs[0].id;e.getDownloadUrl(i)}})),Object(m["a"])(this,"getDownloadUrl",(function(t){var i=new XMLHttpRequest;i.open("GET","https://www.googleapis.com/drive/v2/files/".concat(t,"?supportsTeamDrives=true&access_token=").concat(e.oauthToken)),i.setRequestHeader("Authorization","Bearer ".concat(e.oauthToken)),i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var t=JSON.parse(i.response);y["info"]("getDownloadUrl-----",t),e.onloadingCallBack(1);var a=t.downloadUrl,s=t.mimeType;e.downloadFile(a,s)}},i.send()})),Object(m["a"])(this,"makeXMLHttpRequest",(function(t,i){var a=new XMLHttpRequest,s=e.classCallback;a.onreadystatechange=function(){4===a.readyState&&200===a.status&&s("upload-ended",a.response),413===a.status&&s("onerror")},a.upload.onloadstart=function(){s("Upload started...")},a.upload.onprogress=function(t){},a.upload.onload=function(){s("progress-about-to-end")},a.upload.onload=function(){s("progress-ended")},a.upload.onerror=function(t){s("onerror")},a.upload.onabort=function(t){s("Upload aborted.")},a.open("POST",t),a.send(i)}))}return Object(f["a"])(t,[{key:"init",value:function(t,e,i,a){y["info"]("google drive init "+i),this.loadPicker(),this.classCallback=e,this.onloadingCallBack=t,this.classcipeUserId=i,a.length>0&&(this.OriginUrl=a)}},{key:"checkLogin",value:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.oauthToken&&""!==this.oauthToken){t.next=2;break}return t.abrupt("return",Promise.reject());case 2:return t.abrupt("return",new Promise((function(t,i){window.gapi.client.init({apiKey:e.developerKey,clientId:e.clientId,scope:e.scope.join(" ")}).then((function(){var e=window.gapi.auth2.getAuthInstance(),a=e.isSignedIn.get();a?t(!0):i(new Error("GoogleAuth Not login"))}))})));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"loadPicker",value:function(){var t=this;this.checkLogin().then((function(){window.gapi.load("picker",{callback:t.onPickerApiLoad})})).catch((function(){window.gapi.load("client:auth2",{callback:t.onAuthApiLoad}),window.gapi.load("picker",{callback:t.onPickerApiLoad})}))}},{key:"getBlob",value:function(t){var e=t.getResponseHeader("Content-Type"),i=new Blob([t.response],{type:e}),a=(window.URL||window.webkitURL).createObjectURL(i);return y["info"](a),i}},{key:"downloadFile",value:function(t,e){var i=this;if(t){var a=new XMLHttpRequest;a.open("GET",t),a.setRequestHeader("Authorization","Bearer ".concat(this.oauthToken)),a.responseType="arraybuffer",a.onload=function(){var t=e.split("/")[1],s=i.getBlob(a),o=new File([s],"drivefile_".concat(Date.now(),".").concat(t),{type:e});i.upLoadFile(o,e)},a.send()}else y["info"](null)}},{key:"upLoadFile",value:function(t,e){var i=new FormData;i.append("file",t),this.upDriveFire(t,e)}},{key:"upDriveFire",value:function(t,e){var i=this;y["info"]("upDriveFire",this.classcipeUserId,t,e),this.uploadDriveInstance=Object(b["a"])(this.classcipeUserId,t,this.onloadingCallBack,(function(t){y["info"](t,e),i.classCallback("upload-ended",t,e),i.uploadDriveInstance=null}),!0)}},{key:"cancelUpDrive",value:function(){this.uploadDriveInstance&&(this.uploadDriveInstance.abort(),this.uploadDriveInstance=null)}}]),t}(),I=new C,k=i("1e60"),x=i("fdae"),L=i("d7f9"),A=i("5aee"),T={components:{GoogleYoutubeVideo:A["a"],GoogleDriveIcon:r.a,YoutubeIcon:l.a,OpenDirSvg:u.a,ClasscipeDrive:L["a"],CommonUpload:x["a"]},props:{uploadProgress:{type:Function,default:function(){return null}},choiceFileType:{type:Function,default:function(){return null}},googleOriginUrl:{type:String,default:""}},data:function(){return{fileList:[],showYoutube:!1,showClasscipeDrive:!1,youtubeUrl:"",withKeyUrl:"",showIframe:!1,destroyOnClose:!0,recordType:null,ModalEventsTypeEnum:o["c"],ModalEventsNameEnum:o["b"],driveUpLoadProgress:0,canUpLoad:!0}},watch:{driveUpLoadProgress:function(){this.uploadProgress(this.driveUpLoadProgress),this.driveUpLoadProgress>0&&(this.canUpLoad=!1),0===this.driveUpLoadProgress&&(this.canUpLoad=!0)},canUpLoad:function(){!1===this.canUpLoad?o["a"].$emit(o["b"].IS_UPLOAD,!1):o["a"].$emit(o["b"].IS_UPLOAD,!0)}},mounted:function(){},methods:{getProgressUpLoad:function(t){this.driveUpLoadProgress=t},onSuccess:function(t,e){var i=t.type.split("/"),a=t.name.split("."),s="";try{s=a[a.length-1]||i[1]}catch(r){}s=s.toLocaleLowerCase();var n="image";k["b"].indexOf(s)>-1?n="video":k["a"].indexOf(s)>-1&&(n="audio"),o["a"].$emit(o["b"].ADD_MEDIA_FOR_TIP,{type:n,url:e})},addYoutube:function(){this.choiceFileType(2)},openClasscipeDrive:function(){this.choiceFileType(1)},addDrive:function(){var t=this;I.init((function(e){t.driveUpLoadProgress=e}),(function(e,i,a){i&&(t.$logger.info("addDrive done",i,a),o["a"].$emit(o["b"].ADD_MEDIA_FOR_TIP,{type:a.indexOf("image")>-1?"image":"video",url:i})),t.$nextTick((function(){t.driveUpLoadProgress=0}))}),this.$store.getters.userInfo.id,this.googleOriginUrl)},video:function(){this.recordType=o["c"].VIDEO}}},_=T,U=(i("018d6"),i("0c7c")),D=Object(U["a"])(_,a,s,!1,null,"25a4d588",null);e["a"]=D.exports},"49de":function(t,e,i){"use strict";i.r(e),i.d(e,"materialAPIUrl",(function(){return s})),i.d(e,"MaterialAddOrUpdate",(function(){return o})),i.d(e,"MaterialQueryById",(function(){return n})),i.d(e,"MaterialDelete",(function(){return r})),i.d(e,"MaterialDeleteBatch",(function(){return c})),i.d(e,"MaterialList",(function(){return l})),i.d(e,"YoutubeQueryByKeywords",(function(){return d})),i.d(e,"FileRecord",(function(){return u})),i.d(e,"addFileUploadRecord",(function(){return p}));var a=i("b775"),s={MaterialAddOrUpdate:"/classcipe/api/material/addOrUpdate",MaterialQueryById:"/classcipe/api/material/queryById",MaterialDelete:"/classcipe/api/material/delete",MaterialDeleteBatch:"/classcipe/api/material/deleteBatch",MaterialList:"/classcipe/api/material/list",YoutubeQueryByKeywords:"/classcipe/api/youtube/queryByKeywords",FileRecord:"/classcipe/api/fileUploadRecord/list",addFileUploadRecord:"/classcipe/api/fileUploadRecord/add"};function o(t){return Object(a["d"])({url:s.MaterialAddOrUpdate,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function n(t){return Object(a["d"])({url:s.MaterialQueryById,method:"get",params:t})}function r(t){return Object(a["d"])({url:s.MaterialDelete,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(t){return Object(a["d"])({url:s.MaterialDeleteBatch,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(t){return Object(a["d"])({url:s.MaterialList,method:"get",params:t})}function d(t){return Object(a["d"])({url:s.YoutubeQueryByKeywords,method:"get",params:t})}function u(t){return Object(a["d"])({url:s.FileRecord,method:"get",params:t})}function p(t){return Object(a["d"])({url:s.addFileUploadRecord,method:"post",data:t})}},"4c16":function(t,e,i){"use strict";i("1362")},"4fce":function(t,e,i){var a=i("b2b7");t.exports={__esModule:!0,default:a.svgComponent({tag:"svg",attrsMap:{t:"1625312338794",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2405",width:"32",height:"32"},children:[{tag:"path",attrsMap:{d:"M624.99264 710.848l0 120.576q0 38.272-22.272 38.272-13.152 0-25.728-12.576l0-172q12.576-12.576 25.728-12.576 22.272 0 22.272 38.272zM818.14464 711.424l0 26.272-51.424 0 0-26.272q0-38.848 25.728-38.848t25.728 38.848zM266.14464 586.848l61.152 0 0-53.728-178.272 0 0 53.728 60 0 0 325.152 57.152 0 0-325.152zM430.72064 912l50.848 0 0-282.272-50.848 0 0 216q-17.152 24-32.576 24-10.272 0-12-12-0.576-1.728-0.576-20l0-208-50.848 0 0 223.424q0 28 4.576 41.728 6.848 21.152 33.152 21.152 27.424 0 58.272-34.848l0 30.848zM675.87264 827.424l0-112.576q0-41.728-5.152-56.576-9.728-32-40.576-32-28.576 0-53.152 30.848l0-124-50.848 0 0 378.848 50.848 0 0-27.424q25.728 31.424 53.152 31.424 30.848 0 40.576-31.424 5.152-15.424 5.152-57.152zM868.99264 821.728l0-7.424-52 0q0 29.152-1.152 34.848-4 20.576-22.848 20.576-26.272 0-26.272-39.424l0-49.728 102.272 0 0-58.848q0-45.152-15.424-66.272-22.272-29.152-60.576-29.152-38.848 0-61.152 29.152-16 21.152-16 66.272l0 98.848q0 45.152 16.576 66.272 22.272 29.152 61.728 29.152 41.152 0 61.728-30.272 10.272-15.424 12-30.848 1.152-5.152 1.152-33.152zM521.56864 300l0-120q0-39.424-24.576-39.424t-24.576 39.424l0 120q0 40 24.576 40t24.576-40zM932.41664 729.152q0 133.728-14.848 200-8 33.728-33.152 56.576t-58.272 26.272q-105.152 12-317.152 12t-317.152-12q-33.152-3.424-58.56-26.272t-32.864-56.576q-14.848-64-14.848-200 0-133.728 14.848-200 8-33.728 33.152-56.576t58.848-26.848q104.576-11.424 316.576-11.424t317.152 11.424q33.152 4 58.56 26.848t32.864 56.576q14.848 64 14.848 200zM362.14464 0l58.272 0-69.152 228 0 154.848-57.152 0 0-154.848q-8-42.272-34.848-121.152-21.152-58.848-37.152-106.848l60.576 0 40.576 150.272zM573.56864 190.272l0 100q0 46.272-16 67.424-21.152 29.152-60.576 29.152-38.272 0-60-29.152-16-21.728-16-67.424l0-100q0-45.728 16-66.848 21.728-29.152 60-29.152 39.424 0 60.576 29.152 16 21.152 16 66.848zM764.99264 97.728l0 285.152-52 0 0-31.424q-30.272 35.424-58.848 35.424-26.272 0-33.728-21.152-4.576-13.728-4.576-42.848l0-225.152 52 0 0 209.728q0 18.848 0.576 20 1.728 12.576 12 12.576 15.424 0 32.576-24.576l0-217.728 52 0z","p-id":"2406"}}]})}},"5aee":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"youtube-page"},[a("div",{staticClass:"youtube-input-class"},[a("img",{staticClass:"youtube-input-icon",attrs:{src:i("7c8c"),alt:""}}),a("a-input-search",{staticClass:"youtube-input",attrs:{placeholder:"Search",size:"large"},on:{search:t.searchVideo,pressEnter:t.searchVideo},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}})],1),a("div",{staticClass:"youtube-video-con"},[a("a-spin",{attrs:{tip:"Loading...",spinning:t.loading}},[0==t.videos.length?a("div",{staticClass:"video-text"},[t._v(" Search vedio from Youtube ")]):t._l(t.videos,(function(e,i){return a("div",{key:"video"+i,staticClass:"youtube-video-item",class:{active:t.chooseVideoId===e.videoId},on:{click:function(i){return t.chooseVideo(e)}}},[a("div",{staticClass:"youtube-video-img"},[t.chooseVideoId===e.videoId?[a("iframe",{staticClass:"youtube-video-img",attrs:{src:e.link,frameborder:"0",allow:"accelerometer;  clipboard-write; encrypted-media; gyroscope; picture-in-picture;"}})]:[a("img",{staticClass:"youtube-video-img",attrs:{src:e.thumbnailMedium}})]],2),a("div",{staticClass:"youtube-video-detail"},[a("div",{staticClass:"video-detail-content"},[a("div",{staticClass:"video-detail-title"},[t._v(" "+t._s(e.title)+" ")]),a("div",{staticClass:"video-detail-desc"},[t._v(" "+t._s(e.description)+" ")])]),a("div",{staticClass:"video-detail-time"},[t._v(" "+t._s(e.date)+" ")])])])}))],2)],1),a("a-col",{staticClass:"col-button"},[a("div",{staticClass:"selected-action"},[a("div",{staticClass:"modal-ensure-action-line-center"},[a("a-space",[t.showCancel?a("a-button",{staticClass:"action-item action-cancel",attrs:{shape:"round"},on:{click:t.cancel}},[t._v("Cancel")]):t._e(),a("a-button",{staticClass:"action-ensure action-item",attrs:{type:"primary",shape:"round",disabled:0==t.chooseVideoId.length},on:{click:t.insert}},[t._v(" Confirm ")])],1)],1)])])],1)},s=[],o=(i("498a"),i("9911"),i("823b")),n=i("49de"),r={props:{nextYoutube:{type:Function,required:!0},showCancel:{type:Boolean,default:!0}},data:function(){return{loading:!1,keywords:"",choose:{},chooseVideoId:"",videos:[]}},created:function(){},methods:{searchVideo:function(){var t=this;this.keywords.trim().length>0?(this.loading=!0,this.chooseVideoId="",this.videos=[],Object(n["YoutubeQueryByKeywords"])({keywords:this.keywords}).then((function(e){o["info"]("YoutubeQueryByKeywords ",e),t.videos=e.result,t.loading=!1}))):this.$message.warn("Please enter keyword")},insert:function(){if(0===this.chooseVideoId.length)return this.$message.warn("Please select a video"),null;o["info"]("insert "),Object(n["addFileUploadRecord"])({fileLength:0,fileName:this.choose.title,filePath:this.choose.link,uploadType:2}).then((function(t){o["info"]("addFileUploadRecord res",t)})),this.nextYoutube(this.choose),this.choose=null,this.keywords="",this.chooseVideoId="",this.videos=[]},cancel:function(){this.nextYoutube(),this.$emit("cancel")},chooseVideo:function(t){o["info"]("chooseVideo",t),this.chooseVideoId=t.videoId,this.choose=t}}},c=r,l=(i("2b5a"),i("0c7c")),d=Object(l["a"])(c,a,s,!1,null,"44872ef0",null);e["a"]=d.exports},"676b":function(t,e,i){"use strict";i("8e50")},"6f6b":function(t,e,i){var a=i("b2b7");t.exports={__esModule:!0,default:a.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"30.511",height:"24.408",viewBox:"0 0 30.511 24.408"},children:[{tag:"g",attrsMap:{id:"打开的文件夹",transform:"translate(0)"},children:[{tag:"path",attrsMap:{id:"路径_403","data-name":"路径 403",style:" fill: #009b77;",class:"cls-1",d:"M269,4.247H258.243L255.515.491A1.276,1.276,0,0,0,254.606,0h-7.579c-.909,0-1.515.98-1.212,2.287l2.728,17.153a1.474,1.474,0,0,0,1.364,1.307h16.671a1.5,1.5,0,0,0,1.364-1.306l2.122-13.071c.3-1.144-.3-2.124-1.062-2.124Z",transform:"translate(-239.879 0)"}},{tag:"path",attrsMap:{id:"路径_404","data-name":"路径 404",style:" fill: #fff;",class:"cls-2",d:"M358.4,286.427V275.456h18.306v10.971Z",transform:"translate(-349.86 -268.89)"}},{tag:"path",attrsMap:{id:"路径_405","data-name":"路径 405",style:" fill: #15c39a;",class:"cls-3",d:"M28.931,229.548H15.519l-3.587-3.776a1.643,1.643,0,0,0-1.091-.492H1.484a1.54,1.54,0,0,0-1.4,2.133L4.6,243.169a1.752,1.752,0,0,0,1.715,1.15h18.9a1.754,1.754,0,0,0,1.716-1.148l3.56-11.982a1.511,1.511,0,0,0-1.56-1.64Z",transform:"translate(0 -219.911)"}}]}]})}},"6fb2":function(t,e,i){var a=i("b2b7");t.exports={__esModule:!0,default:a.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24px",height:"21px"},children:[{tag:"path",attrsMap:{"fill-rule":"evenodd",d:"M12.996,13.643 C12.996,14.186 12.529,14.628 11.955,14.628 L4.454,14.628 C3.880,14.628 3.413,14.186 3.413,13.643 L3.413,3.188 L12.996,3.188 L12.996,13.643 L12.996,13.643 ZM5.495,1.420 C5.495,1.306 5.588,1.218 5.708,1.218 L10.713,1.218 C10.834,1.218 10.927,1.306 10.927,1.420 L10.927,2.013 L5.495,2.013 L5.495,1.420 ZM15.462,2.013 L12.168,2.013 L12.168,1.420 C12.168,0.662 11.514,0.043 10.713,0.043 L5.708,0.043 C4.908,0.043 4.254,0.662 4.254,1.420 L4.254,2.013 L0.947,2.013 C0.600,2.013 0.319,2.278 0.319,2.607 C0.319,2.935 0.600,3.200 0.947,3.200 L2.158,3.200 L2.158,13.643 C2.158,14.843 3.186,15.815 4.454,15.815 L11.955,15.815 C13.222,15.815 14.250,14.843 14.250,13.643 L14.250,3.188 L15.462,3.188 C15.809,3.188 16.089,2.922 16.089,2.594 C16.089,2.266 15.809,2.013 15.462,2.013 ZM8.204,12.848 C8.551,12.848 8.831,12.582 8.831,12.254 L8.831,5.940 C8.831,5.612 8.551,5.347 8.204,5.347 C7.857,5.347 7.577,5.612 7.577,5.940 L7.577,12.254 C7.577,12.582 7.857,12.848 8.204,12.848 M5.938,11.586 C6.285,11.586 6.566,11.321 6.566,10.992 L6.566,7.202 C6.566,6.874 6.285,6.609 5.938,6.609 C5.591,6.609 5.311,6.874 5.311,7.202 L5.311,10.992 C5.324,11.321 5.605,11.586 5.938,11.586 M10.470,11.586 C10.817,11.586 11.097,11.321 11.097,10.992 L11.097,7.202 C11.097,6.874 10.817,6.609 10.470,6.609 C10.123,6.609 9.843,6.874 9.843,7.202 L9.843,10.992 C9.843,11.321 10.123,11.586 10.470,11.586 "}}]})}},"7c8c":function(t,e,i){t.exports=i.p+"img/youtube.bb9246d7.png"},"7cfd":function(t,e,i){},"7e7c":function(t,e,i){},"8e50":function(t,e,i){},"9a29":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"task-tip"},[t.currentTemp==t.tempInfo.main?[i("a-spin",{attrs:{tip:t.uploadText,spinning:!t.canUpload}},[i("div",{staticClass:"tip-content"},[i("symbols-input",{attrs:{isAreaText:!0},model:{value:t.tip_text,callback:function(e){t.tip_text=e},expression:"tip_text"}}),i("a-col",{staticClass:"tip-row",attrs:{span:24}},[i("upload-enter-for-tip",{attrs:{uploadProgress:t.uploadProgress,choiceFileType:t.choiceFileType}})],1),i("a-col",{staticClass:"tip-row"},[i("div",{staticClass:"carousel-page"},[i("div",{staticClass:"img-list-wrapper"},[i("div",{staticClass:"img-list"},t._l(t.videoUrlList,(function(e,a){return i("div",{key:"index"+a,staticClass:"img-item"},[i("div",{staticClass:"img-box"},[t.isVideoType(e,"video")?i("video",{attrs:{width:"340px",height:"190px",src:e.url,preload:"auto",controls:""}}):t._e(),t.isVideoType(e,"iframe")?i("iframe",{attrs:{width:"340px",height:"190px",id:"item_player",src:e.url,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture;",allowfullscreen:""}}):t._e(),i("div",{staticClass:"delete_btn",on:{click:function(e){return t.deleteVideo(a)}}},[i("delete-btn",{staticClass:"del-icon"})],1)])])})),0)])])]),i("a-col",{staticClass:"tip-button"},[i("div",{staticClass:"selected-action"},[i("div",{staticClass:"modal-ensure-action-line-center"},[i("a-space",[i("a-button",{staticClass:"action-item action-cancel",attrs:{shape:"round"},on:{click:t.cancel}},[t._v("Cancel")]),i("a-button",{staticClass:"action-ensure action-item",attrs:{type:"primary",shape:"round",disabled:0==t.tip_text.length&&0==t.videoUrlList.length&&t.canUpload},on:{click:t.confirm}},[t._v(" Confirm ")])],1)],1)])])],1)])]:t.currentTemp==t.tempInfo.classcipeDirve?[i("classcipe-drive",{attrs:{insertClasscipeFile:t.insertClasscipeFile}})]:t.currentTemp==t.tempInfo.youtube?[i("google-youtube-video",{ref:"googleyoutubevideo",attrs:{nextYoutube:t.nextYoutube}})]:t._e()],2)},s=[],o=(i("9911"),i("d3b7"),i("a434"),i("823b")),n=i("6fb2"),r=i.n(n),c=i("2f68"),l=i("0228"),d=i("f524"),u=i("d7f9"),p=i("1ac6"),h=i("5aee"),f={name:"Tip",components:{UploadEnterForTip:c["a"],DeleteBtn:r.a,ClasscipeDrive:u["a"],GoogleYoutubeVideo:h["a"],SymbolsInput:p["a"]},props:{slideId:{type:String,required:!0},pageId:{type:String,required:!0}},data:function(){return{currentTemp:0,tempInfo:{main:0,classcipeDirve:1,youtube:2},taskLoading:!1,tip_text:"",uploadText:"Uploading...",fileProgress:0,tip_id:0,param:{slide_id:"1yDugYGGpnYpnirssemu-dUdYsx87Dt-QHHV9hRB5IWU",page_id:"g1122e959211_0_0",data:{type:"tip",urls:"",tip:"",source:"add-on",totalTime:0}},videoUrlList:[],canUpload:!0}},watch:{fileProgress:function(){this.uploadText="Uploading..."+Math.floor(this.fileProgress)}},created:function(){var t=this;o["info"]("created ",this.pageId,this.slideId),this.param.slide_id=this.slideId,this.param.page_id=this.pageId,l["a"].$on(l["b"].ADD_MEDIA_FOR_TIP,(function(e){t.addMaterialList(e)})),l["a"].$on(l["b"].IS_UPLOAD,(function(e){t.canUpload=e})),window.addEventListener("message",(function(t){}),!1)},mounted:function(){this.getTipInfo(),window.parent&&window.parent.postMessage(JSON.stringify({from:"addon",event:"tip-loaded",data:null}),"*")},methods:{uploadProgress:function(t){this.fileProgress=t},choiceFileType:function(t){1===t?this.currentTemp=this.tempInfo.classcipeDirve:2===t&&(this.currentTemp=this.tempInfo.youtube)},insertClasscipeFile:function(t){t&&this.addMaterialList({type:"video",url:t.filePath}),this.currentTemp=this.tempInfo.main},nextYoutube:function(t){t&&this.addMaterialList({type:"iframe",url:t.link}),this.currentTemp=this.tempInfo.main},getTipInfo:function(){var t=this,e={};e.pageId=this.pageId,e.slideId=this.slideId,Object(d["c"])(e).then((function(e){o["info"]("queryElementById ",e.result);for(var i=e.result,a=0;a<i.length;a++)if(o["info"]("eles ",i[a]),"tip"===i[a].data.type){t.tip_id=i[a].id,t.tip_text=i[a].data.tip,t.param.data=i[a].data,i[a].data.urls&&(t.videoUrlList=i[a].data.urls);break}})).finally((function(){}))},isVideoType:function(t,e){return t.type===e||t.tpye===e},deleteVideo:function(t){this.videoUrlList.splice(t,1)},addMaterialList:function(t){var e=t.url,i=t.type;this.$logger.info("addMaterialList",e,i),null===this.videoUrlList&&(this.videoUrlList=[]),this.videoUrlList.push({type:i,url:e})},cancel:function(){this.closeAddonWindow()},confirm:function(){var t=this;this.tip_text.length<1&&this.videoUrlList.length<1?this.$message.warn("Insert tip for the slide!"):(this.param.data.tip=this.tip_text,this.param.data.urls=this.videoUrlList,this.tip_id>0?(this.param.id=this.tip_id,Object(d["d"])(this.param).then((function(e){o["info"]("updateElement ",e),t.closeAddonWindow()}))):Object(d["b"])(this.param).then((function(e){o["info"]("addElement ",e),t.closeAddonWindow()})))},closeAddonWindow:function(){window.parent&&window.parent.postMessage(JSON.stringify({from:"addon",event:"close",data:null}),"*")}}},m=f,v=(i("9fcf"),i("0c7c")),g=Object(v["a"])(m,a,s,!1,null,"a30923ce",null);e["default"]=g.exports},"9ad0":function(t,e,i){"use strict";i("7e7c")},"9fcf":function(t,e,i){"use strict";i("140a")},d7f9:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("div",{staticClass:"drive-title"},[t._v(" Classcipe Drive ")]),i("div",[i("a-input-search",{staticClass:"search-input",attrs:{placeholder:"Search",size:"large"},on:{search:t.searchVideo,pressEnter:t.searchVideo},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}})],1),i("a-col",{staticClass:"tip-row"},[i("div",{staticClass:"carousel-page"},[i("div",{staticClass:"video-list-wrapper"},[0==t.fileList.length?i("div",{staticClass:"video-text"},[t._v(" no data ")]):i("div",{staticClass:"video-list"},[i("a-radio-group",{staticClass:"video-list",model:{value:t.chooseVideoId,callback:function(e){t.chooseVideoId=e},expression:"chooseVideoId"}},t._l(t.fileList,(function(e,a){return i("div",{key:"index"+a,staticClass:"video-item",class:{active:t.chooseVideoId===e.id}},[i("div",{staticClass:"img-box",on:{click:function(i){return t.choiceItem(e)}}},[i("iframe",{attrs:{width:"340px",height:"190px",id:"item_player",src:e.filePath,title:e.title,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture;",allowfullscreen:""}}),i("a-radio",{attrs:{value:e.id}},[t._v(t._s(t.showFileName(decodeURIComponent(e.fileName))))])],1)])})),0)],1)])])]),i("a-col",{staticClass:"col-button"},[i("div",{staticClass:"selected-action"},[i("div",{staticClass:"modal-ensure-action-line-center"},[i("a-space",[i("a-button",{staticClass:"action-item action-cancel",attrs:{shape:"round"},on:{click:t.cancel}},[t._v("Cancel")]),i("a-button",{staticClass:"action-ensure action-item",attrs:{type:"primary",shape:"round",disabled:0==t.chooseVideoId.length},on:{click:t.confirm}},[t._v(" Confirm ")])],1)],1)])])],1)},s=[],o=i("49de"),n={props:{insertClasscipeFile:{type:Function,required:!0}},data:function(){return{chooseVideoId:"",chooseItem:null,baseFileUrl:"https://dcdkqlzgpl5ba.cloudfront.net/",fileList:[],videoUrlList:[],keywords:""}},created:function(){},watch:{},mounted:function(){this.$logger.info(this.videoId,"watch videoId"),this.getFileRecord()},methods:{searchVideo:function(){this.getFileRecord(this.keywords)},getFileRecord:function(t){var e=this,i={uploadType:2,pageSize:20};t&&(i.keywords=t),Object(o["FileRecord"])(i).then((function(t){e.$logger.info("FileRecord ",t.result),t.result&&t.result.records&&(e.fileList=t.result.records)}))},choiceItem:function(t){this.$logger.info(t),this.chooseVideoId=t.id,this.chooseItem=t},confirm:function(){this.$logger.info("confirm"),null!=this.chooseItem&&this.insertClasscipeFile(this.chooseItem)},cancel:function(){this.insertClasscipeFile()},showFileName:function(t){return t.length>30?t.substring(0,27)+"...":t}}},r=n,c=(i("9ad0"),i("0c7c")),l=Object(c["a"])(r,a,s,!1,null,"beb0e034",null);e["a"]=l.exports},ef87:function(t,e,i){"use strict";i("d3b7");var a=i("bc3a"),s=i.n(a),o=i("8ded"),n=i.n(o),r=i("56cd"),c=(i("a27e"),i("9fb0")),l=i("823b"),d=s.a.create({baseURL:"https://api.app.classcipe.com",timeout:6e3}),u=function(t){if(t.response){var e=t.response.data;403===t.response.status&&r["a"].error({message:"Forbidden",description:e.message})}return Promise.reject(t)};d.interceptors.request.use((function(t){var e=n.a.get(c["a"]);return e?t.data?t.data["token"]||(t.data["token"]=e):t.data={token:e}:l["info"](c["a"]+" no set"),t}),u),d.interceptors.response.use((function(t){return t&&t.data&&t.data.code&&"ok"!==t.data.code&&200!==t.data.code&&l["error"](t.data),t.data}),u);e["a"]=d},f524:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"d",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"b",(function(){return c}));var a=i("ef87"),s={addBatchElements:"/classroom/api/v2/classroom/elements/addBatch",queryElementById:"classroom/api/v2/classroom/elements/queryByPageId",updateElement:"slide/elements/update",addElement:"slide/elements/add"};function o(t){return Object(a["a"])({url:s.addBatchElements,method:"post",data:t})}function n(t){return Object(a["a"])({url:s.updateElement,method:"post",data:t})}function r(t){return Object(a["a"])({url:s.queryElementById,method:"post",data:t})}function c(t){return Object(a["a"])({url:s.addElement,method:"post",data:t})}},fdae:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-file"},[i("input",{ref:"uploadFile",staticClass:"upload-file",attrs:{type:"file",accept:t.accept},on:{change:t.onUpload}})])},s=[],o=i("d0d0"),n={name:"CommonUpload",data:function(){return{progress:0,uploader:null}},props:{onSuccess:{type:Function,default:function(){return null}},getProgressUpLoad:{type:Function,default:function(){return null}},accept:{type:String,default:".pdf, application/pdf,audio/*,video/*,image/*"},onlyGetFile:{type:Boolean,default:!1}},methods:{onUpload:function(t){var e=this,i=t.target.files[0];if(this.onlyGetFile)return this.onSuccess(i),void this.end();this.uploader=Object(o["a"])(this.$store.getters.userInfo.id,i,this.getProgressUpLoad,(function(t){e.onSuccess(i,t),setTimeout((function(){e.progress=0,e.getProgressUpLoad(0)}),50)}),!0)},cancel:function(){this.uploader&&this.uploader.cancel(),this.end()},end:function(){this.progress=0,this.$refs.uploadFile.value=""}}},r=n,c=(i("676b"),i("0c7c")),l=Object(c["a"])(r,a,s,!1,null,"0c25433a",null);e["a"]=l.exports}}]);