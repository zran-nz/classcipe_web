(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fb093ce"],{"0fac":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AutoSaveLocalMixin; });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("85b1");\n/* harmony import */ var _utils_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("ca00");\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("8ded");\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(store__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nvar AutoSaveLocalMixin = {\n  data: function data() {\n    return {\n      saving: false,\n      saveTime: null,\n      asyncSaveLocalDataFn: null,\n      asyncSaveDataFn: null,\n      autoSaveLocalKey: \'FORM_\',\n      needAutoSave: false,\n      needAutoSaveRemote: false\n    };\n  },\n  created: function created() {\n    this.asyncSaveLocalDataFn = Object(lodash_es__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"])(this.autoSaveLocalData, 200);\n    this.asyncSaveDataFn = Object(lodash_es__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"])(this.autoSaveData, 3000);\n  },\n  watch: {\n    formModel: {\n      deep: true,\n      handler: function handler(newVal, oldVal) {\n        if (this.needAutoSave) {\n          this.asyncSaveLocalDataFn(newVal);\n        }\n\n        if (this.needAutoSaveRemote && !this.loading) {\n          this.asyncSaveDataFn(newVal);\n        }\n      }\n    }\n  },\n  computed: {\n    lastChangeSavedTime: function lastChangeSavedTime() {\n      var time = this.saveTime || this.formModel && (this.formModel.updateTime || this.form.createTime);\n\n      if (time) {\n        return Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["formatLocalUTC"])(time);\n      } else {\n        return \'\';\n      }\n    }\n  },\n  methods: {\n    autoSaveLocalData: function autoSaveLocalData(newVal) {\n      var userId = this.$store.getters.userInfo.id;\n      var schoolId = this.$store.state.user.currentSchool.id;\n      store__WEBPACK_IMPORTED_MODULE_2___default.a.set(this.autoSaveLocalKey + userId + schoolId, JSON.stringify(newVal));\n      this.saveTime = new Date();\n    },\n    autoSaveData: function autoSaveData(newVal) {\n      var _this = this;\n\n      this.handleSave(function () {\n        _this.saveTime = new Date();\n      });\n    },\n    getAutoLocalData: function getAutoLocalData() {\n      var userId = this.$store.getters.userInfo.id;\n      var schoolId = this.$store.state.user.currentSchool.id;\n      var data = store__WEBPACK_IMPORTED_MODULE_2___default.a.get(this.autoSaveLocalKey + userId + schoolId);\n      return data ? JSON.parse(data) : {};\n    },\n    clearLocalData: function clearLocalData() {\n      var userId = this.$store.getters.userInfo.id;\n      var schoolId = this.$store.state.user.currentSchool.id;\n      store__WEBPACK_IMPORTED_MODULE_2___default.a.remove(this.autoSaveLocalKey + userId + schoolId);\n    }\n  }\n};\n\n//# sourceURL=webpack:///./src/mixins/AutoSaveLocalMixin.js?')},"178d":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/account/settings/AvatarModal.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},"1ed6":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolUser/SchoolStudentAdd.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},"21fb":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CurrentSchoolMixin; });\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("b0c0");\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__);\n\nvar CurrentSchoolMixin = {\n  data: function data() {\n    return {\n      unwatch: null,\n      routeName: this.$route.name\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.unwatch = this.$store.watch(function (state) {\n      return state.user.currentSchool;\n    }, function (currentSchool) {\n      return currentSchool && _this.$route.name === _this.routeName && _this.handleSchoolChange(currentSchool);\n    });\n  },\n  computed: {},\n  beforeDestroy: function beforeDestroy() {\n    this.unwatch && this.unwatch();\n  },\n  methods: {\n    // 默认方法，各个组件可自定义覆盖此方法\n    handleSchoolChange: function handleSchoolChange(currentSchool) {}\n  }\n};\n\n//# sourceURL=webpack:///./src/mixins/CurrentSchoolMixin.js?')},4992:function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__.p + "img/default-avatar.db1c5445.png";\n\n//# sourceURL=webpack:///./src/assets/icons/library/default-avatar.png?')},"4c77":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_AvatarModal_vue_vue_type_style_index_0_id_06163b63_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("178d");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_AvatarModal_vue_vue_type_style_index_0_id_06163b63_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_AvatarModal_vue_vue_type_style_index_0_id_06163b63_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/account/settings/AvatarModal.vue?')},"4d59":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export schoolPrincipleApiUrl */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SchoolPrincipleSave; });\n/* unused harmony export SchoolPrincipleList */\n/* unused harmony export SchoolPrincipleDelete */\n/* unused harmony export SchoolPrincipleGetBySchoolId */\n/* unused harmony export SchoolPrincipleQueryById */\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("b775");\n\nvar API_PREFIX = \'schoolPrinciple\';\nvar schoolPrincipleApiUrl = {\n  SchoolPrincipleList: "/classcipe/school/".concat(API_PREFIX, "/list"),\n  SchoolPrincipleDelete: "/classcipe/school/".concat(API_PREFIX, "/delete"),\n  SchoolPrincipleGetBySchoolId: "/classcipe/school/".concat(API_PREFIX, "/getBySchoolId"),\n  SchoolPrincipleQueryById: "/classcipe/school/".concat(API_PREFIX, "/queryById"),\n  SchoolPrincipleSave: "/classcipe/school/".concat(API_PREFIX, "/save")\n};\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction SchoolPrincipleSave(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolPrincipleApiUrl.SchoolPrincipleSave,\n    method: \'post\',\n    data: parameter,\n    params: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction SchoolPrincipleList(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolPrincipleApiUrl.SchoolPrincipleList,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction SchoolPrincipleDelete(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolPrincipleApiUrl.SchoolPrincipleDelete,\n    method: \'delete\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction SchoolPrincipleGetBySchoolId(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolPrincipleApiUrl.SchoolPrincipleGetBySchoolId,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction SchoolPrincipleQueryById(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolPrincipleApiUrl.SchoolPrincipleQueryById,\n    method: \'get\',\n    params: parameter\n  });\n}\n\n//# sourceURL=webpack:///./src/api/schoolPrinciple.js?')},5619:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_ReferSchool_vue_vue_type_style_index_0_id_25c6ab3a_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("d4d9");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_ReferSchool_vue_vue_type_style_index_0_id_25c6ab3a_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_ReferSchool_vue_vue_type_style_index_0_id_25c6ab3a_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/account/manage/persona/ReferSchool.vue?')},6862:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony default export */ __webpack_exports__[\"a\"] = ([{\n  'simple': 'AND',\n  'code': '020',\n  'en': 'Andorra',\n  'zh': '安道尔',\n  'phoneCountryCode': '+376'\n}, {\n  'simple': 'ARE',\n  'code': '784',\n  'en': 'United Arab Emirates',\n  'zh': '阿联酋',\n  'phoneCountryCode': '+971'\n}, {\n  'simple': 'AFG',\n  'code': '004',\n  'en': 'Afghanistan',\n  'zh': '阿富汗',\n  'phoneCountryCode': '+93'\n}, {\n  'simple': 'ATG',\n  'code': '028',\n  'en': 'Antigua & Barbuda',\n  'zh': '安提瓜和巴布达',\n  'phoneCountryCode': '+1268'\n}, {\n  'simple': 'AIA',\n  'code': '660',\n  'en': 'Anguilla',\n  'zh': '安圭拉',\n  'phoneCountryCode': '+1264'\n}, {\n  'simple': 'ALB',\n  'code': '008',\n  'en': 'Albania',\n  'zh': '阿尔巴尼亚',\n  'phoneCountryCode': '+355'\n}, {\n  'simple': 'ARM',\n  'code': '051',\n  'en': 'Armenia',\n  'zh': '亚美尼亚',\n  'phoneCountryCode': '+374'\n}, {\n  'simple': 'AGO',\n  'code': '024',\n  'en': 'Angola',\n  'zh': '安哥拉',\n  'phoneCountryCode': '+244'\n}, {\n  'simple': 'ATA',\n  'code': '010',\n  'en': 'Antarctica',\n  'zh': '南极洲',\n  'phoneCountryCode': ''\n}, {\n  'simple': 'ARG',\n  'code': '032',\n  'en': 'Argentina',\n  'zh': '阿根廷',\n  'phoneCountryCode': '+54'\n}, {\n  'simple': 'ASM',\n  'code': '016',\n  'en': 'American Samoa',\n  'zh': '美属萨摩亚',\n  'phoneCountryCode': '+684'\n}, {\n  'simple': 'AUT',\n  'code': '040',\n  'en': 'Austria',\n  'zh': '奥地利',\n  'phoneCountryCode': '+43'\n}, {\n  'simple': 'AUS',\n  'code': '036',\n  'en': 'Australia',\n  'zh': '澳大利亚',\n  'phoneCountryCode': '+61'\n}, {\n  'simple': 'ABW',\n  'code': '533',\n  'en': 'Aruba',\n  'zh': '阿鲁巴',\n  'phoneCountryCode': '+297'\n}, {\n  'simple': 'ALA',\n  'code': '248',\n  'en': 'Åaland Island',\n  'zh': '奥兰群岛',\n  'phoneCountryCode': '+500'\n}, {\n  'simple': 'AZE',\n  'code': '031',\n  'en': 'Azerbaijan',\n  'zh': '阿塞拜疆',\n  'phoneCountryCode': '+994'\n}, {\n  'simple': 'BIH',\n  'code': '070',\n  'en': 'Bosnia & Herzegovina',\n  'zh': '波斯尼亚和塞哥维那',\n  'phoneCountryCode': '+387'\n}, {\n  'simple': 'BRB',\n  'code': '052',\n  'en': 'Barbados',\n  'zh': '巴巴多斯',\n  'phoneCountryCode': '+1246'\n}, {\n  'simple': 'BGD',\n  'code': '050',\n  'en': 'Bangladesh',\n  'zh': '孟加拉',\n  'phoneCountryCode': '+880'\n}, {\n  'simple': 'BEL',\n  'code': '056',\n  'en': 'Belgium',\n  'zh': '比利时',\n  'phoneCountryCode': '+32'\n}, {\n  'simple': 'BFA',\n  'code': '854',\n  'en': 'Burkina',\n  'zh': '布基纳法索',\n  'phoneCountryCode': '+226'\n}, {\n  'simple': 'BGR',\n  'code': '100',\n  'en': 'Bulgaria',\n  'zh': '保加利亚',\n  'phoneCountryCode': '+359'\n}, {\n  'simple': 'BHR',\n  'code': '048',\n  'en': 'Bahrain',\n  'zh': '巴林',\n  'phoneCountryCode': '+973'\n}, {\n  'simple': 'BDI',\n  'code': '108',\n  'en': 'Burundi',\n  'zh': '布隆迪',\n  'phoneCountryCode': '+257'\n}, {\n  'simple': 'BEN',\n  'code': '204',\n  'en': 'Benin',\n  'zh': '贝宁',\n  'phoneCountryCode': '+229'\n}, {\n  'simple': 'BLM',\n  'code': '652',\n  'en': 'Saint Barthélemy',\n  'zh': '圣巴泰勒米岛',\n  'phoneCountryCode': '+290'\n}, {\n  'simple': 'BMU',\n  'code': '060',\n  'en': 'Bermuda',\n  'zh': '百慕大',\n  'phoneCountryCode': '+1441'\n}, {\n  'simple': 'BRN',\n  'code': '096',\n  'en': 'Brunei',\n  'zh': '文莱',\n  'phoneCountryCode': '+673'\n}, {\n  'simple': 'BOL',\n  'code': '068',\n  'en': 'Bolivia',\n  'zh': '玻利维亚',\n  'phoneCountryCode': '+591'\n}, {\n  'simple': 'BES',\n  'code': '535',\n  'en': 'Caribbean Netherlands',\n  'zh': '荷兰加勒比区',\n  'phoneCountryCode': '+31'\n}, {\n  'simple': 'BRA',\n  'code': '076',\n  'en': 'Brazil',\n  'zh': '巴西',\n  'phoneCountryCode': '+55'\n}, {\n  'simple': 'BHS',\n  'code': '044',\n  'en': 'The Bahamas',\n  'zh': '巴哈马',\n  'phoneCountryCode': '+1242'\n}, {\n  'simple': 'BTN',\n  'code': '064',\n  'en': 'Bhutan',\n  'zh': '不丹',\n  'phoneCountryCode': '+975'\n}, {\n  'simple': 'BVT',\n  'code': '074',\n  'en': 'Bouvet Island',\n  'zh': '布韦岛',\n  'phoneCountryCode': ''\n}, {\n  'simple': 'BWA',\n  'code': '072',\n  'en': 'Botswana',\n  'zh': '博茨瓦纳',\n  'phoneCountryCode': '+267'\n}, {\n  'simple': 'BLR',\n  'code': '112',\n  'en': 'Belarus',\n  'zh': '白俄罗斯',\n  'phoneCountryCode': '+375'\n}, {\n  'simple': 'BLZ',\n  'code': '084',\n  'en': 'Belize',\n  'zh': '伯利兹',\n  'phoneCountryCode': '+501'\n}, {\n  'simple': 'CAN',\n  'code': '124',\n  'en': 'Canada',\n  'zh': '加拿大',\n  'phoneCountryCode': '+1'\n}, {\n  'simple': 'CCK',\n  'code': '166',\n  'en': 'Cocos (Keeling) Islands',\n  'zh': '科科斯群岛',\n  'phoneCountryCode': '+619162'\n}, {\n  'simple': 'COD',\n  'code': '180',\n  'en': 'Democratic Republic of the Congo',\n  'zh': '刚果（金）',\n  'phoneCountryCode': '+243'\n}, {\n  'simple': 'CAF',\n  'code': '140',\n  'en': 'Central African Republic',\n  'zh': '中非',\n  'phoneCountryCode': '+236'\n}, {\n  'simple': 'COG',\n  'code': '178',\n  'en': 'Republic of the Congo',\n  'zh': '刚果（布）',\n  'phoneCountryCode': '+242'\n}, {\n  'simple': 'CHE',\n  'code': '756',\n  'en': 'Switzerland',\n  'zh': '瑞士',\n  'phoneCountryCode': '+41'\n}, {\n  'simple': 'CIV',\n  'code': '384',\n  'en': \"Côte d'Ivoire\",\n  'zh': '科特迪瓦',\n  'phoneCountryCode': '+225'\n}, {\n  'simple': 'COK',\n  'code': '184',\n  'en': 'Cook Islands',\n  'zh': '库克群岛',\n  'phoneCountryCode': '+682'\n}, {\n  'simple': 'CHL',\n  'code': '152',\n  'en': 'Chile',\n  'zh': '智利',\n  'phoneCountryCode': '+56'\n}, {\n  'simple': 'CMR',\n  'code': '120',\n  'en': 'Cameroon',\n  'zh': '喀麦隆',\n  'phoneCountryCode': '+237'\n}, {\n  'simple': 'CHN',\n  'code': '156',\n  'en': 'China',\n  'zh': '中国',\n  'phoneCountryCode': '+86'\n}, {\n  'simple': 'COL',\n  'code': '170',\n  'en': 'Colombia',\n  'zh': '哥伦比亚',\n  'phoneCountryCode': '+57'\n}, {\n  'simple': 'CRI',\n  'code': '188',\n  'en': 'Costa Rica',\n  'zh': '哥斯达黎加',\n  'phoneCountryCode': '+506'\n}, {\n  'simple': 'CUB',\n  'code': '192',\n  'en': 'Cuba',\n  'zh': '古巴',\n  'phoneCountryCode': '+53'\n}, {\n  'simple': 'CPV',\n  'code': '132',\n  'en': 'Cape Verde',\n  'zh': '佛得角',\n  'phoneCountryCode': '+238'\n}, {\n  'simple': 'CXR',\n  'code': '162',\n  'en': 'Christmas Island',\n  'zh': '圣诞岛',\n  'phoneCountryCode': '+619164'\n}, {\n  'simple': 'CYP',\n  'code': '196',\n  'en': 'Cyprus',\n  'zh': '塞浦路斯',\n  'phoneCountryCode': '+357'\n}, {\n  'simple': 'CZE',\n  'code': '203',\n  'en': 'Czech Republic',\n  'zh': '捷克',\n  'phoneCountryCode': '+420'\n}, {\n  'simple': 'DEU',\n  'code': '276',\n  'en': 'Germany',\n  'zh': '德国',\n  'phoneCountryCode': '+49'\n}, {\n  'simple': 'DJI',\n  'code': '262',\n  'en': 'Djibouti',\n  'zh': '吉布提',\n  'phoneCountryCode': '+253'\n}, {\n  'simple': 'DNK',\n  'code': '208',\n  'en': 'Denmark',\n  'zh': '丹麦',\n  'phoneCountryCode': '+45'\n}, {\n  'simple': 'DMA',\n  'code': '212',\n  'en': 'Dominica',\n  'zh': '多米尼克',\n  'phoneCountryCode': '+1-767'\n}, {\n  'simple': 'DOM',\n  'code': '214',\n  'en': 'Dominican Republic',\n  'zh': '多米尼加',\n  'phoneCountryCode': '+1-809/829/849'\n}, {\n  'simple': 'DZA',\n  'code': '012',\n  'en': 'Algeria',\n  'zh': '阿尔及利亚',\n  'phoneCountryCode': '+213'\n}, {\n  'simple': 'ECU',\n  'code': '218',\n  'en': 'Ecuador',\n  'zh': '厄瓜多尔',\n  'phoneCountryCode': '+593'\n}, {\n  'simple': 'EST',\n  'code': '233',\n  'en': 'Estonia',\n  'zh': '爱沙尼亚',\n  'phoneCountryCode': '+372'\n}, {\n  'simple': 'EGY',\n  'code': '818',\n  'en': 'Egypt',\n  'zh': '埃及',\n  'phoneCountryCode': '+20'\n}, {\n  'simple': 'ESH',\n  'code': '732',\n  'en': 'Western Sahara',\n  'zh': '西撒哈拉',\n  'phoneCountryCode': ''\n}, {\n  'simple': 'ERI',\n  'code': '232',\n  'en': 'Eritrea',\n  'zh': '厄立特里亚',\n  'phoneCountryCode': '+291'\n}, {\n  'simple': 'ESP',\n  'code': '724',\n  'en': 'Spain',\n  'zh': '西班牙',\n  'phoneCountryCode': '+34'\n}, {\n  'simple': 'ETH',\n  'code': '231',\n  'en': 'Ethiopia',\n  'zh': '埃塞俄比亚',\n  'phoneCountryCode': '+251'\n}, {\n  'simple': 'FIN',\n  'code': '246',\n  'en': 'Finland',\n  'zh': '芬兰',\n  'phoneCountryCode': '+358'\n}, {\n  'simple': 'FJI',\n  'code': '242',\n  'en': 'Fiji',\n  'zh': '斐济群岛',\n  'phoneCountryCode': '+679'\n}, {\n  'simple': 'FLK',\n  'code': '238',\n  'en': 'Falkland Islands',\n  'zh': '马尔维纳斯群岛（福克兰）',\n  'phoneCountryCode': '+500'\n}, {\n  'simple': 'FSM',\n  'code': '583',\n  'en': 'Federated States of Micronesia',\n  'zh': '密克罗尼西亚联邦',\n  'phoneCountryCode': '+691'\n}, {\n  'simple': 'FRO',\n  'code': '234',\n  'en': 'Faroe Islands',\n  'zh': '法罗群岛',\n  'phoneCountryCode': '+298'\n}, {\n  'simple': 'FRA',\n  'code': '250',\n  'en': 'France',\n  'zh': '法国',\n  'phoneCountryCode': '+33'\n}, {\n  'simple': 'GAB',\n  'code': '266',\n  'en': 'Gabon',\n  'zh': '加蓬',\n  'phoneCountryCode': '+241'\n}, {\n  'simple': 'GBR',\n  'code': '826',\n  'en': 'Great Britain (United Kingdom; England)',\n  'zh': '英国',\n  'phoneCountryCode': '+44'\n}, {\n  'simple': 'GRD',\n  'code': '308',\n  'en': 'Grenada',\n  'zh': '格林纳达',\n  'phoneCountryCode': '+1473'\n}, {\n  'simple': 'GEO',\n  'code': '268',\n  'en': 'Georgia',\n  'zh': '格鲁吉亚',\n  'phoneCountryCode': '+995'\n}, {\n  'simple': 'GUF',\n  'code': '254',\n  'en': 'French Guiana',\n  'zh': '法属圭亚那',\n  'phoneCountryCode': '+594'\n}, {\n  'simple': 'GGY',\n  'code': '831',\n  'en': 'Guernsey',\n  'zh': '根西岛',\n  'phoneCountryCode': '+44-1481'\n}, {\n  'simple': 'GHA',\n  'code': '288',\n  'en': 'Ghana',\n  'zh': '加纳',\n  'phoneCountryCode': '+233'\n}, {\n  'simple': 'GIB',\n  'code': '292',\n  'en': 'Gibraltar',\n  'zh': '直布罗陀',\n  'phoneCountryCode': '+350'\n}, {\n  'simple': 'GRL',\n  'code': '304',\n  'en': 'Greenland',\n  'zh': '格陵兰',\n  'phoneCountryCode': '+299'\n}, {\n  'simple': 'GMB',\n  'code': '270',\n  'en': 'Gambia',\n  'zh': '冈比亚',\n  'phoneCountryCode': '+220'\n}, {\n  'simple': 'GIN',\n  'code': '324',\n  'en': 'Guinea',\n  'zh': '几内亚',\n  'phoneCountryCode': '+224'\n}, {\n  'simple': 'GLP',\n  'code': '312',\n  'en': 'Guadeloupe',\n  'zh': '瓜德罗普',\n  'phoneCountryCode': '+590'\n}, {\n  'simple': 'GNQ',\n  'code': '226',\n  'en': 'Equatorial Guinea',\n  'zh': '赤道几内亚',\n  'phoneCountryCode': '+240'\n}, {\n  'simple': 'GRC',\n  'code': '300',\n  'en': 'Greece',\n  'zh': '希腊',\n  'phoneCountryCode': '+30'\n}, {\n  'simple': 'SGS',\n  'code': '239',\n  'en': 'South Georgia and the South Sandwich Islands',\n  'zh': '南乔治亚岛和南桑威奇群岛',\n  'phoneCountryCode': '+500-x'\n}, {\n  'simple': 'GTM',\n  'code': '320',\n  'en': 'Guatemala',\n  'zh': '危地马拉',\n  'phoneCountryCode': '+502'\n}, {\n  'simple': 'GUM',\n  'code': '316',\n  'en': 'Guam',\n  'zh': '关岛',\n  'phoneCountryCode': '+1671'\n}, {\n  'simple': 'GNB',\n  'code': '624',\n  'en': 'Guinea-Bissau',\n  'zh': '几内亚比绍',\n  'phoneCountryCode': '+245'\n}, {\n  'simple': 'GUY',\n  'code': '328',\n  'en': 'Guyana',\n  'zh': '圭亚那',\n  'phoneCountryCode': '+592'\n}, {\n  'simple': 'HKG',\n  'code': '344',\n  'en': 'Hong Kong',\n  'zh': '香港',\n  'phoneCountryCode': '+852'\n}, {\n  'simple': 'HMD',\n  'code': '334',\n  'en': 'Heard Island and McDonald Islands',\n  'zh': '赫德岛和麦克唐纳群岛',\n  'phoneCountryCode': ''\n}, {\n  'simple': 'HND',\n  'code': '340',\n  'en': 'Honduras',\n  'zh': '洪都拉斯',\n  'phoneCountryCode': '+504'\n}, {\n  'simple': 'HRV',\n  'code': '191',\n  'en': 'Croatia',\n  'zh': '克罗地亚',\n  'phoneCountryCode': '+385'\n}, {\n  'simple': 'HTI',\n  'code': '332',\n  'en': 'Haiti',\n  'zh': '海地',\n  'phoneCountryCode': '+509'\n}, {\n  'simple': 'HUN',\n  'code': '348',\n  'en': 'Hungary',\n  'zh': '匈牙利',\n  'phoneCountryCode': '+36'\n}, {\n  'simple': 'IDN',\n  'code': '360',\n  'en': 'Indonesia',\n  'zh': '印尼',\n  'phoneCountryCode': '+62'\n}, {\n  'simple': 'IRL',\n  'code': '372',\n  'en': 'Ireland',\n  'zh': '爱尔兰',\n  'phoneCountryCode': '+353'\n}, {\n  'simple': 'ISR',\n  'code': '376',\n  'en': 'Israel',\n  'zh': '以色列',\n  'phoneCountryCode': '+972'\n}, {\n  'simple': 'IMN',\n  'code': '833',\n  'en': 'Isle of Man',\n  'zh': '马恩岛',\n  'phoneCountryCode': '+44-1624'\n}, {\n  'simple': 'IND',\n  'code': '356',\n  'en': 'India',\n  'zh': '印度',\n  'phoneCountryCode': '+91'\n}, {\n  'simple': 'IOT',\n  'code': '086',\n  'en': 'British Indian Ocean Territory',\n  'zh': '英属印度洋领地',\n  'phoneCountryCode': '+246'\n}, {\n  'simple': 'IRQ',\n  'code': '368',\n  'en': 'Iraq',\n  'zh': '伊拉克',\n  'phoneCountryCode': '+964'\n}, {\n  'simple': 'IRN',\n  'code': '364',\n  'en': 'Iran',\n  'zh': '伊朗',\n  'phoneCountryCode': '+98'\n}, {\n  'simple': 'ISL',\n  'code': '352',\n  'en': 'Iceland',\n  'zh': '冰岛',\n  'phoneCountryCode': '+354'\n}, {\n  'simple': 'ITA',\n  'code': '380',\n  'en': 'Italy',\n  'zh': '意大利',\n  'phoneCountryCode': '+39'\n}, {\n  'simple': 'JEY',\n  'code': '832',\n  'en': 'Jersey',\n  'zh': '泽西岛',\n  'phoneCountryCode': '+44-1534'\n}, {\n  'simple': 'JAM',\n  'code': '388',\n  'en': 'Jamaica',\n  'zh': '牙买加',\n  'phoneCountryCode': '+1876'\n}, {\n  'simple': 'JOR',\n  'code': '400',\n  'en': 'Jordan',\n  'zh': '约旦',\n  'phoneCountryCode': '+962'\n}, {\n  'simple': 'JPN',\n  'code': '392',\n  'en': 'Japan',\n  'zh': '日本',\n  'phoneCountryCode': '+81'\n}, {\n  'simple': 'KEN',\n  'code': '404',\n  'en': 'Kenya',\n  'zh': '肯尼亚',\n  'phoneCountryCode': '+254'\n}, {\n  'simple': 'KGZ',\n  'code': '417',\n  'en': 'Kyrgyzstan',\n  'zh': '吉尔吉斯斯坦',\n  'phoneCountryCode': '+996'\n}, {\n  'simple': 'KHM',\n  'code': '116',\n  'en': 'Cambodia',\n  'zh': '柬埔寨',\n  'phoneCountryCode': '+855'\n}, {\n  'simple': 'KIR',\n  'code': '296',\n  'en': 'Kiribati',\n  'zh': '基里巴斯',\n  'phoneCountryCode': '+686'\n}, {\n  'simple': 'COM',\n  'code': '174',\n  'en': 'The Comoros',\n  'zh': '科摩罗',\n  'phoneCountryCode': '+269'\n}, {\n  'simple': 'KNA',\n  'code': '659',\n  'en': 'St. Kitts & Nevis',\n  'zh': '圣基茨和尼维斯',\n  'phoneCountryCode': '+1-869'\n}, {\n  'simple': 'PRK',\n  'code': '408',\n  'en': 'North Korea',\n  'zh': '朝鲜',\n  'phoneCountryCode': '+850'\n}, {\n  'simple': 'KOR',\n  'code': '410',\n  'en': 'South Korea',\n  'zh': '韩国',\n  'phoneCountryCode': '+82'\n}, {\n  'simple': 'KWT',\n  'code': '414',\n  'en': 'Kuwait',\n  'zh': '科威特',\n  'phoneCountryCode': '+965'\n}, {\n  'simple': 'CYM',\n  'code': '136',\n  'en': 'Cayman Islands',\n  'zh': '开曼群岛',\n  'phoneCountryCode': '+1345'\n}, {\n  'simple': 'KAZ',\n  'code': '398',\n  'en': 'Kazakhstan',\n  'zh': '哈萨克斯坦',\n  'phoneCountryCode': '+7-6xx/7xx'\n}, {\n  'simple': 'LAO',\n  'code': '418',\n  'en': 'Laos',\n  'zh': '老挝',\n  'phoneCountryCode': '+856'\n}, {\n  'simple': 'LBN',\n  'code': '422',\n  'en': 'Lebanon',\n  'zh': '黎巴嫩',\n  'phoneCountryCode': '+961'\n}, {\n  'simple': 'LCA',\n  'code': '662',\n  'en': 'St. Lucia',\n  'zh': '圣卢西亚',\n  'phoneCountryCode': '+1758'\n}, {\n  'simple': 'LIE',\n  'code': '438',\n  'en': 'Liechtenstein',\n  'zh': '列支敦士登',\n  'phoneCountryCode': '+423'\n}, {\n  'simple': 'LKA',\n  'code': '144',\n  'en': 'Sri Lanka',\n  'zh': '斯里兰卡',\n  'phoneCountryCode': '+94'\n}, {\n  'simple': 'LBR',\n  'code': '430',\n  'en': 'Liberia',\n  'zh': '利比里亚',\n  'phoneCountryCode': '+231'\n}, {\n  'simple': 'LSO',\n  'code': '426',\n  'en': 'Lesotho',\n  'zh': '莱索托',\n  'phoneCountryCode': '+266'\n}, {\n  'simple': 'LTU',\n  'code': '440',\n  'en': 'Lithuania',\n  'zh': '立陶宛',\n  'phoneCountryCode': '+370'\n}, {\n  'simple': 'LUX',\n  'code': '442',\n  'en': 'Luxembourg',\n  'zh': '卢森堡',\n  'phoneCountryCode': '+352'\n}, {\n  'simple': 'LVA',\n  'code': '428',\n  'en': 'Latvia',\n  'zh': '拉脱维亚',\n  'phoneCountryCode': '+371'\n}, {\n  'simple': 'LBY',\n  'code': '434',\n  'en': 'Libya',\n  'zh': '利比亚',\n  'phoneCountryCode': '+218'\n}, {\n  'simple': 'MAR',\n  'code': '504',\n  'en': 'Morocco',\n  'zh': '摩洛哥',\n  'phoneCountryCode': '+212'\n}, {\n  'simple': 'MCO',\n  'code': '492',\n  'en': 'Monaco',\n  'zh': '摩纳哥',\n  'phoneCountryCode': '+377'\n}, {\n  'simple': 'MDA',\n  'code': '498',\n  'en': 'Moldova',\n  'zh': '摩尔多瓦',\n  'phoneCountryCode': '+373'\n}, {\n  'simple': 'MNE',\n  'code': '499',\n  'en': 'Montenegro',\n  'zh': '黑山',\n  'phoneCountryCode': '+382'\n}, {\n  'simple': 'MAF',\n  'code': '663',\n  'en': 'Saint Martin (France)',\n  'zh': '法属圣马丁',\n  'phoneCountryCode': '+590'\n}, {\n  'simple': 'MDG',\n  'code': '450',\n  'en': 'Madagascar',\n  'zh': '马达加斯加',\n  'phoneCountryCode': '+261'\n}, {\n  'simple': 'MHL',\n  'code': '584',\n  'en': 'Marshall islands',\n  'zh': '马绍尔群岛',\n  'phoneCountryCode': '+692'\n}, {\n  'simple': 'MKD',\n  'code': '807',\n  'en': 'Republic of Macedonia (FYROM)',\n  'zh': '马其顿',\n  'phoneCountryCode': '+389'\n}, {\n  'simple': 'MLI',\n  'code': '466',\n  'en': 'Mali',\n  'zh': '马里',\n  'phoneCountryCode': '+223'\n}, {\n  'simple': 'MMR',\n  'code': '104',\n  'en': 'Myanmar (Burma)',\n  'zh': '缅甸',\n  'phoneCountryCode': '+95'\n}, {\n  'simple': 'MNG',\n  'code': '496',\n  'en': 'Mongolia',\n  'zh': '蒙古',\n  'phoneCountryCode': '+976'\n}, {\n  'simple': 'MAC',\n  'code': '446',\n  'en': 'Macao',\n  'zh': '澳门',\n  'phoneCountryCode': '+853'\n}, {\n  'simple': 'MNP',\n  'code': '580',\n  'en': 'Northern Mariana Islands',\n  'zh': '北马里亚纳群岛',\n  'phoneCountryCode': '+1-670'\n}, {\n  'simple': 'MTQ',\n  'code': '474',\n  'en': 'Martinique',\n  'zh': '马提尼克',\n  'phoneCountryCode': '+596'\n}, {\n  'simple': 'MRT',\n  'code': '478',\n  'en': 'Mauritania',\n  'zh': '毛里塔尼亚',\n  'phoneCountryCode': '+222'\n}, {\n  'simple': 'MSR',\n  'code': '500',\n  'en': 'Montserrat',\n  'zh': '蒙塞拉特岛',\n  'phoneCountryCode': '+1-664'\n}, {\n  'simple': 'MLT',\n  'code': '470',\n  'en': 'Malta',\n  'zh': '马耳他',\n  'phoneCountryCode': '+356'\n}, {\n  'simple': 'MUS',\n  'code': '480',\n  'en': 'Mauritius',\n  'zh': '毛里求斯',\n  'phoneCountryCode': '+230'\n}, {\n  'simple': 'MDV',\n  'code': '462',\n  'en': 'Maldives',\n  'zh': '马尔代夫',\n  'phoneCountryCode': '+960'\n}, {\n  'simple': 'MWI',\n  'code': '454',\n  'en': 'Malawi',\n  'zh': '马拉维',\n  'phoneCountryCode': '+265'\n}, {\n  'simple': 'MEX',\n  'code': '484',\n  'en': 'Mexico',\n  'zh': '墨西哥',\n  'phoneCountryCode': '+52'\n}, {\n  'simple': 'MYS',\n  'code': '458',\n  'en': 'Malaysia',\n  'zh': '马来西亚',\n  'phoneCountryCode': '+60'\n}, {\n  'simple': 'MOZ',\n  'code': '508',\n  'en': 'Mozambique',\n  'zh': '莫桑比克',\n  'phoneCountryCode': '+258'\n}, {\n  'simple': 'NAM',\n  'code': '516',\n  'en': 'Namibia',\n  'zh': '纳米比亚',\n  'phoneCountryCode': '+264'\n}, {\n  'simple': 'NCL',\n  'code': '540',\n  'en': 'New Caledonia',\n  'zh': '新喀里多尼亚',\n  'phoneCountryCode': '+687'\n}, {\n  'simple': 'NER',\n  'code': '562',\n  'en': 'Niger',\n  'zh': '尼日尔',\n  'phoneCountryCode': '+227'\n}, {\n  'simple': 'NFK',\n  'code': '574',\n  'en': 'Norfolk Island',\n  'zh': '诺福克岛',\n  'phoneCountryCode': '+672'\n}, {\n  'simple': 'NGA',\n  'code': '566',\n  'en': 'Nigeria',\n  'zh': '尼日利亚',\n  'phoneCountryCode': '+234'\n}, {\n  'simple': 'NIC',\n  'code': '558',\n  'en': 'Nicaragua',\n  'zh': '尼加拉瓜',\n  'phoneCountryCode': '+505'\n}, {\n  'simple': 'NLD',\n  'code': '528',\n  'en': 'Netherlands',\n  'zh': '荷兰',\n  'phoneCountryCode': '+31'\n}, {\n  'simple': 'NOR',\n  'code': '578',\n  'en': 'Norway',\n  'zh': '挪威',\n  'phoneCountryCode': '+47'\n}, {\n  'simple': 'NPL',\n  'code': '524',\n  'en': 'Nepal',\n  'zh': '尼泊尔',\n  'phoneCountryCode': '+977'\n}, {\n  'simple': 'NRU',\n  'code': '520',\n  'en': 'Nauru',\n  'zh': '瑙鲁',\n  'phoneCountryCode': '+674'\n}, {\n  'simple': 'NIU',\n  'code': '570',\n  'en': 'Niue',\n  'zh': '纽埃',\n  'phoneCountryCode': '+683'\n}, {\n  'simple': 'NZL',\n  'code': '554',\n  'en': 'New Zealand',\n  'zh': '新西兰',\n  'phoneCountryCode': '+64'\n}, {\n  'simple': 'OMN',\n  'code': '512',\n  'en': 'Oman',\n  'zh': '阿曼',\n  'phoneCountryCode': '+968'\n}, {\n  'simple': 'PAN',\n  'code': '591',\n  'en': 'Panama',\n  'zh': '巴拿马',\n  'phoneCountryCode': '+507'\n}, {\n  'simple': 'PER',\n  'code': '604',\n  'en': 'Peru',\n  'zh': '秘鲁',\n  'phoneCountryCode': '+51'\n}, {\n  'simple': 'PYF',\n  'code': '258',\n  'en': 'French polynesia',\n  'zh': '法属波利尼西亚',\n  'phoneCountryCode': '+689'\n}, {\n  'simple': 'PNG',\n  'code': '598',\n  'en': 'Papua New Guinea',\n  'zh': '巴布亚新几内亚',\n  'phoneCountryCode': '+675'\n}, {\n  'simple': 'PHL',\n  'code': '608',\n  'en': 'The Philippines',\n  'zh': '菲律宾',\n  'phoneCountryCode': '+63'\n}, {\n  'simple': 'PAK',\n  'code': '586',\n  'en': 'Pakistan',\n  'zh': '巴基斯坦',\n  'phoneCountryCode': '+92'\n}, {\n  'simple': 'POL',\n  'code': '616',\n  'en': 'Poland',\n  'zh': '波兰',\n  'phoneCountryCode': '+48'\n}, {\n  'simple': 'SPM',\n  'code': '666',\n  'en': 'Saint-Pierre and Miquelon',\n  'zh': '圣皮埃尔和密克隆',\n  'phoneCountryCode': '+508'\n}, {\n  'simple': 'PCN',\n  'code': '612',\n  'en': 'Pitcairn Islands',\n  'zh': '皮特凯恩群岛',\n  'phoneCountryCode': '+64-xx'\n}, {\n  'simple': 'PRI',\n  'code': '630',\n  'en': 'Puerto Rico',\n  'zh': '波多黎各',\n  'phoneCountryCode': '+1809'\n}, {\n  'simple': 'PSE',\n  'code': '275',\n  'en': 'Palestinian territories',\n  'zh': '巴勒斯坦',\n  'phoneCountryCode': '+970'\n}, {\n  'simple': 'PRT',\n  'code': '620',\n  'en': 'Portugal',\n  'zh': '葡萄牙',\n  'phoneCountryCode': '+351'\n}, {\n  'simple': 'PLW',\n  'code': '585',\n  'en': 'Palau',\n  'zh': '帕劳',\n  'phoneCountryCode': '+680'\n}, {\n  'simple': 'PRY',\n  'code': '600',\n  'en': 'Paraguay',\n  'zh': '巴拉圭',\n  'phoneCountryCode': '+595'\n}, {\n  'simple': 'QAT',\n  'code': '634',\n  'en': 'Qatar',\n  'zh': '卡塔尔',\n  'phoneCountryCode': '+974'\n}, {\n  'simple': 'REU',\n  'code': '638',\n  'en': 'Réunion',\n  'zh': '留尼汪',\n  'phoneCountryCode': '+262'\n}, {\n  'simple': 'ROU',\n  'code': '642',\n  'en': 'Romania',\n  'zh': '罗马尼亚',\n  'phoneCountryCode': '+40'\n}, {\n  'simple': 'SRB',\n  'code': '688',\n  'en': 'Serbia',\n  'zh': '塞尔维亚',\n  'phoneCountryCode': '+381'\n}, {\n  'simple': 'RUS',\n  'code': '643',\n  'en': 'Russian Federation',\n  'zh': '俄罗斯',\n  'phoneCountryCode': '+7'\n}, {\n  'simple': 'RWA',\n  'code': '646',\n  'en': 'Rwanda',\n  'zh': '卢旺达',\n  'phoneCountryCode': '+250'\n}, {\n  'simple': 'SAU',\n  'code': '682',\n  'en': 'Saudi Arabia',\n  'zh': '沙特阿拉伯',\n  'phoneCountryCode': '+966'\n}, {\n  'simple': 'SLB',\n  'code': '090',\n  'en': 'Solomon Islands',\n  'zh': '所罗门群岛',\n  'phoneCountryCode': '+677'\n}, {\n  'simple': 'SYC',\n  'code': '690',\n  'en': 'Seychelles',\n  'zh': '塞舌尔',\n  'phoneCountryCode': '+248'\n}, {\n  'simple': 'SDN',\n  'code': '729',\n  'en': 'Sudan',\n  'zh': '苏丹',\n  'phoneCountryCode': '+249'\n}, {\n  'simple': 'SWE',\n  'code': '752',\n  'en': 'Sweden',\n  'zh': '瑞典',\n  'phoneCountryCode': '+46'\n}, {\n  'simple': 'SGP',\n  'code': '702',\n  'en': 'Singapore',\n  'zh': '新加坡',\n  'phoneCountryCode': '+65'\n}, {\n  'simple': 'SHN',\n  'code': '654',\n  'en': 'St. Helena & Dependencies',\n  'zh': '圣赫勒拿',\n  'phoneCountryCode': '+290'\n}, {\n  'simple': 'SVN',\n  'code': '705',\n  'en': 'Slovenia',\n  'zh': '斯洛文尼亚',\n  'phoneCountryCode': '+386'\n}, {\n  'simple': 'SJM',\n  'code': '744',\n  'en': 'Template:Country data SJM Svalbard',\n  'zh': '斯瓦尔巴群岛和扬马延岛',\n  'phoneCountryCode': '+47-79'\n}, {\n  'simple': 'SVK',\n  'code': '703',\n  'en': 'Slovakia',\n  'zh': '斯洛伐克',\n  'phoneCountryCode': '+421'\n}, {\n  'simple': 'SLE',\n  'code': '694',\n  'en': 'Sierra Leone',\n  'zh': '塞拉利昂',\n  'phoneCountryCode': '+232'\n}, {\n  'simple': 'SMR',\n  'code': '674',\n  'en': 'San Marino',\n  'zh': '圣马力诺',\n  'phoneCountryCode': '+378'\n}, {\n  'simple': 'SEN',\n  'code': '686',\n  'en': 'Senegal',\n  'zh': '塞内加尔',\n  'phoneCountryCode': '+221'\n}, {\n  'simple': 'SOM',\n  'code': '706',\n  'en': 'Somalia',\n  'zh': '索马里',\n  'phoneCountryCode': '+252'\n}, {\n  'simple': 'SUR',\n  'code': '740',\n  'en': 'Suriname',\n  'zh': '苏里南',\n  'phoneCountryCode': '+597'\n}, {\n  'simple': 'SSD',\n  'code': '728',\n  'en': 'South Sudan',\n  'zh': '南苏丹',\n  'phoneCountryCode': '+211'\n}, {\n  'simple': 'STP',\n  'code': '678',\n  'en': 'Sao Tome & Principe',\n  'zh': '圣多美和普林西比',\n  'phoneCountryCode': '+239'\n}, {\n  'simple': 'SLV',\n  'code': '222',\n  'en': 'El Salvador',\n  'zh': '萨尔瓦多',\n  'phoneCountryCode': '+503'\n}, {\n  'simple': 'SYR',\n  'code': '760',\n  'en': 'Syria',\n  'zh': '叙利亚',\n  'phoneCountryCode': '+963'\n}, {\n  'simple': 'SWZ',\n  'code': '748',\n  'en': 'Swaziland',\n  'zh': '斯威士兰',\n  'phoneCountryCode': '+268'\n}, {\n  'simple': 'TCA',\n  'code': '796',\n  'en': 'Turks & Caicos Islands',\n  'zh': '特克斯和凯科斯群岛',\n  'phoneCountryCode': '+1649'\n}, {\n  'simple': 'TCD',\n  'code': '148',\n  'en': 'Chad',\n  'zh': '乍得',\n  'phoneCountryCode': '+235'\n}, {\n  'simple': 'ATF',\n  'code': '260',\n  'en': 'French Southern Territories',\n  'zh': '法属南部领地',\n  'phoneCountryCode': ''\n}, {\n  'simple': 'TGO',\n  'code': '768',\n  'en': 'Togo',\n  'zh': '多哥',\n  'phoneCountryCode': '+228'\n}, {\n  'simple': 'THA',\n  'code': '764',\n  'en': 'Thailand',\n  'zh': '泰国',\n  'phoneCountryCode': '+66'\n}, {\n  'simple': 'TJK',\n  'code': '762',\n  'en': 'Tajikistan',\n  'zh': '塔吉克斯坦',\n  'phoneCountryCode': '+992'\n}, {\n  'simple': 'TKL',\n  'code': '772',\n  'en': 'Tokelau',\n  'zh': '托克劳',\n  'phoneCountryCode': '+690'\n}, {\n  'simple': 'TLS',\n  'code': '626',\n  'en': 'Timor-Leste (East Timor)',\n  'zh': '东帝汶',\n  'phoneCountryCode': '+670'\n}, {\n  'simple': 'TKM',\n  'code': '795',\n  'en': 'Turkmenistan',\n  'zh': '土库曼斯坦',\n  'phoneCountryCode': '+993'\n}, {\n  'simple': 'TUN',\n  'code': '788',\n  'en': 'Tunisia',\n  'zh': '突尼斯',\n  'phoneCountryCode': '+216'\n}, {\n  'simple': 'TON',\n  'code': '776',\n  'en': 'Tonga',\n  'zh': '汤加',\n  'phoneCountryCode': '+676'\n}, {\n  'simple': 'TUR',\n  'code': '792',\n  'en': 'Turkey',\n  'zh': '土耳其',\n  'phoneCountryCode': '+90'\n}, {\n  'simple': 'TTO',\n  'code': '780',\n  'en': 'Trinidad & Tobago',\n  'zh': '特立尼达和多巴哥',\n  'phoneCountryCode': '+1868'\n}, {\n  'simple': 'TUV',\n  'code': '798',\n  'en': 'Tuvalu',\n  'zh': '图瓦卢',\n  'phoneCountryCode': '+688'\n}, {\n  'simple': 'TWN',\n  'code': '158',\n  'en': 'Taiwan',\n  'zh': '中国台湾',\n  'phoneCountryCode': '+886'\n}, {\n  'simple': 'TZA',\n  'code': '834',\n  'en': 'Tanzania',\n  'zh': '坦桑尼亚',\n  'phoneCountryCode': '+255'\n}, {\n  'simple': 'UKR',\n  'code': '804',\n  'en': 'Ukraine',\n  'zh': '乌克兰',\n  'phoneCountryCode': '+380'\n}, {\n  'simple': 'UGA',\n  'code': '800',\n  'en': 'Uganda',\n  'zh': '乌干达',\n  'phoneCountryCode': '+256'\n}, {\n  'simple': 'UMI',\n  'code': '581',\n  'en': 'United States Minor Outlying Islands',\n  'zh': '美国本土外小岛屿',\n  'phoneCountryCode': ''\n}, {\n  'simple': 'USA',\n  'code': '840',\n  'en': 'United States of America (USA)',\n  'zh': '美国',\n  'phoneCountryCode': '+1'\n}, {\n  'simple': 'URY',\n  'code': '858',\n  'en': 'Uruguay',\n  'zh': '乌拉圭',\n  'phoneCountryCode': '+598'\n}, {\n  'simple': 'UZB',\n  'code': '860',\n  'en': 'Uzbekistan',\n  'zh': '乌兹别克斯坦',\n  'phoneCountryCode': '+998'\n}, {\n  'simple': 'VAT',\n  'code': '336',\n  'en': 'Vatican City (The Holy See)',\n  'zh': '梵蒂冈',\n  'phoneCountryCode': '+3906698'\n}, {\n  'simple': 'VCT',\n  'code': '670',\n  'en': 'St. Vincent & the Grenadines',\n  'zh': '圣文森特和格林纳丁斯',\n  'phoneCountryCode': '+1-784'\n}, {\n  'simple': 'VEN',\n  'code': '862',\n  'en': 'Venezuela',\n  'zh': '委内瑞拉',\n  'phoneCountryCode': '+58'\n}, {\n  'simple': 'VGB',\n  'code': '092',\n  'en': 'British Virgin Islands',\n  'zh': '英属维尔京群岛',\n  'phoneCountryCode': '+1-284'\n}, {\n  'simple': 'VIR',\n  'code': '850',\n  'en': 'United States Virgin Islands',\n  'zh': '美属维尔京群岛',\n  'phoneCountryCode': '+1-340'\n}, {\n  'simple': 'VNM',\n  'code': '704',\n  'en': 'Vietnam',\n  'zh': '越南',\n  'phoneCountryCode': '+84'\n}, {\n  'simple': 'VUT',\n  'code': '548',\n  'en': 'Vanuatu',\n  'zh': '瓦努阿图',\n  'phoneCountryCode': '+678'\n}, {\n  'simple': 'WLF',\n  'code': '876',\n  'en': 'Wallis and Futuna',\n  'zh': '瓦利斯和富图纳',\n  'phoneCountryCode': '+1681'\n}, {\n  'simple': 'WSM',\n  'code': '882',\n  'en': 'Samoa',\n  'zh': '萨摩亚',\n  'phoneCountryCode': '+685'\n}, {\n  'simple': 'YEM',\n  'code': '887',\n  'en': 'Yemen',\n  'zh': '也门',\n  'phoneCountryCode': '+967'\n}, {\n  'simple': 'MYT',\n  'code': '175',\n  'en': 'Mayotte',\n  'zh': '马约特',\n  'phoneCountryCode': ''\n}, {\n  'simple': 'ZAF',\n  'code': '710',\n  'en': 'South Africa',\n  'zh': '南非',\n  'phoneCountryCode': '+27'\n}, {\n  'simple': 'ZMB',\n  'code': '894',\n  'en': 'Zambia',\n  'zh': '赞比亚',\n  'phoneCountryCode': '+260'\n}, {\n  'simple': 'ZWE',\n  'code': '716',\n  'en': 'Zimbabwe',\n  'zh': '津巴布韦',\n  'phoneCountryCode': '+263'\n}]);\n\n//# sourceURL=webpack:///./src/api/countryCode.js?")},"6d78":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SubmitBeforeMixin; });\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4de4");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("07ac");\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("b64b");\n/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("8ded");\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(store__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nvar SubmitBeforeMixin = {\n  data: function data() {\n    return {\n      validateFileds: {},\n      refName: \'form\'\n    };\n  },\n  computed: {\n    hasErrors: function hasErrors() {\n      return Object.values(this.validateFileds).filter(function (item) {\n        return !item;\n      }).length > 0;\n    }\n  },\n  methods: {\n    initValidate: function initValidate(isEdit) {\n      var _this = this;\n\n      if (!isEdit && this.validatorRules) {\n        this.$refs[this.refName].validateField(Object.keys(this.validatorRules), function (res) {\n          var userId = _this.$store.getters.userInfo.id;\n          var data = _this.autoSaveLocalKey ? store__WEBPACK_IMPORTED_MODULE_3___default.a.get(_this.autoSaveLocalKey + userId) : \'\';\n\n          if (!data) {\n            _this.$refs[_this.refName].clearValidate();\n          }\n        });\n      }\n    },\n    fillValidate: function fillValidate(key, value) {\n      this.$set(this.validateFileds, key, value);\n    }\n  }\n};\n\n//# sourceURL=webpack:///./src/mixins/SubmitBeforeMixin.js?')},"6e84":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return UserModeMixin; });\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"b0c0\");\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__);\n\nvar UserModeMixin = {\n  data: function data() {\n    return {\n      unwatch: null,\n      routeName: this.$route.name\n    };\n  },\n  computed: {\n    redirectUrl: function redirectUrl() {\n      return '/account/info?_=UserModeMixin:13'; // if (this.$store.state.user.currentRole === 'student') {\n      //   return '/student/main/my-task'\n      // } else {\n      // }\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.unwatch = this.$store.watch(function (state) {\n      return state.app.userMode;\n    }, function (userMode) {\n      if (userMode && _this.$route.name === _this.routeName) {\n        _this.handleModeChange(userMode);\n\n        _this.routeInMode();\n      }\n    });\n    this.routeInMode();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unwatch && this.unwatch();\n  },\n  methods: {\n    // 判断路由是否存在\n    routeInMode: function routeInMode() {\n      if (this.$route.meta.mode && this.$route.meta.mode !== this.$store.state.app.userMode) {\n        // 返回公共页面\n        this.$router.push({\n          path: this.redirectUrl\n        });\n      }\n    },\n    // 默认方法,可覆盖\n    handleModeChange: function handleModeChange(userMode) {}\n  }\n};\n\n//# sourceURL=webpack:///./src/mixins/UserModeMixin.js?")},"8d90":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"ac86b5fa-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/settings/AvatarModal.vue?vue&type=template&id=06163b63&scoped=true&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'a-modal\',{attrs:{"title":_vm.$t(\'account.settings.avatar.edit\'),"visible":_vm.visible,"maskClosable":false,"confirmLoading":_vm.confirmLoading,"width":800,"footer":null},on:{"cancel":_vm.cancelHandel}},[_c(\'a-row\',[_c(\'a-col\',{style:({height: \'350px\'}),attrs:{"xs":24,"md":12}},[_c(\'vue-cropper\',{ref:"cropper",attrs:{"img":_vm.options.img,"info":true,"autoCrop":_vm.options.autoCrop,"autoCropWidth":_vm.options.autoCropWidth,"autoCropHeight":_vm.options.autoCropHeight,"fixedBox":_vm.options.fixedBox},on:{"realTime":_vm.realTime}})],1),_c(\'a-col\',{style:({height: \'350px\'}),attrs:{"xs":24,"md":12}},[_c(\'div\',{staticClass:"avatar-upload-preview"},[_c(\'img\',{style:(_vm.previews.img),attrs:{"src":_vm.previews.url}})])])],1),_c(\'br\'),_c(\'a-row\',[_c(\'a-col\',{attrs:{"lg":2,"md":2}},[_c(\'a-upload\',{attrs:{"name":"file","beforeUpload":_vm.beforeUpload,"showUploadList":false}},[_c(\'a-button\',{attrs:{"icon":"upload"}},[_vm._v(_vm._s(_vm.$t(\'account.settings.avatar.select-image\')))])],1)],1),_c(\'a-col\',{attrs:{"lg":{span: 1, offset: 2},"md":2}},[_c(\'a-button\',{attrs:{"icon":"plus"},on:{"click":function($event){return _vm.changeScale(1)}}})],1),_c(\'a-col\',{attrs:{"lg":{span: 1, offset: 1},"md":2}},[_c(\'a-button\',{attrs:{"icon":"minus"},on:{"click":function($event){return _vm.changeScale(-1)}}})],1),_c(\'a-col\',{attrs:{"lg":{span: 1, offset: 1},"md":2}},[_c(\'a-button\',{attrs:{"icon":"undo"},on:{"click":_vm.rotateLeft}})],1),_c(\'a-col\',{attrs:{"lg":{span: 1, offset: 1},"md":2}},[_c(\'a-button\',{attrs:{"icon":"redo"},on:{"click":_vm.rotateRight}})],1),_c(\'a-col\',{attrs:{"lg":{span: 4, offset: 6},"md":4}},[_c(\'a-space\',[_c(\'a-button\',{on:{"click":_vm.close}},[_vm._v(" Cancel ")]),_c(\'a-button\',{attrs:{"type":"primary","disabled":_vm.confirmLoading,"loading":_vm.confirmLoading},on:{"click":_vm.uploadImage}},[_vm._v("Save")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/settings/AvatarModal.vue?vue&type=template&id=06163b63&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__("ac1f");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.split.js\nvar es_string_split = __webpack_require__("1276");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.match.js\nvar es_string_match = __webpack_require__("466d");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array-buffer.slice.js\nvar es_array_buffer_slice = __webpack_require__("ace4");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__("d3b7");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.uint8-array.js\nvar es_typed_array_uint8_array = __webpack_require__("5cc6");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.copy-within.js\nvar es_typed_array_copy_within = __webpack_require__("9a8c");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.every.js\nvar es_typed_array_every = __webpack_require__("a975");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.fill.js\nvar es_typed_array_fill = __webpack_require__("735e");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.filter.js\nvar es_typed_array_filter = __webpack_require__("c1ac");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find.js\nvar es_typed_array_find = __webpack_require__("d139");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find-index.js\nvar es_typed_array_find_index = __webpack_require__("3a7b");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.for-each.js\nvar es_typed_array_for_each = __webpack_require__("d5d6");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.includes.js\nvar es_typed_array_includes = __webpack_require__("82f8");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.index-of.js\nvar es_typed_array_index_of = __webpack_require__("e91f");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.iterator.js\nvar es_typed_array_iterator = __webpack_require__("60bd");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.join.js\nvar es_typed_array_join = __webpack_require__("5f96");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.last-index-of.js\nvar es_typed_array_last_index_of = __webpack_require__("3280");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.map.js\nvar es_typed_array_map = __webpack_require__("3fcc");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reduce.js\nvar es_typed_array_reduce = __webpack_require__("ca91");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reduce-right.js\nvar es_typed_array_reduce_right = __webpack_require__("25a1");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reverse.js\nvar es_typed_array_reverse = __webpack_require__("cd26");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.set.js\nvar es_typed_array_set = __webpack_require__("3c5d");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.slice.js\nvar es_typed_array_slice = __webpack_require__("2954");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.some.js\nvar es_typed_array_some = __webpack_require__("649e");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.sort.js\nvar es_typed_array_sort = __webpack_require__("219c");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.subarray.js\nvar es_typed_array_subarray = __webpack_require__("170b");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-locale-string.js\nvar es_typed_array_to_locale_string = __webpack_require__("b39a");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-string.js\nvar es_typed_array_to_string = __webpack_require__("72f7");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__("99af");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.slice.js\nvar es_array_slice = __webpack_require__("fb6a");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.to-string.js\nvar es_regexp_to_string = __webpack_require__("25f0");\n\n// EXTERNAL MODULE: ./src/components/AddMaterial/Utils/AwsS3.js\nvar AwsS3 = __webpack_require__("d0d0");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/settings/AvatarModal.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var AvatarModalvue_type_script_lang_js_ = ({\n  data: function data() {\n    return {\n      visible: false,\n      id: null,\n      confirmLoading: false,\n      fileList: [],\n      uploading: false,\n      options: {\n        img: \'\',\n        autoCrop: true,\n        autoCropWidth: 200,\n        autoCropHeight: 200,\n        fixedBox: true\n      },\n      previews: {}\n    };\n  },\n  methods: {\n    edit: function edit(id) {\n      this.visible = true;\n      this.id = id;\n      /* 获取原始头像 */\n    },\n    close: function close() {\n      this.id = null;\n      this.visible = false;\n    },\n    cancelHandel: function cancelHandel() {\n      this.close();\n    },\n    changeScale: function changeScale(num) {\n      num = num || 1;\n      this.$refs.cropper.changeScale(num);\n    },\n    rotateLeft: function rotateLeft() {\n      this.$refs.cropper.rotateLeft();\n    },\n    rotateRight: function rotateRight() {\n      this.$refs.cropper.rotateRight();\n    },\n    beforeUpload: function beforeUpload(file) {\n      var _this = this;\n\n      var reader = new FileReader(); // 把Array Buffer转化为blob 如果是base64不需要\n      // 转化为base64\n\n      reader.readAsDataURL(file);\n\n      reader.onload = function () {\n        _this.options.img = reader.result;\n      }; // 转化为blob\n      // reader.readAsArrayBuffer(file)\n\n\n      return false;\n    },\n    // 上传图片（点击上传按钮）\n    uploadImage: function uploadImage() {\n      var _this2 = this;\n\n      this.$refs.cropper.getCropData(function (data) {\n        var arr = data.split(\',\');\n        var mime = arr[0].match(/:(.*?);/)[1];\n        var bstr = atob(arr[1]);\n        var n = bstr.length;\n        var u8arr = new Uint8Array(n);\n\n        while (n--) {\n          u8arr[n] = bstr.charCodeAt(n);\n        }\n\n        _this2.model = true;\n        _this2.modelSrc = data;\n        var suffix = mime.split(\'/\')[1];\n        var file = new File([u8arr], "custom_image_".concat(Date.now(), "_").concat(Math.random().toString(36).slice(2), ".").concat(suffix), {\n          type: mime\n        });\n\n        _this2.$logger.info(\'upload file\', file);\n\n        _this2.confirmLoading = true;\n        Object(AwsS3["a" /* upAwsS3File */])(_this2.$store.getters.userInfo.id, file, _this2.getProgressUpLoad, function (result) {\n          _this2.onSuccess(file, result);\n        }, true);\n      });\n    },\n    getProgressUpLoad: function getProgressUpLoad(progress) {\n      this.$logger.info(\'getProgressUpLoad\', progress);\n      this.confirmLoading = true;\n    },\n    onSuccess: function onSuccess(file, result) {\n      this.$logger.info(\'upload success\', file, result);\n      this.$emit(\'ok\', result);\n      this.confirmLoading = false;\n      this.okHandel();\n    },\n    okHandel: function okHandel() {\n      var vm = this;\n      vm.confirmLoading = true;\n      setTimeout(function () {\n        vm.confirmLoading = false;\n        vm.close();\n        vm.$message.success(\'update avatar successfully!\');\n      }, 2000);\n    },\n    realTime: function realTime(data) {\n      this.previews = data;\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/settings/AvatarModal.vue?vue&type=script&lang=js&\n /* harmony default export */ var settings_AvatarModalvue_type_script_lang_js_ = (AvatarModalvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/account/settings/AvatarModal.vue?vue&type=style&index=0&id=06163b63&lang=less&scoped=true&\nvar AvatarModalvue_type_style_index_0_id_06163b63_lang_less_scoped_true_ = __webpack_require__("4c77");\n\n// EXTERNAL MODULE: ./node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("0c7c");\n\n// CONCATENATED MODULE: ./src/views/account/settings/AvatarModal.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["a" /* default */])(\n  settings_AvatarModalvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  "06163b63",\n  null\n  \n)\n\n/* harmony default export */ var AvatarModal = __webpack_exports__["a"] = (component.exports);\n\n//# sourceURL=webpack:///./src/views/account/settings/AvatarModal.vue_+_4_modules?')},"962c":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_PersonaInfo_vue_vue_type_style_index_0_id_07688f56_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("d6f0");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_PersonaInfo_vue_vue_type_style_index_0_id_07688f56_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_PersonaInfo_vue_vue_type_style_index_0_id_07688f56_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/account/manage/PersonaInfo.vue?')},b116:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"ac86b5fa-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolUser/SchoolStudentAdd.vue?vue&type=template&id=cd01e55c&scoped=true&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',[(_vm.studentId)?_c(\'div\',{staticClass:"account-info-self"},[_c(\'div\',{staticClass:"info-self-avatar"},[(_vm.formModel.avatar)?_c(\'img\',{attrs:{"src":_vm.formModel.avatar}}):_c(\'img\',{attrs:{"src":__webpack_require__("4992")}}),_c(\'a-button\',{attrs:{"type":"primary","size":"small"},on:{"click":function($event){return _vm.$refs.avatarModal.edit(1)}}},[_vm._v("Upload")])],1),_c(\'div\',{staticClass:"info-self-detail"},[_c(\'div\',{staticClass:"self-detail-name"},[_vm._v(" ID: "+_vm._s(_vm.origin.workNo || _vm.studentId)+" ")]),_c(\'div\',{staticClass:"self-detail-email"},[_vm._v(_vm._s(_vm.formModel.inviteEmail))])])]):_vm._e(),_c(\'a-form-model\',_vm._b({ref:"form",attrs:{"layout":"horizontal","model":_vm.formModel,"rules":_vm.validatorRules},on:{"validate":_vm.doValidate}},\'a-form-model\',_vm.formItemLayout,false),[(_vm.studentId)?_c(\'a-form-model-item\',{attrs:{"label":"Last Login","wrapperCol":{ span: 18 }}},[_c(\'a-row\',{attrs:{"gutter":0}},[_c(\'a-col\',{attrs:{"span":16}},[(_vm.origin.lastLogin)?_c(\'label\',{attrs:{"for":""}},[_vm._v(_vm._s(_vm._f("dayjs")(_vm.origin.lastLogin)))]):_c(\'label\',{attrs:{"for":""}},[_vm._v("-")])]),_c(\'a-col\',{staticStyle:{"text-align":"center"},attrs:{"span":2}}),(!_vm.origin.inviteEmail && !_vm.origin.parentEmailStatus)?_c(\'a-col\',{staticStyle:{"text-align":"center"},attrs:{"span":6}},[_c(\'a-button\',{attrs:{"type":"black","loading":_vm.confirmLoading},on:{"click":_vm.handleReset}},[_vm._v("Reset Password")])],1):_vm._e()],1)],1):_vm._e(),_c(\'a-form-model-item\',{staticClass:"mb0",attrs:{"label":"Name","required":true}},[_c(\'a-row\',{attrs:{"gutter":16}},[_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"prop":"firstName","hasFeedback":true}},[_c(\'a-input\',{attrs:{"placeholder":"First name"},on:{"change":_vm.doValidParentEmail},model:{value:(_vm.formModel.firstName),callback:function ($$v) {_vm.$set(_vm.formModel, "firstName", $$v)},expression:"formModel.firstName"}})],1)],1),_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"prop":"lastName","hasFeedback":true}},[_c(\'a-input\',{attrs:{"placeholder":"Last name"},on:{"change":_vm.doValidParentEmail},model:{value:(_vm.formModel.lastName),callback:function ($$v) {_vm.$set(_vm.formModel, "lastName", $$v)},expression:"formModel.lastName"}})],1)],1)],1)],1),_c(\'a-form-model-item\',{staticClass:"mb0",attrs:{"label":"Email","prop":"inviteEmail","required":false,"wrapperCol":{ span: 18 }}},[_c(\'a-row\',{attrs:{"gutter":0}},[_c(\'a-col\',{attrs:{"span":16}},[_c(\'a-form-model-item\',[_c(\'a-input\',{attrs:{"placeholder":"Email","disabled":_vm.studentId && !!_vm.formModel.inviteEmail && _vm.origin.status === 1},model:{value:(_vm.formModel.inviteEmail),callback:function ($$v) {_vm.$set(_vm.formModel, "inviteEmail", $$v)},expression:"formModel.inviteEmail"}})],1)],1),(!!_vm.formModel.inviteEmail && _vm.origin.status === 1)?_c(\'a-col\',{staticStyle:{"text-align":"center"},attrs:{"span":2}},[_c(\'a-tooltip\',{attrs:{"title":"Student Active"}},[_c(\'a-icon\',{staticStyle:{"color":"#007990"},attrs:{"type":"check"}})],1)],1):_vm._e(),(!!_vm.formModel.inviteEmail && _vm.origin.status === 0)?_c(\'a-col\',{staticStyle:{"text-align":"center"},attrs:{"span":6}},[_c(\'a-tooltip\',{attrs:{"title":"Student InActive"}},[_c(\'a-icon\',{staticStyle:{"color":"#8D9496"},attrs:{"type":"check"}})],1)],1):_vm._e()],1)],1),_c(\'a-form-model-item\',{attrs:{"label":"DOB"}},[_c(\'a-date-picker\',{attrs:{"disabled-date":_vm.disabledDate},model:{value:(_vm.formModel.birthDay),callback:function ($$v) {_vm.$set(_vm.formModel, "birthDay", $$v)},expression:"formModel.birthDay"}})],1),_c(\'a-form-model-item\',{staticClass:"mb0",attrs:{"label":"Class","required":true}},[_c(\'a-row\',{attrs:{"gutter":16}},[_c(\'a-col\',{attrs:{"span":18}},[_c(\'a-form-model-item\',{staticClass:"select",attrs:{"prop":"classes"}},[(!_vm.classUnModify)?[_c(\'a-select\',{attrs:{"showSearch":"","optionFilterProp":"children","getPopupContainer":function (trigger) { return trigger.parentElement; },"option-label-prop":"label","placeholder":"Please select class"},model:{value:(_vm.formModel.classes),callback:function ($$v) {_vm.$set(_vm.formModel, "classes", $$v)},expression:"formModel.classes"}},_vm._l((_vm.classNameList),function(className,id){return _c(\'a-select-option\',{key:id,attrs:{"label":className}},[_vm._v(" "+_vm._s(className)+" ")])}),1)]:_c(\'a-space\',[(_vm.classArrDetail.length > 0)?_c(\'a-space\',{staticClass:"flex-wrap"},[_vm._l((_vm.classArrDetail),function(cls){return [_c(\'a-tag\',{key:cls.id,attrs:{"color":cls.classType === 0 ? \'#2db7f5\' : \'#f50\'}},[_vm._v(" "+_vm._s(cls.classType === 1 ? _vm.formatViewName(cls.subject) + \'-\' + cls.name : cls.name)+" ")])]})],2):_c(\'label\',{attrs:{"for":""}},[_vm._v(" - ")])],1)],2)],1),(_vm.showClassLink)?_c(\'a-col\',{attrs:{"span":6}},[_c(\'a-button\',{attrs:{"type":"link"},on:{"click":_vm.handelGoClass}},[_vm._v("Class Manage")])],1):_vm._e()],1)],1),_c(\'div\',{staticClass:"sub-title"},[_c(\'label\',{attrs:{"for":""}},[_vm._v("Parent guardian")])]),_c(\'a-form-model-item\',{staticClass:"mb0",attrs:{"label":"Name"}},[_c(\'a-row\',{attrs:{"gutter":16}},[_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"prop":"parentFirstName"}},[_c(\'a-input\',{attrs:{"placeholder":"First name"},model:{value:(_vm.formModel.parentFirstName),callback:function ($$v) {_vm.$set(_vm.formModel, "parentFirstName", $$v)},expression:"formModel.parentFirstName"}})],1)],1),_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"prop":"parentLastName"}},[_c(\'a-input\',{attrs:{"placeholder":"Last name"},model:{value:(_vm.formModel.parentLastName),callback:function ($$v) {_vm.$set(_vm.formModel, "parentLastName", $$v)},expression:"formModel.parentLastName"}})],1)],1)],1)],1),_c(\'a-form-model-item\',{staticClass:"mb0",attrs:{"label":"Email","required":true,"wrapperCol":{ span: 18 }}},[_c(\'a-row\',{attrs:{"gutter":0}},[_c(\'a-col\',{attrs:{"span":16}},[_c(\'a-form-model-item\',{attrs:{"prop":"parentEmail","hasFeedback":true}},[_c(\'a-input\',{attrs:{"placeholder":"Email"},model:{value:(_vm.formModel.parentEmail),callback:function ($$v) {_vm.$set(_vm.formModel, "parentEmail", $$v)},expression:"formModel.parentEmail"}})],1)],1),(_vm.origin.parentEmailStatus === 1)?_c(\'a-col\',{staticStyle:{"text-align":"center"},attrs:{"span":2}},[_c(\'a-icon\',{staticStyle:{"color":"#007990"},attrs:{"type":"check"}})],1):_vm._e(),(_vm.origin.parentEmailStatus === 0)?_c(\'a-col\',{staticStyle:{"text-align":"center"},attrs:{"span":6}},[_c(\'a-button\',{attrs:{"type":"black","loading":_vm.loading},on:{"click":_vm.resendParent}},[_vm._v("Resend")])],1):_vm._e()],1)],1),_c(\'a-form-model-item\',{attrs:{"label":"Phone"}},[_c(\'a-input\',{attrs:{"placeholder":"Phone"},model:{value:(_vm.formModel.parentPhone),callback:function ($$v) {_vm.$set(_vm.formModel, "parentPhone", $$v)},expression:"formModel.parentPhone"}})],1),(!_vm.studentId)?_c(\'a-form-model-item\',{attrs:{"wrapperCol":{offset: 6}}},[_c(\'a-button\',{attrs:{"disabled":_vm.hasErrors,"loading":_vm.loading,"type":"primary"},on:{"click":function (e) { return _vm.handleSave(); }}},[_vm._v(_vm._s(_vm.studentId ? \'Update\': \'Create\'))])],1):_vm._e()],1),_c(\'a-modal\',{attrs:{"destroyOnClose":"","title":"Reset Password","width":"600px","footer":null},model:{value:(_vm.passwordVis),callback:function ($$v) {_vm.passwordVis=$$v},expression:"passwordVis"}},[_c(\'a-space\',{staticStyle:{"justify-content":"center","width":"100%"}},[_c(\'label\',{staticStyle:{"font-size":"20px","color":"#15c39a","font-weight":"bold"},attrs:{"for":""}},[_vm._v(_vm._s(_vm.randomPass))]),_c(\'a-icon\',{staticStyle:{"cursor":"pointer"},attrs:{"type":"copy"},on:{"click":_vm.onCopy}})],1)],1),_c(\'avatar-modal\',{ref:"avatarModal",on:{"ok":_vm.setAvatar}})],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolUser/SchoolStudentAdd.vue?vue&type=template&id=cd01e55c&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("3835");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("1da1");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("5530");\n\n// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js\nvar runtime = __webpack_require__("96cf");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__("159b");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__("4de4");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__("99af");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js\nvar es_array_map = __webpack_require__("d81d");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.includes.js\nvar es_array_includes = __webpack_require__("caad");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.includes.js\nvar es_string_includes = __webpack_require__("2532");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__("d3b7");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.iterator.js\nvar es_string_iterator = __webpack_require__("3ca3");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__("ddb0");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__("b0c0");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.join.js\nvar es_array_join = __webpack_require__("a15b");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__("ac1f");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.split.js\nvar es_string_split = __webpack_require__("1276");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.find.js\nvar es_array_find = __webpack_require__("7db0");\n\n// EXTERNAL MODULE: ./src/api/v2/schoolClass.js\nvar schoolClass = __webpack_require__("ad59");\n\n// EXTERNAL MODULE: ./src/api/v2/schoolUser.js\nvar schoolUser = __webpack_require__("ec09");\n\n// EXTERNAL MODULE: ./src/api/academicSettingSubject.js\nvar academicSettingSubject = __webpack_require__("9bfe");\n\n// EXTERNAL MODULE: ./src/api/academicSettingCurriculum.js\nvar academicSettingCurriculum = __webpack_require__("8ee6");\n\n// EXTERNAL MODULE: ./src/views/account/manage/persona/ResetPassword.vue + 4 modules\nvar ResetPassword = __webpack_require__("f371");\n\n// EXTERNAL MODULE: ./src/views/account/settings/AvatarModal.vue + 4 modules\nvar AvatarModal = __webpack_require__("8d90");\n\n// EXTERNAL MODULE: ./src/mixins/SubmitBeforeMixin.js\nvar SubmitBeforeMixin = __webpack_require__("6d78");\n\n// EXTERNAL MODULE: ./src/mixins/AutoSaveLocalMixin.js\nvar AutoSaveLocalMixin = __webpack_require__("0fac");\n\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__("c1df");\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// EXTERNAL MODULE: ./src/utils/util.js\nvar util = __webpack_require__("ca00");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolUser/SchoolStudentAdd.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\n\n\nvar _require = __webpack_require__("4fcf"),\n    sortBy = _require.sortBy;\n\n/* harmony default export */ var SchoolStudentAddvue_type_script_lang_js_ = ({\n  name: \'SchoolStudentAdd\',\n  components: {\n    ResetPassword: ResetPassword["a" /* default */],\n    AvatarModal: AvatarModal["a" /* default */]\n  },\n  mixins: [SubmitBeforeMixin["a" /* SubmitBeforeMixin */], AutoSaveLocalMixin["a" /* AutoSaveLocalMixin */]],\n  props: {\n    school: {\n      type: Object,\n      default: function _default() {}\n    },\n    id: {\n      type: String,\n      default: null\n    },\n    showClassLink: {\n      type: Boolean,\n      default: false\n    }\n  },\n  watch: {\n    school: {\n      handler: function handler(val) {\n        this.currentSchool = Object(objectSpread2["a" /* default */])({}, val);\n        this.initData();\n      },\n      deep: true,\n      immediate: true\n    },\n    id: {\n      handler: function handler(val) {\n        this.studentId = val;\n        this.initForm();\n      },\n      immediate: true\n    }\n  },\n  data: function data() {\n    var _this$school;\n\n    return {\n      currentSchool: this.school,\n      studentId: this.id,\n      classList: [],\n      classNameList: {},\n      formModel: {\n        firstName: \'\',\n        lastName: \'\',\n        birthDay: \'\',\n        classes: \'\',\n        classArr: [],\n        subjectCls: [],\n        inviteEmail: \'\',\n        parentEmail: \'\',\n        parentEmailStatus: 0,\n        parentFirstName: \'\',\n        parentLastName: \'\',\n        parentPhone: \'\',\n        avatar: \'\',\n        schoolId: ((_this$school = this.school) === null || _this$school === void 0 ? void 0 : _this$school.id) || \'\'\n      },\n      formItemLayout: {\n        labelCol: {\n          span: 6\n        },\n        wrapperCol: {\n          span: 12\n        }\n      },\n      loading: false,\n      passwordVis: false,\n      origin: {},\n      confirmLoading: false,\n      cacheKey: \'SUBMIT_VALIDATE_SCHOOL_STUDENT_\',\n      autoSaveLocalKey: \'FORM_SCHOOL_STUDENT_\',\n      needAutoSave: !this.id,\n      needAutoSaveRemote: this.id,\n      randomPass: \'\',\n      classUnModify: false,\n      subjectOptions: [],\n      curriculumOptions: [],\n      gradeOptions: []\n    };\n  },\n  computed: {\n    validatorRules: function validatorRules() {\n      return {\n        firstName: [{\n          required: true,\n          message: \'Please Input First Name!\'\n        }],\n        lastName: [{\n          required: true,\n          message: \'Please Input Last Name!\'\n        }],\n        inviteEmail: [// { required: true, message: \'Please Input Email!\', trigger: \'change\' },\n        // { type: \'email\', message: \'Please Input Valid Email!\', trigger: \'blur\' },\n        {\n          validator: this.validateRemoteEmail,\n          trigger: \'blur\'\n        }],\n        // parentFirstName: [{ required: true, message: \'Please Input First Name!\' }],\n        // parentLastName: [{ required: true, message: \'Please Input Last Name!\' }],\n        parentEmail: [{\n          required: true,\n          message: \'Please Input Email!\',\n          trigger: \'change\'\n        }, {\n          type: \'email\',\n          message: \'Please Input Valid Email!\',\n          trigger: \'blur\'\n        } // { validator: this.validateRemoteParentEmail, trigger: \'blur\' }\n        ],\n        classes: [{\n          required: true,\n          message: \'Please Select a class!\',\n          trigger: \'change\'\n        }] // parentPhone: [\n        //   { required: true, message: \'Please Input Phone!\' }\n        // ]\n\n      };\n    },\n    filterClassList: function filterClassList() {\n      var _this = this;\n\n      // return this.classList.filter(cc => !this.formModel.classArr.includes(cc.id))\n      if (this.gradeOptions && this.gradeOptions.length > 0) {\n        var cls = [];\n        this.gradeOptions.forEach(function (grade) {\n          var currentCls = _this.classList.filter(function (cls) {\n            return cls.gradeId === grade.gradeId;\n          });\n\n          cls = cls.concat(currentCls.map(function (cls) {\n            return Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, cls), {}, {\n              curriculumName: grade.curriculumName\n            });\n          }));\n        });\n        return cls;\n      }\n\n      return [];\n    },\n    classArrDetail: function classArrDetail() {\n      var _this2 = this;\n\n      var clses = this.classList.filter(function (cc) {\n        return _this2.formModel.classArr.includes(cc.id);\n      });\n      return sortBy(clses, \'classType\');\n    }\n  },\n  methods: {\n    initData: function initData() {\n      var _this3 = this;\n\n      return Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                Promise.all([Object(schoolClass["g" /* listClass */])({\n                  schoolId: _this3.currentSchool.id,\n                  pageNo: 1,\n                  pageSize: 10000\n                }), Object(academicSettingSubject["a" /* getSubjectBySchoolId */])({\n                  schoolId: _this3.currentSchool.id\n                }), Object(academicSettingCurriculum["a" /* getCurriculumBySchoolId */])({\n                  schoolId: _this3.currentSchool.id\n                })]).then(function (_ref) {\n                  var _ref2 = Object(slicedToArray["a" /* default */])(_ref, 3),\n                      clsRes = _ref2[0],\n                      subjectRes = _ref2[1],\n                      gradeRes = _ref2[2];\n\n                  if (clsRes.code === 0) {\n                    _this3.classNameList = {};\n                    _this3.classList = clsRes.result.records;\n                    clsRes.result.records.map(function (v) {\n                      var arr = [v.name]; // if (v.gradeName) arr.unshift(v.gradeName)\n\n                      _this3.classNameList[v.id] = arr.join(\' - \');\n                    });\n\n                    _this3.$forceUpdate();\n\n                    if (_this3.formModel.classes) {\n                      if (!_this3.classNameList[_this3.formModel.classes]) {\n                        _this3.formModel.classes = \'\';\n                        _this3.formModel.classArr = [];\n                      }\n                    }\n\n                    _this3.classUnModify = false;\n                    var query = _this3.$route.query;\n\n                    if (query.classId && _this3.classNameList[query.classId]) {\n                      if (!_this3.studentId) {\n                        _this3.formModel.classArr = [query.classId];\n                        _this3.formModel.classes = query.classId;\n                      }\n\n                      _this3.classUnModify = true;\n\n                      _this3.$emit(\'getCls\', {\n                        id: query.classId,\n                        name: _this3.classNameList[query.classId]\n                      });\n\n                      _this3.$nextTick(function () {\n                        _this3.initValidate(!!_this3.studentId);\n                      });\n                    }\n                  }\n\n                  if (subjectRes.success) {\n                    var subjects = [];\n                    subjectRes.result.forEach(function (item) {\n                      if (item.subjectList && item.subjectList.length > 0) {\n                        subjects = subjects.concat(item.subjectList);\n                      }\n                    });\n                    var options = [];\n                    subjects.forEach(function (item) {\n                      options.push({\n                        subjectId: item.subjectId,\n                        subjectName: item.subjectName\n                      });\n                      options.push({\n                        subjectId: item.parentSubjectId,\n                        subjectName: item.parentSubjectName\n                      });\n                    });\n                    _this3.subjectOptions = options;\n                  }\n\n                  if (gradeRes.success && gradeRes.result) {\n                    var grades = [];\n                    _this3.curriculumOptions = gradeRes.result;\n                    gradeRes.result.forEach(function (item) {\n                      grades = grades.concat((item.gradeSettingInfo || []).map(function (grade) {\n                        return Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, grade), {}, {\n                          curriculumId: item.curriculumId,\n                          curriculumName: item.curriculumName\n                        });\n                      }));\n                    });\n                    _this3.gradeOptions = grades;\n                  }\n                });\n\n              case 1:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    // modal模式传值\n    initForm: function initForm(defaultForm) {\n      var _this4 = this;\n\n      if (this.id) {\n        this.loading = true;\n        Object(schoolUser["n" /* getStudentInfo */])({\n          schoolId: this.currentSchool.id,\n          userId: this.id\n        }).then(function (res) {\n          if (res.code === 0) {\n            _this4.origin = Object(objectSpread2["a" /* default */])({}, res.result);\n            _this4.formModel.id = res.result.id;\n            _this4.formModel.firstName = res.result.firstname;\n            _this4.formModel.lastName = res.result.lastname;\n            _this4.formModel.birthDay = res.result.birthday;\n            _this4.formModel.avatar = res.result.avatar;\n            _this4.formModel.inviteEmail = res.result.inviteEmail;\n            _this4.formModel.parentEmail = res.result.parentEmail;\n            _this4.formModel.parentEmailStatus = res.result.parentEmailStatus || 0;\n            _this4.formModel.parentFirstName = res.result.parentFirstName;\n            _this4.formModel.parentLastName = res.result.parentLastName;\n            _this4.formModel.avatar = res.result.avatar;\n            _this4.formModel.parentPhone = res.result.parentPhone;\n\n            if (res.result.classes) {\n              var gradeCls = res.result.classes.filter(function (item) {\n                return item.classType === 0;\n              });\n              var subjectCls = res.result.classes.filter(function (item) {\n                return item.classType === 1;\n              });\n              _this4.formModel.classArr = gradeCls.map(function (item) {\n                return item.id;\n              });\n              _this4.formModel.classes = _this4.formModel.classArr.join(\',\');\n              _this4.formModel.subjectCls = subjectCls.map(function (item) {\n                return item.id;\n              });\n            }\n          }\n        }).finally(function () {\n          _this4.loading = false;\n        });\n      } else {\n        var fromCache = this.getAutoLocalData();\n        this.formModel = Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, this.formModel), fromCache), defaultForm);\n        var query = this.$route.query;\n\n        if (query.classId && this.classNameList[query.classId]) {\n          this.formModel.classArr = [query.classId];\n          this.formModel.classes = query.classId;\n        }\n\n        if (this.formModel.classes) {\n          this.formModel.classArr = this.formModel.classes.split(\',\');\n        }\n      }\n\n      this.$nextTick(function () {\n        _this4.initValidate(!!_this4.id);\n      });\n    },\n    doValidate: function doValidate(key, value) {\n      this.fillValidate(key, value);\n    },\n    setAvatar: function setAvatar(url) {\n      this.formModel.avatar = url;\n    },\n    disabledDate: function disabledDate(current) {\n      return current && current > moment_default()();\n    },\n    resendParent: function resendParent() {\n      var _this5 = this;\n\n      if (this.formModel.parentEmail && Object(util["isEmail"])(this.formModel.parentEmail)) {\n        this.loading = true;\n        Object(schoolUser["x" /* sendParentEmail */])({\n          parentEmail: this.formModel.parentEmail,\n          schoolId: this.currentSchool.id,\n          userId: this.studentId\n        }).then(function (res) {\n          if (res.code === 0) {\n            _this5.$message.success(\'Send successfully\');\n          }\n        }).finally(function () {\n          _this5.loading = false;\n        });\n      } else {\n        this.$message.error(\'Please input valid email\');\n      }\n    },\n    validateRemoteEmail: function validateRemoteEmail(rule, value, callback) {\n      if (!value) {\n        return callback();\n      } else {\n        // 调用封装了的异步效验方法，\n        if (this.studentId && value === this.origin.inviteEmail) {\n          return callback();\n        }\n\n        Object(schoolUser["j" /* checkEmailStudent */])({\n          emails: value,\n          schoolId: this.currentSchool.id\n        }).then(function (response) {\n          if (response.code === 0 && response.result && response.result[0].exists) {\n            callback(new Error(\'already exists at this school\'));\n          } else {\n            callback();\n          }\n        }).catch(function (res) {\n          callback(new Error(res.message));\n        });\n      }\n    },\n    validateRemoteParentEmail: function validateRemoteParentEmail(rule, value, callback) {\n      if (!value) {\n        return callback();\n      } else {\n        if (!this.formModel.firstName || !this.formModel.lastName) {\n          callback();\n        }\n\n        if (this.studentId && value === this.origin.parentEmail) {\n          return callback();\n        } // 调用封装了的异步效验方法，\n\n\n        Object(schoolUser["i" /* checkEmailParent */])({\n          \'parentEmailInfos[0].firstName\': this.formModel.firstName,\n          \'parentEmailInfos[0].lastName\': this.formModel.lastName,\n          \'parentEmailInfos[0].parentEmail\': value,\n          userId: this.id,\n          schoolId: this.currentSchool.id\n        }).then(function (response) {\n          if (response.code === 0 && response.result && response.result[0].exists) {\n            callback(new Error(\'This student already exists\'));\n          } else {\n            callback();\n          }\n        }).catch(function (res) {\n          callback(new Error(res.message));\n        });\n      }\n    },\n    doValidParentEmail: function doValidParentEmail() {\n      if (this.formModel.firstName && this.formModel.lastName && this.formModel.parentEmail) {\n        this.$refs.form.validateField(\'parentEmail\');\n      }\n    },\n    handelGoClass: function handelGoClass() {\n      this.$router.push(\'/manage/class\');\n    },\n    doReset: function doReset(params) {\n      return Object(schoolUser["w" /* resetUserPassword */])(Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, params), {}, {\n        schoolId: this.currentSchool.id,\n        userId: this.studentId\n      }));\n    },\n    handleClose: function handleClose() {\n      this.passwordVis = false;\n    },\n    handleReset: function handleReset() {\n      var _this6 = this;\n\n      this.randomPass = Object(util["randomString"])(6);\n      Object(schoolUser["w" /* resetUserPassword */])({\n        newPassword: this.randomPass,\n        schoolId: this.currentSchool.id,\n        userId: this.studentId\n      }).then(function (res) {\n        if (res.code === 0) {\n          _this6.passwordVis = true;\n        }\n      }); // this.$confirm({\n      //   title: `Confirm Reset Password`,\n      //   content: `Do you want to reset password?`,\n      //   centered: true,\n      //   onOk: () => {\n      //     this.confirmLoading = true\n      //     resetPassword({\n      //       userIds: [this.studentId] // reset\n      //     }).then(res => {\n      //       if (res.code === 0) {\n      //         this.$message.success(\'Opt Successfully\')\n      //       }\n      //     }).finally(() => {\n      //       this.confirmLoading = false\n      //     })\n      //   }\n      // })\n    },\n    handleSave: function handleSave(cb) {\n      var _this7 = this;\n\n      this.$refs.form.validate(function (valid) {\n        if (valid) {\n          var params = Object(objectSpread2["a" /* default */])({}, _this7.formModel);\n\n          _this7.validateRemoteParentEmail(null, params.parentEmail, function (err) {\n            if (err && err.message) {\n              _this7.$message.error(err.message);\n            } else {\n              params.schoolId = _this7.currentSchool.id; // 变成单选\n              // params.classes = params.classArr.join(\',\')\n\n              if (params.birthDay) {\n                params.birthday = params.birthDay = moment_default.a.utc(params.birthDay).format(\'YYYY-MM-DD HH:mm:ss\');\n              }\n\n              params.classes = params.classes.split(\',\').concat(params.subjectCls).filter(function (item) {\n                return !!item;\n              }).join(\',\');\n              var promise = null;\n\n              if (_this7.id) {\n                promise = schoolUser["z" /* updateStudent */];\n              } else {\n                promise = schoolUser["c" /* addStudents */];\n              }\n\n              _this7.loading = true;\n              promise(params).then(function (res) {\n                if (res.code === 0) {\n                  _this7.$message.success(\'Save successfully\');\n\n                  _this7.clearLocalData();\n\n                  _this7.origin = Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, params), {}, {\n                    id: _this7.id\n                  });\n\n                  if (cb) {\n                    cb();\n                  } else {\n                    _this7.$emit(\'save\', res.result);\n                  }\n                }\n              }).finally(function () {\n                _this7.loading = false;\n              });\n            }\n          });\n        } else {}\n      });\n    },\n    onCopy: function onCopy() {\n      var _this8 = this;\n\n      this.$copyText(this.randomPass).then(function (message) {\n        _this8.$message.success(\'Copy success!\');\n      }).catch(function (err) {\n        _this8.$message.error(\'Copy Failed\');\n      });\n    },\n    formatName: function formatName(key, arr) {\n      var find = arr.find(function (item) {\n        return item.id === key;\n      });\n      return find ? find.name : \'\';\n    },\n    closeCls: function closeCls(id) {\n      this.formModel.classArr = this.formModel.classArr.filter(function (clsId) {\n        return clsId !== id;\n      });\n    },\n    showSelect: function showSelect(e) {\n      this.$refs.tagRender.previousElementSibling.click();\n    },\n    formatViewName: function formatViewName(id) {\n      var findSubject = this.subjectOptions.find(function (subject) {\n        return subject.subjectId === id;\n      });\n      if (findSubject) return findSubject.subjectName; // const findGrade = this.gradeOptions.find(grade => grade.gradeId === id)\n      // if (findGrade) return findGrade.gradeName\n\n      return \'Untitle\';\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/manage/schoolUser/SchoolStudentAdd.vue?vue&type=script&lang=js&\n /* harmony default export */ var schoolUser_SchoolStudentAddvue_type_script_lang_js_ = (SchoolStudentAddvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/account/manage/schoolUser/SchoolStudentAdd.vue?vue&type=style&index=0&id=cd01e55c&scoped=true&lang=less&\nvar SchoolStudentAddvue_type_style_index_0_id_cd01e55c_scoped_true_lang_less_ = __webpack_require__("f431");\n\n// EXTERNAL MODULE: ./node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("0c7c");\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolUser/SchoolStudentAdd.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["a" /* default */])(\n  schoolUser_SchoolStudentAddvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  "cd01e55c",\n  null\n  \n)\n\n/* harmony default export */ var SchoolStudentAdd = __webpack_exports__["a"] = (component.exports);\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolUser/SchoolStudentAdd.vue_+_4_modules?')},d4d9:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/account/manage/persona/ReferSchool.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},d6f0:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/account/manage/PersonaInfo.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},d892:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"ac86b5fa-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/PersonaInfo.vue?vue&type=template&id=07688f56&scoped=true&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{staticClass:"my-full-form-wrapper",attrs:{"id":"formRoot"}},[_c(\'fixed-form-header\',{scopedSlots:_vm._u([{key:"header",fn:function(){return [_c(\'form-header\',{attrs:{"title":"Personal Info","show-share":false,"show-collaborate":false,"is-preview-mode":true},on:{"back":_vm.goBack},scopedSlots:_vm._u([{key:"back",fn:function(){return [_c(\'img\',{staticClass:"single-logo-img",attrs:{"src":__webpack_require__("be50"),"alt":"classcipe"},on:{"click":function($event){$event.stopPropagation();return _vm.$router.push(\'/\')}}})]},proxy:true},{key:"left",fn:function(){return [_c(\'a-space\',{attrs:{"size":5,"align":"center"},on:{"click":function($event){$event.stopPropagation();}}},[_c(\'label\',{staticStyle:{"cursor":"pointer"},on:{"click":function($event){return _vm.$router.push(\'/account/info\')}}},[_vm._v("Account Info")]),_c(\'label\',{attrs:{"for":""}},[_vm._v(">")]),_c(\'label\',{staticStyle:{"font-weight":"normal"}},[_vm._v("Personal Info")])])]},proxy:true},{key:"right",fn:function(){return undefined},proxy:true}])})]},proxy:true}])}),_c(\'div\',{staticClass:"form-content"},[_c(\'a-spin\',{attrs:{"spinning":_vm.loading}},[_c(\'a-form-model\',_vm._b({ref:"form",attrs:{"layout":"horizontal","model":_vm.formModel,"rules":_vm.validatorRules}},\'a-form-model\',_vm.formItemLayout,false),[_c(\'a-form-model-item\',{staticStyle:{"display":"flex","align-items":"center"},attrs:{"colon":false}},[_c(\'div\',{staticClass:"ant-upload-preview",attrs:{"slot":"label"},on:{"click":function($event){return _vm.$refs.avatarModal.edit(1)}},slot:"label"},[_c(\'a-icon\',{staticClass:"upload-icon",attrs:{"type":"cloud-upload-o"}}),_c(\'div\',{staticClass:"mask"},[_c(\'a-icon\',{attrs:{"type":"plus"}})],1),(_vm.formModel.avatar)?_c(\'img\',{attrs:{"src":_vm.formModel.avatar}}):_c(\'img\',{attrs:{"src":__webpack_require__("4992")}})],1),_c(\'div\',[_vm._v(_vm._s(_vm.formModel.email))]),_c(\'a-row\',{attrs:{"gutter":10}},[_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"prop":"firstname"}},[_c(\'a-input\',{attrs:{"placeholder":"First Name"},model:{value:(_vm.formModel.firstname),callback:function ($$v) {_vm.$set(_vm.formModel, "firstname", $$v)},expression:"formModel.firstname"}})],1)],1),_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"prop":"lastname"}},[_c(\'a-input\',{attrs:{"placeholder":"Last Name"},model:{value:(_vm.formModel.lastname),callback:function ($$v) {_vm.$set(_vm.formModel, "lastname", $$v)},expression:"formModel.lastname"}})],1)],1)],1)],1),_c(\'a-divider\'),_c(\'div\',{staticClass:"profile-title"},[_vm._v(" "+_vm._s(_vm.userMode === _vm.USER_MODE.SELF ? \'Personal account\' : ("School account: " + (_vm.currentSchool.schoolName)))+" ")]),(_vm.userMode === _vm.USER_MODE.SCHOOL)?_c(\'a-form-model-item\',{attrs:{"label":"Role"}},[_c(\'a-space\',{staticClass:"profile-text profile-data"},_vm._l((_vm.rolesName),function(roleName){return _c(\'a-tag\',{key:\'roleName_\'+roleName},[_vm._v(" "+_vm._s(roleName)+" ")])}),1)],1):_vm._e(),_c(\'a-form-model-item\',{attrs:{"label":"Member since"}},[_c(\'div\',{staticClass:"profile-text profile-data"},[(_vm.userMode === _vm.USER_MODE.SELF)?[_vm._v(" "+_vm._s(_vm._f("dayjs")(_vm.info.createTime))+" ")]:[_vm._v(" "+_vm._s(_vm._f("dayjs")(_vm.currentSchool.schoolJoinDate))+" ")]],2)]),_c(\'a-form-model-item\',{directives:[{name:"hasRole",rawName:"v-hasRole",value:([\'student\']),expression:"[\'student\']"}],attrs:{"label":"Age"}},[_c(\'a-select\',{attrs:{"placeholder":"Please Select a Age","getPopupContainer":function (target) { return target.parentNode; }},model:{value:(_vm.formModel.age),callback:function ($$v) {_vm.$set(_vm.formModel, "age", $$v)},expression:"formModel.age"}},_vm._l((_vm.ageOptions),function(param){return _c(\'a-select-option\',{key:\'age-\' + param,attrs:{"value":param}},[_vm._v(" "+_vm._s(param)+" ")])}),1)],1),_c(\'a-form-model-item\',{attrs:{"label":"Gender"}},[_c(\'a-select\',{attrs:{"placeholder":"Please Select a Gender","getPopupContainer":function (target) { return target.parentNode; }},model:{value:(_vm.formModel.gender),callback:function ($$v) {_vm.$set(_vm.formModel, "gender", $$v)},expression:"formModel.gender"}},_vm._l((_vm.genderOptions),function(param){return _c(\'a-select-option\',{key:\'gender-\' + param.label,attrs:{"value":param.value}},[_vm._v(" "+_vm._s(param.label)+" ")])}),1)],1),_c(\'a-form-model-item\',{attrs:{"label":"Linked School(s)"}},[_c(\'div\',{staticClass:"profile-text profile-data"},[(_vm.linkedSchool.length > 0)?_c(\'a-space\',_vm._l((_vm.linkedSchool),function(item){return _c(\'a-tag\',{key:\'linkedSchool_\'+item,attrs:{"color":"#ffc001"}},[_vm._v(" "+_vm._s(item)+" ")])}),1):_vm._e(),_c(\'a-button\',{staticStyle:{"line-height":"20px"},attrs:{"size":"small","type":"primary"},on:{"click":_vm.handleRefer}},[_vm._v("Refer principal")]),(_vm.linkedSchool.length===0 && _vm.currentRole === \'student\')?_c(\'div\',{staticClass:"no-linked-school-name"},[_vm._v("You have not linked to any school")]):_vm._e()],1)]),_c(\'a-form-model-item\',{attrs:{"label":"Self intro"}},[_c(\'a-textarea\',{attrs:{"auto-size":{ minRows: 3},"size":"large","placeholder":"input your self intro"},model:{value:(_vm.formModel.notes),callback:function ($$v) {_vm.$set(_vm.formModel, "notes", $$v)},expression:"formModel.notes"}})],1),_c(\'a-form-model-item\',{staticClass:"form-btn",attrs:{"wrapperCol":{offset: 6}}},[_c(\'a-button\',{attrs:{"loading":_vm.loading,"type":"primary"},on:{"click":_vm.handleSave}},[_vm._v("Save")])],1)],1)],1)],1),_c(\'avatar-modal\',{ref:"avatarModal",on:{"ok":_vm.setAvatar}}),_c(\'refer-school\',{ref:"referSchool"})],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/manage/PersonaInfo.vue?vue&type=template&id=07688f56&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__("2909");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("5530");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js\nvar es_array_map = __webpack_require__("d81d");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__("4de4");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.from.js\nvar es_array_from = __webpack_require__("a630");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.iterator.js\nvar es_string_iterator = __webpack_require__("3ca3");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__("d3b7");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.set.js\nvar es_set = __webpack_require__("6062");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__("ddb0");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__("99af");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.find.js\nvar es_array_find = __webpack_require__("7db0");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__("b0c0");\n\n// EXTERNAL MODULE: ./src/const/common.js\nvar common = __webpack_require__("f93e");\n\n// EXTERNAL MODULE: ./src/mixins/UserModeMixin.js\nvar UserModeMixin = __webpack_require__("6e84");\n\n// EXTERNAL MODULE: ./src/mixins/CurrentSchoolMixin.js\nvar CurrentSchoolMixin = __webpack_require__("21fb");\n\n// EXTERNAL MODULE: ./src/components/Common/FixedFormHeader.vue + 4 modules\nvar FixedFormHeader = __webpack_require__("b5ff8");\n\n// EXTERNAL MODULE: ./src/components/FormHeader/FormHeader.vue + 9 modules\nvar FormHeader = __webpack_require__("b5a9");\n\n// EXTERNAL MODULE: ./src/views/account/manage/schoolUser/SchoolStudentAdd.vue + 4 modules\nvar SchoolStudentAdd = __webpack_require__("b116");\n\n// EXTERNAL MODULE: ./src/views/account/settings/AvatarModal.vue + 4 modules\nvar AvatarModal = __webpack_require__("8d90");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"ac86b5fa-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/persona/ReferSchool.vue?vue&type=template&id=25c6ab3a&scoped=true&\nvar ReferSchoolvue_type_template_id_25c6ab3a_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'a-drawer\',{attrs:{"destroyOnClose":"","placement":"right","width":"600px","visible":_vm.visible},on:{"close":function($event){_vm.visible = false}}},[_c(\'div\',{staticClass:"refer-wrapper-row"},[_c(\'div\',{staticClass:"account-info"},[_c(\'div\',{staticClass:"account-info-title"},[_vm._v(" Complete the form below to send your principal an email about Classcipe ")]),_c(\'a-spin\',{attrs:{"spinning":_vm.confirmLoading}},[_c(\'a-form-model\',{directives:[{name:"show",rawName:"v-show",value:(!_vm.adminFormVisible),expression:"!adminFormVisible"}],ref:"userForm",staticClass:"account-info-form",attrs:{"layout":_vm.userForm.layout,"model":_vm.userForm,"rules":_vm.validatorRules}},[_c(\'a-row\',{attrs:{"gutter":16}},[_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"label":"Your Frist Name","prop":"firstname"}},[_c(\'a-input\',{attrs:{"size":"large","placeholder":"input your first name"},model:{value:(_vm.userForm.firstname),callback:function ($$v) {_vm.$set(_vm.userForm, "firstname", $$v)},expression:"userForm.firstname"}})],1)],1),_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"label":"Your Last Name","prop":"lastname"}},[_c(\'a-input\',{attrs:{"size":"large","placeholder":"input your last Name"},model:{value:(_vm.userForm.lastname),callback:function ($$v) {_vm.$set(_vm.userForm, "lastname", $$v)},expression:"userForm.lastname"}})],1)],1)],1),_c(\'a-form-model-item\',{attrs:{"label":"Your Email Address","prop":"email"}},[_c(\'a-input\',{attrs:{"size":"large","placeholder":"input your email address"},model:{value:(_vm.userForm.email),callback:function ($$v) {_vm.$set(_vm.userForm, "email", $$v)},expression:"userForm.email"}})],1),_c(\'a-row\',{attrs:{"gutter":16}},[_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"label":"Principal\'s Frist Name","prop":"principleFirstname"}},[_c(\'a-input\',{attrs:{"size":"large","placeholder":"input principal\'s first name"},model:{value:(_vm.userForm.principleFirstname),callback:function ($$v) {_vm.$set(_vm.userForm, "principleFirstname", $$v)},expression:"userForm.principleFirstname"}})],1)],1),_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"label":"Principal\'s Last Name","prop":"principleLastname"}},[_c(\'a-input\',{attrs:{"size":"large","placeholder":"input principal\'s last Name"},model:{value:(_vm.userForm.principleLastname),callback:function ($$v) {_vm.$set(_vm.userForm, "principleLastname", $$v)},expression:"userForm.principleLastname"}})],1)],1)],1),_c(\'a-form-model-item\',{attrs:{"label":"Principal\'s Email Address","prop":"principleEmail"}},[_c(\'a-input\',{attrs:{"size":"large","placeholder":"input principal\'s email address"},model:{value:(_vm.userForm.principleEmail),callback:function ($$v) {_vm.$set(_vm.userForm, "principleEmail", $$v)},expression:"userForm.principleEmail"}})],1),_c(\'a-form-model-item\',{key:"School",attrs:{"label":"School","prop":"schoolId"}},[_c(\'a-select\',{ref:"schoolRefuserForm",attrs:{"getPopupContainer":function (target) { return target.parentNode; },"placeholder":"Please select school","show-search":"","default-active-first-option":false,"show-arrow":false,"filter-option":false,"not-found-content":null,"option-label-prop":"label"},on:{"change":_vm.changeUserSchool,"search":_vm.handleSearchSchool,"focus":_vm.handleSearchSchool},scopedSlots:_vm._u([{key:"dropdownRender",fn:function(menu){return _c(\'div\',{},[_c(\'v-nodes\',{attrs:{"vnodes":menu}}),(_vm.ifShowCreate)?_c(\'div\',[_c(\'a-divider\',{staticStyle:{"margin":"4px 0"}}),_c(\'div\',{staticStyle:{"padding":"4px 8px","cursor":"pointer"},on:{"mousedown":function (e) { return e.preventDefault(); },"click":function($event){return _vm.handleCreateSchool(\'userForm\')}}},[_vm._v(" Create School: "),_c(\'a-tag\',{attrs:{"color":"#15c39a"}},[_vm._v(_vm._s(_vm.createSchoolName))])],1)],1):_vm._e()],1)}}]),model:{value:(_vm.userForm.schoolId),callback:function ($$v) {_vm.$set(_vm.userForm, "schoolId", $$v)},expression:"userForm.schoolId"}},_vm._l((_vm.myCreateSchoolOptions.concat( _vm.schoolOptions)),function(schoolOption){return _c(\'a-select-option\',{key:schoolOption.id,attrs:{"value":schoolOption.id,"label":schoolOption.name}},[_c(\'label\',{staticStyle:{"display":"flex","justify-content":"space-between"}},[_c(\'span\',[_vm._v(_vm._s(schoolOption.name))]),_c(\'a-tag\',{directives:[{name:"show",rawName:"v-show",value:(schoolOption.country),expression:"schoolOption.country"}],attrs:{"type":"primary"}},[_vm._v(_vm._s(schoolOption.country))])],1)])}),1)],1),_c(\'a-form-model-item\',{attrs:{"prop":"country","label":"Country/Region"}},[_c(\'a-select\',{attrs:{"show-search":"","placeholder":"Please Select a Country","option-filter-prop":"children","filter-option":_vm.filterOptions,"getPopupContainer":function (target) { return target.parentNode; }},on:{"change":_vm.changeUserFormCountry},model:{value:(_vm.userForm.country),callback:function ($$v) {_vm.$set(_vm.userForm, "country", $$v)},expression:"userForm.country"}},_vm._l((_vm.countries),function(param){return _c(\'a-select-option\',{key:\'country_\' + param.en,attrs:{"value":param.en}},[_vm._v(" "+_vm._s(param.en)+" ")])}),1)],1),_c(\'a-form-model-item\',{attrs:{"label":"City","prop":"city"}},[_c(\'a-select\',{attrs:{"show-search":"","placeholder":"Please Input Keyword","option-filter-prop":"children","filter-option":false,"not-found-content":_vm.fetching ? undefined : null,"getPopupContainer":function (target) { return target.parentNode; }},on:{"search":_vm.fetchUserFormCity},model:{value:(_vm.userForm.city),callback:function ($$v) {_vm.$set(_vm.userForm, "city", $$v)},expression:"userForm.city"}},[(_vm.fetching)?_c(\'a-spin\',{attrs:{"slot":"notFoundContent","size":"small"},slot:"notFoundContent"}):_vm._e(),_vm._l((_vm.userFormCitys),function(param){return _c(\'a-select-option\',{key:\'city_\' + param.desc,attrs:{"value":param.desc}},[_vm._v(" "+_vm._s(param.desc)+" ")])})],2)],1),_c(\'a-form-model-item\',{attrs:{"label":"Address"}},[_c(\'a-input\',{attrs:{"placeholder":"Please enter address"},model:{value:(_vm.userForm.address),callback:function ($$v) {_vm.$set(_vm.userForm, "address", $$v)},expression:"userForm.address"}})],1),_c(\'a-form-model-item\',{attrs:{"label":"Phone"}},[_c(\'a-input\',{model:{value:(_vm.userForm.phoneNum),callback:function ($$v) {_vm.$set(_vm.userForm, "phoneNum", $$v)},expression:"userForm.phoneNum"}},[_c(\'label\',{staticStyle:{"width":"100px","display":"inline-block"},attrs:{"slot":"addonBefore"},slot:"addonBefore"},[_vm._v(" "+_vm._s(_vm.userForm.phoneCountryCode)+" ")])])],1),_c(\'a-form-model-item\',{attrs:{"label":"Message for the principal (Optional)"}},[_c(\'a-textarea\',{attrs:{"auto-size":{ minRows: 3},"size":"large","placeholder":"input your personalized message"},model:{value:(_vm.userForm.personalizedMessage),callback:function ($$v) {_vm.$set(_vm.userForm, "personalizedMessage", $$v)},expression:"userForm.personalizedMessage"}})],1),_c(\'a-form-model-item\',{staticStyle:{"text-align":"left"}},[_c(\'a-space\',[_c(\'a-button\',{attrs:{"type":"primary","html-type":"submit","loading":_vm.confirmLoading},on:{"click":_vm.doSaveUserForm}},[_vm._v(" Send ")]),_c(\'a-button\',{attrs:{"loading":_vm.confirmLoading},on:{"click":function($event){_vm.visible = false}}},[_vm._v(" Cancel ")])],1)],1)],1),_c(\'a-form-model\',{directives:[{name:"show",rawName:"v-show",value:(_vm.adminFormVisible),expression:"adminFormVisible"}],ref:"adminForm",staticClass:"account-info-form",attrs:{"layout":"vertical","model":_vm.adminForm,"rules":_vm.validatorRules}},[_c(\'a-row\',{attrs:{"gutter":16}},[_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"label":"Your Frist Name","prop":"firstname"}},[_c(\'a-input\',{attrs:{"size":"large","placeholder":"input your first name"},model:{value:(_vm.adminForm.firstname),callback:function ($$v) {_vm.$set(_vm.adminForm, "firstname", $$v)},expression:"adminForm.firstname"}})],1)],1),_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"label":"Your Last Name","prop":"lastname"}},[_c(\'a-input\',{attrs:{"size":"large","placeholder":"input your last Name"},model:{value:(_vm.adminForm.lastname),callback:function ($$v) {_vm.$set(_vm.adminForm, "lastname", $$v)},expression:"adminForm.lastname"}})],1)],1)],1),_c(\'a-form-model-item\',{attrs:{"label":"Email","prop":"email"}},[_c(\'a-input\',{attrs:{"placeholder":"Please Input Email"},model:{value:(_vm.adminForm.email),callback:function ($$v) {_vm.$set(_vm.adminForm, "email", $$v)},expression:"adminForm.email"}})],1),_c(\'a-form-model-item\',{key:"School",attrs:{"label":"School","prop":"schoolId"}},[_c(\'a-select\',{ref:"schoolRefadminForm",attrs:{"getPopupContainer":function (target) { return target.parentNode; },"placeholder":"Please select school","show-search":"","default-active-first-option":false,"show-arrow":false,"filter-option":false,"not-found-content":null,"option-label-prop":"label"},on:{"change":_vm.changeAdminSchool,"search":_vm.handleSearchSchool,"focus":_vm.handleSearchSchool},scopedSlots:_vm._u([{key:"dropdownRender",fn:function(menu){return _c(\'div\',{},[_c(\'v-nodes\',{attrs:{"vnodes":menu}}),(_vm.ifShowCreate)?_c(\'div\',[_c(\'a-divider\',{staticStyle:{"margin":"4px 0"}}),_c(\'div\',{staticStyle:{"padding":"4px 8px","cursor":"pointer"},on:{"mousedown":function (e) { return e.preventDefault(); },"click":function($event){return _vm.handleCreateSchool(\'adminForm\')}}},[_vm._v(" Create School: "),_c(\'a-tag\',{attrs:{"color":"#15c39a"}},[_vm._v(_vm._s(_vm.createSchoolName))])],1)],1):_vm._e()],1)}}]),model:{value:(_vm.adminForm.schoolId),callback:function ($$v) {_vm.$set(_vm.adminForm, "schoolId", $$v)},expression:"adminForm.schoolId"}},_vm._l((_vm.myCreateSchoolOptions.concat( _vm.schoolOptions)),function(schoolOption){return _c(\'a-select-option\',{key:schoolOption.id,attrs:{"value":schoolOption.id,"label":schoolOption.name}},[_c(\'label\',{staticStyle:{"display":"flex","justify-content":"space-between"}},[_c(\'span\',[_vm._v(_vm._s(schoolOption.name))]),_c(\'a-tag\',{directives:[{name:"show",rawName:"v-show",value:(schoolOption.country),expression:"schoolOption.country"}],attrs:{"type":"primary"}},[_vm._v(_vm._s(schoolOption.country))])],1)])}),1)],1),_c(\'a-form-model-item\',{attrs:{"prop":"country","label":"School Country"}},[_c(\'a-select\',{attrs:{"show-search":"","placeholder":"Please Select a Country","option-filter-prop":"children","filter-option":_vm.filterOptions,"getPopupContainer":function (target) { return target.parentNode; }},model:{value:(_vm.adminForm.country),callback:function ($$v) {_vm.$set(_vm.adminForm, "country", $$v)},expression:"adminForm.country"}},_vm._l((_vm.countries),function(param){return _c(\'a-select-option\',{key:\'adminCountry_\' + param.en,attrs:{"value":param.en}},[_vm._v(" "+_vm._s(param.en)+" ")])}),1)],1),_c(\'a-form-model-item\',{attrs:{"prop":"position","label":"Position"}},[_c(\'a-select\',{attrs:{"placeholder":"Please Select a Position","getPopupContainer":function (target) { return target.parentNode; }},model:{value:(_vm.adminForm.position),callback:function ($$v) {_vm.$set(_vm.adminForm, "position", $$v)},expression:"adminForm.position"}},_vm._l((_vm.positions),function(param){return _c(\'a-select-option\',{key:\'position_\' + param,attrs:{"value":param}},[_vm._v(" "+_vm._s(param)+" ")])}),1),_c(\'a-form-model-item\',{directives:[{name:"show",rawName:"v-show",value:(_vm.adminForm.position === \'Other position\'),expression:"adminForm.position === \'Other position\'"}],staticStyle:{"margin-top":"20px"},attrs:{"prop":"positionInput","label":""}},[_c(\'a-input\',{attrs:{"placeholder":"Please Input Position"},model:{value:(_vm.adminForm.positionInput),callback:function ($$v) {_vm.$set(_vm.adminForm, "positionInput", $$v)},expression:"adminForm.positionInput"}})],1)],1),_c(\'a-form-model-item\',{attrs:{"label":"I Would Like a Quote For"}},[_c(\'a-radio-group\',{model:{value:(_vm.adminForm.planFor),callback:function ($$v) {_vm.$set(_vm.adminForm, "planFor", $$v)},expression:"adminForm.planFor"}},[_c(\'a-radio\',{attrs:{"value":"1"}},[_vm._v(" Plan for my school ")]),_c(\'a-radio\',{attrs:{"value":"2"}},[_vm._v(" Plan for a group ")])],1)],1),_c(\'a-form-model-item\',{attrs:{"label":"Notes"}},[_c(\'a-input\',{attrs:{"placeholder":"Please Input Notes"},model:{value:(_vm.adminForm.notes),callback:function ($$v) {_vm.$set(_vm.adminForm, "notes", $$v)},expression:"adminForm.notes"}})],1),_c(\'a-form-model-item\',{staticStyle:{"text-align":"left"}},[_c(\'a-space\',[_c(\'a-button\',{attrs:{"type":"primary","html-type":"submit","loading":_vm.confirmLoading},on:{"click":_vm.doSaveAdminForm}},[_vm._v(" Send ")]),_c(\'a-button\',{attrs:{"loading":_vm.confirmLoading},on:{"click":function($event){_vm.visible = false}}},[_vm._v(" Cancel ")])],1)],1)],1)],1)],1)])])}\nvar ReferSchoolvue_type_template_id_25c6ab3a_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/manage/persona/ReferSchool.vue?vue&type=template&id=25c6ab3a&scoped=true&\n\n// EXTERNAL MODULE: ./src/api/school.js\nvar api_school = __webpack_require__("caa4");\n\n// EXTERNAL MODULE: ./src/api/schoolPrinciple.js\nvar schoolPrinciple = __webpack_require__("4d59");\n\n// EXTERNAL MODULE: ./src/api/quotation.js\nvar quotation = __webpack_require__("e0dd");\n\n// EXTERNAL MODULE: ./src/api/v2/country.js\nvar country = __webpack_require__("b2b5");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/persona/ReferSchool.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\nvar _require = __webpack_require__("4fcf"),\n    debounce = _require.debounce;\n\n/* harmony default export */ var ReferSchoolvue_type_script_lang_js_ = ({\n  name: \'ReferSchool\',\n  components: {\n    VNodes: {\n      functional: true,\n      render: function render(h, ctx) {\n        return ctx.props.vnodes;\n      }\n    }\n  },\n  data: function data() {\n    return {\n      visible: false,\n      userFormVisible: false,\n      adminFormVisible: false,\n      confirmLoading: false,\n      userForm: {\n        layout: \'vertical\',\n        firstname: \'\',\n        lastname: \'\',\n        email: \'\',\n        principleFirstname: \'\',\n        principleLastname: \'\',\n        principleEmail: \'\',\n        schoolId: undefined,\n        schoolName: undefined,\n        country: undefined,\n        city: undefined,\n        address: \'\',\n        phoneNum: \'\',\n        phoneCountryCode: \'\',\n        personalizedMessage: \'\'\n      },\n      adminForm: {\n        layout: \'vertical\',\n        position: \'Teacher\',\n        positionInput: \'\',\n        planFor: \'1\',\n        firstname: \'\',\n        lastname: \'\',\n        email: \'\',\n        schoolId: undefined,\n        schoolName: undefined,\n        country: undefined\n      },\n      countries: [],\n      positions: [\'Teacher\', \'School administrator\', \'Principle/Deputy principle\', \'Other position\'],\n      schoolOptions: [],\n      myCreateSchoolOptions: [],\n      createSchoolName: \'\',\n      schoolUserInfo: {},\n      fetching: false,\n      userFormCitys: []\n    };\n  },\n  created: function created() {\n    this.debouncedSearchSchool = debounce(this.searchSchool, 500);\n    this.adminFormOrigin = Object(objectSpread2["a" /* default */])({}, this.adminForm);\n    this.userFormOrigin = Object(objectSpread2["a" /* default */])({}, this.userForm);\n    this.initDict();\n  },\n  computed: {\n    ifShowCreate: function ifShowCreate() {\n      var _this = this;\n\n      var list = [].concat(Object(toConsumableArray["a" /* default */])(this.myCreateSchoolOptions), Object(toConsumableArray["a" /* default */])(this.schoolOptions));\n      var findOne = list.find(function (item) {\n        return item.name === _this.createSchoolName;\n      });\n      return this.createSchoolName && !findOne;\n    },\n    validatorRules: function validatorRules() {\n      return {\n        firstname: [{\n          required: true,\n          message: \'Please Input First Name!\'\n        }],\n        lastname: [{\n          required: true,\n          message: \'Please Input Last Name!\'\n        }],\n        email: [{\n          required: true,\n          message: \'Please Input Email!\'\n        }, {\n          required: false,\n          type: \'email\',\n          message: \'The email is not correct!\',\n          trigger: \'blur\'\n        }],\n        principleFirstname: [{\n          required: true,\n          message: \'Please Input First Name!\'\n        }],\n        principleLastname: [{\n          required: true,\n          message: \'Please Input Last Name!\'\n        }],\n        principleEmail: [{\n          required: true,\n          message: \'Please Input Email!\'\n        }, {\n          required: false,\n          type: \'email\',\n          message: \'The email is not correct!\',\n          trigger: \'blur\'\n        }],\n        schoolId: [{\n          required: true,\n          message: \'Please Select a School!\'\n        }],\n        country: [{\n          required: true,\n          message: \'Please Select a Country!\'\n        }]\n      };\n    },\n    validatorAdminRules: function validatorAdminRules() {\n      return {\n        firstname: [{\n          required: true,\n          message: \'Please Input First Name!\'\n        }],\n        lastname: [{\n          required: true,\n          message: \'Please Input Last Name!\'\n        }],\n        email: [{\n          required: true,\n          message: \'Please Input Email!\'\n        }, {\n          required: false,\n          type: \'email\',\n          message: \'The email is not correct!\',\n          trigger: \'blur\'\n        }],\n        position: [{\n          required: true,\n          message: \'Please Select a Position!\'\n        }],\n        positionInput: [{\n          required: this.adminForm.position === \'Other position\',\n          message: \'Please Input Position!\'\n        }],\n        countryId: [{\n          required: true,\n          message: \'Please Select a Country!\'\n        }],\n        country: [{\n          required: true,\n          message: \'Please Select a Country!\'\n        }]\n      };\n    }\n  },\n  methods: {\n    initDict: function initDict() {\n      var _this2 = this;\n\n      Object(country["b" /* getCountry */])({}).then(function (res) {\n        _this2.countries = res;\n      });\n    },\n    filterOptions: function filterOptions(input, option) {\n      return option.componentOptions.children[0].text.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n    },\n    doCreate: function doCreate(info) {\n      this.userForm.firstname = info.firstname;\n      this.userForm.lastname = info.lastname;\n      this.userForm.email = info.email;\n      this.adminForm.firstname = info.firstname;\n      this.adminForm.lastname = info.lastname;\n      this.adminForm.email = info.email;\n      this.visible = true;\n    },\n    changeUserSchool: function changeUserSchool(schoolId) {\n      var list = [].concat(Object(toConsumableArray["a" /* default */])(this.myCreateSchoolOptions), Object(toConsumableArray["a" /* default */])(this.schoolOptions));\n      var findOne = list.find(function (item) {\n        return item.id === schoolId;\n      });\n\n      if (findOne) {\n        if (findOne.country) {\n          this.userForm.country = findOne.country;\n          this.changeUserFormCountry(findOne.country);\n        }\n\n        this.userForm.schoolName = findOne.name;\n      }\n    },\n    changeAdminSchool: function changeAdminSchool(schoolId) {\n      var list = [].concat(Object(toConsumableArray["a" /* default */])(this.myCreateSchoolOptions), Object(toConsumableArray["a" /* default */])(this.schoolOptions));\n      var findOne = list.find(function (item) {\n        return item.id === schoolId;\n      });\n\n      if (findOne) {\n        findOne.country && (this.adminForm.country = findOne.country);\n        this.adminForm.schoolName = findOne.name;\n      }\n    },\n    changeUserFormCountry: function changeUserFormCountry(val) {\n      var current = this.countries.find(function (item) {\n        return item.en === val;\n      });\n      this.userForm.city = undefined;\n      this.userForm.country = val;\n      this.userFormCitys = [];\n      this.userForm.phoneCountryCode = current.no || \'\';\n    },\n    fetchUserFormCity: function fetchUserFormCity(val) {\n      var _this3 = this;\n\n      var current = this.countries.find(function (item) {\n        return item.en === _this3.userForm.country;\n      });\n\n      if (current && current.code) {\n        this.fetching = true;\n        Object(country["a" /* getCity */])({\n          country: current.code,\n          q: val\n        }).then(function (res) {\n          _this3.userFormCitys = res;\n        }).finally(function () {\n          _this3.fetching = false;\n        });\n      }\n    },\n    doSaveUserForm: function doSaveUserForm() {\n      var _this4 = this;\n\n      this.$refs.userForm.validate(function (valid) {\n        if (valid) {\n          // TODO 需要判断是否已经提交过\n          // if (false) {\n          //   this.$message.error(\'You have already referred this principal\')\n          // }\n          // 同名 同国家 才是同学校，否则不是同学校\n          var school = _this4.myCreateSchoolOptions.find(function (item) {\n            return item.id === _this4.userForm.schoolId;\n          });\n\n          var createdSchool = _this4.schoolOptions.find(function (item) {\n            return item.id === _this4.userForm.schoolId;\n          });\n\n          if (school || createdSchool && createdSchool.country !== _this4.userForm.country) {\n            // this.confirmLoading = true\n            // createSchool({\n            //   name: (school || createdSchool).name,\n            //   country: this.userForm.country,\n            //   principleEmail: this.userForm.principleEmail,\n            //   principleFirstname: this.userForm.principleFirstname,\n            //   principleLastname: this.userForm.principleLastname\n            // }).then(res => {\n            //   if (res.success) {\n            //     if (school) {\n            //       school.id = res.result.id\n            //     }\n            //     if (createdSchool) {\n            //       this.schoolOptions.push({\n            //         id: res.result.id,\n            //         name: res.result.name\n            //       })\n            //     }\n            //     this.userForm.schoolId = res.result.id\n            //     this.userForm.schoolName = res.result.name\n            //     SchoolPrincipleSave(this.userForm).then(res => {\n            //       if (res.success) {\n            //         this.$message.success(\'Send successfully\')\n            //         this.visible = false\n            //         this.userForm = { ...this.userFormOrigin }\n            //       }\n            //     })\n            //   }\n            // }).finally(res => {\n            //   this.confirmLoading = false\n            // })\n            _this4.userForm.schoolId = null;\n            _this4.userForm.schoolName = (school || createdSchool).name;\n            _this4.confirmLoading = true;\n            Object(schoolPrinciple["a" /* SchoolPrincipleSave */])(_this4.userForm).then(function (res) {\n              if (res.success) {\n                _this4.$message.success(\'Send successfully\');\n\n                _this4.visible = false;\n                _this4.userForm = Object(objectSpread2["a" /* default */])({}, _this4.userFormOrigin);\n              }\n            }).finally(function (res) {\n              _this4.confirmLoading = false;\n            });\n          } else {\n            _this4.confirmLoading = true;\n            Object(schoolPrinciple["a" /* SchoolPrincipleSave */])(_this4.userForm).then(function (res) {\n              if (res.success) {\n                _this4.$message.success(\'Send successfully\');\n\n                _this4.visible = false;\n                _this4.userForm = Object(objectSpread2["a" /* default */])({}, _this4.userFormOrigin);\n              }\n            }).finally(function (res) {\n              _this4.confirmLoading = false;\n            });\n          }\n        }\n      });\n    },\n    doSaveAdminForm: function doSaveAdminForm() {\n      var _this5 = this;\n\n      this.$refs.adminForm.validate(function (valid) {\n        if (valid) {\n          var school = _this5.myCreateSchoolOptions.find(function (item) {\n            return item.id === _this5.adminForm.schoolId;\n          });\n\n          var createdSchool = _this5.schoolOptions.find(function (item) {\n            return item.id === _this5.adminForm.schoolId;\n          });\n\n          _this5.confirmLoading = true;\n\n          if (school || createdSchool && api_school["a" /* createSchool */].country !== _this5.adminForm.country) {\n            _this5.adminForm.schoolId = null;\n          }\n\n          Object(quotation["a" /* QuotationAddOrUpdate */])(_this5.adminForm).then(function (res) {\n            if (res.success) {\n              _this5.$message.success(\'Send successfully\');\n\n              _this5.visible = false;\n              _this5.adminForm = Object(objectSpread2["a" /* default */])({}, _this5.adminFormOrigin);\n            }\n          }).finally(function (res) {\n            _this5.confirmLoading = false;\n          });\n        }\n      });\n    },\n    handleSearchSchool: function handleSearchSchool(value) {\n      this.createSchoolName = value;\n      this.debouncedSearchSchool(value);\n    },\n    searchSchool: function searchSchool(value) {\n      var _this6 = this;\n\n      if (!value) return;\n      Object(api_school["b" /* getSchools */])({\n        // curriculumId: this.userInfo.curriculumId,\n        name: value\n      }).then(function (res) {\n        if (res.success) {\n          _this6.schoolOptions = res.result || [];\n        } else {\n          _this6.schoolOptions = [];\n        }\n      });\n    },\n    handleCreateSchool: function handleCreateSchool(formName) {\n      // 保存的时候在真正创建学校\n      var res = {\n        id: new Date().getTime(),\n        name: this.createSchoolName\n      };\n      this.myCreateSchoolOptions.push(res);\n      this[formName].schoolId = res.id;\n      this.$refs[\'schoolRef\' + formName].$el.click();\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/manage/persona/ReferSchool.vue?vue&type=script&lang=js&\n /* harmony default export */ var persona_ReferSchoolvue_type_script_lang_js_ = (ReferSchoolvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/account/manage/persona/ReferSchool.vue?vue&type=style&index=0&id=25c6ab3a&scoped=true&lang=less&\nvar ReferSchoolvue_type_style_index_0_id_25c6ab3a_scoped_true_lang_less_ = __webpack_require__("5619");\n\n// EXTERNAL MODULE: ./node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("0c7c");\n\n// CONCATENATED MODULE: ./src/views/account/manage/persona/ReferSchool.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["a" /* default */])(\n  persona_ReferSchoolvue_type_script_lang_js_,\n  ReferSchoolvue_type_template_id_25c6ab3a_scoped_true_render,\n  ReferSchoolvue_type_template_id_25c6ab3a_scoped_true_staticRenderFns,\n  false,\n  null,\n  "25c6ab3a",\n  null\n  \n)\n\n/* harmony default export */ var ReferSchool = (component.exports);\n// EXTERNAL MODULE: ./src/api/countryCode.js\nvar countryCode = __webpack_require__("6862");\n\n// EXTERNAL MODULE: ./src/api/user.js\nvar user = __webpack_require__("c24f");\n\n// EXTERNAL MODULE: ./src/store/mutation-types.js\nvar mutation_types = __webpack_require__("9fb0");\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js\nvar vuex_esm = __webpack_require__("2f62");\n\n// EXTERNAL MODULE: ./src/api/login.js + 1 modules\nvar login = __webpack_require__("7ded");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/PersonaInfo.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n // import country from \'@/api/country\'\n\n\n\n\n\n\n\n\nvar PersonaInfovue_type_script_lang_js_require = __webpack_require__("4fcf"),\n    PersonaInfovue_type_script_lang_js_debounce = PersonaInfovue_type_script_lang_js_require.debounce;\n\n/* harmony default export */ var PersonaInfovue_type_script_lang_js_ = ({\n  name: \'PersonaInfo\',\n  mixins: [UserModeMixin["a" /* UserModeMixin */], CurrentSchoolMixin["a" /* CurrentSchoolMixin */]],\n  components: {\n    FixedFormHeader: FixedFormHeader["a" /* default */],\n    FormHeader: FormHeader["a" /* default */],\n    SchoolStudentAdd: SchoolStudentAdd["a" /* default */],\n    AvatarModal: AvatarModal["a" /* default */],\n    ReferSchool: ReferSchool,\n    VNodes: {\n      functional: true,\n      render: function render(h, ctx) {\n        return ctx.props.vnodes;\n      }\n    }\n  },\n  data: function data() {\n    return {\n      USER_MODE: common["U" /* USER_MODE */],\n      SCHOOL_USER_STATUS: common["z" /* SCHOOL_USER_STATUS */],\n      ageOptions: [5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18],\n      genderOptions: [{\n        label: \'Male\',\n        value: \'0\'\n      }, {\n        label: \'Female\',\n        value: \'1\'\n      }, {\n        label: \'Other\',\n        value: \'-1\'\n      }],\n      country: [],\n      countryCode: countryCode["a" /* default */],\n      loading: false,\n      formModel: {\n        firstname: \'\',\n        lastname: \'\',\n        gender: \'\',\n        avatar: \'\',\n        email: \'\',\n        notes: \'\',\n        address: \'\',\n        age: 8,\n        city: undefined,\n        country: undefined,\n        school: undefined\n      },\n      formItemLayout: {\n        labelCol: {\n          span: 6\n        },\n        wrapperCol: {\n          span: 12\n        }\n      },\n      validatorRules: {\n        firstname: [{\n          required: true,\n          message: \'Please Input First Name!\'\n        }],\n        lastname: [{\n          required: true,\n          message: \'Please Input Last Name!\'\n        }],\n        country: [{\n          required: true,\n          message: \'Please Select country!\'\n        }],\n        city: [{\n          required: true,\n          message: \'Please Select city!\'\n        }]\n      },\n      fetching: false,\n      citys: [],\n      referSchoolVis: false,\n      searchText: \'\',\n      schoolOptions: [],\n      myCreateSchoolOptions: []\n    };\n  },\n  created: function created() {\n    this.debounceLoad = PersonaInfovue_type_script_lang_js_debounce(this.loadData, 300);\n    this.fetchCity = PersonaInfovue_type_script_lang_js_debounce(this.fetchCity, 300);\n    this.debouncedSearchSchool = PersonaInfovue_type_script_lang_js_debounce(this.searchSchool, 500);\n    this.initDict();\n    this.autoSwitch();\n  },\n  computed: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, Object(vuex_esm["e" /* mapState */])({\n    userMode: function userMode(state) {\n      return state.app.userMode;\n    },\n    currentRole: function currentRole(state) {\n      return state.user.currentRole;\n    },\n    currentSchool: function currentSchool(state) {\n      return state.user.currentSchool;\n    },\n    info: function info(state) {\n      return state.user.info;\n    }\n  })), {}, {\n    rolesName: function rolesName() {\n      var _this = this;\n\n      if (this.userMode === common["U" /* USER_MODE */].SCHOOL) {\n        return this.currentSchool.roleNames.map(function (item) {\n          return _this.upperCaseName(item);\n        });\n      } else {\n        return [this.upperCaseName(this.info.currentRole)];\n      }\n    },\n    linkedSchool: function linkedSchool() {\n      if (this.userMode === common["U" /* USER_MODE */].SELF) {\n        return this.info.schoolList.map(function (item) {\n          return item.schoolName;\n        });\n      } else {\n        return this.currentSchool.schoolName ? [this.currentSchool.schoolName] : [];\n      }\n    },\n    countryCodeFilter: function countryCodeFilter() {\n      var filter = [];\n\n      if (this.countryCode) {\n        filter = this.countryCode.filter(function (item) {\n          return !!item.phoneCountryCode;\n        }).map(function (item) {\n          return item.phoneCountryCode;\n        });\n        filter = Array.from(new Set(filter));\n      }\n\n      return filter;\n    },\n    ifShowCreate: function ifShowCreate() {\n      var _this2 = this;\n\n      var list = [].concat(Object(toConsumableArray["a" /* default */])(this.myCreateSchoolOptions), Object(toConsumableArray["a" /* default */])(this.schoolOptions));\n      var findOne = list.find(function (item) {\n        return item.name === _this2.searchText;\n      });\n      return this.searchText && !findOne;\n    }\n  }),\n  methods: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, Object(vuex_esm["d" /* mapMutations */])([mutation_types["M" /* TOOGLE_USER_MODE */]])), {}, {\n    goBack: function goBack() {\n      this.$router.go(-1);\n    },\n    handleSchoolChange: function handleSchoolChange(currentSchool) {\n      if (this.userMode === common["U" /* USER_MODE */].SCHOOL) {\n        this.queryParam.schoolId = currentSchool.id;\n        this.initDict();\n        this.autoSwitch();\n      }\n    },\n    handleModeChange: function handleModeChange(userMode) {\n      // 模式切换，个人还是学校 个人接口\n      this.autoSwitch();\n    },\n    autoSwitch: function autoSwitch() {\n      var _this3 = this;\n\n      if (this.userMode === common["U" /* USER_MODE */].SCHOOL) {\n        Object(user["c" /* SwitchUserModeSchool */])({\n          isPersonal: true,\n          schoolId: \'0\'\n        }).then(function (res) {\n          // 获取对应学校班级\n          _this3[mutation_types["M" /* TOOGLE_USER_MODE */]](common["U" /* USER_MODE */].SELF);\n\n          _this3.$store.dispatch(\'GetInfo\');\n\n          _this3.GetClassList(\'0\');\n\n          _this3.loadData();\n        });\n      } else {\n        this.loadData();\n      }\n    },\n    initDict: function initDict() {\n      var _this4 = this;\n\n      Object(country["b" /* getCountry */])().then(function (res) {\n        _this4.country = res;\n      });\n    },\n    loadData: function loadData() {\n      var _this5 = this;\n\n      if (this.info && this.info.id) {\n        this.formModel.id = this.info.id;\n        this.formModel.firstname = this.info.firstname;\n        this.formModel.lastname = this.info.lastname;\n        this.formModel.email = this.info.email;\n        this.formModel.notes = this.info.notes;\n        this.formModel.avatar = this.info.avatar;\n        this.formModel.gender = this.info.gender;\n        this.formModel.address = this.info.address;\n        this.formModel.country = this.info.country;\n        this.formModel.age = this.info.age;\n        this.formModel.city = this.info.city;\n        this.formModel.school = this.info.preference ? this.info.preference.school : undefined;\n\n        if (this.formModel.school === \'0\') {\n          this.formModel.school = undefined;\n        }\n\n        if (this.formModel.school) {\n          Object(api_school["c" /* queryById */])({\n            id: this.formModel.school\n          }).then(function (res) {\n            if (res.code === 0) {\n              _this5.schoolOptions = [Object(objectSpread2["a" /* default */])({}, res.result)];\n\n              var isFind = _this5.schoolOptions.find(function (item) {\n                return item.id === _this5.formModel.school;\n              });\n\n              if (!isFind) {\n                _this5.formModel.school = undefined;\n              }\n            }\n          });\n        }\n      }\n    },\n    filterOptions: function filterOptions(input, option) {\n      return option.componentOptions.children[0].text.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n    },\n    changeCountry: function changeCountry(val) {\n      this.formModel.city = undefined;\n      this.formModel.country = val;\n      this.citys = [];\n    },\n    fetchCity: function fetchCity(val) {\n      var _this6 = this;\n\n      var current = this.country.find(function (item) {\n        return item.en === _this6.formModel.country;\n      });\n\n      if (current && current.code) {\n        this.fetching = true;\n        Object(country["a" /* getCity */])({\n          country: current.code,\n          q: val\n        }).then(function (res) {\n          _this6.citys = res;\n        }).finally(function () {\n          _this6.fetching = false;\n        });\n      }\n    },\n    setAvatar: function setAvatar(url) {\n      var _this7 = this;\n\n      this.formModel.avatar = url;\n      var userData = {\n        avatar: this.formModel.avatar,\n        id: this.formModel.id\n      };\n      Object(user["e" /* editUser */])(userData).then(function (response) {\n        _this7.$logger.info(\'update preference and edit user response\', response);\n      }).finally(function () {\n        _this7.$store.dispatch(\'GetInfo\').then(function () {\n          _this7.loadData();\n        });\n      });\n    },\n    handleRefer: function handleRefer() {\n      this.$refs.referSchool.doCreate({\n        firstname: this.formModel.firstname,\n        lastname: this.formModel.lastname,\n        email: this.formModel.email\n      });\n    },\n    handleSearchSchool: function handleSearchSchool(value) {\n      this.searchText = value;\n      this.debouncedSearchSchool(value);\n    },\n    handleChange: function handleChange(schoolId) {\n      var list = [].concat(Object(toConsumableArray["a" /* default */])(this.myCreateSchoolOptions), Object(toConsumableArray["a" /* default */])(this.schoolOptions));\n      var findOne = list.find(function (item) {\n        return item.id === schoolId;\n      });\n\n      if (findOne && findOne.country) {\n        this.formModel.country = findOne.country;\n        this.changeCountry(findOne.country);\n      }\n    },\n    searchSchool: function searchSchool(value) {\n      var _this8 = this;\n\n      if (!value) return;\n      Object(api_school["b" /* getSchools */])({\n        // curriculumId: this.currentCurriculum.id,\n        name: value\n      }).then(function (res) {\n        if (res.success) {\n          _this8.schoolOptions = res.result || [];\n        } else {\n          _this8.schoolOptions = [];\n        }\n      });\n    },\n    createSchool: function createSchool() {\n      // 保存的时候在真正创建学校\n      var res = {\n        id: new Date().getTime(),\n        name: this.searchText\n      };\n      this.myCreateSchoolOptions.push(res);\n      this.formModel.school = res.id;\n      this.$refs.schoolRef.$el.click();\n    },\n    handleSave: function handleSave() {\n      var _this9 = this;\n\n      this.$refs.form.validate(function (valid) {\n        if (valid) {\n          // TODO\n          var school = _this9.myCreateSchoolOptions.find(function (item) {\n            return item.id === _this9.formModel.school;\n          });\n\n          var createdSchool = _this9.schoolOptions.find(function (item) {\n            return item.id === _this9.formModel.school;\n          });\n\n          if (school || createdSchool && api_school["a" /* createSchool */].country !== _this9.formModel.country) {\n            _this9.loading = true;\n            Object(api_school["a" /* createSchool */])({\n              name: (school || createdSchool).name,\n              country: _this9.formModel.country\n            }).then(function (res) {\n              if (res.success) {\n                if (school) {\n                  school.id = res.result.id;\n                }\n\n                if (createdSchool) {\n                  _this9.schoolOptions.push({\n                    id: res.result.id,\n                    name: res.result.name,\n                    country: _this9.formModel.country\n                  });\n                }\n\n                _this9.formModel.school = res.result.id;\n                Object(login["d" /* UpdatePersonalInfo */])(Object(objectSpread2["a" /* default */])({}, _this9.formModel)).then(function (res) {\n                  if (res.success) {\n                    _this9.$message.success(\'Update successfully\');\n\n                    _this9.$store.dispatch(\'GetInfo\');\n                  } else {\n                    _this9.$message.error(res.message);\n                  }\n                });\n              }\n            }).finally(function (res) {\n              _this9.loading = false;\n            });\n          } else {\n            _this9.loading = true;\n            Object(login["d" /* UpdatePersonalInfo */])(Object(objectSpread2["a" /* default */])({}, _this9.formModel)).then(function (res) {\n              if (res.success) {\n                _this9.$message.success(\'Update successfully\');\n\n                _this9.$store.dispatch(\'GetInfo\');\n              }\n            }).finally(function () {\n              _this9.loading = false;\n            });\n          }\n        }\n      });\n    },\n    upperCaseName: function upperCaseName(name) {\n      return name.substr(0, 1).toUpperCase() + name.substr(1);\n    }\n  })\n});\n// CONCATENATED MODULE: ./src/views/account/manage/PersonaInfo.vue?vue&type=script&lang=js&\n /* harmony default export */ var manage_PersonaInfovue_type_script_lang_js_ = (PersonaInfovue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/account/manage/PersonaInfo.vue?vue&type=style&index=0&id=07688f56&lang=less&scoped=true&\nvar PersonaInfovue_type_style_index_0_id_07688f56_lang_less_scoped_true_ = __webpack_require__("962c");\n\n// CONCATENATED MODULE: ./src/views/account/manage/PersonaInfo.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar PersonaInfo_component = Object(componentNormalizer["a" /* default */])(\n  manage_PersonaInfovue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  "07688f56",\n  null\n  \n)\n\n/* harmony default export */ var PersonaInfo = __webpack_exports__["default"] = (PersonaInfo_component.exports);\n\n//# sourceURL=webpack:///./src/views/account/manage/PersonaInfo.vue_+_9_modules?')},e0dd:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export quotationApiUrl */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return QuotationAddOrUpdate; });\n/* unused harmony export QuotationList */\n/* unused harmony export QuotationGetBySchoolId */\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("b775");\n\nvar API_PREFIX = \'quotation\';\nvar quotationApiUrl = {\n  QuotationList: "/classcipe/api/school/".concat(API_PREFIX, "/list"),\n  QuotationGetBySchoolId: "/classcipe/api/school/".concat(API_PREFIX, "/getBySchoolId"),\n  QuotationAddOrUpdate: "/classcipe/api/school/".concat(API_PREFIX, "/addOrUpdate")\n};\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction QuotationAddOrUpdate(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: quotationApiUrl.QuotationAddOrUpdate,\n    method: \'post\',\n    data: parameter,\n    params: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction QuotationList(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: quotationApiUrl.QuotationList,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction QuotationGetBySchoolId(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: quotationApiUrl.QuotationGetBySchoolId,\n    method: \'get\',\n    params: parameter\n  });\n}\n\n//# sourceURL=webpack:///./src/api/quotation.js?')},ec09:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export schoolUserApi */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "m", function() { return getSchoolUsers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return addStudents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return addTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "t", function() { return removeStudents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "u", function() { return removeTeachers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "l", function() { return getInvite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "y", function() { return updateInvite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "A", function() { return updateTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return bulkActTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return bulkActStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return acceptInvite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return batchAddStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return batchAddTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "n", function() { return getStudentInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "p", function() { return getTeacherInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return checkEmailParent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "j", function() { return checkEmailStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "k", function() { return checkEmailTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "v", function() { return resetPassword; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "r", function() { return moveClassStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "z", function() { return updateStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "x", function() { return sendParentEmail; });\n/* unused harmony export addAdmin */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "s", function() { return removeAdmins; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "w", function() { return resetUserPassword; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return addSchoolAdmin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "o", function() { return getTeacherCount; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "q", function() { return listStudents; });\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("b775");\n/* harmony import */ var _utils_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("ca00");\n\n\nvar API_PREFIX = \'api2/school/user\';\nvar schoolUserApi = {\n  getSchoolUsers: "/classcipe/".concat(API_PREFIX, "/getSchoolUsers"),\n  addStudents: "/classcipe/".concat(API_PREFIX, "/addStudents"),\n  addTeacher: "/classcipe/".concat(API_PREFIX, "/addTeacher"),\n  removeStudents: "/classcipe/".concat(API_PREFIX, "/removeStudents"),\n  removeTeachers: "/classcipe/".concat(API_PREFIX, "/removeTeachers"),\n  updateTeacher: "/classcipe/".concat(API_PREFIX, "/updateTeacher"),\n  getInvite: "/classcipe/".concat(API_PREFIX, "/getInvite"),\n  updateInvite: "/classcipe/".concat(API_PREFIX, "/updateInvite"),\n  bulkActTeacher: "/classcipe/".concat(API_PREFIX, "/teacher/bulkAct"),\n  bulkActStudent: "/classcipe/".concat(API_PREFIX, "/student/bulkAct"),\n  acceptInvite: "/classcipe/".concat(API_PREFIX, "/acceptInvite"),\n  batchAddStudent: "/classcipe/".concat(API_PREFIX, "/batchAddStudent"),\n  batchAddTeacher: "/classcipe/".concat(API_PREFIX, "/batchAddTeacher"),\n  getStudentInfo: "/classcipe/".concat(API_PREFIX, "/getStudentInfo"),\n  getTeacherInfo: "/classcipe/".concat(API_PREFIX, "/getTeacherInfo"),\n  checkEmailParent: "/classcipe/".concat(API_PREFIX, "/parent/checkEmail"),\n  resetPassword: "/classcipe/".concat(API_PREFIX, "/resetPassword"),\n  checkEmailStudent: "/classcipe/".concat(API_PREFIX, "/student/checkEmail"),\n  moveClassStudent: "/classcipe/".concat(API_PREFIX, "/student/moveClass"),\n  sendParentEmail: "/classcipe/".concat(API_PREFIX, "/student/sendParentEmail"),\n  checkEmailTeacher: "/classcipe/".concat(API_PREFIX, "/teacher/checkEmail"),\n  updateStudent: "/classcipe/".concat(API_PREFIX, "/updateStudent"),\n  addAdmin: "/classcipe/".concat(API_PREFIX, "/addAdmin"),\n  removeAdmins: "/classcipe/".concat(API_PREFIX, "/removeAdmins"),\n  resetUserPassword: "/classcipe/".concat(API_PREFIX, "/user/resetPassword"),\n  addSchoolAdmin: "/classcipe/".concat(API_PREFIX, "/addSchoolAdmin"),\n  getTeacherCount: "/classcipe/".concat(API_PREFIX, "/getTeacherCount"),\n  listStudents: "/classcipe/".concat(API_PREFIX, "/list/students")\n};\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getSchoolUsers(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getSchoolUsers,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction addStudents(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.addStudents,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction addTeacher(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.addTeacher,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction removeStudents(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.removeStudents,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction removeTeachers(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.removeTeachers,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getInvite(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getInvite,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction updateInvite(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.updateInvite,\n    method: \'post\',\n    data: parameter,\n    params: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction updateTeacher(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.updateTeacher,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction bulkActTeacher(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.bulkActTeacher,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction bulkActStudent(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.bulkActStudent,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction acceptInvite(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.acceptInvite,\n    method: \'post\',\n    data: parameter,\n    params: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction batchAddStudent(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.batchAddStudent,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction batchAddTeacher(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.batchAddTeacher,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getStudentInfo(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getStudentInfo,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getTeacherInfo(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getTeacherInfo,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction checkEmailParent(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.checkEmailParent,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction checkEmailStudent(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.checkEmailStudent,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction checkEmailTeacher(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.checkEmailTeacher,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction resetPassword(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.resetPassword,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction moveClassStudent(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.moveClassStudent,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction updateStudent(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.updateStudent,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction sendParentEmail(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.sendParentEmail,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction addAdmin(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.addAdmin,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction removeAdmins(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.removeAdmins,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction resetUserPassword(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.resetUserPassword,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction addSchoolAdmin(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.addSchoolAdmin,\n    method: \'post\',\n    data: parameter,\n    params: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getTeacherCount(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getTeacherCount,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction listStudents(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.listStudents,\n    method: \'get\',\n    params: parameter\n  });\n}\n\n//# sourceURL=webpack:///./src/api/v2/schoolUser.js?')},f371:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"ac86b5fa-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/persona/ResetPassword.vue?vue&type=template&id=f6bcd576&scoped=true&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'a-form-model\',_vm._b({ref:"form",attrs:{"layout":"horizontal","model":_vm.formModel,"rules":_vm.validatorRules}},\'a-form-model\',_vm.formItemLayout,false),[(_vm.needOld)?_c(\'a-form-model-item\',{attrs:{"label":"Old Password","prop":"password"}},[_c(\'a-input-password\',{attrs:{"autocomplete":"off","required":true,"type":"password","placeholder":"input password"},model:{value:(_vm.formModel.password),callback:function ($$v) {_vm.$set(_vm.formModel, "password", $$v)},expression:"formModel.password"}})],1):_vm._e(),_c(\'a-form-model-item\',{attrs:{"label":"New Password","prop":"newPassword"}},[_c(\'a-input-password\',{attrs:{"autocomplete":"off","type":"password","placeholder":"input password"},model:{value:(_vm.formModel.newPassword),callback:function ($$v) {_vm.$set(_vm.formModel, "newPassword", $$v)},expression:"formModel.newPassword"}})],1),_c(\'a-form-model-item\',{attrs:{"label":"Confirm Password","prop":"confirmPassword"}},[_c(\'a-input-password\',{attrs:{"autocomplete":"off","type":"password","placeholder":"input password"},model:{value:(_vm.formModel.confirmPassword),callback:function ($$v) {_vm.$set(_vm.formModel, "confirmPassword", $$v)},expression:"formModel.confirmPassword"}})],1),_c(\'a-form-model-item\',{attrs:{"wrapperCol":{offset: 6, span: 12},"label":""}},[_c(\'a-button\',{attrs:{"loading":_vm.loading,"type":"primary"},on:{"click":_vm.handleSave}},[_vm._v("update")])],1)],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/manage/persona/ResetPassword.vue?vue&type=template&id=f6bcd576&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__("d3b7");\n\n// EXTERNAL MODULE: ./src/api/login.js + 1 modules\nvar login = __webpack_require__("7ded");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/persona/ResetPassword.vue?vue&type=script&lang=js&\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var ResetPasswordvue_type_script_lang_js_ = ({\n  name: \'ResetPassword\',\n  props: {\n    needOld: {\n      type: Boolean,\n      default: true\n    },\n    saveFn: {\n      type: Function,\n      default: null\n    }\n  },\n  data: function data() {\n    var _this = this;\n\n    var reg = /^(?=.*[a-zA-Z])(?=.*[0-9])[^]{8,}$/;\n\n    var validateRemote = function validateRemote(rule, value, callback) {\n      if (!value) {\n        return callback(new Error(\'Please input the password\'));\n      } else {\n        // 调用封装了的异步效验方法，\n        Object(login["b" /* CheckPassword */])({\n          password: value\n        }).then(function (response) {\n          if (response.result !== \'Success\') {\n            callback(new Error(\'Incorrect password\'));\n          } else {\n            callback();\n          }\n        });\n      }\n    };\n\n    var validatePass = function validatePass(rule, value, callback) {\n      if (value === \'\') {\n        callback(new Error(\'Please input the password\'));\n      } else if (!reg.test(value)) {\n        callback(new Error(\'The password must be a combination of letters and numbers, and it must be 8 characters or more.\'));\n      } else {\n        if (_this.formModel.confirmPassword !== \'\') {\n          _this.$refs.form.validateField(\'confirmPassword\');\n        }\n\n        callback();\n      }\n    };\n\n    var validatePassConfirm = function validatePassConfirm(rule, value, callback) {\n      if (value === \'\') {\n        callback(new Error(\'Please input the password again\'));\n      } else if (value !== _this.formModel.newPassword) {\n        callback(new Error(\'Passwords did not match!\'));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      formModel: {\n        password: \'\',\n        newPassword: \'\',\n        confirmPassword: \'\'\n      },\n      formItemLayout: {\n        labelCol: {\n          span: 6\n        },\n        wrapperCol: {\n          span: 18\n        }\n      },\n      validatorRules: {\n        password: [{\n          required: true,\n          trigger: \'change\',\n          message: \'Please input the password\'\n        }, {\n          validator: validateRemote,\n          trigger: \'blur\'\n        }],\n        newPassword: [{\n          validator: validatePass,\n          trigger: \'change\'\n        }],\n        confirmPassword: [{\n          validator: validatePassConfirm,\n          trigger: \'change\'\n        }]\n      },\n      loading: false\n    };\n  },\n  methods: {\n    handleSave: function handleSave() {\n      var _this2 = this;\n\n      this.$refs.form.validate(function (valid) {\n        if (valid) {\n          _this2.loading = true;\n\n          if (_this2.saveFn) {\n            _this2.saveFn({\n              newPassword: _this2.formModel.newPassword,\n              oldPassword: _this2.formModel.password\n            }).then(function (res) {\n              if (res.code === 0) {\n                _this2.$message.success(\'Update password successfully\'); // this.$emit(\'close\')\n\n              }\n            }).finally(function () {\n              _this2.loading = false;\n            });\n          } else {\n            Object(login["a" /* ChangePassword */])({\n              newPassword: _this2.formModel.newPassword,\n              oldPassword: _this2.formModel.password\n            }).then(function (res) {\n              if (res.code === 0) {\n                _this2.$message.success(\'Update password successfully\'); // this.$emit(\'close\')\n\n              }\n            }).finally(function () {\n              _this2.loading = false;\n            });\n          }\n        }\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/manage/persona/ResetPassword.vue?vue&type=script&lang=js&\n /* harmony default export */ var persona_ResetPasswordvue_type_script_lang_js_ = (ResetPasswordvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("0c7c");\n\n// CONCATENATED MODULE: ./src/views/account/manage/persona/ResetPassword.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["a" /* default */])(\n  persona_ResetPasswordvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  "f6bcd576",\n  null\n  \n)\n\n/* harmony default export */ var ResetPassword = __webpack_exports__["a"] = (component.exports);\n\n//# sourceURL=webpack:///./src/views/account/manage/persona/ResetPassword.vue_+_4_modules?')},f431:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolStudentAdd_vue_vue_type_style_index_0_id_cd01e55c_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("1ed6");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolStudentAdd_vue_vue_type_style_index_0_id_cd01e55c_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolStudentAdd_vue_vue_type_style_index_0_id_cd01e55c_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolUser/SchoolStudentAdd.vue?')}}]);