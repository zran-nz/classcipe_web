(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22a017be","chunk-a7e2690c","chunk-0e404c98","chunk-40d307be"],{"023b":function(e,t,n){},"05be":function(e,t,n){var i=n("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"27.223",height:"28",viewBox:"0 0 27.223 28"},children:[{tag:"path",attrsMap:{id:"pubu_","data-name":"pubu ",class:"cls-1",d:"M17422.268,9413v-7.046h6.957V9413Zm-9.953,0v-7.046h7.268V9413Zm-10.312,0v-7.046h6.953V9413Zm20.266-10.41v-7.231h6.957v7.231Zm-9.953,0v-7.231h7.268v7.231Zm-10.312,0v-7.231h6.953v7.231Zm20.266-10.638V9385h6.957v6.952Zm-9.953,0V9385h7.268v6.952Zm-10.312,0V9385h6.953v6.952Z",transform:"translate(-17402.002 -9385.001)"}}]})}},"05c1":function(e,t,n){},"076d":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{closable:!1,footer:null,maskClosable:!1,"dialog-style":{top:"50px"},destroyOnClose:"",width:"1200px"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("modal-header",{attrs:{title:"Please select a Unit this session belongs to","allow-close":!1}}),n("div",{staticClass:"content"},[n("div",{staticClass:"data-list"},e._l(e.list,(function(t){return n("div",{key:t.id,staticClass:"data-content-item",class:{"active-item":t===e.selected,unselect:e.calculateCantSelect(t)},on:{click:function(n){return e.handleSelect(t)}}},[n("content-item",{attrs:{"show-button":!1,"click-preview":!1,"show-edit":!1,"border-style":e.selected===t?"solid":"dashed",content:t}}),n("div",{staticClass:"inComTip"},[e.calculateCantSelect(t)?n("a-tooltip",{attrs:{title:"Incompleted content"}},[n("a-icon",{staticStyle:{"font-size":"16px","font-weight":"bold",color:"#ef4136"},attrs:{type:"exclamation"}})],1):e._e()],1)],1)})),0),n("div",{staticClass:"preview-item"},[e.selected?n("div",{staticClass:"preview-wrap"},[e.previewLoading?e._e():n("content-preview-detail",{attrs:{contentId:e.selected.id,contentType:e.selected.type}})],1):n("div",{staticClass:"empty-tips"},[n("no-more-resources",{attrs:{tips:"No content selected"}})],1)])]),n("div",{staticClass:"modal-action-right"},[n("a-button",{on:{click:e.handleBack}},[e._v("Back")]),n("a-space",[n("a-button",{on:{click:e.handleSkip}},[e._v("Skip")]),!e.selected||e.calculateCantSelect(e.selected)?n("a-tooltip",{attrs:{title:"No completed content selected"}},[n("a-button",{attrs:{disabled:!0,type:"primary"}},[e._v("Next")])],1):n("a-button",{attrs:{type:"primary"},on:{click:e.handleConfirmSelect}},[e._v("Next")])],1)],1)],1)},a=[],r=n("60427"),s=n("49a2"),o=n("70fe"),l={name:"SelectSessionUnit",components:{ContentPreviewDetail:o["default"],ContentItem:s["a"],ModalHeader:r["a"]},props:{list:{type:Array,required:!0}},data:function(){return{visible:!0,selected:null,previewCurrentId:null,previewType:null,previewVisible:!1,previewLoading:!0}},created:function(){this.list.length&&(this.selected=this.list[0],this.handleSelect(this.selected))},methods:{handleBack:function(){this.$emit("back")},handleSelect:function(e){this.$logger.info("handleSelect",e),this.selected=e,this.handlePreviewDetail(e)},handlePreviewDetail:function(e){var t=this;this.$logger.info("handlePreviewDetail",e,"allowPreview",this.allowPreview),this.previewVisible=!1,this.$nextTick((function(){t.previewCurrentId=e.id,t.previewType=e.type,t.previewVisible=!0,t.previewLoading=!0,setTimeout((function(){t.previewLoading=!1}),300)}))},handlePreviewClose:function(){this.$logger.info("handlePreviewClose"),this.previewVisible=!1,this.previewCurrentId=null,this.previewType=null},handleConfirmSelect:function(){this.$emit("select",this.selected)},handleSkip:function(){this.$emit("select",{id:""})},calculateCantSelect:function(e){return!e||!e.canPublish||e.slideEditing}}},c=l,d=(n("2578"),n("0c7c")),u=Object(d["a"])(c,i,a,!1,null,"8e44fb9e",null);t["a"]=u.exports},"07d3":function(e,t,n){"use strict";n("aad3")},"0da5":function(e,t,n){"use strict";n("c0be")},"0f1d":function(e,t,n){"use strict";n("4830")},"0fa0":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relevant-tag-selector-wrapper"},[n("div",{staticClass:"question-list"},e._l(e.relevantQuestionList,(function(t,i){return n("div",{key:i,staticClass:"question-item"},[t.questionId?n("div",{class:{question:!0,"checked-item":-1!==e.selectedQuestionIdList.indexOf(t.questionId)},on:{click:function(n){return e.handleSelectQuestion(t)}}},[n("div",{staticClass:"content-text"},[e._v(" "+e._s(t.questionName?t.questionName:"Unnamed question")+" ")]),n("div",{staticClass:"selected-icon"},[-1!==e.selectedQuestionIdList.indexOf(t.questionId)?n("a-icon",{attrs:{type:"check-circle",theme:"filled"}}):e._e()],1)]):e._e(),n("div",{staticClass:"item-list"},e._l(t.knowledgeTagList,(function(t,i){return n("div",{key:i,class:{"item-item":!0,"checked-item":-1!==e.selectedKnowledgeTagIdList.indexOf(t.id)},on:{click:function(n){return e.handleSelectKnowledge(t)}}},[n("div",{staticClass:"item-name"},[n("div",{staticClass:"content-text"},[e._v(" "+e._s(t.info.description?t.info.description:"Unnamed description")+" ")]),n("div",{staticClass:"selected-icon"},[-1!==e.selectedKnowledgeTagIdList.indexOf(t.id)?n("a-icon",{attrs:{type:"check-circle",theme:"filled"}}):e._e()],1)])])})),0),n("div",{staticClass:"item-list"},e._l(t.skillTagList,(function(t,i){return n("div",{key:i,class:{"item-item":!0,"checked-item":-1!==e.selectedSkillTagIdList.indexOf(t.id)},on:{click:function(n){return e.handleSelectSkill(t)}}},[n("div",{staticClass:"item-name"},[n("div",{staticClass:"content-text"},[e._v(" "+e._s(t.info.description?t.info.description:"Unnamed description")+" ")]),n("div",{staticClass:"selected-icon"},[-1!==e.selectedSkillTagIdList.indexOf(t.id)?n("a-icon",{attrs:{type:"check-circle",theme:"filled"}}):e._e()],1)])])})),0)])})),0)])},a=[],r=(n("c740"),n("a434"),n("159b"),n("99af"),{name:"RelevantTagSelector",props:{relevantQuestionList:{type:Array,default:function(){return[]}}},data:function(){return{selectedQuestionIdList:[],selectedQuestionList:[],selectedKnowledgeTagList:[],selectedKnowledgeTagIdList:[],selectedSkillTagList:[],selectedSkillTagIdList:[]}},created:function(){this.$logger.info("RelevantTagSelector relevantQuestionList",this.relevantQuestionList)},methods:{handleSelectQuestion:function(e){var t=this;this.$logger.info("handleSelectQuestion",e);var n=this.selectedQuestionIdList.indexOf(e.questionId),i=this.selectedQuestionList.findIndex((function(t){return t.questionId===e.questionId}));-1!==n&&-1!==i?(this.selectedQuestionIdList.splice(n,1),this.selectedQuestionList.splice(i,1),e.knowledgeTagList.forEach((function(e){var n=t.selectedKnowledgeTagIdList.findIndex((function(t){return t===e.id})),i=t.selectedKnowledgeTagList.findIndex((function(t){return t.info.id===e.id}));-1!==n&&-1!==i&&(t.selectedKnowledgeTagIdList.splice(n,1),t.selectedKnowledgeTagList.splice(i,1))})),e.skillTagList.forEach((function(e){var n=t.selectedSkillTagIdList.findIndex((function(t){return t===e.id})),i=t.selectedSkillTagList.findIndex((function(t){return t.info.id===e.id}));-1!==n&&-1!==i&&(t.selectedSkillTagIdList.splice(n,1),t.selectedSkillTagList.splice(i,1))}))):(this.selectedQuestionIdList.push(e.questionId),this.selectedQuestionList.push(e)),this.updateSelected()},handleSelectKnowledge:function(e){this.$logger.info("handleSelectKnowledge",e);var t=this.selectedKnowledgeTagIdList.findIndex((function(t){return t===e.id})),n=this.selectedKnowledgeTagList.findIndex((function(t){return t.info.id===e.id}));-1!==t&&-1!==n?(this.selectedKnowledgeTagIdList.splice(t,1),this.selectedKnowledgeTagList.splice(n,1)):(this.selectedKnowledgeTagIdList.push(e.id),this.selectedKnowledgeTagList.push(e)),this.updateSelected()},handleSelectSkill:function(e){this.$logger.info("handleSelectSkill",e);var t=this.selectedSkillTagIdList.findIndex((function(t){return t===e.id})),n=this.selectedSkillTagList.findIndex((function(t){return t.id===e.id}));-1!==t&&-1!==n?(this.selectedSkillTagIdList.splice(t,1),this.selectedSkillTagList.splice(n,1)):(this.selectedSkillTagIdList.push(e.id),this.selectedSkillTagList.push(e)),this.updateSelected()},updateSelected:function(){var e=this;this.$logger.info("updateSelected",this.selectedQuestionList,this.selectedKnowledgeTagIdList,this.selectedSkillTagIdList);var t=[];this.selectedQuestionList.forEach((function(n){var i={id:n.questionId,name:n.questionName,knowledgeTags:[],skillTags:[]};n.knowledgeTagList.forEach((function(t){-1!==e.selectedKnowledgeTagIdList.indexOf(t.info.id)&&(i.knowledgeTags=i.knowledgeTags.concat(t.tagList))})),n.skillTagList.forEach((function(t){-1!==e.selectedSkillTagIdList.indexOf(t.info.id)&&(i.skillTags=i.skillTags.concat(t.tagList))})),t.push(i)})),this.$logger.info("updateSelected data",t),this.$emit("update-selected",{questionList:t})}}}),s=r,o=(n("e76a"),n("0c7c")),l=Object(o["a"])(s,i,a,!1,null,"5235376e",null);t["a"]=l.exports},"104d":function(e,t,n){"use strict";n.d(t,"a",(function(){return fe}));var i=n("22b4"),a=n("7fae"),r=n("3a56"),s=n("8918"),o=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(a["a"])(t,e),t.type="dataZoom.inside",t.defaultOption=Object(s["d"])(r["a"].defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(r["a"]),l=o,c=n("7dcf"),d=n("ef6a"),u=n("6fd3"),p=n("607d"),h=n("a4fe"),f=n("6d8b"),v=function(e){function t(t){var n=e.call(this)||this;n._zr=t;var i=Object(f["c"])(n._mousedownHandler,n),a=Object(f["c"])(n._mousemoveHandler,n),r=Object(f["c"])(n._mouseupHandler,n),s=Object(f["c"])(n._mousewheelHandler,n),o=Object(f["c"])(n._pinchHandler,n);return n.enable=function(e,n){this.disable(),this._opt=Object(f["i"])(Object(f["d"])(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",i),t.on("mousemove",a),t.on("mouseup",r)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",s),t.on("pinch",o))},n.disable=function(){t.off("mousedown",i),t.off("mousemove",a),t.off("mouseup",r),t.off("mousewheel",s),t.off("pinch",o)},n}return Object(a["a"])(t,e),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(p["d"](e)||e.target&&e.target.draggable)){var t=e.offsetX,n=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,n)&&(this._x=t,this._y=n,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&y("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!h["a"](this._zr,"globalPan")){var t=e.offsetX,n=e.offsetY,i=this._x,a=this._y,r=t-i,s=n-a;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&p["g"](e.event),g(this,"pan","moveOnMouseMove",e,{dx:r,dy:s,oldX:i,oldY:a,newX:t,newY:n,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){p["d"](e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var t=y("zoomOnMouseWheel",e,this._opt),n=y("moveOnMouseWheel",e,this._opt),i=e.wheelDelta,a=Math.abs(i),r=e.offsetX,s=e.offsetY;if(0!==i&&(t||n)){if(t){var o=a>3?1.4:a>1?1.2:1.1,l=i>0?o:1/o;m(this,"zoom","zoomOnMouseWheel",e,{scale:l,originX:r,originY:s,isAvailableBehavior:null})}if(n){var c=Math.abs(i),d=(i>0?1:-1)*(c>3?.4:c>1?.15:.05);m(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:d,originX:r,originY:s,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){if(!h["a"](this._zr,"globalPan")){var t=e.pinchScale>1?1.1:1/1.1;m(this,"zoom",null,e,{scale:t,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},t}(u["a"]);function m(e,t,n,i,a){e.pointerChecker&&e.pointerChecker(i,a.originX,a.originY)&&(p["g"](i.event),g(e,t,n,i,a))}function g(e,t,n,i,a){a.isAvailableBehavior=Object(f["c"])(y,null,n,i),e.trigger(t,a)}function y(e,t,n){var i=n[e];return!e||i&&(!Object(f["A"])(i)||t.event[i+"Key"])}var b=v,w=n("88b3"),C=n("e0d3"),S=n("50e5"),k=Object(C["m"])();function _(e,t,n){k(e).coordSysRecordMap.each((function(e){var i=e.dataZoomInfoMap.get(t.uid);i&&(i.getRange=n)}))}function T(e,t){for(var n=k(e).coordSysRecordMap,i=n.keys(),a=0;a<i.length;a++){var r=i[a],s=n.get(r),o=s.dataZoomInfoMap;if(o){var l=t.uid,c=o.get(l);c&&(o.removeKey(l),o.keys().length||x(n,s))}}}function x(e,t){if(t){e.removeKey(t.model.uid);var n=t.controller;n&&n.dispose()}}function D(e,t){var n={model:t,containsPoint:Object(f["h"])(O,t),dispatchAction:Object(f["h"])(E,e),dataZoomInfoMap:null,controller:null},i=n.controller=new b(e.getZr());return Object(f["k"])(["pan","zoom","scrollMove"],(function(e){i.on(e,(function(t){var i=[];n.dataZoomInfoMap.each((function(a){if(t.isAvailableBehavior(a.model.option)){var r=(a.getRange||{})[e],s=r&&r(a.dzReferCoordSysInfo,n.model.mainType,n.controller,t);!a.model.get("disabled",!0)&&s&&i.push({dataZoomId:a.model.id,start:s[0],end:s[1]})}})),i.length&&n.dispatchAction(i)}))})),n}function E(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function O(e,t,n,i){return e.coordinateSystem.containPoint([n,i])}function I(e){var t,n="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},a=!0;return e.each((function(e){var r=e.model,s=!r.get("disabled",!0)&&(!r.get("zoomLock",!0)||"move");i[n+s]>i[n+t]&&(t=s),a=a&&r.get("preventDefaultMouseMove",!0)})),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!a}}}function M(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,(function(e,t){var n=k(t),i=n.coordSysRecordMap||(n.coordSysRecordMap=Object(f["f"])());i.each((function(e){e.dataZoomInfoMap=null})),e.eachComponent({mainType:"dataZoom",subType:"inside"},(function(e){var n=Object(S["b"])(e);Object(f["k"])(n.infoList,(function(n){var a=n.model.uid,r=i.get(a)||i.set(a,D(t,n.model)),s=r.dataZoomInfoMap||(r.dataZoomInfoMap=Object(f["f"])());s.set(e.uid,{dzReferCoordSysInfo:n,model:e,getRange:null})}))})),i.each((function(e){var t,n=e.controller,a=e.dataZoomInfoMap;if(a){var r=a.keys()[0];null!=r&&(t=a.get(r))}if(t){var s=I(a);n.enable(s.controlType,s.opt),n.setPointerChecker(e.containsPoint),w["b"](e,"dispatchAction",t.model.get("throttle",!0),"fixRate")}else x(i,e)}))}))}var L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return Object(a["a"])(t,e),t.prototype.render=function(t,n,i){e.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),_(i,t,{pan:Object(f["c"])(R.pan,this),zoom:Object(f["c"])(R.zoom,this),scrollMove:Object(f["c"])(R.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){T(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(c["a"]),R={zoom:function(e,t,n,i){var a=this.range,r=a.slice(),s=e.axisModels[0];if(s){var o=j[t](null,[i.originX,i.originY],s,n,e),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(r[1]-r[0])+r[0],c=Math.max(1/i.scale,0);r[0]=(r[0]-l)*c+l,r[1]=(r[1]-l)*c+l;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Object(d["a"])(0,r,[0,100],0,u.minSpan,u.maxSpan),this.range=r,a[0]!==r[0]||a[1]!==r[1]?r:void 0}},pan:A((function(e,t,n,i,a,r){var s=j[i]([r.oldX,r.oldY],[r.newX,r.newY],t,a,n);return s.signal*(e[1]-e[0])*s.pixel/s.pixelLength})),scrollMove:A((function(e,t,n,i,a,r){var s=j[i]([0,0],[r.scrollDelta,r.scrollDelta],t,a,n);return s.signal*(e[1]-e[0])*r.scrollDelta}))};function A(e){return function(t,n,i,a){var r=this.range,s=r.slice(),o=t.axisModels[0];if(o){var l=e(s,o,t,n,i,a);return Object(d["a"])(l,s,[0,100],"all"),this.range=s,r[0]!==s[0]||r[1]!==s[1]?s:void 0}}}var j={grid:function(e,t,n,i,a){var r=n.axis,s={},o=a.model.coordinateSystem.getRect();return e=e||[0,0],"x"===r.dim?(s.pixel=t[0]-e[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=r.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=r.inverse?-1:1),s},polar:function(e,t,n,i,a){var r=n.axis,s={},o=a.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),c=o.getAngleAxis().getExtent();return e=e?o.pointToCoord(e):[0,0],t=o.pointToCoord(t),"radiusAxis"===n.mainType?(s.pixel=t[0]-e[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=r.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=c[1]-c[0],s.pixelStart=c[0],s.signal=r.inverse?-1:1),s},singleAxis:function(e,t,n,i,a){var r=n.axis,s=a.model.coordinateSystem.getRect(),o={};return e=e||[0,0],"horizontal"===r.orient?(o.pixel=t[0]-e[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=r.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=r.inverse?-1:1),o}},P=L,N=n("1459");function B(e){Object(N["a"])(e),e.registerComponentModel(l),e.registerComponentView(P),M(e)}var H=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(a["a"])(t,e),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Object(s["d"])(r["a"].defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(r["a"]),F=H,V=n("c7a2"),U=n("2dc5"),z=n("87b1"),Y=n("d498"),W=n("76a5"),G=n("2306"),q=n("dce8"),$=n("3842"),Z=n("f934"),K=n("7d6c"),Q=n("a15a"),X=n("7837"),J=V["a"],ee=7,te=1,ne=30,ie=7,ae="horizontal",re="vertical",se=5,oe=["line","bar","candlestick","scatter"],le={easing:"cubicOut",duration:100,delay:0},ce=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._displayables={},n}return Object(a["a"])(t,e),t.prototype.init=function(e,t){this.api=t,this._onBrush=Object(f["c"])(this._onBrush,this),this._onBrushEnd=Object(f["c"])(this._onBrushEnd,this)},t.prototype.render=function(t,n,i,a){if(e.prototype.render.apply(this,arguments),w["b"](this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show")){if(t.noTarget())return this._clear(),void this.group.removeAll();a&&"dataZoom"===a.type&&a.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){w["a"](this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var t=this._displayables.sliderGroup=new U["a"];this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,t=this.api,n=e.get("brushSelect"),i=n?ie:0,a=this._findCoordRect(),r={width:t.getWidth(),height:t.getHeight()},s=this._orient===ae?{right:r.width-a.x-a.width,top:r.height-ne-ee-i,width:a.width,height:ne}:{right:ee,top:a.y,width:ne,height:a.height},o=Z["c"](e.option);Object(f["k"])(["right","top","width","height"],(function(e){"ph"===o[e]&&(o[e]=s[e])}));var l=Z["d"](o,r);this._location={x:l.x,y:l.y},this._size=[l.width,l.height],this._orient===re&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,t=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),a=i&&i.get("inverse"),r=this._displayables.sliderGroup,s=(this._dataShadowInfo||{}).otherAxisInverse;r.attr(n!==ae||a?n===ae&&a?{scaleY:s?1:-1,scaleX:-1}:n!==re||a?{scaleY:s?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:s?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:s?1:-1,scaleX:1});var o=e.getBoundingRect([r]);e.x=t.x-o.x,e.y=t.y-o.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,t=this._size,n=this._displayables.sliderGroup,i=e.get("brushSelect");n.add(new J({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var a=new J({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:Object(f["c"])(this._onClickPanel,this)}),r=this.api.getZr();i?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",r.on("mousemove",this._onBrush),r.on("mouseup",this._onBrushEnd)):(r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)),n.add(a)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var t=this._size,n=this._shadowSize||[],i=e.series,a=i.getRawData(),r=i.getShadowDim?i.getShadowDim():e.otherDim;if(null!=r){var s=this._shadowPolygonPts,o=this._shadowPolylinePts;if(a!==this._shadowData||r!==this._shadowDim||t[0]!==n[0]||t[1]!==n[1]){var l=a.getDataExtent(r),c=.3*(l[1]-l[0]);l=[l[0]-c,l[1]+c];var d,u=[0,t[1]],p=[0,t[0]],h=[[t[0],0],[0,0]],f=[],v=p[1]/(a.count()-1),m=0,g=Math.round(a.count()/t[0]);a.each([r],(function(e,t){if(g>0&&t%g)m+=v;else{var n=null==e||isNaN(e)||""===e,i=n?0:Object($["j"])(e,l,u,!0);n&&!d&&t?(h.push([h[h.length-1][0],0]),f.push([f[f.length-1][0],0])):!n&&d&&(h.push([m,0]),f.push([m,0])),h.push([m,i]),f.push([m,i]),m+=v,d=n}})),s=this._shadowPolygonPts=h,o=this._shadowPolylinePts=f}this._shadowData=a,this._shadowDim=r,this._shadowSize=[t[0],t[1]];for(var y=this.dataZoomModel,b=0;b<3;b++){var w=C(1===b);this._displayables.sliderGroup.add(w),this._displayables.dataShadowSegs.push(w)}}}function C(e){var t=y.getModel(e?"selectedDataBackground":"dataBackground"),n=new U["a"],i=new z["a"]({shape:{points:s},segmentIgnoreThreshold:1,style:t.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),a=new Y["a"]({shape:{points:o},segmentIgnoreThreshold:1,style:t.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return n.add(i),n.add(a),n}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var n,i=this.ecModel;return e.eachTargetAxis((function(a,r){var s=e.getAxisProxy(a,r).getTargetSeriesModels();Object(f["k"])(s,(function(e){if(!n&&!(!0!==t&&Object(f["q"])(oe,e.get("type"))<0)){var s,o=i.getComponent(Object(S["d"])(a),r).axis,l=de(a),c=e.coordinateSystem;null!=l&&c.getOtherAxis&&(s=c.getOtherAxis(o).inverse),l=e.getData().mapDimension(l),n={thisAxis:o,series:e,thisDim:a,otherDim:l,otherAxisInverse:s}}}),this)}),this),n}},t.prototype._renderHandle=function(){var e=this.group,t=this._displayables,n=t.handles=[null,null],i=t.handleLabels=[null,null],a=this._displayables.sliderGroup,r=this._size,s=this.dataZoomModel,o=this.api,l=s.get("borderRadius")||0,c=s.get("brushSelect"),d=t.filler=new J({silent:c,style:{fill:s.get("fillerColor")},textConfig:{position:"inside"}});a.add(d),a.add(new J({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:r[0],height:r[1],r:l},style:{stroke:s.get("dataBackgroundColor")||s.get("borderColor"),lineWidth:te,fill:"rgba(0,0,0,0)"}})),Object(f["k"])([0,1],(function(t){var r=s.get("handleIcon");!Q["d"][r]&&r.indexOf("path://")<0&&r.indexOf("image://")<0&&(r="path://"+r);var o=Object(Q["a"])(r,-1,0,2,2,null,!0);o.attr({cursor:ue(this._orient),draggable:!0,drift:Object(f["c"])(this._onDragMove,this,t),ondragend:Object(f["c"])(this._onDragEnd,this),onmouseover:Object(f["c"])(this._showDataInfo,this,!0),onmouseout:Object(f["c"])(this._showDataInfo,this,!1),z2:5});var l=o.getBoundingRect(),c=s.get("handleSize");this._handleHeight=Object($["n"])(c,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,o.setStyle(s.getModel("handleStyle").getItemStyle()),o.style.strokeNoScale=!0,o.rectHover=!0,o.ensureState("emphasis").style=s.getModel(["emphasis","handleStyle"]).getItemStyle(),Object(K["m"])(o);var d=s.get("handleColor");null!=d&&(o.style.fill=d),a.add(n[t]=o);var u=s.getModel("textStyle");e.add(i[t]=new W["a"]({silent:!0,invisible:!0,style:Object(X["a"])(u,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:u.getTextColor(),font:u.getFont()}),z2:10}))}),this);var u=d;if(c){var p=Object($["n"])(s.get("moveHandleSize"),r[1]),h=t.moveHandle=new V["a"]({style:s.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:r[1]-.5,height:p}}),v=.8*p,m=t.moveHandleIcon=Object(Q["a"])(s.get("moveHandleIcon"),-v/2,-v/2,v,v,"#fff",!0);m.silent=!0,m.y=r[1]+p/2-.5,h.ensureState("emphasis").style=s.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var g=Math.min(r[1]/2,Math.max(p,10));u=t.moveZone=new V["a"]({invisible:!0,shape:{y:r[1]-g,height:p+g}}),u.on("mouseover",(function(){o.enterEmphasis(h)})).on("mouseout",(function(){o.leaveEmphasis(h)})),a.add(h),a.add(m),a.add(u)}u.attr({draggable:!0,cursor:ue(this._orient),drift:Object(f["c"])(this._onDragMove,this,"all"),ondragstart:Object(f["c"])(this._showDataInfo,this,!0),ondragend:Object(f["c"])(this._onDragEnd,this),onmouseover:Object(f["c"])(this._showDataInfo,this,!0),onmouseout:Object(f["c"])(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[Object($["j"])(e[0],[0,100],t,!0),Object($["j"])(e[1],[0,100],t,!0)]},t.prototype._updateInterval=function(e,t){var n=this.dataZoomModel,i=this._handleEnds,a=this._getViewExtent(),r=n.findRepresentativeAxisProxy().getMinMaxSpan(),s=[0,100];Object(d["a"])(t,i,a,n.get("zoomLock")?"all":e,null!=r.minSpan?Object($["j"])(r.minSpan,s,a,!0):null,null!=r.maxSpan?Object($["j"])(r.maxSpan,s,a,!0):null);var o=this._range,l=this._range=Object($["b"])([Object($["j"])(i[0],a,s,!0),Object($["j"])(i[1],a,s,!0)]);return!o||o[0]!==l[0]||o[1]!==l[1]},t.prototype._updateView=function(e){var t=this._displayables,n=this._handleEnds,i=Object($["b"])(n.slice()),a=this._size;Object(f["k"])([0,1],(function(e){var i=t.handles[e],r=this._handleHeight;i.attr({scaleX:r/2,scaleY:r/2,x:n[e]+(e?-1:1),y:a[1]/2-r/2})}),this),t.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:a[1]});var r={x:i[0],width:i[1]-i[0]};t.moveHandle&&(t.moveHandle.setShape(r),t.moveZone.setShape(r),t.moveZone.getBoundingRect(),t.moveHandleIcon&&t.moveHandleIcon.attr("x",r.x+r.width/2));for(var s=t.dataShadowSegs,o=[0,i[0],i[1],a[0]],l=0;l<s.length;l++){var c=s[l],d=c.getClipPath();d||(d=new V["a"],c.setClipPath(d)),d.setShape({x:o[l],y:0,width:o[l+1]-o[l],height:a[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var t=this.dataZoomModel,n=this._displayables,i=n.handleLabels,a=this._orient,r=["",""];if(t.get("showDetail")){var s=t.findRepresentativeAxisProxy();if(s){var o=s.getAxisModel().axis,l=this._range,c=e?s.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:s.getDataValueWindow();r=[this._formatLabel(c[0],o),this._formatLabel(c[1],o)]}}var d=Object($["b"])(this._handleEnds.slice());function u(e){var t=G["getTransform"](n.handles[e].parent,this.group),s=G["transformDirection"](0===e?"right":"left",t),o=this._handleWidth/2+se,l=G["applyTransform"]([d[e]+(0===e?-o:o),this._size[1]/2],t);i[e].setStyle({x:l[0],y:l[1],verticalAlign:a===ae?"middle":s,align:a===ae?s:"center",text:r[e]})}u.call(this,0),u.call(this,1)},t.prototype._formatLabel=function(e,t){var n=this.dataZoomModel,i=n.get("labelFormatter"),a=n.get("labelPrecision");null!=a&&"auto"!==a||(a=t.getPixelPrecision());var r=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(a,20));return Object(f["v"])(i)?i(e,r):Object(f["A"])(i)?i.replace("{value}",r):r},t.prototype._showDataInfo=function(e){e=this._dragging||e;var t=this._displayables,n=t.handleLabels;n[0].attr("invisible",!e),n[1].attr("invisible",!e),t.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](t.moveHandle,1)},t.prototype._onDragMove=function(e,t,n,i){this._dragging=!0,p["g"](i.event);var a=this._displayables.sliderGroup.getLocalTransform(),r=G["applyTransform"]([t,n],a,!0),s=this._updateInterval(e,r[0]),o=this.dataZoomModel.get("realtime");this._updateView(!o),s&&o&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var e=this.dataZoomModel.get("realtime");!e&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var t=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(n[0]<0||n[0]>t[0]||n[1]<0||n[1]>t[1])){var i=this._handleEnds,a=(i[0]+i[1])/2,r=this._updateInterval("all",n[0]-a);this._updateView(),r&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){var t=e.offsetX,n=e.offsetY;this._brushStart=new q["a"](t,n),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var t=this._displayables.brushRect;if(this._brushing=!1,t){t.attr("ignore",!0);var n=t.shape,i=+new Date;if(!(i-this._brushStartTime<200&&Math.abs(n.width)<5)){var a=this._getViewExtent(),r=[0,100];this._range=Object($["b"])([Object($["j"])(n.x,a,r,!0),Object($["j"])(n.x+n.width,a,r,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(p["g"](e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,t){var n=this._displayables,i=this.dataZoomModel,a=n.brushRect;a||(a=n.brushRect=new J({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(a)),a.attr("ignore",!1);var r=this._brushStart,s=this._displayables.sliderGroup,o=s.transformCoordToLocal(e,t),l=s.transformCoordToLocal(r.x,r.y),c=this._size;o[0]=Math.max(Math.min(c[0],o[0]),0),a.setShape({x:l[0],y:0,width:o[0]-l[0],height:c[1]})},t.prototype._dispatchZoomAction=function(e){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?le:null,start:t[0],end:t[1]})},t.prototype._findCoordRect=function(){var e,t=Object(S["b"])(this.dataZoomModel).infoList;if(!e&&t.length){var n=t[0].model.coordinateSystem;e=n.getRect&&n.getRect()}if(!e){var i=this.api.getWidth(),a=this.api.getHeight();e={x:.2*i,y:.2*a,width:.6*i,height:.6*a}}return e},t.type="dataZoom.slider",t}(c["a"]);function de(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function ue(e){return"vertical"===e?"ns-resize":"ew-resize"}var pe=ce;function he(e){e.registerComponentModel(F),e.registerComponentView(pe),Object(N["a"])(e)}function fe(e){Object(i["a"])(B),Object(i["a"])(he)}},1054:function(e,t,n){var i=n("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19"},children:[{tag:"g",attrsMap:{transform:"translate(0.5 0.5)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:rgba(228,228,228,0.2);stroke:#888996;",d:"M9,0A9,9,0,1,1,0,9,9,9,0,0,1,9,0Z"}},{tag:"path",attrsMap:{class:"b",style:"fill:#888996;",d:"M24.47,24.8V21.78h3.016a.5.5,0,0,0,0-1.005H24.47V17.759a.5.5,0,0,0-1.005,0v3.016H20.449a.5.5,0,0,0,0,1.005h3.016V24.8a.5.5,0,0,0,1.005.044q0-.022,0-.044Z",transform:"translate(-14.966 -12.299)"}}]}]})}},1077:function(e,t,n){var i=n("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1649489113509",class:"icon",viewBox:"0 0 1049 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2299","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"204.8828125",height:"200"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M498.572908 914.311043 136.915348 914.311043c-13.711277 0-26.391441-4.56833-35.716719-12.868783-4.677728-4.162172-12.519211-13.064946-12.519211-25.906064L88.679418 233.106795c0-12.833574 7.841482-21.737605 12.519211-25.897262 9.326535-8.302968 22.005442-12.87004 35.716719-12.87004l205.567298 0L342.482646 105.661332 124.340809 105.661332c-32.390754 0-63.044964 11.416424-86.321692 32.130461C13.501282 159.622449 0 189.006631 0 220.532257l0 667.578478c0 31.534428 13.501282 60.917352 38.019117 82.741721 23.276728 20.720325 53.930938 32.129203 86.314147 32.129203l434.183726 0C534.790094 980.983761 514.506106 942.74459 498.572908 914.311043L498.572908 914.311043zM498.572908 914.311043","p-id":"2300",fill:"#2c2c2c"}},{tag:"path",attrsMap:{d:"M897.337931 207.209533c4.677728 4.160915 12.520468 13.063688 12.520468 25.897262l0 241.393416c27.487941 10.736141 65.641606 25.273565 88.678161 42.964683L998.536559 220.538544c0-31.525626-13.508827-60.914837-38.026662-82.739206-23.269184-20.721582-53.923394-32.130461-86.314147-32.130461L646.926056 105.668877l0 88.670616 214.696413 0C875.333746 194.339493 888.013911 198.907823 897.337931 207.209533L897.337931 207.209533zM897.337931 207.209533","p-id":"2301",fill:"#2c2c2c"}},{tag:"path",attrsMap:{d:"M789.258515 359.675813l-64.738754-64.733724L540.434804 479.001896 540.434804 34.339807C540.434804 15.384948 525.056143 0 506.100027 0l-22.89069 0c-18.954859 0-34.33855 15.384948-34.33855 34.339807l0 425.156465L284.705157 295.329384l-67.003429 67.004686 278.62411 278.61908 0 0","p-id":"2302",fill:"#2c2c2c"}},{tag:"path",attrsMap:{d:"M803.458941 533.592998c-135.430295 0-245.203501 109.750572-245.203501 245.202244 0 135.416463 109.773206 245.204759 245.203501 245.204759 135.415205 0 245.203501-109.788296 245.203501-245.204759C1048.662442 643.34357 938.874147 533.592998 803.458941 533.592998L803.458941 533.592998 803.458941 533.592998zM956.254674 718.593381 784.663778 884.059218c-2.294853 2.294853-4.851257 4.069121-7.603823 5.407052-10.77135 7.664181-25.859538 6.703486-35.518042-2.953759l-73.693083-73.711945c-10.775122-10.775122-10.775122-28.237384 0-38.993644 10.775122-10.816618 28.236126-10.816618 39.009991 0l55.314138 55.295276 155.069209-149.501203c10.75626-10.795241 28.234869-10.795241 39.011248 0C967.024766 690.355997 967.024766 707.834606 956.254674 718.593381L956.254674 718.593381 956.254674 718.593381zM956.254674 718.593381","p-id":"2303",fill:"#2c2c2c"}}]})}},1138:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"rubric",on:{click:e.handleUpdateHeader}},[i("table",{staticClass:"rubric-table"},[i("thead",[e.mode===this.tableMode.Edit?i("draggable",{staticClass:"table-header",attrs:{tag:"tr",disabled:e.disabledDraggable},on:{end:e.handleDragEnd},model:{value:e.headers,callback:function(t){e.headers=t},expression:"headers"}},e._l(e.headers,(function(t,a){return t.visible?i("th",{key:t.type,class:{"header-item":!0,"preview-mode":e.mode===e.tableMode.Preview,"min-header-width":-1!==[e.headerType.AchievementLevel].indexOf(t.type),"criteria-header-width":-1!==[e.headerType.Criteria].indexOf(t.type),"medium-header-width":-1!==[e.headerType.Description].indexOf(t.type)&&e.formType!==e.tableType.Rubric},attrs:{"data-header":JSON.stringify(t),"data-header-type":t.type,"data-header-mode":e.mode}},[i("div",{staticClass:"label-text",on:{click:function(n){return n.stopPropagation(),e.handleEditHeader(t)}}},[i("span",{staticClass:"header-label"},[e._v(e._s(t.label))])]),t.editing?[i("div",{staticClass:"label-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"header.label"}],staticClass:"header-input-item",domProps:{value:t.label},on:{click:function(e){e.stopPropagation()},blur:e.handleUpdateHeader,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleUpdateHeader.apply(null,arguments)},input:function(n){n.target.composing||e.$set(t,"label",n.target.value)}}})])]:e._e(),[i("div",{staticClass:"add-header-item"},[i("a-tooltip",{attrs:{title:"Add new level"}},[i("a-icon",{attrs:{type:"plus-circle"},on:{click:function(t){return e.handleAddNewHeader(a)}}})],1)],1)],t.type.startsWith(e.headerType.UserDefine)?i("div",{staticClass:"remove-header"},[i("a-popconfirm",{staticClass:"rubric-delete-popconfirm",attrs:{title:"Remove Header ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(n){return e.handleRemoveHeader(t)}}},[i("template",{slot:"icon"},[i("div",{staticClass:"rubric-big-delete"},[i("img",{staticClass:"big-delete-icon",attrs:{src:n("dfe9")}})])]),i("img",{staticClass:"link-icon",attrs:{src:n("4165")}})],2)],1):e._e()],2):e._e()})),0):e._e(),e.mode!==this.tableMode.Edit?i("tr",{staticClass:"table-header"},e._l(e.headers,(function(t){return t.visible?i("th",{key:t.type,class:{"header-item":!0,"preview-mode":e.mode===e.tableMode.Preview},attrs:{"data-header":JSON.stringify(t),"data-header-type":t.type,"data-header-mode":e.mode}},[i("div",{staticClass:"label-text"},[i("span",{staticClass:"header-label"},[e._v(e._s(t.label))])])]):e._e()})),0):e._e()],1),i("tbody",{staticClass:"table-body"},e._l(e.list,(function(t,a){return i("tr",{directives:[{name:"show",rawName:"v-show",value:!(t.hasOwnProperty("isSelectedIBLine")&&t.isSelectedIBLine&&e.$store.getters.hiddenIbCurriculumId),expression:"!(item.hasOwnProperty('isSelectedIBLine') && item.isSelectedIBLine && $store.getters.hiddenIbCurriculumId)"}],key:a,staticClass:"body-line",attrs:{"data-row-id":t.rowId}},[e._l(e.headers,(function(r,s){return r.visible?i("td",{key:a+"-"+r.type,class:{"body-item":!0,"big-body-item":e.formType===e.tableType.CenturySkills&&r.type===e.headerType.Description},attrs:{"data-index":s,"data-row-id":t.rowId,"data-header-type":r.type},on:{click:function(n){return e.handleClickBodyItem(t,r)}}},[t.hasOwnProperty(r.type)?[r.type===e.headerType.Criteria?[e.formType===e.tableType.CenturySkills?[t[e.headerType.Criteria]&&t[e.headerType.Criteria].name?[i("div",{staticClass:"data-item criteria-data",on:{dblclick:function(n){return n.stopPropagation(),e.handleAddCriteria(r,t,n)}}},[i("div",{staticClass:"criteria-name"},[e._v(" "+e._s(t[e.headerType.Criteria].userInputText?t[e.headerType.Criteria].userInputText:t[e.headerType.Criteria].name)+" ")]),e.mode===e.tableMode.Edit?i("span",{staticClass:"edit-description",on:{click:function(n){return n.stopPropagation(),e.handleClickEnterCriteria(r,t)}}},[e._v(" Please enter explanation for students to understand ")]):e._e()])]:[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.tableMode.Edit,expression:"mode === tableMode.Edit"}],staticClass:"data-item add-criteria",on:{click:function(n){return n.stopPropagation(),e.handleAddCriteria(r,t,n)}}},[i("add-opacity-icon"),i("div",{staticClass:"add-text"},[e._v("Click to choose the objectives")])],1)]]:e._e(),e.formType===e.tableType.Rubric?[t[e.headerType.Criteria].isSelfInput||t[e.headerType.Criteria].name?t[e.headerType.Criteria].isSelfInput&&e.mode===e.tableMode.Edit?[i("div",{staticClass:"add-criteria-input",on:{click:function(e){e.stopPropagation()}}},[i("a-textarea",{staticClass:"my-text-input",staticStyle:{height:"100%"},attrs:{placeholder:"Enter"},model:{value:t[e.headerType.Criteria].name,callback:function(n){e.$set(t[e.headerType.Criteria],"name",n)},expression:"item[headerType.Criteria].name"}})],1)]:[i("div",{staticClass:"data-item criteria-data",on:{dblclick:function(n){return e.handleAddCriteria(r,t,n)}}},[i("div",{staticClass:"criteria-name"},[e._v(" "+e._s(t[e.headerType.Criteria].name)+" ")])])]:[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.tableMode.Edit,expression:"mode === tableMode.Edit"}],staticClass:"data-item add-criteria-option",attrs:{"data-is-self-input":t[e.headerType.Criteria].isSelfInput},on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"create-option-select",on:{click:function(n){return e.handleAddCriteria(r,t,n)}}},[i("add-opacity-icon"),i("div",{staticClass:"add-text"},[e._v("Click to choose the objectives")])],1),i("div",{staticClass:"create-option-input",on:{click:function(n){return e.handleInputIBCriteria(r,t,n)}}},[i("a-icon",{style:{fontSize:"18px"},attrs:{type:"edit"}}),i("div",{staticClass:"add-text"},[e._v("Enter customized content")])],1)])]]:e._e(),e.formType===e.tableType.Rubric_2?[i("div",{staticClass:"data-item criteria-data"},[i("div",{staticClass:"criteria-name"},[e._v(" "+e._s(t[e.headerType.Criteria].name)+" ")])])]:e._e()]:e._e(),r.type===e.headerType.Description?[e.formType===e.tableType.Rubric_2?[t[e.headerType.Description]&&t[e.headerType.Description].name?[i("div",{staticClass:"data-item criteria-data",on:{dblclick:function(n){return e.handleAddCriteria(r,t,n)}}},[i("div",{staticClass:"criteria-name"},[e._v(" "+e._s(t[e.headerType.Description].name)+" ")])])]:[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.tableMode.Edit,expression:"mode === tableMode.Edit"}],staticClass:"data-item add-criteria",on:{click:function(n){return e.handleAddCriteria(r,t,n)}}},[i("add-opacity-icon"),i("div",{staticClass:"add-text"},[e._v("Click to choose the objectives")])],1)]]:e._e(),e.formType===e.tableType.CenturySkills?[t[e.headerType.Description]&&t[e.headerType.Description].name?[i("div",{staticClass:"data-item criteria-data"},[i("div",{staticClass:"criteria-name my-century-criteria",on:{dblclick:function(n){return e.handleAddCriteria(r,t,n)}}},[i("div",{staticClass:"criteria-left-name-list"},e._l(t[e.headerType.Description].parentNameList,(function(t,n){return i("div",{key:n,class:{"criteria-left-name-item":!0,"first-left-name":0===n,"no-first-name":n>0}},[e._v(" "+e._s(t)+" ")])})),0),i("div",{staticClass:"criteria-right-description"},[i("div",{staticClass:"description-name"},[e._v(" "+e._s(t[e.headerType.Description].userInputText?t[e.headerType.Description].userInputText:t[e.headerType.Description].name)+" ")]),e.mode===e.tableMode.Edit&&e.$store.getters.bindCurriculum!==e.AllCurriculums.AU&&e.$store.getters.bindCurriculum!==e.AllCurriculums.NZ?i("span",{staticClass:"edit-description",on:{click:function(n){return n.stopPropagation(),e.handleClickEnterCriteriaDescription(r,t)}}},[e._v(" Please enter explanation for students to understand ")]):e._e()])])])]:[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.tableMode.Edit,expression:"mode === tableMode.Edit"}],staticClass:"data-item add-criteria",on:{click:function(n){return e.handleAddCriteria(r,t,n)}}},[i("add-opacity-icon"),i("div",{staticClass:"add-text"},[e._v("Click to choose the objectives")])],1)]]:e._e()]:e._e()]:e._e(),e.mode===e.tableMode.Edit?[r.type===e.headerType.Comment?[i("div",{staticClass:"comment-indicator-input"},[i("a-textarea",{staticClass:"my-text-input",staticStyle:{height:"100%"},attrs:{placeholder:""},on:{blur:function(n){return e.handleUpdateField(r,t)}},model:{value:t[e.headerType.Comment].name,callback:function(n){e.$set(t[e.headerType.Comment],"name",n)},expression:"item[headerType.Comment].name"}})],1)]:e._e(),r.type.startsWith(e.headerType.UserDefine)?[i("div",{staticClass:"user-define-indicator-input"},[i("a-textarea",{staticClass:"my-text-input",staticStyle:{height:"100%"},attrs:{placeholder:"Enter"},on:{blur:function(n){return e.handleUpdateField(r,t)}},model:{value:t[r.type].name,callback:function(n){e.$set(t[r.type],"name",n)},expression:"item[header.type].name"}})],1)]:e._e()]:e._e(),r.type===e.headerType.AchievementLevel?[i("div",{staticClass:"sub-level-data",attrs:{data:JSON.stringify(e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId])}},[i("div",{staticClass:"sub-level-list",attrs:{"data-mode":e.mode},on:{click:function(e){e.stopPropagation()}}},[e.mode===e.tableMode.Edit||e.mode===e.tableMode.TeacherEvaluate?e._l(t[e.headerType.AchievementLevel].subLevelDescription,(function(a,s){return i("div",{key:s,staticClass:"sub-level-item"},[e.mode===e.tableMode.Edit?[i("div",{staticClass:"start-index",on:{click:function(t){return t.stopPropagation(),e.handleSwitchModeTips.apply(null,arguments)}}},[i("div",{staticClass:"select-block"},[i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}})],1),e._v(" "+e._s(a.startIndex)+" ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:null!==a.endIndex,expression:"subLevel.endIndex !== null"}],staticClass:"end-index",on:{click:function(t){return t.stopPropagation(),e.handleSwitchModeTips.apply(null,arguments)}}},[i("div",{staticClass:"select-block"},[i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}})],1),e._v(" "+e._s(a.endIndex)+" ")])]:e._e(),e.mode===e.tableMode.TeacherEvaluate?[i("div",{staticClass:"start-index"},[i("div",{staticClass:"select-block",on:{click:function(n){return n.stopPropagation(),e.handleClickSubLevelItem(t,r,a.startIndex)}}},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].data===a.startIndex?i("img",{attrs:{src:n("7aa6")}}):i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}})],1),e._v(" "+e._s(a.startIndex)+" ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:null!==a.endIndex,expression:"subLevel.endIndex !== null"}],staticClass:"end-index",on:{click:function(n){return n.stopPropagation(),e.handleClickSubLevelItem(t,r,a.endIndex)}}},[i("div",{staticClass:"select-block"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].data===a.endIndex?i("img",{attrs:{src:n("7aa6")}}):i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}})],1),e._v(" "+e._s(a.endIndex)+" ")])]:e._e()],2)})):e._e(),e.mode===e.tableMode.StudentEvaluate?[e._l(t[e.headerType.AchievementLevel].subLevelDescription,(function(a,r){return e.formBodyData&&e.formBodyData[t.rowId]&&null!==e.formBodyData[t.rowId].data?i("div",{key:r,staticClass:"sub-level-item"},[i("div",{staticClass:"start-index"},[i("div",{staticClass:"select-block"},[e.formBodyData[t.rowId].data===a.startIndex?i("img",{attrs:{src:n("7aa6")}}):e._e()]),e.formBodyData[t.rowId].data===a.startIndex?[e._v(" "+e._s(a.startIndex)+" ")]:e._e()],2),i("div",{directives:[{name:"show",rawName:"v-show",value:null!==a.endIndex,expression:"subLevel.endIndex !== null"}],staticClass:"end-index"},[i("div",{staticClass:"select-block"},[e.formBodyData[t.rowId].data===a.endIndex?i("img",{attrs:{src:n("7aa6")}}):e._e()]),e.formBodyData[t.rowId].data===a.endIndex?[e._v(e._s(a.endIndex))]:e._e()],2)]):e._e()})),e.formBodyData&&e.formBodyData[t.rowId]&&null===e.formBodyData[t.rowId].data?i("div",{staticClass:"no-level-data"},[e._v(" The teacher has not graded you yet. ")]):e._e()]:e._e()],2)]),r.type!==e.headerType.AchievementLevel&&r.type!==e.headerType.LevelDescriptor&&r.type!==e.headerType.Indicators?i("div",{staticClass:"selected-icon"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].teacherEvaluation===r.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("teacher-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].studentEvaluation===r.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("student-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].peerEvaluation===r.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.PeerEvaluate)?i("peer-icon"):e._e()],1):e._e()]:e._e(),r.type===e.headerType.LevelDescriptor?[i("div",{staticClass:"sub-level-data",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"sub-level-desc"},[t[e.headerType.AchievementLevel].isSelfInput&&e.mode===e.tableMode.Edit?e._e():e._l(t[e.headerType.AchievementLevel].subLevelDescription,(function(t,n){return i("div",{key:n,staticClass:"sub-level-desc-item"},[i("a-tooltip",{attrs:{placement:"topLeft",mouseEnterDelay:1}},[i("template",{slot:"title"},[e._v(" "+e._s(t.description)+" ")]),e._v(" "+e._s(t.description)+" "),t.description&&e.mode===e.tableMode.TeacherEvaluate?i("a-tooltip",{attrs:{placement:"top",title:"Add to comment"}},[i("a-icon",{staticClass:"my-copy-item-icon",style:{color:"#999"},attrs:{type:"copy"},on:{click:function(n){return e.handleUseClicked(t.description)}}})],1):e._e()],2)],1)})),t[e.headerType.AchievementLevel].isSelfInput&&e.mode===e.tableMode.Edit?e._l(t[e.headerType.AchievementLevel].subLevelDescription,(function(t,n){return i("div",{key:n,staticClass:"sub-level-desc-input-item"},[i("a-input",{staticClass:"my-desc-input",model:{value:t.description,callback:function(n){e.$set(t,"description",n)},expression:"subLevel.description"}})],1)})):e._e()],2)]),i("div",{staticClass:"selected-icon"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].teacherEvaluation===r.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("teacher-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].studentEvaluation===r.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("student-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].peerEvaluation===r.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.PeerEvaluate)?i("peer-icon"):e._e()],1)]:e._e(),r.type===e.headerType.Indicators&&e.mode===e.tableMode.Edit?[i("div",{staticClass:"sub-level-data",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"sub-level-indicator"},e._l(t[e.headerType.Indicators].subLevelIndicators,(function(t,n){return i("div",{key:n,staticClass:"sub-level-indicator-item"},[i("a-input",{staticClass:"my-indicator-input",model:{value:t.indicator,callback:function(n){e.$set(t,"indicator",n)},expression:"subIndicator.indicator"}})],1)})),0)]),i("div",{staticClass:"selected-icon"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].teacherEvaluation===r.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("teacher-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].studentEvaluation===r.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("student-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].peerEvaluation===r.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.PeerEvaluate)?i("peer-icon"):e._e()],1)]:e._e(),e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate||e.mode===e.tableMode.PeerEvaluate?[r.type===e.headerType.Indicators?[i("div",{staticClass:"sub-level-data",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"sub-level-indicator"},e._l(t[e.headerType.Indicators].subLevelIndicators,(function(t,n){return i("div",{key:n,staticClass:"sub-level-indicator-item"},[i("div",{staticClass:"my-indicator-text"},[e._v(" "+e._s(t&&t.indicator?t.indicator:"")+" "),t&&t.indicator&&e.mode===e.tableMode.TeacherEvaluate?i("a-tooltip",{attrs:{placement:"top",title:"Add to comment"}},[i("a-icon",{staticClass:"my-copy-item-icon",style:{color:"#999"},attrs:{type:"copy"},on:{click:function(n){return e.handleUseClicked(t.indicator)}}})],1):e._e()],1)])})),0)]),i("div",{staticClass:"selected-icon"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].teacherEvaluation===r.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("teacher-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].studentEvaluation===r.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("student-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].peerEvaluation===r.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.PeerEvaluate)?i("peer-icon"):e._e()],1)]:e._e(),r.type===e.headerType.Comment?[i("div",{staticClass:"comment-indicator-input"},[i("a-textarea",{staticClass:"my-text-input",staticStyle:{height:"100%"},attrs:{placeholder:""},on:{blur:function(n){return e.handleUpdateField(r,t)}},model:{value:t[e.headerType.Comment].name,callback:function(n){e.$set(t[e.headerType.Comment],"name",n)},expression:"item[headerType.Comment].name"}})],1)]:e._e(),r.type.startsWith(e.headerType.UserDefine)?[i("div",{staticClass:"indicator-data"},[e._v(" "+e._s(t[r.type].name)+" ")]),i("div",{staticClass:"selected-icon"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].teacherEvaluation===r.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("teacher-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].studentEvaluation===r.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("student-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].peerEvaluation===r.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.PeerEvaluate)?i("peer-icon"):e._e()],1)]:e._e()]:e._e(),r.type!==e.headerType.Evidence||e.mode!==e.tableMode.TeacherEvaluate&&e.mode!==e.tableMode.StudentEvaluate&&e.mode!==e.tableMode.PeerEvaluate?e._e():[i("div",{staticClass:"evidence-data"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].evidenceIdList?[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate,expression:"mode === tableMode.TeacherEvaluate || mode === tableMode.StudentEvaluate"}],class:{"evidence-info":!0,"exist-evidence":t[e.headerType.Evidence].num},on:{click:function(n){return e.handleAddEvidenceLine(a,t,n)}}},[i("add-icon",{directives:[{name:"show",rawName:"v-show",value:!e.formBodyData[t.rowId].evidenceIdList.length,expression:"!formBodyData[item.rowId].evidenceIdList.length"}]}),i("add-small-green-icon",{directives:[{name:"show",rawName:"v-show",value:e.formBodyData[t.rowId].evidenceIdList.length,expression:"formBodyData[item.rowId].evidenceIdList.length"}]}),i("div",{staticClass:"evidence-num"},[e._v("( "+e._s(e.formBodyData[t.rowId].evidenceIdList.length?e.formBodyData[t.rowId].evidenceIdList.length:0)+" ) ")])],1)]:e._e()],2)]],2):e._e()})),e.mode===e.tableMode.Edit?[i("div",{staticClass:"add-more-header"},[i("a-popconfirm",{staticClass:"rubric-delete-popconfirm",attrs:{title:"Delete this line ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(n){return e.handleDeleteLine(t)}}},[i("template",{slot:"icon"},[i("div",{staticClass:"rubric-big-delete"},[i("img",{staticClass:"big-delete-icon",attrs:{src:n("dfe9")}})])]),i("img",{staticClass:"delete-row",attrs:{src:n("4165")}})],2)],1)]:e._e()],2)})),0)]),e.mode===e.tableMode.Edit?i("div",{staticClass:"add-new-line",on:{click:e.handleAddNewLine}},[i("div",{staticClass:"add-new-line-item"},[i("add-green-icon")],1)]):e._e(),i("a-modal",{attrs:{destroyOnClose:"",width:"1200px","dialog-style":{top:"20px"},footer:null},on:{ok:e.handleEnsureSelectCriteria},model:{value:e.selectCurriculumVisible,callback:function(t){e.selectCurriculumVisible=t},expression:"selectCurriculumVisible"}},[i("div",{staticClass:"associate-library"},[i("new-browser",{attrs:{"select-mode":e.selectModel.evaluationMode,"show-menu":e.showMenuList,"default-active-menu":e.defaultActiveMenu,"question-index":"evaluation_"},on:{"select-all-21-century":e.handleSelectAll21CenturyListData,"select-curriculum":e.handleSelectCurriculumListData,"select-subject-specific-skill":e.handleSelectSubjectSpecificSkillListData,"select-century-skill":e.handleSelect21CenturySkillListData,"select-assessmentType":e.handleSelectAssessmentType,"select-idu":e.handleSelectIdu,"ensure-select":e.handleEnsureSelectCriteria}})],1)]),i("a-modal",{attrs:{footer:null,maskClosable:!1,closable:!1,width:"700px",destroyOnClose:""},model:{value:e.inputDescriptionVisible,callback:function(t){e.inputDescriptionVisible=t},expression:"inputDescriptionVisible"}},[i("modal-header",{on:{close:function(t){e.inputDescriptionVisible=!1}}}),i("div",{staticClass:"rubric-modal"},[i("div",{staticClass:"rubric-header"},[i("div",{staticClass:"my-modal-header"},[e._v(" The specific description you entered will be shown to students instead of the curriculum description ")])]),i("div",{staticClass:"description-text"},[e.currentEnterDescriptionLine?i("div",{staticClass:"old-description"},[e._v(" "+e._s(e.currentEnterDescriptionLine[e.headerType.Description].name)+" ")]):e._e(),e.currentEnterCriteriaLine?i("div",{staticClass:"old-description"},[e._v(" "+e._s(e.currentEnterCriteriaLine[e.headerType.Criteria].name)+" ")]):e._e()]),i("div",{staticClass:"description-input"},[i("a-textarea",{attrs:{placeholder:"Enter task specific description",autoSize:{minRows:3,maxRows:6}},on:{blur:e.handleUpdateDescription},model:{value:e.inputDescription,callback:function(t){e.inputDescription=t},expression:"inputDescription"}})],1),i("div",{staticClass:"select-rubric-action"},[i("a-button",{staticClass:"my-rubric-btn",staticStyle:{width:"80px","background-color":"#F5F5F5","border-color":"#F5F5F5","box-shadow":"none",color:"#000000"},attrs:{shape:"round",type:"primary"},on:{click:e.handleCancelDescription}},[e._v("Cancel ")]),i("a-button",{staticClass:"my-rubric-btn",staticStyle:{width:"80px"},attrs:{shape:"round",type:"primary"},on:{click:e.handleEnsureDescription}},[e._v("Confirm ")])],1)])],1)],1)},a=[],r=(n("a9e3"),n("159b"),n("a434"),n("c740"),n("99af"),n("b0c0"),n("4de4"),n("2ca0"),n("a4d3"),n("e01a"),n("ac1f"),n("1276"),n("a02e")),s=n("489c"),o=n("f93e"),l=n("b76a"),c=n.n(l),d=n("3264"),u=n("ab44"),p=n("7849"),h=n("90e8"),f={Criteria:"criteria",AchievementLevel:"achievementLevel",LevelDescriptor:"levelDescriptor",Description:"description",Indicators:"indicators",Comment:"comment",Evidence:"evidence",Novice:"novice",Learner:"learner",Practitoner:"practitoner",Expert:"expert",UserDefine:"user_define_"},v=f,m=n("60f8"),g=n.n(m),y=n("9c2c"),b=n.n(y),w=n("d6ea"),C=n.n(w),S=n("1054"),k=n.n(S),_=n("da06"),T=n.n(_),x=n("60427"),D=n("5d88"),E=n.n(D),O=n("519d"),I=n.n(O),M=n("a615f"),L=n.n(M),R={name:"EvaluationTable",components:{AddIcon:g.a,AddSmallGreenIcon:b.a,AddOpacityIcon:k.a,AddGreenIcon:C.a,QuestionIcon:T.a,ModalHeader:x["a"],draggable:c.a,NewBrowser:d["a"],StudentIcon:I.a,PeerIcon:E.a,TeacherIcon:L.a},props:{initRawData:{type:Array,default:function(){return[]}},initRawHeaders:{type:Array,default:function(){return[]}},formId:{type:String,required:!0},mode:{type:String,required:!0},formType:{type:Number,required:!0},formBodyData:{type:Object,default:function(){return null}},taskLearnOuts:{type:Array,default:function(){return[]}},taskSelfOuts:{type:Array,default:function(){return[]}}},data:function(){return{selectModel:s["a"],selfHeaderAddIndex:1,headers:[],list:[],defaultActiveMenu:u["a"].specificSkills,showMenuList:[u["a"].centurySkills],selectCurriculumVisible:!1,selectKnowledgeTagVisible:!1,selectedKnowledgeTag:[],tagColorList:["pink","orange","green","cyan","blue","red","purple"],currentSelectHeader:null,currentSelectLine:null,tableType:p["a"],tableMode:h["a"],headerType:v,selectedAll21CenturyList:[],selectedCurriculumList:[],selected21CenturySkillList:[],selectedSubjectSpecificSkillList:[],selectedAssessmentList:[],selectedIduList:[],inputDescriptionVisible:!1,inputDescription:null,currentEnterDescriptionLine:null,currentEnterCriteriaLine:null,disabledDraggable:!1,selected21CenturyItem:null,has21CenturySkillNoDescriptionItem:!1,AllCurriculums:o["b"]}},watch:{list:function(e){var t=this,n=!1;this.formType===this.tableType.CenturySkills&&e.forEach((function(e){e.hasOwnProperty(t.headerType.Description)&&!1===e[t.headerType.Description].isDescription&&(t.$logger.info("!!! has21CenturySkillNoDescriptionItem",e),n=!0)})),this.has21CenturySkillNoDescriptionItem=n,this.mode===this.tableMode.TeacherEvaluate?this.headers.forEach((function(e){e.type===t.headerType.Evidence&&(e.visible=!0)})):this.headers.forEach((function(e){e.type===t.headerType.Evidence&&(e.visible=!1)}))}},created:function(){var e=this;if(this.$logger.info("["+this.mode+"] EvaluationTable created formType "+this.formType,"initRawHeaders",this.initRawHeaders,"initRawData",this.initRawData," formBodyData",this.formBodyData),-1===[h["a"].Edit,h["a"].Preview,h["a"].TeacherEvaluate,h["a"].StudentEvaluate,h["a"].PeerEvaluate].indexOf(this.mode)&&this.$confirm({title:"Parameter error",content:"Please make sure your link is correct, the current evaluation mode is "+this.mode+".",centered:!0,onOk:function(){e.$emit("error-mode")},onCancel:function(){e.$emit("error-mode")}}),this.mode===h["a"].TeacherEvaluate&&"teacher"!==this.$store.getters.currentRole&&this.$confirm({title:"Access denied",content:"Only teachers have access to teacher mode",centered:!0,onOk:function(){e.$emit("error-mode")},onCancel:function(){e.$emit("error-mode")}}),this.initRawHeaders.length)this.headers=this.initRawHeaders;else if(this.formType===p["a"].Rubric)this.headers=[{label:"Criteria",previewLabel:"Criteria",type:v.Criteria,editable:!1,editing:!1,required:!0,visible:!0},{label:"Achievement Level",previewLabel:"Achievement Level",type:v.AchievementLevel,editable:!1,editing:!1,required:!0,visible:!0},{label:"Level descriptor",previewLabel:"Level descriptor",type:v.LevelDescriptor,editable:!1,editing:!1,required:!0,visible:!0},{label:"Task specific indicators",previewLabel:"Task specific indicators",type:v.Indicators,editable:!1,editing:!1,required:!0,visible:!0},{label:"Evidence",previewLabel:"Evidence",type:v.Evidence,editable:!1,editing:!1,required:!0,visible:!0}];else if(this.formType===p["a"].Rubric_2)this.headers=[{label:"Description",previewLabel:"Description",type:v.Description,editable:!1,editing:!1,required:!0,visible:!0},{label:"Unnamed level",previewLabel:"Unnamed level",type:v.UserDefine,editable:!0,editing:!1,required:!1,visible:!0},{label:"Evidence",previewLabel:"Evidence",type:v.Evidence,editable:!1,editing:!1,required:!0,visible:!0}];else if(this.formType===p["a"].CenturySkills){var t=parseInt(this.$store.getters.bindCurriculum);this.headers=1===t||2===t?[{label:"Criteria",previewLabel:"Criteria",type:v.Criteria,editable:!1,editing:!1,required:!0,visible:!0},{label:"21st Century Skills",previewLabel:"21st Century Skills",type:v.Description,editable:!1,editing:!1,required:!0,visible:!0},{label:"Novice",previewLabel:"Novice",type:v.UserDefine+"Novice",editable:!0,editing:!1,required:!1,visible:!0},{label:"Learner",previewLabel:"Learner",type:v.UserDefine+"Learner",editable:!0,editing:!1,required:!1,visible:!0},{label:"Practitoner",previewLabel:"Practitoner",type:v.UserDefine+"Practitoner",editable:!0,editing:!1,required:!1,visible:!0},{label:"Expert",previewLabel:"Expert",type:v.UserDefine+"Expert",editable:!0,editing:!1,required:!1,visible:!0},{label:"Comment",previewLabel:"Comment",type:v.Comment,editable:!1,editing:!1,required:!0,visible:!0},{label:"Evidence",previewLabel:"Evidence",type:v.Evidence,editable:!1,editing:!1,required:!0,visible:!0}]:[{label:"21st Century Skills",previewLabel:"21st Century Skills",type:v.Description,editable:!1,editing:!1,required:!0,visible:!0},{label:"Novice",previewLabel:"Novice",type:v.UserDefine+"Novice",editable:!0,editing:!1,required:!1,visible:!0},{label:"Learner",previewLabel:"Learner",type:v.UserDefine+"Learner",editable:!0,editing:!1,required:!1,visible:!0},{label:"Practitoner",previewLabel:"Practitoner",type:v.UserDefine+"Practitoner",editable:!0,editing:!1,required:!1,visible:!0},{label:"Expert",previewLabel:"Expert",type:v.UserDefine+"Expert",editable:!0,editing:!1,required:!1,visible:!0},{label:"Comment",previewLabel:"Comment",type:v.Comment,editable:!1,editing:!1,required:!0,visible:!0},{label:"Evidence",previewLabel:"Evidence",type:v.Evidence,editable:!1,editing:!1,required:!0,visible:!0}]}this.$logger.info("["+this.mode+"] form headers ",this.headers),this.initRawData.length?this.list=this.initRawData:this.$store.getters.isIBTeacher||!this.taskLearnOuts.length&&!this.taskSelfOuts.length?this.handleAddNewLine():this.handleAddNewLineWithTaskOuts(),r["LibraryEventBus"].$on(r["LibraryEvent"].ContentListSelectClick,this.handleContentListSelectClick),r["LibraryEventBus"].$on(r["LibraryEvent"].CenturySkillsSelect,this.handleCenturySkillsSelect),r["LibraryEventBus"].$on(r["LibraryEvent"].CancelCenturySkillsSelect,this.handleCancelCenturySkillsSelect)},destroyed:function(){r["LibraryEventBus"].$off(r["LibraryEvent"].ContentListSelectClick,this.handleContentListSelectClick),r["LibraryEventBus"].$off(r["LibraryEvent"].CenturySkillsSelect,this.handleCenturySkillsSelect),r["LibraryEventBus"].$off(r["LibraryEvent"].CancelCenturySkillsSelect,this.handleCancelCenturySkillsSelect),this.$logger.info("["+this.mode+"] off NewClickableKnowledgeTag ContentListSelectClick handler")},methods:{handleContentListSelectClick:function(e){"evaluation_"===e.questionIndex&&(this.$logger.info("["+this.mode+"] evaluation handleContentListSelectClick hit",e),r["LibraryEventBus"].$emit(r["LibraryEvent"].ContentListSelectedListUpdate,{id:e.subKnowledgeId}))},handleEditHeader:function(e){this.disabledDraggable=!0,this.$logger.info("disabled Draggable"),this.$logger.info("["+this.mode+"] handleEditHeader",e),e.editable?(this.headers.forEach((function(e){0===e.label.length&&(e.label=e.previewLabel)})),this.headers.forEach((function(t){t===e?(t.editing=!0,t.previewLabel=t.label):t.editing=!1}))):this.$logger.info("["+this.mode+"] current header not editable",e)},handleUpdateHeader:function(){this.headers.forEach((function(e){0===e.label.length&&(e.label=e.previewLabel)})),this.headers.forEach((function(e){e.editing=!1})),this.disabledDraggable=!1},handleAddNewHeader:function(e){this.$logger.info("["+this.mode+"] handleAddNewHeader this.selfHeaderTypeIndex "+this.selfHeaderAddIndex+" hIndex "+e);var t=this.headerType.UserDefine+this.selfHeaderAddIndex,n=[];this.headers.forEach((function(e){return n.push(e.type)}));while(-1!==n.indexOf(t))this.selfHeaderAddIndex++,t=this.headerType.UserDefine+this.selfHeaderAddIndex;var i={label:"Unnamed Level ",previewLabel:"Unnamed Level ",type:t,editable:!0,editing:!1,visible:!0};this.headers.splice(e+1,0,i);var a=JSON.parse(JSON.stringify(this.list));a.forEach((function(e){e[i.type]={name:null}})),this.list=a,this.$logger.info("["+this.mode+"] after update list",this.list),this.selfHeaderAddIndex++},handleRemoveHeader:function(e){this.$logger.info("["+this.mode+"] handleRemoveHeader ",e);var t=this.headers.findIndex((function(t){return t.type===e.type}));-1!==t&&this.headers.splice(t,1);var n=JSON.parse(JSON.stringify(this.list));n.forEach((function(t){delete t[e.type]})),this.list=n,this.$logger.info("["+this.mode+"] after delete column update list",this.list)},handleAddNewLine:function(){this.$logger.info("["+this.mode+"] handleAddNewLine ");var e={},t=this.generateRowId();e.rowId=t,this.headers.forEach((function(n){e[n.type]={name:null,rowId:t}})),this.formType===this.tableType.CenturySkills?(e[this.headerType.Description]={name:null,rowId:t,parentNameList:[],isDescription:!0},e[this.headerType.Evidence]={num:0,rowId:t}):this.formType===this.tableType.Rubric?(e.isSelectedIBLine=!1,e.isSelfInputLine=!1,e[this.headerType.Criteria]={rowId:t,name:null,isSelfInput:!1},e[this.headerType.AchievementLevel]={rowId:t,subLevelDescription:[],isSelfInput:!1},e[this.headerType.Indicators]={rowId:t,subLevelIndicators:[],isSelfInput:!1},e[this.headerType.Evidence]={num:0,rowId:t}):this.formType===this.tableType.Rubric_2&&(e[this.headerType.Evidence]={num:0,rowId:t}),this.$logger.info("["+this.mode+"] init new line ",e),this.list.push(e)},handleAddNewLineWithTaskOuts:function(){var e=this;this.$logger.info("["+this.mode+"] handleAddNewLineWithTaskOuts ",this.taskLearnOuts,this.taskSelfOuts);var t=this.taskLearnOuts.concat(this.taskSelfOuts);t.forEach((function(t){var n={},i=e.generateRowId();n.rowId=i,e.headers.forEach((function(e){n[e.type]={name:null,rowId:i}})),e.formType===e.tableType.CenturySkills?(n[e.headerType.Description]={name:t.name,rowId:i,parentNameList:t.parentNameList,isDescription:!0},n[e.headerType.Evidence]={num:0,rowId:i},e.$logger.info("["+e.mode+"] init new line ",n),e.list.push(n)):e.formType===e.tableType.Rubric_2&&(n[e.headerType.Description].name=t.name,n[e.headerType.Evidence]={num:0,rowId:i},e.$logger.info("["+e.mode+"] init new line ",n),e.list.push(n))}))},handleDragEnd:function(){this.$logger.info("["+this.mode+"] handleDragEnd",this.headers)},handleDeleteLine:function(e){this.$logger.info("["+this.mode+"] handleDeleteLine",e),this.mode===h["a"].Edit&&(this.list=this.list.filter((function(t){return t!==e})))},handleClickBodyItem:function(e,t){this.$logger.info("["+this.mode+"]["+this.mode+"] handleClickBodyItem "+t.label,e,"header",t),(-1!==[v.Indicators,v.AchievementLevel,v.LevelDescriptor,v.UserDefine].indexOf(t.type)||t.type.startsWith(v.UserDefine))&&this.$emit("update-evaluation",{formId:this.formId,evaluationMode:this.mode,rowId:e.rowId,value:t.type,evaluateUserEmail:this.$store.getters.email,evaluateUserName:this.$store.getters.nickname,data:null})},handleClickSubLevelItem:function(e,t,n){this.$logger.info(n+" ["+this.mode+"]["+this.mode+"] handleClickSubLevelItem "+t.label,e,"header",t),(-1!==[v.Indicators,v.AchievementLevel,v.LevelDescriptor,v.UserDefine].indexOf(t.type)||t.type.startsWith(v.UserDefine))&&this.$emit("update-evaluation",{formId:this.formId,evaluationMode:this.mode,rowId:e.rowId,value:t.type,evaluateUserEmail:this.$store.getters.email,evaluateUserName:this.$store.getters.nickname,data:n})},handleSwitchModeTips:function(){this.$message.warn("Please switch to evaluation mode first!")},handleAddCriteria:function(e,t,n){if(n.preventDefault(),n.stopPropagation(),this.$logger.info("["+this.mode+"] handleAddCriteria "+e.type,e,t),this.mode===h["a"].Edit){if(this.formType===this.tableType.Rubric_2)this.showMenuList=[u["a"].learningOutcomes,u["a"].specificSkills,u["a"].assessmentType],this.defaultActiveMenu=u["a"].learningOutcomes;else if(this.formType===this.tableType.Rubric)this.showMenuList=[u["a"].specificSkills,u["a"].idu],this.defaultActiveMenu=u["a"].specificSkills;else if(this.formType===this.tableType.CenturySkills){var i=parseInt(this.$store.getters.bindCurriculum);this.$logger.info("CenturySkills header.type "+e.type,e.type===this.headerType.Description,e.type===this.headerType.Criteria),e.type===this.headerType.Description?1===i||2===i?(this.showMenuList=[u["a"].all21Century],this.defaultActiveMenu=u["a"].all21Century):(this.showMenuList=[u["a"].centurySkills],this.defaultActiveMenu=u["a"].centurySkills):e.type===this.headerType.Criteria&&(1===i?(this.showMenuList=[u["a"].AUGeneralCapabilities],this.defaultActiveMenu=u["a"].AUGeneralCapabilities):2===i&&(this.showMenuList=[u["a"].NZKeyCompetencies],this.defaultActiveMenu=u["a"].NZKeyCompetencies))}this.selectCurriculumVisible=!0,this.currentSelectHeader=e,this.currentSelectLine=t}},handleInputIBCriteria:function(e,t,n){n.preventDefault(),n.stopPropagation(),this.$logger.info("handleInputIBCriteria "),this.currentSelectHeader=e,this.currentSelectLine=t,this.currentSelectLine.isSelectedIBLine=!1,this.currentSelectLine.isSelfInputLine=!0,this.currentSelectLine[this.headerType.Criteria]={name:"",rowId:this.currentSelectLine.rowId,isSelfInput:!0};for(var i=[],a=0;a<8;a++)0!==a&&a%2!==1||i.push({startIndex:a,endIndex:0===a?null:a+1,description:""});this.currentSelectLine[this.headerType.AchievementLevel]={name:"",rowId:this.currentSelectLine.rowId,subLevelDescription:i,isSelfInput:!0};for(var r=[],s=0;s<5;s++)r.push({indicator:""});this.currentSelectLine[this.headerType.Indicators]={rowId:this.currentSelectLine.rowId,subLevelIndicators:r,isSelfInput:!0},this.$logger.info("self input currentSelectLine with criteria data ",this.currentSelectLine)},handleEnsureSelectCriteria:function(){var e=this;this.$logger.info("["+this.mode+"] handleEnsureSelectCriteria","this.list",this.list),this.selectCurriculumVisible=!1;var t=[];if(this.selectedAll21CenturyList.forEach((function(e){t.push(e)})),this.selectedCurriculumList.forEach((function(e){t.push(e)})),this.selected21CenturySkillList.forEach((function(e){t.push(e)})),this.selectedSubjectSpecificSkillList.forEach((function(e){t.push(e)})),this.selectedAssessmentList.forEach((function(e){t.push(e)})),this.selectedIduList.forEach((function(e){t.push(e)})),this.selected21CenturyItem){var n=[],i=this.selected21CenturyItemParent,a=3;while(i&&a-- >0)n.push(i.name),i=i.parent;var r={name:this.selected21CenturyItem.name,parentNameList:n,isDescription:!1};t.push(r),this.$logger.info("selectedList add selected21CenturyItem",r)}if(this.$logger.info("formType "+this.formType+" selectedList",t),this.formType===this.tableType.CenturySkills){if(t.length>=1){var s=Object.assign(this.currentSelectHeader);s.type===this.headerType.Description?(this.currentSelectLine[this.headerType.Description]={name:t[0].name,rowId:this.currentSelectLine.rowId,parentNameList:t[0].parentNameList,isDescription:t[0].isDescription},this.$logger.info("["+this.mode+"] update currentSelectLine with Description 1 data ",this.currentSelectLine),t.length>1&&t.forEach((function(t,n){if(n>0){var i={},a=e.generateRowId();i.rowId=a,e.headers.forEach((function(e){i[e.type]={name:null,rowId:a}})),i[e.headerType.Description]={name:t.name,rowId:a,parentNameList:t.parentNameList,isDescription:t.isDescription},i[e.headerType.Evidence]={num:0,rowId:a},i.rowId=a,e.$logger.info("["+e.mode+"] CenturySkills add new line with Description data ",i),e.list.push(i)}}))):s.type===this.headerType.Criteria&&(this.currentSelectLine[this.headerType.Criteria]={name:t[0].name,rowId:this.currentSelectLine.rowId},this.$logger.info("["+this.mode+"] update currentSelectLine with criteria 1 data ",this.currentSelectLine),t.length>1&&t.forEach((function(t,n){if(n>0){var i={},a=e.generateRowId();i.rowId=a,e.headers.forEach((function(e){i[e.type]={name:null,rowId:a}})),i[e.headerType.Description]={name:null,rowId:a,parentNameList:[]},i[e.headerType.Criteria]={name:t.name,rowId:i.rowId},i[e.headerType.Evidence]={num:0,rowId:a},i.rowId=a,e.$logger.info("["+e.mode+"] CenturySkills add new line with criteria data ",i),e.list.push(i)}})))}this.list=this.list.filter((function(e){return!e.description||e.description.name||!e.criteria||e.criteria.name})),this.$logger.info("CenturySkills Description",this.list)}else if(this.formType===this.tableType.Rubric){if(t.length>=1){this.currentSelectLine.isSelectedIBLine=!0,this.currentSelectLine.isSelfInputLine=!1,this.currentSelectLine[this.headerType.Criteria]={name:t[0].name,rowId:this.currentSelectLine.rowId,isSelfInput:!1},this.currentSelectLine[this.headerType.AchievementLevel]={name:t[0].name,rowId:this.currentSelectLine.rowId,subLevelDescription:t[0].subLevelDescription,isSelfInput:!1};var o=[];t[0].subLevelDescription.forEach((function(e){o.push({indicator:""})})),this.currentSelectLine[this.headerType.Indicators]={rowId:this.currentSelectLine.rowId,subLevelIndicators:o,isSelfInput:!1},this.$logger.info("["+this.mode+"] update currentSelectLine with criteria data ",this.currentSelectLine),t.length>1&&t.forEach((function(n,i){if(i>0){var a={},r=e.generateRowId();a.rowId=r,a.isSelectedIBLine=!0,a.isSelfInputLine=!1,e.headers.forEach((function(e){a[e.type]={name:null,rowId:r}})),a[e.headerType.Criteria]={name:n.name,rowId:r,isSelfInput:!1},a[e.headerType.AchievementLevel]={name:n.name,rowId:r,subLevelDescription:n.subLevelDescription,isSelfInput:!1};var s=[];t[0].subLevelDescription.forEach((function(e){s.push({indicator:""})})),a[e.headerType.Indicators]={rowId:e.currentSelectLine.rowId,subLevelIndicators:s,isSelfInput:!1},a[e.headerType.Evidence]={num:0,rowId:r},e.$logger.info("["+e.mode+"] Rubric add new line with criteria data ",a),e.list.push(a)}}))}this.list=this.list.filter((function(e){return!e.criteria||e.criteria.name})),this.$logger.info("Rubric criteria",this.list)}else this.formType===this.tableType.Rubric_2?(this.$logger.info("["+this.mode+"] tableType.Rubric selectedList",t),t.length>=1&&(this.currentSelectLine[this.headerType.Description]={name:t[0].name,rowId:this.currentSelectLine.rowId},this.$logger.info("["+this.mode+"] update currentSelectLine description with criteria data ",this.currentSelectLine),t.length>1&&t.forEach((function(t,n){if(n>0){var i={},a=e.generateRowId();e.headers.forEach((function(e){i[e.type]={name:null,rowId:a}})),i[e.headerType.Description]={name:t.name,rowId:a},i[e.headerType.Evidence]={num:0,rowId:a},i.rowId=a,e.$logger.info("["+e.mode+"] Rubric description add new line with criteria data ",i),e.list.push(i)}}))),this.list=this.list.filter((function(e){return!e.description||e.description.name})),this.$logger.info("Rubric_2 Description",this.list)):this.$logger.info("["+this.mode+"] rubric form no allow select");this.selectedAll21CenturyList=[],this.selectedCurriculumList=[],this.selected21CenturySkillList=[],this.selectedSubjectSpecificSkillList=[],this.selectedAssessmentList=[],this.selectedIduList=[]},handleUpdateDescription:function(e,t){this.$logger.info("["+this.mode+"] handleUpdateDescription",e,t)},handleUpdateField:function(e,t){this.$logger.info("["+this.mode+"] handleUpdateField",e,t)},handleClickEnterCriteriaDescription:function(e,t){this.$logger.info("["+this.mode+"] handleClickEnterCriteriaDescription",e,t),this.mode===h["a"].Edit&&(this.inputDescription=t[this.headerType.Description].userInputText,this.currentEnterDescriptionLine=t,this.inputDescriptionVisible=!0)},handleClickEnterCriteria:function(e,t){this.$logger.info("["+this.mode+"] handleClickEnterCriteria",e,t),this.mode===h["a"].Edit&&(this.inputDescription=t[this.headerType.Criteria].userInputText,this.currentEnterCriteriaLine=t,this.inputDescriptionVisible=!0)},handleEnsureDescription:function(){this.$logger.info("["+this.mode+"] handleEnsureDescription "+this.inputDescription),this.currentEnterDescriptionLine&&(this.currentEnterDescriptionLine[this.headerType.Description].userInputText=this.inputDescription),this.currentEnterCriteriaLine&&(this.currentEnterCriteriaLine[this.headerType.Criteria].userInputText=this.inputDescription),this.mode===h["a"].Edit&&(this.inputDescriptionVisible=!1,this.currentEnterDescriptionLine=null,this.currentEnterCriteriaLine=null,this.inputDescription=null)},handleCancelDescription:function(){this.$logger.info("["+this.mode+"] handleEnsureDescription "+this.inputDescription),this.currentEnterDescriptionLine=null,this.currentEnterCriteriaLine=null,this.inputDescription=null,this.inputDescriptionVisible=!1},handleAddEvidenceLine:function(e,t,n){n.stopPropagation(),n.preventDefault(),this.$logger.info("["+this.mode+"] handleAddEvidenceLine",e,t),this.$emit("add-evidence",{index:e,data:this.formBodyData[t.rowId],rowId:t.rowId})},handleSelectAll21CenturyListData:function(e){this.$logger.info("["+this.mode+"] EvaluationTable handleSelectAll21CenturyListData",e);var t=[];e.forEach((function(e){var n=e.item,i=[],a=n.originParent,r=3;while(a&&r-- >0)i.push(a.name),a=a.originParent;var s={name:e.item.name,parentNameList:i,isDescription:!0};t.push(s)})),this.selectedAll21CenturyList=t,this.$logger.info("["+this.mode+"] selectedAll21CenturyList ",t)},handleSelectCurriculumListData:function(e){this.$logger.info("["+this.mode+"] EvaluationTable handleSelectCurriculumListData",e);var t=[];e.forEach((function(e){var n={name:e.knowledgeData.name,isDescription:!0};t.push(n)})),this.selectedCurriculumList=t,this.$logger.info("["+this.mode+"] handleSelectCurriculumListData ",t)},handleSelectSubjectSpecificSkillListData:function(e){var t=this;this.$logger.info("["+this.mode+"] EvaluationTable handleSelectSubjectSpecificSkillListData",e);var n=[];e.forEach((function(e){var i=e.knowledgeData.subLevelDescripton,a=[];i.forEach((function(e){var t=e[0],n=t.split("-"),i=parseInt(n[0]),r=null;2===n.length&&(r=parseInt(n[1]));var s=e[1];a.push({startIndex:i,endIndex:r,description:s})})),t.$logger.info("["+t.mode+"] handle subLevel",i,a);var r={name:e.knowledgeData.name,subLevelDescription:a,isDescription:!0};n.push(r)})),this.selectedSubjectSpecificSkillList=n,this.$logger.info("["+this.mode+"] handleSelectSubjectSpecificSkillListData ",n)},handleSelect21CenturySkillListData:function(e){this.$logger.info("["+this.mode+"] EvaluationTable handleSelectCurriculumListData",e);var t=[];e.forEach((function(e){var n=[],i=e.knowledgeData.originParent,a=3;while(i&&a-- >0)n.push(i.name),i=i.originParent;var r={name:e.knowledgeData.name,parentNameList:n,isDescription:!0};t.push(r)})),this.selectedCurriculumList=t,this.$logger.info("["+this.mode+"] handleSelectCurriculumListData ",t),r["LibraryEventBus"].$emit(r["LibraryEvent"].CancelCenturySkillsSelect)},handleSelectAssessmentType:function(e){this.$logger.info("["+this.mode+"] EvaluationTable handleSelectAssessmentType",e);var t=[];e.forEach((function(e){var n={name:e.knowledgeData.name,isDescription:!0};t.push(n)})),this.selectedAssessmentList=t,this.$logger.info("["+this.mode+"] handleSelectAssessmentType ",t)},handleSelectIdu:function(e){var t=this;this.$logger.info("["+this.mode+"] EvaluationTable handleSelectIdu",e);var n=[];e.forEach((function(e){var i=e.knowledgeData.subLevelDescripton,a=[];i.forEach((function(e){var n=e[0],i=[];i=-1!==n.indexOf("")?n.split(""):-1!==i.indexOf("-")?n.split("-"):[n],t.$logger.info("indexRangeArray",i,e);var r=parseInt(i[0]),s=null;2===i.length&&(s=parseInt(i[1]));var o=e[1];a.push({startIndex:r,endIndex:s,description:o,isDescription:!0})})),t.$logger.info("["+t.mode+"] handle subLevel",i,a);var r={name:e.knowledgeData.name,subLevelDescription:a};n.push(r)})),this.selectedIduList=n,this.$logger.info("["+this.mode+"] handleSelectIdu ",n)},handleCancelSelectData:function(){},getTableStructData:function(){return this.$logger.info("getTableStructData",this.headers,this.list),{headers:this.headers,list:this.list,formId:this.formId}},generateRowId:function(){var e="row_"+Math.random();while(-1!==this.list.findIndex((function(t){return t.rowId===e})))e="row_"+Math.random();return this.$logger.info("generateRowId "+e),e},handleCenturySkillsSelect:function(e){this.$logger.info("NewBrowser handleCenturySkillsSelect",e),this.selected21CenturyItem=e.item,this.selected21CenturyItemParent=e.parent},handleCancelCenturySkillsSelect:function(){this.selected21CenturyItem=null,this.selected21CenturyItemParent=null},handleUseClicked:function(e){this.$logger.info("handleUseClicked",e),this.$emit("use-clicked-text",e)}}},A=R,j=(n("53f2"),n("0c7c")),P=Object(j["a"])(A,i,a,!1,null,"720d1163",null);t["a"]=P.exports},"11aa":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAsCAYAAADxRjE/AAAAAXNSR0IArs4c6QAABJ1JREFUaEPNmWnI5XMUxz9f+75lCaGQlK3EG5GSFyRrsi/T2IYZqWFGDAaTNWuIPBSFGDOl0YzGTJNRNBJhsrywNUi27Brr0ffpXN153P92527n1VP33Pv//M/v/M75nvOIEbaI2Bw4C7gE2Al4EZihUWSOCHPtDNwAnAusm5x/A4+PHHRErAfsA9wFHDEhqP8Ai0cKOiI2AA4GHgAO6JAFfwHXjAx0Ah8C3Afs2wHYUf4EOGokoCNiE+BI4E5gz4J79gswXdLY0KEjYgvgeODWrBCdmH8HngamSFo9VOiI2Bo4DbgR2LYgws7jt4ATJH1hn6FBR8R2wDm+WMBWBcABfAVcKOn5ls9QoCNie2AScFUJsBl/Bu5xvZbkGj1uA4eOiB2AycCVwJYlzW11dsBJkr5v9xsodETski15KuAWXWSO6rvA2ZLemeg0MOiI2B24DLgA2LgE2Hn8JTBL0mOd/AYC3QZ8PuCaXGY/Ak8Cl7u8DQU6IvY2QKq1jSqAXY+XO+db5W3g0BHhdjwDOBXYsALYebwSmCbplTLfvqVHROyfFeJkwEKoyj4HbgYekuS8LrS+QEeEpaVL2ik1Imy4H4Cn/B1J1hil1nPoTAkDO8JVOWw4X7alwFRJq6qA/XlPoRN4FnBizQhbbr45PkJJL9UB7il0ROyaOuLMGmWtxfcxcDswJskvUMt6FumIaLXmvWo9Gb4F3Dyul/Rrze+Mu/US2prYiu2gGgC/AQuAmZI+q+G/hktX0DktHwocDlgbvAz4eKentrDsLDLrY/u7Ta9oCtx1pCPCO4g7LMwBQ9wPPAisA1yd3a9Tu3b9dQO5CXi2qh4XvVC3kbakvAU4I+Wlj/tR4N580EzAF3LTCQ/2xbsbeFjSH91EuXGks0J4yvgU8IWbk7sJdzzXWzcIn4BFz7RUdK0xyhdvzLOgpJ+6Ba4NHRE+9uOA2cBuuUh5BHDuegt0dDYSR29+lrEPc8L2Wsva+TlgrqTv1ga4FnTuI3zBLgV2zIrjdPBCxbnsrndtNhSng3N8UU7XK7rN27IXK83pjPDFOct5t9ZulpGus15f+W/Pe6cDXglYsS3LvF/epHHUOYUq6GPy4uyRlWHib/7pKpDp8A1wRQ6sXg0Y3J/NkfReHZi6PoXQOYA+ARxWoSMM90LKyo/yAl4EeOJ+LaEX1gWq41cGbVnp8d15XGWuv544rIctgHxCJwFvuxTWVW9VD2l9XgbtS+ZlStnU3P4cg7+eebxobepwFXxH6NwROzWObaDYWs96NZcr3tr3xYqgXX/dKKryuROUL91sSfP6Qlyk8nK+eya7nhtLE/NQ6jXWkiZfauJbFGlP0K67Ll1NzI3FGuQ2SV6A98X+B536wvX1QMD//2hib+TadmH7wrDJD9TxXQM6ItbPsjUF2KzOD7T5WFdbci4o2gw1/L1C9/+gU9h7bWXJuU2DqcaKzidjLbKynxFuvcU4dJvGsNS09KzS2e6C1sbudC6Nhu1aHzc9AeVG/jrgvJJtplWdIT8AnLeLgff7nQZFL2Noi/X9UhBZ9Dhi3vJ8nf86cBVYNSzATuD/Aok9WzfHt1isAAAAAElFTkSuQmCC"},"13a6":function(e,t,n){"use strict";n("cd81")},1449:function(e,t,n){"use strict";var i=function(){var e=this,t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"my-unit-plan-preview"},[t.loading?[a("a-skeleton",{attrs:{active:""}})]:[a("a-row",{staticClass:"action-header"},[a("a-col",{staticClass:"action-header-toggle",attrs:{span:"24"}},[a("a-radio-group",{attrs:{"button-style":"solid"},on:{change:t.handleViewModeChange},model:{value:t.viewMode,callback:function(e){t.viewMode=e},expression:"viewMode"}},[a("a-radio-button",{staticClass:"left-button",attrs:{value:"Detail"}},[t._v(" Info ")]),a("a-radio-button",{staticClass:"right-button",attrs:{value:"Preview"}},[t._v(" Detail ")]),a("a-radio-button",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student","teacher"],expression:"['student', 'teacher']"}],staticClass:"right-button",attrs:{value:"Reviews"}},[t._v(" Reviews ")])],1)],1)],1),a("a-row",{staticClass:"top-header"},[a("a-col",{attrs:{span:"24"}},[a("div",{staticClass:"title-line"},[a("div",{staticClass:"name"},[t._v(" "+t._s(t.data.name)+" ")]),a("div",{staticClass:"action-item"},[a("div",{staticClass:"star"},[t.data.createBy!==t.$store.getters.userInfo.email?[t.data.isFavorite?t._e():a("img",{attrs:{src:n("58e7")},on:{click:function(e){return t.handleFavorite(t.data)}}}),t.data.isFavorite?a("img",{attrs:{src:n("24e3")},on:{click:function(e){return t.handleFavorite(t.data)}}}):t._e()]:t._e()],2),this.isOwner||this.isCollaborater?a("div",{staticClass:"edit"},[a("a-button",{attrs:{type:"primary",shape:"round"},on:{click:function(e){return t.handleEditItem(t.data)}}},[a("div",{staticClass:"button-content"},[t._v(" Edit "),a("img",{staticClass:"edit-icon",attrs:{src:n("11aa")}})])])],1):a("div",{staticClass:"edit"},[t.myContentId?a("a-button",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:function(e){return t.handleEditItem({id:t.myContentId})}}},[a("div",{staticClass:"button-content"},[t._v(" Edit in my content "),a("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"edit"}})],1)]):a("a-button",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:t.handleDuplicateItem}},[a("div",{staticClass:"button-content"},[t._v(" Copy "),a("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"copy"}})],1)]),t.data.type===t.typeMap.task?a("a-button",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:t.handleStartTask}},[a("div",{staticClass:"button-content"},[t._v(" Start "+t._s(t.data.buyed?"Session":"")),a("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"play-circle"}})],1)]):t._e()],1)])])])],1),a("a-row",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"author-info"},[a("a-col",{staticClass:"avatar-icon",attrs:{span:"3"}},[a("img",{attrs:{src:t.collaborate.owner&&t.collaborate.owner.avatar}})]),a("a-col",{attrs:{span:"21"}},[a("div",{staticClass:"sub-info"},[a("div",{staticClass:"created-by"},[t._v(" "+t._s(t.data.createBy)+" ")]),a("div",{staticClass:"created-time"},[t.lastChangeSavedTime?[t._v(" "+t._s(t.lastChangeSavedTime)+" ")]:t._e()],2)]),a("div",{staticClass:"star-info"},[a("review-score",{attrs:{review:t.reviewsStats,placement:"bottom"}}),a("a-button",{attrs:{type:"link"}},[t._v(t._s(t._f("percentFormat")(t.reviewsStats.overall))+" ("+t._s(t.reviewsStats.reviewsCount)+" reviews)")])],1)])],1),a("a-space",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"},{name:"show",rawName:"v-show",value:"Reviews"!==t.viewMode,expression:"viewMode !== 'Reviews'"}],staticClass:"author-info"},[a("div",{staticClass:"avatar-icon"},[a("img",{attrs:{src:t.collaborate.owner&&t.collaborate.owner.avatar}})]),a("div",[a("div",{staticClass:"sub-info"},[a("div",{staticClass:"created-by"},[t._v(" "+t._s(t.collaborate.owner&&t.collaborate.owner.nickname)+" ")]),a("div",{staticClass:"created-time"},[t.lastChangeSavedTime?[t._v(" "+t._s(t.lastChangeSavedTime)+" ")]:t._e()],2)]),a("div",{staticClass:"star-info",on:{click:function(){return e.viewMode="Reviews"}}},[a("a-tooltip",{attrs:{placement:"right"}},[a("template",{slot:"title"},[t._v(" "+t._s(t.reviewsStats.reviewsScoreStatDetail&&t.reviewsStats.reviewsScoreStatDetail[4]&&t.reviewsStats.reviewsScoreStatDetail[4].reviewsScoreCount)+" people gave a score of 5 stars ")]),a("a-rate",{attrs:{value:t.reviewsStats.avgReviewsScore,"allow-half":"",disabled:""}})],2)],1)])]),a("a-row",{directives:[{name:"show",rawName:"v-show",value:"Detail"===t.viewMode,expression:"viewMode === 'Detail'"}],staticClass:"data-info"},[a("a-col",{staticClass:"right-detail",attrs:{span:"24"}},[a("div",{staticClass:"sub-detail"},[a("div",{staticClass:"detail-block"},[a("div",{staticClass:"block-main-label"},[t.data.type===t.typeMap.task?[t._v("Task details")]:[t._v("Overview")]],2),a("div",{staticClass:"overview-block"},[a("div",{staticClass:"view-text"},[t._v(" "+t._s(t.data.overview)+" ")])]),t.data.type===t.typeMap.task&&t.data.questionNames.length>0?[a("div",{staticClass:"block-main-label"},[t._v(" Key question(s)/Line(s) of Inquiry ")]),a("div",{staticClass:"detail-block",staticStyle:{margin:"10px"}},[a("div",{staticClass:"keyword-block-content"},[a("div",{staticClass:"content-list"},t._l(t.data.questionNames,(function(e,n){return a("div",{key:n,staticClass:"content-item"},[e?a("div",{staticClass:"question"},[t._v(" "+t._s(e)+" ")]):t._e()])})),0)])])]:t._e(),a("div",{staticClass:"block-main-label"},[t._v(" Customized tags ")]),a("div",{staticClass:"overview-block"},[a("div",{staticClass:"custom-tags"},t._l(t.data.customTags,(function(e,n){return a("div",{key:"tagIndex"+n,staticClass:"tag-item"},[a("a-tooltip",{attrs:{title:e.parentName}},[a("a-tag",{staticClass:"tag"},[t._v(" "+t._s(e.name)+" ")])],1)],1)})),0)]),a("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"block-main-label"},[t._v(" This task contains interactive questions of ")]),a("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"overview-block"},[a("div",{staticClass:"custom-tags"},t._l(t.inActiveTypes,(function(e,n){return a("div",{key:"interActiveIndex"+n,staticClass:"tag-item"},[a("a-tooltip",{attrs:{title:e}},[a("a-tag",{staticClass:"tag",attrs:{color:t.tagColorList[n]}},[t._v(" "+t._s(e)+" ")])],1)],1)})),0)]),a("div",{staticClass:"block-main-label"},[t._v(" Learning Objectives ")]),a("div",{staticClass:"overview-block"},[a("div",{staticClass:"learn-question-tag"},[a("div",{staticClass:"learn-out",staticStyle:{margin:"10px"}},[a("ui-learn-out-sub",{attrs:{"learn-outs":t.data.learnOuts,"self-outs":t.data.selfOuts,"class-info-list":t.itemsList}})],1)])]),t.data.inquiry?[a("div",{staticClass:"block-main-label"},[t._v(" Big idea ")]),a("div",{staticClass:"inquiry-block-content"},[a("div",{staticClass:"inquiry"},[t._v(" "+t._s(t.data.inquiry)+" ")])])]:t._e(),t.data.materialList&&t.data.materialList.length?[a("div",{staticClass:"block-main-label"},[t._v(" Material list ")]),a("div",{staticClass:"overview-block"},[a("div",{staticClass:"material-list"},t._l(t.data.materialList,(function(e,n){return a("div",{key:n,staticClass:"material-item"},[a("div",{staticClass:"material-name"},[t._v(" "+t._s(e.name)+" ")]),a("div",{staticClass:"material-link",on:{click:function(n){return t.handleOpenLink(e.link)}}},[t._v(" "+t._s(e.link)+" ")])])})),0)])]:t._e(),t.data.rwc?[a("div",{staticClass:"block-main-label"},[t._v(" Real World Connection(s) ")]),a("div",{staticClass:"overview-block"},[a("div",{staticClass:"view-text"},[t._v(" "+t._s(t.data.rwc)+" ")])])]:t._e()],2)])])],1),a("a-row",{directives:[{name:"show",rawName:"v-show",value:"Preview"===t.viewMode,expression:"viewMode === 'Preview'"}],staticClass:"preview-data-info"},[a("a-col",{staticClass:"slide-preview",attrs:{span:"24"}},[t.data.scenarios||t.data.inquiry||t.data.questions&&t.data.questions.length?a("div",{staticClass:"data-detail-wrapper"},[t.data.scenarios?[a("div",{staticClass:"block-main-label"},[t._v(" Sustainable development goal ")]),a("div",{staticClass:"detail-block"},t._l(t.data.scenarios,(function(e,n){return a("div",{key:n,staticClass:"scenario-item ref-block"},[a("div",{staticClass:"scenario-block-content"},[a("div",{staticClass:"content-list"},[a("div",{staticClass:"content-item"},[a("div",{staticClass:"question"},[e.description?[a("a-tooltip",{attrs:{title:e.description,placement:"top"}},[t._v(" "+t._s(e.sdgName)+" ")])]:[t._v(" "+t._s(e.sdgName))]],2),a("div",{staticClass:"tags"},t._l(e.sdgKeyWords,(function(e,n){return a("div",{key:"tagIndex"+n,staticClass:"tag-item"},[a("a-tag",{staticClass:"tag"},[t._v(" "+t._s(e.name)+" ")])],1)})),0)])])])])})),0)]:t._e(),t.data&&t.data.inquiry?[a("div",{staticClass:"detail-block"},[a("div",{staticClass:"block-main-label"},[t._v(" Big idea ")]),a("div",{staticClass:"inquiry-block-content"},[a("div",{staticClass:"inquiry"},[t._v(" "+t._s(t.data.inquiry)+" ")])])])]:t._e(),t.data&&t.data.questions&&t.data.questions.length?[a("div",{staticClass:"block-main-label"},[t._v(" Key question(s)/Line(s) of Inquiry ")]),a("div",{staticClass:"detail-block"},[a("div",{staticClass:"keyword-block-content"},[t.data.questions&&t.data.questions.length?a("div",{staticClass:"content-list"},t._l(t.data.questions,(function(e,n){return a("div",{key:"qIndex"+n,staticClass:"content-item"},[e&&e.name?a("div",{staticClass:"question"},[t._v(" "+t._s(e.name)+" ")]):t._e()])})),0):t._e()])])]:t._e()],2):t._e(),t.type===t.typeMap.task&&t.data.presentationId&&t.imgList.length>0?[a("div",{staticClass:"top-icon-groups"},[a("a-col",{staticClass:"material-row"},[Object.keys(t.currentPageMaterial).length>0?a("div",{staticClass:"icon-group"},[t.currentPageMaterial.hasOwnProperty("text")?a("a-badge",{attrs:{count:t.showMaterialSize("text")}},[a("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("text")}}},[a("text-type-svg"),a("div",{staticClass:"icon-text"},[t._v("Text")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("image")?a("a-badge",{attrs:{count:t.showMaterialSize("image")}},[a("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("image")}}},[a("image-type-svg"),a("div",{staticClass:"icon-text"},[t._v("Image")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("video")?a("a-badge",{attrs:{count:t.showMaterialSize("video")}},[a("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("video")}}},[a("video-type-svg"),a("div",{staticClass:"icon-text"},[t._v("Video")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("audio")?a("a-badge",{attrs:{count:t.showMaterialSize("audio")}},[a("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("audio")}}},[a("audio-type-svg"),a("div",{staticClass:"icon-text"},[t._v("Audio")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("iframe")?a("a-badge",{attrs:{count:t.showMaterialSize("iframe")}},[a("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("iframe")}}},[a("youtube-type-svg"),a("div",{staticClass:"icon-text"},[t._v("Youtube")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("pdf")?a("a-badge",{attrs:{count:t.showMaterialSize("pdf")}},[a("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("pdf")}}},[a("pdf-type-svg"),a("div",{staticClass:"icon-text"},[t._v("PDF")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("website")?a("a-badge",{attrs:{count:t.showMaterialSize("website")}},[a("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("website")}}},[a("url-type-svg"),a("div",{staticClass:"icon-text"},[t._v("Website")])],1)]):t._e()],1):t._e()])],1),a("a-skeleton",{attrs:{loading:t.slideLoading,active:""}},[a("div",{ref:"slide",staticClass:"slide-select-wrapper"},[a("div",{staticClass:"slide-select"},[a("div",{staticClass:"slide-select-and-preview"},[a("div",{staticClass:"slide-preview",style:{width:"600px"}},[a("a-carousel",{ref:"carousel",attrs:{arrows:"","after-change":t.onChangePage}},[a("div",{staticClass:"custom-slick-arrow",staticStyle:{left:"10px",zIndex:"9"},attrs:{slot:"prevArrow"},slot:"prevArrow"},[a("a-icon",{attrs:{type:"left-circle"}})],1),a("div",{staticClass:"custom-slick-arrow",staticStyle:{right:"10px",zIndex:"9"},attrs:{slot:"nextArrow"},slot:"nextArrow"},[a("a-icon",{attrs:{type:"right-circle"}})],1),t._l(t.imgList,(function(e,t){return a("div",{key:t},[a("img",{attrs:{src:e}})])}))],2),t.currentPageItem?a("div",{staticClass:"plugin-tags"},[a("a-row",{staticClass:"tag-row"},[t.currentPageItem.data.bloomLevel?a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[t._v("Bloom's Taxonomy:")]),a("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[t._v(t._s(t.currentPageItem.data.bloomLevel))])]):t._e(),t.currentPageItem.data.knowledgeLevel?a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[t._v("Knowledge dimension(s):")]),a("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[t._v(t._s(t.currentPageItem.data.knowledgeLevel))])]):t._e()]),a("a-row",{staticClass:"tag-row"},[t.currentPageItem.data.verbs&&t.currentPageItem.data.verbs.length>0?a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[t._v("Command terms:")]),t._l(t.currentPageItem.data.verbs,(function(e,n){return a("span",{key:n,staticClass:"tag-value",staticStyle:{color:"#15C39A"}},[t._v(t._s(e))])}))],2):t._e(),t.currentPageTips?a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[t._v("Tip added:")]),a("span",{staticClass:"tag-value",staticStyle:{color:"#0054FF"}},[t._v(t._s(t.currentPageTips.tip))])]):t._e()]),t.currentPageItem.data.learnOuts&&t.currentPageItem.data.learnOuts.length>0?a("a-row",{staticClass:"tag-row"},[a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[t._v("Learning Objectives:")]),t._l(t.currentPageItem.data.learnOuts,(function(e,n){return a("span",{key:n,staticClass:"tag-value",staticStyle:{color:"#00BCF2"}},[a("a-tooltip",{attrs:{title:e.path,overlayStyle:{"z-index":"3000"}}},[t._v(t._s(e.name)+" ")])],1)}))],2)]):t._e(),a("a-row",{staticClass:"tag-row"},[a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[t._v("This is a "),a("span",[t._v(t._s(t.currentPageItem.type))]),t._v(" slide")])])])],1):t._e(),t.imgList&&t.imgList.length?a("div",{staticClass:"page-info"},[t._v(" "+t._s(t.currentImgIndex+1)+" / "+t._s(t.imgList.length)+" ")]):t._e(),a("div",{staticClass:"carousel-page"},[a("div",{staticClass:"img-list-wrapper"},[a("div",{staticClass:"img-list"},t._l(t.imgList,(function(e,n){return a("div",{key:"index"+n,staticClass:"img-item",on:{click:function(e){return t.handleGotoImgIndex(n)}}},[a("img",{attrs:{src:e}})])})),0)])])],1)])])])])]:t._e(),t.type===t.typeMap.evaluation?[a("evaluation-table-preview",{attrs:{"evaluation-id":t.data.id}})]:t._e()],2)],1),a("a-row",{directives:[{name:"show",rawName:"v-show",value:"Reviews"===t.viewMode,expression:"viewMode === 'Reviews'"}],staticClass:"reviews-info"},["student"===t.currentRole?a("a-col",{staticClass:"slide-reviews",attrs:{span:"24"}},[a("rate-by-percent",{attrs:{rates:t.reviewsStats}}),a("reviews-preview",{attrs:{id:t.id,role:"student",list:t.ReviewsTask.ReviewsTaskList,save:t.ReviewsTask.ReviewsTaskSave,del:t.ReviewsTask.ReviewsTaskDelete,myReview:t.ReviewsTask.ReviewsTaskMyReview}})],1):a("a-col",{staticClass:"slide-reviews",attrs:{span:"24"}},[a("reviews-preview",{attrs:{id:t.id,role:"teacher",list:t.ReviewsTeacher.ReviewsTeacherList,save:t.ReviewsTeacher.ReviewsTeacherSave,del:t.ReviewsTeacher.ReviewsTeacherDelete,myReview:t.ReviewsTeacher.ReviewsTeacherMyReview,canEdit:!0},on:{update:t.loadReviewStats}})],1)],1)],a("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"800px",zIndex:6e3,title:"My Materials"},on:{ok:function(e){t.materialVisible=!1},cancel:function(e){t.materialVisible=!1}},model:{value:t.materialVisible,callback:function(e){t.materialVisible=e},expression:"materialVisible"}},[a("task-material-preview",{attrs:{"current-page-element-lists":t.currentPageElementLists,"filter-type":t.filterMaterialType,"current-page-index":t.currentImgIndex}})],1),a("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"900px",zIndex:5e3,title:null},on:{ok:function(e){t.mediaVisible=!1},cancel:function(e){t.mediaVisible=!1}},model:{value:t.mediaVisible,callback:function(e){t.mediaVisible=e},expression:"mediaVisible"}},[a("media-preview",{attrs:{"media-list":t.mediaList,"material-type":t.filterMaterialType}})],1)],2)},a=[],r=n("5530"),s=(n("a9e3"),n("d81d"),n("a630"),n("3ca3"),n("d3b7"),n("6062"),n("ddb0"),n("159b"),n("b0c0"),n("823b")),o=n("3f76"),l=n("69b3"),c=n("8c95"),d=n("c621"),u=n("972f"),p=n("7eee"),h=n("d33b"),f=n("873a"),v=n("542c"),m=n("91ff"),g=n("d980"),y=n("dd6e"),b=n("abb8"),w=n("e11c"),C=n("9afb"),S=n("f93e"),k=n("2934"),_=n("5225"),T=n("9fb0"),x=n("8ded"),D=n.n(x),E=n("2f59"),O=n("2f62"),I=n("6b36"),M=n("c2e5"),L=n("ca00"),R=L.formatLocalUTC,A=n("de0d"),j=A.UnitPlanQueryById,P=n("b199"),N=P.TaskQueryById,B=n("9f06"),H=B.EvaluationQueryById,F=n("95c6"),V=F.FavoritesAdd,U=n("56f2"),z=U.SelfStudyTaskBye,Y=U.SelfStudyTaskStart,W={name:"CommonPreview",components:{UiLearnOutSub:m["a"],EvaluationTablePreview:u["a"],CommonAssociatePreview:c["a"],NoMoreResources:l["a"],TaskLink:p["a"],MediaPreview:f["a"],TaskMaterialPreview:v["a"],RateByPercent:g["a"],ReviewsPreview:y["a"],ReviewScore:b["a"]},props:{id:{type:String,required:!0},type:{type:Number,required:!0},isLibrary:{type:Boolean,default:!1},myContentId:{type:String,default:null}},mixins:[h["a"],w["a"],E["a"]],computed:Object(r["a"])(Object(r["a"])({},Object(O["e"])({userMode:function(e){return e.app.userMode},currentRole:function(e){return e.user.currentRole}})),{},{lastChangeSavedTime:function(){if(this.data){s["info"]("lastChangeSavedTime data",this.data);var e=this.data.updateTime||this.data.createTime;if(e)return R(e)}return""},inActiveTypes:function(){var e=[];return this.itemsList&&(e=this.itemsList.map((function(e){return e.type}))),Array.from(new Set(e))}}),mixin:[E["a"]],data:function(){return{loading:!0,slideLoading:!1,copyLoading:!1,data:null,imgList:[],viewMode:"Detail",RATE_TOOLTIPS:S["y"],ReviewsTask:I,ReviewsTeacher:M,tagColorList:["pink","orange","green","cyan","blue","red","purple"],activeContentType:-1,typeMap:o["e"],subPreviewVisible:!1,currentImgIndex:0,initPrompts:[],reviewsStats:{avgReviewsScore:0,reviewsScoreStatDetail:[],reviewsCount:0,effectiveness:0,overall:0,quality:0,studentsEngagement:0}}},created:function(){s["info"]("CommonPreview id "+this.id+" type "+this.type),this.loadData()},methods:{loadData:function(){var e=this;s["info"]("loadData "+this.id+" type "+this.type),this.loading=!0,this.type===this.typeMap["unit-plan"]?j({id:this.id}).then((function(t){s["info"]("UnitPlanQueryById "+e.id,t.result),e.data=t.result,e.oldForm=e.data,e.data&&e.data.image&&(e.imgList=[e.data.image])})).finally((function(){e.loading=!1,e.queryContentCollaborates(e.id,e.type)})):this.type===this.typeMap.task?N({id:this.id}).then((function(t){s["info"]("TaskQueryById "+e.id,t.result),e.data=t.result,e.loading=!1,e.oldForm=e.data,e.queryContentCollaborates(e.id,e.type),e.loadThumbnail(),e.data.presentationId&&e.getClassInfo(e.data.presentationId)})):this.type===this.typeMap.evaluation&&H({id:this.id}).then((function(t){s["info"]("EvaluationQueryById "+e.id,t.result),e.data=t.result,e.oldForm=e.data,e.data&&e.data.image&&(e.imgList=[e.data.image])})).finally((function(){e.loading=!1,e.queryContentCollaborates(e.id,e.type)})),Object(k["a"])(S["q"]).then((function(t){t.success&&(s["info"]("DICT_PROMPT_TYPE",t.result),e.initPrompts=t.result)})),this.loadReviewStats()},handleAuthCallback:function(){this.$logger.info("Preview handleAuthCallback"),"loadThumbnail"===this.currentMethodName?this.loadThumbnail():"handleDuplicateItem"===this.currentMethodName&&this.handleDuplicateItem()},loadThumbnail:function(){var e=this;this.$logger.info("Preview loadThumbnail ",this.data),this.data.presentationId?this.isLibrary?Object(d["d"])({taskId:this.data.id}).then((function(t){if(t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden){var n=t.result.pageObjects;e.thumbnailList=[],n.length?n.forEach((function(t){e.imgList.push(t.contentUrl),e.thumbnailList.push({contentUrl:t.contentUrl,id:t.pageObjectId}),e.slideLoading=!1,e.$logger.info("current imgList ",e.imgList)})):(e.imgList=[],e.slideLoading=!1)}else e.$logger.info(""),e.currentMethodName="loadThumbnail"})):Object(d["d"])({taskId:this.data.id}).then((function(t){if(t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden){var n=t.result.pageObjects;e.thumbnailList=[],n.length?n.forEach((function(t){e.imgList.push(t.contentUrl),e.thumbnailList.push({contentUrl:t.contentUrl,id:t.pageObjectId}),e.slideLoading=!1,e.$logger.info("current imgList ",e.imgList)})):(e.imgList=[],e.slideLoading=!1)}else e.$logger.info(""),e.currentMethodName="loadThumbnail"})):this.slideLoading=!1},loadReviewStats:function(){var e=this,t=null;t="student"===this.currentRole?I["ReviewsTaskStats"]:M["ReviewsTeacherStats"],t&&t({taskId:this.id,purchasesId:this.id}).then((function(t){t.success&&(e.reviewsStats=t.result)}))},handleSelectContentType:function(e){s["info"]("handleSelectContentType "+e),this.activeContentType=e},handleSubPreviewClose:function(){s["info"]("handleSubPreviewClose"),this.subPreviewVisible=!1},handleViewModeChange:function(){this.$logger.info("handleViewModeChange "+this.viewMode)},handleFavorite:function(e){var t=this;s["info"]("handleFavorite",e),V({sourceId:e.id,sourceType:e.type}).then((function(n){s["info"]("FavoritesAdd ",n),e.isFavorite=!e.isFavorite,t.data.isFavorite=e.isFavorite,t.$emit("favoritiesAdd",Object(r["a"])({},t.data))}))},handleGotoImgIndex:function(e){this.$logger.info("handleGotoImgIndex "+e),this.currentImgIndex=e,this.$refs.carousel.goTo(e)},handleEditItem:function(e){e.type=this.type,s["info"]("handleEditItem",e),e.type===o["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===o["e"].task?window.open("/teacher/task-redirect/"+e.id,"_blank"):e.type===o["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleDuplicateItem:function(){var e=this;this.$logger.info("handleDuplicateItem",this.data),this.$confirm({title:"Confirm to copy",content:"Are you sure to copy "+this.data.name+" ?",centered:!0,onOk:function(){e.copyLoading=!0,Object(C["Duplicate"])({id:e.data.id,type:e.data.type}).then((function(t){t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden?(e.$logger.info("Duplicate response",t),e.$message.success("Copy successfully")):e.currentMethodName="handleDuplicateItem"})).finally((function(){e.copyLoading=!1}))}})},handleStartTask:function(){var e=this;this.$confirm({title:"Confirm to start",content:"Are you sure to start "+this.data.name+" ?",centered:!0,onOk:function(){e.copyLoading=!0,e.data.buyed||S["Y"].SCHOOL===e.userMode?e.handleStartSession(e.data.id):z({taskId:e.data.id}).then((function(t){t.success&&e.handleStartSession(e.data.id)})).finally((function(){e.copyLoading=!1}))}})},handleOpenLink:function(e){window.open(e,"_blank")},handleStartSession:function(e){var t=this;this.copyLoading=!0,Y({taskId:e}).then((function(e){if(t.$logger.info("StartOpenSession res",e),e.success){t.copyLoading=!1;var n=_["a"]+"s/"+e.result.classId+"?token="+D.a.get(T["a"]);t.$logger.info("try open "+n),window.location.href=n}else t.$message.warn("StartLesson Failed! "+e.message)})).finally((function(){t.copyLoading=!1}))}}},G=W,q=(n("7569"),n("0c7c")),$=Object(q["a"])(G,i,a,!1,null,"0a1695ec",null);t["a"]=$.exports},1459:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("6d8b"),a=n("50e5"),r=n("3842"),s=n("ef6a"),o=n("697e"),l=n("538f"),c=n("e0d3"),d=i["k"],u=r["b"],p=function(){function e(e,t,n,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=n}return e.prototype.hostedBy=function(e){return this._dataZoomModel===e},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries((function(t){if(Object(a["e"])(t)){var n=Object(a["d"])(this._dimName),i=t.getReferringComponents(n,c["b"]).models[0];i&&this._axisIndex===i.componentIndex&&e.push(t)}}),this),e},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return i["d"](this._minMaxSpan)},e.prototype.calculateDataWindow=function(e){var t,n=this._dataExtent,i=this.getAxisModel(),a=i.axis.scale,o=this._dataZoomModel.getRangePropMode(),l=[0,100],c=[],p=[];d(["start","end"],(function(i,s){var d=e[i],u=e[i+"Value"];"percent"===o[s]?(null==d&&(d=l[s]),u=a.parse(r["j"](d,l,n))):(t=!0,u=null==u?n[s]:a.parse(u),d=r["j"](u,n,l)),p[s]=u,c[s]=d})),u(p),u(c);var h=this._minMaxSpan;function f(e,t,n,i,o){var l=o?"Span":"ValueSpan";Object(s["a"])(0,e,n,"all",h["min"+l],h["max"+l]);for(var c=0;c<2;c++)t[c]=r["j"](e[c],n,i,!0),o&&(t[c]=a.parse(t[c]))}return t?f(p,c,n,l,!1):f(c,p,l,n,!0),{valueWindow:p,percentWindow:c}},e.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=h(this,this._dimName,t),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var n=this._dimName,a=this.getTargetSeriesModels(),r=e.get("filterMode"),s=this._valueWindow;"none"!==r&&d(a,(function(e){var t=e.getData(),a=t.mapDimensionsAll(n);if(a.length){if("weakFilter"===r){var l=t.getStore(),c=i["F"](a,(function(e){return t.getDimensionIndex(e)}),t);t.filterSelf((function(e){for(var t,n,i,r=0;r<a.length;r++){var o=l.get(c[r],e),d=!isNaN(o),u=o<s[0],p=o>s[1];if(d&&!u&&!p)return!0;d&&(i=!0),u&&(t=!0),p&&(n=!0)}return i&&t&&n}))}else d(a,(function(n){if("empty"===r)e.setData(t=t.map(n,(function(e){return o(e)?e:NaN})));else{var i={};i[n]=s,t.selectRange(i)}}));d(a,(function(e){t.setApproximateExtent(s,e)}))}}))}function o(e){return e>=s[0]&&e<=s[1]}},e.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,n=this._dataExtent;d(["min","max"],(function(i){var a=t.get(i+"Span"),s=t.get(i+"ValueSpan");null!=s&&(s=this.getAxisModel().axis.scale.parse(s)),null!=s?a=r["j"](n[0]+s,n,[0,100],!0):null!=a&&(s=r["j"](a,[0,100],n,!0)-n[0]),e[i+"Span"]=a,e[i+"ValueSpan"]=s}),this)},e.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,n=this._valueWindow;if(t){var i=r["e"](n,[0,500]);i=Math.min(i,20);var a=e.axis.scale.rawExtentInfo;0!==t[0]&&a.setDeterminedMinMax("min",+n[0].toFixed(i)),100!==t[1]&&a.setDeterminedMinMax("max",+n[1].toFixed(i)),a.freeze()}},e}();function h(e,t,n){var i=[1/0,-1/0];d(n,(function(e){Object(o["k"])(i,e.getData(),t)}));var a=e.getAxisModel(),r=Object(l["a"])(a.axis.scale,a,i).calculate();return[r.min,r.max]}var f=p,v={getTargetSeries:function(e){function t(t){e.eachComponent("dataZoom",(function(n){n.eachTargetAxis((function(i,r){var s=e.getComponent(Object(a["d"])(i),r);t(i,r,s,n)}))}))}t((function(e,t,n,i){n.__dzAxisProxy=null}));var n=[];t((function(t,i,a,r){a.__dzAxisProxy||(a.__dzAxisProxy=new f(t,i,r,e),n.push(a.__dzAxisProxy))}));var r=Object(i["f"])();return Object(i["k"])(n,(function(e){Object(i["k"])(e.getTargetSeriesModels(),(function(e){r.set(e.uid,e)}))})),r},overallReset:function(e,t){e.eachComponent("dataZoom",(function(e){e.eachTargetAxis((function(t,n){e.getAxisProxy(t,n).reset(e)})),e.eachTargetAxis((function(n,i){e.getAxisProxy(n,i).filterData(e,t)}))})),e.eachComponent("dataZoom",(function(e){var t=e.findRepresentativeAxisProxy();if(t){var n=t.getDataPercentWindow(),i=t.getDataValueWindow();e.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})}}))}},m=v;function g(e){e.registerAction("dataZoom",(function(e,t){var n=Object(a["c"])(t,e);Object(i["k"])(n,(function(t){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})}))}))}var y=!1;function b(e){y||(y=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,m),g(e),e.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}},1599:function(e,t,n){},1830:function(e,t,n){"use strict";var i=n("6d8b"),a=n("b682"),r=n("b1d4"),s=n("2f45"),o=n("e0d3"),l=n("1f39"),c=function(){function e(e){this.coordSysDims=[],this.axisMap=Object(i["f"])(),this.categoryAxisMap=Object(i["f"])(),this.coordSysName=e}return e}();function d(e){var t=e.get("coordinateSystem"),n=new c(t),i=u[t];if(i)return i(e,n,n.axisMap,n.categoryAxisMap),n}var u={cartesian2d:function(e,t,n,i){var a=e.getReferringComponents("xAxis",o["b"]).models[0],r=e.getReferringComponents("yAxis",o["b"]).models[0];t.coordSysDims=["x","y"],n.set("x",a),n.set("y",r),p(a)&&(i.set("x",a),t.firstCategoryDimIndex=0),p(r)&&(i.set("y",r),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,i){var a=e.getReferringComponents("singleAxis",o["b"]).models[0];t.coordSysDims=["single"],n.set("single",a),p(a)&&(i.set("single",a),t.firstCategoryDimIndex=0)},polar:function(e,t,n,i){var a=e.getReferringComponents("polar",o["b"]).models[0],r=a.findAxisModel("radiusAxis"),s=a.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",r),n.set("angle",s),p(r)&&(i.set("radius",r),t.firstCategoryDimIndex=0),p(s)&&(i.set("angle",s),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,i){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,a){var r=e.ecModel,s=r.getComponent("parallel",e.get("parallelIndex")),o=t.coordSysDims=s.dimensions.slice();Object(i["k"])(s.parallelAxisIndex,(function(e,i){var s=r.getComponent("parallelAxis",e),l=o[i];n.set(l,s),p(s)&&(a.set(l,s),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=i))}))}};function p(e){return"category"===e.get("type")}var h=n("ec6f"),f=n("ee1a"),v=n("0f99"),m=n("07fd");function g(e,t){var n,a=e.get("coordinateSystem"),r=l["a"].get(a);return t&&t.coordSysDims&&(n=i["F"](t.coordSysDims,(function(e){var n={name:e},i=t.axisMap.get(e);if(i){var a=i.get("type");n.type=Object(s["a"])(a)}return n}))),n||(n=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),n}function y(e,t,n){var a,r;return n&&i["k"](e,(function(e,i){var s=e.coordDim,o=n.categoryAxisMap.get(s);o&&(null==a&&(a=i),e.ordinalMeta=o.getOrdinalMeta(),t&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(r=!0)})),r||null==a||(e[a].otherDims.itemName=0),a}function b(e,t,n){n=n||{};var s,o=t.getSourceManager(),l=!1;e?(l=!0,s=Object(h["c"])(e)):(s=o.getSource(),l=s.sourceFormat===m["f"]);var c=d(t),u=g(t,c),p=n.useEncodeDefaulter,b=i["v"](p)?p:p?i["h"](v["c"],u,t):null,C={coordDimensions:u,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:b,canOmitUnusedDimensions:!l},S=Object(r["a"])(s,C),k=y(S.dimensions,n.createInvertedIndices,c),_=l?null:o.getSharedDataStore(S),T=Object(f["a"])(t,{schema:S,store:_}),x=new a["a"](S,t);x.setCalculationInfo(T);var D=null!=k&&w(s)?function(e,t,n,i){return i===k?n:this.defaultDimValueGetter(e,t,n,i)}:null;return x.hasItemOption=!1,x.initData(l?s:_,null,D),x}function w(e){if(e.sourceFormat===m["f"]){var t=C(e.data||[]);return!i["s"](Object(o["g"])(t))}}function C(e){var t=0;while(t<e.length&&null==e[t])t++;return e[t]}t["a"]=b},1899:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"common-link"},[i("div",{staticClass:"link-group-wrapper"},[e.groups.length&&!e.linkGroupLoading?[i("draggable",{attrs:{disabled:!e.canEdit,animation:"300",group:"group",move:e.onMove},model:{value:e.groups,callback:function(t){e.groups=t},expression:"groups"}},e._l(e.groups,(function(t,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:!(e.hiddenEmptyGroup&&0===t.contents.length),expression:"!(hiddenEmptyGroup && group.contents.length === 0)"}],key:a,staticClass:"link-group"},[i("div",{staticClass:"group-item"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.groupName,expression:"group.groupName"}],staticClass:"group-header"},[i("div",{staticClass:"group-left-info"},[i("div",{staticClass:"group-name"},[t.editing?e._e():i("div",{staticClass:"group-name-text"},[e._v(" "+e._s(t.groupName?t.groupName:"Untitled")+" ")]),t.editing?i("div",{staticClass:"group-name-input"},[i("a-input",{staticClass:"group-name-input",on:{pressEnter:function(n){return e.handleToggleEditGroupName(t,a)}},model:{value:e.newGroupName,callback:function(t){e.newGroupName=t},expression:"newGroupName"}})],1):e._e()]),e.canEdit?i("div",{staticClass:"group-edit-icon",on:{click:function(n){return e.handleToggleEditGroupName(t,a)}}},[i("a-tooltip",[i("template",{slot:"title"},[e._v(" Rename ")]),t.editing?e._e():i("a-icon",{style:{fontSize:"20px",color:"#15C39A"},attrs:{type:"edit"}})],2),t.editing?i("a-icon",{style:{fontSize:"20px",color:"#15C39A"},attrs:{type:"check"}}):e._e()],1):e._e()]),e.canEdit?i("div",{staticClass:"group-right-info"},[i("div",{staticClass:"group-action"},[i("a-button",{style:{"background-color":"#fff",color:"#000",border:"none"},attrs:{type:"primary"},on:{click:function(n){return e.handleLinkGroup(t)}}},[i("div",{staticClass:"btn-text"},[e._v(" + Link ")])])],1),i("a-popconfirm",{attrs:{"cancel-text":"No","ok-text":"Yes",title:"Delete group?"},on:{confirm:function(n){return e.handleDeleteGroup(t)}}},[i("span",{staticClass:"delete-action"},[i("img",{attrs:{src:n("1ffa")}})])])],1):e._e()]),i("draggable",{staticStyle:{width:"100%","min-height":"50px"},attrs:{disabled:!e.canEdit,animation:"300",group:"link-content"},on:{add:e.handleDragContent,update:e.handleDragContent,end:e.handleDragEnd},model:{value:t.contents,callback:function(n){e.$set(t,"contents",n)},expression:"group.contents"}},e._l(t.contents,(function(t){return i("div",{key:t.id,staticClass:"group-link-item"},[i("div",{staticClass:"left-info"},[i("div",{staticClass:"icon"},[i("content-type-icon",{attrs:{type:t.type}})],1),i("div",{staticClass:"name",on:{click:function(n){return e.handleViewDetail(t)}}},[i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[e._v(" Click and drag tasks to move between categorys ")]),e._v(" "+e._s(t.name?t.name:"untitled")+" ")],2)],1),t.type===e.typeMap.task?["fa"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag green-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e(),"sa"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag red-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e(),"activity"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag blue-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e()]:e._e(),t.isCreated?i("div",{staticClass:"downloaded-icon"},[i("a-tooltip",{attrs:{placement:"top",title:"already saved in my content"}},[i("downloaded-svg")],1)],1):e._e()],2),i("div",{staticClass:"right-info"},[i("div",{staticClass:"date"},[e._v(e._s(e._f("dayjs")(t.createTime)))]),i("div",{staticClass:"status"},[0===t.status?[e._v("Draft")]:e._e(),1===t.status?[e._v("Published")]:e._e()],2),e.canEdit?i("div",{staticClass:"more-action-wrapper action-item-wrapper"},[i("a-dropdown",[i("a-icon",{staticStyle:{"margin-right":"8px"},attrs:{type:"more"}}),i("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[i("a-menu-item",[i("a-popconfirm",{attrs:{title:e.$t("teacher.my-content.action-delete")+"?","cancel-text":"No","ok-text":"Yes"},on:{confirm:function(n){return e.handleDeleteLinkItem(t)}}},[i("a",{staticClass:"delete-action",attrs:{href:"#"}},[i("a-icon",{attrs:{type:"delete"}}),e._v(" "+e._s(e.$t("teacher.my-content.action-delete"))+" ")],1)])],1),i("a-menu-item",[i("a",{on:{click:function(n){return e.handleEditLinkItem(t)}}},[i("a-icon",{attrs:{type:"form"}}),e._v(" "+e._s(e.$t("teacher.my-content.action-edit"))+" ")],1)])],1)],1)],1):e._e()])])})),0)],1)])})),0)]:e._e()],2),i("a-modal",{attrs:{"dialog-style":{top:"0px"},footer:null,destroyOnClose:"",width:"900px"},model:{value:e.selectLinkContentVisible,callback:function(t){e.selectLinkContentVisible=t},expression:"selectLinkContentVisible"}},[i("div",{staticClass:"my-modal-title",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.linkTitle)+" ")]),i("div",{staticClass:"link-content-wrapper"},[i("new-my-content",{attrs:{"default-group-name":e.subDefaultGroupName,"filter-type-list":e.subFilterTypeList,"from-id":e.fromId,"from-type":e.fromType,"group-name-list":e.groupNameList,mode:"common-link","selected-list":e.selectedList,"show-create":e.showCreate,"show-tabs":e.showTabs},on:{cancel:function(t){e.selectLinkContentVisible=!1},ensure:e.handleEnsureSelectedLink}})],1)]),i("a-drawer",{attrs:{closable:!1,visible:e.previewVisible,destroyOnClose:"",placement:"right",width:"1000px"},on:{close:function(t){e.previewVisible=!1}}},[i("div",{staticClass:"preview-wrapper-row"},[i("div",{staticClass:"view-back"},[i("a-button",{staticClass:"preview-back-btn",attrs:{type:"primary",shape:"round"},on:{click:function(t){e.previewVisible=!1}}},[i("a-icon",{style:{"font-size":"12px"},attrs:{type:"left"}}),e._v("Back")],1)],1),e.previewCurrentId&&e.previewType?i("div",{staticClass:"detail-wrapper"},[i("common-preview-v2",{attrs:{id:e.previewCurrentId,type:e.previewType}})],1):e._e()])])],1)},a=[],r=n("2909"),s=(n("a9e3"),n("159b"),n("d3b7"),n("498a"),n("9afb")),o=n("9586"),l=n("1e7f"),c=n("3f76"),d=n("8f46"),u=n("823b"),p=n("adfc"),h=n("b76a"),f=n.n(h),v=n("1077"),m=n.n(v),g={name:"PlanLink",components:{ContentTypeIcon:d["a"],NewMyContent:l["a"],MyContentSelector:o["a"],CommonPreviewV2:p["a"],draggable:f.a,DownloadedSvg:m.a},props:{fromType:{type:Number,required:!0},fromId:{type:String,required:!0},filterType:{type:Number,default:0},hiddenEmptyGroup:{type:Boolean,default:!1},canEdit:{type:Boolean,default:!0},isLibrary:{type:Boolean,default:!1}},computed:{groupNameList:function(){var e=[];return this.groups.forEach((function(t){e.push(t.groupName)})),e}},data:function(){return{defaultGroupName:"Untitled category",defaultGroupNameEditMode:"view",defaultGroupOtherContents:[],linkGroupLoading:!0,ownerLinkGroupList:[],othersLinkGroupList:[],groups:[],subDefaultGroupName:["Untitled category"],currentGroupId:null,selectLinkContentVisible:!1,typeMap:c["e"],previewVisible:!1,previewCurrentId:"",previewType:"",subFilterTypeList:[c["e"].evaluation],showCreate:!0,showTabs:!0,linkTitle:"Link Content",editingGroup:"",groupRransition:[],newGroupName:null,selectedList:[]}},created:function(){this.$logger.info("load PlanLink with id["+this.fromId+"] fromType["+this.fromType+"]"),this.subFilterTypeList=[c["e"].task],this.getAssociate()},methods:{getAssociate:function(){var e=this;this.$logger.info("GetAssociate id["+this.fromId+"] fromType["+this.fromType+"]"),this.linkGroupLoading=!0,Object(s["GetAssociate"])({id:this.fromId,type:this.fromType,published:this.isLibrary?1:0}).then((function(t){e.$logger.info("CommonLink GetAssociate response",t),e.groups=t.result.groups,e.$logger.info("formatted owner",t.result.owner),e.$logger.info("formatted others",t.result.others),e.othersLinkGroupList=[],e.ownerLinkGroupList=t.result.owner,e.groups.forEach((function(t){t.editing=!1,t.contents=[],e.ownerLinkGroupList.forEach((function(e){e.group===t.groupName&&(t.contents=e.contents)}))})),e.groups=e.groups.sort((function(e,t){return e.groupName?1:-1})),e.$logger.info("formatted groups",e.groups),e.$logger.info("ownerLinkGroupList",e.ownerLinkGroupList),t.result.others.forEach((function(t){var n;(n=e.othersLinkGroupList).unshift.apply(n,Object(r["a"])(t.contents))})),e.$logger.info("othersLinkGroupList",e.othersLinkGroupList),e.$emit("group-name-list-update")})).finally((function(){e.linkGroupLoading=!1}))},handleEnsureSelectedLink:function(e){this.$logger.info("handleEnsureSelectedLink",e),this.selectLinkContentVisible=!1,this.getAssociate()},handleLinkGroup:function(e){var t=this;this.$logger.info("handleLinkGroup",e),this.subDefaultGroupName=e.groupName,this.selectLinkContentVisible=!0,this.selectedList=[],e.contents.forEach((function(e){t.selectedList.push(e.type+"-"+e.id)})),this.fromType===c["e"]["unit-plan"]?this.subFilterTypeList=[c["e"].task]:this.filterType===c["e"].task&&(this.subFilterTypeList=[c["e"].evaluation,c["e"]["unit-plan"]])},handleToggleEditGroupName:function(e,t){var n=this;this.$logger.info("handleToggleEditGroupName",e),e.editing?function(){var i="Untitled group ",a=1;while(1){var r=!0;if(n.groups.forEach((function(e){e.groupName===i+a&&(r=!1)})),r){i+=a;break}a++}e.groupName=n.newGroupName&&n.newGroupName.trim().length?n.newGroupName:i,Object(s["AddOrSaveGroupName"])({fromId:n.fromId,fromType:n.fromType,id:e.id,groupName:e.groupName}).then((function(e){n.$logger.info("AddOrSaveGroupName",e)})).finally((function(){e.editing=!1,n.$set(n.groups,t,e)}))}():(this.newGroupName=e.groupName,e.editing=!0,this.$set(this.groups,t,e))},handleDeleteGroup:function(e){var t=this;this.$logger.info("handleDeleteGroup",e),Object(s["DeleteGroup"])({fromId:this.fromId,fromType:this.fromType,id:e.id}).then((function(e){t.$logger.info("DeleteGroup",e),t.getAssociate()}))},handleViewDetail:function(e){u["info"]("handleViewDetail",e),this.previewCurrentId=e.id,this.previewType=e.type,this.previewVisible=!0},handleEditLinkItem:function(e){u["info"]("handleEditLinkItem",e),e.type===c["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===c["e"].task?window.open("/teacher/task-redirect/"+e.id,"_blank"):e.type===c["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleDeleteLinkItem:function(e){var t=this;this.$logger.info("handleDeleteLinkItem",e),Object(s["AssociateCancel"])({fromId:this.fromId,fromType:this.fromType,toId:e.id,toType:e.type}).then((function(e){t.$logger.info("handleDeleteLinkItem response ",e),t.getAssociate()}))},handleDragEnd:function(){var e=this;u["info"]("handleDragEnd ",this.groups),this.groups.forEach((function(t,n){e.$set(e.groups,n,t)})),Object(s["SaveGroupItems"])({fromId:this.fromId,fromType:this.fromType,groups:this.groups}).then((function(t){e.$logger.info("AddOrSaveGroupName",t)})).finally((function(){}))},onMove:function(e,t){return!!e.draggedContext.element.groupName&&!!e.relatedContext.element.groupName},handleDragContent:function(e,t){this.$logger.info("PlanLink handleDragContent",e,this.groups,t);var n=JSON.parse(e.item.dataset.item);this.$logger.info("drag in data ",n)}}},y=g,b=(n("8b49"),n("0c7c")),w=Object(b["a"])(y,i,a,!1,null,"39bd8b28",null);t["a"]=w.exports},"1c40":function(e,t,n){"use strict";n("6c27")},"1d3c":function(e,t,n){},"1e7f":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my-content"},[e.showTabs?i("div",{staticClass:"display-type-toggle"},[-1!==e.filterTypeList.indexOf(e.typeMap["unit-plan"])?i("div",{class:{"display-type-item":!0,"active-display-type":e.currentType===e.typeMap["unit-plan"]},on:{click:function(t){return e.handleToggleDisplayType(e.typeMap["unit-plan"])}}},[e._v(" "+e._s(e.$t("teacher.my-content.unit-plan-type"))+" ")]):e._e(),-1!==e.filterTypeList.indexOf(e.typeMap.task)?i("div",{class:{"display-type-item":!0,"active-display-type":e.currentType===e.typeMap.task},on:{click:function(t){return e.handleToggleDisplayType(e.typeMap.task)}}},[e._v(" "+e._s(e.$t("teacher.my-content.tasks-type"))+" ")]):e._e(),-1!==e.filterTypeList.indexOf(e.typeMap.evaluation)?i("div",{class:{"display-type-item":!0,"active-display-type":e.currentType===e.typeMap.evaluation},on:{click:function(t){return e.handleToggleDisplayType(e.typeMap.evaluation)}}},[e._v(" "+e._s(e.$t("teacher.my-content.evaluation-type"))+" ")]):e._e()]):e._e(),e.showCreate?i("div",{staticClass:"create-new-action"},[i("div",{staticClass:"create-action"},[i("a-button",{attrs:{type:"primary",shape:"round",icon:"plus",loading:e.createLoading},on:{click:e.handleEnsureCreate}},[e._v(" Create New "+e._s(e.currentTypeLabel)+" ")])],1)]):e._e(),i("div",{staticClass:"content-wrapper"},[i("a-skeleton",{attrs:{loading:e.skeletonLoading,active:""}},[i("div",{staticClass:"content-list"},["list"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("a-list-item",{key:"item.key",class:{"my-list-item":!0,"active-item":-1!==e.mySelectedList.indexOf(t.type+"-"+t.id),"active-new-item":t.id===e.editId},attrs:{"data-id":t.type+"-"+t.id}},[i("div",{staticClass:"select-block",on:{click:function(n){return e.handleLinkItem(t,n)}}},[-1===e.mySelectedList.indexOf(t.type+"-"+t.id)?i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}}):e._e(),-1!==e.mySelectedList.indexOf(t.type+"-"+t.id)?i("div",{staticClass:"selected-icon"},[i("img",{attrs:{src:n("7aa6")}})]):e._e()],1),i("span",{staticClass:"content-info-left"},[i("content-type-icon",{attrs:{type:t.type}}),i("span",{staticClass:"name-content"},[e.editId===t.id&&"input"===e.createNewNameMode?i("a-input",{ref:"inputRef",attrs:{size:"small",type:"text",placeholder:"Input name"},on:{blur:function(n){return e.handleConfirmName(t)},pressEnter:function(n){return e.handleConfirmName(t)}},model:{value:e.createNewName,callback:function(t){e.createNewName=t},expression:"createNewName"}}):i("a-tooltip",{attrs:{title:"Rename"}},[i("span",{staticClass:"name-text",on:{click:function(n){return e.handleRename(t)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")])])],1)],1),i("span",{staticClass:"content-info-right"},[i("span",{staticClass:"status"},[0===t.status?[e._v("Draft")]:e._e(),1===t.status?[e._v("Published")]:e._e()],2),i("span",{staticClass:"update-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime||t.createTime))+" ")]),i("div",{staticClass:"action"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item",on:{click:function(n){return e.handleViewDetail(t,n)}}},[i("span",{staticClass:"btn-text"},[e._v("Preview")])]),i("div",{staticClass:"action-item",on:{click:function(n){return e.handleEditItem(t)}}},[i("span",{staticClass:"btn-text"},[e._v("Edit")])])]),e.mode===e.displayMode.Link?i("div",{attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link this content to my Unit?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(n){return e.handleLinkItem(t,n)}}},[i("span",[i("a-icon",{attrs:{type:"form"}}),e._v(" Link ")],1)])],1)])]):e._e(),e.mode===e.displayMode.Refer?i("div",{attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item refer-item"},[i("a-button",{staticClass:"refer-btn",attrs:{type:"primary"},on:{click:function(n){return e.handleReferItem(t,n)}}},[i("img",{staticClass:"btn-icon btn-icon-white",attrs:{src:n("e568")}}),i("img",{staticClass:"btn-icon btn-icon-color",attrs:{src:n("83d7")}}),i("div",{staticClass:"btn-text"},[e._v(" Refer ")])])],1)])]):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.displayMode.Evaluation,expression:"mode === displayMode.Evaluation"}],attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(n){return e.handleLinkItem(t,n)}}},[i("div",{staticClass:"link-item"},[i("img",{staticClass:"link-icon",attrs:{src:n("de1a")}}),e._v(" "+e._s("Link this evaluation to this "+(t.type===e.typeMap.task?"task":t.type===e.typeMap.task?"lesson":""))+" ")])])],1)])])])])])}}],null,!1,2451434729)}):e._e(),"card"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("div",{key:"item.key",staticClass:"my-card-list-item"},[i("div",{staticClass:"cover-img-wrapper"},[i("div",{staticClass:"cover-image",style:{backgroundImage:"url('"+t.image+"')"}})]),i("div",{staticClass:"item-intro"},[i("div",{staticClass:"page-info"},[i("span",{staticClass:"page-num-tag"},[e._v(" 1/1 ")])]),i("div",{staticClass:"main-title",on:{click:function(n){return e.handleViewDetail(t,n)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")]),i("div",{staticClass:"sub-title"},[e._v(" "+e._s(e._f("dayjs")(t.createTime))+" ")])]),i("div",{staticClass:"item-action-wrapper"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.displayMode.Link,expression:"mode === displayMode.Link"}]},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link this content to my Unit?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(n){return e.handleLinkItem(t,n)}}},[i("span",[i("a-icon",{attrs:{type:"form"}}),e._v(" Link ")],1)])],1)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.displayMode.Refer,expression:"mode === displayMode.Refer"}]},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item refer-item"},[i("a-button",{staticClass:"refer-btn",attrs:{type:"primary"},on:{click:function(n){return e.handleReferItem(t,n)}}},[i("img",{staticClass:"btn-icon btn-icon-white",attrs:{src:n("e568")}}),i("img",{staticClass:"btn-icon btn-icon-color",attrs:{src:n("83d7")}}),i("div",{staticClass:"btn-text"},[e._v(" Refer ")])])],1)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.displayMode.Evaluation,expression:"mode === displayMode.Evaluation"}]},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(n){return e.handleLinkItem(t,n)}}},[i("div",{staticClass:"link-item"},[i("img",{staticClass:"link-icon",attrs:{src:n("de1a")}}),e._v(" "+e._s("Link this evaluation to this "+(t.type===e.typeMap.task?"task":t.type===e.typeMap.task?"lesson":""))+" ")])])],1)])])]),i("div",{staticClass:"card-action-icon"},[-1!==e.mySelectedList.indexOf(t.type+"-"+t.id)?i("img",{attrs:{src:n("7aa6")}}):e._e()])])}}],null,!1,2986142521)}):e._e(),i("div",{staticClass:"modal-ensure-action-line"},[i("a-button",{staticClass:"action-item action-cancel",attrs:{shape:"round"},on:{click:e.handleCancel}},[e._v("Cancel")]),i("a-button",{staticClass:"action-ensure action-item",attrs:{type:"primary",shape:"round",loading:e.ensureLoading},on:{click:e.handleEnsure}},[e._v("Ok")])],1)],1)]),i("a-drawer",{attrs:{destroyOnClose:"",placement:"right",width:"800px",closable:!1,visible:e.previewVisible},on:{close:e.handlePreviewClose}},[i("div",{staticClass:"preview-wrapper"},[i("a-row",{staticClass:"preview-wrapper-row"},[i("a-col",{attrs:{span:"3"}},[i("div",{staticClass:"view-back",on:{click:e.handlePreviewClose}},[i("div",{staticClass:"back-icon"},[i("img",{attrs:{src:n("217a")}})])])]),i("a-col",{attrs:{span:"21"}},[i("div",{staticClass:"detail-wrapper"},[e.previewCurrentId&&e.previewType?i("div",{staticClass:"preview-detail"},[i("common-preview-no-link",{attrs:{id:e.previewCurrentId,type:e.previewType}})],1):e._e()])])],1)],1)])],1)])},a=[],r=n("3835"),s=n("b85c"),o=n("1da1"),l=(n("96cf"),n("a9e3"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("fb6a"),n("159b"),n("a434"),n("b0c0"),n("823b")),c=n("ea23"),d=n("7d7a"),u=n("9afb"),p=n("95c6"),h=n("3f76"),f=n("4803"),v=n("8f46"),m=n("4fb2"),g=n("57a5b"),y=n("69b3"),b=n("05be"),w=n.n(b),C=n("8d47"),S=n.n(C),k=n("9f06"),_=n("b199"),T=n("de0d"),x=n("1449"),D={name:"NewMyContent",components:{CommonPreviewNoLink:x["a"],ContentStatusIcon:f["a"],ContentTypeIcon:v["a"],UnitPlanPreview:c["default"],MaterialPreview:d["default"],NoMoreResources:y["a"],PuBuIcon:w.a,ListModeIcon:S.a},props:{filterTypeList:{type:Array,default:function(){return[]}},selectedList:{type:Array,default:function(){return[]}},mode:{type:String,default:g["a"].Link},selectedType:{type:String,default:"created-by-me"},currentId:{type:String,default:""},fromType:{type:Number,required:!0},fromId:{type:String,required:!0},defaultGroupName:{type:String,default:null},showTabs:{type:Boolean,default:!0},showCreate:{type:Boolean,default:!0},noSelectedTips:{type:String,default:"Please select at least one content."}},data:function(){var e=this;return{skeletonLoading:!0,loading:!0,createLoading:!1,loadFailed:!1,myContentList:[],displayMode:g["a"],currentStatus:"all-status",currentStatusLabel:this.$t("teacher.my-content.all-status"),currentType:null,currentTypeLabel:null,currentOwner:"all-owner",currentOwnerLabel:this.$t("teacher.my-content.all-owner"),previewVisible:!1,previewCurrentId:"",previewType:"",pagination:{onChange:function(t){l["info"]("pagination onChange",t),e.pageNo=t,e.loadMyContent()},showTotal:function(e){return"Total ".concat(e," items")},total:0,pageSize:10},pageNo:1,typeMap:h["e"],dataListMode:"list",createdType:"All",createNewName:"",createNewNameMode:"hide",mySelectedList:[],waitCancelAssociateMap:new Map,waitAddAssociateMap:new Map,editId:"",ensureLoading:!1}},watch:{selectedType:function(e){this.$logger.info("watch select type "+e),this.pageNo=1,this.myContentList=[],this.pagination.total=0,this.pagination.pageSize=8,this.loadMyContent()}},created:function(){this.$logger.info("NewMyContent filterTypeList",this.filterTypeList),this.filterTypeList.length&&(this.currentType=this.filterTypeList[0],this.currentTypeLabel=Object(h["b"])(this.filterTypeList[0])),this.$logger.info("currentTypeLabel "+this.currentTypeLabel),this.$logger.info("NewMyContent selectedList",this.selectedList),this.mySelectedList=this.selectedList.slice(),this.loadMyContent()},methods:{loadMyContent:function(){this.loading=!0,"Created by me"===this.createdType?this.getMyContent():"My Favorite"===this.createdType?this.getMyFavorites():"Shared"===this.createdType?(this.loading=!1,this.skeletonLoading=!1,this.$logger.info("shared coming soon!")):this.getMyContent()},handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},getMyContent:function(){var e=this,t=[];this.filterTypeList.forEach((function(e){t.push(h["e"][e])})),Object(u["FindMyContent"])({owner:h["c"][this.currentOwner],types:this.currentType?[this.currentType]:t,pageNo:this.pageNo,pageSize:this.pagination.pageSize,currentId:this.currentId}).then((function(t){l["info"]("getMyContent",t),t.result&&t.result.records&&t.result.records.length?(t.result.records.forEach((function(e,t){e.key=t})),e.myContentList=t.result.records,e.pagination.total=t.result.total):(e.myContentList=[],e.pagination.total=0),l["info"]("myContentList",e.myContentList)})).finally((function(){e.loading=!1,e.skeletonLoading=!1,e.$nextTick((function(){e.$refs.inputRef&&e.$refs.inputRef.focus()}))}))},getMyFavorites:function(){var e=this;this.$logger.info("getMyFavorites"),Object(p["FavoritesGetMyFavorites"])({type:this.currentType,pageNo:this.pageNo,pageSize:this.pagination.pageSize}).then((function(t){e.$logger.info("FavoritesGetMyFavorites response",t),t.result&&t.result.records&&t.result.records.length?(t.result.records.forEach((function(e,t){e.key=t})),e.myContentList=t.result.records,e.pagination.total=t.result.total,e.pagination.current=t.result.current):(e.myContentList=[],e.pagination.total=0)})).finally((function(){e.loading=!1,e.skeletonLoading=!1}))},toggleStatus:function(e,t){l["info"]("toggleStatus "+e+" label "+t),this.currentStatus=e,this.currentStatusLabel=t,this.loadMyContent()},toggleType:function(e,t){l["info"]("toggleType "+e+" label "+t),this.currentType=e,this.currentTypeLabel=t,this.loadMyContent()},toggleOwner:function(e,t){l["info"]("toggleOwner "+e+" label "+t),this.currentOwner=e,this.currentOwnerLabel=t,this.loadMyContent()},handleLinkItem:function(e,t){l["info"]("handleLinkItem",e),t.preventDefault(),t.stopPropagation();var n=e.type+"-"+e.id,i=this.mySelectedList.indexOf(n);-1!==i?(this.mySelectedList.splice(i,1),this.waitCancelAssociateMap.set(n,e),this.waitAddAssociateMap.delete(n)):(this.mySelectedList.push(n),this.waitAddAssociateMap.set(n,e),this.waitCancelAssociateMap.delete(n))},handleViewDetail:function(e,t){l["info"]("my content created by me handleViewDetail",e,t),t.preventDefault(),t.stopPropagation(),this.previewCurrentId=e.id,this.previewType=e.type,this.previewVisible=!0},handlePreviewClose:function(){l["info"]("handlePreviewClose"),this.previewCurrentId="",this.previewType="",this.previewVisible=!1},handleReferItem:function(e,t){l["info"]("handleReferItem",e),t.preventDefault(),t.stopPropagation(),m["b"].$emit(m["a"].ReferContentItem,{item:e})},handleToggleType:function(e){this.$logger.info("handleToggleType "+e),this.createdType=e,this.loadMyContent()},handleToggleDisplayType:function(e){this.$logger.info("handleToggleDisplayType"+e),this.currentType===e?(this.currentType=null,this.currentTypeLabel=null):(this.currentType=e,this.currentTypeLabel=Object(h["b"])(e)),this.$logger.info("after handleToggleDisplayType"+this.currentType),this.loadMyContent()},handleEnsureCreate:function(){var e=this;this.$logger.info("handleEnsureCreate "+this.currentType+" "+this.createNewName),this.createLoading=!0,this.createNewName="",this.currentType===this.typeMap.evaluation?Object(k["EvaluationAddOrUpdate"])({name:this.createNewName}).then((function(t){e.$logger.info("EvaluationAddOrUpdate response",t),e.editId=t.result.id,e.createNewNameMode="input";var n=e.typeMap.evaluation+"-"+e.editId;e.mySelectedList.push(n),e.waitAddAssociateMap.set(n,{id:e.editId,type:e.typeMap.evaluation}),e.loadMyContent()})).finally((function(){e.createLoading=!1})):this.currentType===this.typeMap.task?Object(_["TaskAddOrUpdate"])({name:this.createNewName}).then((function(t){e.$logger.info("TaskAddOrUpdate response",t),e.editId=t.result.id,e.createNewNameMode="input";var n=e.typeMap.task+"-"+e.editId;e.mySelectedList.push(n),e.waitAddAssociateMap.set(n,{id:e.editId,type:e.typeMap.task}),e.loadMyContent()})).finally((function(){e.createLoading=!1})):this.currentType===this.typeMap["unit-plan"]&&Object(T["UnitPlanAddOrUpdate"])({name:this.createNewName}).then((function(t){e.$logger.info("UnitPlanAddOrUpdate response",t),e.editId=t.result.id,e.createNewNameMode="input";var n=e.typeMap["unit-plan"]+"-"+e.editId;e.mySelectedList.push(n),e.waitAddAssociateMap.set(n,{id:e.editId,type:e.typeMap["unit-plan"]}),e.loadMyContent()})).finally((function(){e.createLoading=!1}))},handleCancel:function(){this.$emit("cancel")},handleEnsure:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i,a,o,l,c,d,p,h,f,v,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$logger.info("handleEnsure add group associate",e.waitAddAssociateMap,e.waitCancelAssociateMap,e.defaultGroupName),e.ensureLoading=!0,!e.waitCancelAssociateMap.size&&!e.waitAddAssociateMap.size){t.next=18;break}n={fromId:e.fromId,fromType:e.fromType,groupName:e.defaultGroupName,otherContents:[]},i=Object(s["a"])(e.waitAddAssociateMap);try{for(i.s();!(a=i.n()).done;)o=Object(r["a"])(a.value,2),l=o[0],c=o[1],-1===e.selectedList.indexOf(l)?n.otherContents.push({toId:c.id,toType:c.type}):e.$logger.info("handleEnsure waitAddAssociateMap item is selected skip "+l,c,e.selectedList)}catch(g){i.e(g)}finally{i.f()}d={fromId:e.fromId,fromType:e.fromType,others:[]},p=Object(s["a"])(e.waitCancelAssociateMap);try{for(p.s();!(h=p.n()).done;)f=Object(r["a"])(h.value,2),v=f[0],m=f[1],-1!==e.selectedList.indexOf(v)?d.others.push({toId:m.id,toType:m.type}):e.$logger.info("handleEnsure waitCancelAssociateMap item is no selected skip "+v,m,e.selectedList)}catch(g){p.e(g)}finally{p.f()}if(e.ensureLoading=!0,e.$logger.info("associate data",n),!n.otherContents.length){t.next=14;break}return t.next=14,Object(u["Associate"])(n);case 14:if(e.$logger.info("cancelAssociateData data",d),!d.others.length){t.next=18;break}return t.next=18,Object(u["AssociateCancel"])(d);case 18:e.ensureLoading=!1,e.$emit("ensure");case 20:case"end":return t.stop()}}),t)})))()},handleEditItem:function(e){l["info"]("handleEditItem",e),e.type===h["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===h["e"].task?window.open("/teacher/task-redirect/"+e.id,"_blank"):e.type===h["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleConfirmName:function(e){var t=this;this.createNewNameMode="hide",e.name!==this.createNewName&&(e.name=this.createNewName,Object(u["Rename"])({id:e.id,type:e.type,name:this.createNewName}).then((function(e){t.$logger.info("Rename response",e),e.success||t.$message.error(e.message)})))},handleRename:function(e){var t=this;this.editId=e.id,this.createNewNameMode="input",this.createNewName=e.name,this.$nextTick((function(){t.$refs.inputRef.focus()}))}}},E=D,O=(n("2d67"),n("0c7c")),I=Object(O["a"])(E,i,a,!1,null,"1eae7179",null);t["a"]=I.exports},"1f30":function(e,t,n){},"1f7f":function(e,t,n){"use strict";n("1d3c")},"1ffa":function(e,t,n){e.exports=n.p+"img/delete.531182ef.png"},"1ffe":function(e,t,n){"use strict";n("626d")},"20b5":function(e,t,n){},"20de":function(e,t,n){var i=n("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"30.75",height:"24.6",viewBox:"0 0 30.75 24.6"},children:[{tag:"g",attrsMap:{id:"",transform:"translate(0)"},children:[{tag:"path",attrsMap:{id:"_406","data-name":" 406",style:"fill: #ce9f06;",class:"cls-1",d:"M269.187,4.28H258.341L255.592.494A1.286,1.286,0,0,0,254.676,0h-7.638c-.916,0-1.526.988-1.221,2.305l2.749,17.288a1.486,1.486,0,0,0,1.375,1.317h16.8a1.513,1.513,0,0,0,1.375-1.316l2.139-13.173c.305-1.153-.305-2.14-1.07-2.14Z",transform:"translate(-239.833)"}},{tag:"path",attrsMap:{id:"_407","data-name":" 407",style:"fill: #fff;",class:"cls-2",d:"M358.4,286.514V275.456h18.45v11.058Z",transform:"translate(-349.793 -268.839)"}},{tag:"path",attrsMap:{id:"_408","data-name":" 408",style:" fill: #ffcd2c;",class:"cls-3",d:"M29.158,229.582H15.641l-3.615-3.806a1.656,1.656,0,0,0-1.1-.5H1.5a1.552,1.552,0,0,0-1.415,2.15L4.64,243.31a1.766,1.766,0,0,0,1.728,1.159H25.413a1.768,1.768,0,0,0,1.729-1.157l3.588-12.076a1.523,1.523,0,0,0-1.572-1.653Z",transform:"translate(0 -219.868)"}}]}]})}},"214d":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-tag"},[n("div",{staticStyle:{"font-family":"Inter-Bold"}},[e._v(" "+e._s(e.knowledge.name)+" ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.tags.length,expression:"tags.length"}],staticClass:"tag-select-wrapper"},[n("a-row",[n("a-col",{attrs:{offset:"0",span:"24"}},[n("div",{staticClass:"skt-tag-list"},e._l(e.tags,(function(t){return n("div",{key:t,staticClass:"skt-tag-item "},[n("a-tag",{staticClass:"tag-item",attrs:{closable:!0},on:{close:function(n){return e.closeTag(t)}}},[e._v(" "+e._s(t)+" ")])],1)})),0)])],1)],1),n("a-spin",{directives:[{name:"show",rawName:"v-show",value:e.tagLoading,expression:"tagLoading"}],staticClass:"spin-loading"}),n("a-row",[n("a-col",[n("div",{staticClass:"tag-search-input"},[n("a-input-search",{staticClass:"search-input",attrs:{size:"large",placeholder:"Search tag"},on:{search:e.searchTag,keyup:e.searchTag},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleKeyup.apply(null,arguments)}},model:{value:e.inputTag,callback:function(t){e.inputTag=t},expression:"inputTag"}})],1)])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.tagSearchList.length||e.inputTag,expression:"tagSearchList.length || inputTag"}],staticClass:"skt-tag-wrapper"},[n("a-row",[n("a-col",{attrs:{offset:"0"}},[n("div",{staticClass:"skt-tag-list"},[n("div",{staticClass:"triangle"}),n("div",{staticClass:"search-tag-wrapper tag-wrapper"},e._l(e.tagSearchList,(function(t){return n("div",{key:t,staticClass:"skt-tag-item"},[n("a-tag",{class:{"tag-item":!0,"tag-disable":e.tags.indexOf(t)>-1},attrs:{draggable:"true"},on:{click:function(n){return e.selectChooseTag(t)}}},[e._v(" "+e._s(t)+" ")])],1)})),0),n("div",{staticClass:"create-tag-wrapper tag-wrapper"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.tagIsExist(e.inputTag,e.tagSearchList)&&e.inputTag&&e.inputTag.length>=1,expression:"!tagIsExist(inputTag,tagSearchList) && inputTag && inputTag.length >= 1"}],staticClass:"skt-tag-create-line",on:{click:e.handleCreateTagByInput}},[n("div",{staticClass:"create-tag-label"},[e._v(" Create ")]),n("div",{staticClass:"create-tag"},[n("a-tag",{staticClass:"created-tag-item"},[e._v(" "+e._s(e.inputTag)+" ")])],1)])])])])],1)],1),e.contentLoading?e._e():n("div",{directives:[{name:"show",rawName:"v-show",value:!e.inputTag,expression:"!inputTag"}],staticClass:"hot-select-wrapper"},[n("a-row",[n("a-col",{attrs:{offset:"0",span:"24"}},[n("div",{staticClass:"title"},[e._v("Hot")]),n("div",{staticClass:"skt-tag-list"},e._l(e.hotList,(function(t,i){return n("div",{key:i,staticClass:"skt-tag-item"},[n("a-tag",{class:{"tag-item":!0,"tag-disable":e.tags.indexOf(t)>-1},on:{click:function(n){return e.addTag(t)}}},[e._v(" "+e._s(t)+" ")])],1)})),0)]),n("a-col",{attrs:{offset:"0",span:"24"}},[n("div",{staticClass:"title"},[e._v("Knowledge")]),n("div",{ref:"knowledgeTagRef",class:{"skt-tag-list":!0,"hide-some":e.isHideSome}},e._l(e.recommendList,(function(t,i){return n("div",{key:i,staticClass:"skt-tag-item "},[n("a-tag",{class:{"tag-item":!0,"tag-disable":e.tags.indexOf(t)>-1},on:{click:function(n){return e.addTag(t)}}},[e._v(" "+e._s(t)+" ")])],1)})),0),n("div",{staticClass:"downUp"},[e.isHideSome?n("a-icon",{attrs:{type:"double-right"},on:{click:e.showAll}}):e._e(),e.isHideSome?e._e():n("a-icon",{attrs:{type:"double-left"},on:{click:e.showAll}})],1)])],1)],1),n("a-skeleton",{attrs:{loading:e.contentLoading,active:""}})],1)},a=[],r=(n("a434"),n("498a"),n("823b")),s=n("db6a"),o=n("d33b4"),l=n("4fcf"),c=l.debounce,d={name:"LearnOutAddTag",components:{},mixins:[o["a"]],computed:{},props:{knowledge:{type:Object,default:function(){}}},data:function(){return{tags:this.knowledge.tags?this.knowledge.tags:[],hotList:[],recommendList:[],tagLoading:!1,contentLoading:!1,visible:!0,inputTag:"",tagName:"",tagSearchList:[],userTags:[],isHideSome:!0}},created:function(){this.debouncedSearchKnowledge=c(this.searchTag,500),this.$logger.info("knowledge ",this.knowledge),this.loadRecommendTags()},watch:{},methods:{handleOk:function(){},closeTag:function(e){this.tags.splice(this.tags.indexOf(e),1),this.$emit("handle-select-tags",this.tags),this.$logger.info("handle-select-tags ",this.tags)},selectChooseTag:function(e){this.addTag(e)},loadRecommendTags:function(){var e=this;this.contentLoading=!0,Object(s["FindRecommendByKnowledgeId"])({knowledgeId:this.knowledge.knowledgeId}).then((function(t){e.$logger.info("loadRecommendTags response",t.result),t.success?(e.hotList=t.result.hots,e.recommendList=t.result.tags,e.contentLoading=!1,setTimeout((function(){e.$refs.knowledgeTagRef.offsetHeight<200&&(e.isHideSome=!1)}),100)):e.$message.error(t.message)}))},addTag:function(e){-1===this.tags.indexOf(e)&&this.tags.push(e),this.$emit("handle-select-tags",this.tags),this.$logger.info("handle-select-tags ",this.tags)},handleKeyup:function(){this.$logger.info("tag handleKeyup ",this.inputTag),this.debouncedSearchKnowledge(this.inputTag),this.handleCreateTagByInput()},handleCreateTagByInput:function(){this.$logger.info("skill handleCreateTagByInput "+this.inputTag),this.addTag(this.inputTag),this.inputTag=""},searchTag:function(){var e=this;r["info"]("searchTag",this.inputTag);var t=this.inputTag;t&&"string"===typeof t&&t.trim().length>=3?Object(s["FindRecommendByKnowledgeId"])({knowledgeId:this.knowledge.knowledgeId,key:t}).then((function(t){r["info"]("searchByDescription",t),e.tagSearchList=t.result.tags})):this.tagSearchList=[]},handleEnsureSelectData:function(){this.addTagVisible=!1,this.knowledge.tags=this.tags,this.$emit("remove-learn-outs",this.tags)},showAll:function(){this.isHideSome=!this.isHideSome}}},u=d,p=(n("9ee6"),n("0c7c")),h=Object(p["a"])(u,i,a,!1,null,"29f8bd7a",null);t["a"]=h.exports},"217a":function(e,t,n){e.exports=n.p+"img/back.c46424eb.png"},2365:function(e,t,n){},"24e3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAmCAYAAAC29NkdAAAAAXNSR0IArs4c6QAAA2BJREFUWEfNmEloFEEUhr83iTHGLQqCMaKIIO4KehARNJLMaDwYMQRF8SxuF8WD4JKgB1HEBZFchIAobogLWWYSoiAo0aCCIgQRcQUXEteAmfST7jjjOHv3lGCdBrr+731dXVNd1UKapi1U4aMaZQZCKcpIhNfAAyya+MFlWUVPWsYNRlHAamA5wlyU8QifgVfAY5Tz4qcxFUOSXdAQSxCOosxJVxz4DpzAYr8EnN/Rpu0MI8weYDNQlJajdGCxVZbREd8vQVBb2Y1Sl0Es/vJD+qmUZbyzL2gbE7GcUZnughMG9kkFB2IzfwlqiJPAJhfQ2K7PgTL6KSCPW8A4TxylTvzsjWSjgtrKNpRjnqCRkPIEwQdMy4GjWNRIgEs2wxHUFibh4wkwJAewuajyBYup9pQZEAxyDmGNuQoGSEq9+Nko2kYpFi+AfANYk4he+hgrGmQ7wmGTZGMsZYMt2IwQMAY1CVIaREO8BUpMcg2yOm1BNQg0jfpoC9oreJ5pshGeYtmC3UCxEaB5SI8t+AiYbZ5thPjQFmwANhjBmYbYi7W2sA4fZ0yzDfGqRK9TRCFv/rt5qHQTpiSyWTiEjx2G7toMxqJWAuwbEGxkDIN4BowwQ8+RorxnEJOljG+x+8GdKAdzRJuJKxvFT70N+yPYTj593EWYZ6aKZ8o9brNAarH+EnQedTMz8NGJMNgzPrdgLzBPKngawSQemkJsBY7nVsdzepNUcCo2nfzYGeQiQrXnMt6C56UicVefXLCdQsKEgEXearlO3aIEv8zkZ3wyqaAzH69QzDDn+Piv39Od/KBMVvI12W2lFPz9pykhjzvARNdjkl2gC2GhlPMpVfe0go5kK1NQbv6DXfdL8lksZc6BLWXLKBgjac/JCdkNTMZeXeQTyCSXsA6mw2qQcQjNwKyM5dOCuE+YSqnkQzacrEYwAtJ2ignTBCzIBp6kTxvdVEkN37LNuxJ0HncLQ8njGsrSbIs4/ZQr9LBGahKXkpznYDxAL1DAaBrQrD+XnKKcLSID71c3zfUIRh+3IoTYj7ArTcF+lJ3i54gbqdi+ngWjokHWIpwGCuMkehDWSrnzx/LcchZ0pleQ+QjXomul8ow+VsgKujyb/Q4aEXQkrzKcItZjf37s5WyqV5db4V8Yk/SC1H4NzQAAAABJRU5ErkJggg=="},2578:function(e,t,n){"use strict";n("50ca")},2642:function(e,t,n){},"27aa":function(e,t,n){"use strict";n("5bb5")},"27f0":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAHs0lEQVRoQ+Wbf2xb1RXHv+c9203a9AetQn/Edl7IqKYq1cYoEhs0td0utFC0MamghcFAMMIPiUpsTC0//hlsoE6ruk3rWpBoGWsRaCtsLeNXG7sdoZ2SMnWhIAQsL7aT/kCkTWc3sfP8zvTsxYl/JL7Pz40d7f1l6X3vOefjc9959953L+ESXT0epUoi/WqwtIKIlgPcRKA6BtcQqMZwy+AIgSIM7iOibjB3S8RdcZ0+aAiow5ciNCql0bCnzgnY2liSbgDwNQCOIu3HAZwg1t8Ca885A33hIu3kNCsJcN8q97d1WdoEwAOQVKrgUnZYByMgsf5MXSB40KptS8BBn6uFID8L0FVWAxFpz0AnoD3hbg+9I6LPpykK+JRHUTQJWwG6pVjHltrp/JoNeGRxQFXN2jENHPK4fwBJ2gHQLLPOSqvnKHT9flcg+EczdoWB+69eMjMxx74DJN1hxsGl1jJ4t20w/tCS4/0XRXwJAYe+6ZyPavtbAK4RMTrVGmZ0SVJ8rfNQ35eFfBcENl41TI43QWgqZKys95lPcjzR4u4I9U8Wx6TAA2uumBtN8HsVDztKyHxSY1zfEFDPTwQ9IbAxUpKJDhLhurJmzqRzZnQkmNdMNFKbEDjoU3YR6C6T/ipCzjrvdgfUu4Xfw2GP8kOWaHdFRF9kEITEnc724EvZzXMyrDbXN8g26i7/e7ZI0rFmFxKa/nXlSG/PeEs5wCGfsq9sIyjLjJkGGPy6u13NGA1mAPf5XC06bG+b8TtrfStqbr0X9jrFTDNTWk5oiH3QgcHnt2Dk849NtZWg3VA3buydARz2KccZ9A1RiwbovLbHROWWdfpQFGfuWYvEmT5xW8z/cPnVa0cbpIHV5nqfbJMOiVoixwws3tcFqXpqh9TRv72Cc7/aLBpmSqez1xVQA8bPNHDIq7wBohtFLcmLnFi854iovGS6+CfdOPvgd8zZY/0Nl793fRr405WLaqvsVacAkkUtlQtYOx3G6dubRcNM6gjQhkaGllz599NfJDMc8igbIdE2M1amE3CKK/Gwqz342xSwT+kA6FtWgfWLUQwfOwS+GDVjakKtfWkTHEuXZ9wvJsPJLDPec/p7VtJZT21NjGoGQLCbiTJfhs9vfwrx7k4zZgpq5/3kWTgal6V1xQIzY6SKI/Mp5FHWQqI3C3rOEuQDHvj5RmjhjIGNWbM5+jn3PIqqFSstA/+vWq+jsFfZzES/MBtZPuCRzz9C5MDLQCJh1lxevW2REzW3tYHksVpabIYNB8z64xT2Kbu4iFnR9CtaRrXm3VRMwTL+rekIDPD7RpfuYSLTA+HpCEzMqpHhLwGab/ahywdsDPuMSs1DQguIBV3aly5H7S9fglQzpzRFCzxAIV/DEICqgt4FqvTpO7zQ+nvNmppUP3/zVsxc890SAWO4pMDntj2B6P69JQOm6plYuPMAbOOmnlaqNJAELl2XNkjjn/yrZF3a1rAU8tzMp80aMA/8HxYtr3IUROkJsmh/nI5VGszHKOhVXiSiO0VBR3X5gPXIBcROHge0kbQ5uXZxzgRAxFdk/17ogwOY/f37QbKtJEWLmf9AYW/Dk0z4mUgQ4zV5X0vv7kPiVCjHVLVnPezuRmEX53/3FCL7diX1l/34Gcy68baSABPzYyWdPERLADweFrKMy7e9Cseyse/tloqWzutKOj1MdekuQNPGuvSChXB81djuMXbFPv4nLrywFVXXNGP2rT9K38iGXfD4b1C9al1GWwvAw4N6pDa1AOBVDoPI1LqJlaL1xaa7EOtMrYfVfO9uzHvoSYjAGvqigZnbXX51dRI46FMeINB24YfM4uQh+vafcG7LT9Pu7I3LYEwtk5csI19mR8XFAjP4QXe7+vsksLGIV22v7mdgrBwWoLeSYcP0f/78Aga3P53ppQCshQzHh0eGnOlFvFS3rj8Akm4SzbJV4BxoAVijTTHLtMT8V6dfTa7tptelg82uZrLZDosCl2ohPrJ/Dy4e/Atmb7gX1de3FHRfzEI8a9oq95FQsmhkfGoJeZUOkPjq5TT51PK+y6+mP+pnA68C4AdRwb0fo6mYdXNrstKaGVgUTGOWgOMxxE4cM/8xjZkBeF1+Nd1zcz+XepU9IGo1G1RF6pn3uvzq7eNjywEOXudaAof8IRFdVpEQokExn+N4oil7V0/erhv2uTcw5FdFbVeijnW+xR1QX8+ObcJnNeRVdoLovkqEKRQTg3e429UH8ukmBP5wGRxzFyrvgMgoZNPnYj48eEZtafoIxp7rnGvSatzjUebZCAEQZY7+KxWf+YTG8BS1MW2UadpsPQS6OaattbT1cBTayLRMdKBSd+UZu+9GZLqp8eC/Bwt1PuEBxqdfwYwZLuXXRNRWyOhU3mfmnbGQuvHKzxAT8SsMPGos5K1vJZJ2MpA8mVKui4AIs97m8veaWgg3DWwAJo8AAFshlekIAPg1mz5FRwDGZ9Q45AHYnqap2zjeyeU45JHdjXu97tUy5E1MWHMpujgB7yb0xJb6ch/jyYZLvcLkVkDeAMIKS/CMLmb9FYolXnYdDZvYeje516KeYRGQ8Oq6BWDZxyytAKiRiBuY6fJ8R/GI+Cwz9YD4MzB3Yjjhdx0ND4j4Mav5LxqBYn78Go3TAAAAAElFTkSuQmCC"},"295a":function(e,t,n){"use strict";n("ed14")},"2ae5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAID0lEQVRoQ+Wbe3BU5RXAf2c3PCSppTDptKgzWNuOVZQkazt9iKAgBCyFkKzTUkuttkRw0LFTrVDpILbW0crQMoPo2GnQNgzNA1QoiopBhUohD4xQp+qQmSo6UCjKK4TsPZ0vN4/N5t69j90kdPrN5J/s+c45v/ude77zPa7QT03HThrOyFExonIVcAUq4xAuQMlDyOswq5xAOIHyAUozaDMqezj27wZpqWvtD9ckm0r1yjkXEo2UIzINGI8wNJR+pQ3Yi+rzJKwn5M3a90PpceiUFWAtiF9PhHuBSQiRbDnXGQUWaB1q/UYaa1/KVHdGwBormwo8BFKYqSO++iu7Seh9srd6qy/5bI2wFsweSyRnBSIlYQ1n1E91A1b7T6VpY0tQPYFHWItKb4LIGoTcoMayKq+cBOs2aaj5UxC9voE1NnMEOnQNEvlBEAP9LqtWBdJ2u9Q/d8qPLV/Aenl8FMN4HuGrfpQOuIzqHk4liuXtDUe8bHsCd0w1Q6JbgHFeygb3d92H1TZVGp89mM6PtMAai38aeP3ch+1C1H0k2q+Wpo3H3KBdgTsqpdH5Zt771uCOXGDrOzhyeIpbpeYOXBT/I8LNgc2dCx3UqpCGmh85ueIIrLHSH0Kkwpfv474EN8+Cgkth5Pm+uvQSKl8G9fvtf31vBqz7a3AdTj2sxDxprH069ac+wHrlzIvJGd7sa54tvR7uvgVyouGdTAbe8xd4tCJb0J9wtrVA3nzuQLJzfYGL4rUI3hWUGdknl2cGazxJBTb/yxa0slEaqnqx9AK2a2N5wddw/fZumJSFadkJOJvQ7TotufZOAY7XA0W+gF96Mtw7m6rcDThb0Kq7pKH6611mu4G1KH4dwsu+YI2Qed+y0dIBZws6oddKU3WdUdcDHItvBmb4Zhgo4GxAq26WhupvdwNr4fR8InkfAv7T7UACZwyt7Vgnx0jjlsMdI6yx0jshstL36GYzpJeshK07bdNeeSGT7G3pHdJYvcoGLirbgcg3BwW4cjOsWGubNvP64p+4u9GeAPOAtu0K5Gqn8OtSXzVB9LJ4HudxFBgSSEu2Qvr4SSi7C4501vtfHgtfuwJGDHd2x0Cbaux04E3Ns5xmlGhRSTGSY5Z/wVq2gI3Vprdh0YNhIIL5rO3TRWNli0EeDNYzi9NSl+GDh+APtVC3Gz4+HtgdXx1UfyEadlXkd4Sb34G7HoKrY7BsoS+/PIWS525P4SQBpUJCJawgWfpnj9ijZlrlw2De0UxbaGDdaUb4AEJwL/yM8KlWmHIrtJ21EW+dAwu+64578DC8/5GdtNK10MC0iMbiZuNrVOCH7gd4y2uwdFWP6os+Bxt+72zKPJxp8+3EtXwRzJjg7lJYYDhqgE8DLnNAmsfgBzg5nLtUuYX1h4dh5u221Py4/efWwgO39h9wcjiPHtkzz6aG9f734LH1YObjt96xET+fD2PyYUIMbprZFztD4P4J6eRwvq/chjLFRWpYO0VBMuKrT/UtQsIDH+2/pNUFEo3AC0/Aqkp4ZlvfbP1aPax82n53D5mCD8gbAZ/KhW8UwBKHUjMssJqkVRT/G0L3Atl38kr3DieHs8m4q5fC35th4QPu2Xog3mHlDVNprQWZ5xu0SzAdcGo4z54MpgYung/HjvcNa6PTvMNmCktYcM8tcGNxPyQtfcoALwVZnlXg5Pfyxmk9W0Fbd0BL50mIU7au3wctH8Csyek3B8OGNLok+4uH1GLD7Ul6FSH9UniYxUO2l4epxYab4+mKEK9wCzfCrZwmv3MDIL4d4RovO71+d3uHk7OzCdvzUmqatc9AzYt9s3UQ42GAlW3SUDXZBi6MLyDC6iA2HXctnbJzqlKz9v3xL92ztR8nwgBbLJTGqsc6gc0mXu5BkBw/9jpknEbYKTs7KZxxmz3nhg3roMDmGpSeuLB7E69jlIvKNiFyQ0bAP18BL78BXcWG2+Fa8mbc+kfhkot8m+0QDAysz0pD9SzTtWdfunDONUSi231bdhrhZathU519BGOOYtyaqZ/nLbYfTPVKe6SDtKDAVmKiNNa+2gu4c5T9717uWgfRlG3sM232AsActA3zuIRn5lvTxl4QBNWWDQKsulMaqrsP9XufLRXGJyL6CiKedz8IE4rB0Zx7lNwB//rIW5uqonKtNFZ1R27f49LC0j8Ticz11JZJ4eCpPI3AP1tg7j3+NFhWpTTWfD9Z2AH4O2OQYW8hfCatVjO/Vvw6eMLx56qzlHllyu/vWTen06X8Bz0zLvVWj/OVh4KyOFHxPh40C/sHFnnvQWUC2dXXbOPev7rneoSXzoRVIk01G1PF0l1qeRxhvpfejt+/8gWIXe5+WuBLSRqhf7wHu5p7NgM99ekaqa9e4CTmDnxZfCjDdSsiEz31n0sCqttplamyv8rcue7T0l9MK5g9ksiQOoTx5xKTqy/KXqyzk0JdTOtS+j9z9dB8QqBnijO6etgNbUZahmwics7eytsB3CD1VR97RaJ3gdGpQb84fRjn5/4OkXIvpQP6u+rjfHLyTnl3yxk/dn0D94z2nLlEoiaD21+mDFYzX8RYiXJpqq0M4kJgYKP8/+oTgOSnqePLphKVXw3YxfHB+sgjNYS0sGwyIvciTAkSXgFkX8RKPDzon/H0ATe353M6Fh5xpOOLtPDNXOu3WI+2rpO9mzrXkuHVdfUM9Q77MauXlowmN3odylUglyBcDPpZx0/xkEMoBxB9F0t30xZ5RfZVdZ67+LHmX+a/GaNLoRgqWz4AAAAASUVORK5CYII="},"2ae9":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%"}},[n("a-spin",{attrs:{spinning:e.loading}},[n("div",{staticClass:"schedule-header"},["timeGridFourDay"!==e.viewType?n("div",{staticClass:"schedule-title"},[e._v(e._s(e.viewDate))]):n("div",{staticClass:"schedule-title"},[n("a-select",{attrs:{optionFilterProp:"children",getPopupContainer:function(e){return e.parentElement},placeholder:"Please select year"},on:{change:e.handleChangeYear},model:{value:e.currentYear,callback:function(t){e.currentYear=t},expression:"currentYear"}},e._l(e.yearOptions,(function(t){return n("a-select-option",{key:t.id},[e._v(" "+e._s(t.name)+" ")])})),1)],1),n("a-radio-group",{staticClass:"schedule-view",attrs:{"button-style":"solid"},on:{change:e.changeView},model:{value:e.viewType,callback:function(t){e.viewType=t},expression:"viewType"}},[n("a-radio-button",{attrs:{value:"timeGridWeek"}},[e._v(" Week ")]),e.showTerm&&e.userMode===e.USER_MODE.SCHOOL?n("a-radio-button",{attrs:{value:"timeGridFourDay"}},[e._v(" Term ")]):e._e(),n("a-radio-button",{attrs:{value:"dayGridMonth"}},[e._v(" Month ")]),n("a-radio-button",{attrs:{value:"timeGridDay"}},[e._v(" Day ")])],1),n("a-space",{staticClass:"schedule-date-change"},[n("a-icon",{attrs:{type:"caret-left"},on:{click:function(t){return e.handleScheduleChange("prev")}}}),n("span",{on:{click:function(t){return e.handleScheduleChange("today")}}},[e._v("Today")]),n("a-icon",{attrs:{type:"caret-right"},on:{click:function(t){return e.handleScheduleChange("next")}}})],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"timeGridFourDay"===e.viewType,expression:"viewType === 'timeGridFourDay'"}],ref:"yearLines",staticClass:"year-lines"},e._l(e.yearLines,(function(t){return n("div",{key:t.id,staticClass:"year-lines-item",style:{background:t.background,width:t.width+"%"}},[e._v(" "+e._s(t.name)+" ")])})),0),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.showNoData||e.totalEvents.length>0,expression:"!showNoData || totalEvents.length > 0"}],ref:"scheduleContent",staticClass:"schedule-content",attrs:{id:"scheduleContent"}},[n("cc-calendar",{ref:"fullCalendar",staticClass:"schedule-calendar",attrs:{eventsApi:e.loadEvents,selfViews:e.selfViews,headerToolbar:e.headerToolbar,scrollTime:e.scrollTime,editable:e.editable,selectAllow:e.selectAllow},on:{select:e.handleDateSelect,eventClick:e.handleEventClick,eventsSet:e.handleEvents,datesSet:e.handleDatesSet,eventMouseEnter:e.handleMouseEnter,eventMouseLeave:e.handleMouseLeave,eventDrop:e.handleEventDrop,eventResize:e.handleEventResize},scopedSlots:e._u([{key:"eventContent",fn:function(t){var i=t.info;return[n("session-event-content",{attrs:{info:i,unitList:e.currentUnitList,type:e.queryType,allDatas:e.calendarDatas},on:{reFetch:e.reFetch,save:e.handleSaveContentEvent,changeDateSelect:e.changeDateSelect}})]}}])})],1),e.showNoData&&0===e.totalEvents.length?n("a-empty",{staticStyle:{"margin-top":"100px"}}):e._e()],1),n("div",{directives:[{name:"clickOutside",rawName:"v-clickOutside",value:e.closeTip,expression:"closeTip"}],staticClass:"tooltip"},[n("div",{ref:"tooltip",staticClass:"tooltip-wrap"},[n("div",{staticClass:"tooltip-content"},[n("div",{staticClass:"content-item",on:{click:e.handleAddUnit}},[n("span",[e._v("Import from Unit")])]),n("div",{staticClass:"content-item",on:{click:function(t){return e.handleAddSession()}}},[n("span",[e._v("Import from Task")])]),n("div",{staticClass:"content-item",on:{click:function(t){return e.handleAddSession(e.typeMap.pd)}}},[n("span",[e._v("Import from PD")])])])])]),n("a-modal",{attrs:{closable:!1,maskClosable:!1,keyboard:!1,footer:null,destroyOnClose:"",width:"80%"},on:{cancel:e.handleCancelImport},model:{value:e.importVisible,callback:function(t){e.importVisible=t},expression:"importVisible"}},[n("session-import-for-calendar",{attrs:{type:e.importType,startDate:e.importModel.startDate,endDate:e.importModel.endDate,classId:e.currentClass,"need-close":!0},on:{cancel:e.handleCancelImport,ok:e.handleChoose}})],1)],1)},a=[],r=n("1da1"),s=n("5530"),o=n("2909"),l=(n("96cf"),n("a15b"),n("7db0"),n("99af"),n("d81d"),n("159b"),n("b0c0"),n("ac1f"),n("1276"),n("4de4"),n("caad"),n("d3b7"),n("c740"),n("2532"),n("6e84")),c=n("21fb"),d=n("a16a"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",["background"===e.info.event.display?i("div",[e.info.event.extendedProps.termId?[e._v(" "+e._s(e._f("dayjs")(e.info.event.start,e.FORMATTER_SIM2))+"-"+e._s(e._f("dayjs")(e.info.event.end,e.FORMATTER_SIM2))+" ")]:e._e()],2):"selectDate"!==e.info.event.extendedProps.eventType?i("a-popover",{attrs:{title:"",trigger:"click",destroyTooltipOnHide:!0,getPopupContainer:function(t){return e.getPopupContainer(t,e.info)}},on:{visibleChange:function(t){return e.showPopover(t,e.info)}}},[i("a",{attrs:{slot:"content"},slot:"content"},[i("a-spin",{attrs:{spinning:e.loading}},[i("div",{staticStyle:{"max-width":"650px"}},[i("content-item-calendar",{ref:"contentItemCalendar",attrs:{content:e.getSession(e.info),units:e.currentUnitList},on:{close:e.closeAllModal,delete:function(t){return e.handleDelete(e.info,t)},"change-unit":function(t){return e.handleSave(t,e.info)},"save-response-limit":function(t){return e.handleSave(t,e.info)}}})],1)])],1),i("div",{staticClass:"schedule-event-content",style:{backgroundColor:e.info.event.extendedProps.backgroundColor,color:"#333",lineHeight:1}},[i("div",{directives:[{name:"show",rawName:"v-show",value:"timeGridWeek"===e.info.view.type||"timeGridDay"===e.info.view.type,expression:"info.view.type === 'timeGridWeek' || info.view.type === 'timeGridDay'"}]},[e._v(" "+e._s(e._f("dayjs")(e.info.event.start,e.FORMATTER_SIM2))+"-"+e._s(e._f("dayjs")(e.info.event.end,e.FORMATTER_SIM2))+" ")]),i("span",{directives:[{name:"show",rawName:"v-show",value:"dayGridMonth"===e.info.view.type,expression:"info.view.type === 'dayGridMonth'"}],staticStyle:{"margin-right":"5px"}},[e._v(" "+e._s(e._f("dayjs")(e.info.event.start,e.FORMATTER_SIM2))+" ")]),"timeGridWeek"===e.info.view.type?i("label",{staticStyle:{display:"block","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"},attrs:{for:""}},[e._v(e._s(e.info.event.title)+" ")]):e._e(),"timeGridWeek"!==e.info.view.type?i("label",[e._v(" "+e._s(e.info.event.title)+" ")]):e._e(),e.info.event.extendedProps.userRealName&&"timeGridWeek"===e.info.view.type?i("a-space",{staticClass:"user-avatar"},[i("a-tooltip",{attrs:{title:"0"===e.info.event.extendedProps.schoolId?"Personal":e.info.event.extendedProps.schoolName}},[e.info.event.extendedProps.userAvatar?i("img",{attrs:{src:e.info.event.extendedProps.userAvatar,alt:""}}):i("img",{attrs:{src:n("4992")}})]),i("label",{attrs:{for:""}},[e._v(e._s(e.info.event.extendedProps.userRealName))])],1):e._e()],1)]):i("a-popover",{attrs:{title:"Set Date",trigger:"click",defaultVisible:!1,destroyTooltipOnHide:!0},on:{visibleChange:function(t){return e.showDateSelectPopover(t,e.info.event)}}},[i("a",{attrs:{slot:"content"},slot:"content"},[i("div",{staticClass:"date-select"},[i("a-space",{staticClass:"date-select-item"},[i("label",{attrs:{for:""}},[e._v("StartTime: "+e._s(e.moment(e.info.event.start).format("YYYY-MM-DD")))]),i("a-time-picker",{attrs:{allowClear:!1,disabledHours:e.disabledHoursStart,disabledMinutes:e.disabledMinutesStart,format:"HH:mm"},model:{value:e.dateSelect.start,callback:function(t){e.$set(e.dateSelect,"start",t)},expression:"dateSelect.start"}})],1),i("a-space",{staticClass:"date-select-item"},[i("label",{attrs:{for:""}},[e._v("EndTime: "+e._s(e.moment(e.info.event.end).format("YYYY-MM-DD")))]),i("a-time-picker",{attrs:{allowClear:!1,disabledHours:e.disabledHoursEnd,disabledMinutes:e.disabledMinutesEnd,format:"HH:mm"},model:{value:e.dateSelect.end,callback:function(t){e.$set(e.dateSelect,"end",t)},expression:"dateSelect.end"}})],1),i("a-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleChangeDateSelect}},[e._v("Save")])],1)]),i("div",{staticClass:"schedule-event-content",style:{backgroundColor:e.info.event.extendedProps.backgroundColor,color:"#333",minHeight:"auto"}},[i("div",[e._v(" "+e._s(e._f("dayjs")(e.info.event.start,e.FORMATTER_SIM2))+"-"+e._s(e._f("dayjs")(e.info.event.end,e.FORMATTER_SIM2))+" ")]),i("div",{staticClass:"remove",on:{click:e.handleRemoveSelect}},[i("a-icon",{attrs:{type:"close-circle"}})],1)])]),e.previewVisible?i("content-preview",{attrs:{"content-id":e.previewCurrentId,"content-type":e.previewType,showEditButton:!1,"is-library":e.isLibrary,"school-resource":"0"!==e.previewSchoolId,"school-resource-id":e.previewSchoolId},on:{close:e.handlePreviewClose}}):e._e()],1)},p=[],h=(n("a9e3"),n("a630"),n("3ca3"),n("d82e")),f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.data?i("div",{staticClass:"content-item"},[i("div",{staticClass:"cover"},[e.data.workshopsDetailInfo&&e.data.workshopsDetailInfo.cover?i("div",{staticClass:"cover-block",style:{"background-image":"url('"+(e.data.workshopsDetailInfo.cover||"http://dcdkqlzgpl5ba.cloudfront.net/1392467808404684802/file/202208140641519097-20220814143449.png")+"')"}}):e.data.sessionInfo&&e.data.sessionInfo.image?i("div",{staticClass:"cover-block",style:{"background-image":"url('"+(e.data.sessionInfo.image||"http://dcdkqlzgpl5ba.cloudfront.net/1392467808404684802/file/202208140641519097-20220814143449.png")+"')"}}):e.data.content&&e.data.content.image?i("div",{staticClass:"cover-block",style:{"background-image":"url('"+(e.data.content.image||"http://dcdkqlzgpl5ba.cloudfront.net/1392467808404684802/file/202208140641519097-20220814143449.png")+"')"}}):i("div",{staticClass:"cover-block",staticStyle:{"background-image":'url("http://dcdkqlzgpl5ba.cloudfront.net/1392467808404684802/file/202208140641519097-20220814143449.png")'}})]),i("div",{staticClass:"detail"},[i("div",{staticClass:"detail-content"},[i("div",{staticClass:"base-info"},[i("div",{staticClass:"name-con"},[i("a-tooltip",{attrs:{title:e.data.sessionInfo.sessionName}},[i("div",{staticClass:"name"},[e._v(e._s(e.data.sessionInfo.sessionName))])]),i("a-tooltip",{attrs:{title:e.data.sessionInfo.className}},[i("div",{staticClass:"class"},[e._v(e._s(e.data.sessionInfo.className))])])],1),i("div",{staticClass:"detail-con"},[i("div",{staticClass:"info-con"},[i("div",{staticClass:"subject"},[i("a-space",{staticClass:"author-name"},[i("a-tooltip",{attrs:{title:"0"===e.data.schoolId?"Personal":e.data.schoolName}},[e.data.userAvatar?i("img",{attrs:{src:e.data.userAvatar,alt:""}}):i("img",{attrs:{src:n("4992")}})]),i("label",[e._v(e._s(e.data.userRealName))])],1),e.formatSessionType(e.data.sessionInfo.sessionType).name?i("div",[i("a-tag",{attrs:{color:e.formatSessionType(e.data.sessionInfo.sessionType).color}},[e._v(e._s(e.formatSessionType(e.data.sessionInfo.sessionType).name))])],1):e._e(),e.data.sessionInfo&&e.data.sessionInfo.zoomMeeting?i("div",{staticClass:"zoom-icon",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.handleToZoom(e.content)}}},[i("img",{attrs:{src:n("f496")}})]):e._e(),e.data.content.taskType?i("div",{staticClass:"info-item task-type-info"},[i("div",{staticClass:"self-type-wrapper"},[i("div",{staticClass:"self-field-label"},["FA"===e.data.content.taskType?i("div",{staticClass:"task-type-item green-active-task-type"},[i("a-tooltip",{attrs:{placement:"top",title:"Formative Assessment"}},[e._v("FA")])],1):e._e(),"SA"===e.data.content.taskType?i("div",{staticClass:"task-type-item red-active-task-type"},[i("a-tooltip",{attrs:{placement:"top",title:"Summative Assessment"}},[e._v("SA")])],1):e._e(),"Activity"===e.data.content.taskType?i("div",{staticClass:"task-type-item blue-active-task-type task-type-activity"},[i("a-tooltip",{attrs:{title:"Teaching/Learning Activity",placement:"top"}},[e._v("Activity")])],1):e._e(),"IA"===e.data.content.taskType?i("div",{staticClass:"task-type-item blue-active-task-type task-type-examine"},[i("a-tooltip",{attrs:{title:"Internal Assessment",placement:"top"}},[e._v("IA")])],1):e._e()])])]):e._e(),i("div",{staticClass:"session-time"},[e._v(" "+e._s(e._f("dayjs")(e.data.sessionInfo.sessionStartTime,"HH:mm"))+" - "+e._s(e._f("dayjs")(e.data.sessionInfo.deadline,"HH:mm"))+" ")])],1),i("div",{staticClass:"class-con"},[i("div",{staticClass:"session-deadline"},[i("div",{staticClass:"session-deadline-tab"},[i("a-radio-group",{attrs:{"button-style":"solid",size:"small"},model:{value:e.data.sessionInfo.responseLimitMode,callback:function(t){e.$set(e.data.sessionInfo,"responseLimitMode",t)},expression:"data.sessionInfo.responseLimitMode"}},[i("a-radio-button",{attrs:{value:0}},[e._v(" Off ")]),i("a-radio-button",{attrs:{value:1}},[e._v(" Deadline ")]),i("a-radio-button",{attrs:{value:2}},[e._v(" Countdown ")])],1),i("a-button",{directives:[{name:"show",rawName:"v-show",value:e.isChangedResonseLimit,expression:"isChangedResonseLimit"}],attrs:{size:"small"},on:{click:e.handleSaveResponseLimit}},[e._v("Save")])],1),i("div",{staticClass:"session-deadline-opt"},[2===e.data.sessionInfo.responseLimitMode?i("a-space",[i("a-input-number",{attrs:{suffix:"Min(s)",size:"small"},model:{value:e.responseLimitTimeCountDown,callback:function(t){e.responseLimitTimeCountDown=t},expression:"responseLimitTimeCountDown"}}),i("span",[e._v("Min(s)")]),i("a-tooltip",[i("template",{slot:"title"},[e._v(" Students must complete their work within the allocated time ")]),i("a-icon",{attrs:{type:"question-circle"}})],2)],1):e._e(),1===e.data.sessionInfo.responseLimitMode?i("a-space",[i("a-date-picker",{attrs:{"disabled-date":e.disabledDate,"allow-clear":!1,size:"small","show-time":"",placeholder:"Select Time"},model:{value:e.responseLimitTimeDeadline,callback:function(t){e.responseLimitTimeDeadline=t},expression:"responseLimitTimeDeadline"}}),i("a-tooltip",[i("template",{slot:"title"},[e._v(" Students must complete their work within the allocated time ")]),i("a-icon",{attrs:{type:"question-circle"}})],2)],1):e._e()],1)])])])])]),e._m(0)]),i("div",{staticClass:"action"},[[i("a-space",{attrs:{size:10}},[i("custom-button",{attrs:{label:"Preview"},on:{click:e.handlePreview},scopedSlots:e._u([{key:"icon",fn:function(){return[i("icon-font",{staticClass:"detail-font",attrs:{type:"icon-xianshi"}})]},proxy:!0}],null,!1,2713343207)}),i("div",{staticClass:"review"},[e._v(" Student-review "),i("a-switch",{attrs:{"default-checked":""},on:{change:e.handleChangeReview}})],1)],1)]],2)])]):e._e()},v=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"right-info"},[n("div",{staticClass:"update-time"})])}],m=n("cd3f"),g=n.n(m),y=n("3f76"),b=n("f93e"),w=n("0381"),C=n("d185"),S=n.n(C),k=n("e6fe"),_=n.n(k),T=n("98f7"),x=n.n(T),D=n("b3e1"),E=n.n(D),O=n("81cf"),I=n.n(O),M=n("adae"),L=n("4663"),R=n.n(L),A=n("c1df"),j=n.n(A),P={name:"ContentItemCalendar",components:{CustomButton:w["a"],EditIcon:S.a,PublishIcon:_.a,ScheduleIcon:x.a,DeleteIcon:E.a,OriginalTipsIcon:I.a,MoreIcon:R.a,TagsLine:M["a"]},props:{content:{type:Object,default:function(){}},units:{type:Array,default:function(){return[]}}},watch:{content:{handler:function(e){this.data=g()(e),this.origin=g()(e);var t=this.data.sessionInfo.responseLimitTime;1===this.data.sessionInfo.responseLimitMode?this.responseLimitTimeDeadline=j()(new Date(1e3*t)):2===this.data.sessionInfo.responseLimitMode&&(this.responseLimitTimeCountDown=this.data.sessionInfo.timeDown||0,this.responseLimitTimeCountDown<0&&(this.responseLimitTimeCountDown=0))},deep:!0,immediate:!0},units:{handler:function(e){this.unitList=g()(e)},deep:!0,immediate:!0}},data:function(){return{typeMap:y["e"],BG_COLORS:b["c"],sessionTypeList:[{id:1,name:"Assignment",allowZoom:!1,enableZoom:!1,color:"#333333",type:this.$classcipe.ScheduleSessionType.assignment},{id:2,name:"Lesson",allowZoom:!0,enableZoom:!1,color:"#15c39a",type:this.$classcipe.ScheduleSessionType.lesson},{id:3,name:"Test",allowZoom:!0,enableZoom:!1,color:"#c92a2a",type:this.$classcipe.ScheduleSessionType.test}],data:this.content,origin:this.content,unitList:this.units,loading:!1,responseLimitTimeDeadline:null,responseLimitTimeCountDown:0}},computed:{responseLimitTime:function(){var e=0;return 1===this.data.sessionInfo.responseLimitMode&&this.responseLimitTimeDeadline?e=this.responseLimitTimeDeadline.valueOf()-this.data.sessionInfo.date:2===this.data.sessionInfo.responseLimitMode&&(e=(new Date).getTime()+60*this.responseLimitTimeCountDown*1e3),e/1e3},isChangedResonseLimit:function(){return this.origin.sessionInfo.responseLimitMode!==this.data.sessionInfo.responseLimitMode||this.origin.sessionInfo.responseLimitTime!==this.responseLimitTime}},methods:{initData:function(){this.data=g()(this.content),this.unitList=g()(this.units)},editItem:function(){var e=this.data.sessionInfo;e.sessionType===y["e"]["unit-plan"]?this.$router.push({path:"/teacher/unit-plan-redirect/"+e.planId}):e.sessionType===y["e"].task?this.$router.push({path:"/teacher/task-redirect/"+e.contentId}):e.sessionType===y["e"].video?this.$router.push({path:"/teacher/video-redirect/"+e.contentId}):e.sessionType===y["e"].pd&&this.$router.push({path:"/teacher/pd-content-redirect/"+e.contentId})},disabledDate:function(e){return!!(this.data&&this.data.sessionInfo&&this.data.sessionInfo.sessionStartTime)&&(e&&e<j()(this.data.sessionInfo.sessionStartTime))},formatSessionType:function(e){var t=this.sessionTypeList.find((function(t){return t.type===e}));return t||{name:""}},handleChangeUnit:function(e){this.$emit("change-unit",{planId:e,id:this.data.sessionInfo.id})},handleDeleteItem:function(){this.$emit("delete",this.data)},handleEvalute:function(){},handleToZoom:function(e){if(e&&e.sessionInfo&&e.sessionInfo.zoomMeeting)try{var t=JSON.parse(e.sessionInfo.zoomMeeting);window.open(t.start_url,"_blank")}catch(n){this.$message.error("parse json error")}},handleSaveResponseLimit:function(){var e={responseLimitMode:this.data.sessionInfo.responseLimitMode,responseLimitTime:this.responseLimitTime,timeType:this.data.sessionInfo.responseLimitMode,timeDown:2===this.data.sessionInfo.responseLimitMode?this.responseLimitTimeCountDown:0,allocatedTimeFlag:0!==this.data.sessionInfo.responseLimitMode?1:0,id:this.data.sessionInfo.id};this.$emit("save-response-limit",e)},handlePreview:function(){this.$emit("close",{id:this.data.sessionInfo.contentId,type:this.data.sessionInfo.contentType,schoolId:this.data.schoolId})},handleChangeReview:function(e){}}},N=P,B=(n("2b61"),n("0c7c")),H=Object(B["a"])(N,f,v,!1,null,"2dfda4e4",null),F=H.exports,V=n("c824"),U=n("ce85"),z=n("5994"),Y=n("f031"),W=n("2f62"),G={name:"SessionEventContent",components:{SessionImportForCalendar:h["a"],ContentItemCalendar:F,LiveworkshopItem:V["a"],ContentPreview:U["a"]},mixins:[Y["a"]],props:{info:{type:Object,default:function(){},required:!0},unitList:{type:Array,default:function(){return[]}},type:{type:[Number,String],default:b["d"].MY.value},allDatas:{type:Array,default:function(){return[]}}},watch:{unitList:{handler:function(e){this.currentUnitList=e},immediate:!0},type:{handler:function(e){this.queryType=e},immediate:!0},allDatas:{handler:function(e){this.calendarDatas=e},immediate:!0}},data:function(){return{vis:!1,FORMATTER:"h:mm a",FORMATTER_SIM:"h:mma",FORMATTER_SIM2:"HH:mm",FORMATTER_FULL:"YYYY-MM-DD h:mm a",CALENDAR_QUERY_TYPE:b["d"],BG_COLORS:b["c"],typeMap:y["e"],currentUnitList:this.unitList,queryType:this.type,loading:!1,calendarDatas:[],dateSelect:{start:null,end:null,id:"DateSelect"}}},created:function(){this.initData()},computed:Object(s["a"])(Object(s["a"])({},Object(W["e"])({userInfo:function(e){return e.user.info},currentSchool:function(e){return e.user.currentSchool}})),{},{isLibrary:function(){return!this.info.event.extendedProps||this.info.event.extendedProps.author!==this.userInfo.email}}),methods:{moment:j.a,initData:function(){"selectDate"===this.info.event.extendedProps.eventType&&this.showDateSelectPopover(!0,this.info.event)},getPopupContainer:function(e,t){var n=e.parentElement.parentElement.parentElement.classList;return n.contains("fc-timegrid-event-harness")||n.contains("fc-daygrid-day-events"),document.body},showPopover:function(e,t){},showDateSelectPopover:function(e,t){this.dateSelect=Object(s["a"])(Object(s["a"])({},t),{},{start:j()(t.start,"HH:mm"),end:j()(t.end,"HH:mm")})},getSession:function(e){var t=this.calendarDatas.find((function(t){return t.sessionInfo.id===e.event.extendedProps.id}));return t?Object(s["a"])({},t):null},getWorkshopItem:function(e){var t=this.calendarDatas.find((function(t){return t.sessionInfo.id===e.event.extendedProps.id}));return t?Object(s["a"])(Object(s["a"])({content:Object(s["a"])({},t.content),sessionInfo:Object(s["a"])({},t.sessionInfo)},t.workshopsDetailInfo),{},{unitPlanInfo:Object(s["a"])({},t.unitPlanInfo)}):{}},handleChangeDateSelect:function(){this.$emit("changeDateSelect",this.dateSelect)},handleRemoveSelect:function(){this.$emit("changeDateSelect",null)},disabledHoursStart:function(){var e=j()(this.info.event.end).isSame(j()(this.info.event.start),"day");if(!e)return[];var t=j()(this.dateSelect.end).hours();return Array.from({length:23-t},(function(e,t){return 23-t}))},disabledHoursEnd:function(){var e=j()(this.info.event.end).isSame(j()(this.info.event.start),"day");if(!e)return[];var t=j()(this.dateSelect.start).hours();return Array.from({length:t},(function(e,t){return t}))},disabledMinutesStart:function(e){var t=j()(this.info.event.end).isSame(j()(this.info.event.start),"day");if(!t)return[];var n=j()(this.dateSelect.start).hours(),i=j()(this.dateSelect.end).hours(),a=j()(this.dateSelect.end).minutes(),r=[];return n===i&&(r=Array.from({length:59-a},(function(e,t){return 59-t}))),r},disabledMinutesEnd:function(e){var t=j()(this.info.event.end).isSame(j()(this.info.event.start),"day");if(!t)return[];var n=j()(this.dateSelect.start).hours(),i=j()(this.dateSelect.end).hours(),a=j()(this.dateSelect.start).minutes(),r=[];return n===i&&(r=Array.from({length:a},(function(e,t){return t}))),r},handleDelete:function(e){var t=this;this.loading=!0,Object(z["d"])({sessionId:e.event.extendedProps.sessionId}).then((function(e){0===e.code&&(t.$message.success("Remove successfully"),t.$emit("reFetch"))})).finally((function(){t.loading=!1}))},handleSave:function(e,t){var n=this;this.loading=!0,Object(z["e"])(e).then((function(i){i.success&&(n.$message.success("Opt Successfully"),n.$emit("save",{params:e,info:t}))})).finally((function(e){n.loading=!1}))},closeAllModal:function(e){document.getElementsByClassName("ant-popover").forEach((function(e){return e.style.display="none"})),this.handlePreviewDetail(e)}}},q=G,$=(n("0da5"),Object(B["a"])(q,u,p,!1,null,"18f7efd2",null)),Z=$.exports,K=n("b775"),Q="calendarSchedule",X={QueryForCalendar:"/classcipe/api2/".concat(Q,"/queryForCalendar")};function J(e){return Object(K["d"])({url:X.QueryForCalendar,method:"get",params:e})}var ee=n("e806"),te=n("ad59"),ne=n("ca00"),ie=n("85b1"),ae=n("944d"),re={name:"SessionCalendar",mixins:[l["a"],c["a"]],props:{searchType:{type:[String],default:[b["d"].MY.value,b["d"].WORKSHOP.value].join(",")},searchFilters:{type:Array,default:function(){return["FA","SA","IA","Activity"]}},classFilters:{type:Array,default:function(){return[1,2]}},schoolFilters:{type:Array,default:function(){return[]}},editable:{type:Boolean,default:!0},addable:{type:Boolean,default:!0},forSelect:{type:Boolean,default:!1},defaultSelect:{type:Array,default:function(){return[]}},showTerm:{type:Boolean,default:!1},needDisableBefore:{type:Boolean,default:!0},showNoData:{type:Boolean,default:!1},onlyMe:{type:Boolean,default:!1}},watch:{searchType:function(e){this.queryType=e,this.debounceRefetch()},searchFilters:function(e){this.typeFilters=Object(o["a"])(e),this.debounceRefetch()},classFilters:function(e){this.clsFilters=Object(o["a"])(e),this.debounceRefetch()},schoolFilters:function(e){this.schoolIds=Object(o["a"])(e),this.debounceRefetch()},currentUnitList:{handler:function(e){this.$emit("change-units",e)},immediate:!0,deep:!0}},components:{CcCalendar:d["a"],SessionEventContent:Z,SessionImportForCalendar:h["a"],ContentItemCalendar:F,LiveworkshopItem:V["a"]},data:function(){var e=this;return{ABSENT_COLORS:b["a"],BG_COLORS:b["c"],CALENDAR_QUERY_TYPE:b["d"],USER_MODE:b["Y"],typeMap:y["e"],queryType:this.searchType,typeFilters:this.searchFilters,clsFilters:this.classFilters,schoolIds:this.schoolFilters,currentUnitList:[],timeLabelForYear:[],dayLabelForYear:[],attendanceVisible:!0,loading:!1,startDate:"",endDate:"",viewType:"timeGridWeek",viewDate:"",calendarDatas:[],allEvents:[],currentEvents:[],currentClass:"",event:{title:"My Event",start:"",end:""},headerToolbar:!1,scrollTime:"08:00:00",selfViews:{timeGridFourDay:{type:"timeGrid",duration:{days:12},buttonText:"year",allDaySlot:!1,slotMaxTime:"8:00:00",slotDuration:"00:15:00",slotLabelInterval:"00:15",titleFormat:function(e){return e.start.year},dayPopoverFormat:function(t){var n=j()(t.date).format("HH:mm"),i=j()(t.date).format("YYYY-MM-DD"),a=e.timeLabelForYear.find((function(e){return e.value===n})),r=e.dayLabelForYear.find((function(e){return e.value===i}));return r.label+", "+a.label},eventMaxStack:2,selectable:!1,nowIndicator:!1,slotEventOverlap:!1,eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},slotLabelClassNames:"calendar-year-label",dayHeaderContent:function(t){var n=e.convertDayForYear(),i=n.find((function(e){return e.value===j()(t.date).format("YYYY-MM-DD")}));return i?i.label:t.text},slotLabelContent:function(t){if("timeGridFourDay"===t.view.type){var n=e.timeLabelForYear.find((function(e){return e.value===j()(t.date).format("HH:mm")}));return n?n.label:t.text}return t.text}}},selectAllow:function(t){return j()(t.start).isAfter(j()())||"dayGridMonth"===e.viewType&&j()(t.start).isSame(j()(),"day")},showUnit:[],currentUnit:null,totalEvents:[],importVisible:!1,importType:y["e"].task,importModel:{startDate:null,endDate:null},selectDateEvent:{id:null},currentSession:null,termsInited:!1,blockOptions:{},termsOptions:[],yearOptions:[],currentYear:"",yearLines:[],termBackground:["#CDE7FF","#F7E3FF","#BAEAD0","#FCF2BD","#FDD7DE","#BCDCF7"],clsInited:!1,clsObj:{},clsBlockOptions:[]}},computed:Object(s["a"])(Object(s["a"])({},Object(W["e"])({currentSchool:function(e){return e.user.currentSchool},classList:function(e){return e.user.classList},userMode:function(e){return e.app.userMode},info:function(e){return e.user.info}})),{},{showSchoolOptions:function(){return[{id:"0",name:"Personal",index:0}].concat(this.info.schoolList.map((function(e,t){return{id:e.id,name:e.schoolName,index:t+1}})))}}),created:function(){this.debounceLoad=Object(ie["a"])(this.loadData,300),this.debounceRefetch=Object(ie["a"])(this.reFetch,300),this.initData()},mounted:function(){var e=this;setTimeout((function(){e.reRender()}),10)},methods:{initData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.currentUnit=e.currentUnitList.length>0?e.currentUnitList[0].id:"",e.showUnit=e.currentUnitList.map((function(e){return e.id})),e.convertTimeForYear();case 3:case"end":return t.stop()}}),t)})))()},loadData:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},loadBlock:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadTerm();case 2:if(!(e.searchType===b["d"].CLASS.value&&e.searchFilters.length>0)){t.next=9;break}return t.next=5,e.loadClass();case 5:return n=t.sent,t.abrupt("return",n);case 9:return i=[],e.termsOptions.length>0&&(i=e.transferTermBlock()),t.abrupt("return",i);case 12:case"end":return t.stop()}}),t)})))()},loadTerm:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.termsInited){t.next=5;break}return t.next=3,Object(ee["h"])({schoolId:e.currentSchool.id});case 3:n=t.sent,n.success&&(e.termsInited=!0,i=[],e.yearOptions=n.result,n.result.forEach((function(t){!e.currentYear&&j()(t.startTime).isBefore(new Date)&&j()(t.endTime).isAfter(new Date)&&(e.currentYear=t.id);var n=t.terms.map((function(n){return e.blockOptions[n.id]=n.block.blockSettings||[],Object(s["a"])(Object(s["a"])({},n),{},{blockSettings:n.block.blockSettings||[],yearName:t.name})}));i=i.concat(n)})),e.termsOptions=i);case 5:case"end":return t.stop()}}),t)})))()},loadClass:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.searchType===b["d"].CLASS.value&&e.searchFilters.length>0)){t.next=12;break}return e.currentClass=e.searchFilters[0],t.next=4,Object(te["e"])({classId:e.searchFilters[0]});case 4:if(n=t.sent,!n.success){t.next=12;break}if(e.clsInited=!0,e.clsObj=n.result,!e.clsObj.term||!e.clsObj.blockSetting){t.next=12;break}if(i=e.termsOptions.find((function(t){return t.id===e.clsObj.term})),!i){t.next=12;break}return t.abrupt("return",e.transferSubjectClsBlock(e.clsObj.blockSetting,i.startTime,i.endTime));case 12:return t.abrupt("return",[]);case 13:case"end":return t.stop()}}),t)})))()},transferSubjectClsBlock:function(e,t,n){var i=[],a=j.a.utc(t).local(),r=j.a.utc(n).local(),s=j()(this.startDate),o=j()(this.endDate);if(s.isAfter(r)||o.isBefore(a))return[];var l=a,c=r,d=[];e.split(",").forEach((function(e){var t=e.split("~");if(2===t.length){var n=j()(t[0]),i=j()(t[1]),a=n.format("HH:mm:ss"),r=n.format("dddd"),s=i.format("dddd"),o=i.format("HH:mm:ss");d=d.concat([{week:r,start:a,end:r!==s?"23:59:59":o},{week:s,start:r!==s?"00:00:00":a,end:o}])}}));var u=function(){var e=j()(l).format("dddd"),t=d.find((function(t){return t.week===e}));if(t){var n=l.format("YYYY-MM-DD")+" "+t.start,a=l.format("YYYY-MM-DD")+" "+t.end;i.push({start:n,end:a,display:"background",extendedProps:{termId:(new Date).getTime()}})}l=l.add(1,"d")};while(l.isBefore(c))u();return i},transferTermBlock:function(){var e=this,t=[],n=j()(this.startDate),i=j()(this.endDate),a=function(){var i=e.termsOptions.find((function(e){if(e.startTime&&e.endTime){var t=j()(e.startTime),i=j()(e.endTime);if(j()(n).isAfter(t)&&j()(n).isBefore(i))return!0}return!1}));i&&i.blockSettings&&i.blockSettings.forEach((function(e){var a=n.format("YYYY-MM-DD")+" "+e.start+":00",r=n.format("YYYY-MM-DD")+" "+e.end+":59";t.push({start:a,end:r,display:"background",extendedProps:{termId:i.id,yearName:i.yearName,termName:i.name}})})),n=n.add(1,"d")};while(n.isBefore(i))a();return t},convertTimeForYear:function(){var e=j()().startOf("day"),t=j()().endOf("day"),n=[],i=1;while(e.isBefore(t))n.push({value:e.format("HH:mm"),label:i,end:j()(e).add(15,"m").format("HH:mm")}),e=e.add(15,"m"),i++;this.timeLabelForYear=n},convertDayForYear:function(){var e=this,t=this.yearOptions.find((function(t){return t.id===e.currentYear})),n=j.a.utc(t.startTime).local(),i=[],a=j()(this.startDate),r=j()(this.endDate);while(a.isBefore(r))i.push({value:a.format("YYYY-MM-DD"),label:n.format("MMM YY")}),a=a.add(1,"d"),n=n.add(1,"M");return this.dayLabelForYear=i,i},convertYearToTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=j()(e).get("month"),i=j()(e).get("date"),a=this.dayLabelForYear[n].value,r=this.timeLabelForYear[i-1][t?"end":"value"];return a+" "+r+":00"},loadEvents:function(e,t,n){var i=this,a=j()(e.start).format("YYYY-MM-DD"),r=j()(e.end).format("YYYY-MM-DD");if(this.startDate=a,this.endDate=r,this.$refs.fullCalendar){var o=this.$refs.fullCalendar.getApi();o&&(o.removeAllEvents(),this.selectDateEvent.id&&o.addEvent(this.selectDateEvent))}var l={};this.totalEvents=[];var c=!1;this.queryType===this.CALENDAR_QUERY_TYPE.CLASS.value?(l.classIds=this.typeFilters,l.classTypes=this.clsFilters,c=0===this.typeFilters.length):this.queryType.indexOf(this.CALENDAR_QUERY_TYPE.WORKSHOP.value)>-1&&(l.workshopStatus=this.typeFilters.filter((function(e){return!["FA","SA","IA","Activity"].includes(e)})).join(","),l.workshopType="1,2",c=0===this.typeFilters.length),this.queryType!==this.CALENDAR_QUERY_TYPE.CLASS.value&&(l.schoolIds=this.schoolIds),this.loadBlock().then((function(o){if(i.needDisableBefore&&"timeGridFourDay"!==i.viewType){var d=a,u=j()().format("YYYY-MM-DD");"dayGridMonth"!==i.viewType&&(d=a+" 00:00:00",u=j()().format("YYYY-MM-DD HH:mm:ss")),j()(d).isSameOrBefore(u)&&o.push({start:d,end:u,backgroundColor:"#918585",display:"background",selectable:!1,extendedProps:{}})}if(c)t(o),i.handleViewDidMount(e);else{if(i.loading=!0,"timeGridFourDay"===i.viewType){var p=i.yearOptions.find((function(e){return e.id===i.currentYear}));p?(a=Object(ne["formatLocalUTC"])(p.startTime,"YYYY-MM-DD"),r=Object(ne["formatLocalUTC"])(p.endTime,"YYYY-MM-DD")):(a=j()().startOf("year").format("YYYY-MM-DD"),r=j()().endOf("year").format("YYYY-MM-DD"))}i.loadData(Object(s["a"])(Object(s["a"])({},l),{},{startDate:j()(a+" 00:00:00").utc().format("YYYY-MM-DD"),endDate:j()(r+" 23:59:59").utc().format("YYYY-MM-DD"),queryTypes:i.queryType.split(",")})).then((function(a){if(a&&a.success&&a.result){var r=[],s=a.result;if(i.calendarDatas=a.result,s.length>0){i.currentUnitList=Object(ae["a"])(s.filter((function(e){return e.unitPlanInfo})).map((function(e){return e.unitPlanInfo})),"id");var l=s.map((function(e){var t=-1;t=i.queryType!==b["d"].CLASS.value?i.showSchoolOptions.findIndex((function(t){return t.id===(e.sessionInfo?e.sessionInfo.schoolId:"0")})):i.currentUnitList.findIndex((function(t){return t.id===(e.unitPlanInfo?e.unitPlanInfo.id:-1)}));var n=-1===t?"#f6f3f3":b["c"][t],a=e.startTime,r=e.endTime,s=!0;return"timeGridFourDay"===i.viewType?(i.convertDayForYear(),a=i.convertYearToTime(e.startTime),r=i.convertYearToTime(e.endTime,!0),s=!1):(a=i.$options.filters["dayjs"](a),r=i.$options.filters["dayjs"](r)),j()(a).isBefore(j()())&&(s=!1),e.workshopsDetailInfo&&(s=!1),e.sessionInfo.author!==i.info.email&&(s=!1),{id:e.sessionInfo.id,title:e.workshopsDetailInfo&&e.workshopsDetailInfo.title?e.workshopsDetailInfo.title:e.sessionInfo.sessionName,start:a,end:r,backgroundColor:"transparent",borderColor:"transparent",editable:i.editable&&s,extendedProps:{classId:e.sessionInfo.classId,planId:e.sessionInfo.planId,contentId:e.sessionInfo.contentId,sessionType:e.sessionInfo.sessionType,author:e.sessionInfo.author,taskType:e.content?e.content.taskType:"",sessionId:e.sessionId,status:e.attendance||"absent",id:e.sessionInfo.id,backgroundColor:n,start:e.startTime,end:e.endTime,userAvatar:e.userAvatar,userRealName:e.userRealName,schoolId:e.schoolId,schoolName:e.schoolName}}}));i.calendarDatas=a.result,i.allEvents=l;var c=l.filter((function(e){return!(i.queryType.indexOf(i.CALENDAR_QUERY_TYPE.MY.value)>-1&&!i.typeFilters.includes(e.extendedProps.taskType))&&(i.$route.query&&i.$route.query.sessionId?e.extendedProps.sessionId!==i.$route.query.sessionId:i.queryType===i.CALENDAR_QUERY_TYPE.CLASS.value||!i.onlyMe||e.extendedProps.author===i.info.email)}));r=c}else r=[],i.currentUnitList=[];i.totalEvents=r,t(r.concat(o)),i.handleViewDidMount(e),i.handleScrollTime(),i.handleInitSelect()}else n({message:"Error"})})).catch((function(e){n({message:e&&e.message||"Remote Api Error"})})).finally((function(){i.loading=!1}))}}))},getOptions:function(e){var t="";for(var n in this.CALENDAR_QUERY_TYPE)this.CALENDAR_QUERY_TYPE[n].value===e&&(t=this.CALENDAR_QUERY_TYPE[n].label);return this[t]?this[t]:[]},setViewDate:function(e){var t=j()(e.start).format("MMM D, YYYY"),n=j()(e.start).format("MMM D"),i=j()(e.end).subtract(1,"days").format("MMM D, YYYY");this.viewDate="timeGridDay"===this.viewType?t:[n,i].join(" - ")},handleChangeYear:function(e){this.currentYear=e,this.changeView({target:{value:"timeGridFourDay"}})},changeView:function(e){var t=this,n=e.target.value,i=this.$refs.fullCalendar.getApi(),a=this.selfViews;if("timeGridFourDay"===this.viewType){var r=this.yearOptions.find((function(e){return e.id===t.currentYear})),s=j.a.utc(r.endTime).local().diff(j.a.utc(r.startTime).local(),"month",!0);a.timeGridFourDay.duration.days=Math.ceil(s),this.computeYearLines()}i.setOption("views",a),i.changeView(n),this.$nextTick((function(){if("timeGridFourDay"===t.viewType){var e=document.querySelector(".calendar-year-label").offsetWidth;t.$refs.yearLines.style.paddingLeft="".concat(e,"px")}}))},computeYearLines:function(){var e=this,t=this.yearOptions.find((function(t){return t.id===e.currentYear}));if(t.terms&&t.terms.length>0){var n=j()(t.endTime).diff(j()(t.startTime),"days"),i=[],a=j()(t.startTime),r=j()(t.endTime);t.terms.forEach((function(o,l){var c=j()(o.startTime),d=j()(o.endTime),u=d.diff(c,"days"),p=0;a.isBefore(c)&&(p=c.diff(a,"days"),i.push({width:n?p/n*100:0,background:"#fff",name:"rest",startTime:a.format("YYYY-MM-DD"),endTime:c.format("YYYY-MM-DD"),id:(new Date).getTime()+1e3*Math.random()})),i.push(Object(s["a"])(Object(s["a"])({},o),{},{width:n?u/n*100:0,background:e.termBackground[l]})),l===t.terms.length-1&&r.isAfter(d)&&(p=r.diff(d,"days"),i.push({width:n?p/n*100:0,background:"#fff",name:"rest",startTime:a.format("YYYY-MM-DD"),endTime:c.format("YYYY-MM-DD"),id:(new Date).getTime()+1e3*Math.random()})),a=d})),this.yearLines=i}},handleScheduleChange:function(e){var t=this.$refs.fullCalendar.getApi();t[e]()},handleSchoolChange:function(e){var t=this;this.initData(),setTimeout((function(){t.reFetch()}),100)},handleWeekendsToggle:function(){this.calendarOptions.weekends=!this.calendarOptions.weekends},handleViewDidMount:function(e){var t=this;this.$nextTick((function(){if(t.$refs.fullCalendar){var n=t.$refs.fullCalendar.getApi();n&&(t.setViewDate(e),n.render())}var i=document.getElementsByClassName("fc-timegrid-now-indicator-line");if(i&&i.length>0){var a=document.getElementsByClassName("fc-timegrid-body")[0];a.insertBefore(i[0],a.firstChild)}}))},handleScrollTime:function(){var e=this;"timeGridWeek"!==this.viewType&&"timeGridDay"!==this.viewType||this.$nextTick((function(){if(e.$refs.fullCalendar){var t=e.$refs.fullCalendar.getApi(),n=j()().subtract(15,"m").format("HH:mm:ss");e.forSelect&&e.defaultSelect&&e.defaultSelect[1]&&(n=e.defaultSelect[0].format("HH:mm:ss")),t&&t.scrollToTime(n)}}))},handleInitSelect:function(){if(this.forSelect&&this.defaultSelect&&this.defaultSelect.length>0){var e=this.$refs.fullCalendar.getApi(),t=e.getEventById("DateSelect");t||(this.selectDateEvent={id:"DateSelect",title:"DateSelect",start:this.defaultSelect[0].format("YYYY-MM-DD HH:mm:ss"),end:this.defaultSelect[1].format("YYYY-MM-DD HH:mm:ss"),backgroundColor:"transparent",borderColor:"transparent",editable:!0,extendedProps:{eventType:"selectDate",backgroundColor:"#3688d8",start:this.defaultSelect[0].format("YYYY-MM-DD HH:mm:ss"),end:this.defaultSelect[1].format("YYYY-MM-DD HH:mm:ss")}},e.addEvent(this.selectDateEvent),e.unselect(),(j()(this.startDate).isAfter(this.defaultSelect[1],"d")||j()(this.endDate).isBefore(this.defaultSelect[0]," d"))&&e.gotoDate(this.defaultSelect[0].toDate()))}},handleDateSelect:function(e){if(this.addable&&(this.$refs.tooltip.style.visibility="visible",this.$refs.tooltip.style.top=e.jsEvent.clientY+"px",this.$refs.tooltip.style.left=e.jsEvent.clientX+"px"),this.event=e,this.importModel.startDate=j()(this.event.start).format("YYYY-MM-DD HH:mm:ss"),this.importModel.endDate=j()(this.event.end).format("YYYY-MM-DD HH:mm:ss"),"dayGridMonth"===this.viewType&&(this.importModel.endDate=j()(this.event.end).subtract(1,"day").endOf("day").format("YYYY-MM-DD HH:mm:ss")),this.forSelect){var t=this.$refs.fullCalendar.getApi(),n=t.getEventById("DateSelect");n&&n.remove(),this.selectDateEvent={id:"DateSelect",title:"DateSelect",start:this.importModel.startDate,end:this.importModel.endDate,backgroundColor:"transparent",borderColor:"transparent",editable:!0,extendedProps:{eventType:"selectDate",backgroundColor:"#3688d8",start:this.importModel.startDate,end:this.importModel.endDate}},t.addEvent(this.selectDateEvent),t.unselect()}this.$emit("date-select",this.importModel)},changeDateSelect:function(e){var t=this.$refs.fullCalendar.getApi(),n=t.getEventById("DateSelect");if(n&&n.remove(),e){var i=j()(e.start).format("YYYY-MM-DD HH:mm:ss"),a=j()(e.end).format("YYYY-MM-DD HH:mm:ss");t.addEvent({id:"DateSelect",title:"DateSelect",start:i,end:a,backgroundColor:"transparent",borderColor:"transparent",editable:!0,extendedProps:{eventType:"selectDate",backgroundColor:"#3688d8",start:i,end:a}}),this.$emit("date-select",{startDate:i,endDate:a})}else this.$emit("date-select",null)},closeTip:function(){this.$refs.tooltip.style.visibility="hidden"},handleStepChange:function(e){this.currentActiveStepIndex=e.index},handleAddUnit:function(){this.closeTip(),this.importType=y["e"]["unit-plan"];var e="/teacher/session-import/".concat(this.importType,"/").concat(this.currentClass,"?startDate=").concat(this.importModel.startDate,"&endDate=").concat(this.importModel.endDate,"&searchType=").concat(this.searchType,"&source=calendar");this.$router.push(e)},handleAddSession:function(e){this.closeTip(),this.importType=e||y["e"].task;var t="/teacher/session-import/".concat(this.importType,"/").concat(this.currentClass,"?startDate=").concat(this.importModel.startDate,"&endDate=").concat(this.importModel.endDate,"&searchType=").concat(this.searchType,"&source=calendar");this.$router.push(t)},handleChoose:function(){this.reFetch(),this.handleCloseImport()},handleCancelImport:function(){var e=this;this.$confirm({title:"Confirm cancel import",content:"Please complete the setting before leaving the page, otherwise the session can not be created",centered:!0,okText:"Leave without saving",cancelText:"Continue",onOk:function(){e.handleCloseImport()}})},handleCloseImport:function(){this.importVisible=!1},handleEventClick:function(e){},handleEvents:function(e){this.currentEvents=e},handleDatesSet:function(e){this.startDate=j()(e.start).format("YYYY-MM-DD"),this.endDate=j()(e.end).format("YYYY-MM-DD"),this.viewType=e.view.type},handleMouseEnter:function(e){},handleChangeEvents:function(){var e=this,t=this.$refs.fullCalendar.getApi();t.removeAllEvents(),this.allEvents.forEach((function(n){var i=n.extendedProps;e.showUnit.includes(i.planId)&&t.addEvent(n)}))},handleMouseLeave:function(e){},handleEventDrop:function(e){var t=e.event,n=t.extendedProps,i=j()(t.start);if(j()().isAfter(i))t.setDates(e.oldEvent.start,e.oldEvent.end);else if("DateSelect"===e.event.id)this.$emit("date-select",{startDate:j()(t.start).format("YYYY-MM-DD HH:mm:ss"),endDate:j()(t.end).format("YYYY-MM-DD HH:mm:ss")});else{var a={sessionStartTime:j()(t.start).utc().format("YYYY-MM-DD HH:mm:ss"),deadline:j()(t.end).utc().format("YYYY-MM-DD HH:mm:ss"),id:n.id};this.handleSave(a,e)}},handleEventResize:function(e){var t=e.event,n=t.extendedProps;if("DateSelect"===e.event.id)this.$emit("date-select",{startDate:j()(t.start).format("YYYY-MM-DD HH:mm:ss"),endDate:j()(t.end).format("YYYY-MM-DD HH:mm:ss")});else{var i={sessionStartTime:j()(t.start).utc().format("YYYY-MM-DD HH:mm:ss"),deadline:j()(t.end).utc().format("YYYY-MM-DD HH:mm:ss"),id:n.id};this.handleSave(i,e)}},handleSave:function(e,t){var n=this;this.loading=!0,Object(z["e"])(e).then((function(i){i.success&&(n.$message.success("Opt Successfully"),n.handleSaveContentEvent({params:e,info:t}))})).finally((function(e){n.loading=!1}))},handleSaveContentEvent:function(e){var t=e.params,n=e.info,i=this.calendarDatas.find((function(e){return e.sessionInfo.id===t.id})),a={};if(t.planId&&(a=this.currentUnitList.find((function(e){return e.id===t.planId}))||{}),i&&(i.sessionInfo=Object(s["a"])(Object(s["a"])({},i.sessionInfo),t),i.unitPlanInfo=Object(s["a"])(Object(s["a"])({},i.unitPlanInfo),a)),t.planId&&n){var r=this.currentUnitList.findIndex((function(e){return e.id===t.planId})),o=b["c"][r];n.event.setExtendedProp("backgroundColor",o),n.event.setExtendedProp("planId",t.planId)}else{var l=n.event.extendedProps.backgroundColor;n.event.setExtendedProp("backgroundColor",l)}},closeAllModal:function(){document.getElementsByClassName("ant-popover").forEach((function(e){return e.style.display="none"}))},reRender:function(){var e=this;this.$nextTick((function(){if(e.$refs.fullCalendar){var t=e.$refs.fullCalendar.getApi();t&&t.render()}}))},reFetch:function(){var e=this;this.$nextTick((function(){if(e.$refs.fullCalendar){var t=e.$refs.fullCalendar.getApi();t&&t.refetchEvents()}}))}}},se=re,oe=(n("07d3"),n("2bf8"),Object(B["a"])(se,i,a,!1,null,"a05c4704",null));t["default"]=oe.exports},"2b61":function(e,t,n){"use strict";n("52da")},"2bf8":function(e,t,n){"use strict";n("2642")},"2cea":function(e,t,n){},"2d57":function(e,t,n){},"2d67":function(e,t,n){"use strict";n("3c1d")},"2e09":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-space",[null!==e.currentBloom?n("a-popover",{attrs:{trigger:"click",overlayClassName:"choose-con",visible:e.bloomTagVisible},on:{visibleChange:e.handleBloomChange}},[n("template",{slot:"content"},[n("div",{staticClass:"choose-bar-title"},[e._v("Set Bloom's taxonomy")]),n("div",{staticClass:"choose-bar"},e._l(e.bloomLevel,(function(t,i){return n("div",{key:"bloom_"+t.title,staticClass:"choose-bar-item",style:{background:e.COLOR_LEVEL.BLOOM[i],height:e.HEIGHT[i]+"px"},on:{click:function(n){return e.changeLevel("bloomTag",t.title)}}},[n("label",[e._v(e._s(t.title))])])})),0)]),e.currentBloom?n("a-rate",{staticClass:"rate-bar-con super-small bloom-color",attrs:{tooltips:e.bloomLevelDesc,count:e.bloomLevel.length,value:e.currentBloomLevel,disabled:""}},[n("div",{attrs:{slot:"character"},slot:"character"},[n("div",{staticClass:"rate-bar"})])]):n("a-icon",{staticClass:"default-icon",attrs:{type:"plus-circle"}})],2):e._e(),null!==e.currentKnowledge?n("a-popover",{attrs:{trigger:"click",overlayClassName:"choose-con",visible:e.knowledgeDimensionVisible},on:{visibleChange:e.handleKnowledgeChange}},[n("template",{slot:"content"},[n("div",{staticClass:"choose-bar-title"},[e._v("Set Knowledge Dimensions")]),n("div",{staticClass:"choose-bar"},e._l(e.knowledgeLevel,(function(t,i){return n("div",{key:"knowledge_"+t.title,staticClass:"choose-bar-item",style:{background:e.COLOR_LEVEL.KNOWLEDGE[i],height:e.HEIGHT[i]+"px"},on:{click:function(n){return e.changeLevel("knowledgeDimension",t.title)}}},[n("label",[e._v(e._s(t.title))])])})),0)]),e.currentKnowledge?n("a-rate",{staticClass:"rate-bar-con super-small knowledge-color",attrs:{tooltips:e.knowledgeLevelDesc,count:e.knowledgeLevel.length,value:e.currentKnowledgeLevel,disabled:""}},[n("div",{attrs:{slot:"character"},slot:"character"},[n("div",{staticClass:"rate-bar"})])]):n("a-icon",{staticClass:"default-icon",attrs:{type:"plus-circle"}})],2):e._e()],1)},a=[],r=n("3835"),s=(n("d81d"),n("7db0"),n("d3b7"),n("3ca3"),n("ddb0"),n("f93e")),o=n("2934"),l={name:"RateLevel",props:{bloom:{type:String,default:null},knowledge:{type:String,default:null}},watch:{bloom:{handler:function(e){this.currentBloom=e}},knowledge:{handler:function(e){this.currentKnowledge=e}}},computed:{bloomLevelDesc:function(){return this.bloomLevel&&this.bloomLevel.length>0?this.bloomLevel.map((function(e){return e.title})):[]},currentBloomLevel:function(){var e=this;if(this.currentBloom&&this.bloomLevel.length>0){var t=this.bloomLevel.find((function(t){return t.text===e.currentBloom}));return t?parseInt(t.value):0}return 0},knowledgeLevelDesc:function(){return this.knowledgeLevel&&this.knowledgeLevel.length>0?this.knowledgeLevel.map((function(e){return e.title})):[]},currentKnowledgeLevel:function(){var e=this;if(this.currentKnowledge&&this.knowledgeLevel.length>0){var t=this.knowledgeLevel.find((function(t){return t.text===e.currentKnowledge}));return t?parseInt(t.value):0}return 0}},data:function(){return{COLOR_LEVEL:s["f"],bloomTagVisible:!1,knowledgeDimensionVisible:!1,HEIGHT:[20,27,35,45,56,67,78,100],currentBloom:this.bloom,currentKnowledge:this.knowledge,bloomLevel:[],knowledgeLevel:[]}},created:function(){this.initDict()},methods:{initDict:function(){var e=this;Promise.all([Object(o["a"])(s["k"]),Object(o["a"])(s["l"])]).then((function(t){var n=Object(r["a"])(t,2),i=n[0],a=n[1];i.success&&(e.bloomLevel=i.result),a.success&&(e.knowledgeLevel=a.result)}))},changeLevel:function(e,t){this[e+"Visible"]=!1,this.$emit("change",{type:e,title:t})},handleKnowledgeChange:function(e){this.knowledgeDimensionVisible=e},handleBloomChange:function(e){this.bloomTagVisible=e}}},c=l,d=(n("dec2"),n("295a"),n("0c7c")),u=Object(d["a"])(c,i,a,!1,null,"0a638762",null);t["a"]=u.exports},3094:function(e,t,n){"use strict";n.d(t,"a",(function(){return qt}));var i=n("22b4"),a=n("7fae"),r=n("3a56"),s=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(a["a"])(t,e),t.type="dataZoom.select",t}(r["a"]),o=s,l=n("7dcf"),c=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(a["a"])(t,e),t.type="dataZoom.select",t}(l["a"]),d=c,u=n("1459");function p(e){e.registerComponentModel(o),e.registerComponentView(d),Object(u["a"])(e)}var h=n("6d8b"),f=function(){function e(){}return e}(),v={};function m(e,t){v[e]=t}function g(e){return v[e]}var y=n("6cb7"),b=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(a["a"])(t,e),t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;h["k"](this.option.feature,(function(e,n){var i=g(n);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(t)),h["G"](e,i.defaultOption))}))},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(y["a"]),w=b,C=n("e86a"),S=n("2306"),k=n("7d6c"),_=n("4319"),T=n("80f0"),x=n("7919"),D=n("b12f"),E=n("8918"),O=n("76a5"),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a["a"])(t,e),t.prototype.render=function(e,t,n,i){var a=this.group;if(a.removeAll(),e.get("show")){var r=+e.get("itemSize"),s=e.get("feature")||{},o=this._features||(this._features={}),l=[];h["k"](s,(function(e,t){l.push(t)})),new T["a"](this._featureNames||[],l).add(c).update(c).remove(h["h"](c,null)).execute(),this._featureNames=l,x["a"](a,e,n),a.add(x["b"](a.getBoundingRect(),e)),a.eachChild((function(e){var t=e.__title,i=e.ensureState("emphasis"),s=i.textConfig||(i.textConfig={}),o=e.getTextContent(),l=o&&o.states.emphasis;if(l&&!h["v"](l)&&t){var c=l.style||(l.style={}),d=C["d"](t,O["a"].makeFont(c)),u=e.x+a.x,p=e.y+a.y+r,f=!1;p+d.height>n.getHeight()&&(s.position="top",f=!0);var v=f?-5-d.height:r+8;u+d.width/2>n.getWidth()?(s.position=["100%",v],c.align="right"):u-d.width/2<0&&(s.position=[0,v],c.align="left")}}))}function c(a,r){var c,u=l[a],p=l[r],h=s[u],v=new _["a"](h,e,e.ecModel);if(i&&null!=i.newTitle&&i.featureName===u&&(h.title=i.newTitle),u&&!p){if(M(u))c={onclick:v.option.onclick,featureName:u};else{var m=g(u);if(!m)return;c=new m}o[u]=c}else if(c=o[p],!c)return;c.uid=Object(E["c"])("toolbox-feature"),c.model=v,c.ecModel=t,c.api=n;var y=c instanceof f;u||!p?!v.get("show")||y&&c.unusable?y&&c.remove&&c.remove(t,n):(d(v,c,u),v.setIconStatus=function(e,t){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[e]=t,i[e]&&("emphasis"===t?k["o"]:k["z"])(i[e])},c instanceof f&&c.render&&c.render(v,t,n,i)):y&&c.dispose&&c.dispose(t,n)}function d(i,s,o){var l,c,d=i.getModel("iconStyle"),u=i.getModel(["emphasis","iconStyle"]),p=s instanceof f&&s.getIcons?s.getIcons():i.get("icon"),v=i.get("title")||{};h["A"](p)?(l={},l[o]=p):l=p,h["A"](v)?(c={},c[o]=v):c=v;var m=i.iconPaths={};h["k"](l,(function(o,l){var p=S["createIcon"](o,{},{x:-r/2,y:-r/2,width:r,height:r});p.setStyle(d.getItemStyle());var f=p.ensureState("emphasis");f.style=u.getItemStyle();var v=new O["a"]({style:{text:c[l],align:u.get("textAlign"),borderRadius:u.get("textBorderRadius"),padding:u.get("textPadding"),fill:null},ignore:!0});p.setTextContent(v),S["setTooltipConfig"]({el:p,componentModel:e,itemName:l,formatterParamsExtra:{title:c[l]}}),p.__title=c[l],p.on("mouseover",(function(){var t=u.getItemStyle(),n="vertical"===e.get("orient")?null==e.get("right")?"right":"left":null==e.get("bottom")?"bottom":"top";v.setStyle({fill:u.get("textFill")||t.fill||t.stroke||"#000",backgroundColor:u.get("textBackgroundColor")}),p.setTextConfig({position:u.get("textPosition")||n}),v.ignore=!e.get("showTitle"),Object(k["o"])(this)})).on("mouseout",(function(){"emphasis"!==i.get(["iconStatus",l])&&Object(k["z"])(this),v.hide()})),("emphasis"===i.get(["iconStatus",l])?k["o"]:k["z"])(p),a.add(p),p.on("click",h["c"](s.onclick,s,t,n,l)),m[l]=p}))}},t.prototype.updateView=function(e,t,n,i){h["k"](this._features,(function(e){e instanceof f&&e.updateView&&e.updateView(e.model,t,n,i)}))},t.prototype.remove=function(e,t){h["k"](this._features,(function(n){n instanceof f&&n.remove&&n.remove(e,t)})),this.group.removeAll()},t.prototype.dispose=function(e,t){h["k"](this._features,(function(n){n instanceof f&&n.dispose&&n.dispose(e,t)}))},t.type="toolbox",t}(D["a"]);function M(e){return 0===e.indexOf("my")}var L=I,R=n("22d1"),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a["a"])(t,e),t.prototype.onclick=function(e,t){var n=this.model,i=n.get("name")||e.get("title.0.text")||"echarts",a="svg"===t.getZr().painter.getType(),r=a?"svg":n.get("type",!0)||"png",s=t.getConnectedDataURL({type:r,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),o=R["a"].browser;if(Object(h["v"])(MouseEvent)&&(o.newEdge||!o.ie&&!o.edge)){var l=document.createElement("a");l.download=i+"."+r,l.target="_blank",l.href=s;var c=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});l.dispatchEvent(c)}else if(window.navigator.msSaveOrOpenBlob||a){var d=s.split(","),u=d[0].indexOf("base64")>-1,p=a?decodeURIComponent(d[1]):d[1];u&&(p=window.atob(p));var f=i+"."+r;if(window.navigator.msSaveOrOpenBlob){var v=p.length,m=new Uint8Array(v);while(v--)m[v]=p.charCodeAt(v);var g=new Blob([m]);window.navigator.msSaveOrOpenBlob(g,f)}else{var y=document.createElement("iframe");document.body.appendChild(y);var b=y.contentWindow,w=b.document;w.open("image/svg+xml","replace"),w.write(p),w.close(),b.focus(),w.execCommand("SaveAs",!0,f),document.body.removeChild(y)}}else{var C=n.get("lang"),S='<body style="margin:0;"><img src="'+s+'" style="max-width:100%;" title="'+(C&&C[0]||"")+'" /></body>',k=window.open();k.document.write(S),k.document.title=i}},t.getDefaultOption=function(e){var t={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return t},t}(f),j=A,P=n("1be7"),N=n("e0d3"),B="__ec_magicType_stack__",H=[["line","bar"],["stack"]],F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a["a"])(t,e),t.prototype.getIcons=function(){var e=this.model,t=e.get("icon"),n={};return h["k"](e.get("type"),(function(e){t[e]&&(n[e]=t[e])})),n},t.getDefaultOption=function(e){var t={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return t},t.prototype.onclick=function(e,t,n){var i=this.model,a=i.get(["seriesIndex",n]);if(V[n]){var r,s={series:[]},o=function(e){var t=e.subType,a=e.id,r=V[n](t,a,e,i);r&&(h["i"](r,e.option),s.series.push(r));var o=e.coordinateSystem;if(o&&"cartesian2d"===o.type&&("line"===n||"bar"===n)){var l=o.getAxesByScale("ordinal")[0];if(l){var c=l.dim,d=c+"Axis",u=e.getReferringComponents(d,N["b"]).models[0],p=u.componentIndex;s[d]=s[d]||[];for(var f=0;f<=p;f++)s[d][p]=s[d][p]||{};s[d][p].boundaryGap="bar"===n}}};h["k"](H,(function(e){h["q"](e,n)>=0&&h["k"](e,(function(e){i.setIconStatus(e,"normal")}))})),i.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:null==a?null:{seriesIndex:a}},o);var l=n;"stack"===n&&(r=h["G"]({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),"emphasis"!==i.get(["iconStatus",n])&&(l="tiled")),t.dispatchAction({type:"changeMagicType",currentType:l,newOption:s,newTitle:r,featureName:"magicType"})}},t}(f),V={line:function(e,t,n,i){if("bar"===e)return h["G"]({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(e,t,n,i){if("line"===e)return h["G"]({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(e,t,n,i){var a=n.get("stack")===B;if("line"===e||"bar"===e)return i.setIconStatus("stack",a?"normal":"emphasis"),h["G"]({id:t,stack:a?"":B},i.get(["option","stack"])||{},!0)}};P["c"]({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(e,t){t.mergeOption(e.newOption)}));var U=F,z=n("607d"),Y=new Array(60).join("-"),W="\t";function G(e){var t={},n=[],i=[];return e.eachRawSeries((function(e){var a=e.coordinateSystem;if(!a||"cartesian2d"!==a.type&&"polar"!==a.type)n.push(e);else{var r=a.getBaseAxis();if("category"===r.type){var s=r.dim+"_"+r.index;t[s]||(t[s]={categoryAxis:r,valueAxis:a.getOtherAxis(r),series:[]},i.push({axisDim:r.dim,axisIndex:r.index})),t[s].series.push(e)}else n.push(e)}})),{seriesGroupByCategoryAxis:t,other:n,meta:i}}function q(e){var t=[];return h["k"](e,(function(e,n){var i=e.categoryAxis,a=e.valueAxis,r=a.dim,s=[" "].concat(h["F"](e.series,(function(e){return e.name}))),o=[i.model.getCategories()];h["k"](e.series,(function(e){var t=e.getRawData();o.push(e.getRawData().mapArray(t.mapDimension(r),(function(e){return e})))}));for(var l=[s.join(W)],c=0;c<o[0].length;c++){for(var d=[],u=0;u<o.length;u++)d.push(o[u][c]);l.push(d.join(W))}t.push(l.join("\n"))})),t.join("\n\n"+Y+"\n\n")}function $(e){return h["F"](e,(function(e){var t=e.getRawData(),n=[e.name],i=[];return t.each(t.dimensions,(function(){for(var e=arguments.length,a=arguments[e-1],r=t.getName(a),s=0;s<e-1;s++)i[s]=arguments[s];n.push((r?r+W:"")+i.join(W))})),n.join("\n")})).join("\n\n"+Y+"\n\n")}function Z(e){var t=G(e);return{value:h["n"]([q(t.seriesGroupByCategoryAxis),$(t.other)],(function(e){return!!e.replace(/[\n\t\s]/g,"")})).join("\n\n"+Y+"\n\n"),meta:t.meta}}function K(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Q(e){var t=e.slice(0,e.indexOf("\n"));if(t.indexOf(W)>=0)return!0}var X=new RegExp("["+W+"]+","g");function J(e){for(var t=e.split(/\n+/g),n=K(t.shift()).split(X),i=[],a=h["F"](n,(function(e){return{name:e,data:[]}})),r=0;r<t.length;r++){var s=K(t[r]).split(X);i.push(s.shift());for(var o=0;o<s.length;o++)a[o]&&(a[o].data[r]=s[o])}return{series:a,categories:i}}function ee(e){for(var t=e.split(/\n+/g),n=K(t.shift()),i=[],a=0;a<t.length;a++){var r=K(t[a]);if(r){var s=r.split(X),o="",l=void 0,c=!1;isNaN(s[0])?(c=!0,o=s[0],s=s.slice(1),i[a]={name:o,value:[]},l=i[a].value):l=i[a]=[];for(var d=0;d<s.length;d++)l.push(+s[d]);1===l.length&&(c?i[a].value=l[0]:i[a]=l[0])}}return{name:n,data:i}}function te(e,t){var n=e.split(new RegExp("\n*"+Y+"\n*","g")),i={series:[]};return h["k"](n,(function(e,n){if(Q(e)){var a=J(e),r=t[n],s=r.axisDim+"Axis";r&&(i[s]=i[s]||[],i[s][r.axisIndex]={data:a.categories},i.series=i.series.concat(a.series))}else{a=ee(e);i.series.push(a)}})),i}var ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a["a"])(t,e),t.prototype.onclick=function(e,t){setTimeout((function(){t.dispatchAction({type:"hideTip"})}));var n=t.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",a.style.backgroundColor=i.get("backgroundColor")||"#fff";var r=document.createElement("h4"),s=i.get("lang")||[];r.innerHTML=s[0]||i.get("title"),r.style.cssText="margin:10px 20px",r.style.color=i.get("textColor");var o=document.createElement("div"),l=document.createElement("textarea");o.style.cssText="overflow:auto";var c=i.get("optionToContent"),d=i.get("contentToOption"),u=Z(e);if(h["v"](c)){var p=c(t.getOption());h["A"](p)?o.innerHTML=p:h["u"](p)&&o.appendChild(p)}else{l.readOnly=i.get("readOnly");var f=l.style;f.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none",f.color=i.get("textColor"),f.borderColor=i.get("textareaBorderColor"),f.backgroundColor=i.get("textareaColor"),l.value=u.value,o.appendChild(l)}var v=u.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var g="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",y=document.createElement("div"),b=document.createElement("div");g+=";background-color:"+i.get("buttonColor"),g+=";color:"+i.get("buttonTextColor");var w=this;function C(){n.removeChild(a),w._dom=null}Object(z["a"])(y,"click",C),Object(z["a"])(b,"click",(function(){if(null==d&&null!=c||null!=d&&null==c)C();else{var e;try{e=h["v"](d)?d(o,t.getOption()):te(l.value,v)}catch(n){throw C(),new Error("Data view format error "+n)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),C()}})),y.innerHTML=s[1],b.innerHTML=s[2],b.style.cssText=y.style.cssText=g,!i.get("readOnly")&&m.appendChild(b),m.appendChild(y),a.appendChild(r),a.appendChild(o),a.appendChild(m),o.style.height=n.clientHeight-80+"px",n.appendChild(a),this._dom=a},t.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.getDefaultOption=function(e){var t={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return t},t}(f);function ie(e,t){return h["F"](e,(function(e,n){var i=t&&t[n];if(h["z"](i)&&!h["s"](i)){var a=h["z"](e)&&!h["s"](e);a||(e={value:e});var r=null!=i.name&&null==e.name;return e=h["i"](e,i),r&&delete e.name,e}return e}))}P["c"]({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(e,t){var n=[];h["k"](e.newOption.series,(function(e){var i=t.getSeriesByName(e.name)[0];if(i){var a=i.get("data");n.push({name:e.name,data:ie(e.data,a)})}else n.push(h["m"]({type:"scatter"},e))})),t.mergeOption(h["i"]({series:n},e.newOption))}));var ae=ne,re=h["k"],se=Object(N["m"])();function oe(e,t){var n=ue(e);re(t,(function(t,i){for(var a=n.length-1;a>=0;a--){var r=n[a];if(r[i])break}if(a<0){var s=e.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(s){var o=s.getPercentRange();n[0][i]={dataZoomId:i,start:o[0],end:o[1]}}}})),n.push(t)}function le(e){var t=ue(e),n=t[t.length-1];t.length>1&&t.pop();var i={};return re(n,(function(e,n){for(var a=t.length-1;a>=0;a--)if(e=t[a][n],e){i[n]=e;break}})),i}function ce(e){se(e).snapshots=null}function de(e){return ue(e).length}function ue(e){var t=se(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a["a"])(t,e),t.prototype.onclick=function(e,t){ce(e),t.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var t={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return t},t}(f);P["c"]({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(e,t){t.resetOption("recreate")}));var he=pe,fe=n("6fd3"),ve=n("2dc5"),me=n("c7a2"),ge=n("d498"),ye=n("87b1"),be=n("a4fe"),we=!0,Ce=Math.min,Se=Math.max,ke=Math.pow,_e=1e4,Te=6,xe=6,De="globalPan",Ee={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Oe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Ie={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Me=0,Le=function(e){function t(t){var n=e.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=t,n.group=new ve["a"],n._uid="brushController_"+Me++,Object(h["k"])(dt,(function(e,t){this._handlers[t]=Object(h["c"])(e,this)}),n),n}return Object(a["a"])(t,e),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var t=this._zr;this._enableGlobalPan||be["c"](t,De,this._uid),Object(h["k"])(this._handlers,(function(e,n){t.on(n,e)})),this._brushType=e.brushType,this._brushOption=Object(h["G"])(Object(h["d"])(Ie),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;be["b"](e,De,this._uid),Object(h["k"])(this._handlers,(function(t,n){e.off(n,t)})),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var t=this._panels={};Object(h["k"])(e,(function(e){t[e.panelId]=Object(h["d"])(e)}))}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=t.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=Object(h["F"])(e,(function(e){return Object(h["G"])(Object(h["d"])(Ie),e,!0)}));var t="\0-brush-index-",n=this._covers,i=this._covers=[],a=this,r=this._creatingCover;return new T["a"](n,e,o,s).add(l).update(l).remove(c).execute(),this;function s(e,n){return(null!=e.id?e.id:t+n)+"-"+e.brushType}function o(e,t){return s(e.__brushOption,t)}function l(t,s){var o=e[t];if(null!=s&&n[s]===r)i[t]=n[s];else{var l=i[t]=null!=s?(n[s].__brushOption=o,n[s]):Ae(a,Re(a,o));Ne(a,l)}}function c(e){n[e]!==r&&a.group.remove(n[e])}},t.prototype.unmount=function(){return this.enableBrush(!1),Ve(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(fe["a"]);function Re(e,t){var n=ht[t.brushType].createCover(e,t);return n.__brushOption=t,Pe(n,t),e.group.add(n),n}function Ae(e,t){var n=Be(t);return n.endCreating&&(n.endCreating(e,t),Pe(t,t.__brushOption)),t}function je(e,t){var n=t.__brushOption;Be(t).updateCoverShape(e,t,n.range,n)}function Pe(e,t){var n=t.z;null==n&&(n=_e),e.traverse((function(e){e.z=n,e.z2=n}))}function Ne(e,t){Be(t).updateCommon(e,t),je(e,t)}function Be(e){return ht[e.__brushOption.brushType]}function He(e,t,n){var i,a=e._panels;if(!a)return we;var r=e._transform;return Object(h["k"])(a,(function(e){e.isTargetByCursor(t,n,r)&&(i=e)})),i}function Fe(e,t){var n=e._panels;if(!n)return we;var i=t.__brushOption.panelId;return null!=i?n[i]:we}function Ve(e){var t=e._covers,n=t.length;return Object(h["k"])(t,(function(t){e.group.remove(t)}),e),t.length=0,!!n}function Ue(e,t){var n=Object(h["F"])(e._covers,(function(e){var t=e.__brushOption,n=Object(h["d"])(t.range);return{brushType:t.brushType,panelId:t.panelId,range:n}}));e.trigger("brush",{areas:n,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function ze(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],i=t[0],a=n[0]-i[0],r=n[1]-i[1],s=ke(a*a+r*r,.5);return s>Te}function Ye(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function We(e,t,n,i){var a=new ve["a"];return a.add(new me["a"]({name:"main",style:Ze(n),silent:!0,draggable:!0,cursor:"move",drift:Object(h["h"])(et,e,t,a,["n","s","w","e"]),ondragend:Object(h["h"])(Ue,t,{isEnd:!0})})),Object(h["k"])(i,(function(n){a.add(new me["a"]({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Object(h["h"])(et,e,t,a,n),ondragend:Object(h["h"])(Ue,t,{isEnd:!0})}))})),a}function Ge(e,t,n,i){var a=i.brushStyle.lineWidth||0,r=Se(a,xe),s=n[0][0],o=n[1][0],l=s-a/2,c=o-a/2,d=n[0][1],u=n[1][1],p=d-r+a/2,h=u-r+a/2,f=d-s,v=u-o,m=f+a,g=v+a;$e(e,t,"main",s,o,f,v),i.transformable&&($e(e,t,"w",l,c,r,g),$e(e,t,"e",p,c,r,g),$e(e,t,"n",l,c,m,r),$e(e,t,"s",l,h,m,r),$e(e,t,"nw",l,c,r,r),$e(e,t,"ne",p,c,r,r),$e(e,t,"sw",l,h,r,r),$e(e,t,"se",p,h,r,r))}function qe(e,t){var n=t.__brushOption,i=n.transformable,a=t.childAt(0);a.useStyle(Ze(n)),a.attr({silent:!i,cursor:i?"move":"default"}),Object(h["k"])([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(n){var a=t.childOfName(n.join("")),r=1===n.length?Xe(e,n[0]):Je(e,n);a&&a.attr({silent:!i,invisible:!i,cursor:i?Oe[r]+"-resize":null})}))}function $e(e,t,n,i,a,r,s){var o=t.childOfName(n);o&&o.setShape(at(it(e,t,[[i,a],[i+r,a+s]])))}function Ze(e){return Object(h["i"])({strokeNoScale:!0},e.brushStyle)}function Ke(e,t,n,i){var a=[Ce(e,n),Ce(t,i)],r=[Se(e,n),Se(t,i)];return[[a[0],r[0]],[a[1],r[1]]]}function Qe(e){return S["getTransform"](e.group)}function Xe(e,t){var n={w:"left",e:"right",n:"top",s:"bottom"},i={left:"w",right:"e",top:"n",bottom:"s"},a=S["transformDirection"](n[t],Qe(e));return i[a]}function Je(e,t){var n=[Xe(e,t[0]),Xe(e,t[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}function et(e,t,n,i,a,r){var s=n.__brushOption,o=e.toRectRange(s.range),l=nt(t,a,r);Object(h["k"])(i,(function(e){var t=Ee[e];o[t[0]][t[1]]+=l[t[0]]})),s.range=e.fromRectRange(Ke(o[0][0],o[1][0],o[0][1],o[1][1])),Ne(t,n),Ue(t,{isEnd:!1})}function tt(e,t,n,i){var a=t.__brushOption.range,r=nt(e,n,i);Object(h["k"])(a,(function(e){e[0]+=r[0],e[1]+=r[1]})),Ne(e,t),Ue(e,{isEnd:!1})}function nt(e,t,n){var i=e.group,a=i.transformCoordToLocal(t,n),r=i.transformCoordToLocal(0,0);return[a[0]-r[0],a[1]-r[1]]}function it(e,t,n){var i=Fe(e,t);return i&&i!==we?i.clipPath(n,e._transform):Object(h["d"])(n)}function at(e){var t=Ce(e[0][0],e[1][0]),n=Ce(e[0][1],e[1][1]),i=Se(e[0][0],e[1][0]),a=Se(e[0][1],e[1][1]);return{x:t,y:n,width:i-t,height:a-n}}function rt(e,t,n){if(e._brushType&&!pt(e,t.offsetX,t.offsetY)){var i=e._zr,a=e._covers,r=He(e,t,n);if(!e._dragging)for(var s=0;s<a.length;s++){var o=a[s].__brushOption;if(r&&(r===we||o.panelId===r.panelId)&&ht[o.brushType].contain(a[s],n[0],n[1]))return}r&&i.setCursorStyle("crosshair")}}function st(e){var t=e.event;t.preventDefault&&t.preventDefault()}function ot(e,t,n){return e.childOfName("main").contain(t,n)}function lt(e,t,n,i){var a,r=e._creatingCover,s=e._creatingPanel,o=e._brushOption;if(e._track.push(n.slice()),ze(e)||r){if(s&&!r){"single"===o.brushMode&&Ve(e);var l=Object(h["d"])(o);l.brushType=ct(l.brushType,s),l.panelId=s===we?null:s.panelId,r=e._creatingCover=Re(e,l),e._covers.push(r)}if(r){var c=ht[ct(e._brushType,s)],d=r.__brushOption;d.range=c.getCreatingRange(it(e,r,e._track)),i&&(Ae(e,r),c.updateCommon(e,r)),je(e,r),a={isEnd:i}}}else i&&"single"===o.brushMode&&o.removeOnClick&&He(e,t,n)&&Ve(e)&&(a={isEnd:i,removeOnClick:!0});return a}function ct(e,t){return"auto"===e?t.defaultBrushType:e}var dt={mousedown:function(e){if(this._dragging)ut(this,e);else if(!e.target||!e.target.draggable){st(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var n=this._creatingPanel=He(this,e,t);n&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,n=e.offsetY,i=this.group.transformCoordToLocal(t,n);if(rt(this,e,i),this._dragging){st(e);var a=lt(this,e,i,!1);a&&Ue(this,a)}},mouseup:function(e){ut(this,e)}};function ut(e,t){if(e._dragging){st(t);var n=t.offsetX,i=t.offsetY,a=e.group.transformCoordToLocal(n,i),r=lt(e,t,a,!0);e._dragging=!1,e._track=[],e._creatingCover=null,r&&Ue(e,r)}}function pt(e,t,n){var i=e._zr;return t<0||t>i.getWidth()||n<0||n>i.getHeight()}var ht={lineX:ft(0),lineY:ft(1),rect:{createCover:function(e,t){function n(e){return e}return We({toRectRange:n,fromRectRange:n},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=Ye(e);return Ke(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,i){Ge(e,t,n,i)},updateCommon:qe,contain:ot},polygon:{createCover:function(e,t){var n=new ve["a"];return n.add(new ge["a"]({name:"main",style:Ze(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new ye["a"]({name:"main",draggable:!0,drift:Object(h["h"])(tt,e,t),ondragend:Object(h["h"])(Ue,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,i){t.childAt(0).setShape({points:it(e,t,n)})},updateCommon:qe,contain:ot}};function ft(e){return{createCover:function(t,n){return We({toRectRange:function(t){var n=[t,[0,100]];return e&&n.reverse(),n},fromRectRange:function(t){return t[e]}},t,n,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var n=Ye(t),i=Ce(n[0][e],n[1][e]),a=Se(n[0][e],n[1][e]);return[i,a]},updateCoverShape:function(t,n,i,a){var r,s=Fe(t,n);if(s!==we&&s.getLinearBrushOtherExtent)r=s.getLinearBrushOtherExtent(e);else{var o=t._zr;r=[0,[o.getWidth(),o.getHeight()][1-e]]}var l=[i,r];e&&l.reverse(),Ge(t,n,l,a)},updateCommon:qe,contain:ot}}var vt=Le,mt=n("9850"),gt={axisPointer:1,tooltip:1,brush:1};function yt(e,t,n){var i=t.getComponentByElement(e.topTarget),a=i&&i.coordinateSystem;return i&&i!==n&&!gt.hasOwnProperty(i.mainType)&&a&&a.model!==n}function bt(e){return e=St(e),function(t){return S["clipPointsByRect"](t,e)}}function wt(e,t){return e=St(e),function(n){var i=null!=t?t:n,a=i?e.width:e.height,r=i?e.x:e.y;return[r,r+(a||0)]}}function Ct(e,t,n){var i=St(e);return function(e,a){return i.contain(a[0],a[1])&&!yt(e,t,n)}}function St(e){return mt["a"].create(e)}var kt=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],_t=function(){function e(e,t,n){var i=this;this._targetInfoList=[];var a=xt(t,e);Object(h["k"])(Dt,(function(e,t){(!n||!n.include||Object(h["q"])(n.include,t)>=0)&&e(a,i._targetInfoList)}))}return e.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,(function(e,t,n){if((e.coordRanges||(e.coordRanges=[])).push(t),!e.coordRange){e.coordRange=t;var i=It[e.brushType](0,n,t);e.__rangeOffset={offset:Lt[e.brushType](i.values,e.range,[1,1]),xyMinMax:i.xyMinMax}}})),e},e.prototype.matchOutputRanges=function(e,t,n){Object(h["k"])(e,(function(e){var i=this.findTargetInfo(e,t);i&&!0!==i&&Object(h["k"])(i.coordSyses,(function(i){var a=It[e.brushType](1,i,e.range,!0);n(e,a.values,i,t)}))}),this)},e.prototype.setInputRanges=function(e,t){Object(h["k"])(e,(function(e){var n=this.findTargetInfo(e,t);if(e.range=e.range||[],n&&!0!==n){e.panelId=n.panelId;var i=It[e.brushType](0,n.coordSys,e.coordRange),a=e.__rangeOffset;e.range=a?Lt[e.brushType](i.values,a.offset,At(i.xyMinMax,a.xyMinMax)):i.values}}),this)},e.prototype.makePanelOpts=function(e,t){return Object(h["F"])(this._targetInfoList,(function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t?t(n):null,clipPath:bt(i),isTargetByCursor:Ct(i,e,n.coordSysModel),getLinearBrushOtherExtent:wt(i)}}))},e.prototype.controlSeries=function(e,t,n){var i=this.findTargetInfo(e,n);return!0===i||i&&Object(h["q"])(i.coordSyses,t.coordinateSystem)>=0},e.prototype.findTargetInfo=function(e,t){for(var n=this._targetInfoList,i=xt(t,e),a=0;a<n.length;a++){var r=n[a],s=e.panelId;if(s){if(r.panelId===s)return r}else for(var o=0;o<Et.length;o++)if(Et[o](i,r))return r}return!0},e}();function Tt(e){return e[0]>e[1]&&e.reverse(),e}function xt(e,t){return Object(N["q"])(e,t,{includeMainTypes:kt})}var Dt={grid:function(e,t){var n=e.xAxisModels,i=e.yAxisModels,a=e.gridModels,r=Object(h["f"])(),s={},o={};(n||i||a)&&(Object(h["k"])(n,(function(e){var t=e.axis.grid.model;r.set(t.id,t),s[t.id]=!0})),Object(h["k"])(i,(function(e){var t=e.axis.grid.model;r.set(t.id,t),o[t.id]=!0})),Object(h["k"])(a,(function(e){r.set(e.id,e),s[e.id]=!0,o[e.id]=!0})),r.each((function(e){var a=e.coordinateSystem,r=[];Object(h["k"])(a.getCartesians(),(function(e,t){(Object(h["q"])(n,e.getAxis("x").model)>=0||Object(h["q"])(i,e.getAxis("y").model)>=0)&&r.push(e)})),t.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:r[0],coordSyses:r,getPanelRect:Ot.grid,xAxisDeclared:s[e.id],yAxisDeclared:o[e.id]})})))},geo:function(e,t){Object(h["k"])(e.geoModels,(function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:Ot.geo})}))}},Et=[function(e,t){var n=e.xAxisModel,i=e.yAxisModel,a=e.gridModel;return!a&&n&&(a=n.axis.grid.model),!a&&i&&(a=i.axis.grid.model),a&&a===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],Ot={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(S["getTransform"](e)),t}},It={lineX:Object(h["h"])(Mt,0),lineY:Object(h["h"])(Mt,1),rect:function(e,t,n,i){var a=e?t.pointToData([n[0][0],n[1][0]],i):t.dataToPoint([n[0][0],n[1][0]],i),r=e?t.pointToData([n[0][1],n[1][1]],i):t.dataToPoint([n[0][1],n[1][1]],i),s=[Tt([a[0],r[0]]),Tt([a[1],r[1]])];return{values:s,xyMinMax:s}},polygon:function(e,t,n,i){var a=[[1/0,-1/0],[1/0,-1/0]],r=Object(h["F"])(n,(function(n){var r=e?t.pointToData(n,i):t.dataToPoint(n,i);return a[0][0]=Math.min(a[0][0],r[0]),a[1][0]=Math.min(a[1][0],r[1]),a[0][1]=Math.max(a[0][1],r[0]),a[1][1]=Math.max(a[1][1],r[1]),r}));return{values:r,xyMinMax:a}}};function Mt(e,t,n,i){var a=n.getAxis(["x","y"][e]),r=Tt(Object(h["F"])([0,1],(function(e){return t?a.coordToData(a.toLocalCoord(i[e]),!0):a.toGlobalCoord(a.dataToCoord(i[e]))}))),s=[];return s[e]=r,s[1-e]=[NaN,NaN],{values:r,xyMinMax:s}}var Lt={lineX:Object(h["h"])(Rt,0),lineY:Object(h["h"])(Rt,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return Object(h["F"])(e,(function(e,i){return[e[0]-n[0]*t[i][0],e[1]-n[1]*t[i][1]]}))}};function Rt(e,t,n,i){return[t[0]-i[e]*n[0],t[1]-i[e]*n[1]]}function At(e,t){var n=jt(e),i=jt(t),a=[n[0]/i[0],n[1]/i[1]];return isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a}function jt(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var Pt=_t,Nt=n("ef6a"),Bt=n("2f1f"),Ht=h["k"],Ft=Object(N["n"])("toolbox-dataZoom_"),Vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a["a"])(t,e),t.prototype.render=function(e,t,n,i){this._brushController||(this._brushController=new vt(n.getZr()),this._brushController.on("brush",h["c"](this._onBrush,this)).mount()),Wt(e,t,this,i,n),Yt(e,t)},t.prototype.onclick=function(e,t,n){Ut[n].call(this)},t.prototype.remove=function(e,t){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,t){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var t=e.areas;if(e.isEnd&&t.length){var n={},i=this.ecModel;this._brushController.updateCovers([]);var a=new Pt(zt(this.model),i,{include:["grid"]});a.matchOutputRanges(t,i,(function(e,t,n){if("cartesian2d"===n.type){var i=e.brushType;"rect"===i?(r("x",n,t[0]),r("y",n,t[1])):r({lineX:"x",lineY:"y"}[i],n,t)}})),oe(i,n),this._dispatchZoomAction(n)}function r(e,t,a){var r=t.getAxis(e),o=r.model,l=s(e,o,i),c=l.findRepresentativeAxisProxy(o).getMinMaxSpan();null==c.minValueSpan&&null==c.maxValueSpan||(a=Object(Nt["a"])(0,a.slice(),r.scale.getExtent(),0,c.minValueSpan,c.maxValueSpan)),l&&(n[l.id]={dataZoomId:l.id,startValue:a[0],endValue:a[1]})}function s(e,t,n){var i;return n.eachComponent({mainType:"dataZoom",subType:"select"},(function(n){var a=n.getAxisModel(e,t.componentIndex);a&&(i=n)})),i}},t.prototype._dispatchZoomAction=function(e){var t=[];Ht(e,(function(e,n){t.push(h["d"](e))})),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},t.getDefaultOption=function(e){var t={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return t},t}(f),Ut={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(le(this.ecModel))}};function zt(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}function Yt(e,t){e.setIconStatus("back",de(t)>1?"emphasis":"normal")}function Wt(e,t,n,i,a){var r=n._isZoomActive;i&&"takeGlobalCursor"===i.type&&(r="dataZoomSelect"===i.key&&i.dataZoomSelectActive),n._isZoomActive=r,e.setIconStatus("zoom",r?"emphasis":"normal");var s=new Pt(zt(e),t,{include:["grid"]}),o=s.makePanelOpts(a,(function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"}));n._brushController.setPanels(o).enableBrush(!(!r||!o.length)&&{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()})}Object(Bt["b"])("dataZoom",(function(e){var t=e.getComponent("toolbox",0),n=["feature","dataZoom"];if(t&&null!=t.get(n)){var i=t.getModel(n),a=[],r=zt(i),s=Object(N["q"])(e,r);return Ht(s.xAxisModels,(function(e){return o(e,"xAxis","xAxisIndex")})),Ht(s.yAxisModels,(function(e){return o(e,"yAxis","yAxisIndex")})),a}function o(e,t,n){var r=e.componentIndex,s={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:Ft+t+r};s[n]=r,a.push(s)}}));var Gt=Vt;function qt(e){e.registerComponentModel(w),e.registerComponentView(L),m("saveAsImage",j),m("magicType",U),m("dataView",ae),m("dataZoom",Gt),m("restore",he),Object(i["a"])(p)}},3361:function(e,t,n){var i=n("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"27.909",viewBox:"0 0 28 27.909"},children:[{tag:"defs"},{tag:"path",attrsMap:{id:"liebiao_","data-name":"liebiao ",class:"cls-1",d:"M62,62h6.932v6.93H62V62Zm10.279,0H90v6.93H72.279V62Zm0,10.326H90v7.208H72.279V72.326ZM62,72.326h6.932v7.208H62V72.326Zm0,10.558h6.932v7.024H62V82.885Zm10.279,0H90v7.024H72.279V82.885Z",transform:"translate(-62 -62)"}}]})}},"3a56":function(e,t,n){"use strict";var i=n("7fae"),a=n("6d8b"),r=n("6cb7"),s=n("50e5"),o=n("e0d3"),l=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},e}(),c=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return Object(i["a"])(t,e),t.prototype.init=function(e,t,n){var i=d(e);this.settledOption=i,this.mergeDefaultAndTheme(e,n),this._doInit(i)},t.prototype.mergeOption=function(e){var t=d(e);Object(a["G"])(this.option,e,!0),Object(a["G"])(this.settledOption,t,!0),this._doInit(t)},t.prototype._doInit=function(e){var t=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var n=this.settledOption;Object(a["k"])([["start","startValue"],["end","endValue"]],(function(e,i){"value"===this._rangePropMode[i]&&(t[e[0]]=n[e[0]]=null)}),this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),t=this._targetAxisInfoMap=Object(a["f"])(),n=this._fillSpecifiedTargetAxis(t);n?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(t,this._orient)),this._noTarget=!0,t.each((function(e){e.indexList.length&&(this._noTarget=!1)}),this)},t.prototype._fillSpecifiedTargetAxis=function(e){var t=!1;return Object(a["k"])(s["a"],(function(n){var i=this.getReferringComponents(Object(s["d"])(n),o["a"]);if(i.specified){t=!0;var r=new l;Object(a["k"])(i.models,(function(e){r.add(e.componentIndex)})),e.set(n,r)}}),this),t},t.prototype._fillAutoTargetAxisByOrient=function(e,t){var n=this.ecModel,i=!0;if(i){var r="vertical"===t?"y":"x",c=n.findComponents({mainType:r+"Axis"});d(c,r)}if(i){c=n.findComponents({mainType:"singleAxis",filter:function(e){return e.get("orient",!0)===t}});d(c,"single")}function d(t,n){var r=t[0];if(r){var s=new l;if(s.add(r.componentIndex),e.set(n,s),i=!1,"x"===n||"y"===n){var c=r.getReferringComponents("grid",o["b"]).models[0];c&&Object(a["k"])(t,(function(e){r.componentIndex!==e.componentIndex&&c===e.getReferringComponents("grid",o["b"]).models[0]&&s.add(e.componentIndex)}))}}}i&&Object(a["k"])(s["a"],(function(t){if(i){var a=n.findComponents({mainType:Object(s["d"])(t),filter:function(e){return"category"===e.get("type",!0)}});if(a[0]){var r=new l;r.add(a[0].componentIndex),e.set(t,r),i=!1}}}),this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis((function(t){!e&&(e=t)}),this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var t=this._rangePropMode,n=this.get("rangeMode");Object(a["k"])([["start","startValue"],["end","endValue"]],(function(i,a){var r=null!=e[i[0]],s=null!=e[i[1]];r&&!s?t[a]="percent":!r&&s?t[a]="value":n?t[a]=n[a]:r&&(t[a]="percent")}))},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis((function(t,n){null==e&&(e=this.ecModel.getComponent(Object(s["d"])(t),n))}),this),e},t.prototype.eachTargetAxis=function(e,t){this._targetAxisInfoMap.each((function(n,i){Object(a["k"])(n.indexList,(function(n){e.call(t,i,n)}))}))},t.prototype.getAxisProxy=function(e,t){var n=this.getAxisModel(e,t);if(n)return n.__dzAxisProxy},t.prototype.getAxisModel=function(e,t){var n=this._targetAxisInfoMap.get(e);if(n&&n.indexMap[t])return this.ecModel.getComponent(Object(s["d"])(e),t)},t.prototype.setRawRange=function(e){var t=this.option,n=this.settledOption;Object(a["k"])([["start","startValue"],["end","endValue"]],(function(i){null==e[i[0]]&&null==e[i[1]]||(t[i[0]]=n[i[0]]=e[i[0]],t[i[1]]=n[i[1]]=e[i[1]])}),this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var t=this.option;Object(a["k"])(["start","startValue","end","endValue"],(function(n){t[n]=e[n]}))},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var t,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var a=n[i],r=this._targetAxisInfoMap.get(a),s=0;s<r.indexList.length;s++){var o=this.getAxisProxy(a,r.indexList[s]);if(o.hostedBy(this))return o;t||(t=o)}return t},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(r["a"]);function d(e){var t={};return Object(a["k"])(["start","end","startValue","endValue","throttle"],(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}t["a"]=c},"3b34":function(e,t,n){"use strict";n("fde4")},"3c1d":function(e,t,n){},"3cdd":function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));n("a435");var i=n("d610"),a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)};function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)};Object.create;function o(e,t,n){if(n||2===arguments.length)for(var i,a=0,r=t.length;a<r;a++)!i&&a in t||(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}Object.create;
/*!
FullCalendar v5.10.1
Docs & License: https://fullcalendar.io/
(c) 2021 Adam Shaw
*/
var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.headerElRef=Object(i["qb"])(),t}return r(t,e),t.prototype.renderSimpleLayout=function(e,t){var n=this,a=n.props,r=n.context,s=[],o=Object(i["Nb"])(r.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),Object(i["lb"])(i["K"],{viewSpec:r.viewSpec},(function(e,t){return Object(i["lb"])("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},Object(i["lb"])(i["F"],{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[],sections:s}))}))},t.prototype.renderHScrollLayout=function(e,t,n,a){var r=this.context.pluginHooks.scrollGridImpl;if(!r)throw new Error("No ScrollGrid implementation");var s=this,o=s.props,l=s.context,c=!o.forPrint&&Object(i["Nb"])(l.options),d=!o.forPrint&&Object(i["Mb"])(l.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),d&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:i["qc"]}]}),Object(i["lb"])(i["K"],{viewSpec:l.viewSpec},(function(e,t){return Object(i["lb"])("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},Object(i["lb"])(r,{liquid:!o.isHeightAuto&&!o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:n,minWidth:a}]}],sections:u}))}))},t}(i["i"]);function c(e,t){for(var n=[],i=0;i<t;i+=1)n[i]=[];for(var a=0,r=e;a<r.length;a++){var s=r[a];n[s.row].push(s)}return n}function d(e,t){for(var n=[],i=0;i<t;i+=1)n[i]=[];for(var a=0,r=e;a<r.length;a++){var s=r[a];n[s.firstCol].push(s)}return n}function u(e,t){var n=[];if(e){for(s=0;s<t;s+=1)n[s]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var i=0,a=e.segs;i<a.length;i++){var r=a[i];n[r.row].segs.push(r)}}else for(var s=0;s<t;s+=1)n[s]=null;return n}var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=Object(i["bb"])(this.context,e.date);return Object(i["lb"])(i["k"],{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraHookProps:e.extraHookProps,defaultContent:h},(function(n,a){return(a||e.forceDayTop)&&Object(i["lb"])("div",{className:"fc-daygrid-day-top",ref:n},Object(i["lb"])("a",s({id:e.dayNumberId,className:"fc-daygrid-day-number"},t),a||Object(i["lb"])(i["v"],null,"")))}))},t}(i["b"]);function h(e){return e.dayNumberText}var f=Object(i["ob"])({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function v(e){var t=e.eventRange.ui.display;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props;return Object(i["lb"])(i["I"],s({},e,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:f,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))},t}(i["b"]),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.context,a=n.options.eventTimeFormat||f,r=Object(i["cb"])(t.seg,a,n,!0,t.defaultDisplayEventEnd);return Object(i["lb"])(i["u"],{seg:t.seg,timeText:r,defaultContent:y,isDragging:t.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:t.isSelected,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday},(function(e,a,r,o){return Object(i["lb"])("a",s({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(a).join(" "),ref:e},Object(i["Kb"])(t.seg,n)),o)}))},t}(i["b"]);function y(e){return Object(i["lb"])(i["v"],null,Object(i["lb"])("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&Object(i["lb"])("div",{className:"fc-event-time"},e.timeText),Object(i["lb"])("div",{className:"fc-event-title"},e.event.title||Object(i["lb"])(i["v"],null,"")))}var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.compileSegs=Object(i["dc"])(w),t}return r(t,e),t.prototype.render=function(){var e=this.props,t=this.compileSegs(e.singlePlacements),n=t.allSegs,a=t.invisibleSegs;return Object(i["lb"])(i["x"],{dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:a,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:function(){var t=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return Object(i["lb"])(i["v"],null,n.map((function(n){var a=n.eventRange.instance.instanceId;return Object(i["lb"])("div",{className:"fc-daygrid-event-harness",key:a,style:{visibility:t[a]?"hidden":""}},v(n)?Object(i["lb"])(g,s({seg:n,isDragging:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},Object(i["Lb"])(n,e.todayRange))):Object(i["lb"])(m,s({seg:n,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},Object(i["Lb"])(n,e.todayRange))))})))}},(function(e,t,n,a,r,o,l,c){return Object(i["lb"])("a",s({ref:e,className:["fc-daygrid-more-link"].concat(t).join(" "),title:o,"aria-expanded":l,"aria-controls":c},Object(i["jb"])(r)),a)}))},t}(i["b"]);function w(e){for(var t=[],n=[],i=0,a=e;i<a.length;i++){var r=a[i];t.push(r.seg),r.isVisible||n.push(r.seg)}return{allSegs:t,invisibleSegs:n}}var C=Object(i["ob"])({week:"narrow"}),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=Object(i["qb"])(),t.state={dayNumberId:Object(i["Ob"])()},t.handleRootEl=function(e){Object(i["rc"])(t.rootElRef,e),Object(i["rc"])(t.props.elRef,e)},t}return r(t,e),t.prototype.render=function(){var e=this,t=e.context,n=e.props,a=e.state,r=e.rootElRef,o=n.date,l=n.dateProfile,c=Object(i["bb"])(t,o,"week");return Object(i["lb"])(i["l"],{date:o,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,extraHookProps:n.extraHookProps,elRef:this.handleRootEl},(function(e,t,d,u){return Object(i["lb"])("td",s({ref:e,role:"gridcell",className:["fc-daygrid-day"].concat(t,n.extraClassNames||[]).join(" ")},d,n.extraDataAttrs,n.showDayNumber?{"aria-labelledby":a.dayNumberId}:{}),Object(i["lb"])("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:n.innerElRef},n.showWeekNumber&&Object(i["lb"])(i["L"],{date:o,defaultFormat:C},(function(e,t,n,a){return Object(i["lb"])("a",s({ref:e,className:["fc-daygrid-week-number"].concat(t).join(" ")},c),a)})),!u&&Object(i["lb"])(p,{date:o,dateProfile:l,showDayNumber:n.showDayNumber,dayNumberId:a.dayNumberId,forceDayTop:n.forceDayTop,todayRange:n.todayRange,extraHookProps:n.extraHookProps}),Object(i["lb"])("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,Object(i["lb"])("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},Object(i["lb"])(b,{allDayDate:o,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:r,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),Object(i["lb"])("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}))},t}(i["i"]);function k(e,t,n,i,a,r,s){var o=new D;o.allowReslicing=!0,o.strictOrder=i,!0===t||!0===n?(o.maxCoord=r,o.hiddenConsumes=!0):"number"===typeof t?o.maxStackCnt=t:"number"===typeof n&&(o.maxStackCnt=n,o.hiddenConsumes=!0);for(var l=[],c=[],d=0;d<e.length;d+=1){var u=e[d],p=u.eventRange.instance.instanceId,h=a[p];null!=h?l.push({index:d,thickness:h,span:{start:u.firstCol,end:u.lastCol+1}}):c.push(u)}for(var f=o.addSegs(l),v=o.toRects(),m=_(v,e,s),g=m.singleColPlacements,y=m.multiColPlacements,b=m.leftoverMargins,w=[],C=[],S=0,k=c;S<k.length;S++){u=k[S];y[u.firstCol].push({seg:u,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var T=u.firstCol;T<=u.lastCol;T+=1)g[T].push({seg:x(u,T,T+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(T=0;T<s.length;T+=1)w.push(0);for(var E=0,O=f;E<O.length;E++){var I=O[E],M=(u=e[I.index],I.span);y[M.start].push({seg:x(u,M.start,M.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(T=M.start;T<M.end;T+=1)w[T]+=1,g[T].push({seg:x(u,T,T+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(T=0;T<s.length;T+=1)C.push(b[T]);return{singleColPlacements:g,multiColPlacements:y,moreCnts:w,moreMarginTops:C}}function _(e,t,n){for(var i=T(e,n.length),a=[],r=[],s=[],o=0;o<n.length;o+=1){for(var l=i[o],c=[],d=0,u=0,p=0,h=l;p<h.length;p++){var f=h[p],v=t[f.index];c.push({seg:x(v,o,o+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:f.levelCoord-d}),d=f.levelCoord+f.thickness}var m=[];d=0,u=0;for(var g=0,y=l;g<y.length;g++){f=y[g],v=t[f.index];var b=f.span.end-f.span.start>1,w=f.span.start===o;u+=f.levelCoord-d,d=f.levelCoord+f.thickness,b?(u+=f.thickness,w&&m.push({seg:x(v,f.span.start,f.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:f.levelCoord,marginTop:0})):w&&(m.push({seg:x(v,f.span.start,f.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:u}),u=0)}a.push(c),r.push(m),s.push(u)}return{singleColPlacements:a,multiColPlacements:r,leftoverMargins:s}}function T(e,t){for(var n=[],i=0;i<t;i+=1)n.push([]);for(var a=0,r=e;a<r.length;a++){var s=r[a];for(i=s.span.start;i<s.span.end;i+=1)n[i].push(s)}return n}function x(e,t,n,a){if(e.firstCol===t&&e.lastCol===n-1)return e;var r=e.eventRange,o=r.range,l=Object(i["Ub"])(o,{start:a[t].date,end:Object(i["N"])(a[n-1].date,1)});return s(s({},e),{firstCol:t,lastCol:n-1,eventRange:{def:r.def,ui:s(s({},r.ui),{durationEditable:!1}),instance:r.instance,range:l},isStart:e.isStart&&l.start.valueOf()===o.start.valueOf(),isEnd:e.isEnd&&l.end.valueOf()===o.end.valueOf()})}var D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hiddenConsumes=!1,t.forceHidden={},t}return r(t,e),t.prototype.addSegs=function(t){for(var n=this,a=e.prototype.addSegs.call(this,t),r=this.entriesByLevel,s=function(e){return!n.forceHidden[Object(i["X"])(e)]},o=0;o<r.length;o+=1)r[o]=r[o].filter(s);return a},t.prototype.handleInvalidInsertion=function(t,n,a){var r=this,o=r.entriesByLevel,l=r.forceHidden,c=t.touchingEntry,d=t.touchingLevel,u=t.touchingLateral;if(this.hiddenConsumes&&c){var p=Object(i["X"])(c);if(!l[p])if(this.allowReslicing){var h=s(s({},c),{span:Object(i["Wb"])(c.span,n.span)}),f=Object(i["X"])(h);l[f]=!0,o[d][u]=h,this.splitEntry(c,n,a)}else l[p]=!0,a.push(c)}return e.prototype.handleInvalidInsertion.call(this,t,n,a)},t}(i["E"]),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellElRefs=new i["B"],t.frameElRefs=new i["B"],t.fgElRefs=new i["B"],t.segHarnessRefs=new i["B"],t.rootElRef=Object(i["qb"])(),t.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},t}return r(t,e),t.prototype.render=function(){var e=this,t=this,n=t.props,a=t.state,r=t.context,s=r.options,o=n.cells.length,l=d(n.businessHourSegs,o),c=d(n.bgEventSegs,o),u=d(this.getHighlightSegs(),o),p=d(this.getMirrorSegs(),o),h=k(Object(i["sc"])(n.fgEventSegs,s.eventOrder),n.dayMaxEvents,n.dayMaxEventRows,s.eventOrderStrict,a.eventInstanceHeights,a.maxContentHeight,n.cells),f=h.singleColPlacements,v=h.multiColPlacements,m=h.moreCnts,g=h.moreMarginTops,y=n.eventDrag&&n.eventDrag.affectedInstances||n.eventResize&&n.eventResize.affectedInstances||{};return Object(i["lb"])("tr",{ref:this.rootElRef,role:"row"},n.renderIntro&&n.renderIntro(),n.cells.map((function(t,a){var r=e.renderFgSegs(a,n.forPrint?f[a]:v[a],n.todayRange,y),s=e.renderFgSegs(a,O(p[a],v),n.todayRange,{},Boolean(n.eventDrag),Boolean(n.eventResize),!1);return Object(i["lb"])(S,{key:t.key,elRef:e.cellElRefs.createRef(t.key),innerElRef:e.frameElRefs.createRef(t.key),dateProfile:n.dateProfile,date:t.date,showDayNumber:n.showDayNumbers,showWeekNumber:n.showWeekNumbers&&0===a,forceDayTop:n.showWeekNumbers,todayRange:n.todayRange,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,extraHookProps:t.extraHookProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,moreCnt:m[a],moreMarginTop:g[a],singlePlacements:f[a],fgContentElRef:e.fgElRefs.createRef(t.key),fgContent:Object(i["lb"])(i["v"],null,Object(i["lb"])(i["v"],null,r),Object(i["lb"])(i["v"],null,s)),bgContent:Object(i["lb"])(i["v"],null,e.renderFillSegs(u[a],"highlight"),e.renderFillSegs(l[a],"non-business"),e.renderFillSegs(c[a],"bg-event"))})})))},t.prototype.componentDidMount=function(){this.updateSizing(!0)},t.prototype.componentDidUpdate=function(e,t){var n=this.props;this.updateSizing(!Object(i["bc"])(e,n))},t.prototype.getHighlightSegs=function(){var e=this.props;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs},t.prototype.getMirrorSegs=function(){var e=this.props;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]},t.prototype.renderFgSegs=function(e,t,n,a,r,o,l){var c=this.context,d=this.props.eventSelection,u=this.state.framePositions,p=1===this.props.cells.length,h=r||o||l,f=[];if(u)for(var y=0,b=t;y<b.length;y++){var w=b[y],C=w.seg,S=C.eventRange.instance.instanceId,k=S+":"+e,_=w.isVisible&&!a[S],T=w.isAbsolute,x="",D="";T&&(c.isRtl?(D=0,x=u.lefts[C.lastCol]-u.lefts[C.firstCol]):(x=0,D=u.rights[C.firstCol]-u.rights[C.lastCol])),f.push(Object(i["lb"])("div",{className:"fc-daygrid-event-harness"+(T?" fc-daygrid-event-harness-abs":""),key:k,ref:h?null:this.segHarnessRefs.createRef(k),style:{visibility:_?"":"hidden",marginTop:T?"":w.marginTop,top:T?w.absoluteTop:"",left:x,right:D}},v(C)?Object(i["lb"])(g,s({seg:C,isDragging:r,isSelected:S===d,defaultDisplayEventEnd:p},Object(i["Lb"])(C,n))):Object(i["lb"])(m,s({seg:C,isDragging:r,isResizing:o,isDateSelecting:l,isSelected:S===d,defaultDisplayEventEnd:p},Object(i["Lb"])(C,n)))))}return f},t.prototype.renderFillSegs=function(e,t){var n=this.context.isRtl,a=this.props.todayRange,r=this.state.framePositions,l=[];if(r)for(var c=0,d=e;c<d.length;c++){var u=d[c],p=n?{right:0,left:r.lefts[u.lastCol]-r.lefts[u.firstCol]}:{left:0,right:r.rights[u.firstCol]-r.rights[u.lastCol]};l.push(Object(i["lb"])("div",{key:Object(i["Z"])(u.eventRange),className:"fc-daygrid-bg-harness",style:p},"bg-event"===t?Object(i["lb"])(i["c"],s({seg:u},Object(i["Lb"])(u,a))):Object(i["pc"])(t)))}return i["lb"].apply(void 0,o([i["v"],{}],l))},t.prototype.updateSizing=function(e){var t=this,n=t.props,a=t.frameElRefs;if(!n.forPrint&&null!==n.clientWidth){if(e){var r=n.cells.map((function(e){return a.currentMap[e.key]}));if(r.length){var o=this.rootElRef.current;this.setState({framePositions:new i["A"](o,r,!0,!1)})}}var l=this.state.eventInstanceHeights,c=this.queryEventInstanceHeights(),d=!0===n.dayMaxEvents||!0===n.dayMaxEventRows;this.setState({eventInstanceHeights:s(s({},l),c),maxContentHeight:d?this.computeMaxContentHeight():null})}},t.prototype.queryEventInstanceHeights=function(){var e=this.segHarnessRefs.currentMap,t={};for(var n in e){var i=Math.round(e[n].getBoundingClientRect().height),a=n.split(":")[0];t[a]=Math.max(t[a]||0,i)}return t},t.prototype.computeMaxContentHeight=function(){var e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top},t.prototype.getCellEls=function(){var e=this.cellElRefs.currentMap;return this.props.cells.map((function(t){return e[t.key]}))},t}(i["i"]);function O(e,t){if(!e.length)return[];var n=I(t);return e.map((function(e){return{seg:e,isVisible:!0,isAbsolute:!0,absoluteTop:n[e.eventRange.instance.instanceId],marginTop:0}}))}function I(e){for(var t={},n=0,i=e;n<i.length;n++)for(var a=i[n],r=0,s=a;r<s.length;r++){var o=s[r];t[o.seg.eventRange.instance.instanceId]=o.absoluteTop}return t}E.addStateEquality({eventInstanceHeights:i["bc"]});var M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitBusinessHourSegs=Object(i["dc"])(c),t.splitBgEventSegs=Object(i["dc"])(c),t.splitFgEventSegs=Object(i["dc"])(c),t.splitDateSelectionSegs=Object(i["dc"])(c),t.splitEventDrag=Object(i["dc"])(u),t.splitEventResize=Object(i["dc"])(u),t.rowRefs=new i["B"],t.handleRootEl=function(e){t.rootEl=e,e?t.context.registerInteractiveComponent(t,{el:e,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.dateProfile,a=t.dayMaxEventRows,r=t.dayMaxEvents,s=t.expandRows,o=t.cells.length,l=this.splitBusinessHourSegs(t.businessHourSegs,o),c=this.splitBgEventSegs(t.bgEventSegs,o),d=this.splitFgEventSegs(t.fgEventSegs,o),u=this.splitDateSelectionSegs(t.dateSelectionSegs,o),p=this.splitEventDrag(t.eventDrag,o),h=this.splitEventResize(t.eventResize,o),f=!0===r||!0===a;f&&!s&&(f=!1,a=null,r=null);var v=["fc-daygrid-body",f?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"];return Object(i["lb"])("div",{className:v.join(" "),ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},Object(i["lb"])(i["z"],{unit:"day"},(function(f,v){return Object(i["lb"])(i["v"],null,Object(i["lb"])("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:s?t.clientHeight:""}},t.colGroupNode,Object(i["lb"])("tbody",{role:"presentation"},t.cells.map((function(s,f){return Object(i["lb"])(E,{ref:e.rowRefs.createRef(f),key:s.length?s[0].date.toISOString():f,showDayNumbers:o>1,showWeekNumbers:t.showWeekNumbers,todayRange:v,dateProfile:n,cells:s,renderIntro:t.renderRowIntro,businessHourSegs:l[f],eventSelection:t.eventSelection,bgEventSegs:c[f].filter(L),fgEventSegs:d[f],dateSelectionSegs:u[f],eventDrag:p[f],eventResize:h[f],dayMaxEvents:r,dayMaxEventRows:a,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint})})))))})))},t.prototype.prepareHits=function(){this.rowPositions=new i["A"](this.rootEl,this.rowRefs.collect().map((function(e){return e.getCellEls()[0]})),!1,!0),this.colPositions=new i["A"](this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},t.prototype.queryHit=function(e,t){var n=this,i=n.colPositions,a=n.rowPositions,r=i.leftToIndex(e),o=a.topToIndex(t);if(null!=o&&null!=r){var l=this.props.cells[o][r];return{dateProfile:this.props.dateProfile,dateSpan:s({range:this.getCellRange(o,r),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(o,r),rect:{left:i.lefts[r],right:i.rights[r],top:a.tops[o],bottom:a.bottoms[o]},layer:0}}return null},t.prototype.getCellEl=function(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]},t.prototype.getCellRange=function(e,t){var n=this.props.cells[e][t].date,a=Object(i["N"])(n,1);return{start:n,end:a}},t}(i["i"]);function L(e){return e.eventRange.def.allDay}var R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return r(t,e),t.prototype.sliceRange=function(e,t){return t.sliceRange(e)},t}(i["G"]),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.slicer=new R,t.tableRef=Object(i["qb"])(),t}return r(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.context;return Object(i["lb"])(M,s({ref:this.tableRef},this.slicer.sliceProps(t,t.dateProfile,t.nextDayThreshold,n,t.dayTableModel),{dateProfile:t.dateProfile,cells:t.dayTableModel.cells,colGroupNode:t.colGroupNode,tableMinWidth:t.tableMinWidth,renderRowIntro:t.renderRowIntro,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.showWeekNumbers,expandRows:t.expandRows,headerAlignElRef:t.headerAlignElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint}))},t}(i["i"]),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayTableModel=Object(i["dc"])(P),t.headerRef=Object(i["qb"])(),t.tableRef=Object(i["qb"])(),t}return r(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,a=t.dateProfileGenerator,r=this.props,s=this.buildDayTableModel(r.dateProfile,a),o=n.dayHeaders&&Object(i["lb"])(i["m"],{ref:this.headerRef,dateProfile:r.dateProfile,dates:s.headerDates,datesRepDistinctDays:1===s.rowCnt}),l=function(t){return Object(i["lb"])(A,{ref:e.tableRef,dateProfile:r.dateProfile,dayTableModel:s,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:n.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:n.dayMaxEvents,dayMaxEventRows:n.dayMaxEventRows,showWeekNumbers:n.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:r.forPrint})};return n.dayMinWidth?this.renderHScrollLayout(o,l,s.colCnt,n.dayMinWidth):this.renderSimpleLayout(o,l)},t}(l);function P(e,t){var n=new i["n"](e.renderRange,t);return new i["o"](n,/year|month|week/.test(e.currentRangeUnit))}var N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.buildRenderRange=function(t,n,a){var r,s=this.props.dateEnv,o=e.prototype.buildRenderRange.call(this,t,n,a),l=o.start,c=o.end;if(/^(year|month)$/.test(n)&&(l=s.startOfWeek(l),r=s.startOfWeek(c),r.valueOf()!==c.valueOf()&&(c=Object(i["P"])(r,1))),this.props.monthMode&&this.props.fixedWeekCount){var d=Math.ceil(Object(i["ub"])(l,c));c=Object(i["P"])(c,6-d)}return{start:l,end:c}},t}(i["j"]),B=Object(i["pb"])({initialView:"dayGridMonth",views:{dayGrid:{component:j,dateProfileGeneratorClass:N},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});t["b"]=B},"3e32":function(e,t,n){"use strict";n("1599");var i=n("d610"),a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)};function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)};Object.create;Object.create;var o=n("3cdd"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},t.prototype.getKeysForDateSpan=function(e){return e.allDay?["allDay"]:["timed"]},t.prototype.getKeysForEventDef=function(e){return e.allDay?Object(i["Qb"])(e)?["timed","allDay"]:["allDay"]:["timed"]},t}(i["H"]),c=Object(i["ob"])({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});
/*!
FullCalendar v5.10.1
Docs & License: https://fullcalendar.io/
(c) 2021 Adam Shaw
*/function d(e){var t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return Object(i["lb"])(i["J"].Consumer,null,(function(n){if(!e.isLabeled)return Object(i["lb"])("td",{className:t.join(" "),"data-time":e.isoTimeStr});var a=n.dateEnv,r=n.options,s=n.viewApi,o=null==r.slotLabelFormat?c:Array.isArray(r.slotLabelFormat)?Object(i["ob"])(r.slotLabelFormat[0]):Object(i["ob"])(r.slotLabelFormat),l={level:0,time:e.time,date:a.toDate(e.date),view:s,text:a.format(e.date,o)};return Object(i["lb"])(i["C"],{hookProps:l,classNames:r.slotLabelClassNames,content:r.slotLabelContent,defaultContent:u,didMount:r.slotLabelDidMount,willUnmount:r.slotLabelWillUnmount},(function(n,a,r,s){return Object(i["lb"])("td",{ref:n,className:t.concat(a).join(" "),"data-time":e.isoTimeStr},Object(i["lb"])("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},Object(i["lb"])("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:r},s)))}))}))}function u(e){return e.text}var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return this.props.slatMetas.map((function(e){return Object(i["lb"])("tr",{key:e.key},Object(i["lb"])(d,s({},e)))}))},t}(i["b"]),h=Object(i["ob"])({week:"short"}),f=5,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allDaySplitter=new l,t.headerElRef=Object(i["qb"])(),t.rootElRef=Object(i["qb"])(),t.scrollerElRef=Object(i["qb"])(),t.state={slatCoords:null},t.handleScrollTopRequest=function(e){var n=t.scrollerElRef.current;n&&(n.scrollTop=e)},t.renderHeadAxis=function(e,n){void 0===n&&(n="");var a=t.context.options,r=t.props.dateProfile,o=r.renderRange,l=Object(i["sb"])(o.start,o.end),c=1===l?Object(i["bb"])(t.context,o.start,"week"):{};return a.weekNumbers&&"day"===e?Object(i["lb"])(i["L"],{date:o.start,defaultFormat:h},(function(e,t,a,r){return Object(i["lb"])("th",{ref:e,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(t).join(" ")},Object(i["lb"])("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:n}},Object(i["lb"])("a",s({ref:a,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner"},c),r)))})):Object(i["lb"])("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},Object(i["lb"])("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},t.renderTableRowAxis=function(e){var n=t.context,a=n.options,r=n.viewApi,s={text:a.allDayText,view:r};return Object(i["lb"])(i["C"],{hookProps:s,classNames:a.allDayClassNames,content:a.allDayContent,defaultContent:m,didMount:a.allDayDidMount,willUnmount:a.allDayWillUnmount},(function(t,n,a,r){return Object(i["lb"])("td",{ref:t,"aria-hidden":!0,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(n).join(" ")},Object(i["lb"])("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(null==e?" fc-timegrid-axis-frame-liquid":""),style:{height:e}},Object(i["lb"])("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner",ref:a},r)))}))},t.handleSlatCoords=function(e){t.setState({slatCoords:e})},t}return r(t,e),t.prototype.renderSimpleLayout=function(e,t,n){var a=this,r=a.context,s=a.props,o=[],l=Object(i["Nb"])(r.options);return e&&o.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(o.push({type:"body",key:"all-day",chunk:{content:t}}),o.push({type:"body",key:"all-day-divider",outerContent:Object(i["lb"])("tr",{role:"presentation",className:"fc-scrollgrid-section"},Object(i["lb"])("td",{className:"fc-timegrid-divider "+r.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(r.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:n}}),Object(i["lb"])(i["K"],{viewSpec:r.viewSpec,elRef:this.rootElRef},(function(e,t){return Object(i["lb"])("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},Object(i["lb"])(i["F"],{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:o}))}))},t.prototype.renderHScrollLayout=function(e,t,n,a,r,s,o){var l=this,c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");var d=this,u=d.context,h=d.props,f=!h.forPrint&&Object(i["Nb"])(u.options),v=!h.forPrint&&Object(i["Mb"])(u.options),m=[];e&&m.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return Object(i["lb"])("tr",{role:"presentation"},l.renderHeadAxis("day",e.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(m.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return Object(i["lb"])("tr",{role:"presentation"},l.renderTableRowAxis(e.rowSyncHeights[0]))}},{key:"cols",content:t}]}),m.push({key:"all-day-divider",type:"body",outerContent:Object(i["lb"])("tr",{role:"presentation",className:"fc-scrollgrid-section"},Object(i["lb"])("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));var g=u.options.nowIndicator;return m.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(u.options.expandRows),chunks:[{key:"axis",content:function(e){return Object(i["lb"])("div",{className:"fc-timegrid-axis-chunk"},Object(i["lb"])("table",{"aria-hidden":!0,style:{height:e.expandRows?e.clientHeight:""}},e.tableColGroupNode,Object(i["lb"])("tbody",null,Object(i["lb"])(p,{slatMetas:s}))),Object(i["lb"])("div",{className:"fc-timegrid-now-indicator-container"},Object(i["lb"])(i["z"],{unit:g?"minute":"day"},(function(e){var t=g&&o&&o.safeComputeTop(e);return"number"===typeof t?Object(i["lb"])(i["y"],{isAxis:!0,date:e},(function(e,n,a,r){return Object(i["lb"])("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(n).join(" "),style:{top:t}},r)})):null}))))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),v&&m.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:i["qc"]},{key:"cols",content:i["qc"]}]}),Object(i["lb"])(i["K"],{viewSpec:u.viewSpec,elRef:this.rootElRef},(function(e,t){return Object(i["lb"])("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},Object(i["lb"])(c,{liquid:!h.isHeightAuto&&!h.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:a,minWidth:r}]}],sections:m}))}))},t.prototype.getAllDayMaxEventProps=function(){var e=this.context.options,t=e.dayMaxEvents,n=e.dayMaxEventRows;return!0!==t&&!0!==n||(t=void 0,n=f),{dayMaxEvents:t,dayMaxEventRows:n}},t}(i["i"]);function m(e){return e.text}var g=function(){function e(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}return e.prototype.safeComputeTop=function(e){var t=this.dateProfile;if(Object(i["kc"])(t.currentRange,e)){var n=Object(i["tc"])(e),a=e.valueOf()-n.valueOf();if(a>=Object(i["V"])(t.slotMinTime)&&a<Object(i["V"])(t.slotMaxTime))return this.computeTimeTop(Object(i["kb"])(a))}return null},e.prototype.computeDateTop=function(e,t){return t||(t=Object(i["tc"])(e)),this.computeTimeTop(Object(i["kb"])(e.valueOf()-t.valueOf()))},e.prototype.computeTimeTop=function(e){var t,n,a=this,r=a.positions,s=a.dateProfile,o=r.els.length,l=(e.milliseconds-Object(i["V"])(s.slotMinTime))/Object(i["V"])(this.slotDuration);return l=Math.max(0,l),l=Math.min(o,l),t=Math.floor(l),t=Math.min(t,o-1),n=l-t,r.tops[t]+r.getHeight(t)*n},e}(),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.context,a=n.options,r=t.slatElRefs;return Object(i["lb"])("tbody",null,t.slatMetas.map((function(e,o){var l={time:e.time,date:n.dateEnv.toDate(e.date),view:n.viewApi},c=["fc-timegrid-slot","fc-timegrid-slot-lane",e.isLabeled?"":"fc-timegrid-slot-minor"];return Object(i["lb"])("tr",{key:e.key,ref:r.createRef(e.key)},t.axis&&Object(i["lb"])(d,s({},e)),Object(i["lb"])(i["C"],{hookProps:l,classNames:a.slotLaneClassNames,content:a.slotLaneContent,didMount:a.slotLaneDidMount,willUnmount:a.slotLaneWillUnmount},(function(t,n,a,r){return Object(i["lb"])("td",{ref:t,className:c.concat(n).join(" "),"data-time":e.isoTimeStr},r)})))})))},t}(i["b"]),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=Object(i["qb"])(),t.slatElRefs=new i["B"],t}return r(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.context;return Object(i["lb"])("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},Object(i["lb"])("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:t.minHeight}},t.tableColGroupNode,Object(i["lb"])(y,{slatElRefs:this.slatElRefs,axis:t.axis,slatMetas:t.slatMetas})))},t.prototype.componentDidMount=function(){this.updateSizing()},t.prototype.componentDidUpdate=function(){this.updateSizing()},t.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},t.prototype.updateSizing=function(){var e=this,t=e.context,n=e.props;if(n.onCoords&&null!==n.clientWidth){var a=this.rootElRef.current;a.offsetHeight&&n.onCoords(new g(new i["A"](this.rootElRef.current,w(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,t.options.slotDuration))}},t}(i["b"]);function w(e,t){return t.map((function(t){return e[t.key]}))}function C(e,t){var n,i=[];for(n=0;n<t;n+=1)i.push([]);if(e)for(n=0;n<e.length;n+=1)i[e[n].col].push(e[n]);return i}function S(e,t){var n=[];if(e){for(s=0;s<t;s+=1)n[s]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var i=0,a=e.segs;i<a.length;i++){var r=a[i];n[r.col].segs.push(r)}}else for(var s=0;s<t;s+=1)n[s]=null;return n}var k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=Object(i["qb"])(),t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props;return Object(i["lb"])(i["x"],{allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,alignmentElRef:this.rootElRef,defaultContent:_,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:function(){return F(t.hiddenSegs,t)}},(function(n,a,r,s,o,l,c,d){return Object(i["lb"])("a",{ref:function(t){Object(i["rc"])(n,t),Object(i["rc"])(e.rootElRef,t)},className:["fc-timegrid-more-link"].concat(a).join(" "),style:{top:t.top,bottom:t.bottom},onClick:o,title:l,"aria-expanded":c,"aria-controls":d},Object(i["lb"])("div",{ref:r,className:"fc-timegrid-more-link-inner fc-sticky"},s))}))},t}(i["b"]);function _(e){return e.shortText}function T(e,t,n){var a=new i["E"];null!=t&&(a.strictOrder=t),null!=n&&(a.maxStackCnt=n);var r=a.addSegs(e),s=Object(i["Pb"])(r),o=x(a);o=M(o,1);var l=L(o);return{segRects:l,hiddenGroups:s}}function x(e){var t=e.entriesByLevel,n=R((function(e,t){return e+":"+t}),(function(i,a){var r=I(e,i,a),o=D(r,n),l=t[i][a];return[s(s({},l),{nextLevelNodes:o[0]}),l.thickness+o[1]]}));return D(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,n)[0]}function D(e,t){if(!e)return[[],0];var n=e.level,i=e.lateralStart,a=e.lateralEnd,r=i,s=[];while(r<a)s.push(t(n,r)),r+=1;return s.sort(E),[s.map(O),s[0][1]]}function E(e,t){return t[1]-e[1]}function O(e){return e[0]}function I(e,t,n){for(var a=e.levelCoords,r=e.entriesByLevel,s=r[t][n],o=a[t]+s.thickness,l=a.length,c=t;c<l&&a[c]<o;c+=1);for(;c<l;c+=1){var d=r[c],u=void 0,p=Object(i["W"])(d,s.span.start,i["Gb"]),h=p[0]+p[1],f=h;while((u=d[f])&&u.span.start<s.span.end)f+=1;if(h<f)return{level:c,lateralStart:h,lateralEnd:f}}return null}function M(e,t){var n=R((function(e,t,n){return Object(i["X"])(e)}),(function(e,i,a){var r,o=e.nextLevelNodes,l=e.thickness,c=l+a,d=l/c,u=[];if(o.length)for(var p=0,h=o;p<h.length;p++){var f=h[p];if(void 0===r){var v=n(f,i,c);r=v[0],u.push(v[1])}else{v=n(f,r,0);u.push(v[1])}}else r=t;var m=(r-i)*d;return[r-m,s(s({},e),{thickness:m,nextLevelNodes:u})]}));return e.map((function(e){return n(e,0,0)[1]}))}function L(e){var t=[],n=R((function(e,t,n){return Object(i["X"])(e)}),(function(e,n,i){var r=s(s({},e),{levelCoord:n,stackDepth:i,stackForward:0});return t.push(r),r.stackForward=a(e.nextLevelNodes,n+e.thickness,i+1)+1}));function a(e,t,i){for(var a=0,r=0,s=e;r<s.length;r++){var o=s[r];a=Math.max(n(o,t,i),a)}return a}return a(e,0,0),t}function R(e,t){var n={};return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var r=e.apply(void 0,i);return r in n?n[r]:n[r]=t.apply(void 0,i)}}function A(e,t,n,i){void 0===n&&(n=null),void 0===i&&(i=0);var a=[];if(n)for(var r=0;r<e.length;r+=1){var s=e[r],o=n.computeDateTop(s.start,t),l=Math.max(o+(i||0),n.computeDateTop(s.end,t));a.push({start:Math.round(o),end:Math.round(l)})}return a}function j(e,t,n,i){for(var a=[],r=[],s=0;s<e.length;s+=1){var o=t[s];o?a.push({index:s,thickness:1,span:o}):r.push(e[s])}for(var l=T(a,n,i),c=l.segRects,d=l.hiddenGroups,u=[],p=0,h=c;p<h.length;p++){var f=h[p];u.push({seg:e[f.index],rect:f})}for(var v=0,m=r;v<m.length;v++){var g=m[v];u.push({seg:g,rect:null})}return{segPlacements:u,hiddenGroups:d}}var P=Object(i["ob"])({hour:"numeric",minute:"2-digit",meridiem:!1}),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=["fc-timegrid-event","fc-v-event"];return this.props.isShort&&e.push("fc-timegrid-event-short"),Object(i["lb"])(i["I"],s({},this.props,{defaultTimeFormat:P,extraClassNames:e}))},t}(i["b"]),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props;return Object(i["lb"])(i["k"],{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraHookProps:e.extraHookProps},(function(e,t){return t&&Object(i["lb"])("div",{className:"fc-timegrid-col-misc",ref:e},t)}))},t}(i["b"]),H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortEventSegs=Object(i["dc"])(i["sc"]),t}return r(t,e),t.prototype.render=function(){var e=this,t=this,n=t.props,a=t.context,r=a.options.selectMirror,o=n.eventDrag&&n.eventDrag.segs||n.eventResize&&n.eventResize.segs||r&&n.dateSelectionSegs||[],l=n.eventDrag&&n.eventDrag.affectedInstances||n.eventResize&&n.eventResize.affectedInstances||{},c=this.sortEventSegs(n.fgEventSegs,a.options.eventOrder);return Object(i["lb"])(i["l"],{elRef:n.elRef,date:n.date,dateProfile:n.dateProfile,todayRange:n.todayRange,extraHookProps:n.extraHookProps},(function(t,a,d){return Object(i["lb"])("td",s({ref:t,role:"gridcell",className:["fc-timegrid-col"].concat(a,n.extraClassNames||[]).join(" ")},d,n.extraDataAttrs),Object(i["lb"])("div",{className:"fc-timegrid-col-frame"},Object(i["lb"])("div",{className:"fc-timegrid-col-bg"},e.renderFillSegs(n.businessHourSegs,"non-business"),e.renderFillSegs(n.bgEventSegs,"bg-event"),e.renderFillSegs(n.dateSelectionSegs,"highlight")),Object(i["lb"])("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(c,l,!1,!1,!1)),Object(i["lb"])("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(o,{},Boolean(n.eventDrag),Boolean(n.eventResize),Boolean(r))),Object(i["lb"])("div",{className:"fc-timegrid-now-indicator-container"},e.renderNowIndicator(n.nowIndicatorSegs)),Object(i["lb"])(B,{date:n.date,dateProfile:n.dateProfile,todayRange:n.todayRange,extraHookProps:n.extraHookProps})))}))},t.prototype.renderFgSegs=function(e,t,n,i,a){var r=this.props;return r.forPrint?F(e,r):this.renderPositionedFgSegs(e,t,n,i,a)},t.prototype.renderPositionedFgSegs=function(e,t,n,a,r){var o=this,l=this.context.options,c=l.eventMaxStack,d=l.eventShortHeight,u=l.eventOrderStrict,p=l.eventMinHeight,h=this.props,f=h.date,v=h.slatCoords,m=h.eventSelection,g=h.todayRange,y=h.nowDate,b=n||a||r,w=A(e,f,v,p),C=j(e,w,u,c),S=C.segPlacements,k=C.hiddenGroups;return Object(i["lb"])(i["v"],null,this.renderHiddenGroups(k,e),S.map((function(e){var l=e.seg,c=e.rect,u=l.eventRange.instance.instanceId,p=b||Boolean(!t[u]&&c),h=V(c&&c.span),f=!b&&c?o.computeSegHStyle(c):{left:0,right:0},v=Boolean(c)&&c.stackForward>0,w=Boolean(c)&&c.span.end-c.span.start<d;return Object(i["lb"])("div",{className:"fc-timegrid-event-harness"+(v?" fc-timegrid-event-harness-inset":""),key:u,style:s(s({visibility:p?"":"hidden"},h),f)},Object(i["lb"])(N,s({seg:l,isDragging:n,isResizing:a,isDateSelecting:r,isSelected:u===m,isShort:w},Object(i["Lb"])(l,g,y))))})))},t.prototype.renderHiddenGroups=function(e,t){var n=this.props,a=n.extraDateSpan,r=n.dateProfile,s=n.todayRange,o=n.nowDate,l=n.eventSelection,c=n.eventDrag,d=n.eventResize;return Object(i["lb"])(i["v"],null,e.map((function(e){var n=V(e.span),u=U(e.entries,t);return Object(i["lb"])(k,{key:Object(i["ab"])(Object(i["eb"])(u)),hiddenSegs:u,top:n.top,bottom:n.bottom,extraDateSpan:a,dateProfile:r,todayRange:s,nowDate:o,eventSelection:l,eventDrag:c,eventResize:d})})))},t.prototype.renderFillSegs=function(e,t){var n=this,a=n.props,r=n.context,o=A(e,a.date,a.slatCoords,r.options.eventMinHeight),l=o.map((function(n,r){var o=e[r];return Object(i["lb"])("div",{key:Object(i["Z"])(o.eventRange),className:"fc-timegrid-bg-harness",style:V(n)},"bg-event"===t?Object(i["lb"])(i["c"],s({seg:o},Object(i["Lb"])(o,a.todayRange,a.nowDate))):Object(i["pc"])(t))}));return Object(i["lb"])(i["v"],null,l)},t.prototype.renderNowIndicator=function(e){var t=this.props,n=t.slatCoords,a=t.date;return n?e.map((function(e,t){return Object(i["lb"])(i["y"],{isAxis:!1,date:a,key:t},(function(t,r,s,o){return Object(i["lb"])("div",{ref:t,className:["fc-timegrid-now-indicator-line"].concat(r).join(" "),style:{top:n.computeDateTop(e.start,a)}},o)}))})):null},t.prototype.computeSegHStyle=function(e){var t,n,i=this.context,a=i.isRtl,r=i.options,s=r.slotEventOverlap,o=e.levelCoord,l=e.levelCoord+e.thickness;s&&(l=Math.min(1,o+2*(l-o))),a?(t=1-l,n=o):(t=o,n=1-l);var c={zIndex:e.stackDepth+1,left:100*t+"%",right:100*n+"%"};return s&&!e.stackForward&&(c[a?"marginLeft":"marginRight"]=20),c},t}(i["b"]);function F(e,t){var n=t.todayRange,a=t.nowDate,r=t.eventSelection,o=t.eventDrag,l=t.eventResize,c=(o?o.affectedInstances:null)||(l?l.affectedInstances:null)||{};return Object(i["lb"])(i["v"],null,e.map((function(e){var t=e.eventRange.instance.instanceId;return Object(i["lb"])("div",{key:t,style:{visibility:c[t]?"hidden":""}},Object(i["lb"])(N,s({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:t===r,isShort:!1},Object(i["Lb"])(e,n,a))))})))}function V(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}function U(e,t){return e.map((function(e){return t[e.index]}))}var z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitFgEventSegs=Object(i["dc"])(C),t.splitBgEventSegs=Object(i["dc"])(C),t.splitBusinessHourSegs=Object(i["dc"])(C),t.splitNowIndicatorSegs=Object(i["dc"])(C),t.splitDateSelectionSegs=Object(i["dc"])(C),t.splitEventDrag=Object(i["dc"])(S),t.splitEventResize=Object(i["dc"])(S),t.rootElRef=Object(i["qb"])(),t.cellElRefs=new i["B"],t}return r(t,e),t.prototype.render=function(){var e=this,t=this,n=t.props,a=t.context,r=a.options.nowIndicator&&n.slatCoords&&n.slatCoords.safeComputeTop(n.nowDate),s=n.cells.length,o=this.splitFgEventSegs(n.fgEventSegs,s),l=this.splitBgEventSegs(n.bgEventSegs,s),c=this.splitBusinessHourSegs(n.businessHourSegs,s),d=this.splitNowIndicatorSegs(n.nowIndicatorSegs,s),u=this.splitDateSelectionSegs(n.dateSelectionSegs,s),p=this.splitEventDrag(n.eventDrag,s),h=this.splitEventResize(n.eventResize,s);return Object(i["lb"])("div",{className:"fc-timegrid-cols",ref:this.rootElRef},Object(i["lb"])("table",{role:"presentation",style:{minWidth:n.tableMinWidth,width:n.clientWidth}},n.tableColGroupNode,Object(i["lb"])("tbody",{role:"presentation"},Object(i["lb"])("tr",{role:"row"},n.axis&&Object(i["lb"])("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},Object(i["lb"])("div",{className:"fc-timegrid-col-frame"},Object(i["lb"])("div",{className:"fc-timegrid-now-indicator-container"},"number"===typeof r&&Object(i["lb"])(i["y"],{isAxis:!0,date:n.nowDate},(function(e,t,n,a){return Object(i["lb"])("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(t).join(" "),style:{top:r}},a)}))))),n.cells.map((function(t,a){return Object(i["lb"])(H,{key:t.key,elRef:e.cellElRefs.createRef(t.key),dateProfile:n.dateProfile,date:t.date,nowDate:n.nowDate,todayRange:n.todayRange,extraHookProps:t.extraHookProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,extraDateSpan:t.extraDateSpan,fgEventSegs:o[a],bgEventSegs:l[a],businessHourSegs:c[a],nowIndicatorSegs:d[a],dateSelectionSegs:u[a],eventDrag:p[a],eventResize:h[a],slatCoords:n.slatCoords,eventSelection:n.eventSelection,forPrint:n.forPrint})}))))))},t.prototype.componentDidMount=function(){this.updateCoords()},t.prototype.componentDidUpdate=function(){this.updateCoords()},t.prototype.updateCoords=function(){var e=this.props;e.onColCoords&&null!==e.clientWidth&&e.onColCoords(new i["A"](this.rootElRef.current,Y(this.cellElRefs.currentMap,e.cells),!0,!1))},t}(i["b"]);function Y(e,t){return t.map((function(t){return e[t.key]}))}var W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.processSlotOptions=Object(i["dc"])(G),t.state={slatCoords:null},t.handleRootEl=function(e){e?t.context.registerInteractiveComponent(t,{el:e,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t.handleScrollRequest=function(e){var n=t.props.onScrollTopRequest,i=t.state.slatCoords;if(n&&i){if(e.time){var a=i.computeTimeTop(e.time);a=Math.ceil(a),a&&(a+=1),n(a)}return!0}return!1},t.handleColCoords=function(e){t.colCoords=e},t.handleSlatCoords=function(e){t.setState({slatCoords:e}),t.props.onSlatCoords&&t.props.onSlatCoords(e)},t}return r(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.state;return Object(i["lb"])("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},Object(i["lb"])(b,{axis:t.axis,dateProfile:t.dateProfile,slatMetas:t.slatMetas,clientWidth:t.clientWidth,minHeight:t.expandRows?t.clientHeight:"",tableMinWidth:t.tableMinWidth,tableColGroupNode:t.axis?t.tableColGroupNode:null,onCoords:this.handleSlatCoords}),Object(i["lb"])(z,{cells:t.cells,axis:t.axis,dateProfile:t.dateProfile,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange,nowDate:t.nowDate,nowIndicatorSegs:t.nowIndicatorSegs,clientWidth:t.clientWidth,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:t.forPrint}))},t.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},t.prototype.componentDidUpdate=function(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)},t.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},t.prototype.queryHit=function(e,t){var n=this.context,a=n.dateEnv,r=n.options,o=this.colCoords,l=this.props.dateProfile,c=this.state.slatCoords,d=this.processSlotOptions(this.props.slotDuration,r.snapDuration),u=d.snapDuration,p=d.snapsPerSlot,h=o.leftToIndex(e),f=c.positions.topToIndex(t);if(null!=h&&null!=f){var v=this.props.cells[h],m=c.positions.tops[f],g=c.positions.getHeight(f),y=(t-m)/g,b=Math.floor(y*p),w=f*p+b,C=this.props.cells[h].date,S=Object(i["O"])(l.slotMinTime,Object(i["ec"])(u,w)),k=a.add(C,S),_=a.add(k,u);return{dateProfile:l,dateSpan:s({range:{start:k,end:_},allDay:!1},v.extraDateSpan),dayEl:o.els[h],rect:{left:o.lefts[h],right:o.rights[h],top:m,bottom:m+g},layer:0}}return null},t}(i["i"]);function G(e,t){var n=t||e,a=Object(i["xc"])(e,n);return null===a&&(n=e,a=1),{snapDuration:n,snapsPerSlot:a}}var q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.sliceRange=function(e,t){for(var n=[],a=0;a<t.length;a+=1){var r=Object(i["Ub"])(e,t[a]);r&&n.push({start:r.start,end:r.end,isStart:r.start.valueOf()===e.start.valueOf(),isEnd:r.end.valueOf()===e.end.valueOf(),col:a})}return n},t}(i["G"]),$=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayRanges=Object(i["dc"])(Z),t.slicer=new q,t.timeColsRef=Object(i["qb"])(),t}return r(t,e),t.prototype.render=function(){var e=this,t=this,n=t.props,a=t.context,r=n.dateProfile,o=n.dayTableModel,l=a.options.nowIndicator,c=this.buildDayRanges(o,r,a.dateEnv);return Object(i["lb"])(i["z"],{unit:l?"minute":"day"},(function(t,d){return Object(i["lb"])(W,s({ref:e.timeColsRef},e.slicer.sliceProps(n,r,null,a,c),{forPrint:n.forPrint,axis:n.axis,dateProfile:r,slatMetas:n.slatMetas,slotDuration:n.slotDuration,cells:o.cells[0],tableColGroupNode:n.tableColGroupNode,tableMinWidth:n.tableMinWidth,clientWidth:n.clientWidth,clientHeight:n.clientHeight,expandRows:n.expandRows,nowDate:t,nowIndicatorSegs:l&&e.slicer.sliceNowDate(t,a,c),todayRange:d,onScrollTopRequest:n.onScrollTopRequest,onSlatCoords:n.onSlatCoords}))}))},t}(i["i"]);function Z(e,t,n){for(var i=[],a=0,r=e.headerDates;a<r.length;a++){var s=r[a];i.push({start:n.add(s,t.slotMinTime),end:n.add(s,t.slotMaxTime)})}return i}var K=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Q(e,t,n,a,r){var s=new Date(0),o=e,l=Object(i["kb"])(0),c=n||X(a),d=[];while(Object(i["V"])(o)<Object(i["V"])(t)){var u=r.add(s,o),p=null!==Object(i["xc"])(l,c);d.push({date:u,time:o,key:u.toISOString(),isoTimeStr:Object(i["Bb"])(u),isLabeled:p}),o=Object(i["O"])(o,a),l=Object(i["O"])(l,a)}return d}function X(e){var t,n,a;for(t=K.length-1;t>=0;t-=1)if(n=Object(i["kb"])(K[t]),a=Object(i["xc"])(n,e),null!==a&&a>1)return n;return e}var J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildTimeColsModel=Object(i["dc"])(ee),t.buildSlatMetas=Object(i["dc"])(Q),t}return r(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,a=t.dateEnv,r=t.dateProfileGenerator,l=this.props,c=l.dateProfile,d=this.buildTimeColsModel(c,r),u=this.allDaySplitter.splitProps(l),p=this.buildSlatMetas(c.slotMinTime,c.slotMaxTime,n.slotLabelInterval,n.slotDuration,a),h=n.dayMinWidth,f=!h,v=h,m=n.dayHeaders&&Object(i["lb"])(i["m"],{dates:d.headerDates,dateProfile:c,datesRepDistinctDays:!0,renderIntro:f?this.renderHeadAxis:null}),g=!1!==n.allDaySlot&&function(t){return Object(i["lb"])(o["a"],s({},u.allDay,{dateProfile:c,dayTableModel:d,nextDayThreshold:n.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:f?e.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:l.forPrint},e.getAllDayMaxEventProps()))},y=function(t){return Object(i["lb"])($,s({},u.timed,{dayTableModel:d,dateProfile:c,axis:f,slotDuration:n.slotDuration,slatMetas:p,forPrint:l.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:e.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:e.handleScrollTopRequest}))};return v?this.renderHScrollLayout(m,g,y,d.colCnt,h,p,this.state.slatCoords):this.renderSimpleLayout(m,g,y)},t}(v);function ee(e,t){var n=new i["n"](e.renderRange,t);return new i["o"](n,!1)}var te={allDaySlot:Boolean},ne=Object(i["pb"])({initialView:"timeGridWeek",optionRefiners:te,views:{timeGrid:{component:J,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});t["a"]=ne},4198:function(e,t,n){"use strict";n("49af")},"4362e":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cc-card"},[n("div",{staticClass:"cover-img relative-position",style:{backgroundImage:"url('"+(e.content.image||"http://dcdkqlzgpl5ba.cloudfront.net/1392467808404684802/file/202208140641519097-20220814143449.png")+"')",width:e.width+"rem"}},[e.innerDesc?n("div",{staticClass:"inner-mask"}):e._e(),e.innerDesc?n("div",{staticClass:"card-bottom-section q-pa-sm col q-gutter-xs inner-desc absolute-bottom"},[n("div",{staticClass:"type-tag"},[n("a-tag",{attrs:{color:"#15C39A"}},[e._v(e._s(e._f("type2Name")(e.content.type)))])],1),n("div",{staticClass:"card-title",attrs:{title:e.mainTitle}},[e._v(e._s(e.mainTitle))]),n("div",{staticClass:"card-sub-title",attrs:{title:e.subDescription}},[e._v(" "+e._s(e.subDescription)+" ")])]):e._e(),e.outerDesc?n("div",{staticClass:"inner-tag"},[n("a-tag",{attrs:{color:"#15C39A"}},[e._v(e._s(e._f("type2Name")(e.content.type)))])],1):e._e(),0===e.content.status&&e.content.createBy===e.$store.getters.email?n("div",{staticClass:"publish-tag"},[n("a-tooltip",{attrs:{title:"Wait to publish"}},[n("publish-icon",{staticStyle:{width:"13px",height:"14px"}})],1)],1):e._e()]),e.outerDesc?n("div",{staticClass:"card-bottom-section outer-desc",style:{width:e.width+"rem"}},[n("div",{staticClass:"main-title-line"},[n("div",{staticClass:"main-title",attrs:{title:e.mainTitle}},[e._v(" "+e._s(e.mainTitle)+" ")]),n("div",{staticClass:"main-action"},[n("a-space",[e.content.star?n("a-rate",{staticClass:"cc-library-rate",attrs:{value:e.content.star||10,disabled:""}}):e._e(),e.content.star?e._e():n("div",{staticClass:"no-review"},[e._v("No reviews")]),n("div",{staticClass:"share-icon",on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[n("a-tooltip",{attrs:{trigger:"click",getPopupContainer:function(e){return e.parentElement},placement:"bottomRight"}},[n("template",{slot:"title"},[n("div",{staticClass:"detail-share"},[n("share-button",{attrs:{link:e.wrapperLink(e.content),title:e.content.name}})],1)]),n("a-icon",{attrs:{type:"share-alt"}})],2)],1)],1)],1)]),n("div",{staticClass:"sub-desc",attrs:{title:e.subDescription}},[e._v(" "+e._s(e.subDescription)+" ")])]):e._e()])},a=[],r=(n("a9e3"),n("b0c0"),n("fb6a"),n("a4d3"),n("e01a"),n("99af"),n("5fc3")),s=n("e6fe"),o=n.n(s),l={name:"CardListItem",components:{ShareButton:r["a"],PublishIcon:o.a},props:{content:{type:Object,required:!0},width:{type:Number,default:20},innerDesc:{type:Boolean,default:!1},outerDesc:{type:Boolean,default:!0}},computed:{mainTitle:function(){var e=this.content.name||"Untitled";return e.slice(0,1).toUpperCase()+e.slice(1)},subDescription:function(){return this.content.description||""}},data:function(){return{}},created:function(){},methods:{wrapperLink:function(e){if(e&&e.id){var t=this.$classcipe.getContentTypeName(e.type);return"".concat("https://www.classcipe.com","/v2/").concat(t,"/").concat(e.id)}return""}}},c=l,d=(n("a0cf"),n("0c7c")),u=Object(d["a"])(c,i,a,!1,null,"747bf6a7",null);t["a"]=u.exports},"44f5":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return d}));var i=n("b775"),a="live",r={CreateQRCode:"/classcipe/api/v2/".concat(a,"/createQRCode"),FindWorkShops:"/classcipe/api/v2/".concat(a,"/findWorkShops"),SaveRegisteredRecord:"/classcipe/api/v2/".concat(a,"/saveRegisteredRecord"),CancelRegistered:"/classcipe/api/v2/".concat(a,"/cancelRegistered"),DetailBySessionId:"/classcipe/api/v2/".concat(a,"/detailBySessionId")};function s(e){return Object(i["d"])({url:r.FindWorkShops,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(i["d"])({url:r.CreateQRCode,method:"get",responseType:"blob",params:e})}function l(e){return Object(i["d"])({url:r.CancelRegistered,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(i["d"])({url:r.SaveRegisteredRecord,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(i["d"])({url:r.DetailBySessionId,method:"get",params:e})}},4768:function(e,t,n){},4803:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"status-icon-item"},[0===e.status?[n("a-icon",{attrs:{type:"cloud-upload"}})]:e._e()],2)},a=[],r=(n("a9e3"),{name:"ContentStatusIcon",props:{status:{type:Number,default:-1}}}),s=r,o=(n("0f1d"),n("0c7c")),l=Object(o["a"])(s,i,a,!1,null,"7b28124c",null);t["a"]=l.exports},4830:function(e,t,n){},"48fb":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n("b775"),a="statistics",r={dashboard:"/classcipe/api/".concat(a,"/dashboard"),myStatisticsStudent:"/classcipe/api/".concat(a,"/myStatistics/student"),myStatisticsTeacher:"/classcipe/api/".concat(a,"/myStatistics/teacher"),getStatByContentId:"/classcipe/statistics/content/getStatByContentId"};function s(e){return Object(i["d"])({url:r.dashboard,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(i["d"])({url:r.myStatisticsStudent,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(i["d"])({url:r.myStatisticsTeacher,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(i["d"])({url:r.getStatByContentId,method:"get",params:e})}},"49af":function(e,t,n){},"4b2a":function(e,t,n){"use strict";n.d(t,"a",(function(){return Ae}));var i=n("7fae"),a=n("b12f"),r=n("6cb7"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i["a"])(t,e),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(r["a"]),o=s,l=n("c7a2"),c=n("6d8b"),d=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},e.prototype.getCoordSysModel=function(){},e}(),u=n("e0d3"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i["a"])(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",u["b"]).models[0]},t.type="cartesian2dAxis",t}(r["a"]);c["H"](p,d);var h={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},f=c["G"]({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},h),v=c["G"]({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},h),m=c["G"]({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},v),g=c["i"]({logBase:10},v),y={category:f,value:v,time:m,log:g},b=n("f934"),w=n("8e43"),C={value:1,category:1,time:1,log:1};function S(e,t,n,a){Object(c["k"])(C,(function(r,s){var o=Object(c["G"])(Object(c["G"])({},y[s],!0),a,!0),l=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t+"Axis."+s,n}return Object(i["a"])(n,e),n.prototype.mergeDefaultAndTheme=function(e,t){var n=Object(b["b"])(this),i=n?Object(b["c"])(e):{},a=t.getTheme();Object(c["G"])(e,a.get(s+"Axis")),Object(c["G"])(e,this.getDefaultOption()),e.type=k(e),n&&Object(b["e"])(e,i,n)},n.prototype.optionUpdated=function(){var e=this.option;"category"===e.type&&(this.__ordinalMeta=w["a"].createByAxisModel(this))},n.prototype.getCategories=function(e){var t=this.option;if("category"===t.type)return e?t.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=t+"Axis."+s,n.defaultOption=o,n}(n);e.registerComponentModel(l)})),e.registerSubTypeDefaulter(t+"Axis",k)}function k(e){return e.type||(e.data?"category":"value")}var _=n("697e"),T=n("9850"),x=function(){function e(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return e.prototype.getAxis=function(e){return this._axes[e]},e.prototype.getAxes=function(){return c["F"](this._dimList,(function(e){return this._axes[e]}),this)},e.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),c["n"](this.getAxes(),(function(t){return t.scale.type===e}))},e.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},e}(),D=x,E=n("1687"),O=n("401b3"),I=["x","y"];function M(e){return"interval"===e.type||"time"===e.type}var L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=I,t}return Object(i["a"])(t,e),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,t=this.getAxis("y").scale;if(M(e)&&M(t)){var n=e.getExtent(),i=t.getExtent(),a=this.dataToPoint([n[0],i[0]]),r=this.dataToPoint([n[1],i[1]]),s=n[1]-n[0],o=i[1]-i[0];if(s&&o){var l=(r[0]-a[0])/s,c=(r[1]-a[1])/o,d=a[0]-n[0]*l,u=a[1]-i[0]*c,p=this._transform=[l,0,0,c,d,u];this._invTransform=Object(E["d"])([],p)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.dataToPoint=function(e,t,n){n=n||[];var i=e[0],a=e[1];if(this._transform&&null!=i&&isFinite(i)&&null!=a&&isFinite(a))return Object(O["b"])(n,e,this._transform);var r=this.getAxis("x"),s=this.getAxis("y");return n[0]=r.toGlobalCoord(r.dataToCoord(i,t)),n[1]=s.toGlobalCoord(s.dataToCoord(a,t)),n},t.prototype.clampData=function(e,t){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,a=n.getExtent(),r=i.getExtent(),s=n.parse(e[0]),o=i.parse(e[1]);return t=t||[],t[0]=Math.min(Math.max(Math.min(a[0],a[1]),s),Math.max(a[0],a[1])),t[1]=Math.min(Math.max(Math.min(r[0],r[1]),o),Math.max(r[0],r[1])),t},t.prototype.pointToData=function(e,t){var n=[];if(this._invTransform)return Object(O["b"])(n,e,this._invTransform);var i=this.getAxis("x"),a=this.getAxis("y");return n[0]=i.coordToData(i.toLocalCoord(e[0]),t),n[1]=a.coordToData(a.toLocalCoord(e[1]),t),n},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),t=this.getAxis("y").getGlobalExtent(),n=Math.min(e[0],e[1]),i=Math.min(t[0],t[1]),a=Math.max(e[0],e[1])-n,r=Math.max(t[0],t[1])-i;return new T["a"](n,i,a,r)},t}(D),R=L,A=n("3842"),j=n("e86a"),P=Object(u["m"])();function N(e){return"category"===e.type?H(e):U(e)}function B(e,t){return"category"===e.type?V(e,t):{ticks:c["F"](e.scale.getTicks(),(function(e){return e.value}))}}function H(e){var t=e.getLabelModel(),n=F(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function F(e,t){var n,i,a=z(e,"labels"),r=Object(_["e"])(t),s=Y(a,r);return s||(c["v"](r)?n=K(e,r):(i="auto"===r?G(e):r,n=Z(e,i)),W(a,r,{labels:n,labelCategoryInterval:i}))}function V(e,t){var n,i,a=z(e,"ticks"),r=Object(_["e"])(t),s=Y(a,r);if(s)return s;if(t.get("show")&&!e.scale.isBlank()||(n=[]),c["v"](r))n=K(e,r,!0);else if("auto"===r){var o=F(e,e.getLabelModel());i=o.labelCategoryInterval,n=c["F"](o.labels,(function(e){return e.tickValue}))}else i=r,n=Z(e,i,!0);return W(a,r,{ticks:n,tickCategoryInterval:i})}function U(e){var t=e.scale.getTicks(),n=Object(_["h"])(e);return{labels:c["F"](t,(function(t,i){return{level:t.level,formattedLabel:n(t,i),rawLabel:e.scale.getLabel(t),tickValue:t.value}}))}}function z(e,t){return P(e)[t]||(P(e)[t]=[])}function Y(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function W(e,t,n){return e.push({key:t,value:n}),n}function G(e){var t=P(e).autoInterval;return null!=t?t:P(e).autoInterval=e.calculateCategoryInterval()}function q(e){var t=$(e),n=Object(_["h"])(e),i=(t.axisRotate-t.labelRotate)/180*Math.PI,a=e.scale,r=a.getExtent(),s=a.count();if(r[1]-r[0]<1)return 0;var o=1;s>40&&(o=Math.max(1,Math.floor(s/40)));for(var l=r[0],c=e.dataToCoord(l+1)-e.dataToCoord(l),d=Math.abs(c*Math.cos(i)),u=Math.abs(c*Math.sin(i)),p=0,h=0;l<=r[1];l+=o){var f=0,v=0,m=j["d"](n({value:l}),t.font,"center","top");f=1.3*m.width,v=1.3*m.height,p=Math.max(p,f,7),h=Math.max(h,v,7)}var g=p/d,y=h/u;isNaN(g)&&(g=1/0),isNaN(y)&&(y=1/0);var b=Math.max(0,Math.floor(Math.min(g,y))),w=P(e.model),C=e.getExtent(),S=w.lastAutoInterval,k=w.lastTickCount;return null!=S&&null!=k&&Math.abs(S-b)<=1&&Math.abs(k-s)<=1&&S>b&&w.axisExtent0===C[0]&&w.axisExtent1===C[1]?b=S:(w.lastTickCount=s,w.lastAutoInterval=b,w.axisExtent0=C[0],w.axisExtent1=C[1]),b}function $(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function Z(e,t,n){var i=Object(_["h"])(e),a=e.scale,r=a.getExtent(),s=e.getLabelModel(),o=[],l=Math.max((t||0)+1,1),c=r[0],d=a.count();0!==c&&l>1&&d/l>2&&(c=Math.round(Math.ceil(c/l)*l));var u=Object(_["j"])(e),p=s.get("showMinLabel")||u,h=s.get("showMaxLabel")||u;p&&c!==r[0]&&v(r[0]);for(var f=c;f<=r[1];f+=l)v(f);function v(e){var t={value:e};o.push(n?e:{formattedLabel:i(t),rawLabel:a.getLabel(t),tickValue:e})}return h&&f-l!==r[1]&&v(r[1]),o}function K(e,t,n){var i=e.scale,a=Object(_["h"])(e),r=[];return c["k"](i.getTicks(),(function(e){var s=i.getLabel(e),o=e.value;t(e.value,s)&&r.push(n?o:{formattedLabel:a(e),rawLabel:s,tickValue:o})})),r}var Q=[0,1],X=function(){function e(e,t,n){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=n||[0,0]}return e.prototype.contain=function(e){var t=this._extent,n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=n&&e<=i},e.prototype.containData=function(e){return this.scale.contain(e)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(e){return Object(A["e"])(e||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(e,t){var n=this._extent;n[0]=e,n[1]=t},e.prototype.dataToCoord=function(e,t){var n=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&"ordinal"===i.type&&(n=n.slice(),J(n,i.count())),Object(A["j"])(e,Q,n,t)},e.prototype.coordToData=function(e,t){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&(n=n.slice(),J(n,i.count()));var a=Object(A["j"])(e,n,Q,t);return this.scale.scale(a)},e.prototype.pointToData=function(e,t){},e.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),n=B(this,t),i=n.ticks,a=Object(c["F"])(i,(function(e){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(e):e),tickValue:e}}),this),r=t.get("alignWithLabel");return ee(this,a,r,e.clamp),a},e.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var n=this.scale.getMinorTicks(t),i=Object(c["F"])(n,(function(e){return Object(c["F"])(e,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this)}),this);return i},e.prototype.getViewLabels=function(){return N(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n},e.prototype.calculateCategoryInterval=function(){return q(this)},e}();function J(e,t){var n=e[1]-e[0],i=t,a=n/i/2;e[0]+=a,e[1]-=a}function ee(e,t,n,i){var a=t.length;if(e.onBand&&!n&&a){var r,s,o=e.getExtent();if(1===a)t[0].coord=o[0],r=t[1]={coord:o[0]};else{var l=t[a-1].tickValue-t[0].tickValue,d=(t[a-1].coord-t[0].coord)/l;Object(c["k"])(t,(function(e){e.coord-=d/2}));var u=e.scale.getExtent();s=1+u[1]-t[a-1].tickValue,r={coord:t[a-1].coord+d*s},t.push(r)}var p=o[0]>o[1];h(t[0].coord,o[0])&&(i?t[0].coord=o[0]:t.shift()),i&&h(o[0],t[0].coord)&&t.unshift({coord:o[0]}),h(o[1],r.coord)&&(i?r.coord=o[1]:t.pop()),i&&h(r.coord,o[1])&&t.push({coord:o[1]})}function h(e,t){return e=Object(A["r"])(e),t=Object(A["r"])(t),p?e>t:e<t}}var te=X,ne=function(e){function t(t,n,i,a,r){var s=e.call(this,t,n,i)||this;return s.index=0,s.type=a||"value",s.position=r||"bottom",s}return Object(i["a"])(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},t.prototype.pointToData=function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(te),ie=ne,ae=n("0156"),re=n("944e"),se=n("89e3"),oe=Math.log;function le(e,t,n){var i=se["a"].prototype,a=i.getTicks.call(n),r=i.getTicks.call(n,!0),s=a.length-1,o=i.getInterval.call(n),l=Object(_["f"])(e,t),c=l.extent,d=l.fixMin,u=l.fixMax;if("log"===e.type){var p=oe(e.base);c=[oe(c[0])/p,oe(c[1])/p]}e.setExtent(c[0],c[1]),e.calcNiceExtent({splitNumber:s,fixMin:d,fixMax:u});var h=i.getExtent.call(e);d&&(c[0]=h[0]),u&&(c[1]=h[1]);var f=i.getInterval.call(e),v=c[0],m=c[1];if(d&&u)f=(m-v)/s;else if(d){m=c[0]+f*s;while(m<c[1]&&isFinite(m)&&isFinite(c[1]))f=Object(re["c"])(f),m=c[0]+f*s}else if(u){v=c[1]-f*s;while(v>c[0]&&isFinite(v)&&isFinite(c[0]))f=Object(re["c"])(f),v=c[1]-f*s}else{var g=e.getTicks().length-1;g>s&&(f=Object(re["c"])(f));var y=f*s;m=Math.ceil(c[1]/f)*f,v=Object(A["r"])(m-y),v<0&&c[0]>=0?(v=0,m=Object(A["r"])(y)):m>0&&c[1]<=0&&(m=0,v=-Object(A["r"])(y))}var b=(a[0].value-r[0].value)/o,w=(a[s].value-r[s].value)/o;i.setExtent.call(e,v+f*b,m+f*w),i.setInterval.call(e,f),(b||w)&&i.setNiceExtent.call(e,v+f,m-f)}var ce=function(){function e(e,t,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=I,this._initCartesian(e,t,n),this.model=e}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(e,t){var n=this._axesMap;function i(e){var t,n=Object(c["D"])(e),i=n.length;if(i){for(var a=[],r=i-1;r>=0;r--){var s=+n[r],o=e[s],l=o.model,d=o.scale;Object(re["e"])(d)&&l.get("alignTicks")&&null==l.get("interval")?a.push(o):(Object(_["i"])(d,l),Object(re["e"])(d)&&(t=o))}a.length&&(t||(t=a.pop(),Object(_["i"])(t.scale,t.model)),Object(c["k"])(a,(function(e){le(e.scale,e.model,t.scale)})))}}this._updateScale(e,this.model),i(n.x),i(n.y);var a={};Object(c["k"])(n.x,(function(e){ue(n,"y",e,a)})),Object(c["k"])(n.y,(function(e){ue(n,"x",e,a)})),this.resize(this.model,t)},e.prototype.resize=function(e,t,n){var i=e.getBoxLayoutParams(),a=!n&&e.get("containLabel"),r=Object(b["d"])(i,{width:t.getWidth(),height:t.getHeight()});this._rect=r;var s=this._axesList;function o(){Object(c["k"])(s,(function(e){var t=e.isHorizontal(),n=t?[0,r.width]:[0,r.height],i=e.inverse?1:0;e.setExtent(n[i],n[1-i]),he(e,t?r.x:r.y)}))}o(),a&&(Object(c["k"])(s,(function(e){if(!e.model.get(["axisLabel","inside"])){var t=Object(_["b"])(e);if(t){var n=e.isHorizontal()?"height":"width",i=e.model.get(["axisLabel","margin"]);r[n]-=t[n]+i,"top"===e.position?r.y+=t.height+i:"left"===e.position&&(r.x+=t.width+i)}}})),o()),Object(c["k"])(this._coordsList,(function(e){e.calcAffineTransform()}))},e.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n)return n[t||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(e,t){if(null!=e&&null!=t){var n="x"+e+"y"+t;return this._coordsMap[n]}Object(c["z"])(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===t)return a[i]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(e,t,n){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(e,t,n){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(e){var t,n,i=e.seriesModel,a=e.xAxisModel||i&&i.getReferringComponents("xAxis",u["b"]).models[0],r=e.yAxisModel||i&&i.getReferringComponents("yAxis",u["b"]).models[0],s=e.gridModel,o=this._coordsList;if(i)t=i.coordinateSystem,Object(c["q"])(o,t)<0&&(t=null);else if(a&&r)t=this.getCartesian(a.componentIndex,r.componentIndex);else if(a)n=this.getAxis("x",a.componentIndex);else if(r)n=this.getAxis("y",r.componentIndex);else if(s){var l=s.coordinateSystem;l===this&&(t=this._coordsList[0])}return{cartesian:t,axis:n}},e.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},e.prototype._initCartesian=function(e,t,n){var i=this,a=this,r={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},o={x:0,y:0};if(t.eachComponent("xAxis",l("x"),this),t.eachComponent("yAxis",l("y"),this),!o.x||!o.y)return this._axesMap={},void(this._axesList=[]);function l(t){return function(n,i){if(de(n,e)){var l=n.get("position");"x"===t?"top"!==l&&"bottom"!==l&&(l=r.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=r.left?"right":"left"),r[l]=!0;var c=new ie(t,Object(_["a"])(n),[0,0],n.get("type"),l),d="category"===c.type;c.onBand=d&&n.get("boundaryGap"),c.inverse=n.get("inverse"),n.axis=c,c.model=n,c.grid=a,c.index=i,a._axesList.push(c),s[t][i]=c,o[t]++}}}this._axesMap=s,Object(c["k"])(s.x,(function(t,n){Object(c["k"])(s.y,(function(a,r){var s="x"+n+"y"+r,o=new R(s);o.master=i,o.model=e,i._coordsMap[s]=o,i._coordsList.push(o),o.addAxis(t),o.addAxis(a)}))}))},e.prototype._updateScale=function(e,t){function n(e,t){Object(c["k"])(Object(_["d"])(e,t.dim),(function(n){t.scale.unionExtentFromData(e,n)}))}Object(c["k"])(this._axesList,(function(e){if(e.scale.setExtent(1/0,-1/0),"category"===e.type){var t=e.model.get("categorySortInfo");e.scale.setSortInfo(t)}})),e.eachSeries((function(e){if(Object(ae["b"])(e)){var i=Object(ae["a"])(e),a=i.xAxisModel,r=i.yAxisModel;if(!de(a,t)||!de(r,t))return;var s=this.getCartesian(a.componentIndex,r.componentIndex),o=e.getData(),l=s.getAxis("x"),c=s.getAxis("y");n(o,l),n(o,c)}}),this)},e.prototype.getTooltipAxes=function(e){var t=[],n=[];return Object(c["k"])(this.getCartesians(),(function(i){var a=null!=e&&"auto"!==e?i.getAxis(e):i.getBaseAxis(),r=i.getOtherAxis(a);Object(c["q"])(t,a)<0&&t.push(a),Object(c["q"])(n,r)<0&&n.push(r)})),{baseAxes:t,otherAxes:n}},e.create=function(t,n){var i=[];return t.eachComponent("grid",(function(a,r){var s=new e(a,t,n);s.name="grid_"+r,s.resize(a,n,!0),a.coordinateSystem=s,i.push(s)})),t.eachSeries((function(e){if(Object(ae["b"])(e)){var t=Object(ae["a"])(e),n=t.xAxisModel,i=t.yAxisModel,a=n.getCoordSysModel();0;var r=a.coordinateSystem;e.coordinateSystem=r.getCartesian(n.componentIndex,i.componentIndex)}})),i},e.dimensions=I,e}();function de(e,t){return e.getCoordSysModel()===t}function ue(e,t,n,i){n.getAxesOnZeroOf=function(){return a?[a]:[]};var a,r=e[t],s=n.model,o=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(o){if(null!=l)pe(r[l])&&(a=r[l]);else for(var c in r)if(r.hasOwnProperty(c)&&pe(r[c])&&!i[d(r[c])]){a=r[c];break}a&&(i[d(a)]=!0)}function d(e){return e.dim+"_"+e.index}}function pe(e){return e&&"category"!==e.type&&"time"!==e.type&&Object(_["g"])(e)}function he(e,t){var n=e.getExtent(),i=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return i-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return i-e+t}}var fe=ce,ve=n("2dc5"),me=n("2306"),ge=n("cb11"),ye=n("fab2"),be=n("6679"),we=Object(u["m"])();function Ce(e,t,n,i){var a=n.axis;if(!a.scale.isBlank()){var r=n.getModel("splitArea"),s=r.getModel("areaStyle"),o=s.get("color"),d=i.coordinateSystem.getRect(),u=a.getTicksCoords({tickModel:r,clamp:!0});if(u.length){var p=o.length,h=we(e).splitAreaColors,f=c["f"](),v=0;if(h)for(var m=0;m<u.length;m++){var g=h.get(u[m].tickValue);if(null!=g){v=(g+(p-1)*m)%p;break}}var y=a.toGlobalCoord(u[0].coord),b=s.getAreaStyle();o=c["s"](o)?o:[o];for(m=1;m<u.length;m++){var w=a.toGlobalCoord(u[m].coord),C=void 0,S=void 0,k=void 0,_=void 0;a.isHorizontal()?(C=y,S=d.y,k=w-C,_=d.height,y=C+k):(C=d.x,S=y,k=d.width,_=w-S,y=S+_);var T=u[m-1].tickValue;null!=T&&f.set(T,v),t.add(new l["a"]({anid:null!=T?"area_"+T:null,shape:{x:C,y:S,width:k,height:_},style:c["i"]({fill:o[v]},b),autoBatch:!0,silent:!0})),v=(v+1)%p}we(e).splitAreaColors=f}}}function Se(e){we(e).splitAreaColors=null}var ke=["axisLine","axisTickLabel","axisName"],_e=["splitArea","splitLine","minorSplitLine"],Te=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}return Object(i["a"])(t,e),t.prototype.render=function(t,n,i,a){this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new ve["a"],this.group.add(this._axisGroup),t.get("show")){var s=t.getCoordSysModel(),o=ae["c"](s,t),l=new ye["a"](t,c["m"]({handleAutoShown:function(e){for(var n=s.coordinateSystem.getCartesians(),i=0;i<n.length;i++)if(Object(re["e"])(n[i].getOtherAxis(t.axis).scale))return!0;return!1}},o));c["k"](ke,l.add,l),this._axisGroup.add(l.getGroup()),c["k"](_e,(function(e){t.get([e,"show"])&&xe[e](this,this._axisGroup,t,s)}),this);var d=a&&"changeAxisOrder"===a.type&&a.isInitSort;d||me["groupTransition"](r,this._axisGroup,t),e.prototype.render.call(this,t,n,i,a)}},t.prototype.remove=function(){Se(this)},t.type="cartesianAxis",t}(be["a"]),xe={splitLine:function(e,t,n,i){var a=n.axis;if(!a.scale.isBlank()){var r=n.getModel("splitLine"),s=r.getModel("lineStyle"),o=s.get("color");o=c["s"](o)?o:[o];for(var l=i.coordinateSystem.getRect(),d=a.isHorizontal(),u=0,p=a.getTicksCoords({tickModel:r}),h=[],f=[],v=s.getLineStyle(),m=0;m<p.length;m++){var g=a.toGlobalCoord(p[m].coord);d?(h[0]=g,h[1]=l.y,f[0]=g,f[1]=l.y+l.height):(h[0]=l.x,h[1]=g,f[0]=l.x+l.width,f[1]=g);var y=u++%o.length,b=p[m].tickValue;t.add(new ge["a"]({anid:null!=b?"line_"+p[m].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:f[0],y2:f[1]},style:c["i"]({stroke:o[y]},v),silent:!0}))}}},minorSplitLine:function(e,t,n,i){var a=n.axis,r=n.getModel("minorSplitLine"),s=r.getModel("lineStyle"),o=i.coordinateSystem.getRect(),l=a.isHorizontal(),c=a.getMinorTicksCoords();if(c.length)for(var d=[],u=[],p=s.getLineStyle(),h=0;h<c.length;h++)for(var f=0;f<c[h].length;f++){var v=a.toGlobalCoord(c[h][f].coord);l?(d[0]=v,d[1]=o.y,u[0]=v,u[1]=o.y+o.height):(d[0]=o.x,d[1]=v,u[0]=o.x+o.width,u[1]=v),t.add(new ge["a"]({anid:"minor_line_"+c[h][f].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:u[0],y2:u[1]},style:p,silent:!0}))}},splitArea:function(e,t,n,i){Ce(e,t,n,i)}},De=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(i["a"])(t,e),t.type="xAxis",t}(Te),Ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=De.type,t}return Object(i["a"])(t,e),t.type="yAxis",t}(Te),Oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="grid",t}return Object(i["a"])(t,e),t.prototype.render=function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new l["a"]({shape:e.coordinateSystem.getRect(),style:Object(c["i"])({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(a["a"]),Ie={offset:0};function Me(e){e.registerComponentView(Oe),e.registerComponentModel(o),e.registerCoordinateSystem("cartesian2d",fe),S(e,"x",p,Ie),S(e,"y",p,Ie),e.registerComponentView(De),e.registerComponentView(Ee),e.registerPreprocessor((function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}))}var Le=n("af5c"),Re=n("22b4");function Ae(e){Object(Re["a"])(Me),Object(Re["a"])(Le["a"])}},"4d96":function(e,t,n){},"4fb2":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var i=n("2b0e"),a=new i["a"],r={LinkToMyContentItem:"LinkToMyContentItem",ToggleSelectContentItem:"ToggleSelectContentItem",ReferContentItem:"ReferContentItem",ReloadMyContent:"ReloadMyContent"}},"50ca":function(e,t,n){},"50e5":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n("6d8b"),a=["x","y","radius","angle","single"],r=["cartesian2d","polar","singleAxis"];function s(e){var t=e.get("coordinateSystem");return Object(i["q"])(r,t)>=0}function o(e){return e+"Axis"}function l(e,t){var n,a=Object(i["f"])(),r=[],s=Object(i["f"])();e.eachComponent({mainType:"dataZoom",query:t},(function(e){s.get(e.uid)||l(e)}));do{n=!1,e.eachComponent("dataZoom",o)}while(n);function o(e){!s.get(e.uid)&&c(e)&&(l(e),n=!0)}function l(e){s.set(e.uid,!0),r.push(e),d(e)}function c(e){var t=!1;return e.eachTargetAxis((function(e,n){var i=a.get(e);i&&i[n]&&(t=!0)})),t}function d(e){e.eachTargetAxis((function(e,t){(a.get(e)||a.set(e,[]))[t]=!0}))}return r}function c(e){var t=e.ecModel,n={infoList:[],infoMap:Object(i["f"])()};return e.eachTargetAxis((function(e,i){var a=t.getComponent(o(e),i);if(a){var r=a.getCoordSysModel();if(r){var s=r.uid,l=n.infoMap.get(s);l||(l={model:r,axisModels:[]},n.infoList.push(l),n.infoMap.set(s,l)),l.axisModels.push(a)}}})),n}},"519d":function(e,t,n){var i=n("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"31.442",height:"40",viewBox:"0 0 31.442 40"},children:[{tag:"g",attrsMap:{transform:"translate(-179.2 -99.38)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#ffd629;",d:"M311.741,121.054h-8.855a3.363,3.363,0,0,1-3.334-3.372l-2.351-14.93a3.363,3.363,0,0,1,3.334-3.372h13.558a3.363,3.363,0,0,1,3.334,3.372l-2.351,14.93A3.363,3.363,0,0,1,311.741,121.054Z",transform:"translate(-112.388)"}},{tag:"path",attrsMap:{class:"b",style:"fill:#ffca29;",d:"M309.8,99.48h-9.432A3.382,3.382,0,0,0,297,102.852l2.378,14.93a3.382,3.382,0,0,0,3.372,3.372S320.211,104.4,309.8,99.48Z",transform:"translate(-112.28 -0.095)"}},{tag:"path",attrsMap:{class:"c",style:"fill:#fff;",d:"M305.523,99.48h-5.151A3.382,3.382,0,0,0,297,102.852l1.493,9.318S310.432,104.916,305.523,99.48Z",transform:"translate(-112.256 -0.095)"}},{tag:"path",attrsMap:{class:"d",style:"fill:#15c39a;",d:"M193.655,253.831l-12.8-7.107A2.924,2.924,0,0,1,179.4,244.2V229.982a2.924,2.924,0,0,1,1.459-2.528l12.8-7.107a2.916,2.916,0,0,1,2.923,0l12.8,7.107a2.924,2.924,0,0,1,1.459,2.528V244.2a2.924,2.924,0,0,1-1.459,2.528l-12.8,7.107A2.939,2.939,0,0,1,193.655,253.831Z",transform:"translate(-0.19 -114.84)"}},{tag:"path",attrsMap:{class:"e",style:"fill:#007b5e;",d:"M210.637,639.48v4.461a2.948,2.948,0,0,1-1.464,2.549l-12.8,7.168a2.9,2.9,0,0,1-2.923,0l-12.8-7.168a2.944,2.944,0,0,1-1.459-2.549v-4.257s1.01-.452,2.493,2.421c1.147,2.226,7.134,4.685,9.632,6.5a5.258,5.258,0,0,0,3.6,1.389,12.643,12.643,0,0,0,2.484-.576c2.233-.79,9.066-5.222,10.1-6.7C208.715,641,209.258,639.48,210.637,639.48Z",transform:"translate(0 -514.704)"}},{tag:"path",attrsMap:{class:"f",style:"opacity:0.2;fill:#f9f2d7;",d:"M234.729,224.149l-9.738-5.4a2.886,2.886,0,0,0-2.918,0L209.3,225.919s-.113,4.2,10.422,5.712,2.72.395,2.72.395S232.806,231.365,234.729,224.149Z",transform:"translate(-28.667 -113.316)"}},{tag:"path",attrsMap:{class:"g",style:"fill:#11b48e",d:"M375.76,446.593l.9,1.817a1.593,1.593,0,0,0,1.2.87l2.007.29a1.592,1.592,0,0,1,.88,2.716l-1.451,1.417a1.585,1.585,0,0,0-.457,1.408l.342,2a1.594,1.594,0,0,1-2.312,1.679l-1.793-.942a1.594,1.594,0,0,0-1.479,0l-1.793.942a1.593,1.593,0,0,1-2.312-1.679l.342-2a1.581,1.581,0,0,0-.457-1.408l-1.451-1.417a1.592,1.592,0,0,1,.885-2.716l2.007-.29a1.593,1.593,0,0,0,1.2-.87l.9-1.817a1.583,1.583,0,0,1,2.844,0Z",transform:"translate(-179.405 -330.031)"}},{tag:"path",attrsMap:{class:"h",style:"fill:#fff;",d:"M389.277,459.237l1.17,2.369a.953.953,0,0,0,.723.523l2.611.38a.955.955,0,0,1,.528,1.631l-1.893,1.845a.965.965,0,0,0-.276.847l.447,2.6a.957.957,0,0,1-1.389,1.008l-2.34-1.227a.95.95,0,0,0-.889,0l-2.335,1.227a.957.957,0,0,1-1.389-1.008l.447-2.6a.952.952,0,0,0-.276-.847l-1.893-1.845a.958.958,0,0,1,.533-1.631l2.611-.38a.972.972,0,0,0,.723-.523l1.17-2.369A.959.959,0,0,1,389.277,459.237Z",transform:"translate(-193.493 -342.41)"}}]}]})}},"52da":function(e,t,n){},"53f2":function(e,t,n){"use strict";n("8bab")},5426:function(e,t,n){"use strict";function i(e,t){return e.type===t}n.d(t,"a",(function(){return i}))},"54f9":function(e,t,n){"use strict";n("569a")},5574:function(e,t,n){"use strict";var i,a,r,s,o,l,c,d=n("c5fd"),u={},p=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function f(e,t){for(var n in t)e[n]=t[n];return e}function v(e){var t=e.parentNode;t&&t.removeChild(e)}function m(e,t,n){var a,r,s,o={};for(s in t)"key"==s?a=t[s]:"ref"==s?r=t[s]:o[s]=t[s];if(arguments.length>2&&(o.children=arguments.length>3?i.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===o[s]&&(o[s]=e.defaultProps[s]);return g(e,o,a,r,null)}function g(e,t,n,i,s){var o={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==s?++r:s};return null==s&&null!=a.vnode&&a.vnode(o),o}function y(){return{current:null}}function b(e){return e.children}function w(e,t){this.props=e,this.context=t}function C(e,t){if(null==t)return e.__?C(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?C(e):null}function S(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return S(e)}}function k(e){(!e.__d&&(e.__d=!0)&&s.push(e)&&!_.__r++||l!==a.debounceRendering)&&((l=a.debounceRendering)||o)(_)}function _(){for(var e;_.__r=s.length;)e=s.sort((function(e,t){return e.__v.__b-t.__v.__b})),s=[],e.some((function(e){var t,n,i,a,r,s;e.__d&&(r=(a=(t=e).__v).__e,(s=t.__P)&&(n=[],(i=f({},a)).__v=a.__v+1,A(s,a,i,t.__n,void 0!==s.ownerSVGElement,null!=a.__h?[r]:null,n,null==r?C(a):r,a.__h),j(n,a),a.__e!=r&&S(a)))}))}function T(e,t,n,i,a,r,s,o,l,c){var d,h,f,v,m,y,w,S=i&&i.__k||p,k=S.length;for(n.__k=[],d=0;d<t.length;d++)if(null!=(v=n.__k[d]=null==(v=t[d])||"boolean"==typeof v?null:"string"==typeof v||"number"==typeof v||"bigint"==typeof v?g(null,v,null,null,v):Array.isArray(v)?g(b,{children:v},null,null,null):v.__b>0?g(v.type,v.props,v.key,null,v.__v):v)){if(v.__=n,v.__b=n.__b+1,null===(f=S[d])||f&&v.key==f.key&&v.type===f.type)S[d]=void 0;else for(h=0;h<k;h++){if((f=S[h])&&v.key==f.key&&v.type===f.type){S[h]=void 0;break}f=null}A(e,v,f=f||u,a,r,s,o,l,c),m=v.__e,(h=v.ref)&&f.ref!=h&&(w||(w=[]),f.ref&&w.push(f.ref,null,v),w.push(h,v.__c||m,v)),null!=m?(null==y&&(y=m),"function"==typeof v.type&&v.__k===f.__k?v.__d=l=x(v,l,e):l=E(e,v,f,S,m,l),"function"==typeof n.type&&(n.__d=l)):l&&f.__e==l&&l.parentNode!=e&&(l=C(f))}for(n.__e=y,d=k;d--;)null!=S[d]&&("function"==typeof n.type&&null!=S[d].__e&&S[d].__e==n.__d&&(n.__d=C(i,d+1)),B(S[d],S[d]));if(w)for(d=0;d<w.length;d++)N(w[d],w[++d],w[++d])}function x(e,t,n){for(var i,a=e.__k,r=0;a&&r<a.length;r++)(i=a[r])&&(i.__=e,t="function"==typeof i.type?x(i,t,n):E(n,i,i,a,i.__e,t));return t}function D(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){D(e,t)})):t.push(e)),t}function E(e,t,n,i,a,r){var s,o,l;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==n||a!=r||null==a.parentNode)e:if(null==r||r.parentNode!==e)e.appendChild(a),s=null;else{for(o=r,l=0;(o=o.nextSibling)&&l<i.length;l+=2)if(o==a)break e;e.insertBefore(a,r),s=r}return void 0!==s?s:a.nextSibling}function O(e,t,n,i,a){var r;for(r in n)"children"===r||"key"===r||r in t||M(e,r,null,n[r],i);for(r in t)a&&"function"!=typeof t[r]||"children"===r||"key"===r||"value"===r||"checked"===r||n[r]===t[r]||M(e,r,t[r],n[r],i)}function I(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||h.test(t)?n:n+"px"}function M(e,t,n,i,a){var r;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||I(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||I(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])r=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?i||e.addEventListener(t,r?R:L,r):e.removeEventListener(t,r?R:L,r);else if("dangerouslySetInnerHTML"!==t){if(a)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function L(e){this.l[e.type+!1](a.event?a.event(e):e)}function R(e){this.l[e.type+!0](a.event?a.event(e):e)}function A(e,t,n,i,r,s,o,l,c){var d,u,p,h,v,m,g,y,C,S,k,_=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(c=n.__h,l=t.__e=n.__e,t.__h=null,s=[l]),(d=a.__b)&&d(t);try{e:if("function"==typeof _){if(y=t.props,C=(d=_.contextType)&&i[d.__c],S=d?C?C.props.value:d.__:i,n.__c?g=(u=t.__c=n.__c).__=u.__E:("prototype"in _&&_.prototype.render?t.__c=u=new _(y,S):(t.__c=u=new w(y,S),u.constructor=_,u.render=H),C&&C.sub(u),u.props=y,u.state||(u.state={}),u.context=S,u.__n=i,p=u.__d=!0,u.__h=[]),null==u.__s&&(u.__s=u.state),null!=_.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=f({},u.__s)),f(u.__s,_.getDerivedStateFromProps(y,u.__s))),h=u.props,v=u.state,p)null==_.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==_.getDerivedStateFromProps&&y!==h&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(y,S),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(y,u.__s,S)||t.__v===n.__v){u.props=y,u.state=u.__s,t.__v!==n.__v&&(u.__d=!1),u.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),u.__h.length&&o.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(y,u.__s,S),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(h,v,m)}))}u.context=S,u.props=y,u.state=u.__s,(d=a.__r)&&d(t),u.__d=!1,u.__v=t,u.__P=e,d=u.render(u.props,u.state,u.context),u.state=u.__s,null!=u.getChildContext&&(i=f(f({},i),u.getChildContext())),p||null==u.getSnapshotBeforeUpdate||(m=u.getSnapshotBeforeUpdate(h,v)),k=null!=d&&d.type===b&&null==d.key?d.props.children:d,T(e,Array.isArray(k)?k:[k],t,n,i,r,s,o,l,c),u.base=t.__e,t.__h=null,u.__h.length&&o.push(u),g&&(u.__E=u.__=null),u.__e=!1}else null==s&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=P(n.__e,t,n,i,r,s,o,c);(d=a.diffed)&&d(t)}catch(e){t.__v=null,(c||null!=s)&&(t.__e=l,t.__h=!!c,s[s.indexOf(l)]=null),a.__e(e,t,n)}}function j(e,t){a.__c&&a.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){a.__e(e,t.__v)}}))}function P(e,t,n,a,r,s,o,l){var c,d,p,h=n.props,f=t.props,m=t.type,g=0;if("svg"===m&&(r=!0),null!=s)for(;g<s.length;g++)if((c=s[g])&&"setAttribute"in c==!!m&&(m?c.localName===m:3===c.nodeType)){e=c,s[g]=null;break}if(null==e){if(null===m)return document.createTextNode(f);e=r?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,f.is&&f),s=null,l=!1}if(null===m)h===f||l&&e.data===f||(e.data=f);else{if(s=s&&i.call(e.childNodes),d=(h=n.props||u).dangerouslySetInnerHTML,p=f.dangerouslySetInnerHTML,!l){if(null!=s)for(h={},g=0;g<e.attributes.length;g++)h[e.attributes[g].name]=e.attributes[g].value;(p||d)&&(p&&(d&&p.__html==d.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(O(e,f,h,r,l),p)t.__k=[];else if(g=t.props.children,T(e,Array.isArray(g)?g:[g],t,n,a,r&&"foreignObject"!==m,s,o,s?s[0]:n.__k&&C(n,0),l),null!=s)for(g=s.length;g--;)null!=s[g]&&v(s[g]);l||("value"in f&&void 0!==(g=f.value)&&(g!==e.value||"progress"===m&&!g||"option"===m&&g!==h.value)&&M(e,"value",g,h.value,!1),"checked"in f&&void 0!==(g=f.checked)&&g!==e.checked&&M(e,"checked",g,h.checked,!1))}return e}function N(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){a.__e(e,n)}}function B(e,t,n){var i,r;if(a.unmount&&a.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||N(i,null,t)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){a.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&B(i[r],t,"function"!=typeof e.type);n||null==e.__e||v(e.__e),e.__e=e.__d=void 0}function H(e,t,n){return this.constructor(e,n)}function F(e,t,n){var r,s,o;a.__&&a.__(e,t),s=(r="function"==typeof n)?null:n&&n.__k||t.__k,o=[],A(t,e=(!r&&n||t).__k=m(b,null,[e]),s||u,u,void 0!==t.ownerSVGElement,!r&&n?[n]:s?null:t.firstChild?i.call(t.childNodes):null,o,!r&&n?n:s?s.__e:t.firstChild,r),j(o,e)}function V(e,t){var n={__c:t="__cC"+c++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,i;return this.getChildContext||(n=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(k)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}i=p.slice,a={__e:function(e,t){for(var n,i,a;t=t.__;)if((n=t.__c)&&!n.__)try{if((i=n.constructor)&&null!=i.getDerivedStateFromError&&(n.setState(i.getDerivedStateFromError(e)),a=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),a=n.__d),a)return n.__E=n}catch(t){e=t}throw e}},r=0,w.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=f({},this.state),"function"==typeof e&&(e=e(f({},n),this.props)),e&&f(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),k(this))},w.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),k(this))},w.prototype.render=b,s=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_.__r=0,c=0;var U,z,Y=[],W=a.__b,G=a.__r,q=a.diffed,$=a.__c,Z=a.unmount;function K(){for(var e;e=Y.shift();)if(e.__P)try{e.__H.__h.forEach(X),e.__H.__h.forEach(J),e.__H.__h=[]}catch(t){e.__H.__h=[],a.__e(t,e.__v)}}a.__b=function(e){U=null,W&&W(e)},a.__r=function(e){G&&G(e),0;var t=(U=e.__c).__H;t&&(t.__h.forEach(X),t.__h.forEach(J),t.__h=[])},a.diffed=function(e){q&&q(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==Y.push(t)&&z===a.requestAnimationFrame||((z=a.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(i),Q&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);Q&&(t=requestAnimationFrame(n))})(K)),U=null},a.__c=function(e,t){t.some((function(e){try{e.__h.forEach(X),e.__h=e.__h.filter((function(e){return!e.__||J(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],a.__e(n,e.__v)}})),$&&$(e,t)},a.unmount=function(e){Z&&Z(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{X(e)}catch(e){t=e}})),t&&a.__e(t,n.__v))};var Q="function"==typeof requestAnimationFrame;function X(e){var t=U,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),U=t}function J(e){var t=U;e.__c=e.__(),U=t}function ee(e,t){for(var n in t)e[n]=t[n];return e}function te(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var i in t)if("__source"!==i&&e[i]!==t[i])return!0;return!1}function ne(e){this.props=e}(ne.prototype=new w).isPureReactComponent=!0,ne.prototype.shouldComponentUpdate=function(e,t){return te(this.props,e)||te(this.state,t)};var ie=a.__b;a.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),ie&&ie(e)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var ae=a.__e;a.__e=function(e,t,n){if(e.then)for(var i,a=t;a=a.__;)if((i=a.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);ae(e,t,n)};var re=a.unmount;function se(){this.__u=0,this.t=null,this.__b=null}function oe(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function le(){this.u=null,this.o=null}a.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),re&&re(e)},(se.prototype=new w).__c=function(e,t){var n=t.__c,i=this;null==i.t&&(i.t=[]),i.t.push(n);var a=oe(i.__v),r=!1,s=function(){r||(r=!0,n.__R=null,a?a(o):o())};n.__R=s;var o=function(){if(!--i.__u){if(i.state.__e){var e=i.state.__e;i.__v.__k[0]=function e(t,n,i){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,n,i)})),t.__c&&t.__c.__P===n&&(t.__e&&i.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=i)),t}(e,e.__c.__P,e.__c.__O)}var t;for(i.setState({__e:i.__b=null});t=i.t.pop();)t.forceUpdate()}},l=!0===t.__h;i.__u++||l||i.setState({__e:i.__b=i.__v.__k[0]}),e.then(s,s)},se.prototype.componentWillUnmount=function(){this.t=[]},se.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=ee({},t)).__c&&(t.__c.__P===i&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,n,i)}))),t}(this.__b,n,i.__O=i.__P)}this.__b=null}var a=t.__e&&m(b,null,e.fallback);return a&&(a.__h=null),[m(b,null,t.__e?null:e.children),a]};var ce=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function de(e){return this.getChildContext=function(){return e.context},e.children}function ue(e){var t=this,n=e.i;t.componentWillUnmount=function(){F(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),F(m(de,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function pe(e,t){return m(ue,{__v:e,i:t})}(le.prototype=new w).__e=function(e){var t=this,n=oe(t.__v),i=t.o.get(e);return i[0]++,function(a){var r=function(){t.props.revealOrder?(i.push(a),ce(t,e,i)):a()};n?n(r):r()}},le.prototype.render=function(e){this.u=null,this.o=new Map;var t=D(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},le.prototype.componentDidUpdate=le.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){ce(e,n,t)}))};var he="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,fe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ve="undefined"!=typeof document,me=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};w.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(w.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var ge=a.event;function ye(){}function be(){return this.cancelBubble}function we(){return this.defaultPrevented}a.event=function(e){return ge&&(e=ge(e)),e.persist=ye,e.isPropagationStopped=be,e.isDefaultPrevented=we,e.nativeEvent=e};var Ce={configurable:!0,get:function(){return this.class}},Se=a.vnode;a.vnode=function(e){var t=e.type,n=e.props,i=n;if("string"==typeof t){var a=-1===t.indexOf("-");for(var r in i={},n){var s=n[r];ve&&"children"===r&&"noscript"===t||"value"===r&&"defaultValue"in n&&null==s||("defaultValue"===r&&"value"in n&&null==n.value?r="value":"download"===r&&!0===s?s="":/ondoubleclick/i.test(r)?r="ondblclick":/^onchange(textarea|input)/i.test(r+t)&&!me(n.type)?r="oninput":/^onfocus$/i.test(r)?r="onfocusin":/^onblur$/i.test(r)?r="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(r)?r=r.toLowerCase():a&&fe.test(r)?r=r.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===s&&(s=void 0),i[r]=s)}"select"==t&&i.multiple&&Array.isArray(i.value)&&(i.value=D(n.children).forEach((function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)}))),"select"==t&&null!=i.defaultValue&&(i.value=D(n.children).forEach((function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value}))),e.props=i,n.class!=n.className&&(Ce.enumerable="className"in n,null!=n.className&&(i.class=n.className),Object.defineProperty(i,"className",Ce))}e.$$typeof=he,Se&&Se(e)};var ke=a.__r;a.__r=function(e){ke&&ke(e),e.__c};var _e="undefined"!==typeof globalThis?globalThis:window;function Te(){var e=a.debounceRendering,t=[];function n(e){t.push(e)}a.debounceRendering=n,F(m(xe,{}),document.createElement("div"));while(t.length)t.shift()();a.debounceRendering=e}_e.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):_e.FullCalendarVDom={Component:w,createElement:m,render:F,createRef:y,Fragment:b,createContext:De,createPortal:pe,flushToDom:Te,unmountComponentAtNode:Ee};var xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d["b"])(t,e),t.prototype.render=function(){return m("div",{})},t.prototype.componentDidMount=function(){this.setState({})},t}(w);function De(e){var t=V(e),n=t.Provider;return t.Provider=function(){var e=this,t=!this.getChildContext,i=n.apply(this,arguments);if(t){var a=[];this.shouldComponentUpdate=function(t){e.props.value!==t.value&&a.forEach((function(e){e.context=t.value,e.forceUpdate()}))},this.sub=function(e){a.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){a.splice(a.indexOf(e),1),t&&t.call(e)}}}return i},t}function Ee(e){F(null,e)}},"569a":function(e,t,n){},"57a5b":function(e,t,n){"use strict";var i={Link:"Link",Select:"Select",Evaluation:"Evaluation",Refer:"Refer"};t["a"]=i},"58e7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAmCAYAAAC29NkdAAAAAXNSR0IArs4c6QAABzVJREFUWEetWH90U/UV/9yXpC1tgbKVJhSktE0cAlPPdMeibpahglRqEixDxDoO0yIWdMjopuPHOgSRrqf8cLPsIOAcrnY0FZEiHRud+yG2PbJzHD9KwHYiNKTYSC1t07x3d97rXvrSH2mS9v55f3zu593vr3sfIYgkpVutRPQoCNPBNJEIY5lxiQifMEtVXT4c9DRWeoJhjJ2cNS4mKnoBET/ETLcTYRIzviLw5wB9Kkpimfviu0cGw6CBDIlma6aOhBICbguWHEA7M+9EW/sml+tYu9Z3/PiceBrjWy8QngVRbDAcBn/s8/HKa59VftzXrx/BJIt9nQAUDkEswMzgU6KX5rU0VVyRDQmp9pQYPR8BaFqoOAz2QcJG1wXHy9qYAIJJZutrAgkrQgXV+jFw0St6Z+lJiBIEXQ2BkiPBkZgLrzodG9RYP0Fjum0VCbS9L+hCWyYW59yPqZabYIjSo8F5CSc+PIW3yqrxxZWWQHfm0yDoAPqW1jAxORFLFj6AzO/djpvNk9Dt9eHs+f/i93+sxsFDf+v3HSLzQrfTUS4bFILGlPmpZDD8B4RRqnd83Ci8XrIas+/7zoCFaGu7gVUFO3H0z/22TYB/1pwMlGzJR3y8HzrAfuwvtVixugTtNzr9ema+LnbTVHnL9BC02N4m0CLVIyYmCpUHNuG2GelBV8knivhx/jZ8cLx2QL+sOTNRWrIaOp0QFKf+VAPsS9bB6/X1kpS41HXBsZy+OenhifpRhkYC6VXr1sI85C56MKQt1NHZhbn2AjQ4Pw/wnzY1BUf+tBXRUYaQcHbvO4wNm/f2+jI6vOgwUVK6/QVBQJFqSU9NRk3VduiE4F+tzXrmXBPmPfozdHZ5FXVsbAyqK7chbUro58TnEzHz/mdx6bLbDy0xcslktleBMFfVri/IxTPLHgnpq7VOb759DAUbShXVjldXIseaGTbGr3e9g6IdZb1xEvaR0WK7TKAJqra6sggzpqWGDS4HPLWqSKne9lfyI4r/qPY0bI+v0ywz15PJYmct2rn6NzFmdFxECa5fb4feoEPsqJiI4t0tHtx69zJNLLeQ0Wz3kXJ39cils+Vh7b+ImAwSJIoSJt2S47cyQyKj2dZKRAmq9kztfiSMjR/JvCFjfdnahul3/UhDkD1ktNj/TcCtqla+/+6685aQQUfS8Z8nP8WCJ/yvHJj5FJnMtv0gylUT5T9tw0trloxk3pCxNm7Zh9K97/n9JYlLyWh5ZDFB9wdVm5SYgLqaUhgM/ns75ATDcezo6MId9+Wh1dOmXWIrIXl+rDHW8AUR/Puw8KWleOrJh4eTL+zYHa8fxJbiA9orprUZnROUtzgp3bZNEGiNapUPyUfHf4OxYyK7bsJld7XFg4zZKyBXsbd82NjsrPilQjDe/ND4OIpxEmiM6rAg+/vYVfRcuLki8l/+k2K8+/4/tEvrkr7Sm93u8q/9/aDJYl8LYKs2g9yJZM+7J6KkoQY5Dn+otFtaYYmfdl1w/E7WaTrqTL3JPO4kiPwNoLzURw9uRcpkU6j5wvL7rOkK5i4ogPwCqcJAret8RQYAqQ9BwGSePx3Q14MoWg2Qu5vD72wZ8ctbvpTn//DnuNiojDE9wujo7uY7rjU5zqiqfkOTMc36HOmEgJpnfHcayvauR1SIvd1QZezs9CLnyY2o++RcoCtzfrPT8ZpWOeDYmWS2lQvyPKwRuXXfvf0FCGH0iQMRFUURS1e8iuq/1gXuO5bKXM5Kf1c/aAUVw5TMGJNhXDVA92pRFufMxrZfPQNBGPC7hiocREnCqrU7UdFnUGLmGhc658BZpblneuAGzZQwxZoQbRBqtO+0HLDQPiuifk+eX1au2YHK9//ed1nrfR5xVkvLod4nROMRtBSJKfYJegP+BUKKFtWada/SNYf6HHZ5u7H8+eJ+EyAzzt8Quu9ua3ivz/zam23ItUpMs92s0+GEtuuWw+UZd8/OnyoddDC53nYDuXmbcbLOfzDVE9sEn5TZ3FjZGCx+SIJysExSL1A1CJO1YPJYemDPL/CNcf4HKCBXs+tLLFpaiHN9Jj4wN8DHc4YiF3QP9v2qxJuyk3XRuqNE9G2tLXXKBLy1+8V+E9zps414Im8zLl+51mfPoQ7omNfsrOod34KUMKQKqvHKwdHTESKaqcWUm4o9u9binowZivr4iXrkPV8c8LdA1jP4uORptbrdJ74e8sj/3yEsgnKM0fhgHEbHHSKiH2iT6PU6vLxuGbq7Razf/AYkKWAWk8k5XOf1i4DynuE5RAmbYA9uTpTR4tuv/V0SNB/jt83OCnkWVd7XcCRCgkoKeeDaREQvDpaQGSKD1151OorDIaX1HQ5BBceYZn2MBOENEALuG2Z4JObH3BccRyMlp1RhOMFqbGJa9p06nf4QAcofCmY4RYmzWi46GoaLPyIEZRKJidmjhQRhCUiQpFbfgcGernAJ/w+TBoeKz2s5igAAAABJRU5ErkJggg=="},5907:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"schedule-date"},[n("div",{staticStyle:{padding:"0"},style:{width:e.showCalendarLink?"35%":"50%"}},[e._t("title"),n("div",{staticClass:"choose-type"},[n("zoom-auth",{attrs:{"enable-zoom":e.enableZoom,disabled:e.mustZoom},on:{"update:enableZoom":function(t){e.enableZoom=t},"update:enable-zoom":function(t){e.enableZoom=t}}}),n("zoom-meeting",{directives:[{name:"show",rawName:"v-show",value:e.enableZoom,expression:"enableZoom"}],ref:"zoom",attrs:{password:!0,"waiting-room":!1},on:{update:e.updateZoom}})],1)],2),n("div",{staticClass:"select-date"},[n("div",{staticClass:"title"},[e._v("Schedule")]),e.showCalendarLink?e._e():n("div",{staticClass:"date-picker"},[n("a-range-picker",{attrs:{"default-value":e.initDate,"disabled-date":e.disabledDate,format:"YYYY-MM-DD HH:mm:ss","show-time":{format:"HH:mm"}},on:{change:e.handleDateChange}})],1),n("div",{staticStyle:{width:"100%"}},[e.showCalendarLink?n("session-calendar",{attrs:{editable:!1,addable:!1,forSelect:!0,defaultSelect:e.initDate,searchFilters:e.searchFilters,searchType:e.searchType},on:{"date-select":e.handleSelectSchedule}}):e._e()],1)])])},a=[],r=n("1da1"),s=n("2909"),o=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("a9e3"),n("8a30")),l=n("f93e"),c=n("c1df"),d=n.n(c),u=n("c2cf"),p=n("fe57"),h={name:"ScheduleDate",components:{ZoomAuth:p["a"],ZoomMeeting:u["a"],SessionCalendar:function(){return Promise.all([n.e("chunk-4a5f46a6"),n.e("chunk-036b6a1e"),n.e("chunk-7de7e5ae"),n.e("chunk-a7e2690c"),n.e("chunk-40d307be")]).then(n.bind(null,"2ae9"))}},mixins:[o["a"]],props:{defaultDate:{type:Array,default:null},showCalendarLink:{type:Boolean,default:!0},calendarSearchType:{type:[String,Number],default:l["d"].CLASS.value},calendarSearchFilters:{type:Array,default:function(){return[]}},mustZoom:{type:Boolean,default:!1},initZoom:{type:Object,default:null}},watch:{defaultDate:{handler:function(e){e&&(this.initDate=Object(s["a"])(e),this.handleDateChange(this.initDate))},immediate:!0},calendarSearchType:{handler:function(e){e&&(this.searchType=e)},immediate:!0},calendarSearchFilters:{handler:function(e){e&&(this.searchFilters=e)},immediate:!0},initZoom:{handler:function(e){e&&(this.enableZoom=e.enableZoom)},immediate:!0},enableZoom:function(){this.handleZoomStatusChange()}},data:function(){return{CALENDAR_QUERY_TYPE:l["d"],searchType:this.calendarSearchType,searchFilters:this.calendarSearchFilters,selectedSessionType:null,startDate:null,endDate:null,enableZoom:this.mustZoom,initDate:[d()(new Date),null]}},created:function(){this.$route.query.startDate&&this.$route.query.endDate&&(this.initDate=[d()(this.$route.query.startDate),d()(this.$route.query.endDate)],this.handleDateChange(this.initDate))},methods:{handleDateChange:function(e,t){this.$logger.info("handleDateChange",e,t),this.startDate=d()(e[0].toDate()).utc().format("YYYY-MM-DD HH:mm:ss"),this.endDate=d()(e[1].toDate()).utc().format("YYYY-MM-DD HH:mm:ss"),this.$logger.info("handleDateChange",this.startDate,this.endDate),this.$emit("select-date",{startDate:this.startDate,endDate:this.endDate})},handleSelectSchedule:function(e){if(!e)return this.startDate=null,this.endDate=null,void this.$emit("select-date",null);this.enableZoom&&!this.$store.getters.zoomChecked&&this.checkZoomAuth(),this.startDate=d()(e.startDate).utc().format("YYYY-MM-DD HH:mm:ss"),this.endDate=d()(e.endDate).utc().format("YYYY-MM-DD HH:mm:ss"),this.$logger.info("handleDateChange",this.startDate,this.endDate),this.$emit("select-date",{startDate:this.startDate,endDate:this.endDate})},handleZoomStatusChange:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$logger.info("handleZoomStatusChange",e.enableZoom),e.$emit("select-zoom-status",e.enableZoom);case 2:case"end":return t.stop()}}),t)})))()},disabledDate:function(e){return e&&e<d()().subtract(1,"days").endOf("day")||e&&this.startDate&&e>d()(this.startDate).add(1,"days").startOf("day")},updateZoom:function(e){this.$emit("update-zoom",{password:e.password,waitingRoom:e.waitingRoom})}}},f=h,v=(n("5ecd"),n("0c7c")),m=Object(v["a"])(f,i,a,!1,null,"00102834",null);t["a"]=m.exports},"5bb5":function(e,t,n){},"5d88":function(e,t,n){var i=n("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"31.442",height:"40",viewBox:"0 0 31.442 40"},children:[{tag:"g",attrsMap:{transform:"translate(-179.2 -99.38)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#ffd629;",d:"M311.741,121.054h-8.855a3.363,3.363,0,0,1-3.334-3.372l-2.351-14.93a3.363,3.363,0,0,1,3.334-3.372h13.558a3.363,3.363,0,0,1,3.334,3.372l-2.351,14.93A3.363,3.363,0,0,1,311.741,121.054Z",transform:"translate(-112.388)"}},{tag:"path",attrsMap:{class:"b",style:"fill:#ffca29;",d:"M309.8,99.48h-9.432A3.382,3.382,0,0,0,297,102.852l2.378,14.93a3.382,3.382,0,0,0,3.372,3.372S320.211,104.4,309.8,99.48Z",transform:"translate(-112.28 -0.095)"}},{tag:"path",attrsMap:{class:"c",style:"fill:#fff;opacity:0.3;",d:"M305.523,99.48h-5.151A3.382,3.382,0,0,0,297,102.852l1.493,9.318S310.432,104.916,305.523,99.48Z",transform:"translate(-112.256 -0.095)"}},{tag:"path",attrsMap:{class:"d",style:"fill:#6bc04a;",d:"M193.655,253.831l-12.8-7.107A2.924,2.924,0,0,1,179.4,244.2V229.982a2.924,2.924,0,0,1,1.459-2.528l12.8-7.107a2.916,2.916,0,0,1,2.923,0l12.8,7.107a2.924,2.924,0,0,1,1.459,2.528V244.2a2.924,2.924,0,0,1-1.459,2.528l-12.8,7.107A2.939,2.939,0,0,1,193.655,253.831Z",transform:"translate(-0.19 -114.84)"}},{tag:"path",attrsMap:{class:"e",style:"fill:#258101;opacity:0.2;",d:"M210.637,639.48v4.461a2.948,2.948,0,0,1-1.464,2.549l-12.8,7.168a2.9,2.9,0,0,1-2.923,0l-12.8-7.168a2.944,2.944,0,0,1-1.459-2.549v-4.257s1.01-.452,2.493,2.421c1.147,2.226,7.134,4.685,9.632,6.5a5.258,5.258,0,0,0,3.6,1.389,12.643,12.643,0,0,0,2.484-.576c2.233-.79,9.066-5.222,10.1-6.7C208.715,641,209.258,639.48,210.637,639.48Z",transform:"translate(0 -514.704)"}},{tag:"path",attrsMap:{class:"f",style:"opacity:0.2;fill:#f9f2d7;",d:"M234.729,224.149l-9.738-5.4a2.886,2.886,0,0,0-2.918,0L209.3,225.919s-.113,4.2,10.422,5.712,2.72.395,2.72.395S232.806,231.365,234.729,224.149Z",transform:"translate(-28.667 -113.316)"}},{tag:"path",attrsMap:{class:"g",style:"fill:#5db43b;",d:"M375.76,446.593l.9,1.817a1.593,1.593,0,0,0,1.2.87l2.007.29a1.592,1.592,0,0,1,.88,2.716l-1.451,1.417a1.585,1.585,0,0,0-.457,1.408l.342,2a1.594,1.594,0,0,1-2.312,1.679l-1.793-.942a1.594,1.594,0,0,0-1.479,0l-1.793.942a1.593,1.593,0,0,1-2.312-1.679l.342-2a1.581,1.581,0,0,0-.457-1.408l-1.451-1.417a1.592,1.592,0,0,1,.885-2.716l2.007-.29a1.593,1.593,0,0,0,1.2-.87l.9-1.817a1.583,1.583,0,0,1,2.844,0Z",transform:"translate(-179.405 -330.031)"}},{tag:"path",attrsMap:{class:"h",style:"fill:#fff;",d:"M389.277,459.237l1.17,2.369a.953.953,0,0,0,.723.523l2.611.38a.955.955,0,0,1,.528,1.631l-1.893,1.845a.965.965,0,0,0-.276.847l.447,2.6a.957.957,0,0,1-1.389,1.008l-2.34-1.227a.95.95,0,0,0-.889,0l-2.335,1.227a.957.957,0,0,1-1.389-1.008l.447-2.6a.952.952,0,0,0-.276-.847l-1.893-1.845a.958.958,0,0,1,.533-1.631l2.611-.38a.972.972,0,0,0,.723-.523l1.17-2.369A.959.959,0,0,1,389.277,459.237Z",transform:"translate(-193.493 -342.41)"}}]}]})}},"5ecd":function(e,t,n){"use strict";n("1f30")},"5fc3":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"share-button"},[n("div",{staticClass:"share-title"},[e._v("Share by QR code")]),n("a-spin",{attrs:{spinning:e.loading}},[n("div",{staticClass:"share-qrcode"},[n("img",{attrs:{src:e.qrCode,alt:"qrCode"}})])]),n("div",{staticClass:"share-divider"},[e._v("Or")]),n("div",{staticClass:"share-out"},[n("icon-font",{attrs:{type:"icon-Facebook"},on:{click:function(t){return e.share("fb")}}}),n("icon-font",{attrs:{type:"icon-Linkdin"},on:{click:function(t){return e.share("in")}}}),n("icon-font",{attrs:{type:"icon-Twitter"},on:{click:function(t){return e.share("twitter")}}}),n("icon-font",{attrs:{type:"icon-lianjie1"},on:{click:e.handleCopy}})],1)],1)},a=[],r=(n("99af"),n("9911"),n("d3b7"),n("44f5")),s={name:"ShareButton",props:{link:{type:String,required:!0},title:{type:String,default:"Share"}},data:function(){return{qrCode:"",loading:!1,shareLink:{fb:"https://www.facebook.com/share.php?title=".concat(this.title,"&u=").concat(encodeURIComponent(this.link)),in:"https://www.linkedin.com/shareArticle?mini=true&source=str&title=".concat(this.title,"&url=").concat(encodeURIComponent(this.link)),twitter:"https://twitter.com/intent/tweet?text=".concat(this.title,"&url=").concat(encodeURIComponent(this.link)),whatsapp:"https://api.whatsapp.com/send?text=".concat(encodeURIComponent(this.link))}}},created:function(){this.initQrcode()},methods:{initQrcode:function(){var e=this;this.link&&(this.loading=!0,Object(r["b"])({url:this.link}).then((function(t){var n=new FileReader;n.readAsDataURL(new Blob([t])),n.onload=function(){e.qrCode=n.result},n.onerror=function(){}})).finally((function(t){e.loading=!1})))},share:function(e){window.open(this.shareLink[e],"_blank")},handleCopy:function(){var e=this;this.$copyText(this.link).then((function(){e.$message.success("Copy successfully")})).catch((function(){e.$message.error("Copy failed")}))}}},o=s,l=(n("8190"),n("0c7c")),c=Object(l["a"])(o,i,a,!1,null,"35e10260",null);t["a"]=c.exports},"60f8":function(e,t,n){var i=n("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19"},children:[{tag:"g",attrsMap:{transform:"translate(-771.25 -365.25)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#808191;stroke:#808191;",d:"M9,0A9,9,0,1,1,0,9,9,9,0,0,1,9,0Z",transform:"translate(771.75 365.75)"}},{tag:"path",attrsMap:{class:"b",style:"fill:#fff;stroke:#fff;stroke-width:0.5px;",d:"M24.47,24.8V21.78h3.016a.5.5,0,0,0,0-1.005H24.47V17.759a.5.5,0,0,0-1.005,0v3.016H20.449a.5.5,0,0,0,0,1.005h3.016V24.8a.5.5,0,0,0,1.005.044q0-.022,0-.044Z",transform:"translate(756.784 353.451)"}}]}]})}},"626d":function(e,t,n){},"638c":function(e,t,n){"use strict";n("736b")},"65a0":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"price-slider"},[n("a-slider",{attrs:{marks:e.marks,"tip-formatter":e.tipFormatter,min:e.min,max:e.max,disabled:e.disabled},model:{value:e.currentVal,callback:function(t){e.currentVal=t},expression:"currentVal"}}),n("div",{ref:"sliderLabel",staticClass:"slider-label"},e._l(e.lines,(function(t,i){return n("div",{key:"line_"+i,class:{"slider-label-item":!0,current:t.isCurrent,origin:t.isOrigin},style:{left:t.left,width:t.width}},[t.isCurrent?n("a-tooltip",{attrs:{title:e.tipFormatter(t.label)}},[e._v(e._s(t.label))]):[e._v(e._s(t.label))]],2)})),0)],1)},a=[],r=n("2909"),s=n("5530"),o=(n("a9e3"),n("d81d"),n("159b"),n("99af"),n("f93e")),l=n("2f62"),c=n("944d"),d={name:"PriceSlider",props:{current:{type:[Number],default:0},origin:{type:[Number],default:null},priceList:{type:Array,default:function(){return[{value:1,price:10},{value:10,price:8},{value:50,price:5}]}}},watch:{current:{handler:function(e){this.currentVal=e},immediate:!0}},data:function(){return{datas:this.priceList.map((function(e){return{value:e.value||e.registeredNum,price:e.price}})),result:null,currentVal:this.current,min:0,disabled:!0}},computed:Object(s["a"])(Object(s["a"])({},Object(l["e"])({device:function(e){return e.app.device}})),{},{PREFIX:function(){return this.device===o["j"].DESKTOP?" person":" p"},PREFIXS:function(){return this.device===o["j"].DESKTOP?" people":" p"},max:function(){var e=this.datas.map((function(e){return e.value})),t=Math.max.apply(Math,Object(r["a"])(e));return Math.max.apply(Math,Object(r["a"])(e))+Math.floor(t/this.datas.length)||1},marks:function(){var e=this,t=this.datas.map((function(e){return e.value})).sort(),n={};return t.forEach((function(t,i){n[t]=t+(t>1?e.PREFIXS:e.PREFIX)})),n},lines:function(){var e=this.datas.map((function(e){return e.price})),t=this.datas.concat([{value:this.max}]);t=Object(c["a"])(t,"value");var n=[],i=!0;null!==this.origin&&n.push({width:"",left:0,isOrigin:!0,label:"$"+this.origin});for(var a=1;a<t.length;a++){var r=(t[a-1].value-this.min)/(this.max-this.min)*100+"%";n.push({width:"",left:r,label:"$"+e[a-1]})}if(this.currentVal&&this.currentVal>0&&i){var s=Math.min((this.currentVal-this.min)/(this.max-this.min)*100,100)+"%";n.push({left:"calc(".concat(s," - 0px)"),width:"auto",label:this.currentVal,isCurrent:!0})}return n}}),methods:{tipFormatter:function(e){var t=this.currentVal>1?this.PREFIXS:this.PREFIX;return"".concat(this.currentVal," ").concat(t," already registered")}}},u=d,p=(n("1c40"),n("0c7c")),h=Object(p["a"])(u,i,a,!1,null,"2aef589c",null);t["a"]=h.exports},"666c":function(e,t,n){"use strict";n("05c1")},"66d8":function(e,t,n){"use strict";n("a283")},6964:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"data-card-view"},[n("div",{staticClass:"card-cover",style:{backgroundImage:"url("+e.cover+")"}}),n("div",{class:{"card-info":!0,"active-item":e.activeFlag}},[n("div",{staticClass:"card-title"},[n("div",{staticClass:"type-icon"},[n("content-type-icon",{attrs:{type:e.contentType}})],1),n("div",{staticClass:"title-text"},[e._v(e._s(e.title))])]),n("div",{staticClass:"card-time"},[e._v(" "+e._s(e._f("dayjs")(e.updateTime))+" ")])])])},a=[],r=(n("a9e3"),n("8f46")),s={name:"DataCardView",components:{ContentTypeIcon:r["a"]},props:{cover:{type:String,default:null},title:{type:String,default:null},updateTime:{type:String,default:null},activeFlag:{type:Boolean,default:!1},contentType:{type:Number,required:!0}}},o=s,l=(n("7531"),n("0c7c")),c=Object(l["a"])(o,i,a,!1,null,"3706e6d5",null);t["a"]=c.exports},"6a3c":function(e,t,n){},"6b36":function(e,t,n){"use strict";n.r(t),n.d(t,"reviewsTaskAPIUrl",(function(){return a})),n.d(t,"ReviewsTaskSave",(function(){return r})),n.d(t,"ReviewsTaskList",(function(){return s})),n.d(t,"ReviewsTaskMyReview",(function(){return o})),n.d(t,"ReviewsTaskStats",(function(){return l})),n.d(t,"ReviewsTaskDelete",(function(){return c})),n.d(t,"ReviewsTaskMyReviewBySession",(function(){return d})),n.d(t,"getReviewsStatByContentId",(function(){return u}));var i=n("b775"),a={delete:"/classcipe/api/reviewsTask/delete",getMyReviews:"/classcipe/api/reviewsTask/library/getMyReviews",getMyReviewsSession:"/classcipe/api/reviewsTask/session/getMyReviews",getReviewsStat:"/classcipe/api/reviewsTask/library/getReviewsStat",list:"/classcipe/api/reviewsTask/list",save:"/classcipe/api/reviewsTask/save",getReviewsStatByContentId:"/classcipe/api/reviewsTask/getReviewsStatByContentId"};function r(e){return Object(i["d"])({url:a.save,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(e){return Object(i["d"])({url:a.list,method:"get",params:e})}function o(e){return Object(i["d"])({url:a.getMyReviews,method:"get",params:e})}function l(e){return Object(i["d"])({url:a.getReviewsStat,method:"get",params:e})}function c(e){return Object(i["d"])({url:a.delete+"?id="+e.id,method:"get",data:e})}function d(e){return Object(i["d"])({url:a.getMyReviewsSession,method:"get",params:e})}function u(e){return Object(i["d"])({url:a.getReviewsStatByContentId,method:"get",params:e})}},"6c27":function(e,t,n){},"6f26":function(e,t,n){"use strict";n("20b5")},"6f6b":function(e,t,n){var i=n("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"30.511",height:"24.408",viewBox:"0 0 30.511 24.408"},children:[{tag:"g",attrsMap:{id:"",transform:"translate(0)"},children:[{tag:"path",attrsMap:{id:"_403","data-name":" 403",style:" fill: #009b77;",class:"cls-1",d:"M269,4.247H258.243L255.515.491A1.276,1.276,0,0,0,254.606,0h-7.579c-.909,0-1.515.98-1.212,2.287l2.728,17.153a1.474,1.474,0,0,0,1.364,1.307h16.671a1.5,1.5,0,0,0,1.364-1.306l2.122-13.071c.3-1.144-.3-2.124-1.062-2.124Z",transform:"translate(-239.879 0)"}},{tag:"path",attrsMap:{id:"_404","data-name":" 404",style:" fill: #fff;",class:"cls-2",d:"M358.4,286.427V275.456h18.306v10.971Z",transform:"translate(-349.86 -268.89)"}},{tag:"path",attrsMap:{id:"_405","data-name":" 405",style:" fill: #15c39a;",class:"cls-3",d:"M28.931,229.548H15.519l-3.587-3.776a1.643,1.643,0,0,0-1.091-.492H1.484a1.54,1.54,0,0,0-1.4,2.133L4.6,243.169a1.752,1.752,0,0,0,1.715,1.15h18.9a1.754,1.754,0,0,0,1.716-1.148l3.56-11.982a1.511,1.511,0,0,0-1.56-1.64Z",transform:"translate(0 -219.911)"}}]}]})}},"70fe":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",staticClass:"content-preview-detail",attrs:{id:e.contentId+"box"}},[e.showTopFixedHeader&&e.content&&e.displayFixedHeader?n("div",{staticClass:"top-fixed-header"},[n("div",{staticClass:"header-left"},[n("div",{staticClass:"back vertical-left",on:{click:e.handleClose}},[n("a-icon",{attrs:{type:"left"}}),n("div",{staticClass:"back-text"},[e._v(" Back ")])],1),n("a-space",{staticClass:"name"},[e._v(" "+e._s(e.content.name||"Untitled")+" "),e.liveWorkShopCode&&e.liveWorkShopSession&&e.liveWorkShopSession.sessionStartTime?n("label",{attrs:{for:""}},[e._v(" "+e._s(e._f("dayjs")(e.liveWorkShopSession.sessionStartTime,"YYYY-MM-DD HH:mm"))+" - "+e._s(e._f("dayjs")(e.liveWorkShopSession.sessionEndTime,"YYYY-MM-DD HH:mm"))+" ")]):e._e()])],1),n("div",{staticClass:"header-right"},[n("div",{staticClass:"buy-button vertical-right"},[n("a-space",[e.liveWorkShopCode?n("a-space",[e.liveWorkShopSession&&e.WORK_SHOPS_TYPE.REGISTERED.value===e.liveWorkShopSession.workshopsType&&e.isReadyStart24(e.liveWorkShopSession)&&e.WORK_SHOPS_STATUS.ENDED.value!==e.liveWorkShopSession.workshopsStatus?n("a-button",{staticClass:"buy-now",attrs:{type:"danger",shape:"round",loading:e.buyLoading},on:{click:e.handleCancelSession}},[e._v(" Cancel ")]):e._e(),!e.liveWorkShopSession||e.WORK_SHOPS_TYPE.REGISTERED.value!==e.liveWorkShopSession.workshopsType||e.isReadyStart24(e.liveWorkShopSession)&&e.WORK_SHOPS_STATUS.ENDED.value!==e.liveWorkShopSession.workshopsStatus?e._e():n("div",{staticClass:"label-action"},[e._v(" Registered ")]),e.liveWorkShopSession&&e.WORK_SHOPS_TYPE.FEATURE.value===e.liveWorkShopSession.workshopsType&&e.liveWorkShopSession.session&&(!e.filterDeadline||e.moment.utc(e.filterDeadline).local().isAfter(e.moment()))?n("a-button",{attrs:{shape:"round",type:"primary",loading:e.buyLoading},on:{click:e.handleRegisterSession}},[e._v(" Register ")]):e._e(),n("a-tooltip",{attrs:{title:"Expired"}},[e.liveWorkShopSession&&e.WORK_SHOPS_TYPE.FEATURE.value===e.liveWorkShopSession.workshopsType&&e.liveWorkShopSession.session&&e.filterDeadline&&e.moment.utc(e.filterDeadline).local().isBefore(e.moment())?n("a-button",{attrs:{shape:"round",type:"primary",disabled:!0,loading:e.buyLoading}},[e._v(" Register ")]):e._e()],1)],1):n("a-space",[e.content.createBy!==e.$store.getters.userInfo.email&&e.showBuyButton&&!e.content.buyed?n("a-button",{staticClass:"buy-now",attrs:{type:"danger",shape:"round",loading:e.buyLoading},on:{click:e.handleBuyItem}},[e._v(" Buy now ")]):e._e(),e.content.createBy!==e.$store.getters.userInfo.email&&e.showBuyButton&&e.content.buyed&&-1!=e.content.myContentId?n("a-button",{staticClass:"cc-dark-button",attrs:{shape:"round"},on:{click:e.handleEditBuy}},[e._v(" Edit ")]):e._e(),n("a-tooltip",{attrs:{title:"You have already purchased this content, please copy it directly",placement:"top"}},[e.showBuyButton&&e.content.createBy!==e.$store.getters.userInfo.email&&e.content.buyed&&-1==e.content.myContentId?n("a-button",{attrs:{shape:"round",type:"primary",loading:e.copyLoading,icon:"copy"},on:{click:e.handleDuplicateItem}},[e._v(" Copy ")]):e._e()],1)],1)],1)],1),n("div",{staticClass:"more-action vertical-right"},[n("a-tooltip",{attrs:{trigger:"click",getPopupContainer:function(e){return e.parentElement},placement:"bottomRight"}},[n("template",{slot:"title"},[n("div",{staticClass:"detail-share"},[e.content?n("share-button",{attrs:{link:e.wrapperLink(e.content),title:e.content.name}}):e._e()],1)]),n("icon-font",{staticClass:"detail-font",attrs:{type:"icon-share"}})],2)],1)])]):e._e(),n("div",{staticClass:"preview-carousel-wrapper"},[e.carouselContentLoading?e._e():n("preview-carousel",{attrs:{"filter-page-object-list":e.filterThumbnailList,"filter-video-list":e.filterVideoList,"page-object-list":e.thumbnailList,"video-list":e.videoList}}),e.carouselContentLoading?n("a-skeleton"):e._e()],1),e.content?n("div",{staticClass:"preview-main-content"},[n("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between"}},[n("a-space",{staticClass:"content-info-item"},[n("div",{staticClass:"cc-ellipsis cc-info-left",attrs:{span:"24"}},[n("h3",[e._v(e._s(e.content.name||"Untitled"))])]),n("div",{staticClass:"more-action",staticStyle:{"margin-bottom":"8px"}},[n("a-tooltip",{attrs:{trigger:"click",getPopupContainer:function(e){return e.parentElement},placement:"bottomRight"}},[n("template",{slot:"title"},[n("div",{staticClass:"detail-share"},[e.content?n("share-button",{attrs:{link:e.wrapperLink(e.content),title:e.content.name}}):e._e()],1)]),n("icon-font",{staticClass:"detail-font",attrs:{type:"icon-share"}})],2)],1)]),n("a-space",{attrs:{direction:"vertical"}},[e.liveWorkShopCode&&e.liveWorkShopSession&&e.liveWorkShopSession.sessionStartTime?n("label",{attrs:{for:""}},[n("span",{staticStyle:{display:"inline-block",width:"150px"}},[e._v("Scheduled:")]),e._v(" "+e._s(e._f("dayjs")(e.liveWorkShopSession.sessionStartTime,"YYYY-MM-DD HH:mm"))+" - "+e._s(e._f("dayjs")(e.liveWorkShopSession.sessionEndTime,"YYYY-MM-DD HH:mm"))+" ")]):e._e(),e.liveWorkShopCode&&e.liveWorkShopSession&&e.liveWorkShopSession.session.register&&e.liveWorkShopSession.session.register.registerBefore&&e.WORK_SHOPS_TYPE.FEATURE.value===e.liveWorkShopSession.workshopsType?n("label",{attrs:{for:""}},[n("span",{staticStyle:{display:"inline-block",width:"150px"}},[e._v("Registration Deadline:")]),e._v(" "+e._s(e._f("countDown")(e.filterDeadline))+" ")]):e._e()])],1),n("a-row",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.visibilityChanged,expression:"visibilityChanged"}],staticClass:"content-info-item"},[n("a-col",{staticClass:"cc-ellipsis cc-info-left",attrs:{lg:{span:12},xs:{span:24}}},[n("div",{staticClass:"author-info"},[n("div",{staticClass:"author-avatar"},[n("a-tooltip",{attrs:{title:e.showAvatarTips?"0"===e.session.schoolId?"Personal":e.session.schoolName:""}},[e.isSchoolResource?n("a-avatar",{attrs:{size:"large",src:e.currentSchool.logo}}):e.content.owner.avatar?n("a-avatar",{attrs:{size:"large",src:e.content.owner.avatar}}):n("a-avatar",{staticStyle:{"background-color":"#517f3f"},attrs:{size:"large"}},[e._v(e._s((e.content.owner?e.content.owner.firstname+" "+e.content.owner.lastname:e.content.createBy).toUpperCase()[0]))])],1)],1),n("div",{staticClass:"author-info-detail"},[e.isSchoolResource?n("div",{staticClass:"author-name"},[e._v(e._s(e.currentSchool.schoolName))]):n("div",{staticClass:"author-name"},[e._v(" "+e._s(e._f("upCaseFirst")(e.content.owner?e.content.owner.firstname+" "+e.content.owner.lastname:e.content.createBy))+" ")]),n("div",{staticClass:"rate-star"},[n("review-stat",{attrs:{contentId:e.contentId},on:{goReviews:e.goReviews}}),n("div",{staticClass:"star-info"},[n("a-space",{attrs:{size:15}},[n("div",{staticClass:"start-it",on:{click:e.handleFavorite}},[n("div",{staticClass:"favorite"},[e.favoriteFlag?n("a-icon",{style:{color:"#fb0"},attrs:{type:"heart",theme:"filled"}}):e._e(),e.favoriteFlag?e._e():n("a-icon",{attrs:{type:"heart"}})],1),n("div",{staticClass:"favorite-num"},[e._v(" "+e._s(e.stat&&e.stat.saved||0)+" ")])]),n("div",{staticClass:"sales"},[e._v(" Sales "+e._s(e.stat&&e.stat.sold||0)+" ")])])],1)],1)])])]),n("a-col",{staticClass:"cc-info-right",attrs:{lg:{span:12},xs:{span:24}}},[e.liveWorkShopCode?n("div",{staticClass:"live-price-info"},[e.showPriceInfo&&e.liveWorkShopSession&&e.liveWorkShopSession.priceList&&e.liveWorkShopSession.priceList.length>0?n("div",{staticClass:"share-live-price"},[e.liveWorkShopSession?n("price-slider",{attrs:{priceList:e.liveWorkShopSession.priceList,current:e.liveWorkShopSession.registeredNum,origin:e.liveWorkShopSession.price}}):e._e()],1):n("div"),e.liveWorkShopSession&&e.WORK_SHOPS_TYPE.LUNCHEDBYME.value!==e.liveWorkShopSession.workshopsType?n("div",{staticClass:"buy-button"},[n("a-space",[e.liveWorkShopSession&&e.WORK_SHOPS_TYPE.REGISTERED.value===e.liveWorkShopSession.workshopsType&&e.isReadyStart24(e.liveWorkShopSession)&&e.WORK_SHOPS_STATUS.ENDED.value!==e.liveWorkShopSession.workshopsStatus?n("a-button",{staticClass:"buy-now",attrs:{type:"danger",shape:"round",loading:e.buyLoading},on:{click:e.handleCancelSession}},[e._v(" Cancel ")]):e._e(),!e.liveWorkShopSession||e.WORK_SHOPS_TYPE.REGISTERED.value!==e.liveWorkShopSession.workshopsType||e.isReadyStart24(e.liveWorkShopSession)&&e.WORK_SHOPS_STATUS.ENDED.value!==e.liveWorkShopSession.workshopsStatus?e._e():n("div",{staticClass:"label-action"},[e._v(" Registered ")]),e.liveWorkShopSession&&e.WORK_SHOPS_TYPE.FEATURE.value===e.liveWorkShopSession.workshopsType&&e.liveWorkShopSession.session&&(!e.filterDeadline||e.moment.utc(e.filterDeadline).local().isAfter(e.moment()))?n("a-button",{attrs:{shape:"round",type:"primary",loading:e.buyLoading},on:{click:e.handleRegisterSession}},[e._v(" Register ")]):e._e(),n("a-tooltip",{attrs:{title:"Expired"}},[e.liveWorkShopSession&&e.WORK_SHOPS_TYPE.FEATURE.value===e.liveWorkShopSession.workshopsType&&e.liveWorkShopSession.session&&e.filterDeadline&&e.moment.utc(e.filterDeadline).local().isBefore(e.moment())?n("a-button",{attrs:{shape:"round",type:"primary",disabled:!0,loading:e.buyLoading}},[e._v(" Register ")]):e._e()],1)],1)],1):e._e()]):n("div",{staticClass:"col-info"},[n("div",{staticClass:"price-info"},[n("a-space",{directives:[{name:"show",rawName:"v-show",value:e.showPriceInfo&&(!e.schoolResource||!(e.content.buyed&&-1==e.content.myContentId)),expression:"showPriceInfo && (!schoolResource || !(content.buyed && content.myContentId == -1))"}],attrs:{size:5}},[n("div",{staticClass:"discount-price"},[e._v(" $"+e._s(e.content.discountPrice||e.content.price||0)+" ")]),e.content.discountPrice>0&&e.content.discountPrice!==e.content.price?n("div",{staticClass:"price_was"},[e._v("$"+e._s(e.content.price))]):e._e()])],1),n("div",{staticClass:"buy-button"},[n("a-space",[e.content.createBy!==e.$store.getters.userInfo.email&&e.showBuyButton&&!e.content.buyed?n("a-button",{staticClass:"buy-now",attrs:{type:"danger",shape:"round",loading:e.buyLoading},on:{click:e.handleBuyItem}},[e._v(" Buy now ")]):e._e(),e.content.createBy!==e.$store.getters.userInfo.email&&e.showEditButton&&e.content.buyed&&-1!=e.content.myContentId?n("a-button",{staticClass:"cc-dark-button",attrs:{shape:"round"},on:{click:e.handleEditBuy}},[e._v(" Edit ")]):e._e(),e.showCopyButton&&e.content.createBy!==e.$store.getters.userInfo.email&&e.content.buyed&&-1==e.content.myContentId?n("a-button",{attrs:{shape:"round",type:"primary",loading:e.copyLoading,icon:"copy"},on:{click:e.handleDuplicateItem}},[e._v(" Copy ")]):e._e()],1)],1)])])],1),n("div",{staticClass:"split-line"}),!e.liveWorkShopCode&&e.content.createBy===e.$store.getters.userInfo.email&&e.showEditButton?n("div",{staticClass:"edit-content"},[n("a-button",{staticClass:"cc-dark-button",staticStyle:{width:"90px"},attrs:{shape:"round"},on:{click:e.handleEdit}},[e._v("Edit")])],1):e._e(),e.content.customTags&&e.content.customTags.length?[n("div",{staticClass:"content-block"},[n("div",{staticClass:"content-title"},[e._v(" Tags ")]),n("div",{staticClass:"content-detail"},[n("div",{staticClass:"preview-tag-list"},e._l(e.content.customTags,(function(t,i){return n("div",{key:i,staticClass:"skt-tag-item"},[n("a-tag",{staticClass:"tag-item cc-custom-tag-item"},[e._v(e._s(t.name||t.category))])],1)})),0)])])]:e._e(),e.content.name&&e.content.name.trim()&&e.contentType!==e.typeMap.pd?[n("div",{staticClass:"content-block"},[n("div",{staticClass:"content-title",style:{color:e.labelColor.name}},[e.content.type===e.typeMap.task?[e._v("Title")]:e._e(),e.content.type!==e.typeMap.task?[e._v("Name")]:e._e()],2),n("div",{staticClass:"content-detail"},[e._v(" "+e._s(e.content.name)+" ")])])]:e._e(),e.content.hasOwnProperty("videoList")&&e.contentType===e.typeMap.video?[n("div",{staticClass:"content-block"},[n("div",{staticClass:"content-title"},[e._v(" Purpose of video ")]),n("div",{staticClass:"content-detail"},[0===e.content.contentType?[e._v("Student self-learning")]:e._e(),1===e.content.contentType?[e._v("Teacher PD")]:e._e()],2)])]:e._e(),e.content.goals&&e.contentType===e.typeMap.pd?[n("div",{staticClass:"content-block"},[n("div",{staticClass:"content-title"},[e._v(" PD goals ")]),n("div",{staticClass:"content-detail"},[e._v(" "+e._s(e.content.goals)+" ")])])]:e._e(),e.content.video&&e.contentType!==e.typeMap.video?[n("div",{staticClass:"content-block"},[n("div",{staticClass:"content-title"},[e._v(" Video ")]),n("div",{staticClass:"content-detail video-detail"},[n("video",{staticClass:"video-item",attrs:{src:e.content.video,autoplay:"",controls:""}})])])]:e._e(),e.content.overview&&e.content.overview.trim()?[n("div",{staticClass:"content-block"},[n("div",{staticClass:"content-title",style:{color:e.labelColor.overview}},[e.content.type===e.typeMap.task?[e._v("Task Detail")]:e._e(),e.content.type!==e.typeMap.task?[e._v("Overview")]:e._e()],2),n("div",{staticClass:"content-detail"},[e._v(" "+e._s(e.content.overview)+" ")])])]:e._e(),e.content.inquiry&&e.content.inquiry.trim()?[n("div",{staticClass:"content-block"},[n("div",{staticClass:"content-title",style:{color:e.labelColor.bigIdea}},[e._v(" Big Idea/ Statement of Inquiry/ Central Idea ")]),n("div",{staticClass:"content-detail"},[e._v(" "+e._s(e.content.inquiry)+" ")])])]:e._e(),e.content.questions&&e.content.questions.length?[n("div",{staticClass:"content-block"},[n("div",{staticClass:"content-title",style:{color:e.labelColor.keyQuestion}},[e._v(" Key question(s) / Line(s) of inquiry ")]),n("div",{staticClass:"content-detail"},e._l(e.content.questions,(function(t,i){return n("div",{key:i,staticClass:"content-detail-item"},[e._v(" "+e._s(t.name)+" ")])})),0)])]:e._e(),e.content.subjectList&&e.content.subjectList.length?[n("div",{staticClass:"content-block"},[n("div",{staticClass:"content-title"},[e._v(" Subject ")]),n("div",{staticClass:"content-detail"},[n("div",{staticClass:"subject-list vertical-left"},e._l(e.content.subjectList,(function(t){return n("div",{key:t,staticClass:"subject-item"},[e._v(" "+e._s(t)+" ")])})),0)])])]:e._e(),e.content.yearList||e.content.unitType||e.content.projectBased?n("a-row",{staticClass:"line-data"},[e.content.yearList.length?n("div",{staticClass:"content-block"},[n("div",{staticClass:"content-title"},[e._v(" Grade Level : ")]),n("div",{staticClass:"content-detail"},[n("div",{staticClass:"subject-list vertical-left"},[e.content.yearList?[e._v(" "+e._s(e.content.yearList.join(", "))+" ")]:e._e()],2)])]):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.content.unitType,expression:"content.unitType !== undefined"}],staticClass:"content-block"},[n("div",{staticClass:"content-title"},[e._v(" Unit type : ")]),n("div",{staticClass:"content-detail"},[n("div",{staticClass:"subject-list vertical-left"},[0===e.content.unitType?[e._v("Single-subject Unit")]:e._e(),1===e.content.unitType?[e._v("Integrated Unit")]:e._e()],2)])]),n("div",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.content.projectBased,expression:"content.projectBased !== undefined"}],staticClass:"content-block"},[n("div",{staticClass:"content-title"},[e._v(" Project-based Unit : ")]),n("div",{staticClass:"content-detail"},[n("div",{staticClass:"subject-list vertical-left"},[0===e.content.projectBased?[e._v("No")]:e._e(),1===e.content.projectBased?[e._v("Yes")]:e._e()],2)])])]):e._e(),n("div",{staticClass:"line-split"}),e.content.learnOuts&&e.content.learnOuts.length?[n("div",{staticClass:"content-block"},[n("div",{staticClass:"content-title"},[e._v(" Learning Objectives ")]),n("div",{staticClass:"content-detail"},e._l(e.content.learnOuts,(function(t,i){return n("div",{key:i,staticClass:"content-detail-item"},[n("div",{staticClass:"desc-item"},[e._v(" "+e._s(t.desc)+" ")]),n("div",{staticClass:"more-tag vertical-left"},[n("div",{staticClass:"item-bloom-wrapper"},[n("div",{staticClass:"bloom-wrapper"},[n("label",[e._v("Bloom's Taxonomy:")]),n("rate-level",{attrs:{bloom:t.bloomTag||""}})],1),n("div",{staticClass:"bloom-wrapper"},[n("label",[e._v("Knowledge Dimensions:")]),n("rate-level",{attrs:{knowledge:t.knowledgeDimension||""}})],1)])]),n("div",{staticClass:"more-tag"},[t.commandTerms&&t.commandTerms.length>0?n("div",{staticClass:"item-command-wrapper"},[n("label",[e._v("Command Term:")]),n("div",{staticClass:"wrapper-list"},e._l(t.commandTerms,(function(t){return n("div",{key:t.name,staticClass:"wrapper-list-item"},[n("a-tag",{staticClass:"command-tag"},[n("div",{staticClass:"tag-content"},[e._v(e._s(t.name))])])],1)})),0)]):e._e(),t.knowledgeTags&&t.knowledgeTags.length>0?n("div",{staticClass:"item-command-wrapper"},[n("label",[e._v("Knowledge tag:")]),n("div",{staticClass:"wrapper-list"},e._l(t.knowledgeTags,(function(t){return n("div",{key:t.name,staticClass:"wrapper-list-item"},[n("a-tag",{staticClass:"command-tag knowledge"},[n("div",{staticClass:"tag-content"},[e._v(e._s(t.name))])])],1)})),0)]):e._e()])])})),0)])]:e._e(),n("div",{staticClass:"line-split"}),e.showSubtask&&e.content.subTasks&&e.content.subTasks.length?n("div",{staticClass:"card-list-wrapper"},[n("div",{staticClass:"card-list-title"},[n("div",{staticClass:"sub-task-title"},[e._v(" Sub tasks ("+e._s(e.content.subTasks.length)+") ")]),!e.showEnterButton||e.isLibrary||e.schoolResource?e._e():n("div",{staticClass:"go-to-list"},[n("custom-link-text",{directives:[{name:"show",rawName:"v-show",value:e.content.createBy===e.$store.getters.email,expression:"content.createBy === $store.getters.email"}],attrs:{text:"Enter"},on:{click:e.goToSubTaskList}})],1)]),n("div",{staticClass:"scroll-left",on:{click:function(t){return e.scrollLeft("subTask")}}},[n("a-icon",{style:{fontSize:"22px",color:"#dddddd"},attrs:{type:"left-circle"}})],1),n("div",{staticClass:"scroll-right",on:{click:function(t){return e.scrollRight("subTask")}}},[n("a-icon",{style:{fontSize:"22px",color:"#dddddd"},attrs:{type:"right-circle"}})],1),n("div",{staticClass:"card-list",attrs:{id:"subTask"}},e._l(e.content.subTasks,(function(t,i){return n("div",{key:i,staticClass:"card-item",on:{click:function(n){return e.handlePreviewItem(t)}}},[n("card-list-item",{attrs:{content:t,width:16,"inner-desc":!1,"outer-desc":!0}})],1)})),0)]):e._e(),e.showRelated&&e.associateList.length?n("div",{staticClass:"card-list-wrapper"},[n("div",{staticClass:"card-list-title"},[n("div",{staticClass:"sub-task-title"},[e.associateList[0].type===e.typeMap["unit-plan"]?[e._v("Related Unit")]:e._e(),e.associateList[0].type===e.typeMap.task?[e._v("Related Task")]:e._e(),e._v(" ("+e._s(e.associateList.length)+") ")],2),!e.showEnterButton||e.isLibrary||e.schoolResource?e._e():n("div",{staticClass:"go-to-list"},[n("custom-link-text",{directives:[{name:"show",rawName:"v-show",value:e.content.createBy===e.$store.getters.email,expression:"content.createBy === $store.getters.email"}],attrs:{text:"Enter"},on:{click:e.goTLinkList}})],1)]),n("div",{staticClass:"scroll-left",on:{click:function(t){return e.scrollLeft("taskUnit")}}},[n("a-icon",{style:{fontSize:"22px",color:"#dddddd"},attrs:{type:"left-circle"}})],1),n("div",{staticClass:"scroll-right",on:{click:function(t){return e.scrollRight("taskUnit")}}},[n("a-icon",{style:{fontSize:"22px",color:"#dddddd"},attrs:{type:"right-circle"}})],1),n("div",{staticClass:"card-list",attrs:{id:"taskUnit"}},e._l(e.associateList,(function(t,i){return n("div",{key:i,staticClass:"card-item",on:{click:function(n){return e.handlePreviewItem(t)}}},[n("card-list-item",{attrs:{content:t,width:16,"inner-desc":!1,"outer-desc":!0}})],1)})),0)]):e._e(),e.showRelated&&e.associateVideoList.length?n("div",{staticClass:"card-list-wrapper"},[n("div",{staticClass:"card-list-title"},[n("div",{staticClass:"sub-task-title"},[e._v(" Video ("+e._s(e.associateVideoList.length)+") ")]),n("div",{staticClass:"go-to-list"})]),n("div",{staticClass:"scroll-left",on:{click:function(t){return e.scrollLeft("taskUnit")}}},[n("a-icon",{style:{fontSize:"22px",color:"#dddddd"},attrs:{type:"left-circle"}})],1),n("div",{staticClass:"scroll-right",on:{click:function(t){return e.scrollRight("taskUnit")}}},[n("a-icon",{style:{fontSize:"22px",color:"#dddddd"},attrs:{type:"right-circle"}})],1),n("div",{staticClass:"card-list",attrs:{id:"video"}},e._l(e.associateVideoList,(function(t,i){return n("div",{key:i,staticClass:"card-item",on:{click:function(n){return e.handlePreviewItem(t)}}},[n("card-list-item",{attrs:{content:t,width:16,"inner-desc":!1,"outer-desc":!0}})],1)})),0)]):e._e(),e.showRecommend&&e.associateRecommendList.length?n("div",{staticClass:"card-list-wrapper"},[e._m(0),n("div",{staticClass:"scroll-left",on:{click:function(t){return e.scrollLeft("associateRecommendList")}}},[n("a-icon",{style:{fontSize:"22px",color:"#dddddd"},attrs:{type:"left-circle"}})],1),n("div",{staticClass:"scroll-right",on:{click:function(t){return e.scrollRight("associateRecommendList")}}},[n("a-icon",{style:{fontSize:"22px",color:"#dddddd"},attrs:{type:"right-circle"}})],1),n("div",{staticClass:"card-list",attrs:{id:"associateRecommendList"}},e._l(e.associateRecommendList,(function(t,i){return n("div",{key:i,staticClass:"card-item",on:{click:function(n){return e.handlePreviewItem(t)}}},[n("card-list-item",{attrs:{content:t,width:16,"inner-desc":!1,"outer-desc":!0}})],1)})),0)]):e._e()],2):e._e(),n("div",{staticClass:"preview-extra-data"}),n("div",{staticClass:"preview-review",attrs:{id:"reviews"}},[n("a-row",{staticClass:"reviews-info"},["student"===e.currentRole?n("a-col",{staticClass:"slide-reviews",attrs:{span:"24"}},[n("rate-by-percent",{attrs:{rates:e.reviewsStats}}),n("reviews-preview",{attrs:{id:e.contentId,role:"student",needSearch:!1,list:e.ReviewsTask.ReviewsTaskList,save:e.ReviewsTask.ReviewsTaskSave,del:e.ReviewsTask.ReviewsTaskDelete,myReview:e.ReviewsTask.ReviewsTaskMyReview}})],1):n("a-col",{staticClass:"slide-reviews",attrs:{span:"24"}},[n("reviews-preview",{attrs:{id:e.contentId,role:"teacher",needSearch:!1,list:e.ReviewsTeacher.ReviewsTeacherList,save:e.ReviewsTeacher.ReviewsTeacherSave,del:e.ReviewsTeacher.ReviewsTeacherDelete,myReview:e.ReviewsTeacher.ReviewsTeacherMyReview,canEdit:e.reviewEdit,canCreate:e.reviewCreate&&!!(e.content&&e.content.createBy!==e.$store.getters.userInfo.email&&e.showBuyButton&&e.showCopyButton),canList:e.reviewList},on:{update:e.loadReviewStats}})],1)],1)],1),n("div",{staticClass:"preview-recommend"}),e.previewVisible?n("content-preview",{attrs:{"content-id":e.previewCurrentId,"content-type":e.previewType,"allow-preview-sub-content":!1,"review-edit":e.reviewEdit,"review-create":e.reviewCreate,"review-list":e.reviewList,"is-library":e.isLibrary,"school-resource":e.schoolResource},on:{close:e.handlePreviewClose}}):e._e(),n("a-modal",{attrs:{title:null,closable:!1,"append-to-body":!0,"destroy-on-close":!1,width:"500px"},on:{ok:e.handleEnsureBuyStat,cancel:e.handleCancelBuyStat},model:{value:e.contentBuyStatVisible,callback:function(t){e.contentBuyStatVisible=t},expression:"contentBuyStatVisible"}},[n("modal-header",{attrs:{title:"Which age(s) will you use this resource with?"},on:{close:e.handleCancelBuyStat}}),n("div",{staticClass:"grade-list"},[n("div",{staticClass:"content-tag-list"},e._l(e.allAges,(function(t){return n("div",{key:t.value,staticClass:"content-tag",class:{"selected-tag":-1!==e.selectedGradeList.indexOf(t.value)},on:{click:function(n){return e.toggleSelectContentTag(t.value)}}},[e._v(" "+e._s(t.name)+" ")])})),0)])],1),n("a-back-top",{attrs:{target:e.topTarget,visibilityHeight:100}})],1)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card-list-title"},[n("div",{staticClass:"sub-task-title"},[e._v(" Recommend ")])])}],r=n("1da1"),s=n("2909"),o=n("5530"),l=(n("96cf"),n("a9e3"),n("d81d"),n("a630"),n("3ca3"),n("d3b7"),n("6062"),n("ddb0"),n("4de4"),n("99af"),n("fb6a"),n("caad"),n("2532"),n("159b"),n("b0c0"),n("a434"),n("d350")),c=n("de0d"),d=n("980a"),u=n("b199"),p=n("093a"),h=n("c621"),f=n("9afb"),v=n("2f62"),m=n("823b"),g=n("ca00"),y=n("d33b"),b=n("1b72"),w=n("95c6"),C=n("4362e"),S=n("2f59"),k=n("68f0"),_=n.n(k),T=n("d980"),x=n("dd6e"),D=n("abb8"),E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-popover",{attrs:{placement:"bottom"}},[n("template",{slot:"content"},[n("div",{staticClass:"review-stat"},[n("div",{staticClass:"review-stat-content"},[n("div",{staticClass:"review-stat-overall"},[n("div",{staticClass:"content-title"},[e._v(" Ratings ")]),e._l(e.reviews,(function(t,i){return n("a-space",{key:"percent_"+i,staticClass:"detail-bar",attrs:{align:"center"}},[n("span",[e._v(e._s(t.reviewsScore)+" star(s)")]),n("a-progress",{style:{width:e.progressWidth},attrs:{strokeLinecap:"square",strokeColor:"#FFBB00",percent:t.reviewsScoreRate,showInfo:!1}}),n("span",[e._v(e._s(e._f("NumberFormat")(t.reviewsScoreCount)))])],1)}))],2),n("div",{staticClass:"review-stat-chart"},[n("div",{staticClass:"content-title"},[e._v(" Ages used with ")]),n("e-bar",{attrs:{datas:e.charts}})],1)]),n("div",{staticClass:"review-divider"}),n("div",{staticClass:"review-stat-opt"},[n("a-button",{attrs:{type:"link"},on:{click:e.goAll}},[e._v("See all reviews")])],1)])]),n("a-rate",{attrs:{value:e.reviewsStats.overall,"allow-half":"",disabled:""}})],2)},O=[],I=n("3835"),M=(n("07ac"),n("c2e5")),L=n("23f6"),R=n("6b36"),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chartGraph",style:{height:e.height}},[n("v-chart",{ref:"chart",attrs:{option:e.options,autoresize:!0}})],1)},j=[],P=n("22b4"),N=n("f95e"),B=n("6d8b"),H=n("9d57"),F=n("fdde"),V=n("7fae"),U=n("4f85"),z=n("1830"),Y=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(V["a"])(t,e),t.prototype.getInitialData=function(e,t){return Object(z["a"])(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e){var t=this.coordinateSystem;if(t&&t.clampData){var n=t.dataToPoint(t.clampData(e)),i=this.getData(),a=i.getLayout("offset"),r=i.getLayout("size"),s=t.getBaseAxis().isHorizontal()?0:1;return n[s]+=a+r/2,n}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(U["a"]);U["a"].registerClass(Y);var W=Y,G=n("8918"),q=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(V["a"])(t,e),t.prototype.getInitialData=function(){return Object(z["a"])(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},t.prototype.brushSelector=function(e,t,n){return n.rect(t.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Object(G["d"])(W.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(W),$=q,Z=n("cbe5"),K=n("2dc5"),Q=n("2306"),X=n("deab"),J=n("c7a2"),ee=n("4aa2"),te=n("861c"),ne=n("7d6c"),ie=n("7837"),ae=n("88b3"),re=n("b0af"),se=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}return e}(),oe=function(e){function t(t){var n=e.call(this,t)||this;return n.type="sausage",n}return Object(V["a"])(t,e),t.prototype.getDefaultShape=function(){return new se},t.prototype.buildPath=function(e,t){var n=t.cx,i=t.cy,a=Math.max(t.r0||0,0),r=Math.max(t.r,0),s=.5*(r-a),o=a+s,l=t.startAngle,c=t.endAngle,d=t.clockwise,u=2*Math.PI,p=d?c-l<u:l-c<u;p||(l=c-(d?u:-u));var h=Math.cos(l),f=Math.sin(l),v=Math.cos(c),m=Math.sin(c);p?(e.moveTo(h*a+n,f*a+i),e.arc(h*o+n,f*o+i,s,-Math.PI+l,l,!d)):e.moveTo(h*r+n,f*r+i),e.arc(n,i,r,l,c,!d),e.arc(v*o+n,m*o+i,s,c-2*Math.PI,c-Math.PI,!d),0!==a&&e.arc(n,i,a,c,l,d)},t}(Z["b"]),le=oe,ce=n("e887"),de=n("5426"),ue=n("c775"),pe=n("e86a");function he(e,t){t=t||{};var n=t.isRoundCap;return function(t,i,a){var r=i.position;if(!r||r instanceof Array)return Object(pe["c"])(t,i,a);var s=e(r),o=null!=i.distance?i.distance:5,l=this.shape,c=l.cx,d=l.cy,u=l.r,p=l.r0,h=(u+p)/2,f=l.startAngle,v=l.endAngle,m=(f+v)/2,g=n?Math.abs(u-p)/2:0,y=Math.cos,b=Math.sin,w=c+u*y(f),C=d+u*b(f),S="left",k="top";switch(s){case"startArc":w=c+(p-o)*y(m),C=d+(p-o)*b(m),S="center",k="top";break;case"insideStartArc":w=c+(p+o)*y(m),C=d+(p+o)*b(m),S="center",k="bottom";break;case"startAngle":w=c+h*y(f)+ve(f,o+g,!1),C=d+h*b(f)+me(f,o+g,!1),S="right",k="middle";break;case"insideStartAngle":w=c+h*y(f)+ve(f,-o+g,!1),C=d+h*b(f)+me(f,-o+g,!1),S="left",k="middle";break;case"middle":w=c+h*y(m),C=d+h*b(m),S="center",k="middle";break;case"endArc":w=c+(u+o)*y(m),C=d+(u+o)*b(m),S="center",k="bottom";break;case"insideEndArc":w=c+(u-o)*y(m),C=d+(u-o)*b(m),S="center",k="top";break;case"endAngle":w=c+h*y(v)+ve(v,o+g,!0),C=d+h*b(v)+me(v,o+g,!0),S="left",k="middle";break;case"insideEndAngle":w=c+h*y(v)+ve(v,-o+g,!0),C=d+h*b(v)+me(v,-o+g,!0),S="right",k="middle";break;default:return Object(pe["c"])(t,i,a)}return t=t||{},t.x=w,t.y=C,t.align=S,t.verticalAlign=k,t}}function fe(e,t,n,i){if(Object(B["y"])(i))e.setTextConfig({rotation:i});else if(Object(B["s"])(t))e.setTextConfig({rotation:0});else{var a,r=e.shape,s=r.clockwise?r.startAngle:r.endAngle,o=r.clockwise?r.endAngle:r.startAngle,l=(s+o)/2,c=n(t);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":a=l;break;case"startAngle":case"insideStartAngle":a=s;break;case"endAngle":case"insideEndAngle":a=o;break;default:return void e.setTextConfig({rotation:0})}var d=1.5*Math.PI-a;"middle"===c&&d>Math.PI/2&&d<1.5*Math.PI&&(d-=Math.PI),e.setTextConfig({rotation:d})}}function ve(e,t,n){return t*Math.sin(e)*(n?-1:1)}function me(e,t,n){return t*Math.cos(e)*(n?1:-1)}var ge=Math.max,ye=Math.min;function be(e,t){var n=e.getArea&&e.getArea();if(Object(de["a"])(e,"cartesian2d")){var i=e.getBaseAxis();if("category"!==i.type||!i.onBand){var a=t.getLayout("bandWidth");i.isHorizontal()?(n.x-=a,n.width+=2*a):(n.y-=a,n.height+=2*a)}}return n}var we=function(e){function t(){var n=e.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return Object(V["a"])(t,e),t.prototype.render=function(e,t,n,i){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var a=e.get("coordinateSystem");("cartesian2d"===a||"polar"===a)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n,i))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,t){this._progressiveEls=[],this._incrementalRenderLarge(e,t)},t.prototype.eachRendered=function(e){Object(Q["traverseElements"])(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e,t,n,i){var a,r=this.group,s=e.getData(),o=this._data,l=e.coordinateSystem,c=l.getBaseAxis();"cartesian2d"===l.type?a=c.isHorizontal():"polar"===l.type&&(a="angle"===c.dim);var d=e.isAnimationEnabled()?e:null,u=ke(e,l);u&&this._enableRealtimeSort(u,s,n);var p=e.get("clip",!0)||u,h=be(l,s);r.removeClipPath();var f=e.get("roundCap",!0),v=e.get("showBackground",!0),m=e.getModel("backgroundStyle"),g=m.get("borderRadius")||0,y=[],b=this._backgroundEls,w=i&&i.isInitSort,C=i&&"changeAxisOrder"===i.type;function S(e){var t=Oe[l.type](s,e),n=Fe(l,a,t);return n.useStyle(m.getItemStyle()),"cartesian2d"===l.type&&n.setShape("r",g),y[e]=n,n}s.diff(o).add((function(t){var n=s.getItemModel(t),i=Oe[l.type](s,t,n);if(v&&S(t),s.hasValue(t)&&Ee[l.type](i)){var o=!1;p&&(o=Ce[l.type](h,i));var m=Se[l.type](e,s,t,i,a,d,c.model,!1,f);u&&(m.forceLabelAnimation=!0),Le(m,s,t,n,i,e,a,"polar"===l.type),w?m.attr({shape:i}):u?_e(u,d,m,i,t,a,!1,!1):Object(X["a"])(m,{shape:i},e,t),s.setItemGraphicEl(t,m),r.add(m),m.ignore=o}})).update((function(t,n){var i=s.getItemModel(t),k=Oe[l.type](s,t,i);if(v){var _=void 0;0===b.length?_=S(n):(_=b[n],_.useStyle(m.getItemStyle()),"cartesian2d"===l.type&&_.setShape("r",g),y[t]=_);var T=Oe[l.type](s,t),x=He(a,T,l);Object(X["f"])(_,{shape:x},d,t)}var D=o.getItemGraphicEl(n);if(s.hasValue(t)&&Ee[l.type](k)){var E=!1;if(p&&(E=Ce[l.type](h,k),E&&r.remove(D)),D?Object(X["e"])(D):D=Se[l.type](e,s,t,k,a,d,c.model,!!D,f),u&&(D.forceLabelAnimation=!0),C){var O=D.getTextContent();if(O){var I=Object(ie["d"])(O);null!=I.prevValue&&(I.prevValue=I.value)}}else Le(D,s,t,i,k,e,a,"polar"===l.type);w?D.attr({shape:k}):u?_e(u,d,D,k,t,a,!0,C):Object(X["f"])(D,{shape:k},e,t,null),s.setItemGraphicEl(t,D),D.ignore=E,r.add(D)}else r.remove(D)})).remove((function(t){var n=o.getItemGraphicEl(t);n&&Object(X["d"])(n,e,t)})).execute();var k=this._backgroundGroup||(this._backgroundGroup=new K["a"]);k.removeAll();for(var _=0;_<y.length;++_)k.add(y[_]);r.add(k),this._backgroundEls=y,this._data=s},t.prototype._renderLarge=function(e,t,n){this._clear(),Pe(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),Pe(t,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var t=e.get("clip",!0)&&Object(re["a"])(e.coordinateSystem,!1,e),n=this.group;t?n.setClipPath(t):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,t,n){var i=this;if(t.count()){var a=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(t,e,n),this._isFirstFrame=!1;else{var r=function(e){var n=t.getItemGraphicEl(e),i=n&&n.shape;return i&&Math.abs(a.isHorizontal()?i.height:i.width)||0};this._onRendered=function(){i._updateSortWithinSameData(t,r,a,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,t,n){var i=[];return e.each(e.mapDimension(t.dim),(function(e,t){var a=n(t);a=null==a?NaN:a,i.push({dataIndex:t,mappedValue:a,ordinalNumber:e})})),i.sort((function(e,t){return t.mappedValue-e.mappedValue})),{ordinalNumbers:Object(B["F"])(i,(function(e){return e.ordinalNumber}))}},t.prototype._isOrderChangedWithinSameData=function(e,t,n){for(var i=n.scale,a=e.mapDimension(n.dim),r=Number.MAX_VALUE,s=0,o=i.getOrdinalMeta().categories.length;s<o;++s){var l=e.rawIndexOf(a,i.getRawOrdinalNumber(s)),c=l<0?Number.MIN_VALUE:t(e.indexOfRawIndex(l));if(c>r)return!0;r=c}return!1},t.prototype._isOrderDifferentInView=function(e,t){for(var n=t.scale,i=n.getExtent(),a=Math.max(0,i[0]),r=Math.min(i[1],n.getOrdinalMeta().categories.length-1);a<=r;++a)if(e.ordinalNumbers[a]!==n.getRawOrdinalNumber(a))return!0},t.prototype._updateSortWithinSameData=function(e,t,n,i){if(this._isOrderChangedWithinSameData(e,t,n)){var a=this._dataSort(e,n,t);this._isOrderDifferentInView(a,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:a}))}},t.prototype._dispatchInitSort=function(e,t,n){var i=t.baseAxis,a=this._dataSort(e,i,(function(n){return e.get(e.mapDimension(t.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:a})},t.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},t.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var t=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(t){Object(X["d"])(t,e,Object(te["a"])(t).dataIndex)}))):t.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(ce["a"]),Ce={cartesian2d:function(e,t){var n=t.width<0?-1:1,i=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height);var a=e.x+e.width,r=e.y+e.height,s=ge(t.x,e.x),o=ye(t.x+t.width,a),l=ge(t.y,e.y),c=ye(t.y+t.height,r),d=o<s,u=c<l;return t.x=d&&s>a?o:s,t.y=u&&l>r?c:l,t.width=d?0:o-s,t.height=u?0:c-l,n<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),d||u},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var i=t.r;t.r=t.r0,t.r0=i}var a=ye(t.r,e.r),r=ge(t.r0,e.r0);t.r=a,t.r0=r;var s=a-r<0;if(n<0){i=t.r;t.r=t.r0,t.r0=i}return s}},Se={cartesian2d:function(e,t,n,i,a,r,s,o,l){var c=new J["a"]({shape:Object(B["m"])({},i),z2:1});if(c.__dataIndex=n,c.name="item",r){var d=c.shape,u=a?"height":"width";d[u]=0}return c},polar:function(e,t,n,i,a,r,s,o,l){var c=!a&&l?le:ee["a"],d=new c({shape:i,z2:1});d.name="item";var u=Me(a);if(d.calculateTextPosition=he(u,{isRoundCap:c===le}),r){var p=d.shape,h=a?"r":"endAngle",f={};p[h]=a?0:i.startAngle,f[h]=i[h],(o?X["f"]:X["a"])(d,{shape:f},r)}return d}};function ke(e,t){var n=e.get("realtimeSort",!0),i=t.getBaseAxis();if(n&&"category"===i.type&&"cartesian2d"===t.type)return{baseAxis:i,otherAxis:t.getOtherAxis(i)}}function _e(e,t,n,i,a,r,s,o){var l,c;r?(c={x:i.x,width:i.width},l={y:i.y,height:i.height}):(c={y:i.y,height:i.height},l={x:i.x,width:i.width}),o||(s?X["f"]:X["a"])(n,{shape:l},t,a,null);var d=t?e.baseAxis.model:null;(s?X["f"]:X["a"])(n,{shape:c},d,a)}function Te(e,t){for(var n=0;n<t.length;n++)if(!isFinite(e[t[n]]))return!0;return!1}var xe=["x","y","width","height"],De=["cx","cy","r","startAngle","endAngle"],Ee={cartesian2d:function(e){return!Te(e,xe)},polar:function(e){return!Te(e,De)}},Oe={cartesian2d:function(e,t,n){var i=e.getItemLayout(t),a=n?Re(n,i):0,r=i.width>0?1:-1,s=i.height>0?1:-1;return{x:i.x+r*a/2,y:i.y+s*a/2,width:i.width-r*a,height:i.height-s*a}},polar:function(e,t,n){var i=e.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function Ie(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}function Me(e){return function(e){var t=e?"Arc":"Angle";return function(e){switch(e){case"start":case"insideStart":case"end":case"insideEnd":return e+t;default:return e}}}(e)}function Le(e,t,n,i,a,r,s,o){var l=t.getItemVisual(n,"style");o||e.setShape("r",i.get(["itemStyle","borderRadius"])||0),e.useStyle(l);var c=i.getShallow("cursor");c&&e.attr("cursor",c);var d=o?s?a.r>=a.r0?"endArc":"startArc":a.endAngle>=a.startAngle?"endAngle":"startAngle":s?a.height>=0?"bottom":"top":a.width>=0?"right":"left",u=Object(ie["c"])(i);Object(ie["e"])(e,u,{labelFetcher:r,labelDataIndex:n,defaultText:Object(ue["b"])(r.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:d});var p=e.getTextContent();if(o&&p){var h=i.get(["label","position"]);e.textConfig.inside="middle"===h||null,fe(e,"outside"===h?d:h,Me(s),i.get(["label","rotate"]))}Object(ie["f"])(p,u,r.getRawValue(n),(function(e){return Object(ue["a"])(t,e)}));var f=i.getModel(["emphasis"]);Object(ne["E"])(e,f.get("focus"),f.get("blurScope"),f.get("disabled")),Object(ne["D"])(e,i),Ie(a)&&(e.style.fill="none",e.style.stroke="none",Object(B["k"])(e.states,(function(e){e.style&&(e.style.fill=e.style.stroke="none")})))}function Re(e,t){var n=e.get(["itemStyle","borderColor"]);if(!n||"none"===n)return 0;var i=e.get(["itemStyle","borderWidth"])||0,a=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),r=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(i,a,r)}var Ae=function(){function e(){}return e}(),je=function(e){function t(t){var n=e.call(this,t)||this;return n.type="largeBar",n}return Object(V["a"])(t,e),t.prototype.getDefaultShape=function(){return new Ae},t.prototype.buildPath=function(e,t){for(var n=t.points,i=this.baseDimIdx,a=1-this.baseDimIdx,r=[],s=[],o=this.barWidth,l=0;l<n.length;l+=3)s[i]=o,s[a]=n[l+2],r[i]=n[l+i],r[a]=n[l+a],e.rect(r[0],r[1],s[0],s[1])},t}(Z["b"]);function Pe(e,t,n,i){var a=e.getData(),r=a.getLayout("valueAxisHorizontal")?1:0,s=a.getLayout("largeDataIndices"),o=a.getLayout("size"),l=e.getModel("backgroundStyle"),c=a.getLayout("largeBackgroundPoints");if(c){var d=new je({shape:{points:c},incremental:!!i,silent:!0,z2:0});d.baseDimIdx=r,d.largeDataIndices=s,d.barWidth=o,d.useStyle(l.getItemStyle()),t.add(d),n&&n.push(d)}var u=new je({shape:{points:a.getLayout("largePoints")},incremental:!!i,z2:1});u.baseDimIdx=r,u.largeDataIndices=s,u.barWidth=o,t.add(u),u.useStyle(a.getVisual("style")),Object(te["a"])(u).seriesIndex=e.seriesIndex,e.get("silent")||(u.on("mousedown",Ne),u.on("mousemove",Ne)),n&&n.push(u)}var Ne=Object(ae["c"])((function(e){var t=this,n=Be(t,e.offsetX,e.offsetY);Object(te["a"])(t).dataIndex=n>=0?n:null}),30,!1);function Be(e,t,n){for(var i=e.baseDimIdx,a=1-i,r=e.shape.points,s=e.largeDataIndices,o=[],l=[],c=e.barWidth,d=0,u=r.length/3;d<u;d++){var p=3*d;if(l[i]=c,l[a]=r[p+2],o[i]=r[p+i],o[a]=r[p+a],l[a]<0&&(o[a]+=l[a],l[a]=-l[a]),t>=o[0]&&t<=o[0]+l[0]&&n>=o[1]&&n<=o[1]+l[1])return s[d]}return-1}function He(e,t,n){if(Object(de["a"])(n,"cartesian2d")){var i=t,a=n.getArea();return{x:e?i.x:a.x,y:e?a.y:i.y,width:e?i.width:a.width,height:e?a.height:i.height}}a=n.getArea();var r=t;return{cx:a.cx,cy:a.cy,r0:e?a.r0:r.r0,r:e?a.r:r.r,startAngle:e?r.startAngle:0,endAngle:e?r.endAngle:2*Math.PI}}function Fe(e,t,n){var i="polar"===e.type?ee["a"]:J["a"];return new i({shape:He(t,n,e),silent:!0,z2:0})}var Ve=we;function Ue(e){e.registerChartView(Ve),e.registerSeriesModel($),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,B["h"](H["b"],"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Object(H["a"])("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Object(F["a"])("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},(function(t){e.sortInfo&&t.axis.setCategorySortInfo(e.sortInfo)}))}))}var ze=n("9394"),Ye=n("2da7"),We=n("ff32"),Ge=n("104d"),qe=n("4b2a"),$e=n("3094"),Ze=n("5c7f"),Ke=n("e0d4");Object(P["a"])([N["a"],Ue,ze["a"],Ye["a"],We["a"],Ge["a"],qe["a"],$e["a"]]);var Qe={name:"EBar",mixins:[Ke["a"]],props:{color:{type:Array,default:function(){return["#EF4136","#FFBD00","#4484CF","#946EDB","#8D7B7B","#54C7B0","#F47920","#194283","#59C754"]}},height:{type:[String,Number],default:"100%"},datas:{type:Object,default:function(){}}},components:{"v-chart":Ze["a"]},watch:{datas:{handler:function(e,t){this.initData(e)},immediate:!0,deep:!0}},mounted:function(){this.datas.length>0&&this.initData(this.datas)},data:function(){return{options:null}},methods:{initData:function(e){var t=this,n=[],i=[];e&&e.data&&e.data.forEach((function(e){n.push(e.label),i.push(e.value)})),this.options={color:this.color,tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:20,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:n,axisLabel:{textStyle:{color:"#999",fontSize:10}},axisLine:{show:!1},axisTick:{show:!1},boundaryGap:!0,splitLine:{show:!1}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{cursor:"default",name:e.title,showAllSymbol:!0,type:"bar",label:{normal:{show:!0,position:"top",color:"#333",formatter:function(e){return t.formatNum(e.value,0)}}},data:i}]}}}},Xe=Qe,Je=(n("7a29"),n("0c7c")),et=Object(Je["a"])(Xe,A,j,!1,null,"553b8881",null),tt=et.exports,nt=n("85b1"),it={name:"ReviewStat",components:{EBar:tt},props:{contentId:{type:[String,Number],required:!0}},watch:{contentId:function(e){this.id=e,this.handleInit()}},data:function(){return{loading:!1,id:this.contentId,progressWidth:"80px",reviews:[],charts:[],reviewsStats:{avgReviewsScore:0,reviewsScoreStatDetail:[],reviewsCount:0,effectiveness:0,overall:0,quality:0,studentsEngagement:0}}},created:function(){this.initData(),this.loadReviewStats(),this.handleInit=Object(nt["a"])(this.initData,300)},methods:{initData:function(){var e=this;this.loading=!0,Promise.all([Object(M["byOverall"])({purchasesId:this.id}),Object(L["b"])({contentId:this.id})]).then((function(t){var n=Object(I["a"])(t,2),i=n[0],a=n[1];if(0===i.code&&i.result){var r=[5,4,3,2,1],s=Object.values(i.result).reduce((function(e,t){return e+t?t:0}),0);e.reviews=r.map((function(e){return{reviewsScore:e,reviewsScoreCount:i.result[e]||0,reviewsScoreRate:s?(i.result[e]||0)/s*100:0}}))}if(0===a.code&&a.result){for(var o=[],l=3;l<19;l++)o.push({label:l,value:a.result[l]||0});e.charts={title:"User(s)",data:o}}})).finally((function(){e.loading=!1}))},loadReviewStats:function(){var e=this,t=null;t="student"===this.currentRole?R["ReviewsTaskStats"]:M["ReviewsTeacherStats"],t&&t({taskId:this.id,purchasesId:this.id}).then((function(t){t.success&&(e.reviewsStats=t.result)}))},goAll:function(){document.querySelector(".ant-popover").style.display="none",this.$emit("goReviews")}}},at=it,rt=(n("3b34"),Object(Je["a"])(at,E,O,!1,null,"b4cf1724",null)),st=rt.exports,ot=n("65a0"),lt=n("f93e"),ct=n("5fc3"),dt=n("4357"),ut=n("ce85"),pt=n("f031"),ht=n("48fb"),ft=n("60427"),vt=n("2e09"),mt=n("82bf"),gt=n("44f5"),yt=n("9fb0"),bt=n("c1df"),wt=n.n(bt),Ct={name:"ContentPreviewDetail",components:{RateLevel:vt["a"],ModalHeader:ft["a"],ContentPreview:ut["a"],CustomLinkText:dt["a"],ShareButton:ct["a"],CardListItem:C["a"],PreviewCarousel:l["a"],ShareIcon:_.a,RateByPercent:T["a"],ReviewsPreview:x["a"],ReviewScore:D["a"],ReviewStat:st,PriceSlider:ot["a"]},props:{contentId:{type:[String,Number],required:!0},contentType:{type:[String,Number],required:!0},showBuyButton:{type:Boolean,default:!0},showCopyButton:{type:Boolean,default:!0},showEditButton:{type:Boolean,default:!0},showEnterButton:{type:Boolean,default:!0},displayFixedHeader:{type:Boolean,default:!0},showPriceInfo:{type:Boolean,default:!0},allowPreviewSubContent:{type:Boolean,default:!0},liveWorkShopCode:{type:String,default:""},reviewEdit:{type:Boolean,default:!0},reviewCreate:{type:Boolean,default:!0},reviewList:{type:Boolean,default:!0},session:{type:Object,default:null},schoolResource:{type:Boolean,default:!1},schoolResourceId:{type:String,default:null},showSubtask:{type:Boolean,default:!0},showRelated:{type:Boolean,default:!0},showRecommend:{type:Boolean,default:!0},isLibrary:{type:Boolean,default:!1},showAvatarTips:{type:Boolean,default:!1}},mixins:[y["a"],S["a"],pt["a"]],data:function(){return{moment:wt.a,contentLoading:!0,isSchoolResource:!1,WORK_SHOPS_TYPE:lt["bb"],WORK_SHOPS_STATUS:lt["ab"],content:null,carouselContentLoading:!0,thumbnailList:[],pageObjectIds:[],videoList:[],associateList:[],associatePdList:[],associateVideoList:[],favoriteFlag:!1,typeMap:this.$classcipe.typeMap,buyLoading:!1,copyLoading:!1,showTopFixedHeader:!1,stat:null,reviewsStats:{avgReviewsScore:0,reviewsScoreStatDetail:[],reviewsCount:0,effectiveness:0,overall:0,quality:0,studentsEngagement:0},RATE_TOOLTIPS:lt["y"],ReviewsTask:R,ReviewsTeacher:M,contentBuyStatVisible:!1,selectedGradeList:[],associateRecommendList:[],liveWorkShopSession:null,filterDeadline:null,timer:null}},beforeDestroy:function(){this.timer&&clearInterval(this.timer)},computed:Object(o["a"])(Object(o["a"])({},Object(v["e"])({currentSchool:function(e){return e.user.currentSchool},userMode:function(e){return e.app.userMode},currentRole:function(e){return e.user.currentRole}})),{},{allAges:function(){for(var e=[],t=3;t<19;t++)e.push({name:t+" years",value:t+""});return e},lastChangeSavedTime:function(){if(this.content){m["info"]("lastChangeSavedTime data",this.content);var e=this.content.updateTime||this.content.createTime;if(e)return Object(g["formatLocalUTC"])(e)}return""},inActiveTypes:function(){var e=[];return this.itemsList&&(e=this.itemsList.map((function(e){return e.type}))),Array.from(new Set(e))},realRecommendList:function(){var e=this,t=this.associateList.filter((function(t){return t.sourceFromUser!==e.$store.getters.email}));return[].concat(Object(s["a"])(this.associateRecommendList),Object(s["a"])(t))},realAssociateList:function(){var e=this;return this.associateList.filter((function(t){return t.createBy===e.$store.getters.email}))},labelColor:function(){return this.content.type===this.typeMap["unit-plan"]?{name:"#01b4ff",overview:"#6dee1c",bigIdea:"#ffec19",keyQuestion:"#ff2600"}:{name:"#000",overview:"#000",bigIdea:"#000",keyQuestion:"#000"}},filterThumbnailList:function(){var e=!1;if(this.liveWorkShopCode?this.liveWorkShopSession&&lt["bb"].FEATURE.value===this.liveWorkShopSession.workshopsType&&(e=!0):this.content.createBy===this.$store.getters.userInfo.email||this.content.buyed||(e=!0),e&&this.thumbnailList&&this.thumbnailList.length>1){var t=Math.ceil((this.thumbnailList.length-1)/3);return this.thumbnailList.slice(0,t)}return this.thumbnailList},filterVideoList:function(){var e=!1;if(this.liveWorkShopCode?this.liveWorkShopSession&&lt["bb"].FEATURE.value===this.liveWorkShopSession.workshopsType&&(e=!0):this.content.createBy===this.$store.getters.userInfo.email||this.content.buyed||(e=!0),e&&this.videoList&&this.videoList.length>1){var t=Math.ceil(this.videoList.length/3);return this.videoList.slice(0,t)}return this.videoList}}),created:function(){this.loadDetail(),this.initTimer()},methods:{loadDetail:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.contentLoading=!0,t.next=4,e.loadDetailByContentIDType(e.contentId,e.contentType);case 4:return n=t.sent,0===n.code?(e.content=n.result,e.isSchoolResource=e.$route.path.includes("/teacher/resource")&&e.content.owner.schoolId===e.$store.getters.userInfo.school,e.favoriteFlag=e.content&&e.content.isFavorite,e.loadExtraData()):e.$message.error(n.message),t.next=8,e.loadStat();case 8:return t.prev=8,e.contentLoading=!1,t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,,8,11]])})))()},loadStat:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(ht["b"])({contentId:e.contentId});case 2:n=t.sent,e.$logger.info("statRet",n),e.stat=n.result;case 5:case"end":return t.stop()}}),t)})))()},loadDetailByContentIDType:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t=parseInt(t),a={id:e},n.schoolResource&&(a.schoolId=n.currentSchool.id,n.schoolResourceId&&(a.schoolId=n.schoolResourceId)),n.isLibrary&&(a.published=1),t!==n.$classcipe.typeMap["unit-plan"]){i.next=8;break}return i.abrupt("return",Object(c["UnitPlanQueryById"])(a));case 8:if(t!==n.$classcipe.typeMap.task){i.next=12;break}return i.abrupt("return",Object(u["TaskQueryById"])(a));case 12:if(t!==n.$classcipe.typeMap.video){i.next=16;break}return i.abrupt("return",Object(p["c"])(a));case 16:if(t!==n.$classcipe.typeMap.pd){i.next=18;break}return i.abrupt("return",Object(d["c"])(a));case 18:case"end":return i.stop()}}),i)})))()},loadExtraData:function(){var e=parseInt(this.contentType);e===this.$classcipe.typeMap.task||e===this.$classcipe.typeMap.pd?(this.initVideoList(),this.loadSlideData()):(this.carouselContentLoading=!0,this.initVideoList(),this.initImgList(),this.carouselContentLoading=!1),this.loadAssociateData(),this.loadAssociateRecommendData(),this.content.presentationId&&this.getClassInfo(this.content.presentationId),this.liveWorkShopCode&&this.initLiveDetail()},initLiveDetail:function(){var e=this;Object(gt["c"])({sessionId:this.liveWorkShopCode}).then((function(t){t.success&&(e.liveWorkShopSession=t.result,e.initDeadLine())}))},initTimer:function(){var e=this,t=6e4;this.timer=setInterval((function(){e.initDeadLine()}),t)},initDeadLine:function(){this.filterDeadline="",this.liveWorkShopSession&&this.liveWorkShopSession.session.register&&this.liveWorkShopSession.session.register.registerBefore&&(this.filterDeadline=this.liveWorkShopSession.session.register.registerBefore)},loadReviewStats:function(){var e=this;if(this.reviewList){var t=null;t="student"===this.currentRole?R["ReviewsTaskStats"]:M["ReviewsTeacherStats"],t&&t({taskId:this.contentId,purchasesId:this.contentId}).then((function(t){t.success&&(e.reviewsStats=t.result)}))}else this.handleClose()},initVideoList:function(){this.videoList=[],this.content&&this.content.video&&this.videoList.push({url:this.content.video}),this.content&&this.content.coverVideo&&this.videoList.push({url:this.content.coverVideo})},initImgList:function(){this.thumbnailList=[],this.content.image&&this.thumbnailList.push({contentUrl:this.content.image}),0===this.thumbnailList.length&&this.thumbnailList.push({contentUrl:"http://dcdkqlzgpl5ba.cloudfront.net/1392467808404684802/file/202208140641519097-20220814143449.png"}),this.$logger.info("initImgList",this.thumbnailList)},loadSlideData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.carouselContentLoading=!0,n={taskId:e.contentId},e.session&&(n.sessionId=e.session.id),t.next=6,Object(h["d"])(n);case 6:return i=t.sent,e.thumbnailList=i.result.pageObjects,e.pageObjectIds=i.result.pageObjectIds,t.next=11,e.loadMaterialData();case 11:0===e.thumbnailList.length?e.content.image?e.thumbnailList.push({contentUrl:e.content.image}):e.thumbnailList.push({contentUrl:"http://dcdkqlzgpl5ba.cloudfront.net/1392467808404684802/file/202208140641519097-20220814143449.png"}):e.content.image&&(e.thumbnailList=[{contentUrl:e.content.image}].concat(e.thumbnailList)),t.next=16;break;case 14:t.prev=14,t.t0=t["catch"](0);case 16:return t.prev=16,e.carouselContentLoading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,14,16,19]])})))()},loadAssociateData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={id:e.contentId,type:e.contentType,published:e.isLibrary?1:0,preview:!0},e.schoolResource&&(n.schoolId=e.currentSchool.id,e.schoolResourceId&&(n.schoolId=e.schoolResourceId)),t.next=5,Object(f["GetAssociate"])(n);case 5:i=t.sent,a=i.result.owner,e.associateList=[],a.forEach((function(t){t.contents.forEach((function(t){t.type===e.$classcipe.typeMap.task&&e.associateList.push(t),t.type===e.$classcipe.typeMap["unit-plan"]&&e.associateList.push(t),t.type===e.$classcipe.typeMap.pd&&e.associatePdList.push(t),t.type===e.$classcipe.typeMap.video&&e.associateVideoList.push(t)}))})),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})))()},loadAssociateRecommendData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={id:e.contentId,type:e.contentType},e.schoolResource&&(n.schoolId=e.currentSchool.id,e.schoolResourceId&&(n.schoolId=e.schoolResourceId)),e.isLibrary&&(n.published=1),t.next=6,Object(f["GetAssociateRecommend"])(n);case 6:i=t.sent,e.associateRecommendList=i.result,t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})))()},loadMaterialData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b["d"])({slideId:e.content.presentationId,pageIds:e.pageObjectIds});case 3:n=t.sent,n.result.relements.forEach((function(e){"string"===typeof e.data&&(e.data=JSON.parse(e.data))})),n.result.items.forEach((function(e){"string"===typeof e.data&&(e.data=JSON.parse(e.data))})),e.elementsList=n.result.relements,e.itemsList=n.result.items,t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})))()},handleFavorite:function(){this.favoriteFlag?this.handleRemoveFavorite():this.handleAddFavorite()},handleAddFavorite:function(){var e=this;Object(w["FavoritesAdd"])({sourceId:this.contentId,sourceType:this.contentType}).then((function(t){e.$logger.info("FavoritesAdd ",t),e.favoriteFlag=!e.favoriteFlag})).finally(Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadStat();case 2:case"end":return t.stop()}}),t)}))))},handleRemoveFavorite:function(){var e=this;Object(w["FavoritesDelete"])({sourceId:this.contentId,sourceType:this.contentType}).then((function(t){e.$logger.info("handleRemoveFavorite ",t),e.favoriteFlag=!e.favoriteFlag})).finally(Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadStat();case 2:case"end":return t.stop()}}),t)}))))},handleEdit:function(){this.$logger.info("handleEdit",this.contentType),this.content.type===this.typeMap["unit-plan"]?this.$router.push("/teacher/unit-plan-redirect/"+this.content.id):this.content.type===this.typeMap.task?this.$router.push("/teacher/task-redirect/"+this.content.id):this.content.type===this.typeMap.pd?this.$router.push("/teacher/pd-content-redirect/"+this.content.id):this.contentType===this.typeMap.video&&this.$router.push("/teacher/video-redirect/"+this.content.id)},handleEditBuy:function(){this.$logger.info("handleEdit",this.content.myContentId),this.content.type===this.typeMap["unit-plan"]?this.$router.push("/teacher/unit-plan-redirect/"+this.content.myContentId):this.content.type===this.typeMap.task?this.$router.push("/teacher/task-redirect/"+this.content.myContentId):this.content.type===this.typeMap.pd?this.$router.push("/teacher/pd-content-redirect/"+this.content.myContentId):this.contentType===this.typeMap.video&&this.$router.push("/teacher/video-redirect/"+this.content.myContentId)},handleDuplicateItem:function(){var e=this;if(this.$logger.info("handleDuplicateItem",this.content),this.content.createBy!==this.$store.getters.userInfo.email)return this.handleBuyItem("Copy successfully");this.$confirm({title:"Confirm to copy",content:"Are you sure to copy "+this.content.name+" ?",centered:!0,onOk:function(){e.copyLoading=!0,Object(f["Duplicate"])({id:e.content.id,type:e.content.type}).then((function(t){t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden?(e.$logger.info("Duplicate response",t),e.$message.success("Copy successfully"),e.$router.push({path:"/teacher/main/created-by-me"})):e.currentMethodName="handleDuplicateItem"})).finally((function(){e.copyLoading=!1}))}})},handleBuyItem:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$logger.info("handleBuyItem",this.content),Object(mt["a"])({id:this.content.id,type:this.content.type}).then((function(n){n.code!==e.ErrorCode.ppt_google_token_expires&&n.code!==e.ErrorCode.ppt_forbidden?(e.$logger.info("Duplicate response",n),t?e.$message.success(t):e.$message.success("Buy successfully")):e.currentMethodName="handleBuyItem"})).finally((function(){e.buyLoading=!1,e.contentBuyStatVisible=!0}))},handleEnsureBuyStat:function(){var e=this;Object(L["a"])({contentId:this.contentId,contentType:this.contentType,grades:this.selectedGradeList}).finally((function(){e.handleCancelBuyStat()}))},handleCancelBuyStat:function(){this.contentBuyStatVisible=!1,this.selectedGradeList=[],this.$router.push({path:"/teacher/main/created-by-me"})},toggleSelectContentTag:function(e){this.$logger.info("toggleSelectContentTag",e);var t=this.selectedGradeList.indexOf(e);-1===t?this.selectedGradeList.push(e):this.selectedGradeList.splice(t,1)},visibilityChanged:function(e,t){this.showTopFixedHeader=!e},scrollLeft:function(e){var t=document.getElementById(e);t.scrollBy({left:-600,behavior:"smooth"})},scrollRight:function(e){var t=document.getElementById(e);t.scrollBy({left:600,behavior:"smooth"})},handleClose:function(){this.$emit("close")},wrapperLink:function(e){if(e&&e.id){var t=this.$classcipe.getContentTypeName(e.type);return"".concat("https://www.classcipe.com","/v2/").concat(t,"/").concat(e.id)}return""},goToSubTaskList:function(){this.$router.push({path:"/teacher/sub-task/".concat(this.content.id)})},goTLinkList:function(){this.$router.push({path:"/teacher/link-content-list/".concat(this.content.type,"/").concat(this.content.id)})},handlePreviewItem:function(e){this.$logger.info("handlePreviewItem allowPreviewSubContent ".concat(this.allowPreviewSubContent),e),this.allowPreviewSubContent&&this.handlePreviewDetail(e)},goReviews:function(){document.getElementById("reviews").scrollIntoView({behavior:"smooth"})},handleRegisterSession:function(){var e=this;this.liveWorkShopSession&&this.liveWorkShopSession.sessionId&&(this.buyLoading=!0,Object(gt["e"])({contentId:this.liveWorkShopSession.content?this.liveWorkShopSession.content.id:null,sessionId:this.liveWorkShopSession.sessionId,channelId:Object(g["getCookie"])(yt["v"])}).then((function(t){t.success&&(e.$message.success("You have successfully registered in"),e.handleClose(),window.location.href="/teacher/main/live-workshops?workshopsType=3")})).finally((function(){e.buyLoading=!1})))},handleCancelSession:function(){var e=this;this.liveWorkShopSession&&this.liveWorkShopSession.sessionId&&(this.buyLoading=!0,Object(gt["a"])({contentId:this.liveWorkShopSession.content?this.liveWorkShopSession.content.id:null,sessionId:this.liveWorkShopSession.sessionId}).then((function(t){t.success&&(e.$message.success("Cancel successfully"),e.initLiveDetail(),e.$emit("reload"))})).finally((function(){e.buyLoading=!1})))},topTarget:function(){return document.getElementById(this.contentId+"box").parentElement.parentElement.parentElement},isReadyStart24:function(e){if(!e.sessionStartTime)return!0;var t=wt.a.utc(e.sessionStartTime).local().subtract(24,"hours");return wt()().isBefore(t)}}},St=Ct,kt=(n("ed6b"),Object(Je["a"])(St,i,a,!1,null,"6d6e0731",null));t["default"]=kt.exports},7286:function(e,t,n){},"72b3":function(e,t,n){"use strict";n("2cea")},"72d2":function(e,t,n){"use strict";n("a060")},"72df":function(e,t,n){},"736b":function(e,t,n){},7531:function(e,t,n){"use strict";n("2d57")},7569:function(e,t,n){"use strict";n("ba70")},7849:function(e,t,n){"use strict";var i={Rubric:1,Rubric_2:2,CenturySkills:3};t["a"]=i},"7a29":function(e,t,n){"use strict";n("b82c")},"7dcf":function(e,t,n){"use strict";var i=n("7fae"),a=n("b12f"),r=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return Object(i["a"])(t,e),t.prototype.render=function(e,t,n,i){this.dataZoomModel=e,this.ecModel=t,this.api=n},t.type="dataZoom",t}(a["a"]);t["a"]=r},"7eee":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"common-link"},[i("div",{staticClass:"link-group-wrapper"},[e.ownerLinkGroupList.length&&!e.linkGroupLoading?e._l(e.ownerLinkGroupList,(function(t,n){return i("div",{directives:[{name:"show",rawName:"v-show",value:!(e.hiddenEmptyGroup&&0===t.contents.length),expression:"!(hiddenEmptyGroup && linkGroup.contents.length === 0)"}],key:n,staticClass:"link-group"},[i("div",{staticClass:"group-item"},[i("div",{staticClass:"group-header"},[i("div",{staticClass:"group-left-info"},[i("div",{staticClass:"group-name"},[i("div",{staticClass:"group-name-text"},[e._v(" "+e._s(t.group)+" ")])])]),i("div",{staticClass:"group-right-info"},[i("div",{staticClass:"group-action"},[i("a-button",{directives:[{name:"show",rawName:"v-show",value:e.canEdit,expression:"canEdit"}],style:{"background-color":"#fff",color:"#000",border:"none"},attrs:{type:"primary"},on:{click:function(n){return e.handleLinkGroup(t)}}},[i("div",{staticClass:"btn-text",staticStyle:{"line-height":"20px"}},[e._v(" + Link ")])])],1)])]),i("div",{staticClass:"group-body"},[i("draggable",{attrs:{group:"site",animation:"300",disabled:!e.canEdit},on:{end:e.handleDragEnd},model:{value:t.contents,callback:function(n){e.$set(t,"contents",n)},expression:"linkGroup.contents"}},[i("transition-group",e._l(t.contents,(function(t){return i("div",{key:t.id,staticClass:"group-link-item"},[i("div",{staticClass:"left-info",on:{click:function(n){return e.handleViewDetail(t)}}},[i("div",{staticClass:"icon"},[i("content-type-icon",{attrs:{type:t.type}})],1),i("div",{staticClass:"name"},[e.showDragTips?i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[e._v(" Click and drag content to change the order ")]),e._v(" "+e._s(t.name?t.name:"untitled")+" ")],2):e._e(),e.showDragTips?e._e():[e._v(" "+e._s(t.name?t.name:"untitled")+" ")]],2),t.type===e.typeMap.task?["fa"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag green-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e(),"sa"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag red-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e(),"activity"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag blue-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e(),"ia"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag blue-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e()]:e._e(),t.isCreated?i("div",{staticClass:"downloaded-icon"},[i("a-tooltip",{attrs:{placement:"top",title:"already saved in my content"}},[i("downloaded-svg")],1)],1):e._e()],2),i("div",{staticClass:"right-info"},[i("div",{staticClass:"date",on:{click:function(n){return e.handleViewDetail(t)}}},[e._v(e._s(e._f("dayjs")(t.createTime)))]),i("div",{staticClass:"status",on:{click:function(n){return e.handleViewDetail(t)}}},[0===t.status?[e._v("Draft")]:e._e(),1===t.status?[e._v("Published")]:e._e()],2),e.canEdit?i("div",{staticClass:"more-action-wrapper action-item-wrapper"},[i("a-dropdown",[i("a-icon",{staticStyle:{"margin-right":"8px"},attrs:{type:"more"}}),i("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[i("a-menu-item",[i("a-popconfirm",{attrs:{title:e.$t("teacher.my-content.action-delete")+"?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(n){return e.handleDeleteLinkItem(t)}}},[i("a",{staticClass:"delete-action",attrs:{href:"#"}},[i("a-icon",{attrs:{type:"delete"}}),e._v(" "+e._s(e.$t("teacher.my-content.action-delete"))+" ")],1)])],1),i("a-menu-item",[i("a",{on:{click:function(n){return e.handleEditLinkItem(t)}}},[i("a-icon",{attrs:{type:"form"}}),e._v(" "+e._s(e.$t("teacher.my-content.action-edit"))+" ")],1)])],1)],1)],1):e._e()])])})),0)],1),0===t.contents.length?i("div",{staticClass:"no-link-group-contents"},[i("no-more-resources")],1):e._e()],1)])])})):e._e()],2),i("a-modal",{attrs:{footer:null,"dialog-style":{top:"10px"},destroyOnClose:"",width:"900px"},model:{value:e.selectLinkContentVisible,callback:function(t){e.selectLinkContentVisible=t},expression:"selectLinkContentVisible"}},[i("div",{staticClass:"my-modal-title",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.linkTitle)+" ")]),i("div",{staticClass:"link-content-wrapper"},[i("task-new-my-content",{attrs:{"from-id":e.fromId,"from-type":e.fromType,"filter-type":e.subFilterType,"no-selected-tips":e.noSelectedTips,"selected-list":e.selectedList,"group-name":e.groupName},on:{cancel:function(t){e.selectLinkContentVisible=!1},ensure:e.handleEnsureSelectedLink}})],1)]),i("a-drawer",{attrs:{destroyOnClose:"",placement:"right",closable:!1,width:"800px",visible:e.previewVisible},on:{close:function(t){e.previewVisible=!1}}},[i("a-row",{staticClass:"preview-wrapper-row"},[i("a-col",{attrs:{span:"2"}},[i("div",{staticClass:"view-back",on:{click:function(t){e.previewVisible=!1}}},[i("div",{staticClass:"back-icon"},[i("img",{attrs:{src:n("217a")}})])])]),i("a-col",{attrs:{span:"22"}},[e.previewCurrentId&&e.previewType?i("div",{staticClass:"detail-wrapper"},[i("common-preview-no-link",{attrs:{id:e.previewCurrentId,type:e.previewType}})],1):e._e()])],1)],1)],1)},a=[],r=(n("a9e3"),n("d3b7"),n("159b"),n("7db0"),n("498a"),n("9afb")),s=n("9586"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my-content"},[i("div",{staticClass:"create-new-action"},[i("div",{staticClass:"create-action"},[i("a-button",{attrs:{type:"primary",shape:"round",icon:"plus",loading:e.createLoading},on:{click:e.handleEnsureCreate}},[e._v(" Create New "+e._s(e.currentTypeLabel)+" ")])],1)]),i("div",{staticClass:"content-wrapper"},[i("a-skeleton",{attrs:{loading:e.skeletonLoading,active:""}},[i("div",{staticClass:"content-list"},["list"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("a-list-item",{key:"item.key",class:{"my-list-item":!0,"active-item":-1!==e.mySelectedList.indexOf(t.type+"-"+t.id),"active-new-item":t.id===e.editId},attrs:{"data-id":t.type+"-"+t.id}},[i("div",{staticClass:"select-block",on:{click:function(n){return e.handleLinkItem(t,n)}}},[-1===e.mySelectedList.indexOf(t.type+"-"+t.id)?i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}}):e._e(),-1!==e.mySelectedList.indexOf(t.type+"-"+t.id)?i("div",{staticClass:"selected-icon"},[i("img",{attrs:{src:n("7aa6")}})]):e._e()],1),i("span",{staticClass:"content-info-left"},[i("content-type-icon",{attrs:{type:t.type}}),i("span",{staticClass:"name-content"},[e.editId===t.id&&"input"===e.createNewNameMode?i("a-input",{ref:"inputRef",attrs:{size:"small",type:"text",placeholder:"Input name"},on:{blur:function(n){return e.handleConfirmName(t)},pressEnter:function(n){return e.handleConfirmName(t)}},model:{value:e.createNewName,callback:function(t){e.createNewName=t},expression:"createNewName"}}):i("a-tooltip",{attrs:{title:"Rename"}},[i("span",{staticClass:"name-text",on:{click:function(n){return e.handleRename(t)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")])])],1)],1),i("span",{staticClass:"content-info-right"},[i("span",{staticClass:"status"},[0===t.status?[e._v("Draft")]:e._e(),1===t.status?[e._v("Published")]:e._e()],2),i("span",{staticClass:"update-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime||t.createTime))+" ")]),i("div",{staticClass:"action"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item",on:{click:function(n){return e.handleViewDetail(t,n)}}},[i("span",{staticClass:"btn-text"},[e._v("Preview")])]),i("div",{staticClass:"action-item",on:{click:function(n){return e.handleEditItem(t)}}},[i("span",{staticClass:"btn-text"},[e._v("Edit")])])])])])])}}],null,!1,69311050)}):e._e(),"card"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("div",{key:"item.key",staticClass:"my-card-list-item"},[i("div",{staticClass:"cover-img-wrapper"},[i("div",{staticClass:"cover-image",style:{backgroundImage:"url('"+t.image+"')"}})]),i("div",{staticClass:"item-intro"},[i("div",{staticClass:"page-info"},[i("span",{staticClass:"page-num-tag"},[e._v(" 1/1 ")])]),i("div",{staticClass:"main-title",on:{click:function(n){return e.handleViewDetail(t,n)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")]),i("div",{staticClass:"sub-title"},[e._v(" "+e._s(e._f("dayjs")(t.createTime))+" ")])]),i("div",{staticClass:"card-action-icon"},[-1!==e.mySelectedList.indexOf(t.type+"-"+t.id)?i("img",{attrs:{src:n("7aa6")}}):e._e()])])}}],null,!1,3242308050)}):e._e(),i("div",{staticClass:"modal-ensure-action-line"},[i("a-button",{staticClass:"action-item action-cancel",attrs:{shape:"round"},on:{click:e.handleCancel}},[e._v("Cancel")]),i("a-button",{staticClass:"action-ensure action-item",attrs:{type:"primary",shape:"round",disabled:!e.mySelectedList.length,loading:e.ensureLoading},on:{click:e.handleEnsure}},[e._v("Ok")])],1)],1)]),i("a-drawer",{attrs:{destroyOnClose:"",placement:"right",width:"800px",closable:!1,visible:e.previewVisible},on:{close:e.handlePreviewClose}},[i("div",{staticClass:"preview-wrapper"},[i("a-row",{staticClass:"preview-wrapper-row"},[i("a-col",{attrs:{span:"3"}},[i("div",{staticClass:"view-back",on:{click:e.handlePreviewClose}},[i("div",{staticClass:"back-icon"},[i("img",{attrs:{src:n("217a")}})])])]),i("a-col",{attrs:{span:"21"}},[i("div",{staticClass:"detail-wrapper"},[e.previewCurrentId&&e.previewType?i("div",{staticClass:"preview-detail"},[i("common-preview-no-link",{attrs:{id:e.previewCurrentId,type:e.previewType}})],1):e._e()])])],1)],1)])],1)])},l=[],c=n("3835"),d=n("b85c"),u=n("1da1"),p=(n("96cf"),n("4ec9"),n("3ca3"),n("ddb0"),n("fb6a"),n("a434"),n("b0c0"),n("823b")),h=n("ea23"),f=n("7d7a"),v=n("3f76"),m=n("4803"),g=n("8f46"),y=n("4fb2"),b=n("69b3"),w=n("05be"),C=n.n(w),S=n("8d47"),k=n.n(S),_=n("9f06"),T=n("b199"),x=n("1449"),D={name:"NewMyContent",components:{CommonPreviewNoLink:x["a"],ContentStatusIcon:m["a"],ContentTypeIcon:g["a"],UnitPlanPreview:h["default"],MaterialPreview:f["default"],NoMoreResources:b["a"],PuBuIcon:C.a,ListModeIcon:k.a},props:{filterType:{type:Number,required:!0},selectedList:{type:Array,default:function(){return[]}},fromId:{type:String,required:!0},fromType:{type:Number,required:!0},groupName:{type:String,required:!0},noSelectedTips:{type:String,default:"Please select at least one content."}},data:function(){var e=this;return{skeletonLoading:!0,loading:!0,createLoading:!1,loadFailed:!1,myContentList:[],currentStatus:"all-status",currentStatusLabel:this.$t("teacher.my-content.all-status"),currentType:null,currentTypeLabel:null,currentOwner:"all-owner",currentOwnerLabel:this.$t("teacher.my-content.all-owner"),previewVisible:!1,previewCurrentId:"",previewType:"",pagination:{onChange:function(t){p["info"]("pagination onChange",t),e.pageNo=t,e.getMyContent()},showTotal:function(e){return"Total ".concat(e," items")},total:0,pageSize:10},pageNo:1,typeMap:v["e"],dataListMode:"list",createdType:"All",createNewName:"",createNewNameMode:"hide",mySelectedList:[],mySelectedMap:new Map,editId:"",ensureLoading:!1,waitAddAssociateMap:new Map,waitCancelAssociateMap:new Map}},created:function(){this.$logger.info("NewMyContent filterType",this.filterType),this.currentType=this.filterType,this.currentTypeLabel=Object(v["b"])(this.filterType),this.$logger.info("currentTypeLabel "+this.currentTypeLabel),this.$logger.info("NewMyContent selectedList",this.selectedList),this.mySelectedList=this.selectedList.slice(),this.getMyContent()},methods:{handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},getMyContent:function(){var e=this;this.loading=!0,Object(r["FindMyContent"])({owner:v["c"][this.currentOwner],types:[this.currentType],pageNo:this.pageNo,pageSize:this.pagination.pageSize,currentId:this.currentId}).then((function(t){p["info"]("getMyContent",t),t.result&&t.result.records&&t.result.records.length?(t.result.records.forEach((function(e,t){e.key=t})),e.myContentList=t.result.records,e.pagination.total=t.result.total):(e.myContentList=[],e.pagination.total=0),p["info"]("myContentList",e.myContentList)})).finally((function(){e.loading=!1,e.skeletonLoading=!1,e.$nextTick((function(){e.$refs.inputRef&&e.$refs.inputRef.focus()}))}))},handleLinkItem:function(e,t){p["info"]("handleLinkItem",e),t.preventDefault(),t.stopPropagation();var n=e.type+"-"+e.id,i=this.mySelectedList.indexOf(n);-1!==i?(this.mySelectedList.splice(i,1),this.waitCancelAssociateMap.set(n,e),this.waitAddAssociateMap.delete(n)):(this.mySelectedList.push(n),this.waitAddAssociateMap.set(n,e),this.waitCancelAssociateMap.delete(n))},handleViewDetail:function(e,t){p["info"]("my content created by me handleViewDetail",e,t),t.preventDefault(),t.stopPropagation(),this.previewCurrentId=e.id,this.previewType=e.type,this.previewVisible=!0},handleToggleSelect:function(e){p["info"]("handleToggleSelect",e)},handlePreviewClose:function(){p["info"]("handlePreviewClose"),this.previewCurrentId="",this.previewType="",this.previewVisible=!1},handleReferItem:function(e,t){p["info"]("handleReferItem",e),t.preventDefault(),t.stopPropagation(),y["b"].$emit(y["a"].ReferContentItem,{item:e})},handleToggleType:function(e){this.$logger.info("handleToggleType "+e),this.createdType=e,this.getMyContent()},handleToggleDisplayType:function(e){this.$logger.info("handleToggleDisplayType"+e),this.currentType===e?(this.currentType=null,this.currentTypeLabel=null):(this.currentType=e,this.currentTypeLabel=Object(v["b"])(e)),this.$logger.info("after handleToggleDisplayType"+this.currentType),this.getMyContent()},handleEnsureCreate:function(){var e=this;this.$logger.info("handleEnsureCreate "+this.currentType+" "+this.createNewName),this.createLoading=!0,this.createNewName="",this.currentType===this.typeMap.evaluation?Object(_["EvaluationAddOrUpdate"])({name:this.createNewName}).then((function(t){e.$logger.info("EvaluationAddOrUpdate response",t),e.editId=t.result.id,e.createNewNameMode="input";var n=e.typeMap.evaluation+"-"+e.editId;e.mySelectedList.push(n),e.waitAddAssociateMap.set(n,{id:e.editId,type:e.typeMap.evaluation}),e.getMyContent()})).finally((function(){e.createLoading=!1})):this.currentType===this.typeMap.task?Object(T["TaskAddOrUpdate"])({name:this.createNewName}).then((function(t){e.$logger.info("TaskAddOrUpdate response",t),e.editId=t.result.id,e.createNewNameMode="input";var n=e.typeMap.task+"-"+e.editId;e.mySelectedList.push(n),e.waitAddAssociateMap.set(n,{id:e.editId,type:e.typeMap.task}),e.getMyContent()})).finally((function(){e.createLoading=!1})):(this.$logger.info("handleEnsureCreate currentType is not supported"),this.$message.warn("handleEnsureCreate currentType is not supported"))},handleCancel:function(){this.$emit("cancel")},handleEnsure:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,i,a,s,o,l,u,p,h,f,v,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$logger.info("handleEnsure waitCancelAssociateMap",e.waitAddAssociateMap,"waitCancelAssociateMap",e.waitCancelAssociateMap),e.ensureLoading=!0,!e.waitCancelAssociateMap.size&&!e.waitAddAssociateMap.size){t.next=18;break}n={fromId:e.fromId,fromType:e.fromType,groupName:e.groupName,otherContents:[]},i=Object(d["a"])(e.waitAddAssociateMap);try{for(i.s();!(a=i.n()).done;)s=Object(c["a"])(a.value,2),o=s[0],l=s[1],-1===e.selectedList.indexOf(o)?n.otherContents.push({toId:l.id,toType:l.type}):e.$logger.info("handleEnsure waitAddAssociateMap item is selected skip "+o,l,e.selectedList)}catch(g){i.e(g)}finally{i.f()}u={fromId:e.fromId,fromType:e.fromType,others:[]},p=Object(d["a"])(e.waitCancelAssociateMap);try{for(p.s();!(h=p.n()).done;)f=Object(c["a"])(h.value,2),v=f[0],m=f[1],-1!==e.selectedList.indexOf(v)?u.others.push({toId:m.id,toType:m.type}):e.$logger.info("handleEnsure waitCancelAssociateMap item is no selected skip "+v,m,e.selectedList)}catch(g){p.e(g)}finally{p.f()}if(e.ensureLoading=!0,e.$logger.info("associate data",n),!n.otherContents.length){t.next=14;break}return t.next=14,Object(r["Associate"])(n);case 14:if(e.$logger.info("cancelAssociateData data",u),!u.others.length){t.next=18;break}return t.next=18,Object(r["AssociateCancel"])(u);case 18:e.ensureLoading=!1,e.$emit("ensure");case 20:case"end":return t.stop()}}),t)})))()},handleEditItem:function(e){p["info"]("handleEditItem",e),e.type===v["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===v["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleConfirmName:function(e){var t=this;this.createNewNameMode="hide",e.name!==this.createNewName&&(e.name=this.createNewName,Object(r["Rename"])({id:e.id,type:e.type,name:this.createNewName}).then((function(e){t.$logger.info("Rename response",e),e.success||t.$message.error(e.message)})))},handleRename:function(e){var t=this;this.editId=e.id,this.createNewNameMode="input",this.createNewName=e.name,this.$nextTick((function(){t.$refs.inputRef.focus()}))}}},E=D,O=(n("8fb9"),n("0c7c")),I=Object(O["a"])(E,o,l,!1,null,"599b2370",null),M=I.exports,L=n("1077"),R=n.n(L),A=n("b76a"),j=n.n(A),P={name:"TaskLink",components:{NoMoreResources:b["a"],ContentTypeIcon:g["a"],TaskNewMyContent:M,MyContentSelector:s["a"],CommonPreviewNoLink:x["a"],draggable:j.a,DownloadedSvg:R.a},props:{fromType:{type:Number,required:!0},fromId:{type:String,required:!0},filterType:{type:Number,default:0},canEdit:{type:Boolean,default:!0},isLibrary:{type:Boolean,default:!1},hiddenEmptyGroup:{type:Boolean,default:!1},showDragTips:{type:Boolean,default:!0}},data:function(){return{defaultGroupName:"Untitled category",defaultGroupNameEditMode:"view",defaultGroupOtherContents:[],linkGroupLoading:!0,ownerLinkGroupList:[],subDefaultGroupName:["Untitled category"],noSelectedTips:"",currentGroupId:null,selectLinkContentVisible:!1,typeMap:v["e"],previewVisible:!1,previewCurrentId:"",previewType:"",subFilterType:null,selectedList:[],showCreate:!0,showTabs:!0,linkTitle:null,groupName:null}},created:function(){this.$logger.info("load TaskLink with id["+this.fromId+"] fromType["+this.fromType+"]"),this.getAssociate()},methods:{getAssociate:function(){var e=this;this.$logger.info("GetAssociate id["+this.fromId+"] fromType["+this.fromType+"]"),this.linkGroupLoading=!0,Object(r["GetAssociate"])({id:this.fromId,type:this.fromType,published:this.isLibrary?1:0}).then((function(t){if(e.$logger.info("TaskLink GetAssociate response",t),t.success){var n=t.result;e.ownerLinkGroupList=[],n.groups.forEach((function(t){e.ownerLinkGroupList.push({group:t.groupName,contents:[]}),t.editing=!1}));var i=[],a=[];n.owner.forEach((function(t){t.contents.forEach((function(t){t.type===e.typeMap["unit-plan"]?i.push(t):t.type===e.typeMap.evaluation&&a.push(t)}))}));var r=e.ownerLinkGroupList.find((function(e){return"Relevant Unit Plan(s)"===e.group}));r&&(r.contents=i);var s=e.ownerLinkGroupList.find((function(e){return"Linked assessment tool(s)"===e.group}));s&&(s.contents=a),e.ownerLinkGroupList=e.ownerLinkGroupList.sort((function(e,t){return-1!==e.group.indexOf("Unit Plan")?-1:1})),e.selectedList=[],e.ownerLinkGroupList.forEach((function(t){t.contents.forEach((function(t){e.selectedList.push(t.type+"-"+t.id)}))})),e.$logger.info("ownerLinkGroupList",e.ownerLinkGroupList)}else e.$message.error(t.message)})).finally((function(){e.linkGroupLoading=!1}))},handleEnsureSelectedLink:function(e){this.$logger.info("handleEnsureSelectedLink",e),this.selectLinkContentVisible=!1,this.getAssociate()},handleLinkGroup:function(e){this.$logger.info("handleLinkGroup",e),this.subDefaultGroupName=e.group,"Linked assessment tool(s)"===e.group.trim()?(this.subFilterType=v["e"].evaluation,this.linkTitle="Link Assessment tool(s)",this.groupName="Linked assessment tool(s)",this.noSelectedTips="No assessment rubric(s) selected",this.selectLinkContentVisible=!0):"Relevant Unit Plan(s)"===e.group.trim()?(this.subFilterType=v["e"]["unit-plan"],this.linkTitle="Link Unit Plan",this.groupName="Relevant Unit Plan(s)",this.noSelectedTips="No new Unit plan selected",this.selectLinkContentVisible=!0):(this.$logger.warn("handleLinkGroup unknown group",e),this.$message.warn("handleLinkGroup unknown group "+e))},handleToggleEditGroupName:function(e){var t=this;if(this.$logger.info("handleToggleEditGroupName",e),e.editing){e.editing=!1;var n=[];e.contents.forEach((function(e){n.push(e.id)})),Object(r["AddOrSaveGroupName"])({fromId:this.fromId,fromType:this.fromType,groupName:e.group,ids:n}).then((function(n){t.$logger.info("AddOrSaveGroupName",n),e.editing=!1}))}else e.editing=!0},handleViewDetail:function(e){p["info"]("handleViewDetail",e),this.previewCurrentId=e.id,this.previewType=e.type,this.previewVisible=!0},handleEditLinkItem:function(e){p["info"]("handleEditLinkItem",e),e.type===v["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===v["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleDeleteLinkItem:function(e){var t=this;this.$logger.info("handleDeleteLinkItem",e),Object(r["AssociateCancel"])({fromId:this.fromId,fromType:this.fromType,toId:e.id,toType:e.type}).then((function(e){t.$logger.info("handleDeleteLinkItem response ",e),t.getAssociate()}))},handleDragEnd:function(){var e=this;p["info"]("handleDragEnd ",this.ownerLinkGroupList),this.ownerLinkGroupList.forEach((function(t){var n=[];t.contents.forEach((function(e){n.push(e.id)})),Object(r["AddOrSaveGroupName"])({fromId:e.fromId,fromType:e.fromType,groupName:t.group,ids:n}).then((function(t){e.$logger.info("AddOrSaveGroupName",t)}))}))}}},N=P,B=(n("666c"),Object(O["a"])(N,i,a,!1,null,"1c31a9fc",null));t["a"]=B.exports},8190:function(e,t,n){"use strict";n("2365")},"81d3":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content-select"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.title,expression:"title"}],staticClass:"content-select-title"},[e._v(" "+e._s(e.title)+" ")]),i("div",{staticClass:"content-select-wrap"},[i("div",{staticClass:"content-select-left"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showFilter,expression:"showFilter"}],staticClass:"content-select-filter"},[i("a-radio-group",{attrs:{"button-style":"solid"},on:{change:e.handleSearch},model:{value:e.sourceApi,callback:function(t){e.sourceApi=t},expression:"sourceApi"}},[i("a-radio-button",{attrs:{value:"FindMyContent"}},[e._v(" My content ")])],1),i("div",{staticClass:"filter-search"},[i("a-input-search",{attrs:{placeholder:"Search",allowClear:!0},on:{search:e.handleSearch,pressEnter:e.handleSearch},model:{value:e.queryParams.searchKey,callback:function(t){e.$set(e.queryParams,"searchKey",t)},expression:"queryParams.searchKey"}})],1)],1),i("div",{staticClass:"content-select-con"},[i("a-spin",{attrs:{spinning:e.loading}},[i("div",{staticClass:"content-list"},[0===e.myContentList.length||e.loading?e._e():[e._l(e.myContentList,(function(t){return[i("div",{key:t.id,class:{"content-item":!0,selected:e.selectedId===t.id,unselect:e.calculateCantSelect(t)},on:{click:function(n){return e.handlePreviewDetail(t)}}},[i("div",{staticClass:"cover"},[i("div",{staticClass:"cover-block",style:{"background-image":"url('"+(t.image||"http://dcdkqlzgpl5ba.cloudfront.net/1392467808404684802/file/202208140641519097-20220814143449.png")+"')"}})]),i("div",{staticClass:"detail"},[i("div",{staticClass:"detail-content"},[i("div",{staticClass:"base-info"},[i("div",{staticClass:"header-line vertical-between"},[i("div",{staticClass:"left vertical-left"},[i("div",{staticClass:"type-icon vertical-left"},[i("a-space",[i("content-type-icon",{attrs:{type:t.type}}),t.collaborates>0?i("collaborate-icon"):e._e(),t.sourceFrom?i("a-icon",{attrs:{type:"shopping"}}):e._e()],1)],1),i("div",{staticClass:"name"},[e._v(" "+e._s(t.name||"Untitled "+e.contentTypeName(t))+" ")])]),i("div",{staticClass:"right vertical-right",staticStyle:{width:"90px"}},[i("div",{staticClass:"time-at"},[e._v(" "+e._s(e._f("datejs")(t.updateTime||t.createTime))+" ")])])]),i("div",{staticClass:"extra-info"},[i("a-space",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.curriculumName(t)&&t.type!==e.typeMap.pd,expression:"curriculumName(content) && content.type !== typeMap.pd"}],staticClass:"info-item curriculum-info"},[e._v(" "+e._s(e.curriculumName(t))+" ")]),i("div",{staticClass:"info-item subject-info"},[i("a-space",e._l(t.subjectList.slice(0,2),(function(t,n){return i("div",{key:t+n,staticClass:"subject-item"},[e._v(e._s(t))])})),0),t.subjectList.slice(2).length?i("div",{staticClass:"more-item"},[i("a-tooltip",{attrs:{placement:"top",title:t.subjectList.slice(2).join(" ")}},[e._v("more("+e._s(t.subjectList.slice(2).length)+")")])],1):e._e()],1),i("div",{staticClass:"info-item year-info"},[i("a-space",e._l(t.yearList.slice(0,4),(function(t,n){return i("div",{key:t+n,staticClass:"subject-item"},[e._v(e._s(t))])})),0),t.yearList.slice(4).length?i("div",{staticClass:"more-item"},[i("a-tooltip",{attrs:{placement:"top",title:t.yearList.slice(4).join(" ")}},[e._v("more("+e._s(t.yearList.slice(4).length)+")")])],1):e._e()],1),t.taskType?i("div",{staticClass:"info-item task-type-info"},[i("div",{staticClass:"self-type-wrapper"},[i("div",{staticClass:"self-field-label"},["FA"===t.taskType?i("div",{staticClass:"task-type-item green-active-task-type"},[i("a-tooltip",{attrs:{placement:"top",title:"Formative Assessment"}},[e._v("FA")])],1):e._e(),"SA"===t.taskType?i("div",{staticClass:"task-type-item red-active-task-type"},[i("a-tooltip",{attrs:{placement:"top",title:"Summative Assessment"}},[e._v("SA")])],1):e._e(),"Activity"===t.taskType?i("div",{staticClass:"task-type-item blue-active-task-type task-type-activity"},[i("a-tooltip",{attrs:{title:"Teaching/Learning Activity",placement:"top"}},[e._v("Activity")])],1):e._e(),"IA"===t.taskType?i("div",{staticClass:"task-type-item blue-active-task-type task-type-examine"},[i("a-tooltip",{attrs:{title:"Internal Assessment",placement:"top"}},[e._v("IA")])],1):e._e()])])]):e._e()])],1),e.knowledgeTagsList(t).length?i("div",{staticClass:"tag-info"},e._l(e.knowledgeTagsList(t),(function(t,n){return i("div",{key:t+n,staticClass:"tag-info-item"},[i("a-tag",{staticClass:"tag-item knowledge-tag",attrs:{color:"#EABA7F",title:t}},[e._v(e._s(t))])],1)})),0):e._e(),i("div",{staticClass:"tag-info"},[e.commandTermsList(t).length?e._l(e.commandTermsList(t),(function(t,n){return i("div",{key:t+n,staticClass:"tag-info-item"},[i("a-tag",{staticClass:"tag-item command-tag",attrs:{color:"#06ACD7",title:t}},[e._v(e._s(t))])],1)})):e._e(),e._l(t.customTags,(function(t,n){return i("div",{key:t.name+n,staticClass:"tag-info-item"},[i("a-tag",{staticClass:"tag-item",attrs:{color:"#FFEDAF",title:t.category}},[e._v(" "+e._s(t.name)+" ")])],1)}))],2)])]),i("div",{staticClass:"footer-line"},[i("div",{staticClass:"avatar-info"},[i("div",{staticClass:"owner"},[t.owner?[t.owner.avatar?i("a-avatar",{attrs:{src:t.owner.avatar,size:"small"}}):i("img",{attrs:{src:n("4992")}})]:[i("a-avatar",{attrs:{size:"small"}},[e._v(e._s(t.createBy.toUpperCase()[0]))])],i("div",{staticClass:"user-name"},[e._v(" "+e._s(e._f("upCaseFirst")(t.owner?t.owner.firstname+" "+t.owner.lastname:t.createBy))+" ")])],2)]),i("div",{staticClass:"action vertical-right"},[e.calculateCantSelect(t)?i("a-tooltip",{attrs:{title:"Incompleted content"}},[i("a-icon",{staticStyle:{"font-size":"16px","font-weight":"bold",color:"#ef4136"},attrs:{type:"exclamation"}})],1):e._e()],1)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedId===t.id,expression:"selectedId === content.id"}],staticClass:"opt"},[e.calculateCantSelect(t)?i("a-tooltip",{attrs:{title:"Incompleted content"}},[i("a-icon",{attrs:{type:"check-circle",theme:"filled"}})],1):i("a-icon",{attrs:{type:"check-circle",theme:"filled"}})],1)])]}))],0!==e.myContentList.length||e.loading?e._e():[i("div",{staticClass:"empty-tips"},[i("no-more-resources")],1)]],2)])],1)]),i("div",{staticClass:"content-select-right"},[e.selectedId?i("div",{staticClass:"preview-wrap"},[e.previewLoading?e._e():i("content-preview-detail",{attrs:{contentId:e.selectedObj.id,contentType:e.selectedObj.type}})],1):i("div",{staticClass:"empty-tips"},[i("no-more-resources",{attrs:{tips:"No content selected"}})],1)])]),i("div",{staticClass:"content-select-action"},[i("a-button",{attrs:{type:""},on:{click:e.handleCancel}},[e._v(e._s(e.backText))]),!e.selectedId||e.calculateCantSelect(e.selectedObj)?i("a-tooltip",{attrs:{title:"No completed content selected"}},[i("a-button",{attrs:{disabled:!0,type:"primary"}},[e._v("Next")])],1):i("a-button",{attrs:{type:"primary"},on:{click:e.handleNext}},[e._v("Next")])],1)])},a=[],r=n("5530"),s=(n("a9e3"),n("99af"),n("4de4"),n("d3b7"),n("7db0"),n("d81d"),n("0481"),n("b0c0"),n("9afb")),o=n("d573"),l=n("69b3"),c=n("adfc"),d=n("70fe"),u=n("8f46"),p=n("3404"),h=n.n(p),f=n("6e84"),v=n("21fb"),m=n("f93e"),g=n("3f76"),y=n("2f62"),b=n("944d"),w={name:"ContentSelect",mixins:[f["a"],v["a"]],components:{NoMoreResources:l["a"],CommonPreviewV2:c["a"],ContentPreviewDetail:d["default"],ContentTypeIcon:u["a"],CollaborateIcon:h.a},props:{type:{type:Number,default:void 0},title:{type:String,default:""},backTxt:{type:String,default:"Discard"},datas:{type:Array,default:function(){return[]}},needFilter:{type:Boolean,default:!0}},watch:{datas:function(e){var t=this;e&&!this.showFilter&&(this.myContentList=e.filter((function(e){return e.owner.email===t.$store.getters.email})).concat(),0===this.myContentList.length&&(this.selectedId=""))},needFilter:function(e){var t=this;this.showFilter=e,!e&&this.datas&&(this.myContentList=this.datas.filter((function(e){return e.owner.email===t.$store.getters.email})).concat(),0===this.myContentList.length&&(this.selectedId=""))},backTxt:function(e,t){this.backText=e}},data:function(){return{typeMap:g["e"],FindMyContent:s["FindMyContent"],QueryContentsFilter:o["QueryContentsFilter"],loading:!1,sourceApi:"FindMyContent",queryParams:{type:[this.type],searchKey:"",delFlag:0,pageNo:1,pageSize:1e3,types:[this.type]},myContentList:[],selectedId:"",selectedObj:"",previewLoading:!0,backText:this.backTxt,showFilter:this.needFilter,baseUrl:null}},computed:Object(r["a"])(Object(r["a"])({},Object(y["e"])({userMode:function(e){return e.app.userMode},currentSchool:function(e){return e.user.currentSchool}})),{},{iframeSrc:function(){return this.baseUrl?this.baseUrl+"/v2/iframe/detail/"+this.type+"/"+this.selectedId:null}}),created:function(){this.init();var e=window.location.host;-1!==e.indexOf("localhost")?this.baseUrl="http://localhost:9004":-1!==e.indexOf("dev.classcipe.com")?this.baseUrl="https://dev.classcipe.com":-1!==e.indexOf("my.classcipe.com")?this.baseUrl="https://my.classcipe.com":this.$logger.warn("ContentPreview: unknown host",e)},methods:{init:function(){var e=this;this.showFilter&&(this.loading=!0,this.type===g["e"]["unit-plan"]?this.queryParams.linkedTask=!0:delete this.queryParams.linkedTask,this[this.sourceApi](Object(r["a"])(Object(r["a"])({},this.queryParams),{},{schoolId:this.currentSchool.id})).then((function(t){t.success&&(e.myContentList=(t.result&&t.result.records||[]).filter((function(t){return t.owner.email===e.$store.getters.email})))})).finally((function(t){e.loading=!1})))},handleSchoolChange:function(e){this.init()},handleModeChange:function(e){e===m["Y"].SELF&&this.init()},handlePreviewDetail:function(e){var t=this;this.selectedId===e.id?(this.selectedId="",this.selectedObj=null):(this.selectedId=e.id,this.selectedObj=Object(r["a"])({},e)),this.previewLoading=!0,setTimeout((function(){t.previewLoading=!1}),300)},calculateCantSelect:function(e){return!e||!e.canPublish||e.slideEditing},handleSearch:function(){this.init()},handleCancel:function(){this.$emit("cancel")},handleNext:function(){var e=this,t=this.myContentList.find((function(t){return t.id===e.selectedId}));this.$emit("choose",t)},contentTypeName:function(e){return e?Object(g["b"])(e.type):null},curriculumName:function(e){return this.$store.getters.curriculumId2NameMap.hasOwnProperty(e.curriculumId)?this.$store.getters.curriculumId2NameMap[e.curriculumId]:null},isOwner:function(e){return this.$store.getters.userInfo.email===e.createBy},commandTermsList:function(e){return Object(b["a"])(e.learnOuts.map((function(e){return e.commandTerms})).flat(2),"name").map((function(e){return e.name}))},knowledgeTagsList:function(e){return Object(b["a"])(e.learnOuts.map((function(e){return e.knowledgeTags})).flat(2),"name").map((function(e){return e.name}))}}},C=w,S=(n("72d2"),n("0c7c")),k=Object(S["a"])(C,i,a,!1,null,"019eaef0",null);t["a"]=k.exports},8275:function(e,t,n){},"83d7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAAAAXNSR0IArs4c6QAABFVJREFUSEvVV19oW1UY//1O7k3btVuStndz3bAbIlqngqWT4dquxU0dMnAIFVEfOm1r53yosD74sFAVHSIKss2lFeaDjtEHcSBjIJK2aR+EysCJTETpUFdmbtdmmnZtkvPJTZo0mzdbyqrgebqc7/t+v+985/tzLrGCy//1kVrTa54W8AECKg/aFuA8oD6wJ9ecQVtbijnheMi0tLdK5hIPg7pGwDUUXtBInLui/5hEa1/yVj5WjYR6FdVhQJZwl4wEgnmB7rGbXz6eVrCGT9wNT+JV0bIX5FoCzj4F0IRMCXASNN63G1+8dDNya/j4M1DqUwBGQT1BDIZqYHVkoIWUd0WwjkAZgNUASnOGpEB0CoLzmuieaur6piDo94Nea3qmF5CHBMyEmlAU2QZwbdZOiPdYNRJ6ShR/UrPz0zTVWhhmvQB7CbQCKF9yABoiEwLVZjd1fFuQfDDorSmrMbB+SSMRlz1Q6lSOWOQcEQ4aGIJGX58gGCRaWpSFH0q1Ye5VgjdAbMojEQEuJJXaPbP9pYu3uvOs3Dc8sNmr5Jc8/ctuSZCRj4fMyji3KoWTBGqvPzlOR2fkeezpml3cpy9yzB9Lls2htf3ajQ4FIqE7DTDfUbswsWM9OOix1l/dJdCfEajMhQpIiGbP1I6Oo1b4aIUYZguAXiRTh+zW7qHbJ3YQwkGj2lPTQ/LtG7L1EgX7tMILFDzpJOWCknti27t+XhliADXjoVWJOX4BYFf+fQOYAVABwAQwH03+XuFW7+6hlqDyja7zOYCxxssxsE+7JU1l+Ng2j8czBLLETe4knd3UWecmcyX2j33cbGr9VrphUA7ZjV3hG4zTieMR9aiCGiDhd89mfh5t6ni6aGJrpP87ULY4lS6CH+2mzi3OZxogFDKr71MPAjoIsImAExn3hCTeiTZ2vl48caTf6cGetAGhoxvMcmzOlET16PEGQp0SLbUkC7dBAFqhfWp75yfLIc6cbnFFy6QcDZn6DHwV8hleHIBiG0Q2iOJqCrxu4MlUsnm6ZX9kRYgdkE3hE6V/eRYCJO6CYB9Ip2arF9tpdvTJtfkF68+dB6ZWjDgHJEJr6Fg5SkruQELXi2I3oe8F4BNw2m7s2AhnoLgs16y2Iv0FQ+2evZmOtmbjVZ83JZtF5DFCDLu5681C+itHnM9w5sOSjf6k+u2R1+b+W+KCYVkS/Dsn/v8Tz8Yq8PjBeBEHKVrFP3ak1tTeiTwDm1YkNAvQeWul12yJuT4+UR4tGrUIxcCGq3WG1uezqkJepBXpd95P9blN8CMy9SWgXGuyCJ7rVISikOKzJJ7L6wlnWT06cJCQw5DcAzwFII7FObFcon/qp2eKM7OzXU5rsJ2B8ZDPmOMIiPvzyG+fzx1BCzBsB/xPpN2pGh6oo9L9BLelPbv5S2z5TmUuTQM8m9IL+6/seOXXHIUzibiKOz0aW52fi+WjF7bQWiaVh2PReGwkWzF/Ay535VYy6arNAAAAAElFTkSuQmCC"},"867e":function(e,t,n){},"870d":function(e,t,n){},8757:function(e,t,n){},"88a9":function(e,t,n){},"8b49":function(e,t,n){"use strict";n("023b")},"8bab":function(e,t,n){},"8c95":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"associate-preview"},[i("a-row",{staticClass:"bottom-relative"},[i("a-col",{staticClass:"content-type-filter",attrs:{span:"24"}},[i("a-radio-group",{attrs:{"button-style":"solid"},on:{change:e.handleUserTypeChange},model:{value:e.activeUserType,callback:function(t){e.activeUserType=t},expression:"activeUserType"}},[i("a-radio-button",{staticClass:"left-button",attrs:{value:"owner"}},[e._v(" "+e._s(e.$t("teacher.unit-plan-preview.by-owner"))+" ")]),i("a-radio-button",{staticClass:"right-button",attrs:{value:"others"}},[e._v(" "+e._s(e.$t("teacher.unit-plan-preview.by-others"))+" ")])],1),i("div",{staticClass:"content-type-list"},[i("div",{staticClass:"toggle-mode-type-wrapper"},[i("div",{staticClass:"toggle-mode-type"},[i("div",{staticClass:"toggle-mode"},[i("div",{class:{"mode-item":!0,"skill-active-mode":e.activeContentType===e.typeMap.task},on:{click:function(t){return e.handleSelectContentType(e.typeMap.task)}}},[e._v(" "+e._s(e.$t("teacher.unit-plan-preview.task"))+" ")]),i("div",{class:{"mode-item":!0,"general-active-mode":e.activeContentType===e.typeMap.evaluation},on:{click:function(t){return e.handleSelectContentType(e.typeMap.evaluation)}}},[e._v(" "+e._s(e.$t("teacher.unit-plan-preview.evaluation"))+" ")])])])])])],1),i("a-col",{staticClass:"created-toggle",attrs:{span:"24"}},[i("div",{staticClass:"toggle-view-type"},[i("div",{staticClass:"switch-icon"},[i("div",{class:{"icon-item":!0,"active-icon":"list"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("list")}}},[i("list-mode-icon")],1),i("div",{class:{"icon-item":!0,"active-icon":"card"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("card")}}},[i("pu-bu-icon")],1)])])])],1),i("a-row",[i("a-col",{attrs:{span:"24"}},[i("div",{staticClass:"associate-info"},["list"===e.dataListMode?e._l(e.currentAssociateList,(function(t,a){return t.type===e.activeContentType?i("div",{key:a,staticClass:"associate-block-list"},[i("div",{staticClass:"question-item list-question-item"},[i("div",{class:{"list-item":!0,"browser-item":!0,"odd-line":a%2===0}},[i("div",{staticClass:"item-name"},[i("dir-icon",{attrs:{"content-type":t.type}}),i("span",{staticClass:"data-name",on:{click:function(n){return e.handleClickTitle(t)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")])],1),i("div",{staticClass:"arrow-item"},[i("span",{staticClass:"data-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime||t.createTime))+" ")]),i("div",{staticClass:"edit-item-icon",on:{click:function(n){return e.handleEditItem(t.type,t)}}},[i("img",{attrs:{src:n("ae3c")}})]),i("div",{staticClass:"star-it",on:{click:function(n){return e.handleFavorite(t)}}},[t.createBy!==e.$store.getters.userInfo.email?[t.isFavorite?e._e():i("img",{attrs:{src:n("58e7")}}),t.isFavorite?i("img",{attrs:{src:n("24e3")}}):e._e()]:e._e()],2),i("div",{staticClass:"edit-it",on:{click:function(n){return e.handleEditItem(t.type,t)}}},[i("a-icon",{attrs:{type:"more"}})],1)])])])]):e._e()})):e._e(),"card"===e.dataListMode?[i("div",{staticClass:"associate-block-list associate-block-list-card"},e._l(e.currentAssociateList,(function(t,a){return t.type===e.activeContentType?i("div",{key:a,staticClass:"question-item card-question-item"},[i("div",{class:{"card-item":!0,"browser-item":!0,"odd-line":a%2===0}},[i("data-card-view",{attrs:{title:t.name,"update-time":t.updateTime,cover:t.image,"content-type":t.type}}),i("div",{staticClass:"card-action-item"},[i("div",{staticClass:"action-left"},[i("div",{staticClass:"edit-item-icon",on:{click:function(n){return e.handleEditItem(t.type,t)}}},[i("img",{attrs:{src:n("ae3c")}})]),t.createBy!==e.$store.getters.userInfo.email?[i("div",{staticClass:"star-it",on:{click:function(n){return e.handleFavorite(t)}}},[t.isFavorite?e._e():i("img",{attrs:{src:n("58e7")}}),t.isFavorite?i("img",{attrs:{src:n("24e3")}}):e._e()])]:e._e()],2),i("div",{staticClass:"action-right"},[i("div",{staticClass:"edit-it",on:{click:function(n){return e.handleEditItem(t.type,t)}}},[i("a-icon",{attrs:{type:"more"}})],1)])])],1)]):e._e()})),0)]:e._e()],2)])],1),i("a-row")],1)},a=[],r=(n("a9e3"),n("d3b7"),n("159b"),n("823b")),s=n("3f76"),o=n("8f46"),l=n("05be"),c=n.n(l),d=n("8d47"),u=n.n(d),p=n("6964"),h=n("faaa"),f=n("69b3"),v=n("95c6"),m=v.FavoritesAdd,g=n("9afb"),y=g.GetAssociate,b={name:"IsLibrary",props:{id:{type:String,required:!0},contentType:{type:Number,required:!0}},components:{NoMoreResources:f["a"],DirIcon:h["a"],DataCardView:p["a"],ContentTypeIcon:o["a"],PuBuIcon:c.a,ListModeIcon:u.a},data:function(){return{loading:!0,associateData:null,tagColorList:["pink","orange","green","cyan","blue","red","purple"],activeContentType:s["e"].task,activeUserType:"owner",currentAssociateList:[],typeMap:s["e"],previewType:"",dataListMode:"list"}},created:function(){r["info"]("Associate Preview id "+this.id),this.loadAssociateData()},methods:{loadAssociateData:function(){var e=this;r["info"]("loadAssociateData "+this.id+" "+this.contentType),this.loading=!0,y({id:this.id,type:this.contentType,published:this.isLibrary?1:0,preview:!0}).then((function(t){r["info"]("GetAssociate ",t),e.associateData=t.result,e.handleUserTypeChange()})).then((function(){r["info"]("get favorite "+e.id)})).finally((function(){e.loading=!1}))},handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},handleSelectContentType:function(e){r["info"]("handleSelectContentType "+e),this.activeContentType=e},handleSubPreviewClose:function(){r["info"]("handleSubPreviewClose"),this.previewType=null},handleUserTypeChange:function(){var e=this;r["info"]("handleUserTypeChange "+this.activeUserType);var t=this.associateData[this.activeUserType];this.currentAssociateList=[],t.forEach((function(t){t.contents&&t.contents.length&&t.contents.forEach((function(t){e.currentAssociateList.push(t)}))})),r["info"]("currentAssociateList",this.currentAssociateList)},handleClickTitle:function(e){r["info"]("handleClickTitle",e),this.previewType=s["e"]["unit-plan"]},handleSubPreview:function(e,t){r["info"]("handleSubPreview",e,t),this.previewType=s["e"]["unit-plan"]},handleFavorite:function(e){r["info"]("handleFavorite",e),m({sourceId:e.id,sourceType:e.type}).then((function(t){r["info"]("FavoritesAdd ",t),e.isFavorite=!e.isFavorite}))},handleEditItem:function(e,t){r["info"]("handleEditItem",e,t),t.type===s["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+t.id,"_blank"):t.type===s["e"].task?window.open("/teacher/task-redirect/"+t.id,"_blank"):t.type===s["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+t.id,"_blank")}}},w=b,C=(n("fa0b"),n("0c7c")),S=Object(C["a"])(w,i,a,!1,null,"3b8f30d4",null);t["a"]=S.exports},"8d47":function(e,t,n){var i=n("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"27.909",viewBox:"0 0 28 27.909"},children:[{tag:"path",attrsMap:{id:"liebiao_","data-name":"liebiao ",class:"cls-1",d:"M62,62h6.932v6.93H62V62Zm10.279,0H90v6.93H72.279V62Zm0,10.326H90v7.208H72.279V72.326ZM62,72.326h6.932v7.208H62V72.326Zm0,10.558h6.932v7.024H62V82.885Zm10.279,0H90v7.024H72.279V82.885Z",transform:"translate(-62 -62)"}}]})}},"8fb9":function(e,t,n){"use strict";n("8275")},"90e8":function(e,t,n){"use strict";var i={Edit:"edit",Preview:"preview",StudentEvaluate:"student-evaluate",TeacherEvaluate:"teacher-evaluate",PeerEvaluate:"peer-evaluate"};t["a"]=i},"91ff":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tag-ui"},[n("a-col",[n("div",{staticClass:"objectives-wrapper"},[e.getknowledgeListType(e.TagType.skill).length>0?n("a-row",{staticClass:"objectives-wrapper-block"},[n("div",{staticClass:"title-item title-skill"},[e._v("Achievement objectives")]),e._l(e.getknowledgeListType(e.TagType.skill),(function(t,i){return n("div",{key:i,staticClass:"objectives-list"},[n("div",{staticClass:"objectives-list-item objectives-list-item-skill objectives-list-item-top-fixed"},[n("div",{staticClass:"skt-description"},[n("a-tooltip",{attrs:{title:t.path}},[t.key?n("span",{staticClass:"self-out-icon"},[n("a-icon",{attrs:{type:"user-add"}})],1):e._e(),e._v(" "+e._s(t.name)+" "),t.subjectId&&e.getSubjectName(t.subjectId)?n("span",{staticClass:"subject-name-tag"},[n("a-tag",{staticClass:"my-subject-name-tag"},[e._v(e._s(e.getSubjectName(t.subjectId)))])],1):e._e()]),e.bloomInfo(t.knowledgeId,"isExist")?n("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"skt-chart"},[n("div",{staticClass:"skt-chart-detail"},[n("label",[e._v("Bloom Taxonomy")]),n("a-rate",{staticClass:"rate-bar-con small",attrs:{tooltips:e.bloomLevelDesc,count:6,value:e.bloomInfo(t.knowledgeId,"bloomLevel"),disabled:""}},[n("div",{attrs:{slot:"character"},slot:"character"},[n("div",{staticClass:"rate-bar"})])])],1),n("div",{staticClass:"skt-chart-detail"},[n("label",[e._v("Knowledge dimension")]),e._l(e.bloomInfo(t.knowledgeId,"knowledgeLevel"),(function(i,a){return n("a-tag",{key:t.name+"bloom_tag"+a,staticClass:"tag-item",attrs:{color:"purple"}},[e._v(" "+e._s(i)+" ")])}))],2)]):e._e()],1)])])}))],2):e._e(),e.getknowledgeListType(e.TagType.knowledge).length>0?n("a-row",{staticClass:"objectives-wrapper-block"},[n("div",{staticClass:"title-item title-learnout"},[e._v("Learning outcomes")]),e._l(e.getknowledgeListType(e.TagType.knowledge),(function(t,i){return n("div",{key:i,staticClass:"objectives-list"},[n("div",{staticClass:"objectives-list-item objectives-list-item-learn objectives-list-item-top-fixed"},[n("div",{staticClass:"skt-description"},[n("a-tooltip",{attrs:{title:t.path}},[t.key?n("span",{staticClass:"self-out-icon"},[n("a-icon",{attrs:{type:"user-add"}})],1):e._e(),e._v(" "+e._s(t.name)+" "),t.subjectId&&e.getSubjectName(t.subjectId)?n("span",{staticClass:"subject-name-tag"},[n("a-tag",{staticClass:"my-subject-name-tag"},[e._v(e._s(e.getSubjectName(t.subjectId)))])],1):e._e()]),e.bloomInfo(t.knowledgeId,"isExist")?n("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"skt-chart"},[n("div",{staticClass:"skt-chart-detail"},[n("label",[e._v("Bloom Taxonomy")]),n("a-rate",{staticClass:"rate-bar-con small",attrs:{tooltips:e.bloomLevelDesc,count:6,value:e.bloomInfo(t.knowledgeId,"bloomLevel"),disabled:""}},[n("div",{attrs:{slot:"character"},slot:"character"},[n("div",{staticClass:"rate-bar"})])])],1),n("div",{staticClass:"skt-chart-detail"},[n("label",[e._v("Knowledge dimension")]),e._l(e.bloomInfo(t.knowledgeId,"knowledgeLevel"),(function(i,a){return n("a-tag",{key:t.name+"bloom_tag"+a,staticClass:"tag-item",attrs:{color:"purple"}},[e._v(" "+e._s(i)+" ")])}))],2)]):e._e()],1)])])}))],2):e._e(),e.getknowledgeListType(e.TagType.century).length>0?n("a-row",{staticClass:"objectives-wrapper-block"},[n("div",{staticClass:"title-item title-21"},[e.$store.getters.bindCurriculum===e.AllCurriculums.NZ?[e._v(" Key competencies ")]:e.$store.getters.bindCurriculum===e.AllCurriculums.AU?[e._v(" General capabilities ")]:[e._v(" 21st Century Skills ")]],2),e._l(e.getknowledgeListType(e.TagType.century),(function(t,i){return n("div",{key:i,staticClass:"objectives-list"},[n("div",{staticClass:"objectives-list-item objectives-list-item-21 objectives-list-item-top-fixed",on:{click:function(n){return e.handleActiveDescription(e.TagType.century,t)}}},[n("div",{staticClass:"skt-description skt-description-21"},[n("a-tooltip",{attrs:{title:t.path}},[t.key?n("span",{staticClass:"self-out-icon"},[n("a-icon",{attrs:{type:"user-add"}})],1):e._e(),e._v(" "+e._s(t.name)+" "),t.subjectId&&e.getSubjectName(t.subjectId)?n("span",{staticClass:"subject-name-tag"},[n("a-tag",{staticClass:"my-subject-name-tag"},[e._v(e._s(e.getSubjectName(t.subjectId)))])],1):e._e()]),e.bloomInfo(t.knowledgeId,"isExist")?n("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"skt-chart"},[n("div",{staticClass:"skt-chart-detail"},[n("label",[e._v("Bloom Taxonomy")]),n("a-rate",{staticClass:"rate-bar-con small",attrs:{tooltips:e.bloomLevelDesc,count:6,value:e.bloomInfo(t.knowledgeId,"bloomLevel"),disabled:""}},[n("div",{attrs:{slot:"character"},slot:"character"},[n("div",{staticClass:"rate-bar"})])])],1),n("div",{staticClass:"skt-chart-detail"},[n("label",[e._v("Knowledge dimension")]),e._l(e.bloomInfo(t.knowledgeId,"knowledgeLevel"),(function(i,a){return n("a-tag",{key:t.name+"bloom_tag"+a,staticClass:"tag-item",attrs:{color:"purple"}},[e._v(" "+e._s(i)+" ")])}))],2)]):e._e()],1),t.tagListVisible?n("a-divider",{staticStyle:{margin:"10px 0px"}}):e._e(),t.tagListVisible?n("div",{staticClass:"skt-description-tag-list"},e._l(t.tags,(function(i){return n("div",{key:i,class:{"tag-list-item":!0,"skill-mode":!0}},[n("a-tag",{staticClass:"tag-item",attrs:{closable:!0},on:{close:function(n){return e.handleDeleteTag(t,i)}}},[e._v(e._s(i))])],1)})),0):e._e()],1)])}))],2):e._e()],1)]),n("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"800px"},model:{value:e.addTagVisible,callback:function(t){e.addTagVisible=t},expression:"addTagVisible"}},[n("div",{staticClass:"my-modal-title",attrs:{slot:"title"},slot:"title"},[e._v(" Add tag ")]),n("learn-out-add-tag",{attrs:{knowledge:e.knowledge},on:{"handle-select-tags":e.handleEnsureTags}})],1),n("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"1000px",title:"Add tag"},model:{value:e.centuryTagVisible,callback:function(t){e.centuryTagVisible=t},expression:"centuryTagVisible"}},[n("div",{staticClass:"ensure-setting-modal"},[n("div",{staticClass:"tips"},[n("p",[e._v(" "+e._s(e.knowledge.name)+" ")])]),n("div",[e._l(e.centuryTagList,(function(t,i){return n("div",{key:i,staticClass:"row-cascader"},[n("a-cascader",{staticStyle:{width:"900px"},attrs:{fieldNames:{label:"name",value:"name",children:"children"},options:e.centuryList,"change-on-select":""},model:{value:e.centuryTagList[i],callback:function(t){e.$set(e.centuryTagList,i,t)},expression:"centuryTagList[index]"}}),e.centuryTagList.length>1?n("a-button",{attrs:{type:"link",icon:"minus",size:"large"},on:{click:function(t){return e.handleRemoveCenturyTag(i)}}}):e._e()],1)})),n("a-button",{attrs:{type:"link",icon:"plus-circle",size:"large"},on:{click:function(t){return e.handleAddCenturyTag()}}})],2),n("div",{staticClass:"modal-ensure-action-line-center"},[n("a-button",{staticClass:"action-item action-cancel",attrs:{shape:"round"},on:{click:function(t){e.centuryTagVisible=!1}}},[e._v("Cancel")]),n("a-button",{staticClass:"action-ensure action-item",attrs:{type:"primary",shape:"round"},on:{click:e.handleEnsureCenturyTags}},[e._v("Confirm")])],1)])])],1)},a=[],r=(n("ac1f"),n("1276"),n("d81d"),n("4de4"),n("7db0"),n("a630"),n("3ca3"),n("d3b7"),n("6062"),n("ddb0"),n("99af"),n("c740"),n("a434"),n("159b"),n("b0c0"),n("823b")),s=n("69b3"),o=n("214d"),l=n("f93e"),c=n("db6a"),d=n("2934"),u={name:"UiLearnOutSub",components:{LearnOutAddTag:o["a"],NoMoreResources:s["a"]},props:{learnOuts:{type:Array,default:function(){return[]}},selfOuts:{type:Array,default:function(){return[]}},classInfoList:{type:Array,default:function(){return[]}}},mounted:function(){},destroyed:function(){},computed:{dealPath:function(){return function(e){return e?e.split(">"):e}},bloomInfo:function(){var e=this;return function(t,n){if(!t||0===e.classInfoList.length)return null;var i=e.classInfoList.map((function(e){return e.data&&e.data.data?e.data.data:""})),a=i.filter((function(e){return e&&e.learnOuts&&e.learnOuts.length>0})),r=a.filter((function(e){return e.learnOuts.find((function(e){return e.knowledgeId===t}))})),s={knowledgeLevel:[],bloomLevel:0};return s.knowledgeLevel=Array.from(new Set(r.map((function(e){return e.knowledgeLevel})).filter((function(e){return""!==e})))),s.bloomLevel=r.map((function(t){var n=e.bloomLevel.find((function(e){return e.text===t.bloomLevel}));return n?parseInt(n.value):""})).filter((function(e){return""!==e})).sort().pop(),"isExist"===n?s.knowledgeLevel.length>0||s.bloomLevel>0:s[n]}},bloomLevelDesc:function(){return this.bloomLevel&&this.bloomLevel.length>0?this.bloomLevel.map((function(e){return e.title})):[]}},data:function(){return{knowledgeList:[],addTagVisible:!1,centuryTagVisible:!1,centuryTagList:[],knowledge:{},tags:[],TagType:l["U"],AllCurriculums:l["b"],centuryList:[],bloomLevel:[]}},created:function(){this.knowledgeList=this.learnOuts.concat(this.selfOuts),r["info"]("knowledgeList ",this.knowledgeList),this.get21century(),this.initData()},watch:{},methods:{initData:function(){var e=this;Object(d["a"])(l["k"]).then((function(t){t.success&&(r["info"]("DICT_BLOOM_TAXONOMY",t.result),e.bloomLevel=t.result)}))},handleActiveDescription:function(e,t){var n=this.knowledgeList.findIndex((function(e){return e.knowledgeId===t.knowledgeId}));this.knowledgeList[n].tagType!==l["U"].knowledge&&this.knowledgeList[n].tagType!==l["U"].century||(this.knowledgeList[n].tagListVisible?this.knowledgeList[n].tagListVisible=!1:this.knowledgeList[n].tagListVisible=!0,this.$set(this.knowledgeList,n,this.knowledgeList[n]),r["info"]("tagListVisible ",this.knowledgeList[n].tagListVisible))},handleDeleteTag:function(e,t){var n=this.knowledgeList.findIndex((function(t){return t.knowledgeId===e.knowledgeId}));this.knowledgeList[n].tags.splice(this.knowledgeList[n].tags.indexOf(t),1)},handleDeleteKnowledgeItem:function(e){var t=this.knowledgeList.findIndex((function(t){return t.knowledgeId===e.knowledgeId})),n=this.knowledgeList[t];this.knowledgeList.splice(t,1),this.$emit("remove-learn-outs",n)},handleAddTag:function(e){r["info"]("handleAddTag ",e),e.tagType===l["U"].knowledge?(this.knowledge=e,this.addTagVisible=!0):e.tagType===l["U"].century&&(this.knowledge=e,this.centuryTagList=[],this.centuryTagList.push([]),this.centuryTagVisible=!0)},handleEnsureSelectData:function(){this.addTagVisible=!1},handleEnsureTags:function(e){var t=this;this.knowledge.tags=e;var n=this.knowledgeList.findIndex((function(e){return e.knowledgeId===t.knowledge.knowledgeId}));this.knowledgeList[n].tagListVisible=!0},handleEnsureCenturyTags:function(){var e=this;r["info"]("handleEnsureCenturyTags ",this.centuryTagList),0!==this.centuryTagList[0].length?(this.centuryTagList.forEach((function(t){e.knowledge.tags||(e.knowledge.tags=[]),-1===e.knowledge.tags.indexOf(t[t.length-1])&&e.knowledge.tags.push(t[t.length-1]),r["info"]("this.knowledge.tags ",e.knowledge.tags)})),this.centuryTagVisible=!1,this.knowledge.tagListVisible=!0):this.$message.error("Please select tags")},handleRemoveCenturyTag:function(e){r["info"]("handleRemoveCenturyTag ",e),this.centuryTagList.splice(e,1)},handleAddCenturyTag:function(){this.centuryTagList.push([])},treeForeach:function(e,t){var n=this;e.forEach((function(e){e.children&&n.treeForeach(e.children,t),t(e)}))},get21century:function(){var e=this;Object(c["getAll21Century"])({}).then((function(t){e.$logger.info("getAll21Century response",t),t.success&&(e.centuryList=t.result,e.treeForeach(e.centuryList,(function(t){0===t.children.length&&(t.title=e.$options.filters["gradeFormat"](t.gradeNames))})))})).finally((function(){e.subTreeLoading=!1}))},getknowledgeListType:function(e){return e===l["U"].skill?this.knowledgeList.filter((function(e){return e.tagType===l["U"].skill||e.tagType===l["U"].ibSkill||e.tagType===l["U"].idu})):e===l["U"].century?this.knowledgeList.filter((function(e){return e.tagType===l["U"].century||e.tagType===l["U"].common})):this.knowledgeList.filter((function(t){return t.tagType===e}))},getSubjectName:function(e){var t=this.$store.getters.allSubjects.find((function(t){return t.id===e}));return t?t.name:null}}},p=u,h=(n("66d8"),n("0c7c")),f=Object(h["a"])(p,i,a,!1,null,"306ae012",null);t["a"]=f.exports},9586:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-content-selector"},[n("my-content-created-by-me",{attrs:{"filter-type-list":e.filterTypeList,"selected-list":e.selectedList,mode:e.mode,"selected-type":e.selectedType,"current-id":e.currentId}})],1)},a=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my-content"},[i("div",{staticClass:"filter-line"},[i("div",{staticClass:"status-tab"},["created-by-me"===e.selectedType?i("div",{staticClass:"toggle-mode-type-wrapper"},[i("div",{staticClass:"toggle-mode-type"},[i("div",{staticClass:"toggle-mode"},[i("div",{class:{"mode-item":!0,"skill-active-mode":"all-status"===e.currentStatus},on:{click:function(t){e.toggleStatus("all-status",e.$t("teacher.my-content.all-status"))}}},[e._v(" "+e._s(e.$t("teacher.my-content.all-status"))+" ")]),i("div",{class:{"mode-item":!0,"knowledge-active-mode":"published"===e.currentStatus},on:{click:function(t){e.toggleStatus("published",e.$t("teacher.my-content.published-status"))}}},[e._v(" "+e._s(e.$t("teacher.my-content.published-status"))+" ")]),i("div",{class:{"mode-item":!0,"general-active-mode":"draft"===e.currentStatus},on:{click:function(t){e.toggleStatus("draft",e.$t("teacher.my-content.draft-status"))}}},[e._v(" "+e._s(e.$t("teacher.my-content.draft-status"))+" ")])])])]):e._e()])]),i("div",{staticClass:"content-wrapper"},[i("a-skeleton",{attrs:{loading:e.skeletonLoading,active:""}},[i("div",{staticClass:"content-list"},["list"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("a-list-item",{key:"item.key",class:{"my-list-item":!0,"active-item":-1!==e.selectedList.indexOf(t.id)},on:{click:function(n){return e.handleToggleSelect(t,n)}}},[i("span",{staticClass:"content-info-left"},[i("content-type-icon",{attrs:{type:t.type}}),i("span",{staticClass:"name-content"},[i("span",{staticClass:"name-text",on:{click:function(n){return e.handleViewDetail(t,n)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")])])],1),i("span",{staticClass:"content-info-right"},[i("span",{staticClass:"update-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime||t.createTime))+" ")]),i("span",{staticClass:"status"},[0===t.status?[e._v("Draft")]:e._e(),1===t.status?[e._v("Published")]:e._e()],2),i("div",{staticClass:"action"},[e.mode===e.displayMode.Link?i("div",{attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link this content to my Unit?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(n){return e.handleLinkItem(t,n)}}},[i("span",[i("a-icon",{attrs:{type:"form"}}),e._v(" Link ")],1)])],1)])]):e._e(),e.mode===e.displayMode.Refer?i("div",{attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item refer-item"},[i("a-button",{staticClass:"refer-btn",attrs:{type:"primary"},on:{click:function(n){return e.handleReferItem(t,n)}}},[i("img",{staticClass:"btn-icon btn-icon-white",attrs:{src:n("e568")}}),i("img",{staticClass:"btn-icon btn-icon-color",attrs:{src:n("83d7")}}),i("div",{staticClass:"btn-text"},[e._v(" Refer ")])])],1)])]):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.displayMode.Evaluation,expression:"mode === displayMode.Evaluation"}],attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(n){return e.handleLinkItem(t,n)}}},[i("div",{staticClass:"link-item"},[i("img",{staticClass:"link-icon",attrs:{src:n("de1a")}}),e._v(" "+e._s("Link this evaluation to this "+(t.type===e.typeMap.task?"task":t.type===e.typeMap.lesson?"lesson":""))+" ")])])],1)])])])]),-1!==e.selectedList.indexOf(t.id)?i("div",{directives:[{name:"show",rawName:"v-show",value:"refer"!==e.mode,expression:"mode !== 'refer'"}],staticClass:"action-icon"},[i("img",{attrs:{src:n("7aa6")}})]):e._e()])}}],null,!1,2472396095)}):e._e(),"card"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("div",{key:"item.key",staticClass:"my-card-list-item"},[i("div",{staticClass:"ppt-preview-wrapper"},[i("div",{staticClass:"template-hover-action-mask"},[i("div",{staticClass:"template-hover-action"},[i("div",{staticClass:"modal-ensure-action-line"},[i("a-button",{staticClass:"action-ensure action-item",attrs:{shape:"round"},on:{click:function(n){return e.handlePreviewTemplate(t)}}},[i("a-icon",{attrs:{type:"eye",theme:"filled"}}),i("div",{staticClass:"btn-text"},[e._v(" Preview ")])],1),-1===e.selectedList.indexOf(t.id)?i("a-button",{staticClass:"action-ensure action-item",attrs:{shape:"round"},on:{click:function(n){return e.handleToggleSelect(t,n)}}},[i("a-icon",{attrs:{type:"plus-circle",theme:"filled"}}),i("div",{staticClass:"btn-text"},[e._v(" Add ")])],1):i("a-button",{staticClass:"action-ensure action-item",attrs:{shape:"round"},on:{click:function(n){return e.handleToggleSelect(t,n)}}},[i("a-icon",{attrs:{type:"minus-circle",theme:"filled"}}),i("div",{staticClass:"btn-text"},[e._v(" Remove ")])],1)],1)])]),i("div",{staticClass:"cover-img-wrapper"},[i("div",{staticClass:"cover-image",style:{backgroundImage:"url('"+t.image+"')"}})])]),i("div",{staticClass:"item-intro",on:{click:function(n){return e.handleViewDetail(t,n)}}},[i("div",{staticClass:"page-info"},[i("span",{staticClass:"page-num-tag"},[e._v(" 1/"+e._s(t.pageObjectIds.length)+" ")])]),i("div",{staticClass:"main-title"},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")]),i("div",{staticClass:"sub-title"},[e._v(" "+e._s(e._f("dayjs")(t.createTime))+" ")])]),i("div",{staticClass:"card-action-icon"},[-1!==e.selectedList.indexOf(t.id)?i("img",{attrs:{src:n("7aa6")}}):e._e()])])}}],null,!1,815843547)}):e._e()],1)]),i("a-drawer",{attrs:{destroyOnClose:"",placement:"right",width:"1000px",closable:!1,"z-index":4e3,visible:e.previewVisible},on:{close:e.handlePreviewClose}},[i("div",{staticClass:"preview-wrapper-row"},[i("div",{staticClass:"view-back"},[i("a-button",{staticClass:"preview-back-btn",attrs:{type:"primary",shape:"round"},on:{click:e.handlePreviewClose}},[i("a-icon",{style:{"font-size":"12px"},attrs:{type:"left"}}),e._v("Back")],1)],1),i("div",{staticClass:"detail-wrapper"},[e.previewCurrentId&&e.previewType?i("div",{staticClass:"preview-detail"},[i("common-preview-v2",{attrs:{id:e.previewCurrentId,type:e.previewType}})],1):e._e()])])]),i("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"1000px",zIndex:4e3,title:null},on:{ok:function(t){e.previewTemplateVisible=!1},cancel:function(t){e.previewTemplateVisible=!1}},model:{value:e.previewTemplateVisible,callback:function(t){e.previewTemplateVisible=t},expression:"previewTemplateVisible"}},[i("div",{staticClass:"link-content-wrapper"},[i("template-preview",{attrs:{template:e.previewTemplate,"selected-template-id-list":e.selectedList},on:{"handle-select":e.handleToggleSelect}})],1)])],1)])},s=[],o=(n("ac1f"),n("1276"),n("159b"),n("d3b7"),n("823b")),l=n("ea23"),c=n("7d7a"),d=n("9afb"),u=n("95c6"),p=n("3f76"),h=n("4803"),f=n("8f46"),v=n("4fb2"),m=n("57a5b"),g=n("adfc"),y=n("69b3"),b=n("3361"),w=n.n(b),C=n("9b5b"),S=n.n(C),k=n("e709"),_={name:"MyContentCreatedByMe",components:{CommonPreviewV2:g["a"],ContentStatusIcon:h["a"],ContentTypeIcon:f["a"],UnitPlanPreview:l["default"],MaterialPreview:c["default"],NoMoreResources:y["a"],PubuSvg:S.a,LiebiaoSvg:w.a,TemplatePreview:k["a"]},props:{filterTypeList:{type:Array,default:function(){return[]}},selectedList:{type:Array,default:function(){return[]}},mode:{type:String,default:m["a"].Link},selectedType:{type:String,default:"created-by-me"},currentId:{type:String,default:""}},data:function(){var e=this;return{skeletonLoading:!0,loading:!0,loadFailed:!1,myContentList:[],displayMode:m["a"],currentStatus:"all-status",currentStatusLabel:this.$t("teacher.my-content.all-status"),currentType:"",currentTypeLabel:this.$t("teacher.my-content.all-type"),currentOwner:"all-owner",currentOwnerLabel:this.$t("teacher.my-content.all-owner"),previewVisible:!1,previewCurrentId:"",previewType:"",pagination:{onChange:function(t){o["info"]("pagination onChange",t),e.pageNo=t,e.loadMyContent()},showTotal:function(e){return"Total ".concat(e," items")},total:0,pageSize:100},pageNo:1,typeMap:p["e"],dataListMode:"card",previewTemplate:{},previewTemplateVisible:!1}},watch:{selectedType:function(e){this.$logger.info("watch select type "+e),this.pageNo=1,this.myContentList=[],this.pagination.total=0,this.pagination.pageSize=100,this.loadMyContent()}},computed:{countPptSize:function(){return function(e){return e?e.split(",").length:0}}},created:function(){o["info"]("teacher my content filter type ",this.filterTypeList),this.loadMyContent()},mounted:function(){},methods:{loadMyContent:function(){this.loading=!0,"created-by-me"===this.selectedType?this.getMyContent():"my-favorite"===this.selectedType?this.getMyFavorites():"shared"===this.selectedType&&(this.loading=!1,this.skeletonLoading=!1,this.$logger.info("shared coming soon!"))},handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},getMyContent:function(){var e=this,t=[];this.filterTypeList.forEach((function(e){t.push(p["e"][e])})),Object(d["FindMyContent"])({owner:p["c"][this.currentOwner],status:p["d"][this.currentStatus],types:this.currentType?[p["e"][this.currentType]]:t,pageNo:this.pageNo,pageSize:this.pagination.pageSize,currentId:this.currentId,slideStatus:1}).then((function(t){o["info"]("getMyContent",t),t.result&&t.result.records&&t.result.records.length?(t.result.records.forEach((function(e,t){e.key=t})),e.myContentList=t.result.records,e.pagination.total=t.result.total):(e.myContentList=[],e.pagination.total=0),o["info"]("myContentList",e.myContentList)})).finally((function(){e.loading=!1,e.skeletonLoading=!1}))},getMyFavorites:function(){var e=this;this.$logger.info("getMyFavorites"),Object(u["FavoritesGetMyFavorites"])({type:p["e"][this.currentType],pageNo:this.pageNo,pageSize:this.pagination.pageSize}).then((function(t){e.$logger.info("FavoritesGetMyFavorites response",t),t.result&&t.result.records&&t.result.records.length?(t.result.records.forEach((function(e,t){e.key=t})),e.myContentList=t.result.records,e.pagination.total=t.result.total,e.pagination.current=t.result.current):(e.myContentList=[],e.pagination.total=0)})).finally((function(){e.loading=!1,e.skeletonLoading=!1}))},toggleStatus:function(e,t){o["info"]("toggleStatus "+e+" label "+t),this.currentStatus=e,this.currentStatusLabel=t,this.loadMyContent()},toggleType:function(e,t){o["info"]("toggleType "+e+" label "+t),this.currentType=e,this.currentTypeLabel=t,this.loadMyContent()},toggleOwner:function(e,t){o["info"]("toggleOwner "+e+" label "+t),this.currentOwner=e,this.currentOwnerLabel=t,this.loadMyContent()},handleLinkItem:function(e,t){o["info"]("handleLinkItem",e),t.preventDefault(),t.stopPropagation(),v["b"].$emit(v["a"].LinkToMyContentItem,{item:e})},handleViewDetail:function(e,t){o["info"]("my content created by me handleViewDetail",e,t),t.preventDefault(),t.stopPropagation(),this.previewCurrentId=e.id,this.previewType=e.type,this.previewVisible=!0},handleToggleSelect:function(e,t){o["info"]("handleToggleSelect",e,t),v["b"].$emit(v["a"].ToggleSelectContentItem,e,t),this.previewTemplateVisible=!1},handlePreviewClose:function(){o["info"]("handlePreviewClose"),this.previewCurrentId="",this.previewType="",this.previewVisible=!1},handleReferItem:function(e,t){o["info"]("handleReferItem",e),t.preventDefault(),t.stopPropagation(),v["b"].$emit(v["a"].ReferContentItem,{item:e})},handlePreviewTemplate:function(e){this.$logger.info("handlePreviewTemplate ",e),this.previewTemplateVisible=!0,this.previewTemplate=e}}},T=_,x=(n("72b3"),n("0c7c")),D=Object(x["a"])(T,r,s,!1,null,"4b50f0f9",null),E=D.exports,O={name:"MyContentSelector",components:{MyContentCreatedByMe:E},props:{filterTypeList:{type:Array,default:function(){return[]}},selectedList:{type:Array,default:function(){return[]}},mode:{type:String,default:m["a"].Link},currentId:{type:String,default:""}},data:function(){return{displayMode:m["a"],selectedType:"created-by-me"}},computed:{},created:function(){this.$logger.info("MyContentSelector selectedType "+this.selectedType+", mode:"+this.mode+", filterType ",this.filterTypeList)},mounted:function(){},methods:{handleToggleType:function(e){this.$logger.info("handleToggleType "+e),this.selectedType=e}}},I=O,M=(n("27aa"),Object(x["a"])(I,i,a,!1,null,"1ed7a2f5",null));t["a"]=M.exports},"95c6":function(e,t,n){"use strict";n.r(t),n.d(t,"favoritesAPIUrl",(function(){return a})),n.d(t,"FavoritesAdd",(function(){return r})),n.d(t,"FavoritesQueryById",(function(){return s})),n.d(t,"FavoritesDelete",(function(){return o})),n.d(t,"FavoritesDeleteBatch",(function(){return l})),n.d(t,"FavoritesList",(function(){return c})),n.d(t,"FavoritesGetMyFavorites",(function(){return d}));var i=n("b775"),a={FavoritesAdd:"/classcipe/api/favorites/add",FavoritesQueryById:"/classcipe/api/favorites/queryById",FavoritesDelete:"/classcipe/api/favorites/delete",FavoritesDeleteBatch:"/classcipe/api/favorites/deleteBatch",FavoritesList:"/classcipe/api/favorites/list",FavoritesGetMyFavorites:"/classcipe/api/favorites/getMyFavorites"};function r(e){return Object(i["d"])({url:a.FavoritesAdd,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(e){return Object(i["d"])({url:a.FavoritesQueryById,method:"get",params:e})}function o(e){return Object(i["d"])({url:a.FavoritesDelete,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(i["d"])({url:a.FavoritesDeleteBatch,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(i["d"])({url:a.FavoritesList,method:"get",params:e})}function d(e){return Object(i["d"])({url:a.FavoritesGetMyFavorites,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},"972f":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"evaluation-preview"},[e.loading?[n("a-skeleton",{attrs:{active:""}})]:[n("a-row",{staticClass:"top-info",attrs:{gutter:[16,24]}},[n("a-col",{attrs:{span:"24"}},e._l(e.forms,(function(t,i){return n("div",{key:i,class:{"form-item":!0,"form-item-active":!0}},[n("evaluation-table",{ref:"evaluationTable",refInFor:!0,attrs:{"form-id":t.formId,"init-raw-headers":t.initRawHeaders,"init-raw-data":t.initRawData,"form-type":t.formType,mode:e.EvaluationTableMode.Preview}})],1)})),0)],1)]],2)},a=[],r=(n("d3b7"),n("159b"),n("823b")),s=n("8f46"),o=n("c0f4"),l=n("9f06"),c=n("ca00"),d=n("9586"),u=n("0fa0"),p=n("1138"),h=n("90e8"),f={name:"EvaluationTablePreview",components:{EvaluationTable:p["a"],ContentTypeIcon:s["a"],InputSearch:o["a"],MyContentSelector:d["a"],RelevantTagSelector:u["a"]},props:{evaluationId:{type:String,default:null}},data:function(){return{loading:!0,forms:[],evaluationTableList:[],initRawHeaders:[],initRawData:[],selfType:!1,EvaluationTableMode:h["a"]}},computed:{lastChangeSavedTime:function(){var e=this.form.updateTime||this.form.createTime;return e?Object(c["formatLocalUTC"])(this.form.updateTime||this.form.createTime):""}},created:function(){r["info"]("EvaluationTablePreview created "+this.evaluationId),this.initData()},methods:{initData:function(){var e=this;r["info"]("initData doing..."),Object(l["EvaluationQueryByIds"])({ids:[this.evaluationId]}).then((function(t){e.$logger.info("handleToggleSelect EvaluationQueryByIds "+e.evaluationId,t);var n=[];t.result.forEach((function(e){e.forms.forEach((function(e){n.push({title:e.title,titleEditing:!1,formType:e.formType,se:e.se,pe:e.pe,menuVisible:!1,id:e.id,formId:e.formId,initRawHeaders:JSON.parse(e.initRawHeaders),initRawData:JSON.parse(e.initRawData)})}))})),e.forms=n,0===e.forms.length&&e.$message.warn("The current assessment tool form has not been created")})).finally((function(){e.loading=!1}))}}},v=f,m=(n("4198"),n("0c7c")),g=Object(m["a"])(v,i,a,!1,null,"e834b3c0",null);t["a"]=g.exports},"9a45":function(e,t,n){},"9a87":function(e,t,n){"use strict";n("e629")},"9b5b":function(e,t,n){var i=n("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"27.223",height:"28",viewBox:"0 0 27.223 28"},children:[{tag:"defs"},{tag:"path",attrsMap:{id:"pubu_","data-name":"pubu ",class:"cls-1",d:"M17422.268,9413v-7.046h6.957V9413Zm-9.953,0v-7.046h7.268V9413Zm-10.312,0v-7.046h6.953V9413Zm20.266-10.41v-7.231h6.957v7.231Zm-9.953,0v-7.231h7.268v7.231Zm-10.312,0v-7.231h6.953v7.231Zm20.266-10.638V9385h6.957v6.952Zm-9.953,0V9385h7.268v6.952Zm-10.312,0V9385h6.953v6.952Z",transform:"translate(-17402.002 -9385.001)"}}]})}},"9c2c":function(e,t,n){var i=n("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19"},children:[{tag:"g",attrsMap:{transform:"translate(-771.25 -365.25)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#15c39a;stroke:#15c39a;",d:"M9,0A9,9,0,1,1,0,9,9,9,0,0,1,9,0Z",transform:"translate(771.75 365.75)"}},{tag:"path",attrsMap:{class:"b",style:"fill:#fff;stroke:#fff;stroke-width:0.5px;",d:"M24.47,24.8V21.78h3.016a.5.5,0,0,0,0-1.005H24.47V17.759a.5.5,0,0,0-1.005,0v3.016H20.449a.5.5,0,0,0,0,1.005h3.016V24.8a.5.5,0,0,0,1.005.044q0-.022,0-.044Z",transform:"translate(756.784 353.451)"}}]}]})}},"9ee6":function(e,t,n){"use strict";n("9a45")},"9f06":function(e,t,n){"use strict";n.r(t),n.d(t,"evaluationAPIUrl",(function(){return o})),n.d(t,"EvaluationAddOrUpdate",(function(){return l})),n.d(t,"EvaluationQueryById",(function(){return c})),n.d(t,"EvaluationQueryByIds",(function(){return d})),n.d(t,"EvaluationDelete",(function(){return u})),n.d(t,"FindMyClasses",(function(){return p})),n.d(t,"GetSessionEvaluationByClassId",(function(){return h})),n.d(t,"SaveSessionEvaluation",(function(){return f})),n.d(t,"QuerySessionEvaluation",(function(){return v})),n.d(t,"QuerySessionEvidence",(function(){return m})),n.d(t,"SaveSessionEvidence",(function(){return g})),n.d(t,"QuerySessionTakeaway",(function(){return y})),n.d(t,"SaveSessionTakeaway",(function(){return b})),n.d(t,"GetEvaluationFormSet",(function(){return w})),n.d(t,"SaveEvaluationFormSet",(function(){return C})),n.d(t,"GetEvaluationMode",(function(){return S})),n.d(t,"SaveEvaluationMode",(function(){return k}));var i=n("b775"),a=n("8ded"),r=n.n(a),s=n("9fb0"),o={addOrUpdate:"/classcipe/api/evaluation/addOrUpdate",delete:"/classcipe/api/evaluation/delete",deleteBatch:"/classcipe/api/evaluation/deleteBatch",list:"/classcipe/api/evaluation/list",queryById:"/classcipe/api/evaluation/queryById",queryByIds:"/classcipe/api/evaluation/queryByIds",findMyClasses:"/classcipe/api/evaluation/findMyClasses",GetSessionEvaluationByClassId:"/classcipe/api/evaluation/getSessionEvaluationByClassId",querySessionEvaluation:"/classcipe/api/evaluation/querySessionEvaluation",saveSessionEvaluation:"/classcipe/api/evaluation/saveSessionEvaluation",querySessionEvidence:"/classcipe/api/evaluation/querySessionEvidence",saveSessionEvidence:"/classcipe/api/evaluation/saveSessionEvidence",getEvaluationFormSet:"/classcipe/api/evaluation/getEvaluationFormSet",saveEvaluationFormSet:"/classcipe/api/evaluation/saveEvaluationFormSet",getEvaluationMode:"/classcipe/api/evaluation/getEvaluationMode",saveEvaluationMode:"/classcipe/api/evaluation/saveEvaluationMode",saveSessionTakeaway:"/classcipe/api/evaluation/saveSessionTakeaway",querySessionTakeaway:"/classcipe/api/evaluation/querySessionTakeaway"};function l(e){return Object(i["d"])({url:o.addOrUpdate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(i["d"])({url:o.queryById,method:"get",params:e})}function d(e){return Object(i["d"])({url:o.queryByIds,method:"post",data:e})}function u(e){return Object(i["d"])({url:o.delete+"?id="+e.id,method:"post",data:e})}function p(e){var t=r.a.get(s["a"]);return e["token"]=t,Object(i["d"])({url:o.findMyClasses,method:"post",data:e})}function h(e){return Object(i["d"])({url:o.GetSessionEvaluationByClassId,method:"get",params:e})}function f(e){return Object(i["d"])({url:o.saveSessionEvaluation,method:"post",data:e})}function v(e){return Object(i["d"])({url:o.querySessionEvaluation,method:"post",data:e})}function m(e){return Object(i["d"])({url:o.querySessionEvidence,method:"post",data:e})}function g(e){return Object(i["d"])({url:o.saveSessionEvidence,method:"post",data:e})}function y(e){return Object(i["d"])({url:o.querySessionTakeaway,method:"post",data:e})}function b(e){return Object(i["d"])({url:o.saveSessionTakeaway,method:"post",data:e})}function w(e){return Object(i["d"])({url:o.getEvaluationFormSet,method:"post",data:e})}function C(e){return Object(i["d"])({url:o.saveEvaluationFormSet,method:"post",data:e})}function S(e){return Object(i["d"])({url:o.getEvaluationMode,method:"post",data:e})}function k(e){return Object(i["d"])({url:o.saveEvaluationMode,method:"post",data:e})}},a060:function(e,t,n){},a0cf:function(e,t,n){"use strict";n("88a9")},a16a:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("FullCalendar",{ref:"fullCalendar",staticClass:"schedule-calendar",attrs:{options:e.calendarOptions},scopedSlots:e._u([{key:"eventContent",fn:function(t){return[e._t("eventContent",(function(){return[e._v(e._s(t.event.title))]}),{info:t})]}}],null,!0)})},a=[],r=(n("5574"),n("f5ff")),s=n("3cdd"),o=n("3e32"),l=n("a20c"),c=n("c1df"),d=n.n(c),u={name:"CcCalendar",props:{eventsApi:{type:Function,default:function(e,t,n){return t([])},required:!0},slotDuration:{type:String,default:"00:15:00"},slotMinTime:{type:String,default:"00:00:00"},slotMaxTime:{type:String,default:"24:00:00"},scrollTime:{type:String,default:"06:00:00"},slotLabelInterval:{type:String,default:"01:00"},editable:{type:Boolean,default:!0},selectable:{type:Boolean,default:!0},headerToolbar:{type:[Object,Boolean],default:function(){return{left:"prev,next,today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"}}},selfViews:{type:Object,default:function(){}},initView:{type:String,default:"timeGridWeek"},selectAllow:{type:Function,default:function(){return!0}},dayHeaderContent:{type:Function,default:function(e){return e.text}},validRange:{type:Function,default:function(){}}},components:{FullCalendar:r["a"]},data:function(){return{loading:!1,calendarOptions:{plugins:[s["b"],l["a"],o["a"]],initialView:this.initView,headerToolbar:this.headerToolbar,views:this.selfViews,events:this.eventsApi,slotEventOverlap:!0,editable:this.editable,selectable:this.selectable,allDaySlot:!1,selectMirror:!0,dayMaxEvents:!0,nowIndicator:!0,weekends:!0,lazyFetching:!1,slotMinTime:this.slotMinTime,slotMaxTime:this.slotMaxTime,scrollTime:this.scrollTime,slotDuration:this.slotDuration,slotLabelInterval:this.slotLabelInterval,select:this.handleDateSelect,eventClick:this.handleEventClick,eventsSet:this.handleEvents,datesSet:this.handleDatesSet,eventMouseEnter:this.handleMouseEnter,eventMouseLeave:this.handleMouseLeave,eventDrop:this.handleEventDrop,eventResize:this.handleEventResize,dayHeaderContent:this.dayHeaderContent,eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1,meridiem:!1},slotLabelFormat:function(e){return d()(e.date).format("HH:mm")},viewDidMount:this.handleViewDidMount,selectAllow:this.selectAllow,validRange:this.validRange}}},mounted:function(){var e=this;setTimeout((function(){e.reRender()}),100)},methods:{handleViewDidMount:function(){this.$nextTick((function(){var e=document.getElementsByClassName("fc-timegrid-now-indicator-line");if(e&&e.length>0){var t=document.getElementsByClassName("fc-timegrid-body")[0];t.insertBefore(e[0],t.firstChild)}}))},getApi:function(){return this.$refs.fullCalendar?this.$refs.fullCalendar.getApi():null},handleDateSelect:function(e){this.$emit("select",e)},handleEventClick:function(e){this.$emit("eventClick",e)},handleEvents:function(e){this.$emit("eventsSet",e)},handleDatesSet:function(e){this.$emit("datesSet",e)},handleMouseEnter:function(e){this.$emit("eventMouseEnter",e)},handleMouseLeave:function(e){this.$emit("eventMouseLeave",e)},handleEventDrop:function(e){this.$emit("eventDrop",e)},handleEventResize:function(e){this.$emit("eventResize",e)},reRender:function(){var e=this;this.$nextTick((function(){if(e.$refs.fullCalendar){var t=e.$refs.fullCalendar.getApi();t&&t.render()}}))},reFetch:function(){var e=this;this.$nextTick((function(){if(e.$refs.fullCalendar){var t=e.$refs.fullCalendar.getApi();t&&t.refetchEvents()}}))}}},p=u,h=(n("cc1a"),n("0c7c")),f=Object(h["a"])(p,i,a,!1,null,"9d6e228e",null);t["a"]=f.exports},a20c:function(e,t,n){"use strict";var i=n("d610"),a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)};Object.create;Object.create;
/*!
FullCalendar v5.10.1
Docs & License: https://fullcalendar.io/
(c) 2021 Adam Shaw
*/
i["hb"].touchMouseIgnoreWait=500;var o=0,l=0,c=!1,d=function(){function e(e){var t=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(e){if(!t.shouldIgnoreMouse()&&u(e)&&t.tryStart(e)){var n=t.createEventFromMouse(e,!0);t.emitter.trigger("pointerdown",n),t.initScrollWatch(n),t.shouldIgnoreMove||document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp)}},this.handleMouseMove=function(e){var n=t.createEventFromMouse(e);t.recordCoords(n),t.emitter.trigger("pointermove",n)},this.handleMouseUp=function(e){document.removeEventListener("mousemove",t.handleMouseMove),document.removeEventListener("mouseup",t.handleMouseUp),t.emitter.trigger("pointerup",t.createEventFromMouse(e)),t.cleanup()},this.handleTouchStart=function(e){if(t.tryStart(e)){t.isTouchDragging=!0;var n=t.createEventFromTouch(e,!0);t.emitter.trigger("pointerdown",n),t.initScrollWatch(n);var i=e.target;t.shouldIgnoreMove||i.addEventListener("touchmove",t.handleTouchMove),i.addEventListener("touchend",t.handleTouchEnd),i.addEventListener("touchcancel",t.handleTouchEnd),window.addEventListener("scroll",t.handleTouchScroll,!0)}},this.handleTouchMove=function(e){var n=t.createEventFromTouch(e);t.recordCoords(n),t.emitter.trigger("pointermove",n)},this.handleTouchEnd=function(e){if(t.isDragging){var n=e.target;n.removeEventListener("touchmove",t.handleTouchMove),n.removeEventListener("touchend",t.handleTouchEnd),n.removeEventListener("touchcancel",t.handleTouchEnd),window.removeEventListener("scroll",t.handleTouchScroll,!0),t.emitter.trigger("pointerup",t.createEventFromTouch(e)),t.cleanup(),t.isTouchDragging=!1,p()}},this.handleTouchScroll=function(){t.wasTouchScroll=!0},this.handleScroll=function(e){if(!t.shouldIgnoreMove){var n=window.pageXOffset-t.prevScrollX+t.prevPageX,i=window.pageYOffset-t.prevScrollY+t.prevPageY;t.emitter.trigger("pointermove",{origEvent:e,isTouch:t.isTouchDragging,subjectEl:t.subjectEl,pageX:n,pageY:i,deltaX:n-t.origPageX,deltaY:i-t.origPageY})}},this.containerEl=e,this.emitter=new i["s"],e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),h()}return e.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),f()},e.prototype.tryStart=function(e){var t=this.querySubjectEl(e),n=e.target;return!(!t||this.handleSelector&&!Object(i["wb"])(n,this.handleSelector))&&(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0)},e.prototype.cleanup=function(){c=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},e.prototype.querySubjectEl=function(e){return this.selector?Object(i["wb"])(e.target,this.selector):this.containerEl},e.prototype.shouldIgnoreMouse=function(){return o||this.isTouchDragging},e.prototype.cancelTouchScroll=function(){this.isDragging&&(c=!0)},e.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},e.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},e.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},e.prototype.createEventFromMouse=function(e,t){var n=0,i=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:i}},e.prototype.createEventFromTouch=function(e,t){var n,i,a=e.touches,r=0,s=0;return a&&a.length?(n=a[0].pageX,i=a[0].pageY):(n=e.pageX,i=e.pageY),t?(this.origPageX=n,this.origPageY=i):(r=n-this.origPageX,s=i-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:i,deltaX:r,deltaY:s}},e}();function u(e){return 0===e.button&&!e.ctrlKey}function p(){o+=1,setTimeout((function(){o-=1}),i["hb"].touchMouseIgnoreWait)}function h(){l+=1,1===l&&window.addEventListener("touchmove",v,{passive:!1})}function f(){l-=1,l||window.removeEventListener("touchmove",v,{passive:!1})}function v(e){c&&e.preventDefault()}var m=function(){function e(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return e.prototype.start=function(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=n-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},e.prototype.handleMove=function(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()},e.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},e.prototype.stop=function(e,t){var n=this,i=function(){n.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)},e.prototype.doRevertAnimation=function(e,t){var n=this.mirrorEl,a=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",Object(i["T"])(n,{left:a.left,top:a.top}),Object(i["wc"])(n,(function(){n.style.transition="",e()}))},e.prototype.cleanup=function(){this.mirrorEl&&(Object(i["nc"])(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},e.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&Object(i["T"])(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},e.prototype.getMirrorEl=function(){var e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.classList.add("fc-unselectable"),t.classList.add("fc-event-dragging"),Object(i["T"])(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t},e}(),g=function(e){function t(t,n){var i=e.call(this)||this;return i.handleScroll=function(){i.scrollTop=i.scrollController.getScrollTop(),i.scrollLeft=i.scrollController.getScrollLeft(),i.handleScrollChange()},i.scrollController=t,i.doesListening=n,i.scrollTop=i.origScrollTop=t.getScrollTop(),i.scrollLeft=i.origScrollLeft=t.getScrollLeft(),i.scrollWidth=t.getScrollWidth(),i.scrollHeight=t.getScrollHeight(),i.clientWidth=t.getClientWidth(),i.clientHeight=t.getClientHeight(),i.clientRect=i.computeClientRect(),i.doesListening&&i.getEventTarget().addEventListener("scroll",i.handleScroll),i}return r(t,e),t.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},t.prototype.getScrollTop=function(){return this.scrollTop},t.prototype.getScrollLeft=function(){return this.scrollLeft},t.prototype.setScrollTop=function(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())},t.prototype.setScrollLeft=function(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())},t.prototype.getClientWidth=function(){return this.clientWidth},t.prototype.getClientHeight=function(){return this.clientHeight},t.prototype.getScrollWidth=function(){return this.scrollWidth},t.prototype.getScrollHeight=function(){return this.scrollHeight},t.prototype.handleScrollChange=function(){},t}(i["D"]),y=function(e){function t(t,n){return e.call(this,new i["r"](t),n)||this}return r(t,e),t.prototype.getEventTarget=function(){return this.scrollController.el},t.prototype.computeClientRect=function(){return Object(i["fb"])(this.scrollController.el)},t}(g),b=function(e){function t(t){return e.call(this,new i["M"],t)||this}return r(t,e),t.prototype.getEventTarget=function(){return window},t.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},t.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},t}(g),w="function"===typeof performance?performance.now:Date.now,C=function(){function e(){var e=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(e.isAnimating){var t=e.computeBestEdge(e.pointerScreenX+window.pageXOffset,e.pointerScreenY+window.pageYOffset);if(t){var n=w();e.handleSide(t,(n-e.msSinceRequest)/1e3),e.requestAnimation(n)}else e.isAnimating=!1}}}return e.prototype.start=function(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))},e.prototype.handleMove=function(e,t){if(this.isEnabled){var n=e-window.pageXOffset,i=t-window.pageYOffset,a=null===this.pointerScreenY?0:i-this.pointerScreenY,r=null===this.pointerScreenX?0:n-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),r<0?this.everMovedLeft=!0:r>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(w()))}},e.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,t=this.scrollCaches;e<t.length;e++){var n=t[e];n.destroy()}this.scrollCaches=null}},e.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},e.prototype.handleSide=function(e,t){var n=e.scrollCache,i=this.edgeThreshold,a=i-e.distance,r=a*a/(i*i)*this.maxVelocity*t,s=1;switch(e.name){case"left":s=-1;case"right":n.setScrollLeft(n.getScrollLeft()+r*s);break;case"top":s=-1;case"bottom":n.setScrollTop(n.getScrollTop()+r*s);break}},e.prototype.computeBestEdge=function(e,t){for(var n=this.edgeThreshold,i=null,a=0,r=this.scrollCaches;a<r.length;a++){var s=r[a],o=s.clientRect,l=e-o.left,c=o.right-e,d=t-o.top,u=o.bottom-t;l>=0&&c>=0&&d>=0&&u>=0&&(d<=n&&this.everMovedUp&&s.canScrollUp()&&(!i||i.distance>d)&&(i={scrollCache:s,name:"top",distance:d}),u<=n&&this.everMovedDown&&s.canScrollDown()&&(!i||i.distance>u)&&(i={scrollCache:s,name:"bottom",distance:u}),l<=n&&this.everMovedLeft&&s.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:s,name:"left",distance:l}),c<=n&&this.everMovedRight&&s.canScrollRight()&&(!i||i.distance>c)&&(i={scrollCache:s,name:"right",distance:c}))}return i},e.prototype.buildCaches=function(e){return this.queryScrollEls(e).map((function(e){return e===window?new b(!1):new y(e,!1)}))},e.prototype.queryScrollEls=function(e){for(var t=[],n=0,a=this.scrollQuery;n<a.length;n++){var r=a[n];"object"===typeof r?t.push(r):t.push.apply(t,Array.prototype.slice.call(Object(i["Eb"])(e).querySelectorAll(r)))}return t},e}(),S=function(e){function t(t,n){var a=e.call(this,t)||this;a.containerEl=t,a.delay=null,a.minDistance=0,a.touchScrollAllowed=!0,a.mirrorNeedsRevert=!1,a.isInteracting=!1,a.isDragging=!1,a.isDelayEnded=!1,a.isDistanceSurpassed=!1,a.delayTimeoutId=null,a.onPointerDown=function(e){a.isDragging||(a.isInteracting=!0,a.isDelayEnded=!1,a.isDistanceSurpassed=!1,Object(i["jc"])(document.body),Object(i["ic"])(document.body),e.isTouch||e.origEvent.preventDefault(),a.emitter.trigger("pointerdown",e),a.isInteracting&&!a.pointer.shouldIgnoreMove&&(a.mirror.setIsVisible(!1),a.mirror.start(e.subjectEl,e.pageX,e.pageY),a.startDelay(e),a.minDistance||a.handleDistanceSurpassed(e)))},a.onPointerMove=function(e){if(a.isInteracting){if(a.emitter.trigger("pointermove",e),!a.isDistanceSurpassed){var t=a.minDistance,n=void 0,i=e.deltaX,r=e.deltaY;n=i*i+r*r,n>=t*t&&a.handleDistanceSurpassed(e)}a.isDragging&&("scroll"!==e.origEvent.type&&(a.mirror.handleMove(e.pageX,e.pageY),a.autoScroller.handleMove(e.pageX,e.pageY)),a.emitter.trigger("dragmove",e))}},a.onPointerUp=function(e){a.isInteracting&&(a.isInteracting=!1,Object(i["R"])(document.body),Object(i["Q"])(document.body),a.emitter.trigger("pointerup",e),a.isDragging&&(a.autoScroller.stop(),a.tryStopDrag(e)),a.delayTimeoutId&&(clearTimeout(a.delayTimeoutId),a.delayTimeoutId=null))};var r=a.pointer=new d(t);return r.emitter.on("pointerdown",a.onPointerDown),r.emitter.on("pointermove",a.onPointerMove),r.emitter.on("pointerup",a.onPointerUp),n&&(r.selector=n),a.mirror=new m,a.autoScroller=new C,a}return r(t,e),t.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},t.prototype.startDelay=function(e){var t=this;"number"===typeof this.delay?this.delayTimeoutId=setTimeout((function(){t.delayTimeoutId=null,t.handleDelayEnd(e)}),this.delay):this.handleDelayEnd(e)},t.prototype.handleDelayEnd=function(e){this.isDelayEnded=!0,this.tryStartDrag(e)},t.prototype.handleDistanceSurpassed=function(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)},t.prototype.tryStartDrag=function(e){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))},t.prototype.tryStopDrag=function(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))},t.prototype.stopDrag=function(e){this.isDragging=!1,this.emitter.trigger("dragend",e)},t.prototype.setIgnoreMove=function(e){this.pointer.shouldIgnoreMove=e},t.prototype.setMirrorIsVisible=function(e){this.mirror.setIsVisible(e)},t.prototype.setMirrorNeedsRevert=function(e){this.mirrorNeedsRevert=e},t.prototype.setAutoScrollEnabled=function(e){this.autoScroller.isEnabled=e},t}(i["q"]),k=function(){function e(e){this.origRect=Object(i["gb"])(e),this.scrollCaches=Object(i["Cb"])(e).map((function(e){return new y(e,!0)}))}return e.prototype.destroy=function(){for(var e=0,t=this.scrollCaches;e<t.length;e++){var n=t[e];n.destroy()}},e.prototype.computeLeft=function(){for(var e=this.origRect.left,t=0,n=this.scrollCaches;t<n.length;t++){var i=n[t];e+=i.origScrollLeft-i.getScrollLeft()}return e},e.prototype.computeTop=function(){for(var e=this.origRect.top,t=0,n=this.scrollCaches;t<n.length;t++){var i=n[t];e+=i.origScrollTop-i.getScrollTop()}return e},e.prototype.isWithinClipping=function(e,t){for(var n={left:e,top:t},a=0,r=this.scrollCaches;a<r.length;a++){var s=r[a];if(!_(s.getEventTarget())&&!Object(i["hc"])(n,s.clientRect))return!1}return!0},e}();function _(e){var t=e.tagName;return"HTML"===t||"BODY"===t}var T=function(){function e(e,t){var n=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(e){var t=n.dragging;n.initialHit=null,n.movingHit=null,n.finalHit=null,n.prepareHits(),n.processFirstCoord(e),n.initialHit||!n.requireInitial?(t.setIgnoreMove(!1),n.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=function(e){n.emitter.trigger("dragstart",e),n.handleMove(e,!0)},this.handleDragMove=function(e){n.emitter.trigger("dragmove",e),n.handleMove(e)},this.handlePointerUp=function(e){n.releaseHits(),n.emitter.trigger("pointerup",e)},this.handleDragEnd=function(e){n.movingHit&&n.emitter.trigger("hitupdate",null,!0,e),n.finalHit=n.movingHit,n.movingHit=null,n.emitter.trigger("dragend",e)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new i["s"]}return e.prototype.processFirstCoord=function(e){var t,n={left:e.pageX,top:e.pageY},a=n,r=e.subjectEl;r instanceof HTMLElement&&(t=Object(i["gb"])(r),a=Object(i["ib"])(a,t));var s=this.initialHit=this.queryHitForOffset(a.left,a.top);if(s){if(this.useSubjectCenter&&t){var o=Object(i["Vb"])(t,s.rect);o&&(a=Object(i["Ib"])(o))}this.coordAdjust=Object(i["tb"])(a,n)}else this.coordAdjust={left:0,top:0}},e.prototype.handleMove=function(e,t){var n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);!t&&x(this.movingHit,n)||(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))},e.prototype.prepareHits=function(){this.offsetTrackers=Object(i["cc"])(this.droppableStore,(function(e){return e.component.prepareHits(),new k(e.el)}))},e.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var t in e)e[t].destroy();this.offsetTrackers={}},e.prototype.queryHitForOffset=function(e,t){var n=this,a=n.droppableStore,r=n.offsetTrackers,s=null;for(var o in a){var l=a[o].component,c=r[o];if(c&&c.isWithinClipping(e,t)){var d=c.computeLeft(),u=c.computeTop(),p=e-d,h=t-u,f=c.origRect,v=f.right-f.left,m=f.bottom-f.top;if(p>=0&&p<v&&h>=0&&h<m){var g=l.queryHit(p,h,v,m);g&&Object(i["lc"])(g.dateProfile.activeRange,g.dateSpan.range)&&(!s||g.layer>s.layer)&&(g.componentId=o,g.context=l.context,g.rect.left+=d,g.rect.right+=d,g.rect.top+=u,g.rect.bottom+=u,s=g)}}}return s},e}();function x(e,t){return!e&&!t||Boolean(e)===Boolean(t)&&Object(i["Zb"])(e.dateSpan,t.dateSpan)}function D(e,t){for(var n={},i=0,a=t.pluginHooks.datePointTransforms;i<a.length;i++){var r=a[i];s(n,r(e,t))}return s(n,E(e,t.dateEnv)),n}function E(e,t){return{date:t.toDate(e.range.start),dateStr:t.formatIso(e.range.start,{omitTime:e.allDay}),allDay:e.allDay}}var O=function(e){function t(t){var n=e.call(this,t)||this;n.handlePointerDown=function(e){var t=n.dragging,i=e.origEvent.target;t.setIgnoreMove(!n.component.isValidDateDownEl(i))},n.handleDragEnd=function(e){var t=n.component,i=n.dragging.pointer;if(!i.wasTouchScroll){var a=n.hitDragging,r=a.initialHit,o=a.finalHit;if(r&&o&&x(r,o)){var l=t.context,c=s(s({},D(r.dateSpan,l)),{dayEl:r.dayEl,jsEvent:e.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},n.dragging=new S(t.el),n.dragging.autoScroller.isEnabled=!1;var a=n.hitDragging=new T(n.dragging,Object(i["Tb"])(t));return a.emitter.on("pointerdown",n.handlePointerDown),a.emitter.on("dragend",n.handleDragEnd),n}return r(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t}(i["w"]),I=function(e){function t(t){var n=e.call(this,t)||this;n.dragSelection=null,n.handlePointerDown=function(e){var t=n,i=t.component,a=t.dragging,r=i.context.options,s=r.selectable&&i.isValidDateDownEl(e.origEvent.target);a.setIgnoreMove(!s),a.delay=e.isTouch?M(i):null},n.handleDragStart=function(e){n.component.context.calendarApi.unselect(e)},n.handleHitUpdate=function(e,t){var a=n.component.context,r=null,s=!1;if(e){var o=n.hitDragging.initialHit,l=e.componentId===o.componentId&&n.isHitComboAllowed&&!n.isHitComboAllowed(o,e);l||(r=L(o,e,a.pluginHooks.dateSelectionTransformers)),r&&Object(i["Yb"])(r,e.dateProfile,a)||(s=!0,r=null)}r?a.dispatch({type:"SELECT_DATES",selection:r}):t||a.dispatch({type:"UNSELECT_DATES"}),s?Object(i["vb"])():Object(i["yb"])(),t||(n.dragSelection=r)},n.handlePointerUp=function(e){n.dragSelection&&(Object(i["uc"])(n.dragSelection,e,n.component.context),n.dragSelection=null)};var a=t.component,r=a.context.options,s=n.dragging=new S(t.el);s.touchScrollAllowed=!1,s.minDistance=r.selectMinDistance||0,s.autoScroller.isEnabled=r.dragScroll;var o=n.hitDragging=new T(n.dragging,Object(i["Tb"])(t));return o.emitter.on("pointerdown",n.handlePointerDown),o.emitter.on("dragstart",n.handleDragStart),o.emitter.on("hitupdate",n.handleHitUpdate),o.emitter.on("pointerup",n.handlePointerUp),n}return r(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t}(i["w"]);function M(e){var t=e.context.options,n=t.selectLongPressDelay;return null==n&&(n=t.longPressDelay),n}function L(e,t,n){var a=e.dateSpan,r=t.dateSpan,o=[a.range.start,a.range.end,r.range.start,r.range.end];o.sort(i["db"]);for(var l={},c=0,d=n;c<d.length;c++){var u=d[c],p=u(e,t);if(!1===p)return null;p&&s(l,p)}return l.range={start:o[0],end:o[3]},l.allDay=a.allDay,l}var R=function(e){function t(n){var a=e.call(this,n)||this;a.subjectEl=null,a.subjectSeg=null,a.isDragging=!1,a.eventRange=null,a.relevantEvents=null,a.receivingContext=null,a.validMutation=null,a.mutatedRelevantEvents=null,a.handlePointerDown=function(e){var t=e.origEvent.target,n=a,r=n.component,s=n.dragging,o=s.mirror,l=r.context.options,c=r.context;a.subjectEl=e.subjectEl;var d=a.subjectSeg=Object(i["Fb"])(e.subjectEl),u=a.eventRange=d.eventRange,p=u.instance.instanceId;a.relevantEvents=Object(i["Jb"])(c.getCurrentData().eventStore,p),s.minDistance=e.isTouch?0:l.eventDragMinDistance,s.delay=e.isTouch&&p!==r.props.eventSelection?j(r):null,l.fixedMirrorParent?o.parentNode=l.fixedMirrorParent:o.parentNode=Object(i["wb"])(t,".fc"),o.revertDuration=l.dragRevertDuration;var h=r.isValidSegDownEl(t)&&!Object(i["wb"])(t,".fc-event-resizer");s.setIgnoreMove(!h),a.isDragging=h&&e.subjectEl.classList.contains("fc-event-draggable")},a.handleDragStart=function(e){var t=a.component.context,n=a.eventRange,r=n.instance.instanceId;e.isTouch?r!==a.component.props.eventSelection&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:r}):t.dispatch({type:"UNSELECT_EVENT"}),a.isDragging&&(t.calendarApi.unselect(e),t.emitter.trigger("eventDragStart",{el:a.subjectEl,event:new i["t"](t,n.def,n.instance),jsEvent:e.origEvent,view:t.viewApi}))},a.handleHitUpdate=function(e,t){if(a.isDragging){var n=a.relevantEvents,r=a.hitDragging.initialHit,s=a.component.context,o=null,l=null,c=null,d=!1,u={affectedEvents:n,mutatedEvents:Object(i["mb"])(),isEvent:!0};if(e){o=e.context;var p=o.options;s===o||p.editable&&p.droppable?(l=A(r,e,o.getCurrentData().pluginHooks.eventDragMutationMassagers),l&&(c=Object(i["S"])(n,o.getCurrentData().eventUiBases,l,o),u.mutatedEvents=c,Object(i["ac"])(u,e.dateProfile,o)||(d=!0,l=null,c=null,u.mutatedEvents=Object(i["mb"])()))):o=null}a.displayDrag(o,u),d?Object(i["vb"])():Object(i["yb"])(),t||(s===o&&x(r,e)&&(l=null),a.dragging.setMirrorNeedsRevert(!l),a.dragging.setMirrorIsVisible(!e||!Object(i["Eb"])(a.subjectEl).querySelector(".fc-event-mirror")),a.receivingContext=o,a.validMutation=l,a.mutatedRelevantEvents=c)}},a.handlePointerUp=function(){a.isDragging||a.cleanup()},a.handleDragEnd=function(e){if(a.isDragging){var t=a.component.context,n=t.viewApi,r=a,o=r.receivingContext,l=r.validMutation,c=a.eventRange.def,d=a.eventRange.instance,u=new i["t"](t,c,d),p=a.relevantEvents,h=a.mutatedRelevantEvents,f=a.hitDragging.finalHit;if(a.clearDrag(),t.emitter.trigger("eventDragStop",{el:a.subjectEl,event:u,jsEvent:e.origEvent,view:n}),l){if(o===t){var v=new i["t"](t,h.defs[c.defId],d?h.instances[d.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:h});for(var m={oldEvent:u,event:v,relatedEvents:Object(i["Y"])(h,t,d),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:p})}},g={},y=0,b=t.getCurrentData().pluginHooks.eventDropTransformers;y<b.length;y++){var w=b[y];s(g,w(l,t))}t.emitter.trigger("eventDrop",s(s(s({},m),g),{el:e.subjectEl,delta:l.datesDelta,jsEvent:e.origEvent,view:n})),t.emitter.trigger("eventChange",m)}else if(o){var C={event:u,relatedEvents:Object(i["Y"])(p,t,d),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:p})}};t.emitter.trigger("eventLeave",s(s({},C),{draggedEl:e.subjectEl,view:n})),t.dispatch({type:"REMOVE_EVENTS",eventStore:p}),t.emitter.trigger("eventRemove",C);var S=h.defs[c.defId],k=h.instances[d.instanceId],_=new i["t"](o,S,k);o.dispatch({type:"MERGE_EVENTS",eventStore:h});var T={event:_,relatedEvents:Object(i["Y"])(h,o,k),revert:function(){o.dispatch({type:"REMOVE_EVENTS",eventStore:h})}};o.emitter.trigger("eventAdd",T),e.isTouch&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:d.instanceId}),o.emitter.trigger("drop",s(s({},D(f.dateSpan,o)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:f.context.viewApi})),o.emitter.trigger("eventReceive",s(s({},T),{draggedEl:e.subjectEl,view:f.context.viewApi}))}}else t.emitter.trigger("_noEventDrop")}a.cleanup()};var r=a.component,o=r.context.options,l=a.dragging=new S(n.el);l.pointer.selector=t.SELECTOR,l.touchScrollAllowed=!1,l.autoScroller.isEnabled=o.dragScroll;var c=a.hitDragging=new T(a.dragging,i["Sb"]);return c.useSubjectCenter=n.useEventCenter,c.emitter.on("pointerdown",a.handlePointerDown),c.emitter.on("dragstart",a.handleDragStart),c.emitter.on("hitupdate",a.handleHitUpdate),c.emitter.on("pointerup",a.handlePointerUp),c.emitter.on("dragend",a.handleDragEnd),a}return r(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t.prototype.displayDrag=function(e,t){var n=this.component.context,a=this.receivingContext;a&&a!==e&&(a===n?a.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Object(i["mb"])(),isEvent:!0}}):a.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},t.prototype.clearDrag=function(){var e=this.component.context,t=this.receivingContext;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})},t.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},t.SELECTOR=".fc-event-draggable, .fc-event-resizable",t}(i["w"]);function A(e,t,n){var a=e.dateSpan,r=t.dateSpan,s=a.range.start,o=r.range.start,l={};a.allDay!==r.allDay&&(l.allDay=r.allDay,l.hasEnd=t.context.options.allDayMaintainDuration,r.allDay&&(s=Object(i["tc"])(s)));var c=Object(i["rb"])(s,o,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);c.milliseconds&&(l.allDay=!1);for(var d={datesDelta:c,standardProps:l},u=0,p=n;u<p.length;u++){var h=p[u];h(d,e,t)}return d}function j(e){var t=e.context.options,n=t.eventLongPressDelay;return null==n&&(n=t.longPressDelay),n}var P=function(e){function t(t){var n=e.call(this,t)||this;n.draggingSegEl=null,n.draggingSeg=null,n.eventRange=null,n.relevantEvents=null,n.validMutation=null,n.mutatedRelevantEvents=null,n.handlePointerDown=function(e){var t=n.component,a=n.querySegEl(e),r=Object(i["Fb"])(a),s=n.eventRange=r.eventRange;n.dragging.minDistance=t.context.options.eventDragMinDistance,n.dragging.setIgnoreMove(!n.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&n.component.props.eventSelection!==s.instance.instanceId)},n.handleDragStart=function(e){var t=n.component.context,a=n.eventRange;n.relevantEvents=Object(i["Jb"])(t.getCurrentData().eventStore,n.eventRange.instance.instanceId);var r=n.querySegEl(e);n.draggingSegEl=r,n.draggingSeg=Object(i["Fb"])(r),t.calendarApi.unselect(),t.emitter.trigger("eventResizeStart",{el:r,event:new i["t"](t,a.def,a.instance),jsEvent:e.origEvent,view:t.viewApi})},n.handleHitUpdate=function(e,t,a){var r=n.component.context,s=n.relevantEvents,o=n.hitDragging.initialHit,l=n.eventRange.instance,c=null,d=null,u=!1,p={affectedEvents:s,mutatedEvents:Object(i["mb"])(),isEvent:!0};if(e){var h=e.componentId===o.componentId&&n.isHitComboAllowed&&!n.isHitComboAllowed(o,e);h||(c=N(o,e,a.subjectEl.classList.contains("fc-event-resizer-start"),l.range))}c&&(d=Object(i["S"])(s,r.getCurrentData().eventUiBases,c,r),p.mutatedEvents=d,Object(i["ac"])(p,e.dateProfile,r)||(u=!0,c=null,d=null,p.mutatedEvents=null)),d?r.dispatch({type:"SET_EVENT_RESIZE",state:p}):r.dispatch({type:"UNSET_EVENT_RESIZE"}),u?Object(i["vb"])():Object(i["yb"])(),t||(c&&x(o,e)&&(c=null),n.validMutation=c,n.mutatedRelevantEvents=d)},n.handleDragEnd=function(e){var t=n.component.context,a=n.eventRange.def,r=n.eventRange.instance,o=new i["t"](t,a,r),l=n.relevantEvents,c=n.mutatedRelevantEvents;if(t.emitter.trigger("eventResizeStop",{el:n.draggingSegEl,event:o,jsEvent:e.origEvent,view:t.viewApi}),n.validMutation){var d=new i["t"](t,c.defs[a.defId],r?c.instances[r.instanceId]:null);t.dispatch({type:"MERGE_EVENTS",eventStore:c});var u={oldEvent:o,event:d,relatedEvents:Object(i["Y"])(c,t,r),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:l})}};t.emitter.trigger("eventResize",s(s({},u),{el:n.draggingSegEl,startDelta:n.validMutation.startDelta||Object(i["kb"])(0),endDelta:n.validMutation.endDelta||Object(i["kb"])(0),jsEvent:e.origEvent,view:t.viewApi})),t.emitter.trigger("eventChange",u)}else t.emitter.trigger("_noEventResize");n.draggingSeg=null,n.relevantEvents=null,n.validMutation=null};var a=t.component,r=n.dragging=new S(t.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=a.context.options.dragScroll;var o=n.hitDragging=new T(n.dragging,Object(i["Tb"])(t));return o.emitter.on("pointerdown",n.handlePointerDown),o.emitter.on("dragstart",n.handleDragStart),o.emitter.on("hitupdate",n.handleHitUpdate),o.emitter.on("dragend",n.handleDragEnd),n}return r(t,e),t.prototype.destroy=function(){this.dragging.destroy()},t.prototype.querySegEl=function(e){return Object(i["wb"])(e.subjectEl,".fc-event")},t}(i["w"]);function N(e,t,n,a){var r=e.context.dateEnv,s=e.dateSpan.range.start,o=t.dateSpan.range.start,l=Object(i["rb"])(s,o,r,e.largeUnit);if(n){if(r.add(a.start,l)<a.end)return{startDelta:l}}else if(r.add(a.end,l)>a.start)return{endDelta:l};return null}var B=function(){function e(e){var t=this;this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(e){e.jsEvent&&(t.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(e){var n=t.context.options.unselectCancel,a=Object(i["Hb"])(e.origEvent);t.matchesCancel=!!Object(i["wb"])(a,n),t.matchesEvent=!!Object(i["wb"])(a,R.SELECTOR)},this.onDocumentPointerUp=function(e){var n=t.context,i=t.documentPointer,a=n.getCurrentData();if(!i.wasTouchScroll){if(a.dateSelection&&!t.isRecentPointerDateSelect){var r=n.options.unselectAuto;!r||r&&t.matchesCancel||n.calendarApi.unselect(e)}a.eventSelection&&!t.matchesEvent&&n.dispatch({type:"UNSELECT_EVENT"})}t.isRecentPointerDateSelect=!1};var n=this.documentPointer=new d(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}return e.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},e}(),H={fixedMirrorParent:i["Rb"]},F={dateClick:i["Rb"],eventDragStart:i["Rb"],eventDragStop:i["Rb"],eventDrop:i["Rb"],eventResizeStart:i["Rb"],eventResizeStop:i["Rb"],eventResize:i["Rb"],drop:i["Rb"],eventReceive:i["Rb"],eventLeave:i["Rb"]},V=function(){function e(e,t){var n=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(e){n.dragMeta=n.buildDragMeta(e.subjectEl)},this.handleHitUpdate=function(e,t,a){var r=n.hitDragging.dragging,s=null,o=null,l=!1,c={affectedEvents:Object(i["mb"])(),mutatedEvents:Object(i["mb"])(),isEvent:n.dragMeta.create};e&&(s=e.context,n.canDropElOnCalendar(a.subjectEl,s)&&(o=U(e.dateSpan,n.dragMeta,s),c.mutatedEvents=Object(i["zb"])(o),l=!Object(i["ac"])(c,e.dateProfile,s),l&&(c.mutatedEvents=Object(i["mb"])(),o=null))),n.displayDrag(s,c),r.setMirrorIsVisible(t||!o||!document.querySelector(".fc-event-mirror")),l?Object(i["vb"])():Object(i["yb"])(),t||(r.setMirrorNeedsRevert(!o),n.receivingContext=s,n.droppableEvent=o)},this.handleDragEnd=function(e){var t=n,a=t.receivingContext,r=t.droppableEvent;if(n.clearDrag(),a&&r){var o=n.hitDragging.finalHit,l=o.context.viewApi,c=n.dragMeta;if(a.emitter.trigger("drop",s(s({},D(o.dateSpan,a)),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:l})),c.create){var d=Object(i["zb"])(r);a.dispatch({type:"MERGE_EVENTS",eventStore:d}),e.isTouch&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:r.instance.instanceId}),a.emitter.trigger("eventReceive",{event:new i["t"](a,r.def,r.instance),relatedEvents:[],revert:function(){a.dispatch({type:"REMOVE_EVENTS",eventStore:d})},draggedEl:e.subjectEl,view:l})}}n.receivingContext=null,n.droppableEvent=null};var a=this.hitDragging=new T(e,i["Sb"]);a.requireInitial=!1,a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=t}return e.prototype.buildDragMeta=function(e){return"object"===typeof this.suppliedDragMeta?Object(i["fc"])(this.suppliedDragMeta):"function"===typeof this.suppliedDragMeta?Object(i["fc"])(this.suppliedDragMeta(e)):z(e)},e.prototype.displayDrag=function(e,t){var n=this.receivingContext;n&&n!==e&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},e.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.canDropElOnCalendar=function(e,t){var n=t.options.dropAccept;return"function"===typeof n?n.call(t.calendarApi,e):"string"!==typeof n||!n||Boolean(Object(i["xb"])(e,n))},e}();function U(e,t,n){for(var a=s({},t.leftoverProps),r=0,o=n.pluginHooks.externalDefTransforms;r<o.length;r++){var l=o[r];s(a,l(e,t))}var c=Object(i["mc"])(a,n),d=c.refined,u=c.extra,p=Object(i["gc"])(d,u,t.sourceId,e.allDay,n.options.forceEventDuration||Boolean(t.duration),n),h=e.range.start;e.allDay&&t.startTime&&(h=n.dateEnv.add(h,t.startTime));var f=t.duration?n.dateEnv.add(h,t.duration):Object(i["Db"])(e.allDay,h,n),v=Object(i["nb"])(p.defId,{start:h,end:f});return{def:p,instance:v}}function z(e){var t=Y(e,"event"),n=t?JSON.parse(t):{create:!1};return Object(i["fc"])(n)}function Y(e,t){var n=i["hb"].dataAttrPrefix,a=(n?n+"-":"")+t;return e.getAttribute("data-"+a)||""}i["hb"].dataAttrPrefix="";(function(){function e(e,t){var n=this;void 0===t&&(t={}),this.handlePointerDown=function(e){var t=n.dragging,a=n.settings,r=a.minDistance,s=a.longPressDelay;t.minDistance=null!=r?r:e.isTouch?0:i["a"].eventDragMinDistance,t.delay=e.isTouch?null!=s?s:i["a"].longPressDelay:0},this.handleDragStart=function(e){e.isTouch&&n.dragging.delay&&e.subjectEl.classList.contains("fc-event")&&n.dragging.mirror.getMirrorEl().classList.add("fc-event-selected")},this.settings=t;var a=this.dragging=new S(e);a.touchScrollAllowed=!1,null!=t.itemSelector&&(a.pointer.selector=t.itemSelector),null!=t.appendTo&&(a.mirror.parentNode=t.appendTo),a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),new V(a,t.eventData)}e.prototype.destroy=function(){this.dragging.destroy()}})();var W=function(e){function t(t){var n=e.call(this,t)||this;n.shouldIgnoreMove=!1,n.mirrorSelector="",n.currentMirrorEl=null,n.handlePointerDown=function(e){n.emitter.trigger("pointerdown",e),n.shouldIgnoreMove||n.emitter.trigger("dragstart",e)},n.handlePointerMove=function(e){n.shouldIgnoreMove||n.emitter.trigger("dragmove",e)},n.handlePointerUp=function(e){n.emitter.trigger("pointerup",e),n.shouldIgnoreMove||n.emitter.trigger("dragend",e)};var i=n.pointer=new d(t);return i.emitter.on("pointerdown",n.handlePointerDown),i.emitter.on("pointermove",n.handlePointerMove),i.emitter.on("pointerup",n.handlePointerUp),n}return r(t,e),t.prototype.destroy=function(){this.pointer.destroy()},t.prototype.setIgnoreMove=function(e){this.shouldIgnoreMove=e},t.prototype.setMirrorIsVisible=function(e){if(e)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var t=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;t&&(this.currentMirrorEl=t,t.style.visibility="hidden")}},t}(i["q"]),G=(function(){function e(e,t){var n=document;e===document||e instanceof Element?(n=e,t=t||{}):t=e||{};var i=this.dragging=new W(n);"string"===typeof t.itemSelector?i.pointer.selector=t.itemSelector:n===document&&(i.pointer.selector="[data-event]"),"string"===typeof t.mirrorSelector&&(i.mirrorSelector=t.mirrorSelector),new V(i,t.eventData)}e.prototype.destroy=function(){this.dragging.destroy()}}(),Object(i["pb"])({componentInteractions:[O,I,R,P],calendarInteractions:[B],elementDraggingImpl:S,optionRefiners:H,listenerRefiners:F}));t["a"]=G},a283:function(e,t,n){},a435:function(e,t,n){},a4fe:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var i=n("1be7"),a=n("6d8b"),r="\0_ec_interaction_mutex";function s(e,t,n){var i=c(e);i[t]=n}function o(e,t,n){var i=c(e),a=i[t];a===n&&(i[t]=null)}function l(e,t){return!!c(e)[t]}function c(e){return e[r]||(e[r]={})}i["c"]({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},a["I"])},a615f:function(e,t,n){var i=n("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"31.442",height:"40",viewBox:"0 0 31.442 40"},children:[{tag:"g",attrsMap:{transform:"translate(-179.2 -99.38)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#6bc04a;",d:"M311.741,121.054h-8.855a3.363,3.363,0,0,1-3.334-3.372l-2.351-14.93a3.363,3.363,0,0,1,3.334-3.372h13.558a3.363,3.363,0,0,1,3.334,3.372l-2.351,14.93A3.363,3.363,0,0,1,311.741,121.054Z",transform:"translate(-112.388)"}},{tag:"path",attrsMap:{class:"b",style:"fill:#85d663;opacity:0.3;",d:"M309.8,99.48h-9.432A3.382,3.382,0,0,0,297,102.852l2.378,14.93a3.382,3.382,0,0,0,3.372,3.372S320.211,104.4,309.8,99.48Z",transform:"translate(-112.28 -0.095)"}},{tag:"path",attrsMap:{class:"c",style:"fill:#99dd7a;opacity:0.3;",d:"M305.523,99.48h-5.151A3.382,3.382,0,0,0,297,102.852l1.493,9.318S310.432,104.916,305.523,99.48Z",transform:"translate(-112.256 -0.095)"}},{tag:"path",attrsMap:{class:"d",style:"fill:#ffd629;",d:"M193.655,253.831l-12.8-7.107A2.924,2.924,0,0,1,179.4,244.2V229.982a2.924,2.924,0,0,1,1.459-2.528l12.8-7.107a2.916,2.916,0,0,1,2.923,0l12.8,7.107a2.924,2.924,0,0,1,1.459,2.528V244.2a2.924,2.924,0,0,1-1.459,2.528l-12.8,7.107A2.939,2.939,0,0,1,193.655,253.831Z",transform:"translate(-0.19 -114.84)"}},{tag:"path",attrsMap:{class:"e",style:"fill:#ff9a2c;opacity:0.2;",d:"M210.637,639.48v4.461a2.948,2.948,0,0,1-1.464,2.549l-12.8,7.168a2.9,2.9,0,0,1-2.923,0l-12.8-7.168a2.944,2.944,0,0,1-1.459-2.549v-4.257s1.01-.452,2.493,2.421c1.147,2.226,7.134,4.685,9.632,6.5a5.258,5.258,0,0,0,3.6,1.389,12.643,12.643,0,0,0,2.484-.576c2.233-.79,9.066-5.222,10.1-6.7C208.715,641,209.258,639.48,210.637,639.48Z",transform:"translate(0 -514.704)"}},{tag:"path",attrsMap:{class:"f",style:"fill:#f9f2d7;opacity:0.2;",d:"M234.729,224.149l-9.738-5.4a2.886,2.886,0,0,0-2.918,0L209.3,225.919s-.113,4.2,10.422,5.712,2.72.395,2.72.395S232.806,231.365,234.729,224.149Z",transform:"translate(-28.667 -113.316)"}},{tag:"path",attrsMap:{class:"g",style:"fill:#6bc04a;opacity:0.25;",d:"M375.76,446.593l.9,1.817a1.593,1.593,0,0,0,1.2.87l2.007.29a1.592,1.592,0,0,1,.88,2.716l-1.451,1.417a1.585,1.585,0,0,0-.457,1.408l.342,2a1.594,1.594,0,0,1-2.312,1.679l-1.793-.942a1.594,1.594,0,0,0-1.479,0l-1.793.942a1.593,1.593,0,0,1-2.312-1.679l.342-2a1.581,1.581,0,0,0-.457-1.408l-1.451-1.417a1.592,1.592,0,0,1,.885-2.716l2.007-.29a1.593,1.593,0,0,0,1.2-.87l.9-1.817a1.583,1.583,0,0,1,2.844,0Z",transform:"translate(-179.405 -330.031)"}},{tag:"path",attrsMap:{class:"h",style:"fill:#ea803f;",d:"M389.277,459.237l1.17,2.369a.953.953,0,0,0,.723.523l2.611.38a.955.955,0,0,1,.528,1.631l-1.893,1.845a.965.965,0,0,0-.276.847l.447,2.6a.957.957,0,0,1-1.389,1.008l-2.34-1.227a.95.95,0,0,0-.889,0l-2.335,1.227a.957.957,0,0,1-1.389-1.008l.447-2.6a.952.952,0,0,0-.276-.847l-1.893-1.845a.958.958,0,0,1,.533-1.631l2.611-.38a.972.972,0,0,0,.723-.523l1.17-2.369A.959.959,0,0,1,389.277,459.237Z",transform:"translate(-193.493 -342.41)"}}]}]})}},a7a5:function(e,t,n){"use strict";n("ed29")},aad3:function(e,t,n){},aafd:function(e,t,n){"use strict";n("867e")},ab4d:function(e,t,n){"use strict";n("72df")},abb8:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{staticStyle:{"margin-right":"10px"},attrs:{for:""}},[e._v("Overall")]),"student"===e.currentRole?n("a-rate",{attrs:{"allow-half":"",disabled:""},model:{value:e.data.reviewsScore,callback:function(t){e.$set(e.data,"reviewsScore",t)},expression:"data.reviewsScore"}}):e._e(),"teacher"===e.currentRole?n("a-popover",{attrs:{placement:e.placement},on:{visibleChange:e.debouncedGetData}},[n("template",{slot:"content"},[n("a-spin",{attrs:{spinning:e.loading}},[n("a-space",{attrs:{direction:"vertical"}},[n("a-space",{attrs:{align:"center"}},[n("label",[e._v("Students engagement")]),n("a-rate",{staticStyle:{margin:"0"},attrs:{tooltips:e.RATE_TOOLTIPS.ENGAGEMENT,"allow-half":"",disabled:""},model:{value:e.data.studentsEngagement,callback:function(t){e.$set(e.data,"studentsEngagement",t)},expression:"data.studentsEngagement"}})],1),n("a-space",{attrs:{align:"center"}},[n("label",[e._v("Effectiveness of teaching & learning")]),n("a-rate",{staticStyle:{margin:"0"},attrs:{tooltips:e.RATE_TOOLTIPS.EFFETIVENESS,"allow-half":"",disabled:""},model:{value:e.data.effectiveness,callback:function(t){e.$set(e.data,"effectiveness",t)},expression:"data.effectiveness"}})],1),n("a-space",{attrs:{align:"center"}},[n("label",[e._v("Quality of the content")]),n("a-rate",{staticStyle:{margin:"0"},attrs:{tooltips:e.RATE_TOOLTIPS.QUALITY,"allow-half":"",disabled:""},model:{value:e.data.quality,callback:function(t){e.$set(e.data,"quality",t)},expression:"data.quality"}})],1)],1)],1)],1),n("a-rate",{attrs:{tooltips:e.RATE_TOOLTIPS.OVERALL,"allow-half":"",disabled:""},model:{value:e.data.overall,callback:function(t){e.$set(e.data,"overall",t)},expression:"data.overall"}}),n("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"down"}})],2):e._e()],1)},a=[],r=n("5530"),s=(n("d3b7"),n("f93e")),o=n("c2e5"),l=n("6b36"),c=n("2f62"),d=n("4fcf"),u=d.debounce,p={name:"ReviewScore",props:{review:{type:Object,default:function(){}},placement:{type:String,default:"bottom"},id:{type:String,default:null}},watch:{review:{handler:function(e){this.data=e?Object(r["a"])({},e):{}},immediate:!0},id:{handler:function(e){e&&(this.reviewId=e)},immediate:!0}},computed:Object(r["a"])({},Object(c["e"])({currentRole:function(e){return e.user.currentRole}})),created:function(){this.debouncedGetData=u(this.getReview,300)},beforeDestroy:function(){this.timer&&clearTimeout(this.timer)},data:function(){return{RATE_TOOLTIPS:s["y"],data:{},reviewId:this.id,hasRender:!1,timer:null,loading:!1}},methods:{getReview:function(e){var t=this;if(this.reviewId&&e&&!this.hasRender){var n=null;n="student"===this.currentRole?l["ReviewsTaskStats"]:o["ReviewsTeacherStats"],this.loading=!0,n&&n({taskId:this.reviewId,purchasesId:this.reviewId}).then((function(e){e.success&&(t.data=e.result,t.hasRender=!0,t.timer=setTimeout((function(){t.hasRender=!1}),6e4))})).finally((function(){t.loading=!1}))}}}},h=p,f=n("0c7c"),v=Object(f["a"])(h,i,a,!1,null,"6e24629c",null);t["a"]=v.exports},adae:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"fixed"===e.type?n("div",{directives:[{name:"show",rawName:"v-show",value:e.tags&&e.tags.length>0,expression:"tags && tags.length > 0"}],ref:"tagInfo",class:{"tag-info":!0,"auto-size":"auto"===e.type}},[e._l(e.tags.slice(0,e.showTagLen),(function(t){return n("div",{key:t.id,staticClass:"tag-item"},[n("a-tooltip",{attrs:{title:t.name}},[e._v(" "+e._s(t.name)+" ")])],1)})),e.tags.length>e.showTagLen?n("div",{staticClass:"tag-item"},[n("a-popover",{attrs:{overlayStyle:{width:"310px"},overlayClassName:"tag-info-tip"}},[n("template",{slot:"content"},[n("a-space",{staticClass:"tag-tip"},e._l(e.tags.slice(e.showTagLen),(function(t){return n("a-tag",{key:t.id,staticClass:"tag-item",attrs:{color:"#FFDF9B"}},[n("a-tooltip",{attrs:{title:t.name}},[e._v(" "+e._s(t.name)+" ")])],1)})),1)],1),e._v(" more ")],2)],1):e._e()],2):n("a-popover",{attrs:{trigger:e.trigger,overlayStyle:{width:"310px"},overlayClassName:"tag-info-tip"}},[n("template",{slot:"content"},[n("a-space",{staticClass:"tag-tip"},e._l(e.tags,(function(t){return n("a-tag",{key:t.id,staticClass:"tag-item",attrs:{color:"#FFDF9B"}},[n("a-tooltip",{attrs:{title:t.name}},[e._v(" "+e._s(t.name)+" ")])],1)})),1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.tags&&e.tags.length>0,expression:"tags && tags.length > 0"}],ref:"tagInfo",class:{"tag-info":!0,"auto-size":"auto"===e.type}},[e._l(e.tags.slice(0,e.showTagLen),(function(t){return n("div",{key:t.id,staticClass:"tag-item"},[e._v(" "+e._s(t.name)+" ")])})),e.tags.length>e.showTagLen?n("div",{staticClass:"tag-item"},[e._v(" ... ")]):e._e()],2)],2)},a=[],r=(n("159b"),{name:"TagsLine",props:{tags:{type:Array,default:function(){return[]}},type:{type:String,default:"auto"}},data:function(){return{showTagLen:this.tags.length,trigger:"hover"}},mounted:function(){this["init"+this.type]()},created:function(){window.addEventListener("resize",this["init"+this.type],!1)},beforeDestroy:function(){window.removeEventListener("resize",this["init"+this.type])},methods:{initfixed:function(){var e=this.$refs.tagInfo,t=e.parentElement,n=this.$refs.tagInfo.getElementsByClassName("tag-item"),i=this.tags?this.tags.length:0;if(1===t.childElementCount&&(e.style.width=t.getBoundingClientRect().width+"px"),n.length>0){var a=n[0].getBoundingClientRect().width+5,r=parseInt(e.getBoundingClientRect().width/a)-1;this.showTagLen=i-r>1?r:i}},initauto:function(){var e=this.$refs.tagInfo,t=e.parentElement,n=this.$refs.tagInfo.getElementsByClassName("tag-item"),i=this.tags?this.tags.length:0;1===t.childElementCount&&(e.style.width=t.getBoundingClientRect().width+"px");var a=0;if(n.length>0){var r=n[0];if(r){var s=100,o=e.getBoundingClientRect().width,l=0;n.forEach((function(e,t){if(o-l>s){var n=e.getBoundingClientRect().width+5;o-n-l>s&&(l+=n,a+=1)}}))}}i-a>0?this.showTagLen=a:(this.showTagLen=i,this.trigger="")}}}),s=r,o=(n("a7a5"),n("0c7c")),l=Object(o["a"])(s,i,a,!1,null,"9ff28b5e",null);t["a"]=l.exports},adfc:function(e,t,n){"use strict";var i=function(){var e=this,t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"my-common-preview"},[t.loading?[a("a-skeleton",{attrs:{active:""}})]:[a("div",{staticClass:"main-content-preview",class:{"has-extra-info":-1!==[t.typeMap.task,t.typeMap["unit-plan"]].indexOf(t.type)}},[a("div",{staticClass:"top-header"},[a("div",{staticClass:"title-line"},[a("div",{staticClass:"name"},[t._v(" "+t._s(t.data.name)+" ")]),a("div",{staticClass:"action-item"},[a("div",{staticClass:"star"},[t.data.createBy!==t.$store.getters.userInfo.email?[t.data.isFavorite?t._e():a("img",{attrs:{src:n("58e7")},on:{click:function(e){return t.handleFavorite(t.data)}}}),t.data.isFavorite?a("img",{attrs:{src:n("24e3")},on:{click:function(e){return t.handleFavorite(t.data)}}}):t._e()]:t._e()],2),this.isOwner||this.isCollaborater?a("div",{staticClass:"edit"},[a("a-button",{attrs:{type:"primary",shape:"round"},on:{click:function(e){return t.handleEditItem(t.data)}}},[a("div",{staticClass:"button-content"},[t._v(" Edit "),a("img",{staticClass:"edit-icon",attrs:{src:n("11aa")}})])])],1):a("div",{staticClass:"edit"},[t.myContentId?a("a-button",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:function(e){return t.handleEditItem({id:t.myContentId})}}},[a("div",{staticClass:"button-content"},[t._v(" Edit in my content "),a("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"edit"}})],1)]):a("a-button",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:t.handleDuplicateItem}},[a("div",{staticClass:"button-content"},[t._v(" Copy "),a("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"copy"}})],1)]),t.data.type===t.typeMap.task?a("a-button",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:t.handleStartTask}},[a("div",{staticClass:"button-content"},[t._v(" Start "+t._s(t.data.buyed?"Session":"")),a("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"play-circle"}})],1)]):t._e()],1)])])]),a("a-row",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"author-info"},[a("a-col",{staticClass:"avatar-icon",attrs:{span:"3"}},[a("img",{attrs:{src:t.collaborate.owner&&t.collaborate.owner.avatar}})]),a("a-col",{attrs:{span:"21"}},[a("div",{staticClass:"sub-info"},[a("div",{staticClass:"created-by"},[t._v(" "+t._s(t.data.createBy)+" ")]),a("div",{staticClass:"created-time"},[t.lastChangeSavedTime?[t._v(" "+t._s(t.lastChangeSavedTime)+" ")]:t._e()],2)]),a("div",{staticClass:"star-info"},[a("review-score",{attrs:{review:t.reviewsStats,placement:"bottom"}}),a("a-button",{attrs:{type:"link"}},[t._v(t._s(t._f("percentFormat")(t.reviewsStats.overall))+" ("+t._s(t.reviewsStats.reviewsCount)+" reviews)")])],1)])],1),a("a-space",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"author-info"},[a("div",{staticClass:"avatar-icon"},[a("img",{attrs:{src:t.collaborate.owner&&t.collaborate.owner.avatar}})]),a("div",[a("div",{staticClass:"sub-info"},[a("div",{staticClass:"created-by"},[t._v(" "+t._s(t.collaborate.owner&&t.collaborate.owner.nickname)+" ")]),a("div",{staticClass:"created-time"},[t.lastChangeSavedTime?[t._v(" "+t._s(t.lastChangeSavedTime)+" ")]:t._e()],2)]),a("div",{staticClass:"star-info",on:{click:function(){return e.viewMode="Reviews"}}},[a("a-tooltip",{attrs:{placement:"right"}},[a("template",{slot:"title"},[t._v(" "+t._s(t.reviewsStats.reviewsScoreStatDetail&&t.reviewsStats.reviewsScoreStatDetail[4]&&t.reviewsStats.reviewsScoreStatDetail[4].reviewsScoreCount)+" people gave a score of 5 stars ")]),a("a-rate",{attrs:{value:t.reviewsStats.avgReviewsScore,"allow-half":"",disabled:""}})],2)],1)])]),a("a-row",{staticClass:"data-info"},[a("a-col",{staticClass:"right-detail",attrs:{span:"24"}},[a("div",{staticClass:"sub-detail"},[a("div",{staticClass:"detail-block"},[a("div",{staticClass:"block-main-label"},[t.data.type===t.typeMap.task?[t._v("Task details")]:[t._v("Overview")]],2),a("div",{staticClass:"overview-block"},[a("div",{staticClass:"view-text"},[t._v(" "+t._s(t.data.overview)+" ")])]),t.data.type===t.typeMap.task&&t.data.questionNames.length>0?[a("div",{staticClass:"block-main-label"},[t._v(" Key question(s)/Line(s) of Inquiry ")]),a("div",{staticClass:"detail-block",staticStyle:{margin:"10px"}},[a("div",{staticClass:"keyword-block-content"},[a("div",{staticClass:"content-list"},t._l(t.data.questionNames,(function(e,n){return a("div",{key:n,staticClass:"content-item"},[e?a("div",{staticClass:"question"},[t._v(" "+t._s(e)+" ")]):t._e()])})),0)])])]:t._e(),a("div",{staticClass:"block-main-label"},[t._v(" Customized tags ")]),a("div",{staticClass:"overview-block"},[a("div",{staticClass:"custom-tags"},t._l(t.data.customTags,(function(e,n){return a("div",{key:"tagIndex"+n,staticClass:"tag-item"},[a("a-tooltip",{attrs:{title:e.parentName}},[a("a-tag",{staticClass:"tag"},[t._v(" "+t._s(e.name)+" ")])],1)],1)})),0)]),a("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"block-main-label"},[t._v(" This task contains interactive questions of ")]),a("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"overview-block"},[a("div",{staticClass:"custom-tags"},t._l(t.inActiveTypes,(function(e,n){return a("div",{key:"interActiveIndex"+n,staticClass:"tag-item"},[a("a-tooltip",{attrs:{title:e}},[a("a-tag",{staticClass:"tag",attrs:{color:t.tagColorList[n]}},[t._v(" "+t._s(e)+" ")])],1)],1)})),0)]),a("div",{staticClass:"block-main-label"},[t._v(" Learning Objectives ")]),a("div",{staticClass:"overview-block"},[a("div",{staticClass:"learn-question-tag"},[a("div",{staticClass:"learn-out",staticStyle:{margin:"10px"}},[a("ui-learn-out-sub",{attrs:{"learn-outs":t.data.learnOuts,"self-outs":t.data.selfOuts,"class-info-list":t.itemsList}})],1)])]),t.data.inquiry?[a("div",{staticClass:"block-main-label"},[t._v(" Big idea ")]),a("div",{staticClass:"inquiry-block-content"},[a("div",{staticClass:"inquiry"},[t._v(" "+t._s(t.data.inquiry)+" ")])])]:t._e(),t.data.materialList&&t.data.materialList.length?[a("div",{staticClass:"block-main-label"},[t._v(" Material list ")]),a("div",{staticClass:"overview-block"},[a("div",{staticClass:"material-list"},t._l(t.data.materialList,(function(e,n){return a("div",{key:n,staticClass:"material-item"},[a("div",{staticClass:"material-name"},[t._v(" "+t._s(e.name)+" ")]),a("div",{staticClass:"material-link",on:{click:function(n){return t.handleOpenLink(e.link)}}},[t._v(" "+t._s(e.link)+" ")])])})),0)])]:t._e(),t.data.rwc?[a("div",{staticClass:"block-main-label"},[t._v(" Real World Connection(s) ")]),a("div",{staticClass:"overview-block"},[a("div",{staticClass:"view-text"},[t._v(" "+t._s(t.data.rwc)+" ")])])]:t._e()],2)])])],1),a("a-row",{staticClass:"preview-data-info"},[a("a-col",{staticClass:"slide-preview",attrs:{span:"24"}},[t.data.scenarios||t.data.inquiry||t.data.questions&&t.data.questions.length?a("div",{staticClass:"data-detail-wrapper"},[t.data.scenarios?[a("div",{staticClass:"block-main-label"},[t._v(" Sustainable development goal ")]),a("div",{staticClass:"detail-block"},t._l(t.data.scenarios,(function(e,n){return a("div",{key:n,staticClass:"scenario-item ref-block"},[a("div",{staticClass:"scenario-block-content"},[a("div",{staticClass:"content-list"},[a("div",{staticClass:"content-item"},[a("div",{staticClass:"question"},[e.description?[a("a-tooltip",{attrs:{title:e.description,placement:"top"}},[t._v(" "+t._s(e.sdgName)+" ")])]:[t._v(" "+t._s(e.sdgName))]],2),a("div",{staticClass:"tags"},t._l(e.sdgKeyWords,(function(e,n){return a("div",{key:"tagIndex"+n,staticClass:"tag-item"},[a("a-tag",{staticClass:"tag"},[t._v(" "+t._s(e.name)+" ")])],1)})),0)])])])])})),0)]:t._e(),t.data&&t.data.inquiry?[a("div",{staticClass:"detail-block"},[a("div",{staticClass:"block-main-label"},[t._v(" Big idea ")]),a("div",{staticClass:"inquiry-block-content"},[a("div",{staticClass:"inquiry"},[t._v(" "+t._s(t.data.inquiry)+" ")])])])]:t._e(),t.data&&t.data.questions&&t.data.questions.length?[a("div",{staticClass:"block-main-label"},[t._v(" Key question(s)/Line(s) of Inquiry ")]),a("div",{staticClass:"detail-block"},[a("div",{staticClass:"keyword-block-content"},[t.data.questions&&t.data.questions.length?a("div",{staticClass:"content-list"},t._l(t.data.questions,(function(e,n){return a("div",{key:"qIndex"+n,staticClass:"content-item"},[e&&e.name?a("div",{staticClass:"question"},[t._v(" "+t._s(e.name)+" ")]):t._e()])})),0):t._e()])])]:t._e()],2):t._e(),t.type===t.typeMap.evaluation?[a("evaluation-table-preview",{attrs:{"evaluation-id":t.data.id}})]:t._e()],2)],1),a("div",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"associate-info"},[t.type===t.typeMap.task?[a("task-link",{ref:"commonLink",attrs:{"show-drag-tips":!1,isLibrary:t.isLibrary,"hidden-empty-group":!0,"can-edit":!1,"from-id":t.id,"from-type":t.type}})]:t._e(),t.type===t.typeMap["unit-plan"]?[a("plan-link",{ref:"commonLink",attrs:{isLibrary:t.isLibrary,"hidden-empty-group":!0,"can-edit":!1,"from-id":t.id,"from-type":t.type}})]:t._e()],2),a("a-row",{staticClass:"reviews-info"},["student"===t.currentRole?a("a-col",{staticClass:"slide-reviews",attrs:{span:"24"}},[a("rate-by-percent",{attrs:{rates:t.reviewsStats}}),a("reviews-preview",{attrs:{id:t.id,role:"student",list:t.ReviewsTask.ReviewsTaskList,save:t.ReviewsTask.ReviewsTaskSave,del:t.ReviewsTask.ReviewsTaskDelete,myReview:t.ReviewsTask.ReviewsTaskMyReview}})],1):a("a-col",{staticClass:"slide-reviews",attrs:{span:"24"}},[a("reviews-preview",{attrs:{id:t.id,role:"teacher",list:t.ReviewsTeacher.ReviewsTeacherList,save:t.ReviewsTeacher.ReviewsTeacherSave,del:t.ReviewsTeacher.ReviewsTeacherDelete,myReview:t.ReviewsTeacher.ReviewsTeacherMyReview,canEdit:!0},on:{update:t.loadReviewStats}})],1)],1)],1),-1!==[t.typeMap.task,t.typeMap["unit-plan"]].indexOf(t.type)?a("div",{staticClass:"extra-content-preview"},[t.type===t.typeMap.task&&t.data.presentationId&&t.imgList.length>0?[a("div",{staticClass:"top-icon-groups"},[a("a-col",{staticClass:"material-row"},[Object.keys(t.currentPageMaterial).length>0?a("div",{staticClass:"icon-group"},[t.currentPageMaterial.hasOwnProperty("text")?a("a-badge",{attrs:{count:t.showMaterialSize("text")}},[a("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("text")}}},[a("text-type-svg"),a("div",{staticClass:"icon-text"},[t._v("Text")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("image")?a("a-badge",{attrs:{count:t.showMaterialSize("image")}},[a("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("image")}}},[a("image-type-svg"),a("div",{staticClass:"icon-text"},[t._v("Image")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("video")?a("a-badge",{attrs:{count:t.showMaterialSize("video")}},[a("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("video")}}},[a("video-type-svg"),a("div",{staticClass:"icon-text"},[t._v("Video")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("audio")?a("a-badge",{attrs:{count:t.showMaterialSize("audio")}},[a("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("audio")}}},[a("audio-type-svg"),a("div",{staticClass:"icon-text"},[t._v("Audio")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("iframe")?a("a-badge",{attrs:{count:t.showMaterialSize("iframe")}},[a("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("iframe")}}},[a("youtube-type-svg"),a("div",{staticClass:"icon-text"},[t._v("Youtube")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("pdf")?a("a-badge",{attrs:{count:t.showMaterialSize("pdf")}},[a("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("pdf")}}},[a("pdf-type-svg"),a("div",{staticClass:"icon-text"},[t._v("PDF")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("website")?a("a-badge",{attrs:{count:t.showMaterialSize("website")}},[a("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("website")}}},[a("url-type-svg"),a("div",{staticClass:"icon-text"},[t._v("Website")])],1)]):t._e()],1):t._e()])],1),a("a-skeleton",{attrs:{loading:t.slideLoading,active:""}},[a("div",{ref:"slide",staticClass:"slide-select-wrapper"},[a("div",{staticClass:"slide-select"},[a("div",{staticClass:"slide-select-and-preview"},[a("div",{staticClass:"slide-preview",style:{width:"310px"}},[a("a-carousel",{ref:"carousel",attrs:{arrows:"","after-change":t.onChangePage}},[a("div",{staticClass:"custom-slick-arrow",staticStyle:{left:"-23px","z-index":"9"},attrs:{slot:"prevArrow"},slot:"prevArrow"},[a("a-icon",{style:{"font-size":"20px",color:"#aaa",opacity:.6},attrs:{type:"left-circle"}})],1),a("div",{staticClass:"custom-slick-arrow",staticStyle:{right:"-23px","z-index":"9"},attrs:{slot:"nextArrow"},slot:"nextArrow"},[a("a-icon",{style:{"font-size":"20px",color:"#aaa",opacity:.6},attrs:{type:"right-circle"}})],1),t._l(t.imgList,(function(e,t){return a("div",{key:t,staticClass:"slide-item"},[a("img",{attrs:{src:e}})])}))],2),t.currentPageItem?a("div",{staticClass:"plugin-tags"},[a("a-row",{staticClass:"tag-row"},[t.currentPageItem.data.bloomLevel?a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[t._v("Bloom's Taxonomy:")]),a("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[t._v(t._s(t.currentPageItem.data.bloomLevel))])]):t._e(),t.currentPageItem.data.knowledgeLevel?a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[t._v("Knowledge dimension(s):")]),a("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[t._v(t._s(t.currentPageItem.data.knowledgeLevel))])]):t._e()]),a("a-row",{staticClass:"tag-row"},[t.currentPageItem.data.verbs&&t.currentPageItem.data.verbs.length>0?a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[t._v("Command terms:")]),t._l(t.currentPageItem.data.verbs,(function(e,n){return a("span",{key:n,staticClass:"tag-value",staticStyle:{color:"#15C39A"}},[t._v(t._s(e))])}))],2):t._e(),t.currentPageTips?a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[t._v("Tip added:")]),a("span",{staticClass:"tag-value",staticStyle:{color:"#0054FF"}},[t._v(t._s(t.currentPageTips.tip))])]):t._e()]),t.currentPageItem.data.learnOuts&&t.currentPageItem.data.learnOuts.length>0?a("a-row",{staticClass:"tag-row"},[a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[t._v("Learning Objectives:")]),t._l(t.currentPageItem.data.learnOuts,(function(e,n){return a("span",{key:n,staticClass:"tag-value",staticStyle:{color:"#00BCF2"}},[a("a-tooltip",{attrs:{title:e.path,overlayStyle:{"z-index":"3000"}}},[t._v(t._s(e.name)+" ")])],1)}))],2)]):t._e(),a("a-row",{staticClass:"tag-row"},[a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[t._v("This is a "),a("span",[t._v(t._s(t.currentPageItem.type))]),t._v(" slide")])])])],1):t._e(),t.imgList&&t.imgList.length?a("div",{staticClass:"page-info"},[t._v(" "+t._s(t.currentImgIndex+1)+" / "+t._s(t.imgList.length)+" ")]):t._e()],1)])])])])]:t._e(),t.type===t.typeMap["unit-plan"]?[a("div",{staticClass:"unit-cover",style:{"background-image":"url('"+(t.data.image||"http://dcdkqlzgpl5ba.cloudfront.net/1392467808404684802/file/202208140641519097-20220814143449.png")+"')"}})]:t._e(),t.type===t.typeMap.task?a("div",{staticClass:"recommend"},[a("div",{staticClass:"recommend-title"},[a("a-divider",[t._v("Recommend")])],1),a("div",{staticClass:"recommend-list"},t._l(t.recommendTemplateList,(function(e,n){return a("div",{key:n,staticClass:"slide-preview-item",style:{width:"310px"}},[a("a-carousel",{ref:"carousel",refInFor:!0,attrs:{arrows:""}},[a("div",{staticClass:"custom-slick-arrow",staticStyle:{left:"-23px","z-index":"9"},attrs:{slot:"prevArrow"},slot:"prevArrow"},[a("a-icon",{style:{"font-size":"20px",color:"#aaa",opacity:.6},attrs:{type:"left-circle"}})],1),a("div",{staticClass:"custom-slick-arrow",staticStyle:{right:"-23px","z-index":"9"},attrs:{slot:"nextArrow"},slot:"nextArrow"},[a("a-icon",{style:{"font-size":"20px",color:"#aaa",opacity:.6},attrs:{type:"right-circle"}})],1),t._l(e.images,(function(e,t){return a("div",{key:t,staticClass:"slide-item"},[a("img",{attrs:{src:e}})])}))],2),e.introduce?a("a-row",{staticClass:"slide-desc",attrs:{title:e.introduce}},[t._v(" "+t._s(e.introduce)+" ")]):t._e(),a("div",{staticClass:"recommend-slide-name"},[t._v(" "+t._s(e.name)+" ")])],1)})),0)]):t._e()],2):t._e()],a("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"800px",zIndex:6e3,title:"My Materials"},on:{ok:function(e){t.materialVisible=!1},cancel:function(e){t.materialVisible=!1}},model:{value:t.materialVisible,callback:function(e){t.materialVisible=e},expression:"materialVisible"}},[a("task-material-preview",{attrs:{"current-page-element-lists":t.currentPageElementLists,"filter-type":t.filterMaterialType,"current-page-index":t.currentImgIndex}})],1),a("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"900px",zIndex:5e3,title:null},on:{ok:function(e){t.mediaVisible=!1},cancel:function(e){t.mediaVisible=!1}},model:{value:t.mediaVisible,callback:function(e){t.mediaVisible=e},expression:"mediaVisible"}},[a("media-preview",{attrs:{"media-list":t.mediaList,"material-type":t.filterMaterialType}})],1)],2)},a=[],r=n("5530"),s=(n("a9e3"),n("d81d"),n("a630"),n("3ca3"),n("d3b7"),n("6062"),n("ddb0"),n("159b"),n("b0c0"),n("823b")),o=n("3f76"),l=n("69b3"),c=n("8c95"),d=n("c621"),u=n("972f"),p=n("7eee"),h=n("d33b"),f=n("873a"),v=n("542c"),m=n("91ff"),g=n("d980"),y=n("dd6e"),b=n("abb8"),w=n("e11c"),C=n("9afb"),S=n("f93e"),k=n("2934"),_=n("5225"),T=n("9fb0"),x=n("8ded"),D=n.n(x),E=n("2f62"),O=n("6b36"),I=n("c2e5"),M=n("1899"),L=n("2f59"),R=n("ca00"),A=R.formatLocalUTC,j=n("de0d"),P=j.UnitPlanQueryById,N=n("b199"),B=N.TaskQueryById,H=n("9f06"),F=H.EvaluationQueryById,V=n("95c6"),U=V.FavoritesAdd,z=n("56f2"),Y=z.SelfStudyTaskBye,W=z.SelfStudyTaskStart,G={name:"CommonPreviewV2",components:{PlanLink:M["a"],UiLearnOutSub:m["a"],EvaluationTablePreview:u["a"],CommonAssociatePreview:c["a"],NoMoreResources:l["a"],TaskLink:p["a"],MediaPreview:f["a"],TaskMaterialPreview:v["a"],RateByPercent:g["a"],ReviewsPreview:y["a"],ReviewScore:b["a"]},props:{id:{type:String,required:!0},type:{type:Number,required:!0},isLibrary:{type:Boolean,default:!1},myContentId:{type:String,default:null}},mixins:[h["a"],w["a"],L["a"]],computed:Object(r["a"])(Object(r["a"])({},Object(E["e"])({userMode:function(e){return e.app.userMode},currentRole:function(e){return e.user.currentRole}})),{},{lastChangeSavedTime:function(){if(this.data){s["info"]("lastChangeSavedTime data",this.data);var e=this.data.updateTime||this.data.createTime;if(e)return A(e)}return""},inActiveTypes:function(){var e=[];return this.itemsList&&(e=this.itemsList.map((function(e){return e.type}))),Array.from(new Set(e))}}),data:function(){return{loading:!0,slideLoading:!1,copyLoading:!1,data:null,imgList:[],viewMode:"Detail",RATE_TOOLTIPS:S["y"],ReviewsTask:O,ReviewsTeacher:I,tagColorList:["pink","orange","green","cyan","blue","red","purple"],activeContentType:-1,typeMap:o["e"],subPreviewVisible:!1,currentImgIndex:0,initPrompts:[],reviewsStats:{avgReviewsScore:0,reviewsScoreStatDetail:[],reviewsCount:0,effectiveness:0,overall:0,quality:0,studentsEngagement:0},recommendTemplateList:[]}},created:function(){s["info"]("CommonPreviewV2 id "+this.id+" type "+this.type),this.loadData()},methods:{loadData:function(){var e=this;s["info"]("loadData "+this.id+" type "+this.type),this.loading=!0,this.type===this.typeMap["unit-plan"]?P({id:this.id}).then((function(t){s["info"]("UnitPlanQueryById "+e.id,t.result),e.data=t.result,e.oldForm=e.data,e.data&&e.data.image&&(e.imgList=[e.data.image])})).finally((function(){e.loading=!1,e.queryContentCollaborates(e.id,e.type)})):this.type===this.typeMap.task?(B({id:this.id}).then((function(t){s["info"]("TaskQueryById "+e.id,t.result),e.data=t.result,e.loading=!1,e.oldForm=e.data,e.queryContentCollaborates(e.id,e.type),e.loadThumbnail(),e.data.presentationId&&e.getClassInfo(e.data.presentationId)})),this.$logger.info("loadRecommendThumbnail"),Object(d["f"])({taskId:this.id}).then((function(t){s["info"]("loadRecommendThumbnail res:",t.result),t.success&&(e.recommendTemplateList=t.result)}))):this.type===this.typeMap.evaluation&&F({id:this.id}).then((function(t){s["info"]("EvaluationQueryById "+e.id,t.result),e.data=t.result,e.oldForm=e.data,e.data&&e.data.image&&(e.imgList=[e.data.image])})).finally((function(){e.loading=!1,e.queryContentCollaborates(e.id,e.type)})),Object(k["a"])(S["q"]).then((function(t){t.success&&(s["info"]("DICT_PROMPT_TYPE",t.result),e.initPrompts=t.result)})),this.loadReviewStats()},handleAuthCallback:function(){this.$logger.info("Preview handleAuthCallback"),"loadThumbnail"===this.currentMethodName?this.loadThumbnail():"handleDuplicateItem"===this.currentMethodName&&this.handleDuplicateItem()},loadThumbnail:function(){var e=this;this.$logger.info("Preview loadThumbnail ",this.data),this.data.presentationId?this.isLibrary?Object(d["d"])({taskId:this.data.id}).then((function(t){if(t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden){var n=t.result.pageObjects;e.thumbnailList=[],n.length?n.forEach((function(t){e.imgList.push(t.contentUrl),e.thumbnailList.push({contentUrl:t.contentUrl,id:t.pageObjectId}),e.slideLoading=!1,e.$logger.info("current imgList ",e.imgList)})):(e.imgList=[],e.slideLoading=!1)}else e.$logger.info(""),e.currentMethodName="loadThumbnail"})):Object(d["d"])({taskId:this.data.id}).then((function(t){if(t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden){var n=t.result.pageObjects;e.thumbnailList=[],n.length?n.forEach((function(t){e.imgList.push(t.contentUrl),e.thumbnailList.push({contentUrl:t.contentUrl,id:t.pageObjectId}),e.slideLoading=!1,e.$logger.info("current imgList ",e.imgList)})):(e.imgList=[],e.slideLoading=!1)}else e.$logger.info(""),e.currentMethodName="loadThumbnail"})):this.slideLoading=!1},loadReviewStats:function(){var e=this,t=null;t="student"===this.currentRole?O["ReviewsTaskStats"]:I["ReviewsTeacherStats"],t&&t({taskId:this.id,purchasesId:this.id}).then((function(t){t.success&&(e.reviewsStats=t.result)}))},handleSelectContentType:function(e){s["info"]("handleSelectContentType "+e),this.activeContentType=e},handleSubPreviewClose:function(){s["info"]("handleSubPreviewClose"),this.subPreviewVisible=!1},handleViewModeChange:function(){this.$logger.info("handleViewModeChange "+this.viewMode)},handleFavorite:function(e){var t=this;s["info"]("handleFavorite",e),U({sourceId:e.id,sourceType:e.type}).then((function(n){s["info"]("FavoritesAdd ",n),e.isFavorite=!e.isFavorite,t.data.isFavorite=e.isFavorite,t.$emit("favoritiesAdd",Object(r["a"])({},t.data))}))},handleGotoImgIndex:function(e){this.$logger.info("handleGotoImgIndex "+e),this.currentImgIndex=e,this.$refs.carousel.goTo(e)},handleEditItem:function(e){e.type=this.type,s["info"]("handleEditItem",e),e.type===o["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===o["e"].task?window.open("/teacher/task-redirect/"+e.id,"_blank"):e.type===o["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleDuplicateItem:function(){var e=this;this.$logger.info("handleDuplicateItem",this.data),this.$confirm({title:"Confirm to copy",content:"Are you sure to copy "+this.data.name+" ?",centered:!0,onOk:function(){e.copyLoading=!0,Object(C["Duplicate"])({id:e.data.id,type:e.data.type}).then((function(t){t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden?(e.$logger.info("Duplicate response",t),e.$message.success("Copy successfully"),e.$router.push({path:"/teacher/main/created-by-me"})):e.currentMethodName="handleDuplicateItem"})).finally((function(){e.copyLoading=!1}))}})},handleStartTask:function(){var e=this;this.$confirm({title:"Confirm to start",content:"Are you sure to start "+this.data.name+" ?",centered:!0,onOk:function(){e.copyLoading=!0,e.data.buyed||S["Y"].SCHOOL===e.userMode?e.handleStartSession(e.data.id):Y({taskId:e.data.id}).then((function(t){t.success&&e.handleStartSession(e.data.id)})).finally((function(){e.copyLoading=!1}))}})},handleOpenLink:function(e){window.open(e,"_blank")},handleStartSession:function(e){var t=this;this.copyLoading=!0,W({taskId:e}).then((function(e){if(t.$logger.info("StartOpenSession res",e),e.success){t.copyLoading=!1;var n=_["a"]+"s/"+e.result.classId+"?token="+D.a.get(T["a"]);t.$logger.info("try open "+n),window.location.href=n}else t.$message.warn("StartLesson Failed! "+e.message)})).finally((function(){t.copyLoading=!1}))}}},q=G,$=(n("1f7f"),n("0c7c")),Z=Object($["a"])(q,i,a,!1,null,"5cac3e1c",null);t["a"]=Z.exports},ae3c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAAAXNSR0IArs4c6QAABDNJREFUWEfNl2FoG2UYx//Pm6TO6GBikov7MGpyQWQqg30pE93cPinU5oJa5kQGInVaNkVGPzgtOBmbyNbpRBHZHGgV63ppRTYQtgmF6hcFURB2VyedNZdtzbSr7dbc+0hC03XtJblrm9T7ev/neX78732f5znC/+BZubo5FAwGOgG0EjhnA3toubmijclGBOgUQPfMYvltWcFC8eR6vyhChW4yiPHjsoHdGdc2+wWlCVg596tJyI5lAVPUlmaC6AHRLfOOEvMwj43fW3ewsJp8SpD4lIDAXChmZmJ7S8bsP1NXsIiqbSPCJwTyO106ZtllGelXCu/qBhZRkzsI4ggRhDMUf28ZuYeAs/m6gYXjyXZB9C4RORrBwFVmuS5rpM0SdM0dC6vaSwJ4rxxUAYRtfs4a0o/OdrKmYEosuYt8oqtSE2fwF9Y5fetcTc3AFDX1MsAHKzkFxoVr0ndfbqjn77qAKfHUXhLYU9EphrTBmy8Z+ndOuiV3TElobxHotWozmJn3WYZeVrekYFFV6wDRfhdQZy1D3wJAltMuGVjhTBHhUDUogC/nJ+0HLg33j1TSLgmYEtd2kqDD1aEAKZHKmr16Ne2iwaLx1HYmPlrx9k1TMKPLMnqLI6fas0iwJ31Kws45rS4OA3rQMnIPl0ZOjcEARU39QoS1VQqNXpf2ulGzb7ga0IJHUiShvUCMFyXh0MVz+rHiFkpiAIQVzsMZtmTZfNFMn3QLtaAhrqip00R4pBAsJe/Omvo7Siy5FT5x3GnHksydWUN/0wuUJ7Db41rkqqlnw7GWx4RP9M3sVFLuzZjpN0KN2kafH2kiWjUDwTiRMXytQI9dE7DpHnWAmTstQ98fvrvlCeH3dZccKi14kTWpmGjgIwCaJNCdnczsxoXBCa9QLhzb5FfUO44R0TOl5FLi7azZ26GoWgsRfQmgofCOmT+2DL2tUjf3AlixXURV7TiInp2XUPKHGVPfEY4nH/WR6C0dfGZ0W0bvNi8AnkeSEteeJ0EflQtk5s8sI7ddia3aSIL6QRQsOmfLp62h9OeLhSvj2PqAkljzB4HuqlSAmfssTLaG8iua/AF8VfxxZW7PGPr7NQGLqslNIHHGTXJmPo2x8cev3RoMNPjE2qw5+oPb7l4pv6NjhSYqQB+4AZs++IOWoW9wq3ejcwRTEtphAu10k6CkyYxP3YaRr//1EuPZMUXVfiai+90WYWbLMvSoW70b3TzHFDXVRIRBN8E3OjwfzBj6q55iqoidwAaI8KDrIoxfr2Niw6hx8h/XMS6EN4FFEqnXBeB+4DJOjE9w29if+mUXtTxJZsCURHIXofLP6Y3MPGBL3ud1lfFCRljdHFSCgQNEaC/b5YHfCfyTBL7NS/mNl4XPC8xsLUXiqTZBmLlRzJwHcUYyRiDw19QUzl85n76y0AILjfsPWT6SVuLmISoAAAAASUVORK5CYII="},b0af:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d}));var i=n("c7a2"),a=n("deab"),r=n("4aa2"),s=n("3842"),o=n("6d8b");function l(e,t,n,r,s){var l=e.getArea(),c=l.x,d=l.y,u=l.width,p=l.height,h=n.get(["lineStyle","width"])||2;c-=h/2,d-=h/2,u+=h,p+=h,c=Math.floor(c),u=Math.round(u);var f=new i["a"]({shape:{x:c,y:d,width:u,height:p}});if(t){var v=e.getBaseAxis(),m=v.isHorizontal(),g=v.inverse;m?(g&&(f.shape.x+=u),f.shape.width=0):(g||(f.shape.y+=p),f.shape.height=0);var y=Object(o["v"])(s)?function(e){s(e,f)}:null;a["a"](f,{shape:{width:u,height:p,x:c,y:d}},n,null,r,y)}return f}function c(e,t,n){var i=e.getArea(),o=Object(s["r"])(i.r0,1),l=Object(s["r"])(i.r,1),c=new r["a"]({shape:{cx:Object(s["r"])(e.cx,1),cy:Object(s["r"])(e.cy,1),r0:o,r:l,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});if(t){var d="angle"===e.getBaseAxis().dim;d?c.shape.endAngle=i.startAngle:c.shape.r=o,a["a"](c,{shape:{endAngle:i.endAngle,r:l}},n)}return c}function d(e,t,n,i,a){return e?"polar"===e.type?c(e,t,n):"cartesian2d"===e.type?l(e,t,n,i,a):null:null}},b4ab:function(e,t,n){},b82c:function(e,t,n){},ba70:function(e,t,n){},be9d:function(e,t,n){},c0be:function(e,t,n){},c0f4:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-search"},[n("a-textarea",{staticClass:"cc-form-textarea",attrs:{"auto-size":{minRows:2,maxRows:6},placeholder:e.placeholder,disabled:!e.canEdit},on:{keyup:e.handleSearch,focus:e.handleSearch},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e.fetching?n("a-spin",{attrs:{slot:"notFoundContent",size:"small"},slot:"notFoundContent"}):e._e(),e.showSearchListFlag?n("div",{staticClass:"search-list-wrapper"},[n("ul",{staticClass:"search-list"},e._l(e.searchList,(function(t,i){return n("li",{key:i,staticClass:"search-list-item input-search-item",on:{click:function(n){return e.handleSelectItem(t)}}},[e._v(e._s(t[e.label]))])})),0)]):e._e()],1)},a=[],r=(n("a9e3"),n("823b")),s={name:"InputSearch",props:{defaultValue:{type:String,default:null},keyIndex:{type:Number,default:null},currendIndex:{type:Number,default:null},label:{type:String,default:"name"},placeholder:{type:String,default:"name"},searchList:{type:Array,default:function(){return[]}},canEdit:{type:Boolean,default:!0}},computed:{showSearchListFlag:function(){return this.searchList.length>0&&this.keyIndex===this.currendIndex}},mounted:function(){this.globalClick(this.handleClick)},data:function(){return{fetching:!1,lastFetchId:0,value:null}},created:function(){this.value=this.defaultValue,r["info"]("inputSearch value",this.value)},watch:{defaultValue:function(e){this.$logger.info("defaultValue change",e),this.value=e}},methods:{handleClick:function(e){e.target.classList.contains("input-search-item")||this.$emit("reset")},handleSearch:function(){r["info"]("handleSearch"+this.value),this.$emit("search",this.keyIndex,this.value),this.$emit("change")},handleSelectItem:function(e){r["info"]("handleSelectItem",e),this.value=e[this.label],this.$emit("select-item",this.keyIndex,e),this.$emit("reset")},handleResetSearchList:function(){r["info"]("handleResetSearchList"),this.$emit("reset")}}},o=s,l=(n("cad2"),n("0c7c")),c=Object(l["a"])(o,i,a,!1,null,"c65473be",null);t["a"]=c.exports},c164:function(e,t,n){"use strict";n("be9d")},c2e5:function(e,t,n){"use strict";n.r(t),n.d(t,"reviewsTeacherAPIUrl",(function(){return r})),n.d(t,"ReviewsTeacherSave",(function(){return s})),n.d(t,"ReviewsTeacherList",(function(){return o})),n.d(t,"ReviewsTeacherDelete",(function(){return l})),n.d(t,"ReviewsTeacherMyReview",(function(){return c})),n.d(t,"ReviewsTeacherStats",(function(){return d})),n.d(t,"byOverall",(function(){return u}));var i=n("b775"),a="reviewsTeacher",r={delete:"/classcipe/api/".concat(a,"/delete"),list:"/classcipe/api/".concat(a,"/list"),save:"/classcipe/api/".concat(a,"/save"),myReviews:"/classcipe/api/".concat(a,"/myReviews"),queryReviewsStat:"/classcipe/api/".concat(a,"/queryReviewsStat"),byOverall:"/classcipe/api/".concat(a,"/reviewsStat/byOverall")};function s(e){return Object(i["d"])({url:r.save,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(i["d"])({url:r.list,method:"get",params:e})}function l(e){return Object(i["d"])({url:r.delete+"?id="+e.id,method:"get",data:e})}function c(e){return Object(i["d"])({url:r.myReviews,method:"get",params:e})}function d(e){return Object(i["d"])({url:r.queryReviewsStat,method:"get",params:e})}function u(e){return Object(i["d"])({url:r.byOverall,method:"get",params:e})}},c5fd:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r=function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.create;Object.create},c775:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var i=n("2b17"),a=n("6d8b");function r(e,t){var n=e.mapDimensionsAll("defaultedLabel"),a=n.length;if(1===a){var r=Object(i["e"])(e,t,n[0]);return null!=r?r+"":null}if(a){for(var s=[],o=0;o<n.length;o++)s.push(Object(i["e"])(e,t,n[o]));return s.join(" ")}}function s(e,t){var n=e.mapDimensionsAll("defaultedLabel");if(!Object(a["s"])(t))return t+"";for(var i=[],r=0;r<n.length;r++){var s=e.getDimensionIndex(n[r]);s>=0&&i.push(t[s])}return i.join(" ")}},c824:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content-item"},[i("div",{staticClass:"cover",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.handleGoWork(e.content)}}},[i("div",{staticClass:"cover-block",style:{"background-image":"url('"+(e.content.cover||e.content.content&&e.content.content.image||"http://dcdkqlzgpl5ba.cloudfront.net/1392467808404684802/file/202208140641519097-20220814143449.png")+"')"}},[e.isSimple?e._e():i("div",{staticClass:"bottom-action"},[i("div",{staticClass:"bottom-action-item vertical-left"}),e.content.content?i("div",{staticClass:"bottom-action-item vertical-right",on:{click:function(t){return t.stopPropagation(),e.handlePreview(e.content)}}},[i("div",{staticClass:"bottom-action-item-icon"},[i("a-icon",{attrs:{type:"eye"}})],1),i("div",{staticClass:"bottom-action-item-label"},[e._v("Preview")])]):e._e(),e.content.content?e._e():i("div",{staticClass:"bottom-action-item vertical-right",on:{click:function(t){return t.stopPropagation(),e.handlePreviewDeleteDetail(e.content.session)}}},[i("div",{staticClass:"bottom-action-item-icon"},[i("a-icon",{attrs:{type:"eye"}})],1),i("div",{staticClass:"bottom-action-item-label"},[e._v("Preview")])])])]),e.content.session&&e.content.session.classId&&(e.isCurrentType(e.WORK_SHOPS_TYPE.REGISTERED.value)||e.isCurrentType(e.WORK_SHOPS_TYPE.LUNCHEDBYME.value))?i("div",{staticClass:"cover-btn"},[i("label",[e._v("Enter workshop")])]):e._e()]),i("div",{staticClass:"detail"},[i("div",{staticClass:"detail-content",on:{click:function(e){e.preventDefault(),e.stopPropagation()}}},[i("div",{staticClass:"base-info"},[e.content.session?i("div",{staticClass:"type-icon"},[i("content-type-icon",{attrs:{type:e.content.session.contentType}})],1):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.showEditName,expression:"!showEditName"}],staticClass:"name"},[e._v(" "+e._s(e.content.title||e.content.content&&e.content.content.name||"Untitle")+" ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showEditName,expression:"showEditName"}],staticClass:"name"},[i("a-input",{attrs:{disabled:e.loading,value:e.choose.title},on:{change:function(t){return e.changeTitle(t.target.value,e.content)}}}),i("div",{staticClass:"opt"},[i("a-icon",{attrs:{type:"check"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSave(e.content)}}}),i("a-icon",{attrs:{type:"close"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleCancelSingle(e.content)}}})],1)],1),i("div",{staticClass:"tag-info"},e._l(e.content.customTags,(function(t,n){return i("div",{key:n,staticClass:"tag-info-item"},[i("a-tag",{staticClass:"tag-item",attrs:{color:"#FFEDAF",title:t.category}},[e._v(" "+e._s(t.name)+" ")])],1)})),0)]),e.content.sessionStartTime&&!e.isSimple?i("div",{staticClass:"right-info"},[e.content.unitPlanInfo&&e.content.unitPlanInfo.name?i("div",{staticClass:"update-time"},[e._v("Unit: "+e._s(e.content.unitPlanInfo.name))]):e._e(),i("a-space",{directives:[{name:"show",rawName:"v-show",value:!e.showEditSche,expression:"!showEditSche"}],staticClass:"update-time",staticStyle:{"align-items":"flex-start"},attrs:{direction:"vertical"}},[e.content.sessionStartTime?i("label",{staticStyle:{"text-align":"left"},attrs:{for:""}},[i("span",{staticStyle:{display:"inline-block",width:"100px"}},[e._v("Scheduled:")]),e._v(" "+e._s(e._f("dayjs")(e.content.sessionStartTime,"YYYY-MM-DD HH:mm"))+" - "+e._s(e._f("dayjs")(e.content.sessionEndTime,e.filterSessionEndTime))+" ")]):e._e(),e.filterDeadline&&e.isCurrentType(e.WORK_SHOPS_TYPE.FEATURE.value)&&e.WORK_SHOPS_TYPE.REGISTERED.value!==e.content.workshopsType?i("label",{staticStyle:{"text-align":"left"},attrs:{for:""}},[i("span",{staticStyle:{display:"inline-block",width:"100px"}},[e._v("REG deadline:")]),e._v(" "),i("span",{staticStyle:{"font-weight":"bold",color:"#ef4136"}},[e._v(e._s(e._f("countDown")(e.filterDeadline)))])]):e._e(),(e.isCurrentType(e.WORK_SHOPS_TYPE.LUNCHEDBYME.value)||e.isCurrentType(e.WORK_SHOPS_TYPE.REGISTERED.value))&&e.WORK_SHOPS_STATUS.SCHEDULE.value===e.content.workshopsStatus?i("label",{staticStyle:{"text-align":"left"},attrs:{for:""}},[i("span",{staticStyle:{display:"inline-block",width:"100px"}},[e._v("Countdown:")]),e._v(" "),i("span",{staticStyle:{"font-weight":"bold",color:"#ef4136"}},[e._v(e._s(e._f("countDown")(e.filterSessionStartTime)))])]):e._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showEditSche,expression:"showEditSche"}],staticClass:"update-time"},[i("a-range-picker",{attrs:{disabled:e.loading,"default-value":[e.moment.utc(e.content.sessionStartTime).local(),e.moment.utc(e.content.sessionEndTime||e.content.sessionStartTime).local()],"disabled-date":e.disabledDateRange,format:"YYYY-MM-DD HH:mm:ss","show-time":{format:"HH:mm"}},on:{change:e.handleDateChange}}),i("div",{staticClass:"opt"},[i("a-icon",{attrs:{type:"check"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSave(e.content)}}}),i("a-icon",{attrs:{type:"close"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleCancelSingle(e.content)}}})],1)],1)],1):e._e()]),i("div",{ref:"detailPrice",staticClass:"detail-price"},[i("tags-line",{attrs:{tags:e.content.content?e.content.content.customTags:[]}}),e.content.priceList&&e.content.priceList.length>0&&!e.isSimple?i("div",{staticClass:"price-con"},[i("price-slider",{attrs:{priceList:e.content.priceList,current:e.content.registeredNum,origin:e.content.price}})],1):e._e()],1),i("div",{staticClass:"action"},[i("div",{staticClass:"author-wrap"},[i("a-tooltip",{attrs:{title:"0"===e.content.schoolId?"Personal":e.content.schoolName}},[e.content.userAvatar?i("a-avatar",{attrs:{src:e.content.userAvatar,icon:"user"}}):i("img",{staticClass:"ant-avatar",attrs:{src:n("4992"),alt:"avatar"}})],1),i("div",{staticClass:"author-con"},[i("div",{staticClass:"author-name"},[e._v(" "+e._s(e.content.userRealName||e.content.content&&e.content.content.createBy)+" ")])])],1),e.isSimple?e._e():i("a-space",{on:{click:function(e){e.preventDefault(),e.stopPropagation()}}},[e.content.session&&e.content.session.zoomMeeting?i("div",{staticClass:"zoom-icon",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.handleToZoom(e.content)}}},[i("img",{attrs:{src:n("f496")}})]):e._e(),e.userMode===e.USER_MODE.SELF&&e.WORK_SHOPS_STATUS.ENDED.value!==e.content.workshopsStatus?i("a-tooltip",{attrs:{trigger:"click",getPopupContainer:function(e){return e.parentElement}},on:{visibleChange:function(t){return e.visibleChange(t,e.content)}},model:{value:e.shareVisible,callback:function(t){e.shareVisible=t},expression:"shareVisible"}},[i("template",{slot:"title"},[i("div",{staticClass:"detail-share"},[e.shareItem?i("share-button",{attrs:{link:e.wrapperLink(e.content),title:e.content.title||e.content.content&&e.content.content.name||"Untitle"}}):e._e()],1)]),i("custom-button",{attrs:{label:"Share"},scopedSlots:e._u([{key:"icon",fn:function(){return[i("icon-font",{staticClass:"detail-font",attrs:{type:"icon-share"}})]},proxy:!0}],null,!1,1723803334)})],2):e._e(),e.WORK_SHOPS_TYPE.FEATURE.value===e.content.workshopsType&&e.WORK_SHOPS_STATUS.ENDED.value!==e.content.workshopsStatus&&e.content.session&&(!e.filterDeadline||e.moment.utc(e.filterDeadline).local().isAfter(e.moment()))&&e.isCurrentType(e.WORK_SHOPS_TYPE.FEATURE.value)?[i("custom-button",{attrs:{label:"Register"},on:{click:function(t){return e.handleRegister(e.content)}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("icon-font",{staticClass:"detail-font",attrs:{type:"icon-register"}})]},proxy:!0}],null,!1,2530793602)})]:e._e(),e.WORK_SHOPS_TYPE.FEATURE.value===e.content.workshopsType&&e.WORK_SHOPS_STATUS.ENDED.value!==e.content.workshopsStatus&&e.content.session&&e.filterDeadline&&e.moment.utc(e.filterDeadline).local().isBefore(e.moment())&&e.isCurrentType(e.WORK_SHOPS_TYPE.FEATURE.value)?[i("custom-button",{attrs:{label:"Register",disabled:!0,disabledTooltip:"Out of deadline"},scopedSlots:e._u([{key:"icon",fn:function(){return[i("icon-font",{staticClass:"detail-font",attrs:{type:"icon-register"}})]},proxy:!0}],null,!1,2530793602)})]:e._e(),e.WORK_SHOPS_TYPE.REGISTERED.value===e.content.workshopsType&&e.isCurrentType(e.WORK_SHOPS_TYPE.FEATURE.value)?i("div",{staticClass:"label-action"},[e._v(" Registered ")]):e._e(),e.WORK_SHOPS_TYPE.LUNCHEDBYME.value===e.content.workshopsType&&e.isCurrentType(e.WORK_SHOPS_TYPE.LUNCHEDBYME.value)?[e.WORK_SHOPS_STATUS.ENDED.value===e.content.workshopsStatus?i("custom-button",{attrs:{label:"Relaunch"},on:{click:function(t){return e.handleRelaunch(e.content)}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("icon-font",{staticClass:"detail-font",attrs:{type:"icon-tizhibianbie-zhongxinceshi"}})]},proxy:!0}],null,!1,1538896373)}):e._e(),i("a-dropdown",{attrs:{trigger:["click"],getPopupContainer:function(e){return e.parentElement}}},[i("div",{staticClass:"more-action"},[i("more-icon")],1),i("div",{staticClass:"content-item-more-action",attrs:{slot:"overlay"},slot:"overlay"},[0!==e.content.session.delFlag||e.WORK_SHOPS_STATUS.SCHEDULE.value!==e.content.workshopsStatus&&e.WORK_SHOPS_STATUS.ENDED.value!==e.content.workshopsStatus?e._e():i("div",{staticClass:"menu-item"},[i("custom-button",{attrs:{label:"Archive"},on:{click:function(t){return e.handleStatus("Archive")}}})],1),1===e.content.session.delFlag?i("div",{staticClass:"menu-item"},[i("custom-button",{attrs:{label:"Restore"},on:{click:function(t){return e.handleStatus("Restore")}}})],1):e._e(),1===e.content.session.delFlag&&e.WORK_SHOPS_STATUS.SCHEDULE.value===e.content.workshopsStatus?i("div",{staticClass:"menu-item"},[i("custom-button",{attrs:{label:"Delete"},on:{click:function(t){return e.handleDel(e.content)}}})],1):e._e(),0===e.content.session.delFlag&&e.WORK_SHOPS_STATUS.ONGOING.value===e.content.workshopsStatus?i("div",{staticClass:"menu-item"},[i("custom-button",{attrs:{label:"End"},on:{click:function(t){return e.handleStatus("End")}}})],1):e._e(),0===e.content.session.delFlag&&e.WORK_SHOPS_STATUS.ENDED.value===e.content.workshopsStatus?i("div",{staticClass:"menu-item"},[i("custom-button",{attrs:{label:"Reopen"},on:{click:function(t){return e.handleStatus("Reopen")}}})],1):e._e()])])]:e._e(),e.WORK_SHOPS_TYPE.REGISTERED.value===e.content.workshopsType&&e.isCurrentType(e.WORK_SHOPS_TYPE.REGISTERED.value)?i("a-dropdown",{attrs:{trigger:["click"],getPopupContainer:function(e){return e.parentElement}}},[i("div",{staticClass:"more-action"},[i("more-icon")],1),i("div",{staticClass:"content-item-more-action",attrs:{slot:"overlay"},slot:"overlay"},[e.WORK_SHOPS_STATUS.SCHEDULE.value===e.content.workshopsStatus&&e.isReadyStart24(e.content)?i("div",{staticClass:"menu-item"},[i("custom-button",{attrs:{label:"Cancel"},on:{click:function(t){return e.handleCancel(e.content)}}})],1):e._e(),e.WORK_SHOPS_STATUS.SCHEDULE.value!==e.content.workshopsStatus||e.isReadyStart24(e.content)?e._e():i("div",{staticClass:"menu-item"},[i("custom-button",{attrs:{label:"Cancel",disabled:!0,disabledTooltip:"Out of deadline"}})],1),0!==e.content.session.delFlag||e.WORK_SHOPS_STATUS.SCHEDULE.value!==e.content.workshopsStatus||e.isReadyStart24(e.content)?e._e():i("div",{staticClass:"menu-item"},[i("custom-button",{attrs:{label:"Archive"},on:{click:function(t){return e.handleStatus("Archive")}}})],1),0!==e.content.session.delFlag||e.WORK_SHOPS_STATUS.ONGOING.value!==e.content.workshopsStatus&&e.WORK_SHOPS_STATUS.ENDED.value!==e.content.workshopsStatus?e._e():i("div",{staticClass:"menu-item"},[i("custom-button",{attrs:{label:"Archive"},on:{click:function(t){return e.handleStatus("Archive")}}})],1),1===e.content.session.delFlag?i("div",{staticClass:"menu-item"},[i("custom-button",{attrs:{label:"Restore"},on:{click:function(t){return e.handleStatus("Restore")}}})],1):e._e(),1===e.content.session.delFlag?i("div",{staticClass:"menu-item"},[i("custom-button",{attrs:{label:"Delete"},on:{click:function(t){return e.handleDel(e.content)}}})],1):e._e()])]):e._e()],2)],1)]),e.previewVisible?i("content-preview",{attrs:{"content-id":e.previewCurrentId,"content-type":e.previewType,"show-edit-button":!!e.content.content,session:e.content.session,liveWorkShopCode:e.previewCode,"is-library":e.isLibrary,"school-resource":"0"!==e.content.schoolId,"school-resource-id":e.content.schoolId},on:{reload:e.handleRefresh,close:e.handlePreviewClose}}):e._e(),i("a-modal",{attrs:{destroyOnClose:"",width:"600px",zIndex:6e3,confirmLoading:e.loading,title:"Price Set",okText:"Save"},on:{ok:e.handleSavePrice,cancel:function(t){e.showEditPrice=!1}},model:{value:e.showEditPrice,callback:function(t){e.showEditPrice=t},expression:"showEditPrice"}},[i("schedule-price-set",{ref:"priceSet",attrs:{"init-price":e.choose.price,"init-price-list":e.choose.priceList}})],1)],1)},a=[],r=n("2909"),s=n("5530"),o=(n("a9e3"),n("07ac"),n("b0c0"),n("99af"),n("d3b7"),n("f93e")),l=n("44f5"),c=n("5994"),d=n("5225"),u=n("3f76"),p=n("65a0"),h=n("5fc3"),f=n("0381"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-drawer",{attrs:{destroyOnClose:"",placement:"right",closable:!1,width:"1000px",visible:e.previewVisible},on:{close:e.handlePreviewClose}},[n("div",{staticClass:"preview-wrapper-row"},[n("div",{staticClass:"view-back"},[n("a-button",{staticClass:"preview-back-btn",attrs:{type:"primary",shape:"round"},on:{click:e.handlePreviewClose}},[n("a-icon",{style:{"font-size":"12px"},attrs:{type:"left"}}),e._v("Back")],1)],1),e.previewCurrentId&&e.previewType?n("div",{staticClass:"detail-wrapper"},[n("common-preview-v2",{attrs:{id:e.previewCurrentId,type:e.previewType}})],1):e._e()])])},m=[],g=n("adfc"),y={name:"PreviewContent",components:{CommonPreviewV2:g["a"]},props:{previewCurrentId:{type:String,required:!0},previewType:{type:Number,required:!0}},data:function(){return{previewVisible:!0}},created:function(){},methods:{handlePreviewClose:function(){this.$emit("close")}}},b=y,w=(n("638c"),n("0c7c")),C=Object(w["a"])(b,v,m,!1,null,"93d21cc2",null),S=C.exports,k=n("ce85"),_=n("adae"),T=n("8f46"),x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pay-detail"},[n("div",{staticClass:"fee"},[n("span",{staticClass:"fee-title"},[e._v("Pricing")]),n("div",{staticClass:"fee-input"},[n("a-input",{staticClass:"dollar-price-input",attrs:{type:"number",prefix:"$"},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}})],1)]),n("div",{staticClass:"pay-discount"},[n("div",{staticClass:"pay-sub-title"},[e._v(" Bulk discount pricing ")]),e._m(0),e._l(e.discountInfo,(function(t,i){return n("div",{key:"discount"+i,staticClass:"pay-discount-item",on:{click:function(n){return n.stopPropagation(),e.handleDiscountEdit(t)}}},[n("div",{staticClass:"person-num"},[t.editing?[n("a-input",{staticClass:"cc-form-input discount-input",attrs:{min:"1",type:"number"},model:{value:t.peopleThreshold,callback:function(n){e.$set(t,"peopleThreshold",n)},expression:"discount.peopleThreshold"}})]:[e._v(" "+e._s(t.peopleThreshold)+" ")],e._v(" and more ")],2),n("div",{staticClass:"discount-off"},[t.editing?[n("a-input",{staticClass:"cc-form-input discount-input",attrs:{min:"0",max:"100",type:"number"},model:{value:t.discount,callback:function(n){e.$set(t,"discount",n)},expression:"discount.discount"}}),e._v("% ")]:[e._v(" "+e._s(t.discount)+"% ")]],2),n("div",{directives:[{name:"show",rawName:"v-show",value:e.discountInfo.length>1,expression:"discountInfo.length > 1"}],staticClass:"delete-item",on:{click:function(n){return n.stopPropagation(),e.deleteDiscount(t)}}},[n("delete-icon",{attrs:{color:"#F16A39"}})],1)])}))],2),n("div",{staticClass:"add-discount"},[n("custom-text-button",{attrs:{label:"Add row"},on:{click:e.handleAddDiscount},scopedSlots:e._u([{key:"icon",fn:function(){return[n("a-icon",{attrs:{type:"plus-circle"}})]},proxy:!0}])})],1)])},D=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pay-discount-title"},[n("div",{staticClass:"pay-participant"},[e._v("No of participants")]),n("div",{staticClass:"pay-percent"},[e._v("Percentage off")])])}],E=(n("d81d"),n("159b"),n("a434"),n("20ae")),O=n("b5ba"),I={props:{initPriceList:{type:Array,default:function(){return[]}},initPrice:{type:Number,default:100}},components:{CustomTextButton:E["a"],DeleteIcon:O["a"]},watch:{initPrice:{handler:function(e){this.price=e},immediate:!0},initPriceList:{handler:function(e){var t=this;this.discountInfo=e.map((function(e){var n={peopleThreshold:e.registeredNum,discount:0,editing:!1},i=0===t.price?0:Math.round((100*t.price-100*e.price)/t.price);return n.discount=i,n}))},immediate:!0}},data:function(){return{price:100,discountInfo:[{peopleThreshold:1,discount:0,editing:!0}]}},methods:{handleAddDiscount:function(){this.discountInfo.push({peopleThreshold:1,discount:0,editing:!0})},handleDiscountEdit:function(e){e.editing=!0},handleBlurClick:function(){this.discountInfo.forEach((function(e){e.peopleThreshold=Math.max(e.peopleThreshold,1),e.editing=!1}))},deleteDiscount:function(e){var t=this.discountInfo.indexOf(e);t>-1&&this.discountInfo.splice(t,1)},getPriceSet:function(){return{price:this.price,discountInfo:this.discountInfo}}}},M=I,L=(n("1ffe"),Object(w["a"])(M,x,D,!1,null,"51d0f57f",null)),R=L.exports,A=n("4663"),j=n.n(A),P=n("f031"),N=n("9fb0"),B=n("8ded"),H=n.n(B),F=n("c1df"),V=n.n(F),U=n("2f62"),z=n("ca00"),Y={name:"LiveWorkShopContentItem",components:{PriceSlider:p["a"],ShareButton:h["a"],CustomButton:f["a"],PreviewContent:S,ContentPreview:k["a"],TagsLine:_["a"],ContentTypeIcon:T["a"],SchedulePriceSet:R,MoreIcon:j.a},mixins:[P["a"]],props:{content:{type:Object,default:null},isSimple:{type:Boolean,default:!1},updateTime:{type:[String,Number],default:0}},watch:{updateTime:{handler:function(e,t){this.updateFilterTime()},immediate:!0}},data:function(){return{typeMap:u["e"],USER_MODE:o["Y"],WORK_SHOPS_STATUS:o["ab"],WORK_SHOPS_TYPE:o["bb"],WORK_SHOPS_TYPE_VALUES:Object.values(o["bb"]),moment:V.a,shareVisible:!1,shareItem:{},showTagLen:2,showEditName:!1,showEditSche:!1,showEditPrice:!1,needReload:!1,choose:{id:null,title:"",price:0,priceList:[],sessionStartTime:null,deadline:null},loading:!1,filterSessionStartTime:"",filterDeadline:""}},computed:Object(s["a"])(Object(s["a"])({},Object(U["e"])({info:function(e){return e.user.info},userMode:function(e){return e.app.userMode},currentSchool:function(e){return e.user.currentSchool}})),{},{isCurrentType:function(){var e=this;return function(t){return e.$route.query&&e.$route.query.workshopsType?e.$route.query.workshopsType===t+"":t+""===o["bb"].FEATURE.value+""}},filterSessionEndTime:function(){return this.content.sessionStartTime&&V()(this.content.sessionStartTime).isSame(V()(this.content.sessionEndTime),"day")?"HH:mm":"YYYY-MM-DD HH:mm"},isLibrary:function(){return!this.content.content||this.content.content.createBy!==this.info.email}}),mounted:function(){var e=this.content.content&&this.content.content.customTags?this.content.content.customTags.length:0;this.$refs.detailPrice&&this.$refs.detailPrice.getElementsByClassName("price-slider")[0]&&(this.$refs.detailPrice.style.justifyContent=0===e?"flex-end":"space-between")},methods:{updateFilterTime:function(){this.filterDeadline="",this.filterSessionStartTime="",this.content&&this.content.session&&this.content.session.register&&this.content.session.register.registerBefore&&(this.filterDeadline=this.content.session.register.registerBefore),this.content&&this.content.sessionStartTime&&(this.filterDeadline=this.content.sessionStartTime,this.filterSessionStartTime=this.content.sessionStartTime)},editItem:function(e){e.type===u["e"]["unit-plan"]?this.$router.push({path:"/teacher/unit-plan-redirect/"+e.id}):e.type===u["e"].task?this.$router.push({path:"/teacher/task-redirect/"+e.id}):e.type===u["e"].video?this.$router.push({path:"/teacher/video-redirect/"+e.id}):e.type===u["e"].pd&&this.$router.push({path:"/teacher/pd-content-redirect/"+e.id})},editName:function(e){this.showEditName=!0,this.choose=Object(s["a"])({},e),this.choose.sessionStartTime=e.sessionStartTime,this.choose.deadline=e.sessionEndTime||e.sessionStartTime,this.choose.title||(this.choose.title=e.content.name)},editSche:function(e){this.showEditSche=!0,this.choose=Object(s["a"])({},e),this.choose.sessionStartTime=e.sessionStartTime,this.choose.deadline=e.sessionEndTime||e.sessionStartTime},editPrice:function(e){this.showEditPrice=!0,this.choose=Object(s["a"])({},e),this.choose.sessionStartTime=e.sessionStartTime,this.choose.deadline=e.sessionEndTime||e.sessionStartTime},visibleChange:function(e,t){e&&t.name&&(this.shareVisible=!1,this.shareItem=Object(s["a"])({},t),this.shareVisible=!0)},wrapperLink:function(e){return e&&e.sessionId?"".concat("https://www.classcipe.com","/h5/live/").concat(e.sessionId):""},handleToZoom:function(e){},handleCloseShare:function(){this.shareVisible=!1},changeTitle:function(e,t){this.choose.title=e},isReadyStart24:function(e){if(!e.sessionStartTime)return!0;var t=V.a.utc(e.sessionStartTime).local().subtract(24,"hours");return V()().isBefore(t)},handleCancelSingle:function(e){this.showEditName=!1,this.showEditSche=!1},disabledDateRange:function(e){return e&&e<V()().subtract(1,"minutes")},handleDateChange:function(e,t){e.length>0?(this.choose.sessionStartTime=V()(e[0].toDate()).utc().format("YYYY-MM-DD HH:mm:ss"),this.choose.deadline=V()(e[1].toDate()).utc().format("YYYY-MM-DD HH:mm:ss")):(this.choose.sessionStartTime=null,this.choose.deadline=null)},handleSavePrice:function(){var e=this.$refs.priceSet.getPriceSet();this.handleSave(Object(s["a"])(Object(s["a"])({},e),{},{id:this.choose.id}),!0)},handleSave:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={sessionStartTime:this.choose.sessionStartTime,deadline:this.choose.deadline,register:{title:this.choose.title},id:e.id};e.discountInfo&&(i.register.discountInfo=Object(r["a"])(e.discountInfo),i.register.price=e.price),this.loading=!0,Object(c["e"])(i).then((function(i){i.success&&(t.$message.success("Opt Successfully"),e.title=t.choose.title,e.sessionStartTime=t.choose.sessionStartTime,e.sessionEndTime=t.choose.deadline,t.showEditName=!1,t.showEditSche=!1,t.showEditPrice=!1,n&&t.$emit("reload"))})).finally((function(e){t.loading=!1}))},handleGoWork:function(e){if(e&&e.session&&e.session.classId&&(this.isCurrentType(o["bb"].REGISTERED.value)||this.isCurrentType(o["bb"].LUNCHEDBYME.value))){var t=this.isCurrentType(o["bb"].LUNCHEDBYME.value)?"t/":"s/",n=d["a"]+t+e.session.classId+"?token="+H.a.get(N["a"]);window.location.href=n}},handleShare:function(e){this.shareVisible=!0,this.shareLink=Object(s["a"])({},e)},handleRegister:function(e){var t=this;e&&e.sessionId&&Object(l["e"])({contentId:e.content?e.content.id:null,sessionId:e.sessionId,channelId:Object(z["getCookie"])(N["v"])}).then((function(e){e.success&&(t.$message.success("You have successfully registered in"),setTimeout((function(){t.$emit("reload")}),300))}))},handleCancel:function(e){var t=this;e&&e.sessionId&&Object(l["a"])({contentId:e.content?e.content.id:null,sessionId:e.sessionId}).then((function(e){e.success&&(t.$message.success("Cancel successfully"),t.$emit("reload"))}))},handleRelaunch:function(e){this.$router.push({path:"/teacher/live-workshop/"+e.content.id+"/"+e.content.type+"?relaunch="+e.sessionId})},handleDel:function(e){var t=this;this.$confirm({title:"Confirm remove live workshop",content:"All the relevant content will be cleared and you will not be able to retrieve after deleting it.",centered:!0,onOk:function(){Object(c["d"])({sessionId:e.sessionId}).then((function(e){t.$message.success("Remove successfully"),t.$emit("reload")}))}})},handleEnd:function(e){var t=this;Object(c["f"])(e.id).then((function(e){t.$message.success("End successfully"),t.$emit("reload")}))},handleReopen:function(e){var t=this;Object(c["g"])(e.id).then((function(e){t.$message.success("Reopen successfully"),t.$emit("reload")}))},handleStatus:function(e){var t=this;Object(c["c"])({sessionId:this.content.sessionId,statusStr:e}).then((function(n){t.$message.success(e+" successfully"),t.$emit("reload")}))},handleArchive:function(e){var t=this;o["ab"].ENDED.value===e.workshopsStatus?this.$confirm({title:"Confirm archive class session",content:"Do you confirm to archive class session? ",centered:!0,onOk:function(){Object(c["b"])(e.id).then((function(e){t.$message.success("Archive successfully"),t.$emit("reload")}))}}):Object(c["b"])(e.id).then((function(e){t.$message.success("Archive successfully"),t.$emit("reload")}))},handleRestore:function(e){var t=this;Object(c["h"])(e.id).then((function(e){t.$message.success("Restore successfully"),t.$emit("reFetch")}))},handleEdit:function(e){this.$message.info("coming soon...")},handlePreview:function(e){this.$emit("close"),this.handlePreviewDetail(Object(s["a"])(Object(s["a"])({},e.content),{},{sessionId:e.sessionId}))},handlePreviewClose:function(){this.$logger.info("handlePreviewClose"),this.previewVisible=!1,this.previewCurrentId=null,this.previewType=null,this.previewCode=null,this.needReload&&this.$emit("reload")},handleRefresh:function(){this.needReload=!0}}},W=Y,G=(n("54f9"),Object(w["a"])(W,i,a,!1,null,"735114cf",null));t["a"]=G.exports},cad2:function(e,t,n){"use strict";n("f424")},cc1a:function(e,t,n){"use strict";n("6a3c")},cd81:function(e,t,n){},d573:function(e,t,n){"use strict";n.r(t),n.d(t,"libraryURL",(function(){return a})),n.d(t,"Search",(function(){return r})),n.d(t,"QueryContents",(function(){return s})),n.d(t,"QueryKeyContents",(function(){return o})),n.d(t,"QueryRecommendContents",(function(){return l})),n.d(t,"QueryContentsFilter",(function(){return c}));var i=n("b775"),a={Search:"/classcipe/api/library/search",QueryContents:"/classcipe/api/library/queryContents",QueryKeyContents:"/classcipe/api/library/queryKeyContents",queryContentsFilter:"/classcipe/api/library/queryContentsFilter",QueryRecommendContents:"/classcipe/api/library/queryRecommendContents"};function r(e){return Object(i["d"])({url:a.Search,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(e){return Object(i["d"])({url:a.QueryContents,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(i["d"])({url:a.QueryKeyContents,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(i["d"])({url:a.QueryRecommendContents,method:"get",params:e})}function c(e){return Object(i["d"])({url:a.queryContentsFilter,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},d610:function(e,t,n){"use strict";n.d(t,"v",(function(){return u})),n.d(t,"lb",(function(){return l})),n.d(t,"qb",(function(){return d})),n.d(t,"Ab",(function(){return f})),n.d(t,"oc",(function(){return c})),n.d(t,"vc",(function(){return v})),n.d(t,"a",(function(){return It})),n.d(t,"b",(function(){return ga})),n.d(t,"c",(function(){return Mo})),n.d(t,"d",(function(){return li})),n.d(t,"e",(function(){return Os})),n.d(t,"f",(function(){return Qr})),n.d(t,"g",(function(){return Ls})),n.d(t,"h",(function(){return Ma})),n.d(t,"i",(function(){return Ca})),n.d(t,"j",(function(){return Ga})),n.d(t,"k",(function(){return Do})),n.d(t,"l",(function(){return Oo})),n.d(t,"m",(function(){return Vs})),n.d(t,"n",(function(){return zs})),n.d(t,"o",(function(){return Ys})),n.d(t,"p",(function(){return qr})),n.d(t,"q",(function(){return ws})),n.d(t,"r",(function(){return da})),n.d(t,"s",(function(){return ra})),n.d(t,"t",(function(){return ci})),n.d(t,"u",(function(){return So})),n.d(t,"w",(function(){return ms})),n.d(t,"x",(function(){return Bo})),n.d(t,"y",(function(){return To})),n.d(t,"z",(function(){return Hs})),n.d(t,"A",(function(){return la})),n.d(t,"B",(function(){return ro})),n.d(t,"C",(function(){return Ia})),n.d(t,"D",(function(){return ca})),n.d(t,"E",(function(){return ls})),n.d(t,"F",(function(){return wo})),n.d(t,"G",(function(){return Ws})),n.d(t,"H",(function(){return Hi})),n.d(t,"I",(function(){return ko})),n.d(t,"J",(function(){return fa})),n.d(t,"K",(function(){return Ba})),n.d(t,"L",(function(){return Ro})),n.d(t,"M",(function(){return ua})),n.d(t,"N",(function(){return te})),n.d(t,"O",(function(){return We})),n.d(t,"P",(function(){return ee})),n.d(t,"Q",(function(){return z})),n.d(t,"R",(function(){return V})),n.d(t,"S",(function(){return Qn})),n.d(t,"T",(function(){return S})),n.d(t,"U",(function(){return k})),n.d(t,"V",(function(){return Qe})),n.d(t,"W",(function(){return vs})),n.d(t,"X",(function(){return ds})),n.d(t,"Y",(function(){return ui})),n.d(t,"Z",(function(){return Pn})),n.d(t,"ab",(function(){return et})),n.d(t,"bb",(function(){return Wi})),n.d(t,"cb",(function(){return Rn})),n.d(t,"db",(function(){return K})),n.d(t,"eb",(function(){return Vo})),n.d(t,"fb",(function(){return ea})),n.d(t,"gb",(function(){return ta})),n.d(t,"hb",(function(){return Cs})),n.d(t,"ib",(function(){return Ri})),n.d(t,"jb",(function(){return A})),n.d(t,"kb",(function(){return Ve})),n.d(t,"mb",(function(){return zt})),n.d(t,"nb",(function(){return _e})),n.d(t,"ob",(function(){return Et})),n.d(t,"pb",(function(){return Sa})),n.d(t,"rb",(function(){return pn})),n.d(t,"sb",(function(){return ae})),n.d(t,"tb",(function(){return ji})),n.d(t,"ub",(function(){return ie})),n.d(t,"vb",(function(){return B})),n.d(t,"wb",(function(){return y})),n.d(t,"xb",(function(){return b})),n.d(t,"yb",(function(){return H})),n.d(t,"zb",(function(){return Ft})),n.d(t,"Bb",(function(){return nt})),n.d(t,"Cb",(function(){return ia})),n.d(t,"Db",(function(){return Kn})),n.d(t,"Eb",(function(){return T})),n.d(t,"Fb",(function(){return Tn})),n.d(t,"Gb",(function(){return cs})),n.d(t,"Hb",(function(){return _})),n.d(t,"Ib",(function(){return Ai})),n.d(t,"Jb",(function(){return Vt})),n.d(t,"Kb",(function(){return Nn})),n.d(t,"Lb",(function(){return An})),n.d(t,"Mb",(function(){return bo})),n.d(t,"Nb",(function(){return yo})),n.d(t,"Ob",(function(){return D})),n.d(t,"Pb",(function(){return us})),n.d(t,"Qb",(function(){return kn})),n.d(t,"Rb",(function(){return Bt})),n.d(t,"Sb",(function(){return bs})),n.d(t,"Tb",(function(){return ys})),n.d(t,"Ub",(function(){return mn})),n.d(t,"Vb",(function(){return Li})),n.d(t,"Wb",(function(){return hs})),n.d(t,"Xb",(function(){return at})),n.d(t,"Yb",(function(){return $s})),n.d(t,"Zb",(function(){return Vn})),n.d(t,"ac",(function(){return qs})),n.d(t,"bc",(function(){return Me})),n.d(t,"cc",(function(){return Ee})),n.d(t,"dc",(function(){return rt})),n.d(t,"ec",(function(){return qe})),n.d(t,"fc",(function(){return ks})),n.d(t,"gc",(function(){return on})),n.d(t,"hc",(function(){return Mi})),n.d(t,"ic",(function(){return U})),n.d(t,"jc",(function(){return F})),n.d(t,"kc",(function(){return wn})),n.d(t,"lc",(function(){return bn})),n.d(t,"mc",(function(){return rn})),n.d(t,"nc",(function(){return g})),n.d(t,"pc",(function(){return Io})),n.d(t,"qc",(function(){return go})),n.d(t,"rc",(function(){return wa})),n.d(t,"sc",(function(){return En})),n.d(t,"tc",(function(){return ue})),n.d(t,"uc",(function(){return qn})),n.d(t,"wc",(function(){return R})),n.d(t,"xc",(function(){return Xe}));n("f54b");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r=function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.create;function s(e,t,n){if(n||2===arguments.length)for(var i,a=0,r=t.length;a<r;a++)!i&&a in t||(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}Object.create;if("undefined"===typeof FullCalendarVDom)throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var o=FullCalendarVDom.Component,l=FullCalendarVDom.createElement,c=FullCalendarVDom.render,d=FullCalendarVDom.createRef,u=FullCalendarVDom.Fragment,p=FullCalendarVDom.createContext,h=FullCalendarVDom.createPortal,f=FullCalendarVDom.flushToDom,v=FullCalendarVDom.unmountComponentAtNode,m=function(){function e(e,t){this.context=e,this.internalEventSource=t}return e.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},e.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(e.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),e}();function g(e){e.parentNode&&e.parentNode.removeChild(e)}function y(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(b(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}function b(e,t){var n=e.matches||e.matchesSelector||e.msMatchesSelector;return n.call(e,t)}function w(e,t){for(var n=e instanceof HTMLElement?[e]:e,i=[],a=0;a<n.length;a+=1)for(var r=n[a].querySelectorAll(t),s=0;s<r.length;s+=1)i.push(r[s]);return i}var C=/(top|left|right|bottom|width|height)$/i;function S(e,t){for(var n in t)k(e,n,t[n])}function k(e,t,n){null==n?e.style[t]="":"number"===typeof n&&C.test(t)?e.style[t]=n+"px":e.style[t]=n}function _(e){var t,n;return null!==(n=null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])&&void 0!==n?n:e.target}function T(e){return e.getRootNode?e.getRootNode():document}var x=0;function D(){return x+=1,"fc-dom-"+x}function E(e){e.preventDefault()}function O(e,t){return function(n){var i=y(n.target,e);i&&t.call(i,n,i)}}function I(e,t,n,i){var a=O(n,i);return e.addEventListener(t,a),function(){e.removeEventListener(t,a)}}function M(e,t,n,i){var a;return I(e,"mouseover",t,(function(e,t){if(t!==a){a=t,n(e,t);var r=function(e){a=null,i(e,t),t.removeEventListener("mouseleave",r)};t.addEventListener("mouseleave",r)}}))}var L=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function R(e,t){var n=function(i){t(i),L.forEach((function(t){e.removeEventListener(t,n)}))};L.forEach((function(t){e.addEventListener(t,n)}))}function A(e){return r({onClick:e},j(e))}function j(e){return{tabIndex:0,onKeyDown:function(t){"Enter"!==t.key&&" "!==t.key||(e(t),t.preventDefault())}}}var P=0;function N(){return P+=1,String(P)}function B(){document.body.classList.add("fc-not-allowed")}function H(){document.body.classList.remove("fc-not-allowed")}function F(e){e.classList.add("fc-unselectable"),e.addEventListener("selectstart",E)}function V(e){e.classList.remove("fc-unselectable"),e.removeEventListener("selectstart",E)}function U(e){e.addEventListener("contextmenu",E)}function z(e){e.removeEventListener("contextmenu",E)}function Y(e){var t,n,i=[],a=[];for("string"===typeof e?a=e.split(/\s*,\s*/):"function"===typeof e?a=[e]:Array.isArray(e)&&(a=e),t=0;t<a.length;t+=1)n=a[t],"string"===typeof n?i.push("-"===n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"===typeof n&&i.push({func:n});return i}function W(e,t,n){var i,a;for(i=0;i<n.length;i+=1)if(a=G(e,t,n[i]),a)return a;return 0}function G(e,t,n){return n.func?n.func(e,t):q(e[n.field],t[n.field])*(n.order||1)}function q(e,t){return e||t?null==t?-1:null==e?1:"string"===typeof e||"string"===typeof t?String(e).localeCompare(String(t)):e-t:0}function $(e,t){var n=String(e);return"000".substr(0,t-n.length)+n}function Z(e,t,n){return"function"===typeof e?e.apply(void 0,t):"string"===typeof e?t.reduce((function(e,t,n){return e.replace("$"+n,t||"")}),e):n}function K(e,t){return e-t}function Q(e){return e%1===0}function X(e){var t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}var J=["sun","mon","tue","wed","thu","fri","sat"];function ee(e,t){var n=we(e);return n[2]+=7*t,Ce(n)}function te(e,t){var n=we(e);return n[2]+=t,Ce(n)}function ne(e,t){var n=we(e);return n[6]+=t,Ce(n)}function ie(e,t){return ae(e,t)/7}function ae(e,t){return(t.valueOf()-e.valueOf())/864e5}function re(e,t){return(t.valueOf()-e.valueOf())/36e5}function se(e,t){return(t.valueOf()-e.valueOf())/6e4}function oe(e,t){return(t.valueOf()-e.valueOf())/1e3}function le(e,t){var n=ue(e),i=ue(t);return{years:0,months:0,days:Math.round(ae(n,i)),milliseconds:t.valueOf()-i.valueOf()-(e.valueOf()-n.valueOf())}}function ce(e,t){var n=de(e,t);return null!==n&&n%7===0?n/7:null}function de(e,t){return ke(e)===ke(t)?Math.round(ae(e,t)):null}function ue(e){return Ce([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function pe(e){return Ce([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}function he(e){return Ce([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}function fe(e){return Ce([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}function ve(e,t,n){var i=e.getUTCFullYear(),a=me(e,i,t,n);if(a<1)return me(e,i-1,t,n);var r=me(e,i+1,t,n);return r>=1?Math.min(a,r):a}function me(e,t,n,i){var a=Ce([t,0,1+ge(t,n,i)]),r=ue(e),s=Math.round(ae(a,r));return Math.floor(s/7)+1}function ge(e,t,n){var i=7+t-n,a=(7+Ce([e,0,i]).getUTCDay()-t)%7;return-a+i-1}function ye(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function be(e){return new Date(e[0],e[1]||0,null==e[2]?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function we(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function Ce(e){return 1===e.length&&(e=e.concat([0])),new Date(Date.UTC.apply(Date,e))}function Se(e){return!isNaN(e.valueOf())}function ke(e){return 1e3*e.getUTCHours()*60*60+1e3*e.getUTCMinutes()*60+1e3*e.getUTCSeconds()+e.getUTCMilliseconds()}function _e(e,t,n,i){return{instanceId:N(),defId:e,range:t,forcedStartTzo:null==n?null:n,forcedEndTzo:null==i?null:i}}var Te=Object.prototype.hasOwnProperty;function xe(e,t){var n={};if(t)for(var i in t){for(var a=[],r=e.length-1;r>=0;r-=1){var s=e[r][i];if("object"===typeof s&&s)a.unshift(s);else if(void 0!==s){n[i]=s;break}}a.length&&(n[i]=xe(a))}for(r=e.length-1;r>=0;r-=1){var o=e[r];for(var l in o)l in n||(n[l]=o[l])}return n}function De(e,t){var n={};for(var i in e)t(e[i],i)&&(n[i]=e[i]);return n}function Ee(e,t){var n={};for(var i in e)n[i]=t(e[i],i);return n}function Oe(e){for(var t={},n=0,i=e;n<i.length;n++){var a=i[n];t[a]=!0}return t}function Ie(e){var t=[];for(var n in e)t.push(e[n]);return t}function Me(e,t){if(e===t)return!0;for(var n in e)if(Te.call(e,n)&&!(n in t))return!1;for(var n in t)if(Te.call(t,n)&&e[n]!==t[n])return!1;return!0}function Le(e,t){var n=[];for(var i in e)Te.call(e,i)&&(i in t||n.push(i));for(var i in t)Te.call(t,i)&&e[i]!==t[i]&&n.push(i);return n}function Re(e,t,n){if(void 0===n&&(n={}),e===t)return!0;for(var i in t)if(!(i in e)||!Ae(e[i],t[i],n[i]))return!1;for(var i in e)if(!(i in t))return!1;return!0}function Ae(e,t,n){return e===t||!0===n||!!n&&n(e,t)}function je(e,t,n,i){void 0===t&&(t=0),void 0===i&&(i=1);var a=[];null==n&&(n=Object.keys(e).length);for(var r=t;r<n;r+=i){var s=e[r];void 0!==s&&a.push(s)}return a}function Pe(e,t,n,i){for(var a=0;a<i.length;a+=1){var r=i[a].parse(e,n);if(r){var s=e.allDay;return null==s&&(s=t,null==s&&(s=r.allDayGuess,null==s&&(s=!1))),{allDay:s,duration:r.duration,typeData:r.typeData,typeId:a}}}return null}function Ne(e,t,n){var i=n.dateEnv,a=n.pluginHooks,r=n.options,s=e.defs,o=e.instances;for(var l in o=De(o,(function(e){return!s[e.defId].recurringDef})),s){var c=s[l];if(c.recurringDef){var d=c.recurringDef.duration;d||(d=c.allDay?r.defaultAllDayEventDuration:r.defaultTimedEventDuration);for(var u=Be(c,d,t,i,a.recurringTypes),p=0,h=u;p<h.length;p++){var f=h[p],v=_e(l,{start:f,end:i.add(f,d)});o[v.instanceId]=v}}}return{defs:s,instances:o}}function Be(e,t,n,i,a){var r=a[e.recurringDef.typeId],s=r.expand(e.recurringDef.typeData,{start:i.subtract(n.start,t),end:n.end},i);return e.allDay&&(s=s.map(ue)),s}var He=["years","months","days","milliseconds"],Fe=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Ve(e,t){var n;return"string"===typeof e?Ue(e):"object"===typeof e&&e?ze(e):"number"===typeof e?ze((n={},n[t||"milliseconds"]=e,n)):null}function Ue(e){var t=Fe.exec(e);if(t){var n=t[1]?-1:1;return{years:0,months:0,days:n*(t[2]?parseInt(t[2],10):0),milliseconds:n*(60*(t[3]?parseInt(t[3],10):0)*60*1e3+60*(t[4]?parseInt(t[4],10):0)*1e3+1e3*(t[5]?parseInt(t[5],10):0)+(t[6]?parseInt(t[6],10):0))}}return null}function ze(e){var t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:60*(e.hours||e.hour||0)*60*1e3+60*(e.minutes||e.minute||0)*1e3+1e3*(e.seconds||e.second||0)+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=7*n,t.specifiedWeeks=!0),t}function Ye(e,t){return e.years===t.years&&e.months===t.months&&e.days===t.days&&e.milliseconds===t.milliseconds}function We(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function Ge(e,t){return{years:e.years-t.years,months:e.months-t.months,days:e.days-t.days,milliseconds:e.milliseconds-t.milliseconds}}function qe(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}function $e(e){return Ke(e)/365}function Ze(e){return Ke(e)/30}function Ke(e){return Qe(e)/864e5}function Qe(e){return 31536e6*e.years+2592e6*e.months+864e5*e.days+e.milliseconds}function Xe(e,t){for(var n=null,i=0;i<He.length;i+=1){var a=He[i];if(t[a]){var r=e[a]/t[a];if(!Q(r)||null!==n&&n!==r)return null;n=r}else if(e[a])return null}return n}function Je(e){var t=e.milliseconds;if(t){if(t%1e3!==0)return{unit:"millisecond",value:t};if(t%6e4!==0)return{unit:"second",value:t/1e3};if(t%36e5!==0)return{unit:"minute",value:t/6e4};if(t)return{unit:"hour",value:t/36e5}}return e.days?e.specifiedWeeks&&e.days%7===0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function et(e,t,n){void 0===n&&(n=!1);var i=e.toISOString();return i=i.replace(".000",""),n&&(i=i.replace("T00:00:00Z","")),i.length>10&&(null==t?i=i.replace("Z",""):0!==t&&(i=i.replace("Z",it(t,!0)))),i}function tt(e){return e.toISOString().replace(/T.*$/,"")}function nt(e){return $(e.getUTCHours(),2)+":"+$(e.getUTCMinutes(),2)+":"+$(e.getUTCSeconds(),2)}function it(e,t){void 0===t&&(t=!1);var n=e<0?"-":"+",i=Math.abs(e),a=Math.floor(i/60),r=Math.round(i%60);return t?n+$(a,2)+":"+$(r,2):"GMT"+n+a+(r?":"+$(r,2):"")}function at(e,t,n){if(e===t)return!0;var i,a=e.length;if(a!==t.length)return!1;for(i=0;i<a;i+=1)if(!(n?n(e[i],t[i]):e[i]===t[i]))return!1;return!0}function rt(e,t,n){var i,a;return function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(i){if(!at(i,r)){n&&n(a);var o=e.apply(this,r);t&&t(o,a)||(a=o)}}else a=e.apply(this,r);return i=r,a}}function st(e,t,n){var i,a,r=this;return function(s){if(i){if(!Me(i,s)){n&&n(a);var o=e.call(r,s);t&&t(o,a)||(a=o)}}else a=e.call(r,s);return i=s,a}}var ot={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},lt={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},ct=/\s*([ap])\.?m\.?/i,dt=/,/g,ut=/\s+/g,pt=/\u200e/g,ht=/UTC|GMT/,ft=function(){function e(e){var t={},n={},i=0;for(var a in e)a in ot?(n[a]=e[a],i=Math.max(ot[a],i)):(t[a]=e[a],a in lt&&(i=Math.max(lt[a],i)));this.standardDateProps=t,this.extendedSettings=n,this.severity=i,this.buildFormattingFunc=rt(vt)}return e.prototype.format=function(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)},e.prototype.formatRange=function(e,t,n,i){var a=this,r=a.standardDateProps,s=a.extendedSettings,o=Ct(e.marker,t.marker,n.calendarSystem);if(!o)return this.format(e,n);var l=o;!(l>1)||"numeric"!==r.year&&"2-digit"!==r.year||"numeric"!==r.month&&"2-digit"!==r.month||"numeric"!==r.day&&"2-digit"!==r.day||(l=1);var c=this.format(e,n),d=this.format(t,n);if(c===d)return c;var u=St(r,l),p=vt(u,s,n),h=p(e),f=p(t),v=kt(c,h,d,f),m=s.separator||i||n.defaultSeparator||"";return v?v.before+h+m+f+v.after:c+m+d},e.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},e}();function vt(e,t,n){var i=Object.keys(e).length;return 1===i&&"short"===e.timeZoneName?function(e){return it(e.timeZoneOffset)}:0===i&&t.week?function(e){return wt(n.computeWeekNumber(e.marker),n.weekText,n.weekTextLong,n.locale,t.week)}:mt(e,t,n)}function mt(e,t,n){e=r({},e),t=r({},t),gt(e,t),e.timeZone="UTC";var i,a=new Intl.DateTimeFormat(n.locale.codes,e);if(t.omitZeroMinute){var s=r({},e);delete s.minute,i=new Intl.DateTimeFormat(n.locale.codes,s)}return function(r){var s,o=r.marker;s=i&&!o.getUTCMinutes()?i:a;var l=s.format(o);return yt(l,r,e,t,n)}}function gt(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit")),"long"===e.timeZoneName&&(e.timeZoneName="short"),t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}function yt(e,t,n,i,a){return e=e.replace(pt,""),"short"===n.timeZoneName&&(e=bt(e,"UTC"===a.timeZone||null==t.timeZoneOffset?"UTC":it(t.timeZoneOffset))),i.omitCommas&&(e=e.replace(dt,"").trim()),i.omitZeroMinute&&(e=e.replace(":00","")),!1===i.meridiem?e=e.replace(ct,"").trim():"narrow"===i.meridiem?e=e.replace(ct,(function(e,t){return t.toLocaleLowerCase()})):"short"===i.meridiem?e=e.replace(ct,(function(e,t){return t.toLocaleLowerCase()+"m"})):"lowercase"===i.meridiem&&(e=e.replace(ct,(function(e){return e.toLocaleLowerCase()}))),e=e.replace(ut," "),e=e.trim(),e}function bt(e,t){var n=!1;return e=e.replace(ht,(function(){return n=!0,t})),n||(e+=" "+t),e}function wt(e,t,n,i,a){var r=[];return"long"===a?r.push(n):"short"!==a&&"narrow"!==a||r.push(t),"long"!==a&&"short"!==a||r.push(" "),r.push(i.simpleNumberFormat.format(e)),"rtl"===i.options.direction&&r.reverse(),r.join("")}function Ct(e,t,n){return n.getMarkerYear(e)!==n.getMarkerYear(t)?5:n.getMarkerMonth(e)!==n.getMarkerMonth(t)?4:n.getMarkerDay(e)!==n.getMarkerDay(t)?2:ke(e)!==ke(t)?1:0}function St(e,t){var n={};for(var i in e)(!(i in lt)||lt[i]<=t)&&(n[i]=e[i]);return n}function kt(e,t,n,i){var a=0;while(a<e.length){var r=e.indexOf(t,a);if(-1===r)break;var s=e.substr(0,r);a=r+t.length;var o=e.substr(a),l=0;while(l<n.length){var c=n.indexOf(i,l);if(-1===c)break;var d=n.substr(0,c);l=c+i.length;var u=n.substr(l);if(s===d&&o===u)return{before:s,after:o}}}return null}function _t(e,t){var n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Tt(e,t,n,i){var a=_t(e,n.calendarSystem),r=t?_t(t,n.calendarSystem):null;return{date:a,start:a,end:r,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:i||n.defaultSeparator}}var xt=function(){function e(e){this.cmdStr=e}return e.prototype.format=function(e,t,n){return t.cmdFormatter(this.cmdStr,Tt(e,null,t,n))},e.prototype.formatRange=function(e,t,n,i){return n.cmdFormatter(this.cmdStr,Tt(e,t,n,i))},e}(),Dt=function(){function e(e){this.func=e}return e.prototype.format=function(e,t,n){return this.func(Tt(e,null,t,n))},e.prototype.formatRange=function(e,t,n,i){return this.func(Tt(e,t,n,i))},e}();function Et(e){return"object"===typeof e&&e?new ft(e):"string"===typeof e?new xt(e):"function"===typeof e?new Dt(e):null}var Ot={navLinkDayClick:Bt,navLinkWeekClick:Bt,duration:Ve,bootstrapFontAwesome:Bt,buttonIcons:Bt,customButtons:Bt,defaultAllDayEventDuration:Ve,defaultTimedEventDuration:Ve,nextDayThreshold:Ve,scrollTime:Ve,scrollTimeReset:Boolean,slotMinTime:Ve,slotMaxTime:Ve,dayPopoverFormat:Et,slotDuration:Ve,snapDuration:Ve,headerToolbar:Bt,footerToolbar:Bt,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Et,dayHeaderClassNames:Bt,dayHeaderContent:Bt,dayHeaderDidMount:Bt,dayHeaderWillUnmount:Bt,dayCellClassNames:Bt,dayCellContent:Bt,dayCellDidMount:Bt,dayCellWillUnmount:Bt,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Bt,weekNumbers:Boolean,weekNumberClassNames:Bt,weekNumberContent:Bt,weekNumberDidMount:Bt,weekNumberWillUnmount:Bt,editable:Boolean,viewClassNames:Bt,viewDidMount:Bt,viewWillUnmount:Bt,nowIndicator:Boolean,nowIndicatorClassNames:Bt,nowIndicatorContent:Bt,nowIndicatorDidMount:Bt,nowIndicatorWillUnmount:Bt,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Bt,locale:Bt,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Bt,eventOrder:Y,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Bt,contentHeight:Bt,direction:String,weekNumberFormat:Et,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Bt,initialDate:Bt,now:Bt,eventDataTransform:Bt,stickyHeaderDates:Bt,stickyFooterScrollbar:Bt,viewHeight:Bt,defaultAllDay:Boolean,eventSourceFailure:Bt,eventSourceSuccess:Bt,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Bt,eventConstraint:Bt,eventAllow:Bt,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Bt,eventContent:Bt,eventDidMount:Bt,eventWillUnmount:Bt,selectConstraint:Bt,selectOverlap:Bt,selectAllow:Bt,droppable:Boolean,unselectCancel:String,slotLabelFormat:Bt,slotLaneClassNames:Bt,slotLaneContent:Bt,slotLaneDidMount:Bt,slotLaneWillUnmount:Bt,slotLabelClassNames:Bt,slotLabelContent:Bt,slotLabelDidMount:Bt,slotLabelWillUnmount:Bt,dayMaxEvents:Bt,dayMaxEventRows:Bt,dayMinWidth:Number,slotLabelInterval:Ve,allDayText:String,allDayClassNames:Bt,allDayContent:Bt,allDayDidMount:Bt,allDayWillUnmount:Bt,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Et,rerenderDelay:Number,moreLinkText:Bt,moreLinkHint:Bt,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Bt,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Ve,hiddenDays:Bt,monthMode:Boolean,fixedWeekCount:Boolean,validRange:Bt,visibleRange:Bt,titleFormat:Bt,eventInteractive:Boolean,noEventsText:String,viewHint:Bt,navLinkHint:Bt,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Bt,moreLinkClassNames:Bt,moreLinkContent:Bt,moreLinkDidMount:Bt,moreLinkWillUnmount:Bt},It={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},Mt={datesSet:Bt,eventsSet:Bt,eventAdd:Bt,eventChange:Bt,eventRemove:Bt,windowResize:Bt,eventClick:Bt,eventMouseEnter:Bt,eventMouseLeave:Bt,select:Bt,unselect:Bt,loading:Bt,_unmount:Bt,_beforeprint:Bt,_afterprint:Bt,_noEventDrop:Bt,_noEventResize:Bt,_resize:Bt,_scrollRequest:Bt},Lt={buttonText:Bt,buttonHints:Bt,views:Bt,plugins:Bt,initialEvents:Bt,events:Bt,eventSources:Bt},Rt={headerToolbar:At,footerToolbar:At,buttonText:At,buttonHints:At,buttonIcons:At};function At(e,t){return"object"===typeof e&&"object"===typeof t&&e&&t?Me(e,t):e===t}var jt={type:String,component:Bt,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Bt,usesMinMaxTime:Boolean,classNames:Bt,content:Bt,didMount:Bt,willUnmount:Bt};function Pt(e){return xe(e,Rt)}function Nt(e,t){var n={},i={};for(var a in t)a in e&&(n[a]=t[a](e[a]));for(var a in e)a in t||(i[a]=e[a]);return{refined:n,extra:i}}function Bt(e){return e}function Ht(e,t,n,i){for(var a=zt(),r=sn(n),s=0,o=e;s<o.length;s++){var l=o[s],c=an(l,t,n,i,r);c&&Ft(c,a)}return a}function Ft(e,t){return void 0===t&&(t=zt()),t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function Vt(e,t){var n=e.instances[t];if(n){var i=e.defs[n.defId],a=Wt(e,(function(e){return Ut(i,e)}));return a.defs[i.defId]=i,a.instances[n.instanceId]=n,a}return zt()}function Ut(e,t){return Boolean(e.groupId&&e.groupId===t.groupId)}function zt(){return{defs:{},instances:{}}}function Yt(e,t){return{defs:r(r({},e.defs),t.defs),instances:r(r({},e.instances),t.instances)}}function Wt(e,t){var n=De(e.defs,t),i=De(e.instances,(function(e){return n[e.defId]}));return{defs:n,instances:i}}function Gt(e,t){var n=e.defs,i=e.instances,a={},r={};for(var s in n)t.defs[s]||(a[s]=n[s]);for(var o in i)!t.instances[o]&&a[i[o].defId]&&(r[o]=i[o]);return{defs:a,instances:r}}function qt(e,t){return Array.isArray(e)?Ht(e,null,t,!0):"object"===typeof e&&e?Ht([e],null,t,!0):null!=e?String(e):null}function $t(e){return Array.isArray(e)?e:"string"===typeof e?e.split(/\s+/):[]}var Zt={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Bt,overlap:Bt,allow:Bt,className:$t,classNames:$t,color:String,backgroundColor:String,borderColor:String,textColor:String},Kt={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Qt(e,t){var n=qt(e.constraint,t);return{display:e.display||null,startEditable:null!=e.startEditable?e.startEditable:e.editable,durationEditable:null!=e.durationEditable?e.durationEditable:e.editable,constraints:null!=n?[n]:[],overlap:null!=e.overlap?e.overlap:null,allows:null!=e.allow?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function Xt(e){return e.reduce(Jt,Kt)}function Jt(e,t){return{display:null!=t.display?t.display:e.display,startEditable:null!=t.startEditable?t.startEditable:e.startEditable,durationEditable:null!=t.durationEditable?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:"boolean"===typeof t.overlap?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}var en={id:String,groupId:String,title:String,url:String,interactive:Boolean},tn={start:Bt,end:Bt,date:Bt,allDay:Boolean},nn=r(r(r({},en),tn),{extendedProps:Bt});function an(e,t,n,i,a){void 0===a&&(a=sn(n));var r=rn(e,n,a),s=r.refined,o=r.extra,l=cn(t,n),c=Pe(s,l,n.dateEnv,n.pluginHooks.recurringTypes);if(c){var d=on(s,o,t?t.sourceId:"",c.allDay,Boolean(c.duration),n);return d.recurringDef={typeId:c.typeId,typeData:c.typeData,duration:c.duration},{def:d,instance:null}}var u=ln(s,l,n,i);if(u){d=on(s,o,t?t.sourceId:"",u.allDay,u.hasEnd,n);var p=_e(d.defId,u.range,u.forcedStartTzo,u.forcedEndTzo);return{def:d,instance:p}}return null}function rn(e,t,n){return void 0===n&&(n=sn(t)),Nt(e,n)}function sn(e){return r(r(r({},Zt),nn),e.pluginHooks.eventRefiners)}function on(e,t,n,i,a,s){for(var o={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:N(),sourceId:n,allDay:i,hasEnd:a,interactive:e.interactive,ui:Qt(e,s),extendedProps:r(r({},e.extendedProps||{}),t)},l=0,c=s.pluginHooks.eventDefMemberAdders;l<c.length;l++){var d=c[l];r(o,d(e))}return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function ln(e,t,n,i){var a,r,s=e.allDay,o=null,l=!1,c=null,d=null!=e.start?e.start:e.date;if(a=n.dateEnv.createMarkerMeta(d),a)o=a.marker;else if(!i)return null;return null!=e.end&&(r=n.dateEnv.createMarkerMeta(e.end)),null==s&&(s=null!=t?t:(!a||a.isTimeUnspecified)&&(!r||r.isTimeUnspecified)),s&&o&&(o=ue(o)),r&&(c=r.marker,s&&(c=ue(c)),o&&c<=o&&(c=null)),c?l=!0:i||(l=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,s?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:s,hasEnd:l,range:{start:o,end:c},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:r?r.forcedTzo:null}}function cn(e,t){var n=null;return e&&(n=e.defaultAllDay),null==n&&(n=t.options.defaultAllDay),n}function dn(e){var t=Math.floor(ae(e.start,e.end))||1,n=ue(e.start),i=te(n,t);return{start:n,end:i}}function un(e,t){void 0===t&&(t=Ve(0));var n=null,i=null;if(e.end){i=ue(e.end);var a=e.end.valueOf()-i.valueOf();a&&a>=Qe(t)&&(i=te(i,1))}return e.start&&(n=ue(e.start),i&&i<=n&&(i=te(n,1))),{start:n,end:i}}function pn(e,t,n,i){return"year"===i?Ve(n.diffWholeYears(e,t),"year"):"month"===i?Ve(n.diffWholeMonths(e,t),"month"):le(e,t)}function hn(e,t){var n=null,i=null;return e.start&&(n=t.createMarker(e.start)),e.end&&(i=t.createMarker(e.end)),n||i?n&&i&&i<n?null:{start:n,end:i}:null}function fn(e,t){var n,i,a=[],r=t.start;for(e.sort(vn),n=0;n<e.length;n+=1)i=e[n],i.start>r&&a.push({start:r,end:i.start}),i.end>r&&(r=i.end);return r<t.end&&a.push({start:r,end:t.end}),a}function vn(e,t){return e.start.valueOf()-t.start.valueOf()}function mn(e,t){var n=e.start,i=e.end,a=null;return null!==t.start&&(n=null===n?t.start:new Date(Math.max(n.valueOf(),t.start.valueOf()))),null!=t.end&&(i=null===i?t.end:new Date(Math.min(i.valueOf(),t.end.valueOf()))),(null===n||null===i||n<i)&&(a={start:n,end:i}),a}function gn(e,t){return(null===e.start?null:e.start.valueOf())===(null===t.start?null:t.start.valueOf())&&(null===e.end?null:e.end.valueOf())===(null===t.end?null:t.end.valueOf())}function yn(e,t){return(null===e.end||null===t.start||e.end>t.start)&&(null===e.start||null===t.end||e.start<t.end)}function bn(e,t){return(null===e.start||null!==t.start&&t.start>=e.start)&&(null===e.end||null!==t.end&&t.end<=e.end)}function wn(e,t){return(null===e.start||t>=e.start)&&(null===e.end||t<e.end)}function Cn(e,t){return null!=t.start&&e<t.start?t.start:null!=t.end&&e>=t.end?new Date(t.end.valueOf()-1):e}function Sn(e,t,n,i){var a={},r={},s={},o=[],l=[],c=xn(e.defs,t);for(var d in e.defs){var u=e.defs[d],p=c[u.defId];"inverse-background"===p.display&&(u.groupId?(a[u.groupId]=[],s[u.groupId]||(s[u.groupId]=u)):r[d]=[])}for(var h in e.instances){var f=e.instances[h],v=(u=e.defs[f.defId],p=c[u.defId],f.range),m=!u.allDay&&i?un(v,i):v,g=mn(m,n);g&&("inverse-background"===p.display?u.groupId?a[u.groupId].push(g):r[f.defId].push(g):"none"!==p.display&&("background"===p.display?o:l).push({def:u,ui:p,instance:f,range:g,isStart:m.start&&m.start.valueOf()===g.start.valueOf(),isEnd:m.end&&m.end.valueOf()===g.end.valueOf()}))}for(var y in a)for(var b=a[y],w=fn(b,n),C=0,S=w;C<S.length;C++){var k=S[C];u=s[y],p=c[u.defId];o.push({def:u,ui:p,instance:null,range:k,isStart:!1,isEnd:!1})}for(var d in r){b=r[d],w=fn(b,n);for(var _=0,T=w;_<T.length;_++){k=T[_];o.push({def:e.defs[d],ui:c[d],instance:null,range:k,isStart:!1,isEnd:!1})}}return{bg:o,fg:l}}function kn(e){return"background"===e.ui.display||"inverse-background"===e.ui.display}function _n(e,t){e.fcSeg=t}function Tn(e){return e.fcSeg||e.parentNode.fcSeg||null}function xn(e,t){return Ee(e,(function(e){return Dn(e,t)}))}function Dn(e,t){var n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),Xt(n)}function En(e,t){var n=e.map(On);return n.sort((function(e,n){return W(e,n,t)})),n.map((function(e){return e._seg}))}function On(e){var t=e.eventRange,n=t.def,i=t.instance?t.instance.range:t.range,a=i.start?i.start.valueOf():0,s=i.end?i.end.valueOf():0;return r(r(r({},n.extendedProps),n),{id:n.publicId,start:a,end:s,duration:s-a,allDay:Number(n.allDay),_seg:e})}function In(e,t){for(var n=t.pluginHooks,i=n.isDraggableTransformers,a=e.eventRange,r=a.def,s=a.ui,o=s.startEditable,l=0,c=i;l<c.length;l++){var d=c[l];o=d(o,r,s,t)}return o}function Mn(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function Ln(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function Rn(e,t,n,i,a,r,s){var o=n.dateEnv,l=n.options,c=l.displayEventTime,d=l.displayEventEnd,u=e.eventRange.def,p=e.eventRange.instance;null==c&&(c=!1!==i),null==d&&(d=!1!==a);var h=p.range.start,f=p.range.end,v=r||e.start||e.eventRange.range.start,m=s||e.end||e.eventRange.range.end,g=ue(h).valueOf()===ue(v).valueOf(),y=ue(ne(f,-1)).valueOf()===ue(ne(m,-1)).valueOf();return c&&!u.allDay&&(g||y)?(v=g?h:v,m=y?f:m,d&&u.hasEnd?o.formatRange(v,m,t,{forcedStartTzo:r?null:p.forcedStartTzo,forcedEndTzo:s?null:p.forcedEndTzo}):o.format(v,t,{forcedTzo:r?null:p.forcedStartTzo})):""}function An(e,t,n){var i=e.eventRange.range;return{isPast:i.end<(n||t.start),isFuture:i.start>=(n||t.end),isToday:t&&wn(t,i.start)}}function jn(e){var t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function Pn(e){return e.instance?e.instance.instanceId:e.def.defId+":"+e.range.start.toISOString()}function Nn(e,t){var n=e.eventRange,i=n.def,a=n.instance,r=i.url;if(r)return{href:r};var s=t.emitter,o=t.options,l=o.eventInteractive;return null==l&&(l=i.interactive,null==l&&(l=Boolean(s.hasHandlers("eventClick")))),l?j((function(e){s.trigger("eventClick",{el:e.target,event:new ci(t,i,a),jsEvent:e,view:t.viewApi})})):{}}var Bn={start:Bt,end:Bt,allDay:Boolean};function Hn(e,t,n){var i=Fn(e,t),a=i.range;if(!a.start)return null;if(!a.end){if(null==n)return null;a.end=t.add(a.start,n)}return i}function Fn(e,t){var n=Nt(e,Bn),i=n.refined,a=n.extra,s=i.start?t.createMarkerMeta(i.start):null,o=i.end?t.createMarkerMeta(i.end):null,l=i.allDay;return null==l&&(l=s&&s.isTimeUnspecified&&(!o||o.isTimeUnspecified)),r({range:{start:s?s.marker:null,end:o?o.marker:null},allDay:l},a)}function Vn(e,t){return gn(e.range,t.range)&&e.allDay===t.allDay&&Un(e,t)}function Un(e,t){for(var n in t)if("range"!==n&&"allDay"!==n&&e[n]!==t[n])return!1;for(var n in e)if(!(n in t))return!1;return!0}function zn(e,t){return r(r({},Wn(e.range,t,e.allDay)),{allDay:e.allDay})}function Yn(e,t,n){return r(r({},Wn(e,t,n)),{timeZone:t.timeZone})}function Wn(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}function Gn(e,t,n){var i=rn({editable:!1},n),a=on(i.refined,i.extra,"",e.allDay,!0,n);return{def:a,ui:Dn(a,t),instance:_e(a.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}function qn(e,t,n){n.emitter.trigger("select",r(r({},Zn(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function $n(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}function Zn(e,t){for(var n={},i=0,a=t.pluginHooks.dateSpanTransforms;i<a.length;i++){var s=a[i];r(n,s(e,t))}return r(n,zn(e,t.dateEnv)),n}function Kn(e,t,n){var i=n.dateEnv,a=n.options,r=t;return e?(r=ue(r),r=i.add(r,a.defaultAllDayEventDuration)):r=i.add(r,a.defaultTimedEventDuration),r}function Qn(e,t,n,i){var a=xn(e.defs,t),r=zt();for(var s in e.defs){var o=e.defs[s];r.defs[s]=Xn(o,a[s],n,i)}for(var l in e.instances){var c=e.instances[l];o=r.defs[c.defId];r.instances[l]=Jn(c,o,a[c.defId],n,i)}return r}function Xn(e,t,n,i){var a=n.standardProps||{};null==a.hasEnd&&t.durationEditable&&(n.startDelta||n.endDelta)&&(a.hasEnd=!0);var s=r(r(r({},e),a),{ui:r(r({},e.ui),a.ui)});n.extendedProps&&(s.extendedProps=r(r({},s.extendedProps),n.extendedProps));for(var o=0,l=i.pluginHooks.eventDefMutationAppliers;o<l.length;o++){var c=l[o];c(s,n,i)}return!s.hasEnd&&i.options.forceEventDuration&&(s.hasEnd=!0),s}function Jn(e,t,n,i,a){var s=a.dateEnv,o=i.standardProps&&!0===i.standardProps.allDay,l=i.standardProps&&!1===i.standardProps.hasEnd,c=r({},e);return o&&(c.range=dn(c.range)),i.datesDelta&&n.startEditable&&(c.range={start:s.add(c.range.start,i.datesDelta),end:s.add(c.range.end,i.datesDelta)}),i.startDelta&&n.durationEditable&&(c.range={start:s.add(c.range.start,i.startDelta),end:c.range.end}),i.endDelta&&n.durationEditable&&(c.range={start:c.range.start,end:s.add(c.range.end,i.endDelta)}),l&&(c.range={start:c.range.start,end:Kn(t.allDay,c.range.start,a)}),t.allDay&&(c.range={start:ue(c.range.start),end:ue(c.range.end)}),c.range.end<c.range.start&&(c.range.end=Kn(t.allDay,c.range.start,a)),c}var ei=function(){function e(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}return Object.defineProperty(e.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),e.prototype.getOption=function(e){return this.getCurrentData().options[e]},e}(),ti={id:String,defaultAllDay:Boolean,url:String,format:String,events:Bt,eventDataTransform:Bt,success:Bt,failure:Bt};function ni(e,t,n){var i;if(void 0===n&&(n=ii(t)),"string"===typeof e?i={url:e}:"function"===typeof e||Array.isArray(e)?i={events:e}:"object"===typeof e&&e&&(i=e),i){var a=Nt(i,n),r=a.refined,s=a.extra,o=ai(r,t);if(o)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:r.defaultAllDay,eventDataTransform:r.eventDataTransform,success:r.success,failure:r.failure,publicId:r.id||"",sourceId:N(),sourceDefId:o.sourceDefId,meta:o.meta,ui:Qt(r,t),extendedProps:s}}return null}function ii(e){return r(r(r({},Zt),ti),e.pluginHooks.eventSourceRefiners)}function ai(e,t){for(var n=t.pluginHooks.eventSourceDefs,i=n.length-1;i>=0;i-=1){var a=n[i],r=a.parseMeta(e);if(r)return{sourceDefId:i,meta:r}}return null}function ri(e,t){switch(t.type){case"CHANGE_DATE":return t.dateMarker;default:return e}}function si(e,t){var n=e.initialDate;return null!=n?t.createMarker(n):oi(e.now,t)}function oi(e,t){return"function"===typeof e&&(e=e()),null==e?t.createNowMarker():t.createMarker(e)}var li=function(){function e(){}return e.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},e.prototype.dispatch=function(e){return this.currentDataManager.dispatch(e)},Object.defineProperty(e.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),e.prototype.batchRendering=function(e){e()},e.prototype.updateSize=function(){this.trigger("_resize",!0)},e.prototype.setOption=function(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})},e.prototype.getOption=function(e){return this.currentDataManager.currentCalendarOptionsInput[e]},e.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},e.prototype.on=function(e,t){var n=this.currentDataManager;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn("Unknown listener name '"+e+"'")},e.prototype.off=function(e,t){this.currentDataManager.emitter.off(e,t)},e.prototype.trigger=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];(t=this.currentDataManager.emitter).trigger.apply(t,s([e],n))},e.prototype.changeView=function(e,t){var n=this;this.batchRendering((function(){if(n.unselect(),t)if(t.start&&t.end)n.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),n.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{var i=n.getCurrentData().dateEnv;n.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(t)})}else n.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})}))},e.prototype.zoomTo=function(e,t){var n,i=this.getCurrentData();t=t||"day",n=i.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),n?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:n.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})},e.prototype.getUnitViewSpec=function(e){var t,n,i=this.getCurrentData(),a=i.viewSpecs,r=i.toolbarConfig,s=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]);for(var o in a)s.push(o);for(t=0;t<s.length;t+=1)if(n=a[s[t]],n&&n.singleUnit===e)return n;return null},e.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},e.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},e.prototype.prevYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})},e.prototype.nextYear=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})},e.prototype.today=function(){var e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:oi(e.calendarOptions.now,e.dateEnv)})},e.prototype.gotoDate=function(e){var t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})},e.prototype.incrementDate=function(e){var t=this.getCurrentData(),n=Ve(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))},e.prototype.getDate=function(){var e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)},e.prototype.formatDate=function(e,t){var n=this.getCurrentData().dateEnv;return n.format(n.createMarker(e),Et(t))},e.prototype.formatRange=function(e,t,n){var i=this.getCurrentData().dateEnv;return i.formatRange(i.createMarker(e),i.createMarker(t),Et(n),n)},e.prototype.formatIso=function(e,t){var n=this.getCurrentData().dateEnv;return n.formatIso(n.createMarker(e),{omitTime:t})},e.prototype.select=function(e,t){var n;n=null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t};var i=this.getCurrentData(),a=Hn(n,i.dateEnv,Ve({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),qn(a,null,i))},e.prototype.unselect=function(e){var t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),$n(e,t))},e.prototype.addEvent=function(e,t){if(e instanceof ci){var n=e._def,i=e._instance,a=this.getCurrentData();return a.eventStore.defs[n.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Ft({def:n,instance:i})}),this.triggerEventAdd(e)),e}var r,s=this.getCurrentData();if(t instanceof m)r=t.internalEventSource;else if("boolean"===typeof t)t&&(r=Ie(s.eventSources)[0]);else if(null!=t){var o=this.getEventSourceById(t);if(!o)return console.warn('Could not find an event source with ID "'+t+'"'),null;r=o.internalEventSource}var l=an(e,r,s,!1);if(l){var c=new ci(s,l.def,l.def.recurringDef?null:l.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Ft(l)}),this.triggerEventAdd(c),c}return null},e.prototype.triggerEventAdd=function(e){var t=this,n=this.getCurrentData().emitter;n.trigger("eventAdd",{event:e,relatedEvents:[],revert:function(){t.dispatch({type:"REMOVE_EVENTS",eventStore:di(e)})}})},e.prototype.getEventById=function(e){var t=this.getCurrentData(),n=t.eventStore,i=n.defs,a=n.instances;for(var r in e=String(e),i){var s=i[r];if(s.publicId===e){if(s.recurringDef)return new ci(t,s,null);for(var o in a){var l=a[o];if(l.defId===s.defId)return new ci(t,s,l)}}}return null},e.prototype.getEvents=function(){var e=this.getCurrentData();return ui(e.eventStore,e)},e.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},e.prototype.getEventSources=function(){var e=this.getCurrentData(),t=e.eventSources,n=[];for(var i in t)n.push(new m(e,t[i]));return n},e.prototype.getEventSourceById=function(e){var t=this.getCurrentData(),n=t.eventSources;for(var i in e=String(e),n)if(n[i].publicId===e)return new m(t,n[i]);return null},e.prototype.addEventSource=function(e){var t=this.getCurrentData();if(e instanceof m)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;var n=ni(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new m(t,n)):null},e.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},e.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},e.prototype.scrollToTime=function(e){var t=Ve(e);t&&this.trigger("_scrollRequest",{time:t})},e}(),ci=function(){function e(e,t,n){this._context=e,this._def=t,this._instance=n||null}return e.prototype.setProp=function(e,t){var n,i;if(e in tn)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===e)t=en[e](t),this.mutate({standardProps:{publicId:t}});else if(e in en)t=en[e](t),this.mutate({standardProps:(n={},n[e]=t,n)});else if(e in Zt){var a=Zt[e](t);"color"===e?a={backgroundColor:t,borderColor:t}:"editable"===e?a={startEditable:t,durationEditable:t}:(i={},i[e]=t,a=i),this.mutate({standardProps:{ui:a}})}else console.warn("Could not set prop '"+e+"'. Use setExtendedProp instead.")},e.prototype.setExtendedProp=function(e,t){var n;this.mutate({extendedProps:(n={},n[e]=t,n)})},e.prototype.setStart=function(e,t){void 0===t&&(t={});var n=this._context.dateEnv,i=n.createMarker(e);if(i&&this._instance){var a=this._instance.range,r=pn(a.start,i,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:r}):this.mutate({startDelta:r})}},e.prototype.setEnd=function(e,t){void 0===t&&(t={});var n,i=this._context.dateEnv;if((null==e||(n=i.createMarker(e),n))&&this._instance)if(n){var a=pn(this._instance.range.end,n,i,t.granularity);this.mutate({endDelta:a})}else this.mutate({standardProps:{hasEnd:!1}})},e.prototype.setDates=function(e,t,n){void 0===n&&(n={});var i,a=this._context.dateEnv,r={allDay:n.allDay},s=a.createMarker(e);if(s&&(null==t||(i=a.createMarker(t),i))&&this._instance){var o=this._instance.range;!0===n.allDay&&(o=dn(o));var l=pn(o.start,s,a,n.granularity);if(i){var c=pn(o.end,i,a,n.granularity);Ye(l,c)?this.mutate({datesDelta:l,standardProps:r}):this.mutate({startDelta:l,endDelta:c,standardProps:r})}else r.hasEnd=!1,this.mutate({datesDelta:l,standardProps:r})}},e.prototype.moveStart=function(e){var t=Ve(e);t&&this.mutate({startDelta:t})},e.prototype.moveEnd=function(e){var t=Ve(e);t&&this.mutate({endDelta:t})},e.prototype.moveDates=function(e){var t=Ve(e);t&&this.mutate({datesDelta:t})},e.prototype.setAllDay=function(e,t){void 0===t&&(t={});var n={allDay:e},i=t.maintainDuration;null==i&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=i),this.mutate({standardProps:n})},e.prototype.formatRange=function(e){var t=this._context.dateEnv,n=this._instance,i=Et(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,i,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,i,{forcedTzo:n.forcedStartTzo})},e.prototype.mutate=function(t){var n=this._instance;if(n){var i=this._def,a=this._context,r=a.getCurrentData().eventStore,s=Vt(r,n.instanceId),o={"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}};s=Qn(s,o,t,a);var l=new e(a,i,n);this._def=s.defs[i.defId],this._instance=s.instances[n.instanceId],a.dispatch({type:"MERGE_EVENTS",eventStore:s}),a.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:ui(s,a,n),revert:function(){a.dispatch({type:"RESET_EVENTS",eventStore:r})}})}},e.prototype.remove=function(){var e=this._context,t=di(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})},Object.defineProperty(e.prototype,"source",{get:function(){var e=this._def.sourceId;return e?new m(this._context,this._context.getCurrentData().eventSources[e]):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startStr",{get:function(){var e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endStr",{get:function(){var e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),e.prototype.toPlainObject=function(e){void 0===e&&(e={});var t=this._def,n=t.ui,i=this,a=i.startStr,s=i.endStr,o={};return t.title&&(o.title=t.title),a&&(o.start=a),s&&(o.end=s),t.publicId&&(o.id=t.publicId),t.groupId&&(o.groupId=t.groupId),t.url&&(o.url=t.url),n.display&&"auto"!==n.display&&(o.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?o.color=n.backgroundColor:(n.backgroundColor&&(o.backgroundColor=n.backgroundColor),n.borderColor&&(o.borderColor=n.borderColor)),n.textColor&&(o.textColor=n.textColor),n.classNames.length&&(o.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?r(o,t.extendedProps):o.extendedProps=t.extendedProps),o},e.prototype.toJSON=function(){return this.toPlainObject()},e}();function di(e){var t,n,i=e._def,a=e._instance;return{defs:(t={},t[i.defId]=i,t),instances:a?(n={},n[a.instanceId]=a,n):{}}}function ui(e,t,n){var i=e.defs,a=e.instances,r=[],s=n?n.instanceId:"";for(var o in a){var l=a[o],c=i[l.defId];l.instanceId!==s&&r.push(new ci(t,c,l))}return r}var pi={};function hi(e,t){pi[e]=t}function fi(e){return new pi[e]}var vi=function(){function e(){}return e.prototype.getMarkerYear=function(e){return e.getUTCFullYear()},e.prototype.getMarkerMonth=function(e){return e.getUTCMonth()},e.prototype.getMarkerDay=function(e){return e.getUTCDate()},e.prototype.arrayToMarker=function(e){return Ce(e)},e.prototype.markerToArray=function(e){return we(e)},e}();hi("gregory",vi);var mi=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function gi(e){var t=mi.exec(e);if(t){var n=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number("0."+t[12]):0));if(Se(n)){var i=null;return t[13]&&(i=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:n,isTimeUnspecified:!t[6],timeZoneOffset:i}}}return null}var yi=function(){function e(e){var t=this.timeZone=e.timeZone,n="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!n||this.namedTimeZoneImpl),this.calendarSystem=fi(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"===typeof e.firstDay&&(this.weekDow=e.firstDay),"function"===typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=null!=e.weekText?e.weekText:e.locale.options.weekText,this.weekTextLong=(null!=e.weekTextLong?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}return e.prototype.createMarker=function(e){var t=this.createMarkerMeta(e);return null===t?null:t.marker},e.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):Ce(ye(new Date))},e.prototype.createMarkerMeta=function(e){if("string"===typeof e)return this.parse(e);var t=null;return"number"===typeof e?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Ce(e)),null!==t&&Se(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null},e.prototype.parse=function(e){var t=gi(e);if(null===t)return null;var n=t.marker,i=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-60*t.timeZoneOffset*1e3):i=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:i}},e.prototype.getYear=function(e){return this.calendarSystem.getMarkerYear(e)},e.prototype.getMonth=function(e){return this.calendarSystem.getMarkerMonth(e)},e.prototype.add=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)},e.prototype.subtract=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)},e.prototype.addYears=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)},e.prototype.addMonths=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)},e.prototype.diffWholeYears=function(e,t){var n=this.calendarSystem;return ke(e)===ke(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null},e.prototype.diffWholeMonths=function(e,t){var n=this.calendarSystem;return ke(e)===ke(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+12*(n.getMarkerYear(t)-n.getMarkerYear(e)):null},e.prototype.greatestWholeUnit=function(e,t){var n=this.diffWholeYears(e,t);return null!==n?{unit:"year",value:n}:(n=this.diffWholeMonths(e,t),null!==n?{unit:"month",value:n}:(n=ce(e,t),null!==n?{unit:"week",value:n}:(n=de(e,t),null!==n?{unit:"day",value:n}:(n=re(e,t),Q(n)?{unit:"hour",value:n}:(n=se(e,t),Q(n)?{unit:"minute",value:n}:(n=oe(e,t),Q(n)?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))},e.prototype.countDurationsBetween=function(e,t,n){var i;return n.years&&(i=this.diffWholeYears(e,t),null!==i)?i/$e(n):n.months&&(i=this.diffWholeMonths(e,t),null!==i)?i/Ze(n):n.days&&(i=de(e,t),null!==i)?i/Ke(n):(t.valueOf()-e.valueOf())/Qe(n)},e.prototype.startOf=function(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?ue(e):"hour"===t?pe(e):"minute"===t?he(e):"second"===t?fe(e):null},e.prototype.startOfYear=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])},e.prototype.startOfMonth=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])},e.prototype.startOfWeek=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])},e.prototype.computeWeekNumber=function(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):ve(e,this.weekDow,this.weekDoy)},e.prototype.format=function(e,t,n){return void 0===n&&(n={}),t.format({marker:e,timeZoneOffset:null!=n.forcedTzo?n.forcedTzo:this.offsetForMarker(e)},this)},e.prototype.formatRange=function(e,t,n,i){return void 0===i&&(i={}),i.isEndExclusive&&(t=ne(t,-1)),n.formatRange({marker:e,timeZoneOffset:null!=i.forcedStartTzo?i.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=i.forcedEndTzo?i.forcedEndTzo:this.offsetForMarker(t)},this,i.defaultSeparator)},e.prototype.formatIso=function(e,t){void 0===t&&(t={});var n=null;return t.omitTimeZoneOffset||(n=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(e)),et(e,n,t.omitTime)},e.prototype.timestampToMarker=function(e){return"local"===this.timeZone?Ce(ye(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?Ce(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)},e.prototype.offsetForMarker=function(e){return"local"===this.timeZone?-be(we(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(we(e)):null},e.prototype.toDate=function(e,t){return"local"===this.timeZone?be(we(e)):"UTC"===this.timeZone?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(we(e))*60):new Date(e.valueOf()-(t||0))},e}(),bi=[],wi={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Ci=r(r({},wi),{buttonHints:{prev:"Previous $0",next:"Next $0",today:function(e,t){return"day"===t?"Today":"This "+e}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:function(e){return"Show "+e+" more event"+(1===e?"":"s")}});function Si(e){for(var t=e.length>0?e[0].code:"en",n=bi.concat(e),i={en:Ci},a=0,r=n;a<r.length;a++){var s=r[a];i[s.code]=s}return{map:i,defaultCode:t}}function ki(e,t){return"object"!==typeof e||Array.isArray(e)?_i(e,t):xi(e.code,[e.code],e)}function _i(e,t){var n=[].concat(e||[]),i=Ti(n,t)||Ci;return xi(e,n,i)}function Ti(e,t){for(var n=0;n<e.length;n+=1)for(var i=e[n].toLocaleLowerCase().split("-"),a=i.length;a>0;a-=1){var r=i.slice(0,a).join("-");if(t[r])return t[r]}return null}function xi(e,t,n){var i=xe([wi,n],["buttonText"]);delete i.code;var a=i.week;return delete i.week,{codeArg:e,codes:t,week:a,simpleNumberFormat:new Intl.NumberFormat(e),options:i}}var Di,Ei={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Oi(e,t){return Ht(Ii(e),null,t)}function Ii(e){var t;return t=!0===e?[{}]:Array.isArray(e)?e.filter((function(e){return e.daysOfWeek})):"object"===typeof e&&e?[e]:[],t=t.map((function(e){return r(r({},Ei),e)})),t}function Mi(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function Li(e,t){var n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function Ri(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function Ai(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function ji(e,t){return{left:e.left-t.left,top:e.top-t.top}}function Pi(){return null==Di&&(Di=Ni()),Di}function Ni(){if("undefined"===typeof document)return!0;var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);var t=e.querySelector("div"),n=t.offsetHeight>0;return document.body.removeChild(e),n}var Bi=zt(),Hi=function(){function e(){this.getKeysForEventDefs=rt(this._getKeysForEventDefs),this.splitDateSelection=rt(this._splitDateSpan),this.splitEventStore=rt(this._splitEventStore),this.splitIndividualUi=rt(this._splitIndividualUi),this.splitEventDrag=rt(this._splitInteraction),this.splitEventResize=rt(this._splitInteraction),this.eventUiBuilders={}}return e.prototype.splitProps=function(e){var t=this,n=this.getKeyInfo(e),i=this.getKeysForEventDefs(e.eventStore),a=this.splitDateSelection(e.dateSelection),r=this.splitIndividualUi(e.eventUiBases,i),s=this.splitEventStore(e.eventStore,i),o=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),c={};for(var d in this.eventUiBuilders=Ee(n,(function(e,n){return t.eventUiBuilders[n]||rt(Fi)})),n){var u=n[d],p=s[d]||Bi,h=this.eventUiBuilders[d];c[d]={businessHours:u.businessHours||e.businessHours,dateSelection:a[d]||null,eventStore:p,eventUiBases:h(e.eventUiBases[""],u.ui,r[d]),eventSelection:p.instances[e.eventSelection]?e.eventSelection:"",eventDrag:o[d]||null,eventResize:l[d]||null}}return c},e.prototype._splitDateSpan=function(e){var t={};if(e)for(var n=this.getKeysForDateSpan(e),i=0,a=n;i<a.length;i++){var r=a[i];t[r]=e}return t},e.prototype._getKeysForEventDefs=function(e){var t=this;return Ee(e.defs,(function(e){return t.getKeysForEventDef(e)}))},e.prototype._splitEventStore=function(e,t){var n=e.defs,i=e.instances,a={};for(var r in n)for(var s=0,o=t[r];s<o.length;s++){var l=o[s];a[l]||(a[l]=zt()),a[l].defs[r]=n[r]}for(var c in i)for(var d=i[c],u=0,p=t[d.defId];u<p.length;u++){l=p[u];a[l]&&(a[l].instances[c]=d)}return a},e.prototype._splitIndividualUi=function(e,t){var n={};for(var i in e)if(i)for(var a=0,r=t[i];a<r.length;a++){var s=r[a];n[s]||(n[s]={}),n[s][i]=e[i]}return n},e.prototype._splitInteraction=function(e){var t={};if(e){var n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),a=this._splitEventStore(e.mutatedEvents,i),r=function(i){t[i]||(t[i]={affectedEvents:n[i]||Bi,mutatedEvents:a[i]||Bi,isEvent:e.isEvent})};for(var s in n)r(s);for(var s in a)r(s)}return t},e}();function Fi(e,t,n){var i=[];e&&i.push(e),t&&i.push(t);var a={"":Xt(i)};return n&&r(a,n),a}function Vi(e,t,n,i){return{dow:e.getUTCDay(),isDisabled:Boolean(i&&!wn(i.activeRange,e)),isOther:Boolean(i&&!wn(i.currentRange,e)),isToday:Boolean(t&&wn(t,e)),isPast:Boolean(n?e<n:!!t&&e<t.start),isFuture:Boolean(n?e>n:!!t&&e>=t.end)}}function Ui(e,t){var n=["fc-day","fc-day-"+J[e.dow]];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}var zi=Et({year:"numeric",month:"long",day:"numeric"}),Yi=Et({week:"long"});function Wi(e,t,n,i){void 0===n&&(n="day"),void 0===i&&(i=!0);var a=e.dateEnv,s=e.options,o=e.calendarApi,l=a.format(t,"week"===n?Yi:zi);if(s.navLinks){var c=a.toDate(t),d=function(e){var i="day"===n?s.navLinkDayClick:"week"===n?s.navLinkWeekClick:null;"function"===typeof i?i.call(o,a.toDate(t),e):("string"===typeof i&&(n=i),o.zoomTo(t,n))};return r({title:Z(s.navLinkHint,[l,c],l),"data-navlink":""},i?A(d):{onClick:d})}return{"aria-label":l}}var Gi,qi=null;function $i(){return null===qi&&(qi=Zi()),qi}function Zi(){var e=document.createElement("div");S(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);var t=e.firstChild,n=t.getBoundingClientRect().left>e.getBoundingClientRect().left;return g(e),n}function Ki(){return Gi||(Gi=Qi()),Gi}function Qi(){var e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);var t=Xi(e);return document.body.removeChild(e),t}function Xi(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function Ji(e,t){void 0===t&&(t=!1);var n=window.getComputedStyle(e),i=parseInt(n.borderLeftWidth,10)||0,a=parseInt(n.borderRightWidth,10)||0,r=parseInt(n.borderTopWidth,10)||0,s=parseInt(n.borderBottomWidth,10)||0,o=Xi(e),l=o.y-i-a,c=o.x-r-s,d={borderLeft:i,borderRight:a,borderTop:r,borderBottom:s,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return $i()&&"rtl"===n.direction?d.scrollbarLeft=l:d.scrollbarRight=l,t&&(d.paddingLeft=parseInt(n.paddingLeft,10)||0,d.paddingRight=parseInt(n.paddingRight,10)||0,d.paddingTop=parseInt(n.paddingTop,10)||0,d.paddingBottom=parseInt(n.paddingBottom,10)||0),d}function ea(e,t,n){void 0===t&&(t=!1);var i=n?e.getBoundingClientRect():ta(e),a=Ji(e,t),r={left:i.left+a.borderLeft+a.scrollbarLeft,right:i.right-a.borderRight-a.scrollbarRight,top:i.top+a.borderTop,bottom:i.bottom-a.borderBottom-a.scrollbarBottom};return t&&(r.left+=a.paddingLeft,r.right-=a.paddingRight,r.top+=a.paddingTop,r.bottom-=a.paddingBottom),r}function ta(e){var t=e.getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,right:t.right+window.pageXOffset,bottom:t.bottom+window.pageYOffset}}function na(e){for(var t=ia(e),n=e.getBoundingClientRect(),i=0,a=t;i<a.length;i++){var r=a[i],s=Li(n,r.getBoundingClientRect());if(!s)return null;n=s}return n}function ia(e){var t=[];while(e instanceof HTMLElement){var n=window.getComputedStyle(e);if("fixed"===n.position)break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}function aa(e,t,n){var i=!1,a=function(){i||(i=!0,t.apply(this,arguments))},r=function(){i||(i=!0,n&&n.apply(this,arguments))},s=e(a,r);s&&"function"===typeof s.then&&s.then(a,r)}var ra=function(){function e(){this.handlers={},this.thisContext=null}return e.prototype.setThisContext=function(e){this.thisContext=e},e.prototype.setOptions=function(e){this.options=e},e.prototype.on=function(e,t){sa(this.handlers,e,t)},e.prototype.off=function(e,t){oa(this.handlers,e,t)},e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=this.handlers[e]||[],a=this.options&&this.options[e],r=[].concat(a||[],i),s=0,o=r;s<o.length;s++){var l=o[s];l.apply(this.thisContext,t)}},e.prototype.hasHandlers=function(e){return Boolean(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])},e}();function sa(e,t,n){(e[t]||(e[t]=[])).push(n)}function oa(e,t,n){n?e[t]&&(e[t]=e[t].filter((function(e){return e!==n}))):delete e[t]}var la=function(){function e(e,t,n,i){this.els=t;var a=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(a.left),i&&this.buildElVerticals(a.top)}return e.prototype.buildElHorizontals=function(e){for(var t=[],n=[],i=0,a=this.els;i<a.length;i++){var r=a[i],s=r.getBoundingClientRect();t.push(s.left-e),n.push(s.right-e)}this.lefts=t,this.rights=n},e.prototype.buildElVerticals=function(e){for(var t=[],n=[],i=0,a=this.els;i<a.length;i++){var r=a[i],s=r.getBoundingClientRect();t.push(s.top-e),n.push(s.bottom-e)}this.tops=t,this.bottoms=n},e.prototype.leftToIndex=function(e){var t,n=this,i=n.lefts,a=n.rights,r=i.length;for(t=0;t<r;t+=1)if(e>=i[t]&&e<a[t])return t},e.prototype.topToIndex=function(e){var t,n=this,i=n.tops,a=n.bottoms,r=i.length;for(t=0;t<r;t+=1)if(e>=i[t]&&e<a[t])return t},e.prototype.getWidth=function(e){return this.rights[e]-this.lefts[e]},e.prototype.getHeight=function(e){return this.bottoms[e]-this.tops[e]},e}(),ca=function(){function e(){}return e.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},e.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},e.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},e.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},e.prototype.canScrollUp=function(){return this.getScrollTop()>0},e.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},e.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},e.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},e}(),da=function(e){function t(t){var n=e.call(this)||this;return n.el=t,n}return a(t,e),t.prototype.getScrollTop=function(){return this.el.scrollTop},t.prototype.getScrollLeft=function(){return this.el.scrollLeft},t.prototype.setScrollTop=function(e){this.el.scrollTop=e},t.prototype.setScrollLeft=function(e){this.el.scrollLeft=e},t.prototype.getScrollWidth=function(){return this.el.scrollWidth},t.prototype.getScrollHeight=function(){return this.el.scrollHeight},t.prototype.getClientHeight=function(){return this.el.clientHeight},t.prototype.getClientWidth=function(){return this.el.clientWidth},t}(ca),ua=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getScrollTop=function(){return window.pageYOffset},t.prototype.getScrollLeft=function(){return window.pageXOffset},t.prototype.setScrollTop=function(e){window.scroll(window.pageXOffset,e)},t.prototype.setScrollLeft=function(e){window.scroll(e,window.pageYOffset)},t.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},t.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},t.prototype.getClientHeight=function(){return document.documentElement.clientHeight},t.prototype.getClientWidth=function(){return document.documentElement.clientWidth},t}(ca),pa=function(){function e(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}return e.prototype.setIconOverride=function(e){var t,n;if("object"===typeof e&&e){for(n in t=r({},this.iconClasses),e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else!1===e&&(this.iconClasses={})},e.prototype.applyIconOverridePrefix=function(e){var t=this.iconOverridePrefix;return t&&0!==e.indexOf(t)&&(e=t+e),e},e.prototype.getClass=function(e){return this.classes[e]||""},e.prototype.getIconClass=function(e,t){var n;return n=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e],n?this.baseIconClass+" "+n:""},e.prototype.getCustomButtonIconClass=function(e){var t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?this.baseIconClass+" "+this.applyIconOverridePrefix(t):""},e}();pa.prototype.classes={},pa.prototype.iconClasses={},pa.prototype.baseIconClass="",pa.prototype.iconOverridePrefix="";var ha=function(){function e(e,t,n,i){var a=this;this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=i,this.handleScrollRequest=function(e){a.queuedRequest=r({},a.queuedRequest||{},e),a.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return e.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},e.prototype.update=function(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},e.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},e.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},e}(),fa=p({});function va(e,t,n,i,a,r,s,o,l,c,d,u,p){return{dateEnv:a,options:n,pluginHooks:s,emitter:c,dispatch:o,getCurrentData:l,calendarApi:d,viewSpec:e,viewApi:t,dateProfileGenerator:i,theme:r,isRtl:"rtl"===n.direction,addResizeHandler:function(e){c.on("_resize",e)},removeResizeHandler:function(e){c.off("_resize",e)},createScrollResponder:function(e){return new ha(e,c,Ve(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:u,unregisterInteractiveComponent:p}}var ma=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.debug&&console.log(Le(e,this.props),Le(t,this.state)),!Re(this.props,e,this.propEquality)||!Re(this.state,t,this.stateEquality)},t.addPropsEquality=ya,t.addStateEquality=ba,t.contextType=fa,t}(o);ma.prototype.propEquality={},ma.prototype.stateEquality={};var ga=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.contextType=fa,t}(ma);function ya(e){var t=Object.create(this.prototype.propEquality);r(t,e),this.prototype.propEquality=t}function ba(e){var t=Object.create(this.prototype.stateEquality);r(t,e),this.prototype.stateEquality=t}function wa(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var Ca=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uid=N(),t}return a(t,e),t.prototype.prepareHits=function(){},t.prototype.queryHit=function(e,t,n,i){return null},t.prototype.isValidSegDownEl=function(e){return!this.props.eventDrag&&!this.props.eventResize&&!y(e,".fc-event-mirror")},t.prototype.isValidDateDownEl=function(e){return!y(e,".fc-event:not(.fc-bg-event)")&&!y(e,".fc-more-link")&&!y(e,"a[data-navlink]")&&!y(e,".fc-popover")},t}(ga);function Sa(e){return{id:N(),deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,contentTypeHandlers:e.contentTypeHandlers||{},listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function ka(e,t){var n={},i={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function a(e){for(var t=0,r=e;t<r.length;t++){var s=r[t];n[s.id]||(n[s.id]=!0,a(s.deps),i=Ta(i,s))}}return e&&a(e),a(t),i}function _a(){var e,t=[],n=[];return function(i,a){return e&&at(i,t)&&at(a,n)||(e=ka(i,a)),t=i,n=a,e}}function Ta(e,t){return{reducers:e.reducers.concat(t.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:e.contextInit.concat(t.contextInit),eventRefiners:r(r({},e.eventRefiners),t.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:r(r({},e.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:r(r({},e.views),t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:r(r({},e.themeClasses),t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||t.initialView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:r(r({},e.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||e.scrollGridImpl,contentTypeHandlers:r(r({},e.contentTypeHandlers),t.contentTypeHandlers),listenerRefiners:r(r({},e.listenerRefiners),t.listenerRefiners),optionRefiners:r(r({},e.optionRefiners),t.optionRefiners),propSetHandlers:r(r({},e.propSetHandlers),t.propSetHandlers)}}var xa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t}(pa);function Da(e,t){var n,i={};for(n in e)Ea(n,i,e,t);for(n in t)Ea(n,i,e,t);return i}function Ea(e,t,n,i){if(t[e])return t[e];var a=Oa(e,t,n,i);return a&&(t[e]=a),a}function Oa(e,t,n,i){var a=n[e],s=i[e],o=function(e){return a&&null!==a[e]?a[e]:s&&null!==s[e]?s[e]:null},l=o("component"),c=o("superType"),d=null;if(c){if(c===e)throw new Error("Can't have a custom view type that references itself");d=Ea(c,t,n,i)}return!l&&d&&(l=d.component),l?{type:e,component:l,defaults:r(r({},d?d.defaults:{}),a?a.rawOptions:{}),overrides:r(r({},d?d.overrides:{}),s?s.rawOptions:{})}:null}xa.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},xa.prototype.baseIconClass="fc-icon",xa.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},xa.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},xa.prototype.iconOverrideOption="buttonIcons",xa.prototype.iconOverrideCustomButtonOption="icon",xa.prototype.iconOverridePrefix="fc-icon-";var Ia=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=d(),t.handleRootEl=function(e){wa(t.rootElRef,e),t.props.elRef&&wa(t.props.elRef,e)},t}return a(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.hookProps;return l(Aa,{hookProps:n,didMount:t.didMount,willUnmount:t.willUnmount,elRef:this.handleRootEl},(function(i){return l(La,{hookProps:n,content:t.content,defaultContent:t.defaultContent,backupElRef:e.rootElRef},(function(e,a){return t.children(i,Pa(t.classNames,n),e,a)}))}))},t}(ga),Ma=p(0);function La(e){return l(Ma.Consumer,null,(function(t){return l(Ra,r({renderId:t},e))}))}var Ra=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.innerElRef=d(),t}return a(t,e),t.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},t.prototype.componentDidMount=function(){this.updateCustomContent()},t.prototype.componentDidUpdate=function(){this.updateCustomContent()},t.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},t.prototype.renderInnerContent=function(){var e=this.customContentInfo,t=this.getInnerContent(),n=this.getContentMeta(t);return e&&e.contentKey===n.contentKey?e&&(e.contentVal=t[n.contentKey]):(e&&(e.destroy&&e.destroy(),e=this.customContentInfo=null),n.contentKey&&(e=this.customContentInfo=r({contentKey:n.contentKey,contentVal:t[n.contentKey]},n.buildLifecycleFuncs()))),e?[]:t},t.prototype.getInnerContent=function(){var e=this.props,t=Na(e.content,e.hookProps);return void 0===t&&(t=Na(e.defaultContent,e.hookProps)),null==t?null:t},t.prototype.getContentMeta=function(e){var t=this.context.pluginHooks.contentTypeHandlers,n="",i=null;if(e)for(var a in t)if(void 0!==e[a]){n=a,i=t[a];break}return{contentKey:n,buildLifecycleFuncs:i}},t.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},t}(ga),Aa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRootEl=function(e){t.rootEl=e,t.props.elRef&&wa(t.props.elRef,e)},t}return a(t,e),t.prototype.render=function(){return this.props.children(this.handleRootEl)},t.prototype.componentDidMount=function(){var e=this.props.didMount;e&&e(r(r({},this.props.hookProps),{el:this.rootEl}))},t.prototype.componentWillUnmount=function(){var e=this.props.willUnmount;e&&e(r(r({},this.props.hookProps),{el:this.rootEl}))},t}(ga);function ja(){var e,t,n=[];return function(i,a){return t&&Me(t,a)&&i===e||(e=i,t=a,n=Pa(i,a)),n}}function Pa(e,t){return"function"===typeof e&&(e=e(t)),$t(e)}function Na(e,t){return"function"===typeof e?e(t,l):e}var Ba=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.normalizeClassNames=ja(),t}return a(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.context,i=n.options,a={view:n.viewApi},r=this.normalizeClassNames(i.viewClassNames,a);return l(Aa,{hookProps:a,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount,elRef:t.elRef},(function(e){return t.children(e,["fc-"+t.viewSpec.type+"-view","fc-view"].concat(r))}))},t}(ga);function Ha(e){return Ee(e,Fa)}function Fa(e){var t="function"===typeof e?{component:e}:e,n=t.component;return t.content&&(n=Va(t)),{superType:t.type,component:n,rawOptions:t}}function Va(e){return function(t){return l(fa.Consumer,null,(function(n){return l(Ba,{viewSpec:n.viewSpec},(function(i,a){var s=r(r({},t),{nextDayThreshold:n.options.nextDayThreshold});return l(Ia,{hookProps:s,classNames:e.classNames,content:e.content,didMount:e.didMount,willUnmount:e.willUnmount,elRef:i},(function(e,t,n,i){return l("div",{className:a.concat(t).join(" "),ref:e},i)}))}))}))}}function Ua(e,t,n,i){var a=Ha(e),r=Ha(t.views),s=Da(a,r);return Ee(s,(function(e){return za(e,r,t,n,i)}))}function za(e,t,n,i,a){var s=e.overrides.duration||e.defaults.duration||i.duration||n.duration,o=null,l="",c="",d={};if(s&&(o=Wa(s),o)){var u=Je(o);l=u.unit,1===u.value&&(c=l,d=t[l]?t[l].rawOptions:{})}var p=function(t){var n=t.buttonText||{},i=e.defaults.buttonTextKey;return null!=i&&null!=n[i]?n[i]:null!=n[e.type]?n[e.type]:null!=n[c]?n[c]:null},h=function(t){var n=t.buttonHints||{},i=e.defaults.buttonTextKey;return null!=i&&null!=n[i]?n[i]:null!=n[e.type]?n[e.type]:null!=n[c]?n[c]:null};return{type:e.type,component:e.component,duration:o,durationUnit:l,singleUnit:c,optionDefaults:e.defaults,optionOverrides:r(r({},d),e.overrides),buttonTextOverride:p(i)||p(n)||e.overrides.buttonText,buttonTextDefault:p(a)||e.defaults.buttonText||p(It)||e.type,buttonTitleOverride:h(i)||h(n)||e.overrides.buttonHint,buttonTitleDefault:h(a)||e.defaults.buttonHint||h(It)}}var Ya={};function Wa(e){var t=JSON.stringify(e),n=Ya[t];return void 0===n&&(n=Ve(e),Ya[t]=n),n}var Ga=function(){function e(e){this.props=e,this.nowDate=oi(e.nowInput,e.dateEnv),this.initHiddenDays()}return e.prototype.buildPrev=function(e,t,n){var i=this.props.dateEnv,a=i.subtract(i.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,n)},e.prototype.buildNext=function(e,t,n){var i=this.props.dateEnv,a=i.add(i.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,n)},e.prototype.build=function(e,t,n){void 0===n&&(n=!0);var i,a,r,s,o,l,c=this.props;return i=this.buildValidRange(),i=this.trimHiddenDays(i),n&&(e=Cn(e,i)),a=this.buildCurrentRangeInfo(e,t),r=/^(year|month|week|day)$/.test(a.unit),s=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,r),s=this.trimHiddenDays(s),o=s,c.showNonCurrentDates||(o=mn(o,a.range)),o=this.adjustActiveRange(o),o=mn(o,i),l=yn(a.range,i),{validRange:i,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:r,activeRange:o,renderRange:s,slotMinTime:c.slotMinTime,slotMaxTime:c.slotMaxTime,isValid:l,dateIncrement:this.buildDateIncrement(a.duration)}},e.prototype.buildValidRange=function(){var e=this.props.validRangeInput,t="function"===typeof e?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}},e.prototype.buildCurrentRangeInfo=function(e,t){var n,i=this.props,a=null,r=null,s=null;return i.duration?(a=i.duration,r=i.durationUnit,s=this.buildRangeFromDuration(e,t,a,r)):(n=this.props.dayCount)?(r="day",s=this.buildRangeFromDayCount(e,t,n)):(s=this.buildCustomVisibleRange(e))?r=i.dateEnv.greatestWholeUnit(s.start,s.end).unit:(a=this.getFallbackDuration(),r=Je(a).unit,s=this.buildRangeFromDuration(e,t,a,r)),{duration:a,unit:r,range:s}},e.prototype.getFallbackDuration=function(){return Ve({day:1})},e.prototype.adjustActiveRange=function(e){var t=this.props,n=t.dateEnv,i=t.usesMinMaxTime,a=t.slotMinTime,r=t.slotMaxTime,s=e.start,o=e.end;return i&&(Ke(a)<0&&(s=ue(s),s=n.add(s,a)),Ke(r)>1&&(o=ue(o),o=te(o,-1),o=n.add(o,r))),{start:s,end:o}},e.prototype.buildRangeFromDuration=function(e,t,n,i){var a,r,s,o=this.props,l=o.dateEnv,c=o.dateAlignment;if(!c){var d=this.props.dateIncrement;c=d&&Qe(d)<Qe(n)?Je(d).unit:i}function u(){a=l.startOf(e,c),r=l.add(a,n),s={start:a,end:r}}return Ke(n)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,t),a=ue(a)),u(),this.trimHiddenDays(s)||(e=this.skipHiddenDays(e,t),u()),s},e.prototype.buildRangeFromDayCount=function(e,t,n){var i,a=this.props,r=a.dateEnv,s=a.dateAlignment,o=0,l=e;s&&(l=r.startOf(l,s)),l=ue(l),l=this.skipHiddenDays(l,t),i=l;do{i=te(i,1),this.isHiddenDay(i)||(o+=1)}while(o<n);return{start:l,end:i}},e.prototype.buildCustomVisibleRange=function(e){var t=this.props,n=t.visibleRangeInput,i="function"===typeof n?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,a=this.refineRange(i);return!a||null!=a.start&&null!=a.end?a:null},e.prototype.buildRenderRange=function(e,t,n){return e},e.prototype.buildDateIncrement=function(e){var t,n=this.props.dateIncrement;return n||((t=this.props.dateAlignment)?Ve(1,t):e||Ve({days:1}))},e.prototype.refineRange=function(e){if(e){var t=hn(e,this.props.dateEnv);return t&&(t=un(t)),t}return null},e.prototype.initHiddenDays=function(){var e,t=this.props.hiddenDays||[],n=[],i=0;for(!1===this.props.weekends&&t.push(0,6),e=0;e<7;e+=1)(n[e]=-1!==t.indexOf(e))||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n},e.prototype.trimHiddenDays=function(e){var t=e.start,n=e.end;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),null==t||null==n||t<n?{start:t,end:n}:null},e.prototype.isHiddenDay=function(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]},e.prototype.skipHiddenDays=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);while(this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7])e=te(e,t);return e},e}();function qa(e,t){switch(t.type){case"CHANGE_VIEW_TYPE":e=t.viewType}return e}function $a(e,t){var n;switch(t.type){case"SET_OPTION":return r(r({},e),(n={},n[t.optionName]=t.rawOptionValue,n));default:return e}}function Za(e,t,n,i){var a;switch(t.type){case"CHANGE_VIEW_TYPE":return i.build(t.dateMarker||n);case"CHANGE_DATE":return i.build(t.dateMarker);case"PREV":if(a=i.buildPrev(e,n),a.isValid)return a;break;case"NEXT":if(a=i.buildNext(e,n),a.isValid)return a;break}return e}function Ka(e,t,n){var i=t?t.activeRange:null;return er({},lr(e,n),i,n)}function Qa(e,t,n,i){var a=n?n.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return er(e,t.sources,a,i);case"REMOVE_EVENT_SOURCE":return tr(e,t.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?nr(e,a,i):e;case"FETCH_EVENT_SOURCES":return ar(e,t.sourceIds?Oe(t.sourceIds):or(e,i),a,t.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return sr(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}function Xa(e,t,n){var i=t?t.activeRange:null;return ar(e,or(e,n),i,!0,n)}function Ja(e){for(var t in e)if(e[t].isFetching)return!0;return!1}function er(e,t,n,i){for(var a={},s=0,o=t;s<o.length;s++){var l=o[s];a[l.sourceId]=l}return n&&(a=nr(a,n,i)),r(r({},e),a)}function tr(e,t){return De(e,(function(e){return e.sourceId!==t}))}function nr(e,t,n){return ar(e,De(e,(function(e){return ir(e,t,n)})),t,!1,n)}function ir(e,t,n){return cr(e,n)?!n.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId}function ar(e,t,n,i,a){var r={};for(var s in e){var o=e[s];t[s]?r[s]=rr(o,n,i,a):r[s]=o}return r}function rr(e,t,n,i){var a=i.options,s=i.calendarApi,o=i.pluginHooks.eventSourceDefs[e.sourceDefId],l=N();return o.fetch({eventSource:e,range:t,isRefetch:n,context:i},(function(n){var r=n.rawEvents;a.eventSourceSuccess&&(r=a.eventSourceSuccess.call(s,r,n.xhr)||r),e.success&&(r=e.success.call(s,r,n.xhr)||r),i.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:l,fetchRange:t,rawEvents:r})}),(function(n){console.warn(n.message,n),a.eventSourceFailure&&a.eventSourceFailure.call(s,n),e.failure&&e.failure(n),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:l,fetchRange:t,error:n})})),r(r({},e),{isFetching:!0,latestFetchId:l})}function sr(e,t,n,i){var a,s=e[t];return s&&n===s.latestFetchId?r(r({},e),(a={},a[t]=r(r({},s),{isFetching:!1,fetchRange:i}),a)):e}function or(e,t){return De(e,(function(e){return cr(e,t)}))}function lr(e,t){var n=ii(t),i=[].concat(e.eventSources||[]),a=[];e.initialEvents&&i.unshift(e.initialEvents),e.events&&i.unshift(e.events);for(var r=0,s=i;r<s.length;r++){var o=s[r],l=ni(o,t,n);l&&a.push(l)}return a}function cr(e,t){var n=t.pluginHooks.eventSourceDefs;return!n[e.sourceDefId].ignoreRange}function dr(e,t,n,i,a){switch(t.type){case"RECEIVE_EVENTS":return ur(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,a);case"ADD_EVENTS":return fr(e,t.eventStore,i?i.activeRange:null,a);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return Yt(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?Ne(e,i.activeRange,a):e;case"REMOVE_EVENTS":return Gt(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return mr(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Wt(e,(function(e){return!e.sourceId}));case"REMOVE_ALL_EVENTS":return zt();default:return e}}function ur(e,t,n,i,a,r){if(t&&n===t.latestFetchId){var s=Ht(pr(a,t,r),t,r);return i&&(s=Ne(s,i,r)),Yt(mr(e,t.sourceId),s)}return e}function pr(e,t,n){var i=n.options.eventDataTransform,a=t?t.eventDataTransform:null;return a&&(e=hr(e,a)),i&&(e=hr(e,i)),e}function hr(e,t){var n;if(t){n=[];for(var i=0,a=e;i<a.length;i++){var r=a[i],s=t(r);s?n.push(s):null==s&&n.push(r)}}else n=e;return n}function fr(e,t,n,i){return n&&(t=Ne(t,n,i)),Yt(e,t)}function vr(e,t,n){var i=e.defs,a=Ee(e.instances,(function(e){var a=i[e.defId];return a.allDay||a.recurringDef?e:r(r({},e),{range:{start:n.createMarker(t.toDate(e.range.start,e.forcedStartTzo)),end:n.createMarker(t.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:e.forcedEndTzo})}));return{defs:i,instances:a}}function mr(e,t){return Wt(e,(function(e){return e.sourceId!==t}))}function gr(e,t){return{defs:e.defs,instances:De(e.instances,(function(e){return!t[e.instanceId]}))}}function yr(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function br(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function wr(e,t){var n;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function Cr(e,t){var n;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=t.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return e}}function Sr(e,t,n,i,a){var r=e.headerToolbar?kr(e.headerToolbar,e,t,n,i,a):null,s=e.footerToolbar?kr(e.footerToolbar,e,t,n,i,a):null;return{header:r,footer:s}}function kr(e,t,n,i,a,r){var s={},o=[],l=!1;for(var c in e){var d=e[c],u=_r(d,t,n,i,a,r);s[c]=u.widgets,o.push.apply(o,u.viewsWithButtons),l=l||u.hasTitle}return{sectionWidgets:s,viewsWithButtons:o,hasTitle:l}}function _r(e,t,n,i,a,r){var s="rtl"===t.direction,o=t.customButtons||{},l=n.buttonText||{},c=t.buttonText||{},d=n.buttonHints||{},u=t.buttonHints||{},p=e?e.split(" "):[],h=[],f=!1,v=p.map((function(e){return e.split(",").map((function(e){if("title"===e)return f=!0,{buttonName:e};var n,p,v,m,g,y;if(n=o[e])v=function(e){n.click&&n.click.call(e.target,e,e.target)},(m=i.getCustomButtonIconClass(n))||(m=i.getIconClass(e,s))||(g=n.text),y=n.hint||n.text;else if(p=a[e]){h.push(e),v=function(){r.changeView(e)},(g=p.buttonTextOverride)||(m=i.getIconClass(e,s))||(g=p.buttonTextDefault);var b=p.buttonTextOverride||p.buttonTextDefault;y=Z(p.buttonTitleOverride||p.buttonTitleDefault||t.viewHint,[b,e],b)}else if(r[e])if(v=function(){r[e]()},(g=l[e])||(m=i.getIconClass(e,s))||(g=c[e]),"prevYear"===e||"nextYear"===e){var w="prevYear"===e?"prev":"next";y=Z(d[w]||u[w],[c.year||"year","year"],c[e])}else y=function(t){return Z(d[e]||u[e],[c[t]||t,t],c[e])};return{buttonName:e,buttonClick:v,buttonIcon:m,buttonText:g,buttonHint:y}}))}));return{widgets:v,viewsWithButtons:h,hasTitle:f}}var Tr={ignoreRange:!0,parseMeta:function(e){return Array.isArray(e.events)?e.events:null},fetch:function(e,t){t({rawEvents:e.eventSource.meta})}},xr=Sa({eventSourceDefs:[Tr]}),Dr={parseMeta:function(e){return"function"===typeof e.events?e.events:null},fetch:function(e,t,n){var i=e.context.dateEnv,a=e.eventSource.meta;aa(a.bind(null,Yn(e.range,i)),(function(e){t({rawEvents:e})}),n)}},Er=Sa({eventSourceDefs:[Dr]});function Or(e,t,n,i,a){e=e.toUpperCase();var r=null;"GET"===e?t=Ir(t,n):r=Mr(n);var s=new XMLHttpRequest;s.open(e,t,!0),"GET"!==e&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onload=function(){if(s.status>=200&&s.status<400){var e=!1,t=void 0;try{t=JSON.parse(s.responseText),e=!0}catch(n){}e?i(t,s):a("Failure parsing JSON",s)}else a("Request failed",s)},s.onerror=function(){a("Request failed",s)},s.send(r)}function Ir(e,t){return e+(-1===e.indexOf("?")?"?":"&")+Mr(t)}function Mr(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}var Lr={method:String,extraParams:Bt,startParam:String,endParam:String,timeZoneParam:String},Rr={parseMeta:function(e){return!e.url||"json"!==e.format&&e.format?null:{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}},fetch:function(e,t,n){var i=e.eventSource.meta,a=jr(i,e.range,e.context);Or(i.method,i.url,a,(function(e,n){t({rawEvents:e,xhr:n})}),(function(e,t){n({message:e,xhr:t})}))}},Ar=Sa({eventSourceRefiners:Lr,eventSourceDefs:[Rr]});function jr(e,t,n){var i,a,s,o,l=n.dateEnv,c=n.options,d={};return i=e.startParam,null==i&&(i=c.startParam),a=e.endParam,null==a&&(a=c.endParam),s=e.timeZoneParam,null==s&&(s=c.timeZoneParam),o="function"===typeof e.extraParams?e.extraParams():e.extraParams||{},r(d,o),d[i]=l.formatIso(t.start),d[a]=l.formatIso(t.end),"local"!==l.timeZone&&(d[s]=l.timeZone),d}var Pr={daysOfWeek:Bt,startTime:Ve,endTime:Ve,duration:Ve,startRecur:Bt,endRecur:Bt},Nr={parse:function(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){var n={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null},i=void 0;return e.duration&&(i=e.duration),!i&&e.startTime&&e.endTime&&(i=Ge(e.endTime,e.startTime)),{allDayGuess:Boolean(!e.startTime&&!e.endTime),duration:i,typeData:n}}return null},expand:function(e,t,n){var i=mn(t,{start:e.startRecur,end:e.endRecur});return i?Hr(e.daysOfWeek,e.startTime,i,n):[]}},Br=Sa({recurringTypes:[Nr],eventRefiners:Pr});function Hr(e,t,n,i){var a=e?Oe(e):null,r=ue(n.start),s=n.end,o=[];while(r<s){var l=void 0;a&&!a[r.getUTCDay()]||(l=t?i.add(r,t):r,o.push(l)),r=te(r,1)}return o}var Fr=Sa({optionChangeHandlers:{events:function(e,t){Vr([e],t)},eventSources:Vr}});function Vr(e,t){for(var n=Ie(t.getCurrentData().eventSources),i=[],a=0,r=e;a<r.length;a++){for(var s=r[a],o=!1,l=0;l<n.length;l+=1)if(n[l]._raw===s){n.splice(l,1),o=!0;break}o||i.push(s)}for(var c=0,d=n;c<d.length;c++){var u=d[c];t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:u.sourceId})}for(var p=0,h=i;p<h.length;p++){var f=h[p];t.calendarApi.addEventSource(f)}}function Ur(e,t){t.emitter.trigger("datesSet",r(r({},Yn(e.activeRange,t.dateEnv)),{view:t.viewApi}))}function zr(e,t){var n=t.emitter;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",ui(e,t))}var Yr=[xr,Er,Ar,Br,Fr,Sa({isLoadingFuncs:[function(e){return Ja(e.eventSources)}],contentTypeHandlers:{html:Wr,domNodes:Gr},propSetHandlers:{dateProfile:Ur,eventStore:zr}})];function Wr(){var e=null,t="";function n(n,i){n===e&&i===t||(n.innerHTML=i),e=n,t=i}function i(){e.innerHTML="",e=null,t=""}return{render:n,destroy:i}}function Gr(){var e=null,t=[];function n(n,a){var r=Array.prototype.slice.call(a);if(n!==e||!at(t,r)){for(var s=0,o=r;s<o.length;s++){var l=o[s];n.appendChild(l)}i()}e=n,t=r}function i(){t.forEach(g),t=[],e=null}return{render:n,destroy:i}}var qr=function(){function e(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return e.prototype.request=function(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==e?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))},e.prototype.pause=function(e){void 0===e&&(e="");var t=this.pauseDepths;t[e]=(t[e]||0)+1,this.clearTimeout()},e.prototype.resume=function(e,t){void 0===e&&(e="");var n=this.pauseDepths;if(e in n){if(t)delete n[e];else{n[e]-=1;var i=n[e];i<=0&&delete n[e]}this.tryDrain()}},e.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},e.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){this.isRunning=!0;while(this.isDirty)this.isDirty=!1,this.drained();this.isRunning=!1}},e.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},e.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},e.prototype.drained=function(){this.drainedOption&&this.drainedOption()},e}(),$r=function(){function e(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new qr(this.drain.bind(this))}return e.prototype.request=function(e,t){this.queue.push(e),this.delayedRunner.request(t)},e.prototype.pause=function(e){this.delayedRunner.pause(e)},e.prototype.resume=function(e,t){this.delayedRunner.resume(e,t)},e.prototype.drain=function(){var e=this.queue;while(e.length){var t=[],n=void 0;while(n=e.shift())this.runTask(n),t.push(n);this.drained(t)}},e.prototype.runTask=function(e){this.runTaskOption&&this.runTaskOption(e)},e.prototype.drained=function(e){this.drainedOption&&this.drainedOption(e)},e}();function Zr(e,t,n){var i;return i=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange,n.formatRange(i.start,i.end,Et(t.titleFormat||Kr(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}function Kr(e){var t=e.currentRangeUnit;if("year"===t)return{year:"numeric"};if("month"===t)return{year:"numeric",month:"long"};var n=de(e.currentRange.start,e.currentRange.end);return null!==n&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var Qr=function(){function e(e){var t=this;this.computeOptionsData=rt(this._computeOptionsData),this.computeCurrentViewData=rt(this._computeCurrentViewData),this.organizeRawLocales=rt(Si),this.buildLocale=rt(ki),this.buildPluginHooks=_a(),this.buildDateEnv=rt(Xr),this.buildTheme=rt(Jr),this.parseToolbars=rt(Sr),this.buildViewSpecs=rt(Ua),this.buildDateProfileGenerator=st(es),this.buildViewApi=rt(ts),this.buildViewUiProps=st(as),this.buildEventUiBySource=rt(ns,Me),this.buildEventUiBases=rt(is),this.parseContextBusinessHours=st(ss),this.buildTitle=rt(Zr),this.emitter=new ra,this.actionRunner=new $r(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return t.data},this.dispatch=function(e){t.actionRunner.request(e)},this.props=e,this.actionRunner.pause();var n={},i=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),a=i.calendarOptions.initialView||i.pluginHooks.initialView,s=this.computeCurrentViewData(a,i,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);var o=si(i.calendarOptions,i.dateEnv),l=s.dateProfileGenerator.build(o);wn(l.activeRange,o)||(o=l.currentRange.start);for(var c={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},d=0,u=i.pluginHooks.contextInit;d<u.length;d++){var p=u[d];p(c)}for(var h=Ka(i.calendarOptions,l,c),f={dynamicOptionOverrides:n,currentViewType:a,currentDate:o,dateProfile:l,businessHours:this.parseContextBusinessHours(c),eventSources:h,eventUiBases:{},eventStore:zt(),renderableEventStore:zt(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(c).selectionConfig},v=r(r({},c),f),m=0,g=i.pluginHooks.reducers;m<g.length;m++){var y=g[m];r(f,y(null,null,v))}rs(f,c)&&this.emitter.trigger("loading",!0),this.state=f,this.updateData(),this.actionRunner.resume()}return e.prototype.resetOptions=function(e,t){var n=this.props;n.optionOverrides=t?r(r({},n.optionOverrides),e):e,this.actionRunner.request({type:"NOTHING"})},e.prototype._handleAction=function(e){var t=this,n=t.props,i=t.state,a=t.emitter,s=$a(i.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),l=qa(i.currentViewType,e),c=this.computeCurrentViewData(l,o,n.optionOverrides,s);n.calendarApi.currentDataManager=this,a.setThisContext(n.calendarApi),a.setOptions(c.options);var d={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:a,getCurrentData:this.getCurrentData},u=i.currentDate,p=i.dateProfile;this.data&&this.data.dateProfileGenerator!==c.dateProfileGenerator&&(p=c.dateProfileGenerator.build(u)),u=ri(u,e),p=Za(p,e,u,c.dateProfileGenerator),"PREV"!==e.type&&"NEXT"!==e.type&&wn(p.currentRange,u)||(u=p.currentRange.start);for(var h=Qa(i.eventSources,e,p,d),f=dr(i.eventStore,e,h,p,d),v=Ja(h),m=v&&!c.options.progressiveEventRendering&&i.renderableEventStore||f,g=this.buildViewUiProps(d),y=g.eventUiSingleBase,b=g.selectionConfig,w=this.buildEventUiBySource(h),C=this.buildEventUiBases(m.defs,y,w),S={dynamicOptionOverrides:s,currentViewType:l,currentDate:u,dateProfile:p,eventSources:h,eventStore:f,renderableEventStore:m,selectionConfig:b,eventUiBases:C,businessHours:this.parseContextBusinessHours(d),dateSelection:yr(i.dateSelection,e),eventSelection:br(i.eventSelection,e),eventDrag:wr(i.eventDrag,e),eventResize:Cr(i.eventResize,e)},k=r(r({},d),S),_=0,T=o.pluginHooks.reducers;_<T.length;_++){var x=T[_];r(S,x(i,e,k))}var D=rs(i,d),E=rs(S,d);!D&&E?a.trigger("loading",!0):D&&!E&&a.trigger("loading",!1),this.state=S,n.onAction&&n.onAction(e)},e.prototype.updateData=function(){var e=this,t=e.props,n=e.state,i=this.data,a=this.computeOptionsData(t.optionOverrides,n.dynamicOptionOverrides,t.calendarApi),s=this.computeCurrentViewData(n.currentViewType,a,t.optionOverrides,n.dynamicOptionOverrides),o=this.data=r(r(r({viewTitle:this.buildTitle(n.dateProfile,s.options,a.dateEnv),calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a),s),n),l=a.pluginHooks.optionChangeHandlers,c=i&&i.calendarOptions,d=a.calendarOptions;if(c&&c!==d)for(var u in c.timeZone!==d.timeZone&&(n.eventSources=o.eventSources=Xa(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=vr(o.eventStore,i.dateEnv,o.dateEnv)),l)c[u]!==d[u]&&l[u](d[u],o);t.onData&&t.onData(o)},e.prototype._computeOptionsData=function(e,t,n){var i=this.processRawCalendarOptions(e,t),a=i.refinedOptions,r=i.pluginHooks,s=i.localeDefaults,o=i.availableLocaleData,l=i.extra;os(l);var c=this.buildDateEnv(a.timeZone,a.locale,a.weekNumberCalculation,a.firstDay,a.weekText,r,o,a.defaultRangeSeparator),d=this.buildViewSpecs(r.views,e,t,s),u=this.buildTheme(a,r),p=this.parseToolbars(a,e,u,d,n);return{calendarOptions:a,pluginHooks:r,dateEnv:c,viewSpecs:d,theme:u,toolbarConfig:p,localeDefaults:s,availableRawLocales:o.map}},e.prototype.processRawCalendarOptions=function(e,t){var n=Pt([It,e,t]),i=n.locales,a=n.locale,s=this.organizeRawLocales(i),o=s.map,l=this.buildLocale(a||s.defaultCode,o).options,c=this.buildPluginHooks(e.plugins||[],Yr),d=this.currentCalendarOptionsRefiners=r(r(r(r(r({},Ot),Mt),Lt),c.listenerRefiners),c.optionRefiners),u={},p=Pt([It,l,e,t]),h={},f=this.currentCalendarOptionsInput,v=this.currentCalendarOptionsRefined,m=!1;for(var g in p)"plugins"!==g&&(p[g]===f[g]||Rt[g]&&g in f&&Rt[g](f[g],p[g])?h[g]=v[g]:d[g]?(h[g]=d[g](p[g]),m=!0):u[g]=f[g]);return m&&(this.currentCalendarOptionsInput=p,this.currentCalendarOptionsRefined=h),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:c,availableLocaleData:s,localeDefaults:l,extra:u}},e.prototype._computeCurrentViewData=function(e,t,n,i){var a=t.viewSpecs[e];if(!a)throw new Error('viewType "'+e+"\" is not available. Please make sure you've loaded all neccessary plugins");var r=this.processRawViewOptions(a,t.pluginHooks,t.localeDefaults,n,i),s=r.refinedOptions,o=r.extra;os(o);var l=this.buildDateProfileGenerator({dateProfileGeneratorClass:a.optionDefaults.dateProfileGeneratorClass,duration:a.duration,durationUnit:a.durationUnit,usesMinMaxTime:a.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,nowInput:s.now,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,monthMode:s.monthMode,fixedWeekCount:s.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:a,options:s,dateProfileGenerator:l,viewApi:c}},e.prototype.processRawViewOptions=function(e,t,n,i,a){var s=Pt([It,e.optionDefaults,n,i,e.optionOverrides,a]),o=r(r(r(r(r(r({},Ot),Mt),Lt),jt),t.listenerRefiners),t.optionRefiners),l={},c=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,u=!1,p={};for(var h in s)s[h]===c[h]?l[h]=d[h]:(s[h]===this.currentCalendarOptionsInput[h]?h in this.currentCalendarOptionsRefined&&(l[h]=this.currentCalendarOptionsRefined[h]):o[h]?l[h]=o[h](s[h]):p[h]=s[h],u=!0);return u&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:p}},e}();function Xr(e,t,n,i,a,r,s,o){var l=ki(t||s.defaultCode,s.map);return new yi({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:r.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:i,weekText:a,cmdFormatter:r.cmdFormatter,defaultSeparator:o})}function Jr(e,t){var n=t.themeClasses[e.themeSystem]||xa;return new n(e)}function es(e){var t=e.dateProfileGeneratorClass||Ga;return new t(e)}function ts(e,t,n){return new ei(e,t,n)}function ns(e){return Ee(e,(function(e){return e.ui}))}function is(e,t,n){var i={"":t};for(var a in e){var r=e[a];r.sourceId&&n[r.sourceId]&&(i[a]=n[r.sourceId])}return i}function as(e){var t=e.options;return{eventUiSingleBase:Qt({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:"boolean"===typeof t.eventOverlap?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:Qt({constraint:t.selectConstraint,overlap:"boolean"===typeof t.selectOverlap?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function rs(e,t){for(var n=0,i=t.pluginHooks.isLoadingFuncs;n<i.length;n++){var a=i[n];if(a(e))return!0}return!1}function ss(e){return Oi(e.options.businessHours,e)}function os(e,t){for(var n in e)console.warn("Unknown option '"+n+"'"+(t?" for view '"+t+"'":""))}(function(e){function t(t){var n=e.call(this,t)||this;return n.handleData=function(e){n.dataManager?n.setState(e):n.state=e},n.dataManager=new Qr({optionOverrides:t.optionOverrides,calendarApi:t.calendarApi,onData:n.handleData}),n}a(t,e),t.prototype.render=function(){return this.props.children(this.state)},t.prototype.componentDidUpdate=function(e){var t=this.props.optionOverrides;t!==e.optionOverrides&&this.dataManager.resetOptions(t)}})(o);(function(){function e(e){this.timeZoneName=e}})();var ls=function(){function e(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return e.prototype.addSegs=function(e){for(var t=[],n=0,i=e;n<i.length;n++){var a=i[n];this.insertEntry(a,t)}return t},e.prototype.insertEntry=function(e,t){var n=this.findInsertion(e);return this.isInsertionValid(n,e)?(this.insertEntryAt(e,n),1):this.handleInvalidInsertion(n,e,t)},e.prototype.isInsertionValid=function(e,t){return(-1===this.maxCoord||e.levelCoord+t.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||e.stackCnt<this.maxStackCnt)},e.prototype.handleInvalidInsertion=function(e,t,n){return this.allowReslicing&&e.touchingEntry?this.splitEntry(t,e.touchingEntry,n):(n.push(t),0)},e.prototype.splitEntry=function(e,t,n){var i=0,a=[],r=e.span,o=t.span;return r.start<o.start&&(i+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:o.start}},a)),r.end>o.end&&(i+=this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.end,end:r.end}},a)),i?(n.push.apply(n,s([{index:e.index,thickness:e.thickness,span:hs(o,r)}],a)),i):(n.push(e),0)},e.prototype.insertEntryAt=function(e,t){var n=this,i=n.entriesByLevel,a=n.levelCoords;-1===t.lateral?(fs(a,t.level,t.levelCoord),fs(i,t.level,[e])):fs(i[t.level],t.lateral,e),this.stackCnts[ds(e)]=t.stackCnt},e.prototype.findInsertion=function(e){for(var t=this,n=t.levelCoords,i=t.entriesByLevel,a=t.strictOrder,r=t.stackCnts,s=n.length,o=0,l=-1,c=-1,d=null,u=0,p=0;p<s;p+=1){var h=n[p];if(!a&&h>=o+e.thickness)break;var f=i[p],v=void 0,m=vs(f,e.span.start,cs),g=m[0]+m[1];while((v=f[g])&&v.span.start<e.span.end){var y=h+v.thickness;y>o&&(o=y,d=v,l=p,c=g),y===o&&(u=Math.max(u,r[ds(v)]+1)),g+=1}}var b=0;if(d){b=l+1;while(b<s&&n[b]<o)b+=1}var w=-1;return b<s&&n[b]===o&&(w=vs(i[b],e.span.end,cs)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:d,stackCnt:u,levelCoord:o,level:b,lateral:w}},e.prototype.toRects=function(){for(var e=this,t=e.entriesByLevel,n=e.levelCoords,i=t.length,a=[],s=0;s<i;s+=1)for(var o=t[s],l=n[s],c=0,d=o;c<d.length;c++){var u=d[c];a.push(r(r({},u),{levelCoord:l}))}return a},e}();function cs(e){return e.span.end}function ds(e){return e.index+":"+e.span.start}function us(e){for(var t=[],n=0,i=e;n<i.length;n++){for(var a=i[n],r=[],s={span:a.span,entries:[a]},o=0,l=t;o<l.length;o++){var c=l[o];hs(c.span,s.span)?s={entries:c.entries.concat(s.entries),span:ps(c.span,s.span)}:r.push(c)}r.push(s),t=r}return t}function ps(e,t){return{start:Math.min(e.start,t.start),end:Math.max(e.end,t.end)}}function hs(e,t){var n=Math.max(e.start,t.start),i=Math.min(e.end,t.end);return n<i?{start:n,end:i}:null}function fs(e,t,n){e.splice(t,0,n)}function vs(e,t,n){var i=0,a=e.length;if(!a||t<n(e[i]))return[0,0];if(t>n(e[a-1]))return[a,0];while(i<a){var r=Math.floor(i+(a-i)/2),s=n(e[r]);if(t<s)a=r;else{if(!(t>s))return[r,1];i=r+1}}return[i,0]}var ms=function(){function e(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}return e.prototype.destroy=function(){},e}();function gs(e,t){return{component:e,el:t.el,useEventCenter:null==t.useEventCenter||t.useEventCenter,isHitComboAllowed:t.isHitComboAllowed||null}}function ys(e){var t;return t={},t[e.component.uid]=e,t}var bs={},ws=function(){function e(e,t){this.emitter=new ra}return e.prototype.destroy=function(){},e.prototype.setMirrorIsVisible=function(e){},e.prototype.setMirrorNeedsRevert=function(e){},e.prototype.setAutoScrollEnabled=function(e){},e}(),Cs={},Ss={startTime:Ve,duration:Ve,create:Boolean,sourceId:String};function ks(e){var t=Nt(e,Ss),n=t.refined,i=t.extra;return{startTime:n.startTime||null,duration:n.duration||null,create:null==n.create||n.create,sourceId:n.sourceId,leftoverProps:i}}var _s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this,t=this.props.widgetGroups.map((function(t){return e.renderWidgetGroup(t)}));return l.apply(void 0,s(["div",{className:"fc-toolbar-chunk"}],t))},t.prototype.renderWidgetGroup=function(e){for(var t=this.props,n=this.context.theme,i=[],a=!0,r=0,o=e;r<o.length;r++){var c=o[r],d=c.buttonName,u=c.buttonClick,p=c.buttonText,h=c.buttonIcon,f=c.buttonHint;if("title"===d)a=!1,i.push(l("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{var v=d===t.activeButton,m=!t.isTodayEnabled&&"today"===d||!t.isPrevEnabled&&"prev"===d||!t.isNextEnabled&&"next"===d,g=["fc-"+d+"-button",n.getClass("button")];v&&g.push(n.getClass("buttonActive")),i.push(l("button",{type:"button",title:"function"===typeof f?f(t.navUnit):f,disabled:m,"aria-pressed":v,className:g.join(" "),onClick:u},p||(h?l("span",{className:h}):"")))}}if(i.length>1){var y=a&&n.getClass("buttonGroup")||"";return l.apply(void 0,s(["div",{className:y}],i))}return i[0]},t}(ga),Ts=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e,t,n=this.props,i=n.model,a=n.extraClassName,r=!1,s=i.sectionWidgets,o=s.center;s.left?(r=!0,e=s.left):e=s.start,s.right?(r=!0,t=s.right):t=s.end;var c=[a||"","fc-toolbar",r?"fc-toolbar-ltr":""];return l("div",{className:c.join(" ")},this.renderSection("start",e||[]),this.renderSection("center",o||[]),this.renderSection("end",t||[]))},t.prototype.renderSection=function(e,t){var n=this.props;return l(_s,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})},t}(ga),xs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={availableWidth:null},t.handleEl=function(e){t.el=e,wa(t.props.elRef,e),t.updateAvailableWidth()},t.handleResize=function(){t.updateAvailableWidth()},t}return a(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.state,i=t.aspectRatio,a=["fc-view-harness",i||t.liquid||t.height?"fc-view-harness-active":"fc-view-harness-passive"],r="",s="";return i?null!==n.availableWidth?r=n.availableWidth/i:s=1/i*100+"%":r=t.height||"",l("div",{"aria-labelledby":t.labeledById,ref:this.handleEl,className:a.join(" "),style:{height:r,paddingBottom:s}},t.children)},t.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},t.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},t.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},t}(ga),Ds=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSegClick=function(e,t){var i=n.component,a=i.context,r=Tn(t);if(r&&i.isValidSegDownEl(e.target)){var s=y(e.target,".fc-event-forced-url"),o=s?s.querySelector("a[href]").href:"";a.emitter.trigger("eventClick",{el:t,event:new ci(i.context,r.eventRange.def,r.eventRange.instance),jsEvent:e,view:a.viewApi}),o&&!e.defaultPrevented&&(window.location.href=o)}},n.destroy=I(t.el,"click",".fc-event",n.handleSegClick),n}return a(t,e),t}(ms),Es=function(e){function t(t){var n=e.call(this,t)||this;return n.handleEventElRemove=function(e){e===n.currentSegEl&&n.handleSegLeave(null,n.currentSegEl)},n.handleSegEnter=function(e,t){Tn(t)&&(n.currentSegEl=t,n.triggerEvent("eventMouseEnter",e,t))},n.handleSegLeave=function(e,t){n.currentSegEl&&(n.currentSegEl=null,n.triggerEvent("eventMouseLeave",e,t))},n.removeHoverListeners=M(t.el,".fc-event",n.handleSegEnter,n.handleSegLeave),n}return a(t,e),t.prototype.destroy=function(){this.removeHoverListeners()},t.prototype.triggerEvent=function(e,t,n){var i=this.component,a=i.context,r=Tn(n);t&&!i.isValidSegDownEl(t.target)||a.emitter.trigger(e,{el:n,event:new ci(a,r.eventRange.def,r.eventRange.instance),jsEvent:t,view:a.viewApi})},t}(ms),Os=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildViewContext=rt(va),t.buildViewPropTransformers=rt(Ms),t.buildToolbarProps=rt(Is),t.headerRef=d(),t.footerRef=d(),t.interactionsStore={},t.state={viewLabelId:D()},t.registerInteractiveComponent=function(e,n){var i=gs(e,n),a=[Ds,Es],r=a.concat(t.props.pluginHooks.componentInteractions),s=r.map((function(e){return new e(i)}));t.interactionsStore[e.uid]=s,bs[e.uid]=i},t.unregisterInteractiveComponent=function(e){for(var n=0,i=t.interactionsStore[e.uid];n<i.length;n++){var a=i[n];a.destroy()}delete t.interactionsStore[e.uid],delete bs[e.uid]},t.resizeRunner=new qr((function(){t.props.emitter.trigger("_resize",!0),t.props.emitter.trigger("windowResize",{view:t.props.viewApi})})),t.handleWindowResize=function(e){var n=t.props.options;n.handleWindowResize&&e.target===window&&t.resizeRunner.request(n.windowResizeDelay)},t}return a(t,e),t.prototype.render=function(){var e,t=this.props,n=t.toolbarConfig,i=t.options,a=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,oi(t.options.now,t.dateEnv),t.viewTitle),s=!1,o="";t.isHeightAuto||t.forPrint?o="":null!=i.height?s=!0:null!=i.contentHeight?o=i.contentHeight:e=Math.max(i.aspectRatio,.5);var c=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),d=n.header&&n.header.hasTitle?this.state.viewLabelId:"";return l(fa.Provider,{value:c},n.header&&l(Ts,r({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:d},a)),l(xs,{liquid:s,height:o,aspectRatio:e,labeledById:d},this.renderView(t),this.buildAppendContent()),n.footer&&l(Ts,r({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},a)))},t.prototype.componentDidMount=function(){var e=this.props;this.calendarInteractions=e.pluginHooks.calendarInteractions.map((function(t){return new t(e)})),window.addEventListener("resize",this.handleWindowResize);var t=e.pluginHooks.propSetHandlers;for(var n in t)t[n](e[n],e)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.pluginHooks.propSetHandlers;for(var i in n)t[i]!==e[i]&&n[i](t[i],t)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var e=0,t=this.calendarInteractions;e<t.length;e++){var n=t[e];n.destroy()}this.props.emitter.trigger("_unmount")},t.prototype.buildAppendContent=function(){var e=this.props,t=e.pluginHooks.viewContainerAppends.map((function(t){return t(e)}));return l.apply(void 0,s([u,{}],t))},t.prototype.renderView=function(e){for(var t=e.pluginHooks,n=e.viewSpec,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},a=this.buildViewPropTransformers(t.viewPropsTransformers),s=0,o=a;s<o.length;s++){var c=o[s];r(i,c.transform(i,e))}var d=n.component;return l(d,r({},i))},t}(ma);function Is(e,t,n,i,a,r){var s=n.build(a,void 0,!1),o=n.buildPrev(t,i,!1),l=n.buildNext(t,i,!1);return{title:r,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:s.isValid&&!wn(t.currentRange,a),isPrevEnabled:o.isValid,isNextEnabled:l.isValid}}function Ms(e){return e.map((function(e){return new e}))}var Ls=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={forPrint:!1},t.handleBeforePrint=function(){t.setState({forPrint:!0})},t.handleAfterPrint=function(){t.setState({forPrint:!1})},t}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.options,n=this.state.forPrint,i=n||"auto"===t.height||"auto"===t.contentHeight,a=i||null==t.height?"":t.height,r=["fc",n?"fc-media-print":"fc-media-screen","fc-direction-"+t.direction,e.theme.getClass("root")];return Pi()||r.push("fc-liquid-hack"),e.children(r,a,i,n)},t.prototype.componentDidMount=function(){var e=this.props.emitter;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)},t.prototype.componentWillUnmount=function(){var e=this.props.emitter;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)},t}(ga);function Rs(e,t){return Et(!e||t>10?{weekday:"short"}:t>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}var As="fc-col-header-cell";function js(e){return e.text}var Ps=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this.context,t=e.dateEnv,n=e.options,i=e.theme,a=e.viewApi,s=this.props,o=s.date,c=s.dateProfile,d=Vi(o,s.todayRange,null,c),u=[As].concat(Ui(d,i)),p=t.format(o,s.dayHeaderFormat),h=!d.isDisabled&&s.colCnt>1?Wi(this.context,o):{},f=r(r(r({date:t.toDate(o),view:a},s.extraHookProps),{text:p}),d);return l(Ia,{hookProps:f,classNames:n.dayHeaderClassNames,content:n.dayHeaderContent,defaultContent:js,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},(function(e,t,n,i){return l("th",r({ref:e,role:"columnheader",className:u.concat(t).join(" "),"data-date":d.isDisabled?void 0:tt(o),colSpan:s.colSpan},s.extraDataAttrs),l("div",{className:"fc-scrollgrid-sync-inner"},!d.isDisabled&&l("a",r({ref:n,className:["fc-col-header-cell-cushion",s.isSticky?"fc-sticky":""].join(" ")},h),i)))}))},t}(ga),Ns=Et({weekday:"long"}),Bs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.dateEnv,i=t.theme,a=t.viewApi,s=t.options,o=te(new Date(2592e5),e.dow),c={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},d=[As].concat(Ui(c,i),e.extraClassNames||[]),u=n.format(o,e.dayHeaderFormat),p=r(r(r(r({date:o},c),{view:a}),e.extraHookProps),{text:u});return l(Ia,{hookProps:p,classNames:s.dayHeaderClassNames,content:s.dayHeaderContent,defaultContent:js,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},(function(t,i,a,s){return l("th",r({ref:t,role:"columnheader",className:d.concat(i).join(" "),colSpan:e.colSpan},e.extraDataAttrs),l("div",{className:"fc-scrollgrid-sync-inner"},l("a",{"aria-label":n.format(o,Ns),className:["fc-col-header-cell-cushion",e.isSticky?"fc-sticky":""].join(" "),ref:a},s)))}))},t}(ga),Hs=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.initialNowDate=oi(n.options.now,n.dateEnv),i.initialNowQueriedMs=(new Date).valueOf(),i.state=i.computeTiming().currentState,i}return a(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.state;return t.children(n.nowDate,n.todayRange)},t.prototype.componentDidMount=function(){this.setTimeout()},t.prototype.componentDidUpdate=function(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},t.prototype.componentWillUnmount=function(){this.clearTimeout()},t.prototype.computeTiming=function(){var e=this,t=e.props,n=e.context,i=ne(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),a=n.dateEnv.startOf(i,t.unit),r=n.dateEnv.add(a,Ve(1,t.unit)),s=r.valueOf()-i.valueOf();return s=Math.min(864e5,s),{currentState:{nowDate:a,todayRange:Fs(a)},nextState:{nowDate:r,todayRange:Fs(r)},waitMs:s}},t.prototype.setTimeout=function(){var e=this,t=this.computeTiming(),n=t.nextState,i=t.waitMs;this.timeoutId=setTimeout((function(){e.setState(n,(function(){e.setTimeout()}))}),i)},t.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},t.contextType=fa,t}(o);function Fs(e){var t=ue(e),n=te(t,1);return{start:t,end:n}}var Vs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createDayHeaderFormatter=rt(Us),t}return a(t,e),t.prototype.render=function(){var e=this.context,t=this.props,n=t.dates,i=t.dateProfile,a=t.datesRepDistinctDays,r=t.renderIntro,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,a,n.length);return l(Hs,{unit:"day"},(function(e,t){return l("tr",{role:"row"},r&&r("day"),n.map((function(e){return a?l(Ps,{key:e.toISOString(),date:e,dateProfile:i,todayRange:t,colCnt:n.length,dayHeaderFormat:s}):l(Bs,{key:e.getUTCDay(),dow:e.getUTCDay(),dayHeaderFormat:s})})))}))},t}(ga);function Us(e,t,n){return e||Rs(t,n)}var zs=function(){function e(e,t){var n=e.start,i=e.end,a=[],r=[],s=-1;while(n<i)t.isHiddenDay(n)?a.push(s+.5):(s+=1,a.push(s),r.push(n)),n=te(n,1);this.dates=r,this.indices=a,this.cnt=r.length}return e.prototype.sliceRange=function(e){var t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(te(e.end,-1)),i=Math.max(0,t),a=Math.min(this.cnt-1,n);return i=Math.ceil(i),a=Math.floor(a),i<=a?{firstIndex:i,lastIndex:a,isStart:t===i,isEnd:n===a}:null},e.prototype.getDateDayIndex=function(e){var t=this.indices,n=Math.floor(ae(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]},e}(),Ys=function(){function e(e,t){var n,i,a,r=e.dates;if(t){for(i=r[0].getUTCDay(),n=1;n<r.length;n+=1)if(r[n].getUTCDay()===i)break;a=Math.ceil(r.length/n)}else a=1,n=r.length;this.rowCnt=a,this.colCnt=n,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return e.prototype.buildCells=function(){for(var e=[],t=0;t<this.rowCnt;t+=1){for(var n=[],i=0;i<this.colCnt;i+=1)n.push(this.buildCell(t,i));e.push(n)}return e},e.prototype.buildCell=function(e,t){var n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}},e.prototype.buildHeaderDates=function(){for(var e=[],t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e},e.prototype.sliceRange=function(e){var t=this.colCnt,n=this.daySeries.sliceRange(e),i=[];if(n){var a=n.firstIndex,r=n.lastIndex,s=a;while(s<=r){var o=Math.floor(s/t),l=Math.min((o+1)*t,r+1);i.push({row:o,firstCol:s%t,lastCol:(l-1)%t,isStart:n.isStart&&s===a,isEnd:n.isEnd&&l-1===r}),s=l}}return i},e}(),Ws=function(){function e(){this.sliceBusinessHours=rt(this._sliceBusinessHours),this.sliceDateSelection=rt(this._sliceDateSpan),this.sliceEventStore=rt(this._sliceEventStore),this.sliceEventDrag=rt(this._sliceInteraction),this.sliceEventResize=rt(this._sliceInteraction),this.forceDayIfListItem=!1}return e.prototype.sliceProps=function(e,t,n,i){for(var a=[],r=4;r<arguments.length;r++)a[r-4]=arguments[r];var o=e.eventUiBases,l=this.sliceEventStore.apply(this,s([e.eventStore,o,t,n],a));return{dateSelectionSegs:this.sliceDateSelection.apply(this,s([e.dateSelection,o,i],a)),businessHourSegs:this.sliceBusinessHours.apply(this,s([e.businessHours,t,n,i],a)),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag.apply(this,s([e.eventDrag,o,t,n],a)),eventResize:this.sliceEventResize.apply(this,s([e.eventResize,o,t,n],a)),eventSelection:e.eventSelection}},e.prototype.sliceNowDate=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return this._sliceDateSpan.apply(this,s([{range:{start:e,end:ne(e,1)},allDay:!1},{},t],n))},e.prototype._sliceBusinessHours=function(e,t,n,i){for(var a=[],r=4;r<arguments.length;r++)a[r-4]=arguments[r];return e?this._sliceEventStore.apply(this,s([Ne(e,Gs(t,Boolean(n)),i),{},t,n],a)).bg:[]},e.prototype._sliceEventStore=function(e,t,n,i){for(var a=[],r=4;r<arguments.length;r++)a[r-4]=arguments[r];if(e){var s=Sn(e,t,Gs(n,Boolean(i)),i);return{bg:this.sliceEventRanges(s.bg,a),fg:this.sliceEventRanges(s.fg,a)}}return{bg:[],fg:[]}},e.prototype._sliceInteraction=function(e,t,n,i){for(var a=[],r=4;r<arguments.length;r++)a[r-4]=arguments[r];if(!e)return null;var s=Sn(e.mutatedEvents,t,Gs(n,Boolean(i)),i);return{segs:this.sliceEventRanges(s.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}},e.prototype._sliceDateSpan=function(e,t,n){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];if(!e)return[];for(var r=Gn(e,t,n),o=this.sliceRange.apply(this,s([e.range],i)),l=0,c=o;l<c.length;l++){var d=c[l];d.eventRange=r}return o},e.prototype.sliceEventRanges=function(e,t){for(var n=[],i=0,a=e;i<a.length;i++){var r=a[i];n.push.apply(n,this.sliceEventRange(r,t))}return n},e.prototype.sliceEventRange=function(e,t){var n=e.range;this.forceDayIfListItem&&"list-item"===e.ui.display&&(n={start:n.start,end:te(n.start,1)});for(var i=this.sliceRange.apply(this,s([n],t)),a=0,r=i;a<r.length;a++){var o=r[a];o.eventRange=e,o.isStart=e.isStart&&o.isStart,o.isEnd=e.isEnd&&o.isEnd}return i},e}();function Gs(e,t){var n=e.activeRange;return t?n:{start:ne(n.start,e.slotMinTime.milliseconds),end:ne(n.end,e.slotMaxTime.milliseconds-864e5)}}function qs(e,t,n){var i=e.mutatedEvents.instances;for(var a in i)if(!bn(t.validRange,i[a].range))return!1;return Zs({eventDrag:e},n)}function $s(e,t,n){return!!bn(t.validRange,e.range)&&Zs({dateSelection:e},n)}function Zs(e,t){var n=t.getCurrentData(),i=r({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||Ks)(i,t)}function Ks(e,t,n,i){return void 0===n&&(n={}),!(e.eventDrag&&!Qs(e,t,n,i))&&!(e.dateSelection&&!Xs(e,t,n,i))}function Qs(e,t,n,i){var a=t.getCurrentData(),s=e.eventDrag,o=s.mutatedEvents,l=o.defs,c=o.instances,d=xn(l,s.isEvent?e.eventUiBases:{"":a.selectionConfig});i&&(d=Ee(d,i));var u=gr(e.eventStore,s.affectedEvents.instances),p=u.defs,h=u.instances,f=xn(p,e.eventUiBases);for(var v in c){var m=c[v],g=m.range,y=d[m.defId],b=l[m.defId];if(!Js(y.constraints,g,u,e.businessHours,t))return!1;var w=t.options.eventOverlap,C="function"===typeof w?w:null;for(var S in h){var k=h[S];if(yn(g,k.range)){var _=f[k.defId].overlap;if(!1===_&&s.isEvent)return!1;if(!1===y.overlap)return!1;if(C&&!C(new ci(t,p[k.defId],k),new ci(t,b,m)))return!1}}for(var T=a.eventStore,x=0,D=y.allows;x<D.length;x++){var E=D[x],O=r(r({},n),{range:m.range,allDay:b.allDay}),I=T.defs[b.defId],M=T.instances[v],L=void 0;if(L=I?new ci(t,I,M):new ci(t,b),!E(Zn(O,t),L))return!1}}return!0}function Xs(e,t,n,i){var a=e.eventStore,s=a.defs,o=a.instances,l=e.dateSelection,c=l.range,d=t.getCurrentData().selectionConfig;if(i&&(d=i(d)),!Js(d.constraints,c,a,e.businessHours,t))return!1;var u=t.options.selectOverlap,p="function"===typeof u?u:null;for(var h in o){var f=o[h];if(yn(c,f.range)){if(!1===d.overlap)return!1;if(p&&!p(new ci(t,s[f.defId],f),null))return!1}}for(var v=0,m=d.allows;v<m.length;v++){var g=m[v],y=r(r({},n),l);if(!g(Zn(y,t),null))return!1}return!0}function Js(e,t,n,i,a){for(var r=0,s=e;r<s.length;r++){var o=s[r];if(!no(eo(o,t,n,i,a),t))return!1}return!0}function eo(e,t,n,i,a){return"businessHours"===e?to(Ne(i,t,a)):"string"===typeof e?to(Wt(n,(function(t){return t.groupId===e}))):"object"===typeof e&&e?to(Ne(e,t,a)):[]}function to(e){var t=e.instances,n=[];for(var i in t)n.push(t[i].range);return n}function no(e,t){for(var n=0,i=e;n<i.length;n++){var a=i[n];if(bn(a,t))return!0}return!1}var io=/^(visible|hidden)$/,ao=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleEl=function(e){t.el=e,wa(t.props.elRef,e)},t}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.liquid,n=e.liquidIsAbsolute,i=t&&n,a=["fc-scroller"];return t&&(n?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),l("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)},t.prototype.needsXScrolling=function(){if(io.test(this.props.overflowX))return!1;for(var e=this.el,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),n=e.children,i=0;i<n.length;i+=1){var a=n[i];if(a.getBoundingClientRect().width>t)return!0}return!1},t.prototype.needsYScrolling=function(){if(io.test(this.props.overflowY))return!1;for(var e=this.el,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),n=e.children,i=0;i<n.length;i+=1){var a=n[i];if(a.getBoundingClientRect().height>t)return!0}return!1},t.prototype.getXScrollbarWidth=function(){return io.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},t.prototype.getYScrollbarWidth=function(){return io.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},t}(ga),ro=function(){function e(e){var t=this;this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(e,n){var i=t,a=i.depths,r=i.currentMap,s=!1,o=!1;null!==e?(s=n in r,r[n]=e,a[n]=(a[n]||0)+1,o=!0):(a[n]-=1,a[n]||(delete r[n],delete t.callbackMap[n],s=!0)),t.masterCallback&&(s&&t.masterCallback(null,String(n)),o&&t.masterCallback(e,String(n)))}}return e.prototype.createRef=function(e){var t=this,n=this.callbackMap[e];return n||(n=this.callbackMap[e]=function(n){t.handleValue(n,String(e))}),n},e.prototype.collect=function(e,t,n){return je(this.currentMap,e,t,n)},e.prototype.getAll=function(){return Ie(this.currentMap)},e}();function so(e){for(var t=w(e,".fc-scrollgrid-shrink"),n=0,i=0,a=t;i<a.length;i++){var r=a[i];n=Math.max(n,X(r))}return Math.ceil(n)}function oo(e,t){return e.liquid&&t.liquid}function lo(e,t){return null!=t.maxHeight||oo(e,t)}function co(e,t,n,i){var a=n.expandRows,r="function"===typeof t.content?t.content(n):l("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:a?n.clientHeight:""}},n.tableColGroupNode,l(i?"thead":"tbody",{role:"presentation"},"function"===typeof t.rowContent?t.rowContent(n):t.rowContent));return r}function uo(e,t){return at(e,t,Me)}function po(e,t){for(var n=[],i=0,a=e;i<a.length;i++)for(var r=a[i],o=r.span||1,c=0;c<o;c+=1)n.push(l("col",{style:{width:"shrink"===r.width?ho(t):r.width||"",minWidth:r.minWidth||""}}));return l.apply(void 0,s(["colgroup",{}],n))}function ho(e){return null==e?4:e}function fo(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if("shrink"===i.width)return!0}return!1}function vo(e,t){var n=["fc-scrollgrid",t.theme.getClass("table")];return e&&n.push("fc-scrollgrid-liquid"),n}function mo(e,t){var n=["fc-scrollgrid-section","fc-scrollgrid-section-"+e.type,e.className];return t&&e.liquid&&null==e.maxHeight&&n.push("fc-scrollgrid-section-liquid"),e.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function go(e){return l("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function yo(e){var t=e.stickyHeaderDates;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}function bo(e){var t=e.stickyFooterScrollbar;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}var wo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.processCols=rt((function(e){return e}),uo),t.renderMicroColGroup=rt(po),t.scrollerRefs=new ro,t.scrollerElRefs=new ro(t._handleScrollerEl.bind(t)),t.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},t.handleSizing=function(){t.setState(r({shrinkWidth:t.computeShrinkWidth()},t.computeScrollerDims()))},t}return a(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.state,i=e.context,a=t.sections||[],r=this.processCols(t.cols),o=this.renderMicroColGroup(r,n.shrinkWidth),c=vo(t.liquid,i);t.collapsibleWidth&&c.push("fc-scrollgrid-collapsible");var d,u=a.length,p=0,h=[],f=[],v=[];while(p<u&&"header"===(d=a[p]).type)h.push(this.renderSection(d,o,!0)),p+=1;while(p<u&&"body"===(d=a[p]).type)f.push(this.renderSection(d,o,!1)),p+=1;while(p<u&&"footer"===(d=a[p]).type)v.push(this.renderSection(d,o,!0)),p+=1;var m=!Pi(),g={role:"rowgroup"};return l("table",{role:"grid",className:c.join(" "),style:{height:t.height}},Boolean(!m&&h.length)&&l.apply(void 0,s(["thead",g],h)),Boolean(!m&&f.length)&&l.apply(void 0,s(["tbody",g],f)),Boolean(!m&&v.length)&&l.apply(void 0,s(["tfoot",g],v)),m&&l.apply(void 0,s(s(s(["tbody",g],h),f),v)))},t.prototype.renderSection=function(e,t,n){return"outerContent"in e?l(u,{key:e.key},e.outerContent):l("tr",{key:e.key,role:"presentation",className:mo(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,n))},t.prototype.renderChunkTd=function(e,t,n,i){if("outerContent"in n)return n.outerContent;var a=this.props,r=this.state,s=r.forceYScrollbars,o=r.scrollerClientWidths,c=r.scrollerClientHeights,d=lo(a,e),u=oo(a,e),p=a.liquid?s?"scroll":d?"auto":"hidden":"visible",h=e.key,f=co(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:a.collapsibleWidth||void 0===o[h]?null:o[h],clientHeight:void 0!==c[h]?c[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}},i);return l(i?"th":"td",{ref:n.elRef,role:"presentation"},l("div",{className:"fc-scroller-harness"+(u?" fc-scroller-harness-liquid":"")},l(ao,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:p,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},f)))},t.prototype._handleScrollerEl=function(e,t){var n=Co(this.props.sections,t);n&&wa(n.chunk.scrollerElRef,e)},t.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},t.prototype.componentDidUpdate=function(){this.handleSizing()},t.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},t.prototype.computeShrinkWidth=function(){return fo(this.props.cols)?so(this.scrollerElRefs.getAll()):0},t.prototype.computeScrollerDims=function(){var e=Ki(),t=this,n=t.scrollerRefs,i=t.scrollerElRefs,a=!1,r={},s={};for(var o in n.currentMap){var l=n.currentMap[o];if(l&&l.needsYScrolling()){a=!0;break}}for(var c=0,d=this.props.sections;c<d.length;c++){var u=d[c],p=(o=u.key,i.currentMap[o]);if(p){var h=p.parentNode;r[o]=Math.floor(h.getBoundingClientRect().width-(a?e.y:0)),s[o]=Math.floor(h.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:r,scrollerClientHeights:s}},t}(ga);function Co(e,t){for(var n=0,i=e;n<i.length;n++){var a=i[n];if(a.key===t)return a}return null}wo.addStateEquality({scrollerClientWidths:Me,scrollerClientHeights:Me});var So=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.elRef=d(),t}return a(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.context,i=n.options,a=t.seg,r=a.eventRange,s=r.ui,o={event:new ci(n,r.def,r.instance),view:n.viewApi,timeText:t.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!t.disableDragging&&In(a,n),isStartResizable:!t.disableResizing&&Mn(a,n),isEndResizable:!t.disableResizing&&Ln(a),isMirror:Boolean(t.isDragging||t.isResizing||t.isDateSelecting),isStart:Boolean(a.isStart),isEnd:Boolean(a.isEnd),isPast:Boolean(t.isPast),isFuture:Boolean(t.isFuture),isToday:Boolean(t.isToday),isSelected:Boolean(t.isSelected),isDragging:Boolean(t.isDragging),isResizing:Boolean(t.isResizing)},c=jn(o).concat(s.classNames);return l(Ia,{hookProps:o,classNames:i.eventClassNames,content:i.eventContent,defaultContent:t.defaultContent,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount,elRef:this.elRef},(function(e,n,i,a){return t.children(e,c.concat(n),i,a,o)}))},t.prototype.componentDidMount=function(){_n(this.elRef.current,this.props.seg)},t.prototype.componentDidUpdate=function(e){var t=this.props.seg;t!==e.seg&&_n(this.elRef.current,t)},t}(ga),ko=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.context,i=t.seg,a=n.options.eventTimeFormat||t.defaultTimeFormat,s=Rn(i,a,n,t.defaultDisplayEventTime,t.defaultDisplayEventEnd);return l(So,{seg:i,timeText:s,disableDragging:t.disableDragging,disableResizing:t.disableResizing,defaultContent:t.defaultContent||_o,isDragging:t.isDragging,isResizing:t.isResizing,isDateSelecting:t.isDateSelecting,isSelected:t.isSelected,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday},(function(e,a,s,o,c){return l("a",r({className:t.extraClassNames.concat(a).join(" "),style:{borderColor:c.borderColor,backgroundColor:c.backgroundColor},ref:e},Nn(i,n)),l("div",{className:"fc-event-main",ref:s,style:{color:c.textColor}},o),c.isStartResizable&&l("div",{className:"fc-event-resizer fc-event-resizer-start"}),c.isEndResizable&&l("div",{className:"fc-event-resizer fc-event-resizer-end"}))}))},t}(ga);function _o(e){return l("div",{className:"fc-event-main-frame"},e.timeText&&l("div",{className:"fc-event-time"},e.timeText),l("div",{className:"fc-event-title-container"},l("div",{className:"fc-event-title fc-sticky"},e.event.title||l(u,null,""))))}var To=function(e){return l(fa.Consumer,null,(function(t){var n=t.options,i={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return l(Ia,{hookProps:i,classNames:n.nowIndicatorClassNames,content:n.nowIndicatorContent,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},e.children)}))},xo=Et({day:"numeric"}),Do=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.context,i=n.options,a=Eo({date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,showDayNumber:t.showDayNumber,extraProps:t.extraHookProps,viewApi:n.viewApi,dateEnv:n.dateEnv});return l(La,{hookProps:a,content:i.dayCellContent,defaultContent:t.defaultContent},t.children)},t}(ga);function Eo(e){var t=e.date,n=e.dateEnv,i=Vi(t,e.todayRange,null,e.dateProfile);return r(r(r({date:n.toDate(t),view:e.viewApi},i),{dayNumberText:e.showDayNumber?n.format(t,xo):""}),e.extraProps)}var Oo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refineHookProps=st(Eo),t.normalizeClassNames=ja(),t}return a(t,e),t.prototype.render=function(){var e=this,t=e.props,n=e.context,i=n.options,a=this.refineHookProps({date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,showDayNumber:t.showDayNumber,extraProps:t.extraHookProps,viewApi:n.viewApi,dateEnv:n.dateEnv}),r=Ui(a,n.theme).concat(a.isDisabled?[]:this.normalizeClassNames(i.dayCellClassNames,a)),s=a.isDisabled?{}:{"data-date":tt(t.date)};return l(Aa,{hookProps:a,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount,elRef:t.elRef},(function(e){return t.children(e,r,s,a.isDisabled)}))},t}(ga);function Io(e){return l("div",{className:"fc-"+e})}var Mo=function(e){return l(So,{defaultContent:Lo,seg:e.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},(function(e,t,n,i,a){return l("div",{ref:e,className:["fc-bg-event"].concat(t).join(" "),style:{backgroundColor:a.backgroundColor}},i)}))};function Lo(e){var t=e.event.title;return t&&l("div",{className:"fc-event-title"},e.event.title)}var Ro=function(e){return l(fa.Consumer,null,(function(t){var n=t.dateEnv,i=t.options,a=e.date,r=i.weekNumberFormat||e.defaultFormat,s=n.computeWeekNumber(a),o=n.format(a,r),c={num:s,text:o,date:a};return l(Ia,{hookProps:c,classNames:i.weekNumberClassNames,content:i.weekNumberContent,defaultContent:Ao,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount},e.children)}))};function Ao(e){return e.text}var jo=10,Po=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={titleId:D()},t.handleRootEl=function(e){t.rootEl=e,t.props.elRef&&wa(t.props.elRef,e)},t.handleDocumentMouseDown=function(e){var n=_(e);t.rootEl.contains(n)||t.handleCloseClick()},t.handleDocumentKeyDown=function(e){"Escape"===e.key&&t.handleCloseClick()},t.handleCloseClick=function(){var e=t.props.onClose;e&&e()},t}return a(t,e),t.prototype.render=function(){var e=this.context,t=e.theme,n=e.options,i=this,a=i.props,s=i.state,o=["fc-popover",t.getClass("popover")].concat(a.extraClassNames||[]);return h(l("div",r({id:a.id,className:o.join(" "),"aria-labelledby":s.titleId},a.extraAttrs,{ref:this.handleRootEl}),l("div",{className:"fc-popover-header "+t.getClass("popoverHeader")},l("span",{className:"fc-popover-title",id:s.titleId},a.title),l("span",{className:"fc-popover-close "+t.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),l("div",{className:"fc-popover-body "+t.getClass("popoverContent")},a.children)),a.parentEl)},t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)},t.prototype.updateSize=function(){var e=this.context.isRtl,t=this.props,n=t.alignmentEl,i=t.alignGridTop,a=this.rootEl,r=na(n);if(r){var s=a.getBoundingClientRect(),o=i?y(n,".fc-scrollgrid").getBoundingClientRect().top:r.top,l=e?r.right-s.width:r.left;o=Math.max(o,jo),l=Math.min(l,document.documentElement.clientWidth-jo-s.width),l=Math.max(l,jo);var c=a.offsetParent.getBoundingClientRect();S(a,{top:o-c.top,left:l-c.left})}},t}(ga),No=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRootEl=function(e){t.rootEl=e,e?t.context.registerInteractiveComponent(t,{el:e,useEventCenter:!1}):t.context.unregisterInteractiveComponent(t)},t}return a(t,e),t.prototype.render=function(){var e=this.context,t=e.options,n=e.dateEnv,i=this.props,a=i.startDate,r=i.todayRange,s=i.dateProfile,o=n.format(a,t.dayPopoverFormat);return l(Oo,{date:a,dateProfile:s,todayRange:r,elRef:this.handleRootEl},(function(e,t,n){return l(Po,{elRef:e,id:i.id,title:o,extraClassNames:["fc-more-popover"].concat(t),extraAttrs:n,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},l(Do,{date:a,dateProfile:s,todayRange:r},(function(e,t){return t&&l("div",{className:"fc-more-popover-misc",ref:e},t)})),i.children)}))},t.prototype.queryHit=function(e,t,n,i){var a=this,s=a.rootEl,o=a.props;return e>=0&&e<n&&t>=0&&t<i?{dateProfile:o.dateProfile,dateSpan:r({allDay:!0,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:n,bottom:i},layer:1}:null},t}(Ca),Bo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.linkElRef=d(),t.state={isPopoverOpen:!1,popoverId:D()},t.handleClick=function(e){var n=t,i=n.props,a=n.context,r=a.options.moreLinkClick,s=Fo(i).start;function o(e){var t=e.eventRange,n=t.def,i=t.instance,r=t.range;return{event:new ci(a,n,i),start:a.dateEnv.toDate(r.start),end:a.dateEnv.toDate(r.end),isStart:e.isStart,isEnd:e.isEnd}}"function"===typeof r&&(r=r({date:s,allDay:Boolean(i.allDayDate),allSegs:i.allSegs.map(o),hiddenSegs:i.hiddenSegs.map(o),jsEvent:e,view:a.viewApi})),r&&"popover"!==r?"string"===typeof r&&a.calendarApi.zoomTo(s,r):t.setState({isPopoverOpen:!0})},t.handlePopoverClose=function(){t.setState({isPopoverOpen:!1})},t}return a(t,e),t.prototype.render=function(){var e=this,t=this,n=t.props,i=t.state;return l(fa.Consumer,null,(function(t){var a=t.viewApi,r=t.options,s=t.calendarApi,o=r.moreLinkText,c=n.moreCnt,d=Fo(n),p="function"===typeof o?o.call(s,c):"+"+c+" "+o,h=Z(r.moreLinkHint,[c],p),f={num:c,shortText:"+"+c,text:p,view:a};return l(u,null,Boolean(n.moreCnt)&&l(Ia,{elRef:e.linkElRef,hookProps:f,classNames:r.moreLinkClassNames,content:r.moreLinkContent,defaultContent:n.defaultContent||Ho,didMount:r.moreLinkDidMount,willUnmount:r.moreLinkWillUnmount},(function(t,a,r,s){return n.children(t,["fc-more-link"].concat(a),r,s,e.handleClick,h,i.isPopoverOpen,i.isPopoverOpen?i.popoverId:"")})),i.isPopoverOpen&&l(No,{id:i.popoverId,startDate:d.start,endDate:d.end,dateProfile:n.dateProfile,todayRange:n.todayRange,extraDateSpan:n.extraDateSpan,parentEl:e.parentEl,alignmentEl:n.alignmentElRef.current,alignGridTop:n.alignGridTop,onClose:e.handlePopoverClose},n.popoverContent()))}))},t.prototype.componentDidMount=function(){this.updateParentEl()},t.prototype.componentDidUpdate=function(){this.updateParentEl()},t.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=y(this.linkElRef.current,".fc-view-harness"))},t}(ga);function Ho(e){return e.text}function Fo(e){if(e.allDayDate)return{start:e.allDayDate,end:te(e.allDayDate,1)};var t=e.hiddenSegs;return{start:Vo(t),end:zo(t)}}function Vo(e){return e.reduce(Uo).eventRange.range.start}function Uo(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function zo(e){return e.reduce(Yo).eventRange.range.end}function Yo(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}},d82e:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{position:"relative"}},[n("div",{staticClass:"nav-back"},[n("custom-link-text",{attrs:{text:"Back"},on:{click:e.handleBack},scopedSlots:e._u([{key:"prefix",fn:function(){return[n("a-icon",{attrs:{type:"left"}})]},proxy:!0}])})],1),n("my-vertical-steps",{ref:"steps-nav",attrs:{"allow-switch":!1,steps:e.ScheduleStepsFilter,"step-index":e.currentActiveStepIndex},on:{"step-change":e.handleStepChange}}),e.needClose?n("div",{staticClass:"close"},[n("a-icon",{attrs:{type:"close"},on:{click:e.handleBack}})],1):e._e(),n("div",{staticClass:"import-content"},[n("content-select",{directives:[{name:"show",rawName:"v-show",value:"unit"===e.ScheduleStepsFilter[e.currentActiveStepIndex].type,expression:"'unit' === ScheduleStepsFilter[currentActiveStepIndex].type"}],attrs:{type:e.typeMap["unit-plan"]},on:{choose:function(t){return e.handleChoose(t,"unit")},cancel:e.handleBack}}),n("content-select",{directives:[{name:"show",rawName:"v-show",value:"task"===e.ScheduleStepsFilter[e.currentActiveStepIndex].type,expression:"'task' === ScheduleStepsFilter[currentActiveStepIndex].type"}],attrs:{type:e.typeMap.task,datas:e.importDatas,"need-filter":e.importType===e.typeMap["task"],"back-txt":(e.currentActiveStepIndex,"Discard")},on:{choose:function(t){return e.handleChoose(t,"task")},cancel:e.handleCloseImport}}),n("content-select",{directives:[{name:"show",rawName:"v-show",value:"pd"===e.ScheduleStepsFilter[e.currentActiveStepIndex].type,expression:"'pd' === ScheduleStepsFilter[currentActiveStepIndex].type"}],attrs:{type:e.typeMap.pd,datas:e.importDatas,"need-filter":e.importType===e.typeMap["pd"],"back-txt":(e.currentActiveStepIndex,"Discard")},on:{choose:function(t){return e.handleChoose(t,"pd")},cancel:e.handleCloseImport}})],1),e.selectSessionUnitVisible?n("select-session-unit",{attrs:{list:e.associateUnitList},on:{back:e.handleCancelUnit,select:e.handleSelectUnit}}):e._e()],1)},a=[],r=n("1da1"),s=n("5530"),o=(n("96cf"),n("a9e3"),n("4de4"),n("159b"),n("7db0"),n("b0c0"),n("81d3")),l=n("c55e"),c=n("ea5a"),d=n("5907"),u=n("33b9"),p=n("bf92"),h=n("076d"),f=n("4357"),v=n("9afb"),m=n("5994"),g=n("8a30"),y=n("3f76"),b=n("f93e"),w=n("5225"),C=n("8ded"),S=n.n(C),k=n("9fb0"),_=n("2f62"),T=n("c1df"),x=n.n(T),D={name:"SessionImportForCalendar",mixins:[g["a"]],components:{ContentSelect:o["a"],MyVerticalSteps:l["a"],SelectParticipant:c["a"],ScheduleDate:d["a"],SchedulePayInfo:u["a"],SelectSessionUnit:h["a"],SchoolSchedule:p["a"],CustomLinkText:f["a"]},props:{type:{type:Number,default:y["e"].task},startDate:{type:String,default:null},endDate:{type:String,default:null},needClose:{type:Boolean,default:!1},classId:{type:String,default:""},source:{type:String,default:""},searchType:{type:[Number,String],default:b["d"].MY.value}},watch:{type:function(e){this.importType=e},classId:function(e){this.currentClass=e},startDate:{handler:function(e){this.importModel.startDate=e},immediate:!0},endDate:{handler:function(e){this.importModel.endDate=e},immediate:!0},searchType:{handler:function(e){this.typeMode=e},immediate:!0}},data:function(){return{typeMap:y["e"],USER_MODE:b["Y"],CALENDAR_QUERY_TYPE:b["d"],currentClass:this.classId,typeMode:this.searchType,ScheduleSteps:[{id:"1",name:"Select Unit",description:null,filter:y["e"]["unit-plan"],type:"unit"},{id:"2",name:"Select Task",description:null,type:"task"}],currentActiveStepIndex:0,selectSessionUnitVisible:!1,importLoading:!1,importType:this.type,importDatas:[],associateUnitList:[],classList:[],scheduleReq:{classIds:[],contentId:null,endDate:null,openSession:!1,planId:null,register:{discountInfo:[],maxParticipants:0,price:0,registerBefore:null,title:""},selectStudents:[],sessionType:0,startDate:null,teachSessionNow:0,password:!0,waitingRoom:!0,workshopType:0,zoom:0},importModel:{startDate:null,endDate:null,task:null,unit:null,pd:null},calendarSearchFilters:[],calendarSearchType:b["d"].CLASS.value}},computed:Object(s["a"])(Object(s["a"])({},Object(_["e"])({userMode:function(e){return e.app.userMode},currentSchool:function(e){return e.user.currentSchool}})),{},{ScheduleStepsFilter:function(){var e=this;return this.importType===y["e"].pd?[{id:"3",name:"Select PD",description:null,filter:y["e"]["pd"],type:"pd"}]:this.ScheduleSteps.filter((function(t){return!t.filter||t.filter===e.importType}))},defaultDate:function(){return this.importModel.startDate&&this.importModel.endDate?[x()(this.importModel.startDate),x()(this.importModel.endDate)]:null}}),created:function(){this.initData()},methods:{initData:function(){},getAssociate:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a,r,s,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n.importLoading=!0,i.next=3,Object(v["GetAssociate"])({id:e,type:t,published:0});case 3:return a=i.sent,a.result.owner.forEach((function(e){var t=a.result.groups.find((function(t){return t.groupName===e.group}));t&&(e.groupId=t.id,t.contents=JSON.parse(JSON.stringify(e.contents)))})),r=a.result.owner,s=[],o=t===y["e"].task?y["e"]["unit-plan"]:y["e"].task,r.forEach((function(e){e.contents.forEach((function(e){e.type===o&&s.push(e)}))})),n.importLoading=!1,i.abrupt("return",s);case 11:case"end":return i.stop()}}),i)})))()},handleStepChange:function(e){this.currentActiveStepIndex=e.index},handleCloseImport:function(){this.$emit("cancel")},handleBack:function(e){0===this.currentActiveStepIndex?this.handleCloseImport():this.$refs["steps-nav"].prevStep()},handleChoose:function(e,t){var n=this,i=[];e&&t?(e.type!==y["e"].task&&e.type!==y["e"].pd||(this.scheduleReq.contentId=e.id,this.scheduleReq.register.title=e.name),this.importModel[t]=Object(s["a"])({},e),"pd"===t&&(this.currentActiveStepIndex===this.ScheduleStepsFilter.length-1?this.goCreateSession():this.$refs["steps-nav"].nextStep()),this.getAssociate(e.id,e.type).then((function(t){n.importType===e.type&&(i=t.filter((function(e){return e.owner.email===n.$store.getters.email}))),n.importType===y["e"]["unit-plan"]&&y["e"]["unit-plan"]===e.type&&(n.importDatas=t.filter((function(e){return e.owner.email===n.$store.getters.email})),n.scheduleReq.planId=e.id),n.importType===y["e"].task?i.length>0?(n.associateUnitList=i,n.selectSessionUnitVisible=!0):(0===i.length||(n.scheduleReq.planId=i[0].id),n.currentActiveStepIndex===n.ScheduleStepsFilter.length-1?n.goCreateSession():n.$refs["steps-nav"].nextStep()):n.currentActiveStepIndex===n.ScheduleStepsFilter.length-1?n.goCreateSession():n.$refs["steps-nav"].nextStep()}))):this.currentActiveStepIndex===this.ScheduleStepsFilter.length-1?this.goCreateSession():this.$refs["steps-nav"].nextStep()},goCreateSession:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("quick"!==e.source){t.next=11;break}return e.scheduleReq.classIds=[e.currentClass],e.scheduleReq.startDate=x()().utc().format("YYYY-MM-DD HH:mm:ss"),e.scheduleReq.endDate=x()().add(40,"m").utc().format("YYYY-MM-DD HH:mm:ss"),t.next=6,e.createSession(!0);case 6:return n=t.sent,e.$message.success("The scheduled tiem above will be cleard by starting the session now."),i=w["a"]+"t/"+n[0].classId+"?token="+S.a.get(k["a"]),window.location.href=i,t.abrupt("return");case 11:a="/teacher/schedule-session/"+e.scheduleReq.contentId+"/"+y["e"].task,e.importType===y["e"].pd&&(a="/teacher/schedule-workshop/"+e.scheduleReq.contentId+"/"+e.importType),e.$router.push({path:a,query:{startDate:e.importModel.startDate,endDate:e.importModel.endDate,planId:e.scheduleReq.planId,classId:e.currentClass||"",source:e.source}});case 14:case"end":return t.stop()}}),t)})))()},handleCancelUnit:function(){this.selectSessionUnitVisible=!1},handleSelectUnit:function(e){this.scheduleReq.planId=e.id,this.selectSessionUnitVisible=!1,this.currentActiveStepIndex===this.ScheduleStepsFilter.length-1?this.goCreateSession():this.$refs["steps-nav"].nextStep()},createSession:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.scheduleReq.startDate&&t.scheduleReq.endDate){n.next=3;break}return t.$message.warn("Please select Schedule time!"),n.abrupt("return");case 3:return t.$logger.info("try createSession scheduleReq",t.scheduleReq),t.importLoading=!0,n.prev=5,n.next=8,Object(m["a"])(t.scheduleReq);case 8:if(i=n.sent,t.$logger.info("save scheduleReq",i),!i.result||!i.success||0!==i.code){n.next=19;break}if(t.$message.success("Schedule session successfully"),e){n.next=16;break}t.$emit("ok"),n.next=17;break;case 16:return n.abrupt("return",i.result);case 17:n.next=20;break;case 19:t.$confirm({title:"Warn",content:"Schedule session failed."+i.message+". Please try again.",centered:!0});case 20:n.next=25;break;case 22:n.prev=22,n.t0=n["catch"](5),t.$confirm({title:"Error",content:"Schedule session error."+n.t0.message+". Please try again.",centered:!0});case 25:return n.prev=25,t.importLoading=!1,n.finish(25);case 28:return n.abrupt("return",null);case 29:case"end":return n.stop()}}),n,null,[[5,22,25,28]])})))()}}},E=D,O=(n("aafd"),n("0c7c")),I=Object(O["a"])(E,i,a,!1,null,"00032d27",null);t["a"]=I.exports},d980:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"ratePercentCon",staticClass:"rate-percent-con"},[n("div",{staticClass:"rate-percent-wrap"},[n("div",{ref:"ratePercentSum",staticClass:"rate-percent__sum"},[n("div",{staticClass:"sum-title"},[e._v(e._s(e._f("percentFormat")(e.percents.avgReviewsScore)))]),n("div",{staticClass:"sum-desc"},[n("a-rate",{attrs:{defaultValue:e.percents.avgReviewsScore,"allow-half":"",disabled:""}})],1)]),n("div",{staticClass:"rate-percent__detail",attrs:{direction:"vertical"}},e._l(e.percents.reviewsScoreStatDetail.concat().reverse(),(function(t,i){return n("a-space",{key:"percent_"+i,staticClass:"detail-bar",attrs:{align:"center"}},[n("a-progress",{style:{width:e.progressWidth},attrs:{strokeLinecap:"square",strokeColor:"#FFBB00",percent:t.reviewsScoreRate,showInfo:!1}}),n("a-rate",{attrs:{defaultValue:t.reviewsScore,disabled:""}}),n("span",[e._v(e._s(t.reviewsScoreRate)+"%")])],1)})),1)])])},a=[],r=n("5530"),s=(n("b4ab"),{name:"RateByPercent",props:{rates:{type:Object,default:function(){return{avgReviewsScore:0,reviewsScoreStatDetail:[{reviewsScore:1,reviewsScoreCount:0,reviewsScoreRate:0},{reviewsScore:2,reviewsScoreCount:0,reviewsScoreRate:0},{reviewsScore:3,reviewsScoreCount:0,reviewsScoreRate:0},{reviewsScore:4,reviewsScoreCount:0,reviewsScoreRate:0},{reviewsScore:5,reviewsScoreCount:0,reviewsScoreRate:0}]}}}},watch:{rates:function(e){this.percents=Object(r["a"])({},e)}},data:function(){return{percents:this.rates,progressWidth:"135px"}},mounted:function(){if(this.$refs.ratePercentCon&&this.$refs.ratePercentSum){var e=this.$refs.ratePercentCon.getBoundingClientRect().width,t=this.$refs.ratePercentSum.getBoundingClientRect().width;this.progressWidth=e-40-t-45-200+"px"}}}),o=s,l=n("0c7c"),c=Object(l["a"])(o,i,a,!1,null,null,null);t["a"]=c.exports},da06:function(e,t,n){var i=n("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#fff;",d:"M30.273,36.273a6,6,0,1,1,6-6,6.007,6.007,0,0,1-6,6m0-13a7,7,0,1,0,7,7,7,7,0,0,0-7-7m0,9.536a.441.441,0,1,0,.441.44.441.441,0,0,0-.441-.44m.481-5.736a2.264,2.264,0,0,0-2.743,2.212.5.5,0,1,0,1,0A1.263,1.263,0,1,1,30.7,30.473a1.391,1.391,0,0,0-.925,1.307v.147a.5.5,0,0,0,1,0v-.153a.383.383,0,0,1,.262-.36,2.263,2.263,0,0,0-.281-4.342",transform:"translate(-23.273 -23.273)"}}]})}},dd6e:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"reviews-wrapper"},[e.canList||e.showCreate||e.canEdit?i("div",{staticClass:"reviews-title"},[i("h4",[e._v("Reviews")])]):e._e(),i("review-edit",{directives:[{name:"show",rawName:"v-show",value:e.canEdit,expression:"canEdit"}],ref:"myReview",attrs:{role:e.role,footerBottom:!e.canList&&e.showCreate,canCreate:e.showCreate,myReviews:e.myReviews},on:{submit:e.handleSaveMyReview}}),e.needSearch&&e.canList?i("div",{staticClass:"reviews-search"},[i("div",{staticClass:"my-search"},[i("a-input-search",{attrs:{placeholder:"Search",allowClear:!0},on:{search:e.triggerSearch,pressEnter:e.triggerSearch},model:{value:e.reviewsNotes,callback:function(t){e.reviewsNotes=t},expression:"reviewsNotes"}})],1),i("a-select",{attrs:{getPopupContainer:function(e){return e.parentElement}},on:{change:e.triggerChangeRate},model:{value:e.reviewsScore,callback:function(t){e.reviewsScore=t},expression:"reviewsScore"}},[i("a-select-option",{attrs:{value:""}},[e._v(" All rating ")]),e._l([5,4,3,2,1],(function(t){return i("a-select-option",{key:"rate_choose_"+t,attrs:{value:t}},[e._v(" "+e._s(t)+" star ")])}))],2)],1):e._e(),e.canList?i("div",{staticClass:"reviews-content"},[i("a-spin",{attrs:{spinning:e.delLoading}},[e.myReviews?i("div",{staticClass:"reviews-content-detail reviews-me"},[i("div",{staticClass:"content-detail__avatar"},[e.myReviews.avatar?i("img",{attrs:{src:e.myReviews.avatar}}):i("img",{attrs:{src:n("4992")}})]),i("div",{staticClass:"content-detail__rate"},[i("review-score",{attrs:{review:e.myReviews}}),i("div",{staticClass:"content-detail__tag"},[i("a-tooltip",{attrs:{title:"Distance learning"}},[i("a-tag",{directives:[{name:"show",rawName:"v-show",value:e.myReviews.learningDistance,expression:"myReviews.learningDistance"}],attrs:{color:"#f50"}},[e._v(" Distance ")])],1),i("a-tooltip",{attrs:{title:"At home learning"}},[i("a-tag",{directives:[{name:"show",rawName:"v-show",value:e.myReviews.learningHome,expression:"myReviews.learningHome"}],attrs:{color:"#2db7f5"}},[e._v(" At home ")])],1),i("a-tooltip",{attrs:{title:"In-class learning"}},[i("a-tag",{directives:[{name:"show",rawName:"v-show",value:e.myReviews.learningClass,expression:"myReviews.learningClass"}],attrs:{color:"#87d068"}},[e._v(" In-class ")])],1)],1)],1),i("div",[i("div",{staticClass:"content-detail__title"},[i("div",{staticClass:"title-info"},[i("div",{staticClass:"info-author"},[e._v(" "+e._s(e.myReviews.nickName)+" ")]),i("div",{staticClass:"info-time"},[e._v(" "+e._s(e._f("dayjs")(e.myReviews.createTime))+" ")])])]),i("div",{staticClass:"content-detail__review"},[i("label",[e._v(" "+e._s(e.myReviews.reviewsNotes)+" ")])])]),i("a-space",{directives:[{name:"show",rawName:"v-show",value:e.canEdit,expression:"canEdit"}],staticClass:"content-detail__edit"},[i("a-button",{attrs:{type:"link"},on:{click:function(){return e.triggerEdit(!0)}}},[e._v("Edit")]),i("a-button",{attrs:{type:"link"},on:{click:e.handleDelMyReview}},[e._v("Delete")])],1)],1):e._e()]),i("a-skeleton",{attrs:{loading:e.loading,active:""}},[e.reviewsList.length>0?i("a-list",{attrs:{"item-layout":"vertical",pagination:e.pagination,"data-source":e.reviewsList},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("a-list-item",{key:"item.id"},[i("div",{staticClass:"reviews-content-detail"},[i("div",{staticClass:"content-detail__avatar"},[t.avatar?i("img",{attrs:{src:t.avatar}}):i("img",{attrs:{src:n("4992")}})]),i("div",{staticClass:"content-detail__rate"},[i("review-score",{attrs:{review:t}}),i("div",{staticClass:"content-detail__tag"},[i("a-tooltip",{attrs:{title:"Distance learning"}},[i("a-tag",{directives:[{name:"show",rawName:"v-show",value:t.learningDistance,expression:"item.learningDistance"}],attrs:{color:"#f50"}},[e._v(" Distance ")])],1),i("a-tooltip",{attrs:{title:"At home learning"}},[i("a-tag",{directives:[{name:"show",rawName:"v-show",value:t.learningHome,expression:"item.learningHome"}],attrs:{color:"#2db7f5"}},[e._v(" At home ")])],1),i("a-tooltip",{attrs:{title:"In-class learning"}},[i("a-tag",{directives:[{name:"show",rawName:"v-show",value:t.learningClass,expression:"item.learningClass"}],attrs:{color:"#87d068"}},[e._v(" In-class ")])],1)],1)],1),i("div",[i("div",{staticClass:"content-detail__title"},[i("div",{staticClass:"title-info"},[i("div",{staticClass:"info-author"},[e._v(" "+e._s(t.nickName)+" ")]),i("div",{staticClass:"info-time"},[e._v(" "+e._s(e._f("dayjs")(t.createTime))+" ")])])]),i("div",{staticClass:"content-detail__review"},[i("label",[e._v(" "+e._s(t.reviewsNotes)+" ")])])])])])}}],null,!1,2711396856)}):e._e(),e.myReviews||0!==e.reviewsList.length?e._e():i("a-empty",{attrs:{description:"No reviews yet"}})],1)],1):e._e()],1)},a=[],r=n("5530"),s=n("53ca"),o=(n("a9e3"),n("d3b7"),n("7db0"),n("823b")),l=n("f93e"),c=n("ed18"),d=n("abb8"),u={name:"ReviewsPreview",components:{ReviewEdit:c["a"],ReviewScore:d["a"]},props:{id:{type:[String,Number],required:!0},role:{type:String,default:"student"},save:{type:Function,default:function(){}},list:{type:Function,required:!0},del:{type:Function,default:function(){}},myReview:{type:Function,default:function(){}},canEdit:{type:Boolean,default:!0},canCreate:{type:Boolean,default:!0},canList:{type:Boolean,default:!0},needSearch:{type:Boolean,default:!0}},watch:{id:{handler:function(e){this.currentId=e,this.loadData()},immediate:!0},canCreate:function(e){this.showCreate=e}},data:function(){var e=this;return{loading:!1,delLoading:!1,subLoading:!1,showCreate:this.canCreate,RATE_TOOLTIPS:l["y"],isEdit:!1,myReviews:null,reviewsList:[],reviewsNotes:"",reviewsScore:"",currentId:this.id,pagination:{onChange:function(t){e.pageNo=t,e.loadReviewList()},showTotal:function(e){return"Total ".concat(e," items")},total:0,pageSize:10,size:"small"},pageNo:1,mockData:{reviewsLabel:1,reviewsNotes:"123213123",reviewsScore:1,overall:1,effectiveness:5,quality:4,studentsEngagement:1,createBy:"jacob",id:123213213,createTime:"123123"}}},mounted:function(){this.loadData()},methods:{justifyPromise:function(e){return("object"===Object(s["a"])(e)||"function"===typeof e)&&"function"===typeof e.then},loadData:function(){this.loadMyReview(),this.loadReviewList()},loadMyReview:function(){var e=this,t=this.myReview({taskId:this.currentId,purchasesId:this.currentId});this.justifyPromise(t)&&(this.$refs.myReview&&this.$refs.myReview.triggerLoading(!0),this.delLoading=!0,t.then((function(t){t.success&&t.result?e.myReviews=Object(r["a"])(Object(r["a"])({},t.result),{},{learningClass:Boolean(t.result.learningClass),learningDistance:Boolean(t.result.learningDistance),learningHome:Boolean(t.result.learningHome),updatedMsg:Boolean(t.result.updatedMsg)}):e.myReviews=null})).finally((function(){e.$refs.myReview&&e.$refs.myReview.triggerLoading(!1),e.delLoading=!1})))},loadReviewList:function(){var e=this,t=this.list({reviewsNotes:this.reviewsNotes,reviewsScore:this.reviewsScore,pageNo:this.pageNo,pageSize:this.pagination.pageSize,taskId:this.currentId,excludeSelf:1,overall:this.reviewsScore,searchKey:this.reviewsNotes,purchasesId:this.currentId});this.justifyPromise(t)&&(this.loading=!0,t.then((function(t){o["info"]("loadReviewList",t),t.result&&t.result.records&&t.result.records.length?(e.reviewsList=t.result.records,e.pagination.total=t.result.total):(e.reviewsList=[],e.pagination.total=0),o["info"]("reviewsList",e.reviewsList)})).finally((function(){e.loading=!1})))},handleDelMyReview:function(){var e=this;this.myReviews&&this.$confirm({title:"Confirm delete",content:"Are you sure to delete your review ?",centered:!0,onOk:function(){var t=e.del({id:e.myReviews.id});e.justifyPromise(t)&&(e.delLoading=!0,t.then((function(t){e.$logger.info("del response",t),t.success&&(e.$message.success("Del successfully"),e.myReviews=null,e.$emit("update"))})).finally((function(){e.delLoading=!1})))}})},handleSaveMyReview:function(e){var t=this;if("student"!==this.role||this.myReviews){var n=this.save(Object(r["a"])({taskId:this.currentId,purchasesId:this.currentId,id:this.myReviews&&this.myReviews.id?this.myReviews.id:null},e));this.justifyPromise(n)&&(this.$refs.myReview&&this.$refs.myReview.triggerLoading(!0),n.then((function(e){if(e.success){if(t.$message.success("Submitted successfully"),t.myReviews=Object(r["a"])(Object(r["a"])(Object(r["a"])({},t.myReviews),e.result),{},{learningClass:Boolean(e.result.learningClass),learningDistance:Boolean(e.result.learningDistance),learningHome:Boolean(e.result.learningHome),updatedMsg:Boolean(e.result.updatedMsg)}),t.myReviews&&t.myReviews.id){var n=t.reviewsList.find((function(e){return e.id===t.myReviews.id}));n&&(n=Object(r["a"])(Object(r["a"])({},n),e.result))}t.$refs.myReview&&t.$refs.myReview.triggerIsEdit(!1),t.$emit("update")}})).finally((function(){t.$refs.myReview&&t.$refs.myReview.triggerLoading(!1)})))}},triggerEdit:function(e){this.$refs.myReview&&this.$refs.myReview.triggerEdit(e)},triggerSearch:function(){this.loadReviewList()},triggerChangeRate:function(e){this.loadReviewList()}}},p=u,h=(n("6f26"),n("0c7c")),f=Object(h["a"])(p,i,a,!1,null,"807d777a",null);t["a"]=f.exports},de1a:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABL5JREFUWEetV11oHFUU/s7dieQh0GzzswvmYdudiEKlBQ0oJrjQhhpIdGdVaJGCog8RLe1DHyoqFSxYkGJFwYqKLRZSMGbXpEjElKRYaB8CBlowmNk04A+72TZJMUrC7twjd5LdnZ39T5y3uXPvOd/5+b57hvA/PK3B8GOaoEMAngDQAVAAjDUGm8Q0DcZwYn7pR2Aq43ZH2/Hf8lD/g5psOE9E/dXt8Cxb/GZyPnbVuXfLANp3GXvJQ+NE8Fd3vrGDwRlAnEjOffdx9syWALTrzx0k8gwT0FSrc+c+CQwuzo18rtbqBuDbHd4PFTlIcxq1o2NclsxXifkPQOgk6CCI+9177f5g7krGo7frAqCazSPElDtyZphgNpRBd0bags/qHtKGQHi8ADAjljRHjLoA+HRjzN1wzDwjM+t9qYUfEuXK0dYWavLs2DlZBELyo/UB6DSGCDbdNh++bq0s96VSU6vVeqElMPBwQ0PDr4Vlw+m6ANjpFJ6vmbEHoAvy/tK7hc5Dmj/o/YQJh0A0LdNrR5yZ8XVGfiLgQA4+42ZdACpHGdLade+QIHohu08CFxbnRl7Jvvs6I+8T8E4eAK+UBxAINbY80NRy77crf1ZLL1DsfJP44wlzpC973q9HToHwXlUhUjwXJC4B1MqQE8m5lb5SMrphqLRzRUspMZCKR8dzAILGZxA06ChBoigD7Z3h5wl0uYC7kl9OxKMXizNRwTnLwynz++H8mZDm1713QNSR72FWlM4/JZ0DsNh6sdBY+cjVFwYdd8qtWvPrxhsg+rQgCOaTOQCtuvG0hzBRpHDMU0lzubewBGVqXsZ5ezDyFAkVrUM9GWtWZm2XDcAfCAdYEzeKL5ZinitRETt2fkOEsLskpSLfcI7xYvXkM0kz+pYNwFckMHYiS4hMSPN3eicB6t6m8xl5f7lHaQj5gsYeEnTLZXDWWlnqcouMm+e5bi5Vc5XVBnGrxL2RkJzpScVHTXWe/Hr4FEgUcDNjZbruzo9OOzu4Hud2VnXjAyI66QyMgVVwujdpjt3MrpNPj6jaq1HKfhiYSM6N9G7H+UZZw8cI4pyT80DacDrfzIDxewE3pTyaiMdydPEFjbdJ0Olaal6wJxBq9GneL4jQzSAzk04fvbcwNuu2Q/7OCDsXpZTGYjwWy6759ci3IOT0vRzP3YZrfSefbiwTUXM+VfK1pBn7KvveHgyHhRDRSg3XHAg3N2q0V1rW7OKd0WStzu0S+HTjFyLalwfAl5Jm9IjTSNtuo9sjaD8gryXM2JTzm+K5EBzbuDewKtOyJ7UQm6kVhGrCj4hwPB+hukSsR7I0qWSopMhIPp+IR1+vGYAdnYd+LqCLGrM2haKcoQ3ppitunkuJE4vxkbM1A1Ab/boxCaKQ69AsmAcTZvSau7v9mvcYkxqnCidjACUErDIUW4rbAuF9Hk3cAKGxiG7Mt4lomhkrBO5gomdK/w/wgpVef7LScFoKSu429OmRV4nwZa2pc2fLkpmBWvqmSAecCwoECOfq+eNRyvnvP+nDf/81dncr4IsmIjU+a5r2YbUfTmZ7oDyTMJfPlh/XqkMqO5SqWxKElwh0gMG6LVbMKkr19zNuZdYv1lvvUnD+A2xgPb8puyDSAAAAAElFTkSuQmCC"},dec2:function(e,t,n){"use strict";n("8757")},dfe9:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEcAAABdCAYAAAD3/XviAAAAAXNSR0IArs4c6QAACWlJREFUeF7tnV1sFNcVx///OzNrm48QGhBfNt4ZTA1LGoiAhiQtH6GKkqeqTUVe0qat1KpS1KgPVZUHmqhVVbVS1fahat76VFVpo/StSvOQJrRQCOBAANsYvMPaLB/my2Abe7/mnuoudmMwNruzH4ZoRvKT7z3n3N+cc+6Z8Z1j4j68PgDsJa67giLxhWNjh5cODNyshplJz1uQCQJPkZuF3AlyHUTiIG0AFynyzpwg+EVrf/+g0cdqKK2GjNNLly7ONjW5FvBlTW4j0C5AswLekyB4JdHXd6FcPafb2hoKWrfaIo8F5DMa2AjSA7BgYu0U+ZQBqQm8dSGZ/O4OoDBrcE4uWjQ/P3++ayv1uGi9g+QXRMQj2SSkMsYbw4XU0PqIo/UPVvf1HZkJkPG4xZ63XETabfJLEHkKQJuQy0hSAHUbjLsIE6CgguD5NX19H9QNzgkg1tDS0pJ3nDUAvgJgE27BWCikRePFIgbK1OsWoLNCvvpX33/3Z4CeGNSzfPmifGOja2v9tFZqK4B2AM0AGjAJcjleJ8AfEr7/o7rA6Y7HX9ZKvUhgFYAVBCwDZMI7SjFczI0XuQqtf1VQ6n1bZIOQ2wk8CsAjMEdIe0bIpSgCIEBnwvfX1xyO8RjLdU+CXF68k9N5RwmGjwMaAzAI8nMUsYteV4HMu6k1oRWQq2sOpzMef0JZ1n8qgXLnAgyke+WOEljPOIRB8HLN4XR73i8B/KRSY+sxX4AxkH3QupMib9YUjtk9lrrucZCr67G4cnUUdyaRc0ImRWQPgUNOPu9fj8UuNzY2jtUUzvGWlk2W4+wzCbhcw2s1XkQGQKYAHBSR/Y7IqaFcLu0EwVi+uTm3saMj4PhuWDM4J+LxpZZSJpxerdVCS5ErIkMk+0F+AmAvgM5sNttXiMVGhrXObk+l8gSCu1YQpSgoZczJ9vb5uZs347bjbABpiq+E+SGwsJT51RojIlkDQ8geBewrBMGxxkIh2QBcG9A6g2XL8hs7Okz1K/fSGdpzTiQSMTU01GpZ1urAsrYSSGhgtTIwyCaIxIp1x+Ty/F7WhPi9ACYMLojIGZAf6ULhsG1Zp2ylLhZse6xgWdm3u7oKkwvHUtWUDEcAq6elZYm27TaL3CgiT2hTC5BLRGTOeEXqVLvmmGYhVzXQR6BDTO4gT2F09Kx2nOERrTNPptO56UKlVDBm3IxwuteseQT5fFy03iAiTymlXPMUK+S84jMQEKNIPZLtiABpiHQqcn9B625YVjJH3rCGh0dNIt3U0VG4VdxW77oNzqVEYt6FsbEVNvAYyU0A1pmSX4AFBOYCiAFwqqd+Wkl5Ac5R5DTIAxIEx5RSSa31ZcdxzOuLbFtvr/GOqsK405oinCPx+MMN5DcU+awAcQBLBJgHoBGk8Y6Swy8MOAG0AgY00K9EDmugQwdBErZ9FrncyBAwlk6nc7um2VXC6CxlDo23XMlkfg/yOQILRCRWj7pEyOtKJK1FjmrgkAJOkewriNxYPDo6kr4VKvlSFlGrMex03R+S/DmB+bVSMi53lCLntFI90PoQtO6ylPLhOFeU1sP1CpVy1sgu1z0wnl/KmVfKWJM3BihyRsiDKgiOCeATuChNTUPzRkZGm9Pp7EQ1WorAeo9hl+cNE2iqVLHJGwCumF1FiRwV8ghEegsiZ+eRg8OjoyPXBgay5vVjpbrqNZ/dnmeeM8ybszDXEMjzItIFkUMickqAPrGsq1mRIfPw9mhXVy6M4PthjoHzFwC7SjFGRDIgLyiR3gD42CK7JAj8guNcYiYzONe2R+OplAmVmm6xpdhajTHsdt3vgXzzbsLGS/NLIM9S5EhB5ChJXwfBeZKDix56aHjJsWOZalSj1VhMtWWwt7m5LReLdU7avq+KyHkodVy0/sQyeQPog1LXGpS6fmPBgrHZ3mKrDWE6eTy8caMzb3DwnyBHApGjCjiZD4KUsu3LyGavmVBxU6lstUvzei2wEj3FyvekeSnV0DBqBcFVs6v8fWBgLMxTbCWG3I9zi3DeAFQEY+rtqekz0/3oDeXYVDac88uXzxm0bbccJQ/C2HX9/Z132lk2nB7XXa+V+t2DsOBybFybTD5TMZzueHwblHq/HMUPwti1vm+Oodx2le05EZwZbnUEJ4JTJBCF1bgjRDlnhoiI4ERwwhUOkedEnhN5TjgCkeeE4xblnMhzHmDPEWAYIgHIuazCiY0JeSTNGSFzCiTUNathVTw7DOwVYB9FciLSTPKrAB4JtZpbb/z3g9xTlAcsJfA1AIvDyJtdOMAVAC8xFjuSyWQCJbIwZlk/BfCtMIsBcEOAbzIW+8jIc5R6SAGvEfh+GHmzCgfAx2t8f8vkgwPdnvd1AH8LsxgROT7Q2rp5x4cf/v9v75W8TpltOHvW+v7OySAqWQyAf6/1/dtebfasXOlp2z4VBvZnDc4U2F2u20oyGcEBIjgzeEEEJ4ITJklEYTUjtSisorCKwmrq1lthERiFVRRWUVhFYTWTD1T7wTPKOVHOiXJOlHOinBPyTGCUkMtJoFGF/CmtyHMizwl3DjnynMhzIs+5uw9UsMNEYRWFVYiwEpG9iTNntk+G1+l5O017zTCPVua0RsL3t02ee9J124Wc8mlQKfJn+8/B3bZST7f19pqP/MV8Wzr3+vXvQOSPpRh/5xjT3eB6LrflyXR6sCgPcOasWvUCRf4cRt6swil+hi3yY0epd03fiqzWcUX+FsDjYRZj5CmtX7ct6x0jL5PPr6Rt/1oBW8LIm1U4xmDTh49AD8xhI9K04VwRZiETc8b7c3WPy1tGoCWsvFmHE9bwesyL4MxAOYJTazhdrruV5L/q4er10mEaUieSySknUcv+GK3Hdb+oyf/Wy/B66BHgfML3V96pq2w4Xa2ty2jbKdSnBV492EBEDibOnDFdMW+7yoZjWju86HnHCJh24Z+JS4DfJHz/tYrhGAGdnvcGyd21bpFXD/KmVsqL7FyfSh2oChzTFD5obDxUSdFVj4XfS8d4R+633/L9l+7W6KTssJpQ2O15LwD4E251nnzgrnEwSWj93NpUyvQtm3KFhmNyzy7XfUWRrwv58IMUYmbrpkgPyG+vTSY7pruzoeFMCDzuus8qcrcCNoO0JMS36nV0O/PvEcxbgfdUobC7vb/fn0l3xXCMcPM/XApa79Dk8wJ8nmStu1WWy9P0MBwWkX0i8o9LqVRHKf0K/wcLqpnVGapgDQAAAABJRU5ErkJggg=="},e11c:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return y}));var i=n("2909"),a=n("5530"),r=(n("c740"),n("159b"),n("b0c0"),n("d81d"),n("4de4"),n("d3b7"),n("523d")),s=n("d4ec"),o=n("bee2"),l=n("ade3"),c=function(){function e(){Object(s["a"])(this,e),Object(l["a"])(this,"id",""),Object(l["a"])(this,"type",0),Object(l["a"])(this,"fieldName",""),Object(l["a"])(this,"inputValue","")}return Object(o["a"])(e,null,[{key:"convert2CollborateMsg",value:function(t){var n=new e;return n.id=t.id,n.type=t.type,n.fieldName=t.fieldName,n.inputValue=t.inputValue,n}}]),e}(),d=function(){function e(){Object(s["a"])(this,e),Object(l["a"])(this,"id",""),Object(l["a"])(this,"type",0),Object(l["a"])(this,"details",{})}return Object(o["a"])(e,null,[{key:"convert2SaveContentMsg",value:function(t){var n=new e;return n.id=t.id,n.type=t.type,n.details=t.details,n}}]),e}(),u=n("39e6"),p=n("f93e"),h=n("2f62"),f=n("8ded"),v=n.n(f),m=n("9fb0"),g={collaborate:1,collaborateComment:2,imageUpload:3,customTag:4,taskDetails:5,recommend:6,associate:7,assessmentToolsLearnOuts:8},y={data:function(){return{shareVisible:!1,shareStatus:0,oldForm:{},rightModule:g,showModuleList:[g.customTag,g.recommend],rightWidth:600,leftWidth:730,collaborate:{},initCompleted:!1,updateContentVisible:!1,defaultHistoryKey:"1",showCollaborateModalVisible:!1,collaborateContent:null,currentFieldName:{},historyList:[],collaborateCommentList:[],currentCollaborateCommentList:[],currentRightModule:null}},watch:{needRefreshCollaborate:function(e){e&&e.indexOf(this.oldForm.id)>-1&&this.isOwner&&(this.refreshCollaborateAction(!1),this.handleStartCollaborate())},changeCollaborate:function(e){e&&e.indexOf(this.form.id)>-1&&(this.changeCollaborateAction(!1),this.$logger.info("need changeCollaborate"),this.queryContentCollaborates(this.form.id,this.form.type))}},filters:{unitLabelName:function(e,t,n){return n&&n.planFieldMap&&n.planFieldMap[t]?n.planFieldMap[t]:e},unitLabelHint:function(e,t,n){return n&&n.planHintMap&&n.planHintMap[t]?n.planHintMap[t]:e},taskLabelName:function(e,t,n){return n&&n.taskFieldMap&&n.taskFieldMap[t]?n.taskFieldMap[t]:e},taskLabelHint:function(e,t,n){return n&&n.taskHintMap&&n.taskHintMap[t]?n.taskHintMap[t]:e}},created:function(){var e=this.$route.query.token;e||(e=v.a.get(m["a"]))},mounted:function(){var e=this;this.resetWidth(),window.onresize=function(){e.resetWidth()},window.addEventListener("beforeunload",(function(t){return e.beforeunloadHandler(t)})),this.receiveSaveContentMsg("")},destroyed:function(){var e=this;window.removeEventListener("beforeunload",(function(t){return e.beforeunloadHandler(t)}))},computed:Object(a["a"])(Object(a["a"])({getCollaborateUsers:function(){return function(e){var t=[];return e.users&&(t=Object(i["a"])(e.users)),e.owner.nickName=e.owner.nickname,t.push(e.owner),t}},isOwner:function(){return!!this.oldForm&&this.$store.getters.userInfo.email===this.oldForm.createBy},isCollaborater:function(){var e=this;if(!this.collaborate.users)return!1;var t=this.collaborate.users.findIndex((function(t){return t.email===e.$store.getters.userInfo.email}));return t>-1},isEditCollaborater:function(){var e=this;if(!this.collaborate.users)return!1;var t=this.collaborate.users.findIndex((function(t){return t.email===e.$store.getters.userInfo.email}));return t>-1&&"Edit"===this.collaborate.users[t].permissions},canEdit:function(){return this.isOwner||this.isEditCollaborater},showRightModule:function(){return function(e){return this.showModuleList.indexOf(e)>-1}},showUpdateContent:function(){var e=this.$store.state.websocket.saveContentMsg;return!(!e||e.content.id!==this.form.id)&&(e.content.details.updateTime=this.oldForm.updateTime,e.content.details.gradeId=this.oldForm.gradeId,!e.hideUpdate&&!Object(u["a"])(e.content.details,this.oldForm))},associateIdTypeList:function(){var e=this,t=[];return this.associateUnitPlanIdList&&this.associateUnitPlanIdList.forEach((function(n){t.push({id:n,type:e.$classcipe.typeMap["unit-plan"]})})),this.associateTaskIdList&&this.associateTaskIdList.forEach((function(n){t.push({id:n,type:e.$classcipe.typeMap.task})})),t}},Object(h["c"])({vueSocket:"vueSocket"})),Object(h["e"])({needRefreshCollaborate:function(e){return e.websocket.needRefreshCollaborate},removedCollaborate:function(e){return e.websocket.removedCollaborate},changeCollaborate:function(e){return e.websocket.changeCollaborate},collapsed:function(e){return e.app.sideCollapsed}})),methods:Object(a["a"])(Object(a["a"])({},Object(h["b"])(["refreshCollaborateAction","changeCollaborateAction","removedCollaborateAction","receiveSaveContentMsg"])),{},{setRightModuleVisible:function(e){e===this.rightModule.collaborate?this.showModuleList=[g.collaborate]:e===this.rightModule.collaborateComment?this.showModuleList=[g.collaborateComment]:e===this.rightModule.customTag?this.showModuleList=[g.customTag]:e===this.rightModule.taskDetails?this.showModuleList=[g.taskDetails]:e===this.rightModule.recommend?this.showModuleList=[g.recommend]:this.showModuleList=[g.customTag,g.recommend]},resetRightModuleVisible:function(){this.showModuleList=[g.customTag,g.recommend]},beforeunloadHandler:function(e){if(this.$logger.info("beforeunloadHandler ",this.$route.name),"AddTask"===this.$route.name||"UnitPlan"===this.$route.name)return e=e||window.event,e&&(e.returnValue="alert"),"alert"},resetWidth:function(){document.body.clientWidth<1400?(this.rightWidth=480,this.leftWidth=550):(this.rightWidth=600,this.leftWidth=720)},queryContentCollaborates:function(e,t){var n=this;this.collaborate={},Object(r["t"])({id:e,type:t}).then((function(e){n.$logger.info("QueryContentCollaborates response:",e),e.success&&(n.collaborate=e.result)}))},confirmSelectCollaborateUsers:function(e){this.collaborate=e},handleBack:function(){this.$logger.info("handleBack"),this.$router.push({path:"/teacher/main/created-by-me"})},handleCollaborateEvent:function(e,t,n){var i=this,a=new c;a.id=e,a.fieldName=t,a.inputValue=n;var r=this.collaborate.users.filter((function(e){return e.userId!==i.$store.getters.userInfo.id})).map((function(e){return e.userId}));this.isOwner||-1===r.indexOf(this.collaborate.owner.id)&&r.push(this.collaborate.owner.id),r.length},handleSaveContentEvent:function(e,t,n){var i=this,a=new d;a.id=e,a.type=t,a.details=n;var r=this.collaborate.users.filter((function(e){return e.userId!==i.$store.getters.userInfo.id})).map((function(e){return e.userId}));this.isOwner||-1===r.indexOf(this.collaborate.owner.id)&&r.push(this.collaborate.owner.id),r.length},handleCancelComment:function(){this.handleDisplayRightModule(),this.currentFieldName=""},handleStartCollaborate:function(){this.$logger.info("handleStartCollaborate"),this.collaborateContent=Object.assign({},this.form),this.showCollaborateModalVisible=!0},cleaPageCache:function(){sessionStorage.removeItem(p["E"]),sessionStorage.removeItem(p["H"]),sessionStorage.removeItem(p["G"])},GetCollaborateModifiedHistory:function(e,t){var n=this;Object(r["r"])({sourceType:e,sourceId:t}).then((function(e){n.historyList=[],n.$logger.info("GetCollaborateModifiedHistory",e),e.code||(n.historyList=e.result)}))},GetCollaborateComment:function(e,t){var n=this;Object(r["q"])({sourceType:e,sourceId:t}).then((function(e){n.$logger.info("GetCollaborateComment",e),e.code||(n.collaborateCommentList=e.result)})).finally((function(){n.showHistoryLoading=!1}))},loadCollaborateData:function(e,t){this.GetCollaborateModifiedHistory(e,t),this.GetCollaborateComment(e,t)},handleShareStatus:function(e){this.$logger.info("handleShareStatus",e),this.shareStatus=e}})}},e5072:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-input-with-create",on:{click:function(e){e.stopPropagation()}}},[n("a-input",{staticClass:"my-input-with-create",on:{change:e.displayOptionListVisible},nativeOn:{focus:function(t){return e.displayOptionListVisible.apply(null,arguments)},click:function(t){return e.displayOptionListVisible.apply(null,arguments)},input:function(t){return e.displayOptionListVisible.apply(null,arguments)}},model:{value:e.displayValue,callback:function(t){e.displayValue=t},expression:"displayValue"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.existValue&&e.displayValue||e.showOptionList&&e.displayOptionList.length,expression:"(!existValue && displayValue) || (showOptionList && displayOptionList.length)"}],staticClass:"option-list",style:{"max-height":e.optionListHeight+"px"},on:{click:function(e){e.stopPropagation()}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.existValue&&e.displayValue,expression:"(!existValue && displayValue)"}],staticClass:"create-item"},[n("div",{staticClass:"create-item-tag",on:{click:e.createNew}},[e._v(" Create "),n("span",{staticClass:"create-text"},[e._v(" "+e._s(e.displayValue)+" ")])]),n("a-spin",{directives:[{name:"show",rawName:"v-show",value:e.creating,expression:"creating"}],staticClass:"creating-spin",attrs:{size:"small"}})],1),e._l(e.displayOptionList,(function(t,i){return e.showOptionList&&e.displayOptionList.length?n("div",{key:i,staticClass:"option-item",class:{"disabled-item":-1!==e.disabledIdList.indexOf(t.id)},on:{click:function(n){return e.handleSelectItem(t)}}},[n("div",{staticClass:"option-name"},[e._v(" "+e._s(t.name)+" ")]),n("div",{class:{"has-tag":t.tagLabel}},[t.tagLabel?n("a-tag",{attrs:{color:t.tagColor}},[e._v(" "+e._s(t.tagLabel)+" ")]):e._e()],1)]):e._e()}))],2)],1)},a=[],r=(n("a9e3"),n("159b"),n("498a"),n("4de4"),n("b0c0"),n("7db0"),{name:"InputWithCreate",props:{optionList:{type:Array,default:function(){return[]}},disabledIdList:{type:Array,default:function(){return[]}},defaultSelectedId:{type:String,default:""},defaultDisplayName:{type:String,default:""},index:{type:Number,default:-1},tagTypeConfig:{type:Object,default:function(){}},optionListHeight:{type:Number,default:273}},watch:{optionList:{handler:function(e,t){var n=this;this.$logger.info("optionList changed ",e),this.myOptionList=[],e.forEach((function(e){var t=Object.assign({},e);n.tagTypeConfig.hasOwnProperty(t.classType)?(t.tagColor=n.tagTypeConfig[t.classType].color,t.tagLabel=n.tagTypeConfig[t.classType].label):(t.tagColor=null,t.tagLabel=null),n.myOptionList.push(t)}))},deep:!0},defaultSelectedId:{handler:function(e,t){this.$logger.info("defaultSelectedId changed "+e),this.showOptionList=!1,this.selectedId=e,this.creating=!1},deep:!0}},data:function(){return{selectedId:null,displayValue:"",myOptionList:[],showOptionList:!1,creating:!1}},computed:{displayOptionList:function(){var e=this;return this.displayValue&&this.displayValue.trim()?this.myOptionList.filter((function(t){return-1!==t.name.indexOf(e.displayValue.trim())})):this.myOptionList},existValue:function(){var e=this;return!(!this.displayValue||!this.displayValue.trim())&&this.myOptionList.some((function(t){return t.name&&t.name.trim()===e.displayValue.trim()}))}},created:function(){var e=this;if(this.myOptionList=[],this.optionList.forEach((function(t){var n=Object.assign({},t);e.tagTypeConfig.hasOwnProperty(n.classType)?(n.tagColor=e.tagTypeConfig[n.classType].color,n.tagLabel=e.tagTypeConfig[n.classType].label):(n.tagColor=null,n.tagLabel=null),e.myOptionList.push(n)})),this.$logger.info("myOptionList ",this.myOptionList),this.selectedId=this.defaultSelectedId,this.defaultDisplayName)this.displayValue=this.defaultDisplayName;else if(this.selectedId){var t=this.myOptionList.find((function(t){return t.id===e.selectedId}));t&&(this.displayValue=t.name)}},mounted:function(){this.globalClick(this.handleClick)},methods:{createNew:function(){this.$logger.info("create-new "+this.displayValue+" "+this.creating),this.creating||(this.creating=!0,this.$emit("create-new",{value:this.displayValue,index:this.index}))},handleSelectItem:function(e){this.$logger.info("handleSelectItem "+e.id,"disabledIdList "+this.disabledIdList),-1===this.disabledIdList.indexOf(e.id)&&(this.$emit("selected",e),this.displayValue=e.name,this.selectedId=e.id,this.showOptionList=!1)},handleClick:function(){this.showOptionList=!1,this.defaultSelectedId||this.selectedId||(this.displayValue="")},displayOptionListVisible:function(){this.showOptionList=!0}}}),s=r,o=(n("13a6"),n("0c7c")),l=Object(o["a"])(s,i,a,!1,null,"e9252f9c",null);t["a"]=l.exports},e568:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAAAAXNSR0IArs4c6QAAAw1JREFUSEvdl02ojmkYx3//g/H97fiOkYQwRUY2RIZIihRNWLAjFmfBwoJCQxIrmdjMAlmJkuzMkIWFFBvSTE6K5GhY+MrHNf1P962nx/u85z28Wcy1euq+7ut/ffyv674e0USJiInARWAW0FIw3QHcBY4BlyV9VD6MiF7AcGAeMBYYBNwDbgNPJH3oyseI2AUcAj7bLdwJ4B3QJun3ToWImALsANYAI9NFn30CngNngaOSHtcDj4j1wGmgZx29l8BcRcQi4DAwCugLDAT6lDz9mFK1VdLNKqMR8QPgqGcXUu2Uz08B5atHDLwaeAD8mw7npMgXA/0LII7+IbBO0q0uwMsRrwLOFe7cNrCVbNQ1cHrtoSN22vcBP5aid91XSGrvquYF/kwC/inoP61Fgs7zRLafU33N1ix20szdKOl10rWdIcAbSW/LDkXEBKDoaEclcDLYA1gKnAGGFQy+T+w8HhEDAPPEtd0j6c9vBk7gLkUb8FuJrWb4FmATsDKRcqqkv5sCnMD7ARdS9J9LB7wAHLFngHt0QK1+r5nqiDCZBidrLyW5hl9IRLglnMbeFaS6J2l6xd0vaxwRC4EDidGu0dXi5YjIxFkCnEokqmX/vKS13QG+A8xIF+77W5JbKzP7J2AvsCBlpoqQByXt7g6wZ7DZa3Ga++eWiIi5qfHdTvXGoO9ulvRHd4A7oyuIgXN/uvbbPa2AcYm5Hou1ZKGk600BTun2FBsKTE7t454dkcZpfvrsfKskPyi1iFmTXJUR1yCZZ/dowPN8KzAt1d1zfnzmRhm5qp0aAi45YU64DJ7By1x/SfsrSmCSfn3EdYy6r1skvfmuwFVgpQw1P+L/BbAH/atGImlUJ22f3l6ydHgD8bDwrpVlDPCsUaMN6vnx8Hqbpd3A3p/cl1lOAJfSKtSg3bpqHjK/AhsKWlcMvDPtwnkKeaNsaqrTm53t+z3YbGAPgmvAzNL234xoyzYM+hewPC/0rsHJtP8Wfz2aCW7QK8A2SY+KvzCO/BfAm2VrMxH9CwTccGZzx/wHLF5e3RCoSfoAAAAASUVORK5CYII="},e629:function(e,t,n){},e709:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"preview-preview"},[e.loading?[n("a-skeleton",{attrs:{active:""}})]:[n("a-row",{staticClass:"action-header"},[n("a-col",{staticClass:"action-header-toggle",attrs:{span:"24"}},[e._v(" "+e._s(e.templateData.name)+" ")])],1),n("a-row",{staticClass:"top-header"},[n("a-col",{staticClass:"material-row"},[n("div",{staticClass:"icon-group"},[e.currentPageMaterial.hasOwnProperty("text")?n("a-badge",{attrs:{count:e.showMaterialSize("text")}},[n("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("text")}}},[n("text-type-svg"),n("div",{staticClass:"icon-text"},[e._v("Text")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("image")?n("a-badge",{attrs:{count:e.showMaterialSize("image")}},[n("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("image")}}},[n("image-type-svg"),n("div",{staticClass:"icon-text"},[e._v("Image")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("video")?n("a-badge",{attrs:{count:e.showMaterialSize("video")}},[n("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("video")}}},[n("video-type-svg"),n("div",{staticClass:"icon-text"},[e._v("Video")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("audio")?n("a-badge",{attrs:{count:e.showMaterialSize("audio")}},[n("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("audio")}}},[n("audio-type-svg"),n("div",{staticClass:"icon-text"},[e._v("Audio")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("iframe")?n("a-badge",{attrs:{count:e.showMaterialSize("iframe")}},[n("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("iframe")}}},[n("youtube-type-svg"),n("div",{staticClass:"icon-text"},[e._v("Youtube")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("pdf")?n("a-badge",{attrs:{count:e.showMaterialSize("pdf")}},[n("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("pdf")}}},[n("pdf-type-svg"),n("div",{staticClass:"icon-text"},[e._v("PDF")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("website")?n("a-badge",{attrs:{count:e.showMaterialSize("website")}},[n("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("website")}}},[n("url-type-svg"),n("div",{staticClass:"icon-text"},[e._v("Website")])],1)]):e._e()],1)])],1),n("a-row",{staticClass:"preview-data-info"},[n("a-col",{staticClass:"slide-preview",attrs:{span:"24"}},[n("a-col",{attrs:{span:"24"}},[e.thumbnailList.length?e._e():n("div",{staticClass:"no-preview-img"},[n("no-more-resources")],1)]),n("a-col",{staticClass:"left-preview",staticStyle:{display:"flex","flex-direction":"row"},attrs:{span:"24"}},[n("div",{staticClass:"left-preview-left",staticStyle:{display:"flex"}},[e.thumbnailList.length?n("a-carousel",{ref:"carousel",staticClass:"my-carousel"},e._l(e.thumbnailList,(function(e,t){return n("div",{key:"cIndex"+t},[n("img",{attrs:{src:e.contentUrl}})])})),0):e._e(),e.currentPageItem?n("div",{staticClass:"plugin-tags"},[n("a-row",{staticClass:"tag-row"},[e.currentPageItem.data.bloomLevel?n("span",{staticClass:"tag-item"},[n("span",{staticClass:"tag-title"},[e._v("Bloom's Taxonomy:")]),n("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[e._v(e._s(e.currentPageItem.data.bloomLevel))])]):e._e(),e.currentPageItem.data.knowledgeLevel?n("span",{staticClass:"tag-item"},[n("span",{staticClass:"tag-title"},[e._v("Knowledge dimension(s):")]),n("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[e._v(e._s(e.currentPageItem.data.knowledgeLevel))])]):e._e()]),n("a-row",{staticClass:"tag-row"},[e.currentPageItem.data.verbs&&e.currentPageItem.data.verbs.length>0?n("span",{staticClass:"tag-item"},[n("span",{staticClass:"tag-title"},[e._v("Command terms:")]),e._l(e.currentPageItem.data.verbs,(function(t,i){return n("span",{key:i,staticClass:"tag-value",staticStyle:{color:"#15C39A"}},[e._v(e._s(t))])}))],2):e._e(),e.currentPageTips?n("span",{staticClass:"tag-item"},[n("span",{staticClass:"tag-title"},[e._v("Tip added:")]),n("span",{staticClass:"tag-value",staticStyle:{color:"#0054FF"}},[e._v(e._s(e.currentPageTips.tip))])]):e._e()]),e.currentPageItem.data.learnOuts&&e.currentPageItem.data.learnOuts.length>0?n("a-row",{staticClass:"tag-row"},[n("span",{staticClass:"tag-item"},[n("span",{staticClass:"tag-title"},[e._v("Assessment objective(s):")]),e._l(e.currentPageItem.data.learnOuts,(function(t,i){return n("span",{key:i,staticClass:"tag-value",staticStyle:{color:"#00BCF2"}},[n("a-tooltip",{attrs:{title:t.path,overlayStyle:{"z-index":"3000"}}},[e._v(e._s(t.name)+" ")])],1)}))],2)]):e._e(),n("a-row",{staticClass:"tag-row"},[n("span",{staticClass:"tag-item"},[n("span",{staticClass:"tag-title"},[e._v("This is a "),n("span",[e._v(e._s(e.currentPageItem.type))]),e._v(" slide")])])])],1):e._e(),e.thumbnailList&&e.thumbnailList.length?n("div",{staticClass:"page-info"},[e._v(" "+e._s(e.currentImgIndex+1)+" / "+e._s(e.thumbnailList.length)+" ")]):e._e(),-1===e.selectIds.indexOf(e.template.id)?n("a-button",{staticClass:"action-ensure action-item",attrs:{type:"primary",shape:"round"},on:{click:function(t){return e.handleSelectTemplate(t)}}},[n("a-icon",{staticClass:"btn-icon",attrs:{type:"plus-circle"}}),n("div",{staticClass:"btn-text"},[e._v(" Insert ")])],1):e._e()],1),n("div",{staticClass:"carousel-page"},[n("div",{staticClass:"img-list-wrapper"},[n("div",{staticClass:"img-list"},e._l(e.thumbnailList,(function(t,i){return n("div",{key:"index"+i,staticClass:"img-item",on:{click:function(t){return e.handleGotoImgIndex(i)}}},[n("img",{attrs:{src:t.contentUrl}})])})),0)])])])],1)],1),n("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"800px",zIndex:6e3,title:"My Materials"},on:{ok:function(t){e.materialVisible=!1},cancel:function(t){e.materialVisible=!1}},model:{value:e.materialVisible,callback:function(t){e.materialVisible=t},expression:"materialVisible"}},[n("task-material-preview",{attrs:{"current-page-element-lists":e.currentPageElementLists,"filter-type":e.filterMaterialType,"current-page-index":e.currentImgIndex}})],1),n("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"900px",zIndex:5e3,title:null},on:{ok:function(t){e.mediaVisible=!1},cancel:function(t){e.mediaVisible=!1}},model:{value:e.mediaVisible,callback:function(t){e.mediaVisible=t},expression:"mediaVisible"}},[n("media-preview",{attrs:{"media-list":e.mediaList,"material-type":e.filterMaterialType}})],1)]],2)},a=[],r=(n("d3b7"),n("159b"),n("b0c0"),n("69b3")),s=n("8448"),o=n.n(s),l=n("998c"),c=n.n(l),d=n("4084"),u=n.n(d),p=n("8a21"),h=n.n(p),f=n("1eeb"),v=n.n(f),m=n("5a1d"),g=n.n(m),y=n("6631"),b=n.n(y),w=n("3111"),C=n("542c"),S=n("3f76"),k=n("c621"),_=n("d33b"),T=n("873a"),x=n("4fb2"),D=n("2f59"),E={name:"TemplatePreview",components:{TaskMaterialPreview:C["a"],MaterialTypeIcon:w["a"],NoMoreResources:r["a"],TextTypeSvg:o.a,ImageTypeSvg:c.a,VideoTypeSvg:u.a,AudioTypeSvg:h.a,YoutubeTypeSvg:v.a,PdfTypeSvg:g.a,UrlTypeSvg:b.a,MediaPreview:T["a"]},props:{template:{type:Object,default:function(){return null}},selectedTemplateIdList:{type:Array,default:function(){return[]}}},watch:{selectedTemplateIdList:function(e){this.$logger.info("selectedTemplateIdList ",e),this.selectIds=e}},computed:{},mounted:function(){},data:function(){return{selectIds:[],templateData:{},loading:!0,loadingClass:!1,data:null,subPreviewVisible:!1}},mixins:[_["a"],D["a"]],created:function(){this.loadData()},methods:{loadData:function(){var e=this;this.templateData=this.template,this.$logger.info("selectedTemplateIdList ",this.selectedTemplateIdList),this.selectIds=this.selectedTemplateIdList,this.templateData.type===S["e"].task?(this.loading=!0,Object(k["d"])({taskId:this.templateData.id}).then((function(t){if(e.$logger.info("task loadThumbnail response",t.result),t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden){var n=t.result.pageObjects;e.templateData.pageObjectIds=[],n.forEach((function(t){e.templateData.pageObjectIds.push(t.id),e.thumbnailList.push({contentUrl:t.contentUrl,id:t.pageObjectId}),e.$logger.info("current thumbnailList ",e.thumbnailList)}))}})).finally((function(){e.loading=!1,e.getClassInfo(e.templateData.presentationId)}))):(this.loading=!1,this.templateData.images.forEach((function(t,n){e.thumbnailList.push({contentUrl:t,id:e.templateData.pageObjectIds[n]})})),this.getClassInfo(this.templateData.presentationId))},handleAuthCallback:function(){this.$logger.info("handleAuthCallback"),this.loadData()},handleGotoImgIndex:function(e){this.$logger.info("handleGotoImgIndex "+e),this.currentImgIndex=e,this.$refs.carousel.goTo(e)},handleSelectTemplate:function(e){this.$logger.info("handleSelectTemplate "+this.templateData.name),x["b"].$emit(x["a"].ToggleSelectContentItem,this.templateData,e)},handlePreviewMaterial:function(e){this.$logger.info("handlePreviewMaterial "+e),"tip"!==e.type&&window.open(e.url,"_blank")}}},O=E,I=(n("ff58"),n("0c7c")),M=Object(I["a"])(O,i,a,!1,null,"18f143d6",null);t["a"]=M.exports},e76a:function(e,t,n){"use strict";n("4768")},e806:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return h}));var i=n("b775"),a="academic/academicTermInfo",r={addTerm:"/classcipe/".concat(a,"/addTerm"),addYear:"/classcipe/".concat(a,"/addYear"),deleteTerm:"/classcipe/".concat(a,"/deleteTerm"),deleteYear:"/classcipe/".concat(a,"/deleteYear"),editTerm:"/classcipe/".concat(a,"/editTerm"),editYear:"/classcipe/".concat(a,"/editYear"),saveBlockSetting:"/classcipe/".concat(a,"/saveBlockSetting"),termList:"/classcipe/".concat(a,"/termList")};function s(e){return Object(i["d"])({url:r.addTerm,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(i["d"])({url:r.deleteTerm,method:"delete",params:e})}function l(e){return Object(i["d"])({url:r.deleteYear,method:"delete",params:e})}function c(e){return Object(i["d"])({url:r.addYear,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(i["d"])({url:r.editTerm,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(e){return Object(i["d"])({url:r.editYear,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function p(e){return Object(i["d"])({url:r.saveBlockSetting,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return Object(i["d"])({url:r.termList,method:"get",params:e})}},ea5a:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"select-participant"},[i("div",{staticClass:"class-info-wrapper"},[i("div",{staticClass:"class-info"},[i("div",{staticClass:"list-title list-title-between"},[i("div",{staticClass:"title-item"},[e._v(" Class list ")]),i("div",{staticClass:"class-type"},[i("a-radio-group",{attrs:{"button-style":"solid",disabled:!!e.classId},model:{value:e.queryType,callback:function(t){e.queryType=t},expression:"queryType"}},[i("a-radio-button",{attrs:{value:0}},[e._v(" Standard ")]),i("a-radio-button",{attrs:{value:1}},[e._v(" Subject ")])],1)],1)]),i("div",{staticClass:"class-list"},[i("a-skeleton",{attrs:{loading:e.loading}},[e._l(e.filterClassList,(function(t){return i("div",{key:t.id,staticClass:"class-item",class:{"selected-item":-1!==e.selectedClassIdList.indexOf(t.id),"current-active-item":e.currentSelectedClass&&t.id===e.currentSelectedClass.id},on:{click:function(n){return e.handleSelectClass(t)}}},[i("div",{staticClass:"item-checked-icon"},[-1!==e.selectedClassIdList.indexOf(t.id)?[i("img",{attrs:{src:n("7aa6")}})]:e._e(),-1===e.selectedClassIdList.indexOf(t.id)?[i("div",{staticClass:"empty-circle"})]:e._e()],2),i("div",{staticClass:"class-name"},[e._v(e._s(t.name))])])})),e.filterClassList.length||e.loading?e._e():i("div",{staticClass:"no-class-tips"},[i("common-no-data",{attrs:{text:"No class"}})],1)],2)],1)])]),i("div",{staticClass:"student-info-wrapper"},[i("div",{staticClass:"student-info"},[i("div",{staticClass:"list-title student-list-title"},[i("div",{staticClass:"title-action"},[i("a-checkbox",{attrs:{checked:e.selectAllFlag},on:{change:e.onSelectAllChange}},[e._v(" Select all ")])],1)]),i("div",{staticClass:"student-list"},[e.studentListLoading?[i("a-skeleton")]:[e.studentList.length?e._l(e.studentList,(function(t,n){return i("a-checkbox",{key:t.id,staticClass:"student-list-checkbox",attrs:{checked:-1!==e.selectedStudentIdList.indexOf(t.id)},nativeOn:{click:function(n){return e.handleSelectStudent(t)}}},[i("div",{staticClass:"student-item",class:{"selected-item":-1!==e.selectedStudentIdList.indexOf(t.id),"odd-item":n%2===1,"even-item":n%2===0},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.handleSelectStudent(t)}}},[i("div",{staticClass:"student-item-info"},[i("div",{staticClass:"avatar"},[i("a-avatar",{staticStyle:{color:"#f56a00",backgroundColor:"#fde3cf"}},[e._v(" "+e._s(t.firstname?t.firstname[0].toUpperCase():"S")+" ")])],1),i("div",{staticClass:"nickname"},[e._v(" "+e._s(t.firstname)+" "+e._s(t.lastname)+" ")]),i("div",{staticClass:"email"},[e._v(" "+e._s(t.email)+" ")])])])])})):[i("div",{staticClass:"no-student-tips"},[e.currentSelectedClass?i("no-more-resources",{attrs:{tips:"Current class has no student"}}):i("div",{staticClass:"select-class-tips"},[e._v(" Select a class first. ")])],1)]]],2)])])])},a=[],r=n("5530"),s=(n("a630"),n("3ca3"),n("d3b7"),n("6062"),n("ddb0"),n("d81d"),n("4de4"),n("7db0"),n("fb6a"),n("a434"),n("c740"),n("69b3")),o=n("e5072"),l=n("20ae"),c=n("ad59"),d=n("2f62"),u=n("ec09"),p=n("4360"),h=n("fdff"),f={name:"SelectParticipant",components:{CommonNoData:h["a"],CustomTextButton:l["a"],InputWithCreate:o["a"],NoMoreResources:s["a"]},props:{classId:{type:String,default:""}},data:function(){return{currentSelectedClass:null,studentList:[],checkedClass:[],studentListLoading:!1,checkedStudent:[],classList:[],queryType:0,loading:!1,selectAllFlag:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(d["e"])({info:function(e){return e.user.info},userMode:function(e){return e.app.userMode},currentSchool:function(e){return e.user.currentSchool}})),{},{selectedClassIdList:function(e){var t=e.checkedClass;return Array.from(new Set(t.map((function(e){return e.id}))||[]))},selectedStudentIdList:function(e){var t=e.checkedStudent;return Array.from(new Set(t.map((function(e){return e.id}))||[]))},filterClassList:function(){var e=this;return this.classList.filter((function(t){return t.classType===e.queryType}))}}),watch:{checkedStudent:{deep:!0,immediate:!0,handler:function(e){e.length!==this.studentList.length?this.selectAllFlag=!1:this.selectAllFlag=!0}}},created:function(){this.listClass()},methods:{listClass:function(){var e=this;this.loading=!0,Object(c["g"])({schoolId:this.currentSchool.id,myClass:!0,pageNo:1,pageSize:1e4}).then((function(t){var n;if(e.$logger.info("listClass res records",t),e.classList=((null===t||void 0===t||null===(n=t.result)||void 0===n?void 0:n.records)||[]).filter((function(e){return 2!==e.status})),e.studentList=[],1===e.classList.length)e.handleSelectClass(e.classList[0]),e.queryType=e.classList[0].classType;else if(e.classId){var i=e.classList.find((function(t){return t.id===e.classId}));i&&(e.handleSelectClass(i),e.queryType=i.classType)}})).finally((function(){e.loading=!1}))},handleSelectClass:function(e){this.classId&&e.id!==this.classId||(this.$logger.info("handleSelectClass",e,"this.checkedClass",this.checkedClass),this.checkedClass=[e],this.currentSelectedClass=e,this.loadCurrentClassStudent(),this.$emit("select-class-student",this.checkedClass))},removeClassStudent:function(e){this.$logger.info("before removeClassStudent",this.checkedStudent),this.checkedStudent=this.checkedStudent.filter((function(t){return 0===t.classes.length||t.classes[0].id!==e.id})),this.$logger.info("after removeClassStudent",this.checkedStudent)},loadCurrentClassStudent:function(){var e=this;this.$logger.info("loadCurrentClassStudent",this.currentSelectedClass),this.currentSelectedClass&&(this.studentListLoading=!0,Object(u["m"])({schoolId:p["a"].getters.school,roles:"student",classes:this.currentSelectedClass.id,pageSize:1e4,pageNo:1}).then((function(t){e.$logger.info("loadClassStudent",t),t.result&&(e.studentList=t.result.records,e.checkedStudent=e.studentList.slice())})).finally((function(){e.studentListLoading=!1})))},selectPrivateWorkshop:function(){this.$logger.info("selectPrivateWorkshop",this.checkedStudent),this.$emit("select-workshop-type",{workshopType:1})},selectPublicWorkshop:function(){this.$logger.info("selectPrivateWorkshop",this.checkedStudent),this.$emit("select-workshop-type",{workshopType:2})},getSelectedData:function(){return this.$logger.info("getSelectedData",this.checkedClass,this.checkedStudent),{classIds:this.checkedClass.map((function(e){return e.id})),selectStudents:this.checkedStudent.map((function(e){return e.id}))}},handleSelectStudent:function(e){this.$logger.info("handleSelectStudent",e),-1!==this.selectedStudentIdList.indexOf(e.id)?(this.$logger.info("remove student",e),this.checkedStudent.splice(this.checkedStudent.findIndex((function(t){return t.id===e.id})),1)):this.checkedStudent.push(e),this.$emit("select-class-student")},onSelectAllChange:function(){this.$logger.info("onSelectAllChange",this.selectAllFlag),this.selectAllFlag=!this.selectAllFlag,this.selectAllFlag?this.checkedStudent=this.studentList.slice():this.checkedStudent=[]}}},v=f,m=(n("9a87"),n("0c7c")),g=Object(m["a"])(v,i,a,!1,null,"48d9e45e",null);t["a"]=g.exports},ec09:function(e,t,n){"use strict";n.d(t,"m",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"t",(function(){return d})),n.d(t,"u",(function(){return u})),n.d(t,"l",(function(){return p})),n.d(t,"y",(function(){return h})),n.d(t,"A",(function(){return f})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return b})),n.d(t,"n",(function(){return w})),n.d(t,"p",(function(){return C})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return k})),n.d(t,"k",(function(){return _})),n.d(t,"v",(function(){return T})),n.d(t,"r",(function(){return x})),n.d(t,"z",(function(){return D})),n.d(t,"x",(function(){return E})),n.d(t,"s",(function(){return O})),n.d(t,"w",(function(){return I})),n.d(t,"b",(function(){return M})),n.d(t,"o",(function(){return L})),n.d(t,"q",(function(){return R}));var i=n("b775"),a=n("ca00"),r="api2/school/user",s={getSchoolUsers:"/classcipe/".concat(r,"/getSchoolUsers"),addStudents:"/classcipe/".concat(r,"/addStudents"),addTeacher:"/classcipe/".concat(r,"/addTeacher"),removeStudents:"/classcipe/".concat(r,"/removeStudents"),removeTeachers:"/classcipe/".concat(r,"/removeTeachers"),updateTeacher:"/classcipe/".concat(r,"/updateTeacher"),getInvite:"/classcipe/".concat(r,"/getInvite"),updateInvite:"/classcipe/".concat(r,"/updateInvite"),bulkActTeacher:"/classcipe/".concat(r,"/teacher/bulkAct"),bulkActStudent:"/classcipe/".concat(r,"/student/bulkAct"),acceptInvite:"/classcipe/".concat(r,"/acceptInvite"),batchAddStudent:"/classcipe/".concat(r,"/batchAddStudent"),batchAddTeacher:"/classcipe/".concat(r,"/batchAddTeacher"),getStudentInfo:"/classcipe/".concat(r,"/getStudentInfo"),getTeacherInfo:"/classcipe/".concat(r,"/getTeacherInfo"),checkEmailParent:"/classcipe/".concat(r,"/parent/checkEmail"),resetPassword:"/classcipe/".concat(r,"/resetPassword"),checkEmailStudent:"/classcipe/".concat(r,"/student/checkEmail"),moveClassStudent:"/classcipe/".concat(r,"/student/moveClass"),sendParentEmail:"/classcipe/".concat(r,"/student/sendParentEmail"),checkEmailTeacher:"/classcipe/".concat(r,"/teacher/checkEmail"),updateStudent:"/classcipe/".concat(r,"/updateStudent"),addAdmin:"/classcipe/".concat(r,"/addAdmin"),removeAdmins:"/classcipe/".concat(r,"/removeAdmins"),resetUserPassword:"/classcipe/".concat(r,"/user/resetPassword"),addSchoolAdmin:"/classcipe/".concat(r,"/addSchoolAdmin"),getTeacherCount:"/classcipe/".concat(r,"/getTeacherCount"),listStudents:"/classcipe/".concat(r,"/list/students")};function o(e){return Object(i["d"])({url:s.getSchoolUsers,method:"get",params:e})}function l(e){return e=Object(a["trimParams"])(e),Object(i["d"])({url:s.addStudents,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return e=Object(a["trimParams"])(e),Object(i["d"])({url:s.addTeacher,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(i["d"])({url:s.removeStudents,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(e){return Object(i["d"])({url:s.removeTeachers,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function p(e){return Object(i["d"])({url:s.getInvite,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return e=Object(a["trimParams"])(e),Object(i["d"])({url:s.updateInvite,method:"post",data:e,params:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(e){return e=Object(a["trimParams"])(e),Object(i["d"])({url:s.updateTeacher,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function v(e){return Object(i["d"])({url:s.bulkActTeacher,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function m(e){return Object(i["d"])({url:s.bulkActStudent,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function g(e){return Object(i["d"])({url:s.acceptInvite,method:"post",data:e,params:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function y(e){return e=Object(a["trimParams"])(e),Object(i["d"])({url:s.batchAddStudent,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(e){return e=Object(a["trimParams"])(e),Object(i["d"])({url:s.batchAddTeacher,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function w(e){return Object(i["d"])({url:s.getStudentInfo,method:"get",params:e})}function C(e){return Object(i["d"])({url:s.getTeacherInfo,method:"get",params:e})}function S(e){return Object(i["d"])({url:s.checkEmailParent,method:"get",params:e})}function k(e){return Object(i["d"])({url:s.checkEmailStudent,method:"get",params:e})}function _(e){return Object(i["d"])({url:s.checkEmailTeacher,method:"get",params:e})}function T(e){return Object(i["d"])({url:s.resetPassword,method:"get",params:e})}function x(e){return Object(i["d"])({url:s.moveClassStudent,method:"get",params:e})}function D(e){return e=Object(a["trimParams"])(e),Object(i["d"])({url:s.updateStudent,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function E(e){return Object(i["d"])({url:s.sendParentEmail,method:"get",params:e})}function O(e){return Object(i["d"])({url:s.removeAdmins,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function I(e){return Object(i["d"])({url:s.resetUserPassword,method:"get",params:e})}function M(e){return e=Object(a["trimParams"])(e),Object(i["d"])({url:s.addSchoolAdmin,method:"post",data:e,params:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function L(e){return Object(i["d"])({url:s.getTeacherCount,method:"get",params:e})}function R(e){return Object(i["d"])({url:s.listStudents,method:"get",params:e})}},ed14:function(e,t,n){},ed18:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-reviews"},[!e.myReviews&&"teacher"!==e.role||e.footerBottom?e._e():n("a-space",{staticClass:"reviews-opt"},["student"!==e.role||e.isEdit?e._e():n("a-button",{attrs:{type:"link"},on:{click:function(){return e.triggerEdit(!0)}}},[e._v("Edit Review")]),"teacher"!==e.role||e.myReviews||e.isEdit||!e.showCreate?e._e():n("a-button",{attrs:{type:"link"},on:{click:function(){return e.triggerEdit(!0)}}},[e._v("Leave a Review")]),e.isEdit?n("a-button",{attrs:{type:"link"},on:{click:function(){return e.triggerEdit(!1)}}},[e._v("Cancel")]):e._e(),e.isEdit?n("a-button",{attrs:{type:"primary"},on:{click:e.handleSaveMyReview}},[e._v(e._s(e.myReviews?"Update":"Submit"))]):e._e()],1),"student"===e.role?n("a-spin",{attrs:{spinning:e.subLoading}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],staticClass:"reviews-edit"},[n("div",{staticClass:"reviews-edit__check"},[n("div",[n("label",[e._v("Difficulty Level")]),n("a-rate",{staticClass:"rate-bar-con",attrs:{count:3,tooltips:e.reviewsText,allowClear:!1},model:{value:e.subForm.reviewsLabel,callback:function(t){e.$set(e.subForm,"reviewsLabel",t)},expression:"subForm.reviewsLabel"}},[n("div",{attrs:{slot:"character"},slot:"character"},[n("div",{staticClass:"rate-bar"})])])],1),n("div",[n("label",[e._v("Overall review")]),n("a-rate",{attrs:{allowClear:!1},model:{value:e.subForm.reviewsScore,callback:function(t){e.$set(e.subForm,"reviewsScore",t)},expression:"subForm.reviewsScore"}})],1)]),n("div",{staticClass:"reviews-edit__text"},[n("a-textarea",{ref:"reviewsNotes",attrs:{placeholder:"Enter your reviews......","auto-size":{minRows:4,maxRows:6}},model:{value:e.subForm.reviewsNotes,callback:function(t){e.$set(e.subForm,"reviewsNotes",t)},expression:"subForm.reviewsNotes"}})],1)])]):e._e(),"teacher"===e.role?n("a-spin",{attrs:{spinning:e.subLoading}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],staticClass:"reviews-edit"},[n("div",{staticClass:"reviews-edit__check"},[n("div",[n("a-tooltip",{attrs:{title:"Overall review"}},[n("label",[e._v("Overall review")])]),n("a-rate",{attrs:{tooltips:e.RATE_TOOLTIPS.OVERALL,allowClear:!1},model:{value:e.subForm.overall,callback:function(t){e.$set(e.subForm,"overall",t)},expression:"subForm.overall"}})],1),n("div",[n("a-tooltip",{attrs:{title:"Students engagement"}},[n("label",[e._v("Students engagement")])]),n("a-rate",{attrs:{tooltips:e.RATE_TOOLTIPS.ENGAGEMENT,allowClear:!1},model:{value:e.subForm.studentsEngagement,callback:function(t){e.$set(e.subForm,"studentsEngagement",t)},expression:"subForm.studentsEngagement"}})],1)]),n("div",{staticClass:"reviews-edit__check"},[n("div",[n("a-tooltip",{attrs:{title:"Effectiveness of teaching & learning"}},[n("label",[e._v("Effectiveness of teaching & learning")])]),n("a-rate",{attrs:{tooltips:e.RATE_TOOLTIPS.EFFETIVENESS,allowClear:!1},model:{value:e.subForm.effectiveness,callback:function(t){e.$set(e.subForm,"effectiveness",t)},expression:"subForm.effectiveness"}})],1),n("div",[n("a-tooltip",{attrs:{title:"Quality of the content"}},[n("label",[e._v("Quality of the content")])]),n("a-rate",{attrs:{tooltips:e.RATE_TOOLTIPS.QUALITY,allowClear:!1},model:{value:e.subForm.quality,callback:function(t){e.$set(e.subForm,"quality",t)},expression:"subForm.quality"}})],1)]),n("div",{staticClass:"reviews-edit__check"},[n("div",[n("a-checkbox",{model:{value:e.subForm.learningDistance,callback:function(t){e.$set(e.subForm,"learningDistance",t)},expression:"subForm.learningDistance"}},[e._v(" Distance learning ")])],1),n("div",[n("a-checkbox",{model:{value:e.subForm.learningHome,callback:function(t){e.$set(e.subForm,"learningHome",t)},expression:"subForm.learningHome"}},[e._v(" At home learning ")])],1),n("div",[n("a-checkbox",{model:{value:e.subForm.learningClass,callback:function(t){e.$set(e.subForm,"learningClass",t)},expression:"subForm.learningClass"}},[e._v(" In-class learning ")])],1)]),n("div",{staticClass:"reviews-edit__text"},[n("a-textarea",{ref:"reviewsNotes",attrs:{placeholder:"Enter your reviews......","auto-size":{minRows:4,maxRows:6}},model:{value:e.subForm.reviewsNotes,callback:function(t){e.$set(e.subForm,"reviewsNotes",t)},expression:"subForm.reviewsNotes"}})],1)])]):e._e(),(e.myReviews||"teacher"===e.role)&&e.footerBottom?n("a-space",{staticClass:"reviews-footer"},[n("a-button",{on:{click:e.handleCancel}},[e._v("Cancel")]),n("a-button",{attrs:{type:"primary"},on:{click:e.handleSaveMyReview}},[e._v("Submit")])],1):e._e()],1)},a=[],r=n("5530"),s=(n("a9e3"),n("f93e")),o={name:"ReviewsEdit",props:{footerBottom:{type:Boolean,default:!1},role:{type:String,default:"student"},myReviews:{type:Object,default:null},canCreate:{type:Boolean,default:!0}},watch:{canCreate:function(e){this.showCreate=e,!this.footerBottom&&("teacher"!==this.role||!this.showCreate||this.myReviews&&this.myReviews.id)||(this.isEdit=!0)},myReviews:{handler:function(e){this.subForm=e?Object(r["a"])({},e):Object(r["a"])({},this.init),this.footerBottom||"teacher"===this.role&&this.showCreate&&(!e||!e.id)?this.isEdit=!0:this.isEdit=!1},immediate:!0}},data:function(){return{subLoading:!1,showCreate:this.canCreate,RATE_TOOLTIPS:s["y"],isEdit:!1,reviewsText:["Easy","Intermediate","Difficult"],subForm:this.myReviews,init:{reviewsLabel:1,reviewsNotes:"",reviewsScore:1,overall:1,effectiveness:1,quality:1,studentsEngagement:1,learningClass:!1,learningDistance:!1,learningHome:!1,updatedMsg:!0}}},mounted:function(){!this.footerBottom&&("teacher"!==this.role||!this.showCreate||this.myReviews&&this.myReviews.id)||(this.isEdit=!0)},methods:{handleSaveMyReview:function(){if("student"!==this.role||this.myReviews){this.subLoading=!0;var e=Object(r["a"])(Object(r["a"])({},this.subForm),{},{learningClass:Number(this.subForm.learningClass),learningDistance:Number(this.subForm.learningDistance),learningHome:Number(this.subForm.learningHome),updatedMsg:Number(this.subForm.updatedMsg)});this.$emit("submit",e)}},handleCancel:function(){this.$emit("cancel")},triggerLoading:function(e){this.subLoading=e},triggerIsEdit:function(e){this.isEdit=e},triggerEdit:function(e){var t=this;this.isEdit=e,this.$nextTick((function(){e&&t.$refs.reviewsNotes&&t.$refs.reviewsNotes.focus()}))}}},l=o,c=(n("ab4d"),n("0c7c")),d=Object(c["a"])(l,i,a,!1,null,"179193f5",null);t["a"]=d.exports},ed29:function(e,t,n){},ed6b:function(e,t,n){"use strict";n("4d96")},ed70:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAIDElEQVRoQ+Wbe5BT9RXHv+fmebPZLeCrs8IUCn9Vre+2Sl2SsF230IdosTPYWlstD2WBZIdWgU47nQLCmOx2FpRltGyt4qOt0IoD5bEJyIqWxalda6VacaTglA4rj2ySTXLv6dwsySabZO+9udklO/7+TM7rc8/5Pe/vEkaoue5jO42L3sgm3ETM14DoagBXgtkJImfKLXMYRGEAJwjUw8w9BHTLveKboQ6KjURoVE6jrqbIRFhpgQC+HcC1AKwl2o8DeIuZd3GCNofaHP8p0U6eWlmAZzTHvmaC/DAAFwChXMFdsCMzEGKitaHHxL1GbRsC9nhjDSD5URCuNxqINn0+DJlXdbY4d2uTz5cqCdi1LDpZEDgAwpxSHRvRkxnbIJMv1Cp+qNeObmCXL/w9gYRNAKr0OiuzfJ/M8sJQwPmMHruagW+cz46a6ugmAr6vx8GIyzJ3nA07HjqymSJafGkCvsXLE0QhugvAzVqMjrYMM7qF/mTjvo01p9V8qwK7fhKZSBLtJLAyj1ZsY6Z/xONyQ9eGqpPDBTkscP1P+TNSMnaw0mHTgAo0y7GvhlrHnykGXRQ4tVKaEN1LhOkVm9YCgTGji3vF+mIrtaLAHl/fFhDdN5Zg07HKzB2hQNUPC8VeENjljf5AELhjLMJmYpbkeztbnb8bypAHXLf4zBSzzdpTAfOssefNdC4Zx3UHNojHsg3lAXt8kZeMrKB+PMuMu+rMsJgJH5+WseKpOD46xarBN95swuI7LBBthLN9jDVb4+g+KqvqDSvAvL0zUJWzGswB9iyPNUCW/1KqF4cNeHm1mKO+vSuJtm0JVZNbV9pwxfjBfcffP5DgfVzZNBlssnB7Z4s9s/bOBfZFjoBwQ6kuxlcDf/h5LvDu7iTWPa8O/Mdf2DHOORjOeydkLGzpLzWUjB4DbwT9jq+kf8h4qFt23mM2mfbp8VB/gwm1lw4GKVqBu12WHBP/Pinj4NuSqtnvusywWwdtnT7H2PF6Mkfvr+9KePcj9e4x1JksSe5Qa3VI+T3jwe2LvkLEs1QjuyDwo0Yz7qnPhdOqW6pcIslY3h5HzzF9fZvBrwT9Vd/IAN/WdP4yi8X0MQgmrcHsWG1PDTCj3fYckfDoc7r7djIRl2pfbav+XypiV3NkqQC06gl+32O5fVWPrhFZpawfeVI3sOJySaff0ZYC9jRHugDcqieQsQbMwMGg33EbuR5kJ9mjvUTQ1SHHHDAjwTFxArm84UZBEHbqya4iO9aAlZhlWf46uX3RR4h4zacBmEErydMc3QKw7l3RSGU4+LckJl0uYFpt4dNeA4OWMgt3UCkD1kiV9LaDCWzYnoRTBPwLrZh2Zf4saQwYr5HbFzlGhMkXu6RfejWBjX8aXFmNcwLPrrDnrL6UGI0AM+NDJcPKwdeEcgKfOiOjxkF5wRbzMRRWkbtjuhlNc/InDiPAAHoV4CgAe7mAPzgpYfnmOCZ/lrDmfhtsluFXY+kyzvb/zVtMWHqnBUT5ugaBY2UFPn5KRtOGfpy/cEJ83VQBq++3Fs10ocx+61YTlswpDGu0pAGkgMtW0kePy1i6sR+JrE3OFz8vYO0D+dDFMrvsruFfOBrMcG/ZB63uoxJWbYnnQF8zhbD2AVtms1EIdvaXTfB+p3hm0yVvBDg1aLl9kUNEyGyQtfbl4ebhI/+SsOo3ccSzMn3V5wjr5tuw63AyNfVkN62wRkuaGa8rK63fEvG9WkHTcmoLjzffk7DyqVzo2ksIJ0/nbuAVWN9c7e/N3/inlDonK6Ux09MK8M+I+Jd6DagBK/YKQWf7mfUlBVa9jLN1jJU0rRjxzUMxaOWUsvluC4QCU89wD98IcGrzMBrbw6HQpcIa7MMxORq+LDWzu5sj+wmo01PWWko6214a2nN9aZk1Okoz0Bn0O2YOnHj4+haB6PGRBFZsn+tj1FQZOwcruaSZH+wMVD2R8p46xLOalPeqZq3QejOs1a6aXInA8URcmpg5xBso674dBJqt5lDrtKTVjl65UoCZ8edgwPFtxdfgQXzz+TozTPu1BjCWMpyENOOAv/pADvCFwauLNJ5e7lkvQij3FTQNT/vQOwOrOK2NgdeCfkfmpX7OCOL2RmeAOEg0mPlihgOLrLh2quZze63xqcq1v5zAi/tzl6bFlJjBYHIHW8RM5eYNmW5f5FkizFPzfGkNYcmdFkwtcvakpq/3f2aG8tbh6T1JsMbXS8zYGgw47sn2lQc8fXFfrdWGtwk0Xm9QlSTP4E/i/bh66K2egpOixxeZC8KLlQSgNxYZPCfkr9o+VK/oKsDdHG0n8Hy9jipDnjZ1+sVFhWIpCvyFuWy9YlJ0NxFmVAaEtiiYsf+/x8WGd35PBYfyYdd5rmWfjCPBGiIi5bJ3xTdmfovluKuki2lpOuWWO1l5JyF1hb9yG6On38yNXesNXD3MQKcybdtRqbfylNt3Jos4e+86OquWEc1bl2lNbJtkifyaiBaoGR3N/5mp/XjCvvT9NtJ0A0YzcBrC7Y3OI0I7iAe+TLlYjSnMjAXBFnGrnhB0AyvGlU8AIHBAuEifAICxTR6tTwCyn6bHG26AQL8CaLQujh+GLI/+Rx5DS8jtC88E0cMEqtdTXtplaY8sSetDrc6L+xnP0IAHpjDMA2MuEW7SDpQvqVzrZ+CFfsZzh1ocJ4zYytYtqQ9rcT7zoXOXsM3sYaTApxIwhQmXF/oUjxjK9dNjBHqfwYdjLAYPtVCvFj96Zf4PqQt02/Mf+s8AAAAASUVORK5CYII="},ef6a:function(e,t,n){"use strict";function i(e,t,n,i,s,o){e=e||0;var l=n[1]-n[0];if(null!=s&&(s=r(s,[0,l])),null!=o&&(o=Math.max(o,null!=s?s:0)),"all"===i){var c=Math.abs(t[1]-t[0]);c=r(c,[0,l]),s=o=r(c,[s,o]),i=0}t[0]=r(t[0],n),t[1]=r(t[1],n);var d=a(t,i);t[i]+=e;var u,p=s||0,h=n.slice();return d.sign<0?h[0]+=p:h[1]-=p,t[i]=r(t[i],h),u=a(t,i),null!=s&&(u.sign!==d.sign||u.span<s)&&(t[1-i]=t[i]+d.sign*s),u=a(t,i),null!=o&&u.span>o&&(t[1-i]=t[i]+u.sign*o),t}function a(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function r(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}n.d(t,"a",(function(){return i}))},f424:function(e,t,n){},f54b:function(e,t,n){},f5ff:function(e,t,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i=function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};Object.create;Object.create;var a=n("2b0e"),r=(n("5574"),n("c5fd")),s=n("d610"),o=function(e){function t(t,n){void 0===n&&(n={});var i=e.call(this)||this;return i.isRendering=!1,i.isRendered=!1,i.currentClassNames=[],i.customContentRenderId=0,i.handleAction=function(e){switch(e.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":i.renderRunner.tryDrain()}},i.handleData=function(e){i.currentData=e,i.renderRunner.request(e.calendarOptions.rerenderDelay)},i.handleRenderRequest=function(){if(i.isRendering){i.isRendered=!0;var e=i.currentData;Object(s["oc"])(Object(s["lb"])(s["g"],{options:e.calendarOptions,theme:e.theme,emitter:e.emitter},(function(t,n,a,o){return i.setClassNames(t),i.setHeight(n),Object(s["lb"])(s["h"].Provider,{value:i.customContentRenderId},Object(s["lb"])(s["e"],Object(r["a"])({isHeightAuto:a,forPrint:o},e)))})),i.el)}else i.isRendered&&(i.isRendered=!1,Object(s["vc"])(i.el),i.setClassNames([]),i.setHeight(""));Object(s["Ab"])()},i.el=t,i.renderRunner=new s["p"](i.handleRenderRequest),new s["f"]({optionOverrides:n,calendarApi:i,onAction:i.handleAction,onData:i.handleData}),i}return Object(r["b"])(t,e),Object.defineProperty(t.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()},t.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},t.prototype.updateSize=function(){e.prototype.updateSize.call(this),Object(s["Ab"])()},t.prototype.batchRendering=function(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")},t.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},t.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},t.prototype.resetOptions=function(e,t){this.currentDataManager.resetOptions(e,t)},t.prototype.setClassNames=function(e){if(!Object(s["Xb"])(e,this.currentClassNames)){for(var t=this.el.classList,n=0,i=this.currentClassNames;n<i.length;n++){var a=i[n];t.remove(a)}for(var r=0,o=e;r<o.length;r++){a=o[r];t.add(a)}this.currentClassNames=e}},t.prototype.setHeight=function(e){Object(s["U"])(this.el,"height",e)},t}(s["d"]),l={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0};function c(e){return"object"===typeof e&&(Array.isArray(e)?e=Array.prototype.slice.call(e):e&&(e=i({},e))),e}function d(e,t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i],i));return n}function u(e){return function(t){return{vue:e(t)}}}function p(e){return Object(s["pb"])({contentTypeHandlers:{vue:function(){return h(e)}}})}function h(e){var t,n;function i(i,a){if(t!==i&&(t&&n&&n.$destroy(),t=i),n)n.content=a;else{n=f(a,e);var r=document.createElement("span");i.appendChild(r),n.$mount(r)}}function a(){n&&n.$destroy()}return{render:i,destroy:a}}function f(e,t){return new a["a"]({parent:t,data:{content:e},render:function(e){var t=this.content;return 1===t.length?t[0]:e("span",{},t)}})}var v=a["a"].extend({props:{options:Object},data:m,render:function(e){return e("div",{attrs:{"data-fc-render-id":this.renderId}})},mounted:function(){var e=this.$options;e.scopedSlotOptions=d(this.$scopedSlots,u);var t=new o(this.$el,this.buildOptions(this.options,this));e.calendar=t,t.render()},methods:{getApi:y,buildOptions:g},beforeUpdate:function(){this.getApi().resumeRendering()},beforeDestroy:function(){this.getApi().destroy()},watch:b()});function m(){return{renderId:0}}function g(e,t){var n=this.$options;return e=e||{},i(i(i({},n.scopedSlotOptions),e),{plugins:(e.plugins||[]).concat([p(t)])})}function y(){var e=this.$options;return e.calendar}function b(){var e={options:{deep:!0,handler:function(e){var t=this.getApi();t.pauseRendering(),t.resetOptions(this.buildOptions(e,this)),this.renderId++}}},t=function(t){e["options."+t]={deep:!0,handler:function(e){var n;if(void 0!==e){var i=this.getApi();i.pauseRendering(),i.resetOptions((n={},n[t]=c(e),n),!0),this.renderId++}}}};for(var n in l)t(n);return e}var w,C=v,S=!1;function k(e){S||(S=!0,e.component("FullCalendar",C))}w="undefined"!==typeof globalThis?globalThis.Vue:window.Vue,w&&w.use({install:k});t["a"]=C},f8935:function(e,t,n){var i=n("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"23.635",viewBox:"0 0 25 23.635"},children:[{tag:"g",attrsMap:{id:"",transform:"translate(-70.998 -72.533)"},children:[{tag:"path",attrsMap:{id:"_393","data-name":" 393",style:"fill: #4273f6;",class:"cls-1",d:"M93.425,96.167h-15.9A4.639,4.639,0,0,1,73,91.443V77.256a4.636,4.636,0,0,1,4.519-4.723l3.19.056a2.244,2.244,0,0,1,1.517.6l2.386,2.244a2.238,2.238,0,0,0,1.517.6h7.3a4.637,4.637,0,0,1,4.519,4.723v10.7a4.642,4.642,0,0,1-4.521,4.725Z",transform:"translate(-1.949)"}},{tag:"path",attrsMap:{id:"_394","data-name":" 394",style:"fill: #465cdb;\n        opacity: 0.69;",class:"cls-2",d:"M92.217,350.112H78.981a5.913,5.913,0,0,1-5.85-5.941V335.8a1.288,1.288,0,0,1,1.278-1.3H96.788a1.289,1.289,0,0,1,1.278,1.3v8.365a5.908,5.908,0,0,1-5.847,5.942Z",transform:"translate(-2.073 -254.958)"}},{tag:"path",attrsMap:{id:"_395","data-name":" 395",style:" fill: #fff;",class:"cls-3",d:"M177.619,318.685H160.68a1.6,1.6,0,0,1-1.575-1.606v-8.956a1.6,1.6,0,0,1,1.575-1.606h16.94a1.6,1.6,0,0,1,1.575,1.606v8.954a1.6,1.6,0,0,1-1.575,1.61Z",transform:"translate(-85.625 -227.596)"}},{tag:"path",attrsMap:{id:"_396","data-name":" 396",style:" fill: #fff; opacity: 0.16;",class:"cls-4",d:"M179.624,299.657h-16.94a1.6,1.6,0,0,1-1.575-1.606v-8.957a1.6,1.6,0,0,1,1.575-1.606h16.94a1.6,1.6,0,0,1,1.575,1.606v8.954A1.6,1.6,0,0,1,179.624,299.657Z",transform:"translate(-87.573 -209.086)"}},{tag:"path",attrsMap:{id:"_397","data-name":" 397",style:"fill: #4273f6;",class:"cls-1",d:"M93.371,418.174h-15.8A4.621,4.621,0,0,1,73,413.532V403.5H97.94v10.033a4.616,4.616,0,0,1-4.569,4.643Z",transform:"translate(-1.948 -322.007)"}},{tag:"path",attrsMap:{id:"_398","data-name":" 398",style:"fill: #5066fb;\n        opacity: 0.14;",class:"cls-5",d:"M91.367,747.612H75.57A4.621,4.621,0,0,1,71,742.97v-.484H95.936v.484a4.616,4.616,0,0,1-4.569,4.643Z",transform:"translate(0 -651.445)"}},{tag:"path",attrsMap:{id:"_399","data-name":" 399",style:" fill: #5d75ce;\n        opacity: 0.52;",class:"cls-6",d:"M347.708,457.546h-5.143a2.043,2.043,0,1,1,0-4.085h5.14a2.043,2.043,0,1,1,0,4.085Z",transform:"translate(-262.114 -370.394)"}},{tag:"path",attrsMap:{id:"_400","data-name":" 400",style:" fill: #ffd629;",class:"cls-7",d:"M372.261,471.719H367.7a1.619,1.619,0,1,1,0-3.239h4.561a1.619,1.619,0,0,1,0,3.239Z",transform:"translate(-286.952 -384.99)"}}]}]})}},fa0b:function(e,t,n){"use strict";n("7286")},faaa:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dir-icon"},["blue"===e.dirType?i("blue-dir-svg",{staticClass:"blue"}):"yellow"===e.dirType?i("yellow-dir-svg",{staticClass:"yellow"}):"opened"===e.dirType?i("open-dir-svg",{staticClass:"opened"}):e.contentType===e.typeMap.task?i("img",{attrs:{src:n("ed70")}}):e.contentType===e.typeMap["unit-plan"]?i("img",{attrs:{src:n("27f0")}}):(e.contentType,e.typeMap.evaluation,i("img",{attrs:{src:n("2ae5")}}))],1)},a=[],r=(n("a9e3"),n("f8935")),s=n.n(r),o=n("20de"),l=n.n(o),c=n("6f6b"),d=n.n(c),u=n("3f76"),p={name:"DirIcon",components:{BlueDirSvg:s.a,YellowDirSvg:l.a,OpenDirSvg:d.a},props:{dirType:{type:String,default:null},contentType:{type:Number,default:null}},data:function(){return{typeMap:u["e"]}}},h=p,f=(n("c164"),n("0c7c")),v=Object(f["a"])(h,i,a,!1,null,"1cf1c170",null);t["a"]=v.exports},fdde:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("6d8b"),a={average:function(e){for(var t=0,n=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},r=function(e){return Math.round(e.length/2)};function s(e){return{seriesType:e,reset:function(e,t,n){var s=e.getData(),o=e.get("sampling"),l=e.coordinateSystem,c=s.count();if(c>10&&"cartesian2d"===l.type&&o){var d=l.getBaseAxis(),u=l.getOtherAxis(d),p=d.getExtent(),h=n.getDevicePixelRatio(),f=Math.abs(p[1]-p[0])*(h||1),v=Math.round(c/f);if(isFinite(v)&&v>1){"lttb"===o&&e.setData(s.lttbDownSample(s.mapDimension(u.dim),1/v));var m=void 0;Object(i["A"])(o)?m=a[o]:Object(i["v"])(o)&&(m=o),m&&e.setData(s.downSample(s.mapDimension(u.dim),1/v,m,r))}}}}}},fde4:function(e,t,n){},ff58:function(e,t,n){"use strict";n("870d")}}]);