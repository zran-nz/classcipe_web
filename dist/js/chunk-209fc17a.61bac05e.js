(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-209fc17a"],{1561:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1651922153016",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3998","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"48",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M264.64970081 547.89048333c0.44395835 0.35516684 0.88791669 0.44395835 1.33187585 0.75472944l404.89003976 369.95051541a72.54279877 72.54279877 0 0 0 87.90375861 0.48835492 44.39583765 44.39583765 0 0 0-0.44395834-71.65488291L392.06575528 512.55139639l366.70961975-335.49934597a44.39583765 44.39583765 0 0 0 0.44395917-72.14323619 73.51950696 73.51950696 0 0 0-88.79167612 0L264.64970081 475.74724716a44.39583765 44.39583765 0 0 0 0 72.09884042z","p-id":"3999"}}]})}},3439:function(e,t,a){},3728:function(e,t,a){"use strict";a("3439")},4515:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1651925662261",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3575","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"48",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M512 0a512 512 0 1 0 512 512A513.498074 513.498074 0 0 0 512 0m0 220.747852a125.155556 125.155556 0 1 1-125.534815 125.155555 123.145481 123.145481 0 0 1 125.534815-125.155555m0 592.421926a305.569185 305.569185 0 0 1-251.06963-133.499259c0-83.437037 167.442963-129.327407 251.06963-129.327408s251.06963 45.871407 251.06963 129.327408A306.081185 306.081185 0 0 1 512 813.169778",fill:"#8A97A9","p-id":"3576"}}]})}},"488c":function(e,t,a){"use strict";a("811f")},"68f0":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1651925668470",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3847","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"48",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M0.558545 512a512 511.441455 90 1 0 1022.88291 0 512 511.441455 90 1 0-1022.88291 0Z",fill:"#686C7A","p-id":"3848"}},{tag:"path",attrsMap:{d:"M703.953455 622.703709a76.576582 76.576582 0 0 0-71.493819 44.776727l-238.312727-116.233309a97.745455 97.745455 0 0 0 11.357091-73.858327l149.690182-111.355345a79.872 79.872 0 0 0 48.965818 16.160581 79.387927 79.387927 0 1 0-78.568727-79.387927 83.781818 83.781818 0 0 0 5.957818 31.390255l-142.056727 104.429381a100.296145 100.296145 0 0 0-82.664728-47.085381A101.804218 101.804218 0 0 0 205.358545 493.549382v0.465454a101.673891 101.673891 0 0 0 101.096728 102.4h0.372363a105.304436 105.304436 0 0 0 56.599273-15.676509l261.771636 126.380218a78.773527 78.773527 0 1 0 78.75491-84.47069z",fill:"#FFFFFF","p-id":"3849"}}]})}},"811f":function(e,t,a){},"96ee":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1651915735660",class:"icon",viewBox:"0 0 1200 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4133","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"56.25",height:"48"},children:[{tag:"path",attrsMap:{d:"M1200.510327 511.982345C1200.510327 229.226854 931.807869 0 600.255164 0S0 229.226854 0 511.982345a478.791766 478.791766 0 0 0 188.197648 372.122893 624.971553 624.971553 0 0 1-66.73425 69.276507 38.522258 38.522258 0 0 0 22.597841 67.334506c20.126203 1.977311 40.605496 3.001276 61.08479 3.001276 117.226303 0 394.04986 0.282473 395.109135 0.282473C931.807869 1023.964691 1200.510327 794.737837 1200.510327 511.982345z m-609.788628-95.334643a95.617117 95.617117 0 1 1-96.040826 95.546498 95.934899 95.934899 0 0 1 96.040826-95.546498z m-328.021792 0a95.617117 95.617117 0 1 1-96.393918 95.546498A95.864281 95.864281 0 0 1 262.699907 416.647702z m674.757422 191.198924a95.617117 95.617117 0 1 1 0-191.198924 95.617117 95.617117 0 1 1 0 191.163615z","p-id":"4134"}}]})}},b5a9:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cc-form-header"},[a("div",{staticClass:"cc-header-left"},[a("div",{staticClass:"cc-back-icon",on:{click:e.handleBack}},[e._t("back",(function(){return[a("back-arrow-icon")]}))],2),a("div",{staticClass:"cc-header-title",on:{click:e.handleBack}},[e._t("left",(function(){return[e._v(" "+e._s(e.title)+" ")]}))],2),a("div",{staticClass:"last-save-date"},[e.spin?a("div",{staticClass:"spin"},[a("a-spin",[a("a-icon",{staticStyle:{"font-size":"18px"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1),e._v(" Â Saving... ")],1):e._e(),e.lastChangeSavedTime&&!e.spin?a("div",{staticClass:"last-save-date-text"},[e._v(" last save at "+e._s(e.lastChangeSavedTime)+" ")]):e._e()])]),a("div",{staticClass:"cc-header-right"},[e._t("right",(function(){return[a("form-header-action-bar",{attrs:{"collaborate-user-list":e.collaborateUserList,"online-users":e.onlineUsers,"show-publish":e.isOwner&&e.userMode!==e.USER_MODE.SCHOOL,"show-invite":e.showCollaborate&&e.isOwner,"show-collaborate":e.showCollaborate&&(e.isOwner||e.isCollaborater),"show-share":e.showShare&&(e.isOwner||e.isCollaborater),form:e.form,"disable-publish":e.disablePublish},on:{collaborate:e.handleStartCollaborate,share:e.handleSharing,comment:e.handleViewComment,publish:e.handlePublish}})]}))],2)])},o=[],n=(a("cd17"),a("ed3b")),s=a("5530"),r=(a("a9e3"),a("c740"),a("99af"),a("b0c0"),a("a434"),a("4de4"),a("1561")),l=a.n(r),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cc-form-header-action-bar"},[a("a-space",[a("div",{staticClass:"collaborate-user-list"},[e._l(e.collaborateUserList,(function(t,i){return i<5?a("div",{key:i,class:{"item-avator":!0,gray:-1===e.onlineUsers.indexOf(t.email)},style:{"z-index":1e3-i}},[a("a-tooltip",{attrs:{title:t.email,placement:"bottom"}},[a("a-badge",{attrs:{color:"green"}},[a("a-avatar",{staticClass:"user-item",attrs:{size:23,src:t.userAvatar}})],1)],1)],1):e._e()})),a("a-dropdown",{directives:[{name:"show",rawName:"v-show",value:e.collaborateUserList.length>5,expression:"collaborateUserList.length > 5"}],attrs:{overlayStyle:{"z-index":"3000"}}},[a("a",{staticClass:"ant-dropdown-link",staticStyle:{"font-size":"16px","margin-left":"15px"}},[e._v(" +"+e._s(e.collaborateUserList.length-5)+" ")]),a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},e._l(e.collaborateUserList,(function(t,i){return i>4?a("a-menu-item",{key:i},[a("a-avatar",{class:{"user-item":!0,gray:-1===e.onlineUsers.indexOf(t.email)},attrs:{size:"small",src:t.userAvatar}}),e._v(" "+e._s(t.userName)+" ")],1):e._e()})),1)],1)],2),e.showInvite?a("div",{staticClass:"action-item invite",on:{click:function(t){return e.emitEvent("collaborate")}}},[a("a-tooltip",{attrs:{title:e.collaborateTips}},[a("collaborate-icon")],1)],1):e._e(),e.showCollaborate?a("div",{staticClass:"action-item collaborate",on:{click:function(t){return e.emitEvent("comment")}}},[a("a-tooltip",{attrs:{title:"Comment"}},[a("message-icon")],1)],1):e._e(),e.showShare?a("div",{staticClass:"action-item share",on:{click:function(t){return e.emitEvent("share")}}},[a("a-tooltip",{attrs:{title:"Share"}},[a("share-icon")],1)],1):e._e(),e.showPublish?a("div",{staticClass:"action-item publish",class:{disabled:e.disablePublish},on:{click:function(t){!e.disablePublish&&e.emitEvent("publish")}}},[a("a-tooltip",{attrs:{title:"Publish"}},[a("publish-icon",{staticStyle:{width:"20px",height:"20px"}})],1)],1):e._e()])],1)},h=[],u=(a("2ca0"),a("3404")),d=a.n(u),m=a("96ee"),f=a.n(m),p=a("4515"),b=a.n(p),v=a("e6fe"),w=a.n(v),g=a("68f0"),C=a.n(g),y={name:"FormHeaderActionBar",components:{CollaborateIcon:d.a,MessageIcon:f.a,InviteIcon:b.a,PublishIcon:w.a,ShareIcon:C.a},data:function(){return{}},computed:{collaborateTips:function(){return this.form.sourceFrom?"The function of Collaboration cannot be used for non-original content":!this.form.presentationId||this.form.presentationId.startsWith("fake_")?"Please create your slides first.":"Collaborate"}},props:{form:{type:Object,default:function(){return null}},showInvite:{type:Boolean,default:!1},showCollaborate:{type:Boolean,default:!1},showPublish:{type:Boolean,default:!1},showShare:{type:Boolean,default:!1},onlineUsers:{type:Array,default:function(){return[]}},collaborateUserList:{type:Array,default:function(){return[]}},disablePublish:{type:Boolean,default:!1}},created:function(){},methods:{emitEvent:function(e){"collaborate"===e&&"Collaborate"!==this.collaborateTips||this.$emit(e)}}},x=y,k=(a("488c"),a("0c7c")),_=Object(k["a"])(x,c,h,!1,null,"050a1046",null),B=_.exports,M=a("2f62"),O=a("3f76"),S=a("f93e"),U={name:"FormHeader",components:{FormHeaderActionBar:B,BackArrowIcon:l.a},props:{title:{type:String,default:""},form:{type:Object,default:function(){return null}},collaborate:{type:Object,default:function(){return null}},lastChangeSavedTime:{type:String,default:""},showCollaborate:{type:Boolean,default:!0},showBack:{type:Boolean,default:!0},shareStatus:{type:Number,default:0},showShare:{type:Boolean,default:!0},isPreviewMode:{type:Boolean,default:!1},spin:{type:Boolean,default:!1},disablePublish:{type:Boolean,default:!1},backByRouter:{type:Boolean,default:!1},needConfirm:{type:Boolean,default:!1}},data:function(){return{publishing:!1,saving:!1,typeMap:O["e"],editFormNameMode:!1,formName:"",owner:{},isShare:!1,onlineUsers:[],collaborateUserList:[],debounceHiddenHeader:null,USER_MODE:S["W"]}},computed:Object(s["a"])({isOwner:function(){return this.form&&this.user.email===this.form.createBy},isCollaborater:function(){var e=this,t=this.collaborateUserList.findIndex((function(t){return t.email===e.user.email}));return t>-1},isEditCollaborater:function(){var e=this,t=this.collaborateUserList.findIndex((function(t){return t.email===e.user.email}));return t>-1&&"Edit"===this.collaborateUserList[t].permissions}},Object(M["e"])({user:function(e){return e.user.info},removedCollaborate:function(e){return e.websocket.removedCollaborate},hiddenHeader:function(e){return e.app.hiddenHeader},userMode:function(e){return e.app.userMode}})),watch:{collaborate:function(e){this.owner=e.owner;var t=[this.user.email].concat(e.onlineEmails);this.onlineUsers=t,this.formatUserList(e.users)},shareStatus:function(e){this.isShare=1===e},removedCollaborate:function(e){var t=this;e&&e.indexOf(this.form.id)>-1&&n["a"].error({title:"Alert",content:"You have been removed from the collaborating list of "+this.form.name,okText:"Ok",mask:!0,onOk:function(){t.$router.push({path:"/teacher/main/created-by-me"})}});var a=this.collaborate.users.findIndex((function(e){return e.email===t.user.email}));a>-1&&this.collaborate.users.splice(a,1),this.removedCollaborateAction(!1)}},methods:Object(s["a"])(Object(s["a"])({handleMouseEnterOutHoverBar:function(){this.debounceHiddenHeader()}},Object(M["b"])(["removedCollaborateAction"])),{},{formatUserList:function(e){var t=this,a=[];this.owner&&(a=[{userName:this.owner.nickname,userAvatar:this.owner.avatar,email:this.owner.email}]),e&&(a=a.concat(e.filter((function(e){return t.onlineUsers.indexOf(e.email)>-1&&e.email!==t.owner.email}))),a=a.concat(e.filter((function(e){return-1===t.onlineUsers.indexOf(e.email)&&e.email!==t.owner.email})))),this.collaborateUserList=a},handleBack:function(){var e=this;this.$logger.info("handleBack"),this.needConfirm?this.$confirm({title:"Confirm to leave",content:"Do you confirm to leave the current page?",centered:!0,onOk:function(){e.isPreviewMode||e.backByRouter?e.$emit("back"):(e.isOwner,e.$router.push({path:"/teacher/main/created-by-me"}))}}):this.isPreviewMode||this.backByRouter?this.$emit("back"):(this.isOwner,this.$router.push({path:"/teacher/main/created-by-me"}))},handleSave:function(){this.saving=!0,this.$logger.info("handleSave"),this.$emit("save")},handlePublish:function(e){this.publishing=!0,this.$logger.info("handlePublish"),this.$emit("publish",e)},handleStartCollaborate:function(){this.$logger.info("handleStartCollaborate"),this.$emit("collaborate")},handleViewComment:function(){this.$emit("view-collaborate")},handleEnsureNewFormName:function(){if(this.$logger.info("handleEnsureNewFormName "+this.form.name),this.editFormNameMode=!1,this.formName&&this.formName!==this.form.name){var e=Object.assign({},this.form);e.name=this.formName,this.$emit("update-form",e)}this.$logger.info("editFormNameMode "+this.editFormNameMode)},handleSharing:function(){this.sharing=!0,this.$logger.info("handleSharing"),this.$emit("share")},formatOnlineEmail:function(e){return e===this.form.createBy?"Owner: "+e:e},handleCancelBounce:function(){this.$logger.info("handleCancelBounce"),this.debounceHiddenHeader.cancel()}})},$=U,A=(a("3728"),Object(k["a"])($,i,o,!1,null,"ec47dd1c",null));t["a"]=A.exports}}]);