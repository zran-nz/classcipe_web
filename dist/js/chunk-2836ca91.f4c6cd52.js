(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2836ca91"],{"005a":function(e,t,a){},"21fb":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("b0c0");var n={data:function(){return{unwatch:null,routeName:this.$route.name}},created:function(){var e=this;this.unwatch=this.$store.watch((function(e){return e.user.currentSchool}),(function(t){return t&&e.$route.name===e.routeName&&e.handleSchoolChange(t)}))},computed:{},beforeDestroy:function(){this.unwatch&&this.unwatch()},methods:{handleSchoolChange:function(e){}}}},"36c7":function(e,t,a){"use strict";a("8b1a3")},"457d":function(e,t,a){},4992:function(e,t,a){e.exports=a.p+"img/default-avatar.db1c5445.png"},"50c4a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-full-form-wrapper",attrs:{id:"formRoot"}},[n("fixed-form-header",{scopedSlots:e._u([{key:"header",fn:function(){return[n("form-header",{attrs:{title:"Role Manage","show-share":!1,"show-collaborate":!1,"is-preview-mode":!0},on:{back:e.goBack},scopedSlots:e._u([{key:"back",fn:function(){return[n("img",{staticClass:"single-logo-img",attrs:{src:a("be50"),alt:"classcipe"},on:{click:function(t){return t.stopPropagation(),e.$router.push("/")}}})]},proxy:!0},{key:"left",fn:function(){return[n("a-space",{attrs:{size:5,align:"center"},on:{click:function(e){e.stopPropagation()}}},[n("label",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.$router.push("/account/info")}}},[e._v("Account Info")]),n("label",{attrs:{for:""}},[e._v(">")]),n("label",{staticStyle:{"font-weight":"normal"}},[e._v("Role Manage")])])]},proxy:!0},{key:"right",fn:function(){},proxy:!0}])})]},proxy:!0}])}),n("div",{staticClass:"form-content"},[n("div",{staticClass:"form-tab"},[n("a-row",{staticStyle:{height:"100%"},attrs:{gutter:10}},[n("a-col",{staticStyle:{height:"100%"},attrs:{md:e.leftColMd,sm:24}},[n("a-card",{staticStyle:{height:"100%"},attrs:{bordered:!1}},[n("school-role-list",{ref:"schoolRoleList",attrs:{school:e.currentSchool},on:{choose:e.chooseRole}})],1)],1),1===e.rightcolval?n("a-col",{staticStyle:{height:"100%"},attrs:{md:e.rightColMd,sm:24}},[n("a-card",{staticStyle:{height:"100%"},attrs:{bordered:!1}},[e.selectedRole&&"Admin"===e.selectedRole.roleCode?n("school-role-user",{attrs:{school:e.currentSchool,role:e.selectedRole},on:{close:e.clearRole}}):e._e(),e.selectedRole&&"Homeroom teacher"===e.selectedRole.roleCode?n("school-role-class",{attrs:{school:e.currentSchool,role:e.selectedRole},on:{close:e.clearRole}}):e._e(),e.selectedRole&&"Subject coordinator"===e.selectedRole.roleCode?n("school-role-subject",{attrs:{school:e.currentSchool,role:e.selectedRole},on:{close:e.clearRole}}):e._e()],1)],1):e._e()],1)],1)])],1)},o=[],s=a("5530"),c=a("f93e"),r=a("6e84"),i=a("21fb"),l=a("b5ff8"),d=a("b5a9"),u=a("20ae"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"role-con"},[a("div",{staticClass:"filter-tab"}),a("div",{staticClass:"table-con"},[a("a-table",{ref:"table",attrs:{rowKey:function(e){return e.roleCode},columns:e.columns,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange,type:"radio"}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,n){return a("a-space",{},[a("a",{on:{click:function(t){return e.showUsers(n)}}},[e._v("Users")]),0===e.selectedRowKeys.length?[a("a",{on:{click:function(t){return e.handleEdit(n)}}},[e._v("Edit")]),a("a-popover",{attrs:{overlayStyle:{width:"300px"},title:n.name+" Permission",trigger:"click"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("a-space",{staticStyle:{"flex-wrap":"wrap"}},e._l(e.ROLE_PERMISSION[n.roleCode].label.split(","),(function(t){return a("a-tag",{key:t,staticStyle:{"margin-bottom":"5px"}},[e._v(" "+e._s(t)+" ")])})),1)],1),a("a",[e._v("Permissions")])])]:a("a-dropdown",[a("a",{staticClass:"ant-dropdown-link"},[e._v(" More "),a("a-icon",{attrs:{type:"down"}})],1),a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",[a("a-popover",{attrs:{overlayStyle:{width:"300px"},title:n.name+" Permission",trigger:"click"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("a-space",{staticStyle:{"flex-wrap":"wrap"}},e._l(e.ROLE_PERMISSION[n.roleCode].label.split(","),(function(t){return a("a-tag",{key:t,staticStyle:{"margin-bottom":"5px"}},[e._v(" "+e._s(t)+" ")])})),1)],1),a("a",[e._v("Permissions")])])],1),a("a-menu-item",[a("a",{on:{click:function(t){return e.handleEdit(n)}}},[e._v("Edit")])])],1)],1)],2)}}])})],1),a("school-role-add",{ref:"schoolRoleAdd",on:{ok:e.debounceLoad}}),a("school-role-permission",{ref:"schoolRolePermission",on:{ok:e.debounceLoad}})],1)},f=[],m=a("2909"),p=(a("99af"),a("d3b7"),a("b64b"),a("159b"),a("b0c0"),a("6f2a")),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{staticStyle:{top:"5%",height:"85%","overflow-y":"hidden"},attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading,cancelText:"Close",wrapClassName:"ant-modal-cust-warp"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form-model",e._b({ref:"form",attrs:{model:e.model,rules:e.validatorRules}},"a-form-model",e.layout,!1),[a("a-form-model-item",{attrs:{label:"Role Name",required:"",prop:"name"}},[a("a-input",{attrs:{placeholder:"Please input role name"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1)],1)],1)],1)},g=[],S={name:"SchoolRoleAdd",data:function(){return{title:"School Role Edit",visible:!1,roleDisabled:!1,model:{schoolId:"",changedKey:"",roleNames:{},name:""},layout:{labelCol:{span:3},wrapperCol:{span:14}},confirmLoading:!1,validatorRules:{name:[{required:!0,message:"Please input role name!"},{min:2,max:30,message:"No more than 30 characters in length ",trigger:"blur"}]}}},created:function(){this.modelDefault=JSON.parse(JSON.stringify(this.model))},methods:{add:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.edit(Object(s["a"])(Object(s["a"])({},this.modelDefault),e))},edit:function(e){e.changedKey?(this.model=JSON.parse(JSON.stringify(e)),this.visible=!0):this.$message.error("Please select a role")},close:function(){this.$refs.form.clearValidate(),this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.$refs.form.validate((function(a){if(!a)return!1;t.confirmLoading=!0;var n=e.model.roleNames;n[e.model.changedKey]=e.model.name,Object(p["i"])({schoolId:e.model.schoolId,roleNames:n}).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}))},handleCancel:function(){this.close()}}},v=S,y=a("0c7c"),C=Object(y["a"])(v,b,g,!1,null,"0261a469",null),R=C.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.loading,footer:null,cancelText:"Close",wrapClassName:"ant-modal-cust-warp"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.loading}},[e.result.length>0?a("div"):a("a-empty")],1)],1)},j=[],w={name:"SchoolRolePermission",data:function(){return{title:"School Role Permission",result:[],loading:!1,visible:!1}},methods:{edit:function(e){var t=this;this.loading=!0,Object(p["e"])({roleId:e.id}).then((function(e){0===e.code&&(t.result=e.result.permissionList,t.visible=!0)})).finally((function(){t.loading=!1}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){},handleCancel:function(){this.close()}}},k=w,T=Object(y["a"])(k,O,j,!1,null,"6e2ec06a",null),I=T.exports,_=a("4fcf"),$=_.debounce,P={name:"SchoolRoleList",components:{SchoolRoleAdd:R,SchoolRolePermission:I},props:{school:{type:Object,default:function(){}}},watch:{school:{handler:function(e){this.currentSchool=Object(s["a"])({},e),this.loadData()},deep:!0,immediate:!0}},data:function(){return{ROLE_PERMISSION:c["z"],currentSchool:this.school,queryParams:{searchKey:""},loading:!1,dataSource:[],selectedRowKeys:[],selectionRows:[],ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" of "+e},total:0}}},computed:{columns:function(){return[{title:"Name",align:"center",dataIndex:"name"}].concat(Object(m["a"])((this.selectedRowKeys.length,[])),[{title:"Action",align:"center",scopedSlots:{customRender:"action"}}])}},created:function(){this.debounceLoad=$(this.loadData,300)},methods:{loadData:function(){var e=this;this.loading=!0,Object(p["h"])(Object(s["a"])(Object(s["a"])({},this.queryParams),{},{pageNo:this.ipagination.current,pageSize:this.ipagination.pageSize,schoolId:this.currentSchool.id})).then((function(t){0===t.code&&(e.dataSource=t.result.records,t.result.total?e.ipagination.total=t.result.total:e.ipagination.total=0)})).finally((function(){e.loading=!1}))},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t,this.$emit("choose",t[0])},onClearSelected:function(){this.doClear(),this.$emit("choose","")},doClear:function(){this.selectedRowKeys=[],this.selectionRows=[]},handleSearch:function(){this.ipagination.current=1,this.debounceLoad()},handleTableChange:function(e,t,a){Object.keys(a).length>0&&(this.isorter.column=a.field,this.isorter.order="ascend"===a.order?"asc":"desc"),this.ipagination=e,this.debounceLoad()},showUsers:function(e){this.selectedRowKeys=[e.roleCode],this.selectionRows=[Object(s["a"])({},e)],this.$emit("choose",e)},handleAdd:function(){this.$refs.schoolRoleAdd.add({schoolId:this.currentSchool.id,roleNames:{}})},handleEdit:function(e){var t={};this.dataSource.forEach((function(e){t[e.roleCode]=e.name})),this.$refs.schoolRoleAdd.edit({schoolId:this.currentSchool.id,name:e.name,roleNames:t,changedKey:e.roleCode})},handlePermission:function(e){this.$refs.schoolRolePermission.edit({schoolId:this.currentSchool.id,id:e.id})},handleDelete:function(e){this.$confirm({title:"Confirm delete role "+e.name,content:"By deleting the role, all teachers belong to it will be removed. Do you confirm to delete? ",centered:!0,onOk:function(){}})}}},L=P,A=(a("b098f"),Object(y["a"])(L,h,f,!1,null,"3110e2ed",null)),M=A.exports,x=function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"role-con"},[n("a-icon",{staticClass:"close",attrs:{type:"close-circle"},on:{click:t.handleClose}}),n("div",{staticClass:"filter-tab"},[n("div",{directives:[{name:"clickOutside",rawName:"v-clickOutside",value:function(){return e.searchPoverVis=!1},expression:"() => this.searchPoverVis = false"}],staticStyle:{width:"300px"}},[n("a-popover",{staticClass:"global-search",staticStyle:{width:"100%"},attrs:{placement:"bottomLeft",overlayClassName:"search-popver",getPopupContainer:function(e){return e.parentElement},overlayStyle:{maxHeight:"300px",overflow:"auto"},size:"large",trigger:"null"},model:{value:t.searchPoverVis,callback:function(e){t.searchPoverVis=e},expression:"searchPoverVis"}},[n("a-input-search",{attrs:{placeholder:"Search and add by name/email"},on:{focus:function(e){t.searchPoverVis=!0},change:t.getFilterMembers},model:{value:t.searchKeyMember,callback:function(e){t.searchKeyMember=e},expression:"searchKeyMember"}}),n("template",{slot:"content"},t._l(t.filterMembers,(function(e){return n("div",{key:e.id,staticClass:"search-user"},[n("div",{staticClass:"user-avatar"},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:e.avatar}})])]),n("div",{staticClass:"user-name-email"},[n("div",{staticClass:"user-name"},[t._v(" "+t._s(e.nickname||e.firstname+" "+e.lastname)+" ")]),n("div",{staticClass:"email"},[t._v(" "+t._s(e.email)+" ")])]),n("div",{staticClass:"action-wrapper"},[n("a-button",{attrs:{type:"link"},on:{click:function(a){return t.handleAddMember(e)}}},[t._v(" Add ")])],1)])})),0)],2)],1)]),n("div",{staticClass:"table-con"},[n("a-table",{ref:"table",attrs:{rowKey:function(e){return e.id},columns:t.columns,dataSource:t.dataSource,pagination:t.ipagination,loading:t.loading,rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange}},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"action",fn:function(e,a){return n("a-space",{},[n("a",{attrs:{type:"link"},on:{click:function(e){return t.handleDelete(a)}}},[t._v("Delete")])])}}])})],1)],1)},U=[],K=a("3835"),D=(a("3ca3"),a("ddb0"),a("d81d"),a("4de4"),a("caad"),a("2532"),a("7db0"),a("ec09")),E=a("9bfe"),N=a("ad59"),F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{centered:"",title:e.title,width:800,visible:e.visible,cancelText:"Close"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchQuery.apply(null,arguments)}}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{span:10}},[a("a-form-item",{attrs:{label:"User Name"}},[a("a-input",{attrs:{placeholder:"Search here"},model:{value:e.queryParam.searchKey,callback:function(t){e.$set(e.queryParam,"searchKey",t)},expression:"queryParam.searchKey"}})],1)],1),a("a-col",{attrs:{span:8}},[a("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"left",overflow:"hidden"}},[a("a-button",{attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("Search")]),a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"reload"},on:{click:e.searchReset}},[e._v("Reset")])],1)])],1)],1)],1),a("div",[a("a-table",{attrs:{bordered:"",size:"small",rowKey:"id",columns:e.columns1,dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading,scroll:{y:240},rowSelection:{selectedRowKeys:e.selectedRowKeys,onSelectAll:e.onSelectAll,onSelect:e.onSelect,onChange:e.onSelectChange}},on:{change:e.handleTableChange}})],1)])],1)},z=[],q=(a("a434"),a("ca00")),H={name:"SchoolUserSelect",props:{school:{type:Object,default:function(){}},roles:{type:String,default:"teacher"}},watch:{school:{handler:function(e){this.currentSchool=Object(s["a"])({},e),this.loadData()},deep:!0,immediate:!0}},data:function(){return{title:"Add School User",currentSchool:this.school,names:[],visible:!1,placement:"right",description:"",queryParam:{},columns1:[{title:"Name",align:"center",dataIndex:"nickname",width:150,customRender:function(e,t){return e||(t.firstname||"")+(t.lastname||"")||t.email}},{title:"Email",align:"center",width:100,dataIndex:"email"},{title:"Gender",align:"center",width:100,dataIndex:"gender"},{title:"Create Time",align:"center",dataIndex:"createTime",width:120}],dataSource:[],dataSource2:[],ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" of "+e},total:0},isorter:{column:"createTime",order:"desc"},loading:!1,selectedRowKeys:[],selectedRows:[]}},created:function(){this.loadData()},methods:{searchQuery:function(){this.loadData(1)},searchReset:function(){this.queryParam={},this.loadData(1)},handleCancel:function(){this.visible=!1},handleOk:function(){this.dataSource2=this.selectedRowKeys,this.$emit("selectFinished",this.dataSource2),this.visible=!1},add:function(){this.visible=!0},loadData:function(e){var t=this;1===e&&(this.ipagination.current=1);var a=this.getQueryParams();Object(D["m"])(a).then((function(e){e.success&&(t.dataSource=e.result.records,t.ipagination.total=e.result.total)}))},getQueryParams:function(){var e=Object.assign({},this.queryParam,this.isorter);return e.field=this.getQueryField(),e.pageNo=this.ipagination.current,e.pageSize=this.ipagination.pageSize,e.schoolId=this.currentSchool.id,e.roles=this.roles,Object(q["filterObj"])(e)},getQueryField:function(){},onSelectAll:function(e,t,a){if(!0===e)for(var n=0;n<a.length;n++)this.dataSource2.push(a[n]);else for(var o=0;o<a.length;o++)this.dataSource2.splice(this.dataSource2.indexOf(a[o]),1)},onSelect:function(e,t){if(!0===t)this.dataSource2.push(e);else{var a=this.dataSource2.indexOf(e);a>=0&&this.dataSource2.splice(this.dataSource2.indexOf(e),1)}},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onClearSelected:function(){this.selectedRowKeys=[],this.selectionRows=[]},handleDelete:function(e){this.dataSource2.splice(this.dataSource2.indexOf(e),1)},handleTableChange:function(e,t,a){Object.keys(a).length>0&&(this.isorter.column=a.field,this.isorter.order="ascend"===a.order?"asc":"desc"),this.ipagination=e,this.loadData()}}},V=H,B=(a("36c7"),Object(y["a"])(V,F,z,!1,null,"a1b3353a",null)),Q=B.exports,G=a("4fcf"),J=G.debounce,X={name:"SchoolRoleUser",components:{SchoolUserSelect:Q},props:{school:{type:Object,default:function(){}},role:{type:Object,default:function(){}}},watch:{school:{handler:function(e){this.currentSchool=Object(s["a"])({},e),this.loadData()},deep:!0,immediate:!0},role:{handler:function(e){this.currentRole=Object(s["a"])({},e),this.loadData()},deep:!0,immediate:!0}},data:function(){return{currentSchool:this.school,currentRole:this.role,searchPoverVis:!1,subjectOptions:[],classOptions:[],teacherList:[],filterMembers:[],queryParams:{searchKey:""},selectMember:"",searchKeyMember:"",loading:!1,dataSource:[],selectedRowKeys:[],selectionRows:[],ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" of "+e},total:0}}},computed:{columns:function(){return[{title:"Email",align:"center",dataIndex:"email",width:150},{title:"Name",align:"center",dataIndex:"nickname",width:150,customRender:function(e,t){return e||(t.firstname||"")+(t.lastname||"")||t.email}},{title:"Create Time",align:"center",dataIndex:"createTime",width:120},{title:"Action",align:"center",scopedSlots:{customRender:"action"}}]}},created:function(){this.debounceLoad=J(this.loadData,300),this.initDict(),this.initSchoolUsers()},methods:{loadData:function(){var e=this;this.currentSchool&&this.currentRole&&(this.loading=!0,Object(D["m"])(Object(s["a"])(Object(s["a"])({},this.queryParams),{},{pageNo:this.ipagination.current,pageSize:this.ipagination.pageSize,schoolId:this.currentSchool.id,schoolUserStatus:1,teacherRoles:"Admin",roles:"teacher"})).then((function(t){0===t.code&&(e.dataSource=t.result.records,t.result.total?e.ipagination.total=t.result.total:e.ipagination.total=0)})).finally((function(){e.loading=!1})))},initDict:function(){var e=this;Promise.all([Object(E["a"])({schoolId:this.currentSchool.id}),Object(N["g"])({pageNo:1,pageSize:1e4,schoolId:this.currentSchool.id})]).then((function(t){var a=Object(K["a"])(t,2),n=a[0],o=a[1];if(n.success){var s=[];n.result.forEach((function(e){e.subjectList&&e.subjectList.length>0&&(s=s.concat(e.subjectList))})),e.subjectOptions=s}o.success&&(e.classOptions=o.result.records)}))},initSchoolUsers:function(){var e=this;Object(D["m"])({pageNo:1,pageSize:1e4,schoolId:this.currentSchool.id,onlyActive:!0,roles:"teacher"}).then((function(t){t.success&&(e.teacherList=t.result.records,e.getFilterMembers())}))},getFilterMembers:function(){var e=this;this.filterMembers=this.teacherList.filter((function(t){var a=t.roles.map((function(e){return e.name.toLowerCase()})),n=a.includes(e.currentRole.roleCode.toLowerCase()),o=((t.firstname||"")+(t.lastname||"")).toLowerCase();return!n&&(t.email&&t.email.toLowerCase().indexOf(e.searchKeyMember.toLowerCase()||"")>-1||o.indexOf(e.searchKeyMember.toLowerCase()||"")>-1)})).map((function(t){var a=t.classes.map((function(e){return e.id}));return e.$set(t,"classArr",a),t}))},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onClearSelected:function(){this.selectedRowKeys=[],this.selectionRows=[]},handleSearch:function(){this.ipagination.current=1,this.debounceLoad()},handleTableChange:function(e,t,a){Object.keys(a).length>0&&(this.isorter.column=a.field,this.isorter.order="ascend"===a.order?"asc":"desc"),this.ipagination=e,this.debounceLoad()},handleAdd:function(){this.currentRole&&this.currentRole.roleCode?this.$refs.schoolUserSelect.add():this.$message.error("Please select a role!")},handleClose:function(){this.$emit("close")},handleDelete:function(e){var t=this;this.currentRole&&this.currentRole.roleCode?this.$confirm({title:"Confirm delete user "+e.email,centered:!0,onOk:function(){t.loading=!0,Object(D["r"])({roleId:t.currentRole.id,schoolId:t.currentSchool.id,userIdList:[e.uid]}).then((function(e){0===e.code?(t.$message.success("Delete user successfully"),t.initSchoolUsers(),t.debounceLoad()):t.loading=!1})).catch((function(){t.loading=!1}))}}):this.$message.error("Please select a role!")},handleSearchMember:function(e){this.searchKeyMember=e},handleSelectMember:function(e){var t=this.teacherList.find((function(t){return t.id===e}));t&&this.handleAddMember(t)},handleAddMember:function(e){var t=this;if(this.currentRole&&this.currentRole.roleCode){var a=e.roles.map((function(e){return e.name.toLowerCase()})),n=a.includes(this.currentRole.roleCode.toLowerCase());n&&this.$message.error("This user has been added"),this.selectMember="",this.loading=!0,Object(D["b"])({roleId:this.currentRole.id,schoolId:this.currentSchool.id,email:e.email}).then((function(e){0===e.code?(t.$message.success("Add user successfully"),t.initSchoolUsers(),t.debounceLoad()):t.loading=!1})).catch((function(){t.loading=!1}))}else this.$message.error("Please select a role!")},selectOK:function(e){var t=this;this.currentRole&&this.currentRole.roleCode?(this.loading=!0,Object(D["b"])({roleId:this.currentRole.id,schoolId:this.currentSchool.id,email:e[0]}).then((function(e){0===e.code?(t.$message.success("Add user successfully"),t.debounceLoad()):t.loading=!1})).catch((function(){t.loading=!1}))):this.$message.error("Please select a role!")}}},W=X,Y=(a("c627"),Object(y["a"])(W,x,U,!1,null,"0862cd91",null)),Z=Y.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"role-con"},[n("a-icon",{staticClass:"close",attrs:{type:"close-circle"},on:{click:e.handleClose}}),n("div",{staticClass:"filter-tab"},[n("div",{staticStyle:{width:"300px"}}),n("a-space",{staticClass:"filter-opt"},[n("a-button",{attrs:{type:"primary"},on:{click:e.handleAddClass}},[e._v("Add Class")])],1)],1),n("div",{staticClass:"table-con"},[n("a-table",{ref:"table",attrs:{rowKey:function(e){return e.id},columns:e.columns,dataSource:e.dataSource,pagination:!1,loading:e.loading},scopedSlots:e._u([{key:"headerTeachers",fn:function(t,o){return n("a-space",{staticStyle:{"flex-wrap":"wrap"}},[t&&t.length>0?e._l(o.headerTeachers,(function(t){return n("div",{key:t.userId,staticClass:"user-tag"},[n("div",{staticClass:"avatar"},[t.avatar?n("img",{attrs:{src:t.avatar}}):n("img",{attrs:{src:a("4992")}})]),n("div",{staticClass:"user-name-email"},[n("div",{staticClass:"user-name"},[e._v(" "+e._s(t.userName)+" ")]),n("div",{staticClass:"email"},[e._v(" "+e._s(t.email)+" ")])]),n("div",{staticClass:"user-opt"},[n("a-icon",{attrs:{type:"close-circle"},on:{click:function(a){return e.handleDelete(t,o)}}})],1)])})):e._e()],2)}},{key:"action",fn:function(t,o){return n("a-space",{},[n("a-popover",{attrs:{placement:"left",title:"Choose User",trigger:"click"}},[n("div",{staticClass:"search-popver",attrs:{slot:"content"},slot:"content"},[n("a-space",{staticClass:"search-con"},[n("a-input-search",{attrs:{"allow-clear":!0,placeholder:"Search and add by name/email"},model:{value:e.searchKeyMember,callback:function(t){e.searchKeyMember=t},expression:"searchKeyMember"}}),n("a-button",{on:{click:e.goTeachers}},[e._v("Add new")])],1),e._l(e.filterMembers,(function(t){return n("div",{key:t.id,staticClass:"search-user"},[n("div",{staticClass:"user-avatar"},[n("div",{staticClass:"avatar"},[t.avatar?n("img",{attrs:{src:t.avatar}}):n("img",{attrs:{src:a("4992")}})])]),n("div",{staticClass:"user-name-email"},[n("div",{staticClass:"user-name"},[e._v(" "+e._s(t.nickname||t.firstname+" "+t.lastname)+" ")]),n("div",{staticClass:"email"},[e._v(" "+e._s(t.email)+" ")])]),n("div",{staticClass:"action-wrapper"},[n("a-button",{attrs:{loadin:e.loading,type:"link"},on:{click:function(a){return e.handleAddMember(t,o)}}},[e._v(" Add ")])],1)])}))],2),n("a",{attrs:{type:"link"},on:{click:function(t){return e.handleResetFilter(o)}}},[e._v("Add")])])],1)}}])})],1)],1)},te=[],ae=a("4fcf"),ne=ae.debounce,oe={name:"SchoolRoleClass",components:{},props:{school:{type:Object,default:function(){}},role:{type:Object,default:function(){}}},watch:{school:{handler:function(e){this.currentSchool=Object(s["a"])({},e),this.loadData(),this.initSchoolUsers()},deep:!0,immediate:!0},role:{handler:function(e){this.currentRole=Object(s["a"])({},e),this.loadData()},deep:!0,immediate:!0}},data:function(){return{currentSchool:this.school,currentRole:this.role,searchPoverVis:!1,subjectOptions:[],classOptions:[],teacherList:[],currentRecord:null,queryParams:{searchKey:""},selectMember:"",searchKeyMember:"",loading:!1,dataSource:[],selectedRowKeys:[],selectionRows:[],ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" of "+e},total:0}}},computed:{columns:function(){return[{title:"Class",align:"center",dataIndex:"className",width:150},{title:"Teachers",align:"center",dataIndex:"headerTeachers",scopedSlots:{customRender:"headerTeachers"}},{title:"Action",align:"center",width:80,scopedSlots:{customRender:"action"}}]},filterMembers:function(){var e=this,t=[];if(this.currentRecord&&(t=this.teacherList.filter((function(t){return!e.currentRecord.teachers||!e.currentRecord.teachers.find((function(e){return e.userId===t.uid}))}))),this.searchKeyMember){var a=((this.currentRecord.firstname||"")+(this.currentRecord.lastname||"")).toLowerCase();t=t.filter((function(t){return t.email&&(t.email.toLowerCase().indexOf((e.searchKeyMember||"").toLowerCase()||"")>-1||a.indexOf((e.searchKeyMember||"").toLowerCase()||"")>-1)}))}return t}},created:function(){this.debounceLoad=ne(this.loadData,300),this.initDict(),this.initSchoolUsers()},methods:{loadData:function(){var e=this;this.currentSchool&&this.currentRole&&(this.loading=!0,Object(p["d"])({schoolId:this.currentSchool.id}).then((function(t){0===t.code&&(e.dataSource=t.result)})).finally((function(){e.loading=!1})))},initDict:function(){},initSchoolUsers:function(){var e=this;Object(D["m"])({pageNo:1,pageSize:1e4,schoolId:this.currentSchool.id,schoolUserStatus:1,roles:"teacher"}).then((function(t){t.success&&(e.teacherList=t.result.records)}))},handleAdd:function(){this.currentRole&&this.currentRole.id?this.$refs.schoolUserSelect.add():this.$message.error("Please select a role!")},handleClose:function(){this.$emit("close")},handleDelete:function(e,t){var a=this;this.currentRole&&this.currentRole.roleCode?this.$confirm({title:"Confirm delete user "+e.email,centered:!0,onOk:function(){a.loading=!0,Object(p["a"])({bindFlag:0,classId:t.classId,isHead:!0,userId:e.userId}).then((function(e){0===e.code?(a.$message.success("Delete user successfully"),a.initSchoolUsers(),a.debounceLoad(),a.$store.dispatch("GetInfo")):a.loading=!1})).catch((function(){a.loading=!1}))}}):this.$message.error("Please select a role!")},handleResetFilter:function(e){this.currentRecord=Object(s["a"])({},e),this.searchKeyMember=""},handleAddClass:function(){this.$router.push("/manage/class")},goTeachers:function(){this.$router.push("/manage/teacher")},handleAddMember:function(e,t){var a=this;this.currentRole&&this.currentRole.roleCode?(this.selectMember="",this.loading=!0,Object(p["a"])({bindFlag:1,classId:t.classId,isHead:!0,userId:e.uid}).then((function(e){0===e.code?(a.$message.success("Add user successfully"),a.initSchoolUsers(),a.debounceLoad(),a.$store.dispatch("GetInfo")):a.loading=!1})).catch((function(){a.loading=!1}))):this.$message.error("Please select a role!")},selectOK:function(e){var t=this;this.currentRole&&this.currentRole.id?(this.loading=!0,Object(p["a"])({bindFlag:1,classId:1,isHead:!0,userId:e[0]}).then((function(e){0===e.code?(t.$message.success("Add user successfully"),t.debounceLoad(),t.$store.dispatch("GetInfo")):t.loading=!1})).catch((function(){t.loading=!1}))):this.$message.error("Please select a role!")}}},se=oe,ce=(a("675f"),Object(y["a"])(se,ee,te,!1,null,"a4ff69c0",null)),re=ce.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"role-con"},[n("a-icon",{staticClass:"close",attrs:{type:"close-circle"},on:{click:e.handleClose}}),n("div",{staticClass:"filter-tab"},[n("div",{staticStyle:{width:"300px"}}),n("a-space",{staticClass:"filter-opt"},[n("a-button",{attrs:{type:"primary"},on:{click:e.handleAddSubject}},[e._v("Add Subject")])],1)],1),n("div",{staticClass:"table-con"},[n("a-table",{ref:"table",attrs:{rowKey:function(e){return e.id},columns:e.columns,dataSource:e.dataSource,pagination:!1,loading:e.loading},scopedSlots:e._u([{key:"teachers",fn:function(t,o){return n("a-space",{staticStyle:{"flex-wrap":"wrap"}},[t&&t.length>0?e._l(o.teachers,(function(t){return n("div",{key:t.userId,staticClass:"user-tag"},[n("div",{staticClass:"avatar"},[t.avatar?n("img",{attrs:{src:t.avatar}}):n("img",{attrs:{src:a("4992")}})]),n("div",{staticClass:"user-name-email"},[n("div",{staticClass:"user-name"},[e._v(" "+e._s(t.userName)+" ")]),n("div",{staticClass:"email"},[e._v(" "+e._s(t.email)+" ")])]),n("div",{staticClass:"user-opt"},[n("a-icon",{attrs:{type:"close-circle"},on:{click:function(a){return e.handleDelete(t,o)}}})],1)])})):e._e()],2)}},{key:"action",fn:function(t,o){return n("a-space",{},[n("a-popover",{attrs:{placement:"left",title:"Choose User",trigger:"click"}},[n("div",{staticClass:"search-popver",attrs:{slot:"content"},slot:"content"},[n("a-space",{staticClass:"search-con"},[n("a-input-search",{attrs:{"allow-clear":!0,placeholder:"Search and add by name/email"},model:{value:e.searchKeyMember,callback:function(t){e.searchKeyMember=t},expression:"searchKeyMember"}}),n("a-button",{on:{click:e.goTeachers}},[e._v("Add new")])],1),e._l(e.filterMembers,(function(t){return n("div",{key:t.userId,staticClass:"search-user"},[n("div",{staticClass:"user-avatar"},[n("div",{staticClass:"avatar"},[t.avatar?n("img",{attrs:{src:t.avatar}}):n("img",{attrs:{src:a("4992")}})])]),n("div",{staticClass:"user-name-email"},[n("div",{staticClass:"user-name"},[e._v(" "+e._s(t.nickname||t.firstname+" "+t.lastname)+" ")]),n("div",{staticClass:"email"},[e._v(" "+e._s(t.email)+" ")])]),n("div",{staticClass:"action-wrapper"},[n("a-button",{attrs:{loading:e.loading,type:"link"},on:{click:function(a){return e.handleAddMember(t,o)}}},[e._v(" Add ")])],1)])}))],2),n("a",{attrs:{type:"link"},on:{click:function(t){return e.handleResetFilter(o)}}},[e._v("Add")])])],1)}}])})],1)],1)},le=[],de=a("4fcf"),ue=de.debounce,he={name:"SchoolRoleSubject",components:{},props:{school:{type:Object,default:function(){}},role:{type:Object,default:function(){}}},watch:{school:{handler:function(e){this.currentSchool=Object(s["a"])({},e),this.loadData(),this.initSchoolUsers(),this.debounceSchoolUsers=ue(this.initSchoolUsers,300)},deep:!0,immediate:!0},role:{handler:function(e){this.currentRole=Object(s["a"])({},e),this.loadData()},deep:!0,immediate:!0}},data:function(){return{currentSchool:this.school,currentRole:this.role,searchPoverVis:!1,subjectOptions:[],classOptions:[],teacherList:[],currentRecord:null,queryParams:{searchKey:""},selectMember:"",searchKeyMember:"",loading:!1,dataSource:[],selectedRowKeys:[],selectionRows:[],ipagination:{current:1,pageSize:10,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" of "+e},total:0}}},computed:{columns:function(){return[{title:"Subject",align:"center",dataIndex:"subjectName",width:150},{title:"Teachers",align:"center",dataIndex:"teachers",scopedSlots:{customRender:"teachers"}},{title:"Action",align:"center",width:80,scopedSlots:{customRender:"action"}}]},filterMembers:function(){var e=this,t=[];if(this.currentRecord&&(t=this.teacherList.filter((function(t){return!e.currentRecord.teachers||!e.currentRecord.teachers.find((function(e){return e.userId===t.uid}))}))),this.searchKeyMember){var a=((this.currentRecord.firstname||"")+(this.currentRecord.lastname||"")).toLowerCase();t=t.filter((function(t){return t.email&&(t.email.toLowerCase().indexOf((e.searchKeyMember||"").toLowerCase()||"")>-1||a.indexOf((e.searchKeyMember||"").toLowerCase()||"")>-1)}))}return t}},created:function(){this.debounceLoad=ue(this.loadData,300),this.initDict(),this.initSchoolUsers()},methods:{loadData:function(){var e=this;this.currentSchool&&this.currentRole&&(this.loading=!0,Object(p["f"])({schoolId:this.currentSchool.id}).then((function(t){0===t.code&&(e.dataSource=t.result)})).finally((function(){e.loading=!1})))},initDict:function(){},initSchoolUsers:function(){var e=this;Object(D["m"])({pageNo:1,pageSize:1e4,schoolId:this.currentSchool.id,schoolUserStatus:1,roles:"teacher"}).then((function(t){t.success&&(e.teacherList=t.result.records)}))},handleAdd:function(){this.currentRole&&this.currentRole.id?this.$refs.schoolUserSelect.add():this.$message.error("Please select a role!")},handleAddClass:function(){this.$router.push("/manage/curriculum")},handleClose:function(){this.$emit("close")},handleDelete:function(e,t){var a=this;this.currentRole&&this.currentRole.roleCode?this.$confirm({title:"Confirm delete user "+e.email,centered:!0,onOk:function(){a.loading=!0,Object(p["b"])({bindFlag:0,schoolId:a.currentSchool.id,subjectId:t.subjectId,userId:e.userId}).then((function(e){0===e.code?(a.$message.success("Delete user successfully"),a.initSchoolUsers(),a.debounceLoad(),a.$store.dispatch("GetInfo")):a.loading=!1})).catch((function(){a.loading=!1}))}}):this.$message.error("Please select a role!")},doFilter:function(e,t){},handleResetFilter:function(e){this.currentRecord=Object(s["a"])({},e),this.searchKeyMember=""},handleAddSubject:function(){this.$router.push("/manage/curriculum")},goTeachers:function(){this.$router.push("/manage/teacher")},handleAddMember:function(e,t){var a=this;this.currentRole&&this.currentRole.roleCode?(this.selectMember="",this.loading=!0,Object(p["b"])({bindFlag:1,schoolId:this.currentSchool.id,subjectId:t.subjectId,userId:e.uid}).then((function(e){0===e.code?(a.$message.success("Add user successfully"),a.initSchoolUsers(),a.debounceLoad(),a.$store.dispatch("GetInfo")):a.loading=!1})).catch((function(){a.loading=!1}))):this.$message.error("Please select a role!")}}},fe=he,me=(a("5dbb"),Object(y["a"])(fe,ie,le,!1,null,"813af19a",null)),pe=me.exports,be=a("2f62"),ge=a("4fcf"),Se=ge.debounce,ve={name:"SchoolRole",mixins:[r["a"],i["a"]],components:{FixedFormHeader:l["a"],FormHeader:d["a"],CustomTextButton:u["a"],SchoolRoleList:M,SchoolRoleUser:Z,SchoolRoleClass:re,SchoolRoleSubject:pe},props:{id:{type:String,default:null}},data:function(){return{USER_MODE:c["X"],SCHOOL_USER_STATUS:c["A"],rightcolval:0,selectedRole:"",loading:!1}},created:function(){this.debounceLoad=Se(this.loadData,300)},computed:Object(s["a"])(Object(s["a"])({},Object(be["e"])({userMode:function(e){return e.app.userMode},currentSchool:function(e){return e.user.currentSchool}})),{},{leftColMd:function(){return this.selectedRole?10:24},rightColMd:function(){return this.selectedRole?14:0}}),methods:{goBack:function(){this.$router.go(-1)},handleSchoolChange:function(e){this.userMode,c["X"].SCHOOL},handleModeChange:function(e){},loadData:function(){},handleSave:function(e){},chooseRole:function(e){e?(this.rightcolval=1,this.selectedRole=Object(s["a"])({},e)):this.clearRole()},clearRole:function(){this.rightcolval=0,this.selectedRole="",this.$refs.schoolRoleList.doClear()}}},ye=ve,Ce=(a("c12b"),Object(y["a"])(ye,n,o,!1,null,"2da1c446",null));t["default"]=Ce.exports},"5dbb":function(e,t,a){"use strict";a("d735")},"675f":function(e,t,a){"use strict";a("a7b7")},"6e84":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("b0c0");var n={data:function(){return{unwatch:null,routeName:this.$route.name}},computed:{redirectUrl:function(){return"student"===this.$store.state.user.currentRole?"/student/main/my-task":"/account/info"}},created:function(){var e=this;this.unwatch=this.$store.watch((function(e){return e.app.userMode}),(function(t){t&&e.$route.name===e.routeName&&(e.handleModeChange(t),e.routeInMode())})),this.routeInMode()},beforeDestroy:function(){this.unwatch&&this.unwatch()},methods:{routeInMode:function(){this.$route.meta.mode&&this.$route.meta.mode!==this.$store.state.app.userMode&&this.$router.push({path:this.redirectUrl})},handleModeChange:function(e){}}}},"6f2a":function(e,t,a){"use strict";a.d(t,"g",(function(){return c})),a.d(t,"h",(function(){return r})),a.d(t,"e",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return d})),a.d(t,"f",(function(){return u})),a.d(t,"d",(function(){return h})),a.d(t,"i",(function(){return f})),a.d(t,"c",(function(){return m}));a("d3b7");var n=a("b775"),o="api2/school/role",s={listRole:"/classcipe/".concat(o,"/list"),pageListRole:"/classcipe/".concat(o,"/pageList"),getRolePermission:"/classcipe/".concat(o,"/getPermission"),bindRoleSubjectLeader:"/classcipe/".concat(o,"/user/bindSubjectLeader"),bindRoleClassTeachers:"/classcipe/".concat(o,"/user/bindTeachers"),getRoleSubjectLeaders:"/classcipe/".concat(o,"/user/getSubjectLeaders"),getRoleClassTeachers:"/classcipe/".concat(o,"/user/getTeachers"),getSchoolRole:"/classcipe/".concat(o,"/user/getSchoolRole"),saveSchoolRole:"/classcipe/".concat(o,"/user/saveSchoolRole"),geHeaderClassByUserId:"/classcipe/".concat(o,"/user/geHeaderClassByUserId")};function c(e){return Object(n["d"])({url:s.getSchoolRole,method:"get",params:e}).then((function(e){var t=e;if(0===t.code){var a=[];for(var n in t.result.roleNames)"Teacher"!==n&&a.push({roleCode:n,name:t.result.roleNames[n]});t.result=a}return Promise.resolve(t)})).catch((function(e){return Promise.reject(e)}))}function r(e){return Object(n["d"])({url:s.getSchoolRole,method:"get",params:e}).then((function(e){var t=e;if(0===t.code){var a=[];for(var n in t.result.roleNames)"Teacher"!==n&&a.push({roleCode:n,name:t.result.roleNames[n]});t.result={total:a.length,records:a}}return Promise.resolve(t)})).catch((function(e){return Promise.reject(e)}))}function i(e){return Object(n["d"])({url:s.getRolePermission,method:"get",params:e})}function l(e){return Object(n["d"])({url:s.bindRoleSubjectLeader,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(n["d"])({url:s.bindRoleClassTeachers,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(e){return Object(n["d"])({url:s.getRoleSubjectLeaders,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return Object(n["d"])({url:s.getRoleClassTeachers,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(e){return Object(n["d"])({url:s.saveSchoolRole,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function m(e){return Object(n["d"])({url:s.geHeaderClassByUserId,method:"get",params:e})}},"8b1a3":function(e,t,a){},a7b7:function(e,t,a){},b098f:function(e,t,a){"use strict";a("dabb")},c12b:function(e,t,a){"use strict";a("005a")},c627:function(e,t,a){"use strict";a("457d")},d735:function(e,t,a){},dabb:function(e,t,a){},ec09:function(e,t,a){"use strict";a.d(t,"m",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"s",(function(){return d})),a.d(t,"t",(function(){return u})),a.d(t,"l",(function(){return h})),a.d(t,"x",(function(){return f})),a.d(t,"z",(function(){return m})),a.d(t,"h",(function(){return p})),a.d(t,"g",(function(){return b})),a.d(t,"a",(function(){return g})),a.d(t,"e",(function(){return S})),a.d(t,"f",(function(){return v})),a.d(t,"n",(function(){return y})),a.d(t,"p",(function(){return C})),a.d(t,"i",(function(){return R})),a.d(t,"j",(function(){return O})),a.d(t,"k",(function(){return j})),a.d(t,"u",(function(){return w})),a.d(t,"q",(function(){return k})),a.d(t,"y",(function(){return T})),a.d(t,"w",(function(){return I})),a.d(t,"r",(function(){return _})),a.d(t,"v",(function(){return $})),a.d(t,"b",(function(){return P})),a.d(t,"o",(function(){return L}));var n=a("b775"),o=a("ca00"),s="api2/school/user",c={getSchoolUsers:"/classcipe/".concat(s,"/getSchoolUsers"),addStudents:"/classcipe/".concat(s,"/addStudents"),addTeacher:"/classcipe/".concat(s,"/addTeacher"),removeStudents:"/classcipe/".concat(s,"/removeStudents"),removeTeachers:"/classcipe/".concat(s,"/removeTeachers"),updateTeacher:"/classcipe/".concat(s,"/updateTeacher"),getInvite:"/classcipe/".concat(s,"/getInvite"),updateInvite:"/classcipe/".concat(s,"/updateInvite"),bulkActTeacher:"/classcipe/".concat(s,"/teacher/bulkAct"),bulkActStudent:"/classcipe/".concat(s,"/student/bulkAct"),acceptInvite:"/classcipe/".concat(s,"/acceptInvite"),batchAddStudent:"/classcipe/".concat(s,"/batchAddStudent"),batchAddTeacher:"/classcipe/".concat(s,"/batchAddTeacher"),getStudentInfo:"/classcipe/".concat(s,"/getStudentInfo"),getTeacherInfo:"/classcipe/".concat(s,"/getTeacherInfo"),checkEmailParent:"/classcipe/".concat(s,"/parent/checkEmail"),resetPassword:"/classcipe/".concat(s,"/resetPassword"),checkEmailStudent:"/classcipe/".concat(s,"/student/checkEmail"),moveClassStudent:"/classcipe/".concat(s,"/student/moveClass"),sendParentEmail:"/classcipe/".concat(s,"/student/sendParentEmail"),checkEmailTeacher:"/classcipe/".concat(s,"/teacher/checkEmail"),updateStudent:"/classcipe/".concat(s,"/updateStudent"),addAdmin:"/classcipe/".concat(s,"/addAdmin"),removeAdmins:"/classcipe/".concat(s,"/removeAdmins"),resetUserPassword:"/classcipe/".concat(s,"/user/resetPassword"),addSchoolAdmin:"/classcipe/".concat(s,"/addSchoolAdmin"),getTeacherCount:"/classcipe/".concat(s,"/getTeacherCount")};function r(e){return Object(n["d"])({url:c.getSchoolUsers,method:"get",params:e})}function i(e){return e=Object(o["trimParams"])(e),Object(n["d"])({url:c.addStudents,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return e=Object(o["trimParams"])(e),Object(n["d"])({url:c.addTeacher,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(n["d"])({url:c.removeStudents,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(e){return Object(n["d"])({url:c.removeTeachers,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return Object(n["d"])({url:c.getInvite,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(e){return e=Object(o["trimParams"])(e),Object(n["d"])({url:c.updateInvite,method:"post",data:e,params:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function m(e){return e=Object(o["trimParams"])(e),Object(n["d"])({url:c.updateTeacher,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function p(e){return Object(n["d"])({url:c.bulkActTeacher,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(e){return Object(n["d"])({url:c.bulkActStudent,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function g(e){return Object(n["d"])({url:c.acceptInvite,method:"post",data:e,params:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function S(e){return e=Object(o["trimParams"])(e),Object(n["d"])({url:c.batchAddStudent,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function v(e){return e=Object(o["trimParams"])(e),Object(n["d"])({url:c.batchAddTeacher,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function y(e){return Object(n["d"])({url:c.getStudentInfo,method:"get",params:e})}function C(e){return Object(n["d"])({url:c.getTeacherInfo,method:"get",params:e})}function R(e){return Object(n["d"])({url:c.checkEmailParent,method:"get",params:e})}function O(e){return Object(n["d"])({url:c.checkEmailStudent,method:"get",params:e})}function j(e){return Object(n["d"])({url:c.checkEmailTeacher,method:"get",params:e})}function w(e){return Object(n["d"])({url:c.resetPassword,method:"get",params:e})}function k(e){return Object(n["d"])({url:c.moveClassStudent,method:"get",params:e})}function T(e){return e=Object(o["trimParams"])(e),Object(n["d"])({url:c.updateStudent,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function I(e){return Object(n["d"])({url:c.sendParentEmail,method:"get",params:e})}function _(e){return Object(n["d"])({url:c.removeAdmins,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function $(e){return Object(n["d"])({url:c.resetUserPassword,method:"get",params:e})}function P(e){return e=Object(o["trimParams"])(e),Object(n["d"])({url:c.addSchoolAdmin,method:"post",data:e,params:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function L(e){return Object(n["d"])({url:c.getTeacherCount,method:"get",params:e})}}}]);