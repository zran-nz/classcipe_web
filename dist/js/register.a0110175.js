(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{1348:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-register"},[1===e.currentStep?a("div",{staticClass:"steps-action",on:{click:e.back}},[a("img",{staticClass:"logo",staticStyle:{width:"18px"},attrs:{src:r("73c9")}}),a("span",[e._v("Back")])]):e._e(),a("div",{staticClass:"steps-content"},[0===e.currentStep?a("div",{staticClass:"role"},[e._m(0),a("div",{staticClass:"role-item",class:{selected:e.selectedRole===e.userRole.teacher},on:{click:function(t){return e.handleSelectRole(e.userRole.teacher)}}},[e._m(1),e._m(2)]),a("div",{staticClass:"role-item",class:{selected:e.selectedRole===e.userRole.student},on:{click:function(t){return e.handleSelectRole(e.userRole.student)}}},[e._m(3),e._m(4)])]):e._e(),1===e.currentStep?a("div",{staticClass:"register"},[e.selectedRole===e.userRole.student||e.selectedRole===e.userRole.teacher?a("div",[a("div",[a("div",{staticClass:"desc"},[e._v("Sign Up")]),a("div",{staticClass:"desc2"},[e._v(" Already have an account? | "),a("span",[a("router-link",{attrs:{to:{path:e.selectedRole===e.userRole.student?e.studentLoginPath:e.teacherLoginPath}}},[e._v("Sign In")])],1)])]),a("a-form",{staticClass:"register-form",attrs:{form:e.form},on:{submit:e.handleSubmit}},[a("a-form-item",{staticStyle:{"margin-bottom":"0"}},[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{staticClass:"form-name"},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["firstname",{rules:[{required:!0,message:e.$t("user.register.name.required")}],validateTrigger:["change","blur"]}],expression:"[\n                      'firstname',\n                      {\n                        rules: [\n                          {\n                            required: true,\n                            message: $t('user.register.name.required'),\n                          },\n                        ],\n                        validateTrigger: ['change', 'blur'],\n                      },\n                    ]"}],attrs:{size:"large",type:"text",placeholder:"First Name"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{staticClass:"form-name"},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["lastname",{rules:[{required:!0,message:e.$t("user.register.name.required")}],validateTrigger:["change","blur"]}],expression:"[\n                      'lastname',\n                      {\n                        rules: [\n                          {\n                            required: true,\n                            message: $t('user.register.name.required'),\n                          },\n                        ],\n                        validateTrigger: ['change', 'blur'],\n                      },\n                    ]"}],attrs:{size:"large",type:"text",placeholder:"Last Name"}})],1)],1)],1)],1),a("a-form-item",{staticClass:"form-email"},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0,type:"email",message:e.$t("user.email.required")}],validateTrigger:["change","blur"]}],expression:"[\n                'email',\n                {\n                  rules: [\n                    {\n                      required: true,\n                      type: 'email',\n                      message: $t('user.email.required'),\n                    },\n                  ],\n                  validateTrigger: ['change', 'blur'],\n                },\n              ]"}],attrs:{size:"large",type:"text",placeholder:e.$t("user.register.email.placeholder")}})],1),a("a-form-item",{staticClass:"form-password"},[a("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:e.$t("user.password.required")},{validator:e.handlePassword}],validateTrigger:["change","blur"]}],expression:"[\n                'password',\n                {\n                  rules: [\n                    { required: true, message: $t('user.password.required') },\n                    {\n                      validator: handlePassword,\n                    },\n                  ],\n                  validateTrigger: ['change', 'blur'],\n                },\n              ]"}],attrs:{size:"large",placeholder:e.$t("user.register.password.placeholder")}})],1),a("a-form-item",{staticClass:"form-submit"},[a("a-button",{attrs:{type:"primary",disabled:this.disabled,block:"",loading:e.loading,size:"large","html-type":"submit"}},[e._v(" Sign Up ")])],1)],1),e._m(5),a("div",{staticClass:"third-login-wrapper"},[a("third-login-button",{attrs:{icon:"googleIcon",label:e.$t("user.login.SignUpWithGoogle"),disabled:this.disabled},nativeOn:{click:function(t){return e.thirdSignIn("google","student")}}})],1),a("div",{staticClass:"info"},[a("a-checkbox",{on:{change:e.handleChange}},[e._v(" I agree to Classcipe's "),a("span",[a("a",{attrs:{href:"https://www.classcipe.com/term.html",target:"_blank"}},[e._v("Terms of service")])]),e._v(" and "),a("span",[a("a",{attrs:{href:"https://www.classcipe.com/policy.html",target:"_blank"}},[e._v("Privacy Policy")])])])],1)],1):e._e()]):e._e()])])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"desc"},[e._v("Choose your role to enter")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"role-info"},[a("img",{staticClass:"role-img",attrs:{src:r("7603")}}),a("div",[a("div",{staticClass:"role-name"},[e._v("I am an educator")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"arrow"},[r("span")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"role-info"},[a("img",{staticClass:"role-img",attrs:{src:r("3132")}}),a("div",[a("div",{staticClass:"role-name"},[e._v("I am a student")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"arrow"},[r("span")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"or"},[r("div",{staticClass:"line"}),r("div",{staticClass:"text"},[e._v("OR")]),r("div",{staticClass:"line"})])}],i=r("5530"),n=(r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("ac1f"),r("841c"),r("99af"),r("8a79"),r("705f")),A=r("d07e"),l=r("dbdc"),c=r("2f62"),o=r("9fb0"),d=r("8ded"),u=r.n(d),g=r("ca00"),m=r("6757"),h={name:"Register",components:{ThirdLoginButton:A["a"]},mixins:[n["a"]],data:function(){return{loading:!1,currentStep:0,selectedRole:null,form:this.$form.createForm(this),loginPath:"/user/login",teacherLoginPath:"/user/login?role=teacher",studentLoginPath:"/user/login?role=student",disabled:!0,callbackUrl:"",userRole:m["a"]}},created:function(){var e=new URLSearchParams(window.location.search),t=e.get("redirect");t&&(this.loginPath="/user/login?redirect=".concat(t),this.teacherLoginPath="/user/login?role=teacher&redirect=".concat(t),this.studentLoginPath="/user/login?role=student&redirect=".concat(t),this.callbackUrl=t),u.a.set(o["n"],!1)},computed:{},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])(["SignUp"])),{},{back:function(){this.currentStep=0},next:function(){this.currentStep=1},handleSelectRole:function(e){this.selectedRole=e,this.disabled=!0,this.next()},handleChange:function(e){e.target.checked?this.disabled=!1:this.disabled=!0},thirdSignIn:function(e,t){var r=Object(l["b"])(e);r+="?role=".concat(t),r+="&channelId=".concat(Object(g["getCookie"])(o["v"])),r+="&callbackUrl=",r+=l["c"],window.location.href=r},handleSubmit:function(e){var t=this;e.preventDefault();var r=this.form.validateFields,a=this.SignUp;r({force:!0},(function(e,r){if(!e){t.loading=!0;var s={firstname:r.firstname,lastname:r.lastname,nickname:"".concat(r.firstname," ").concat(r.lastname),password:r.password,username:r.email,role:t.selectedRole};a(s).then((function(e){return t.loginSuccess(e)})).catch((function(e){return t.requestFailed(e)})).finally((function(){t.loading=!1}))}}))},handleEmail:function(e,t,r){if(t){var a=/^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/;a.test(t)?this.selectedRole===this.userRole.teacher&&t&&!t.endsWith("@gmail.com")?r(new Error("please use your google email")):r():r(new Error(this.$t("user.email.required")))}else r(new Error(this.$t("user.email.required")))},handlePassword:function(e,t,r){t&&t.length<6?r(new Error(this.$t("user.password.strength.msg"))):r()},loginSuccess:function(e){var t=this;this.$message.success(e.message),this.$store.dispatch("GetInfo").then((function(r){var a=t.callbackUrl;a?window.location.href=a+(a.indexOf("?")>-1?"&":"?")+"token="+e.result.token:t.$store.getters.currentRole?t.$router.push(t.$store.getters.defaultRouter):t.$router.push({path:t.loginPath})})).catch((function(e){t.$message.error("GetInfo Failed,"+e)}))},requestFailed:function(e){this.$message.error(e.message)}})},f=h,v=(r("5d18"),r("2f744"),r("0c7c")),p=Object(v["a"])(f,a,s,!1,null,"3d5a41b0",null);t["default"]=p.exports},"2f744":function(e,t,r){"use strict";r("d068")},3132:function(e,t,r){e.exports=r.p+"img/student.a9ab85af.png"},"5d18":function(e,t,r){"use strict";r("8d67")},"73c9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAqCAMAAAAH47LZAAAAAXNSR0IArs4c6QAAAMNQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQHCrIAAAAEB0Uk5TAAQIDBAYHB8gJCgvNDc4Ozw/QENIT1BTV1xgY2xvc3d7f4OHi4+Tl5ujp6uvs7e7v8PHy8/T19vf4+fr7/P3+4fccbIAAAE9SURBVBgZhcGHVsIwGAbQLwYQcS9kiMqo4qCAg6pA873/U/kn0nOAluReZPTLclxGkBqRHCGoT7FESJtWgoBzQ6sJv4M5rUf46RmtsYKXimnNSvCLaC1q8GvTae9vU1h3arjL7/OlQuaDPrNjrKT0Mn38mzIggnOUMiCC06TTu9hSv40NnRs4PVrzA+TUJrTmZTgjWjONHPVK6wmO/qIVK+SomCItw6n+0oqQV1lQPODfmaHVQN4DxSdWWrQ+kFdKKUpYGVAkKBBT1LGiYpKPKNClaCOjh99DjQItii6CrigiBNUpBghqUXQR1KdoIeid4gIhVUMy3UNIRDFByGFK0UGA/qRY7MFPT2n14Hf9QyvRWHN41900/KFjTrCmYbhDB+sS7tDBhiULLZrY9MYirxVsKY8NN6TJ+L6CzB+N+YWamYjxMQAAAABJRU5ErkJggg=="},7603:function(e,t,r){e.exports=r.p+"img/teacher.dc39419c.png"},"8d67":function(e,t,r){},d068:function(e,t,r){}}]);