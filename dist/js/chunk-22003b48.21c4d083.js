(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22003b48"],{"0bb4":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* unused harmony export noticeAPIUrl */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return EditCementSend; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return ListCementByUser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return NoticeQueryById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return ListByMessage; });\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"b775\");\n\nvar noticeAPIUrl = {\n  listCementByUser: '/classcipe/sys/annountCement/listByUser',\n  editCementSend: '/classcipe/sys/sysAnnouncementSend/editByAnntIdAndUserId',\n  NoticeQueryById: '/classcipe/sys/annountCement/queryById',\n  listByMessage: '/classcipe/sys/annountCement/listByMessage'\n};\nfunction EditCementSend(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: noticeAPIUrl.editCementSend,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction ListCementByUser(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: noticeAPIUrl.listCementByUser,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction NoticeQueryById(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: noticeAPIUrl.NoticeQueryById,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction ListByMessage(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: noticeAPIUrl.listByMessage,\n    method: 'get',\n    params: parameter\n  });\n}\n\n//# sourceURL=webpack:///./src/api/notice.js?")},"332d":function(module,exports,__webpack_require__){eval('\n    var runtime = __webpack_require__("b2b7")\n    module.exports = {\n      __esModule: true,\n      default: runtime.svgComponent({\n  "tag": "svg",\n  "attrsMap": {\n    "xmlns": "http://www.w3.org/2000/svg",\n    "xmlns:xlink": "http://www.w3.org/1999/xlink",\n    "width": "68",\n    "height": "68",\n    "viewBox": "0 0 68 68"\n  },\n  "children": [\n    {\n      "tag": "defs",\n      "children": [\n        {\n          "tag": "filter",\n          "attrsMap": {\n            "id": "a",\n            "x": "0",\n            "y": "0",\n            "width": "68",\n            "height": "68",\n            "filterUnits": "userSpaceOnUse"\n          },\n          "children": [\n            {\n              "tag": "feOffset",\n              "attrsMap": {\n                "dy": "3",\n                "input": "SourceAlpha"\n              }\n            },\n            {\n              "tag": "feGaussianBlur",\n              "attrsMap": {\n                "stdDeviation": "3",\n                "result": "b"\n              }\n            },\n            {\n              "tag": "feFlood",\n              "attrsMap": {\n                "flood-color": "#7a7a7a",\n                "flood-opacity": "0.161"\n              }\n            },\n            {\n              "tag": "feComposite",\n              "attrsMap": {\n                "operator": "in",\n                "in2": "b"\n              }\n            },\n            {\n              "tag": "feComposite",\n              "attrsMap": {\n                "in": "SourceGraphic"\n              }\n            }\n          ]\n        }\n      ]\n    },\n    {\n      "tag": "g",\n      "attrsMap": {\n        "transform": "translate(24271 8092)"\n      },\n      "children": [\n        {\n          "tag": "g",\n          "attrsMap": {\n            "class": "c",\n            "transform": "matrix(1, 0, 0, 1, -24271, -8092)"\n          },\n          "children": [\n            {\n              "tag": "path",\n              "attrsMap": {\n                "class": "a",\n                "style": "fill:rgba(255,255,255,0.9);",\n                "d": "M25,0A25,25,0,1,1,0,25,25,25,0,0,1,25,0Z",\n                "transform": "translate(9 6)"\n              }\n            }\n          ]\n        },\n        {\n          "tag": "path",\n          "attrsMap": {\n            "class": "b",\n            "style": "fill:#15c39a;",\n            "d": "M10.33,21.506h-.154V17.929c0-1.338-.74-1.9-1.653-1.135L.041,23.871a1.736,1.736,0,0,0,0,2.763l8.42,7c.913.757,1.716-.012,1.716-1.139V28.721h1.275a8.8,8.8,0,0,1,8.212,4.831c.338.577.693.451.693,0-.073-5.67-4.7-12.044-10.025-12.044v0Z",\n            "transform": "translate(-24246.355 -8086.451)"\n          }\n        }\n      ]\n    }\n  ]\n})\n    }\n  \n\n//# sourceURL=webpack:///./src/assets/svgIcon/notification/back.svg?')},"523d":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* unused harmony export userAPIUrl */\n/* unused harmony export InviteCollaborate */\n/* unused harmony export GetCollaborateUsers */\n/* unused harmony export GetShared */\n/* unused harmony export GetSharedNotReceived */\n/* unused harmony export GetFindSharedNotReceived */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"o\", function() { return DeleteCollaborate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"n\", function() { return DeleteByMeCollaborate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"u\", function() { return ReceiveCollaborate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"q\", function() { return GetCollaborateComment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"p\", function() { return DeleteCollaborateCommentById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return AddCollaborateComment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"r\", function() { return GetCollaborateModifiedHistory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"t\", function() { return QueryContentCollaborates; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return CollaboratesSearchUser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return CollaboratesInvite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return CollaboratesAgree; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"l\", function() { return CollaboratesUpdate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"m\", function() { return CollaboratesUpdateLink; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return CollaboratesQueryShared; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return CollaboratesQuerySharedOwner; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return CollaboratesQueryByLinkCode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return CollaboratesApply; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"s\", function() { return MarkedCollaborateComment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"k\", function() { return CollaboratesSendInviteEmail; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return CollaboratesRemove; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return CollaboratesDeleteByOthers; });\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"b775\");\n\nvar userAPIUrl = {\n  InviteCollaborate: '/classcipe/api/collaborate/invite',\n  GetCollaborateUsers: '/classcipe/api/collaborate/getCollaborateUsers',\n  GetShared: '/classcipe/api/collaborate/getShared',\n  GetSharedNotReceived: '/classcipe/api/collaborate/getSharedNotReceived',\n  GetFindSharedNotReceived: '/classcipe/api/collaborate/getFindSharedNotReceived',\n  DeleteCollaborate: '/classcipe/api/collaborate/delete',\n  DeleteByMeCollaborate: '/classcipe/api/collaborate/deleteByMe',\n  ReceiveCollaborate: '/classcipe/api/collaborate/receive',\n  // TODO mock接口，待修改\n  GetCollaborateComment: '/classcipe/api/editMessage/queryNewMessage',\n  DeleteCollaborateCommentById: '/classcipe/api/editMessage/delete',\n  MarkedCollaborateComment: '/classcipe/api/editMessage/marked',\n  AddCollaborateComment: '/classcipe/api/editMessage/addMessage',\n  GetCollaborateModifiedHistory: '/classcipe/api/editMessage/queryHistory',\n  // 新接口\n  QueryContentCollaborates: '/classcipe/api/collaborate/v2/queryContentCollaborates',\n  CollaboratesSearchUser: '/classcipe/api/collaborate/v2/searchUser',\n  CollaboratesInvite: '/classcipe/api/collaborate/v2/invite',\n  CollaboratesAgree: '/classcipe/api/collaborate/v2/agree',\n  CollaboratesUpdate: '/classcipe/api/collaborate/v2/updateCollaborate',\n  CollaboratesRemove: '/classcipe/api/collaborate/v2/remove',\n  CollaboratesDeleteByOthers: '/classcipe/api/collaborate/v2/deleteByOthers',\n  CollaboratesUpdateLink: '/classcipe/api/collaborate/v2/updateLink',\n  CollaboratesQueryShared: '/classcipe/api/collaborate/v2/queryShared',\n  CollaboratesQuerySharedOwner: '/classcipe/api/collaborate/v2/querySharedOwner',\n  QueryByLinkCode: '/classcipe/api/collaborate/v2/queryByLinkCode',\n  CollaboratesApply: '/classcipe/api/collaborate/v2/apply',\n  CollaboratesSendInviteEmail: '/classcipe/api/collaborate/v2/sendInviteEmail'\n};\nfunction InviteCollaborate(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.InviteCollaborate,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction GetCollaborateUsers(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.GetCollaborateUsers,\n    method: 'get',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction GetShared(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.GetShared,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction GetSharedNotReceived(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.GetSharedNotReceived,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction GetFindSharedNotReceived(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.GetFindSharedNotReceived,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction DeleteCollaborate(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.DeleteCollaborate,\n    method: 'post',\n    data: parameter\n  });\n}\nfunction DeleteByMeCollaborate(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.DeleteByMeCollaborate,\n    method: 'post',\n    data: parameter\n  });\n}\nfunction ReceiveCollaborate(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.ReceiveCollaborate,\n    method: 'post',\n    data: parameter\n  });\n}\nfunction GetCollaborateComment(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.GetCollaborateComment,\n    method: 'post',\n    data: parameter\n  });\n}\nfunction DeleteCollaborateCommentById(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.DeleteCollaborateCommentById + '?id=' + parameter.id,\n    method: 'post',\n    data: parameter\n  });\n}\nfunction AddCollaborateComment(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.AddCollaborateComment,\n    method: 'post',\n    data: parameter\n  });\n}\nfunction GetCollaborateModifiedHistory(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.GetCollaborateModifiedHistory,\n    method: 'post',\n    data: parameter\n  });\n}\nfunction QueryContentCollaborates(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.QueryContentCollaborates,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction CollaboratesSearchUser(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.CollaboratesSearchUser,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction CollaboratesInvite(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.CollaboratesInvite,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction CollaboratesAgree(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.CollaboratesAgree,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction CollaboratesUpdate(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.CollaboratesUpdate,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction CollaboratesUpdateLink(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.CollaboratesUpdateLink,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction CollaboratesQueryShared(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.CollaboratesQueryShared,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction CollaboratesQuerySharedOwner(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.CollaboratesQuerySharedOwner,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction CollaboratesQueryByLinkCode(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.QueryByLinkCode,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction CollaboratesApply(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.CollaboratesApply,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction MarkedCollaborateComment(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.MarkedCollaborateComment + '?id=' + parameter.id,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction CollaboratesSendInviteEmail(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.CollaboratesSendInviteEmail,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction CollaboratesRemove(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.CollaboratesRemove,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction CollaboratesDeleteByOthers(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: userAPIUrl.CollaboratesDeleteByOthers,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n\n//# sourceURL=webpack:///./src/api/collaborate.js?")},"5a7d":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"719c2c8a-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/dashboard/NotificationDetail.vue?vue&type=template&id=01bfc103&scoped=true&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'a-card\',{attrs:{"bordered":false}},[_c(\'div\',{staticClass:"notification-detail"},[_c(\'div\',{staticClass:"top"},[_c(\'div\',{staticClass:"left-wrapper"},[_c(\'div\',{staticClass:"back",on:{"click":_vm.handleGoBack}},[_c(\'div\',{staticClass:"back-icon"},[_c(\'img\',{attrs:{"src":__webpack_require__("bb5f")}})]),_c(\'div\',{staticClass:"back-text"},[_vm._v(" Back ")])])])]),_c(\'div\',{staticClass:"main-body"},[_c(\'div\',{staticClass:"header-line"},[_c(\'div\',{staticClass:"user-info"},[_c(\'div\',{staticClass:"avatar-wrapper"},[_c(\'img\',{attrs:{"src":_vm.notificationData.avatar}})]),_c(\'div\',{staticClass:"post-info"},[_c(\'div\',{staticClass:"post-by"},[_vm._v(" "+_vm._s(_vm.notificationData.postBy)+" ")]),_c(\'div\',{staticClass:"post-time"},[_vm._v(" "+_vm._s(_vm._f("dayjs")(_vm.notificationData.sendTime))+" ")])])]),_c(\'div\',{staticClass:"action-btn-wrapper"},[_c(\'div\',{staticClass:"action-btn-list"},[(_vm.notificationData.busType === _vm.notificationTypeMap.collaborateInvite)?void 0:_vm._e()],2)])]),_c(\'div\',{staticClass:"content-body",staticStyle:{"cursor":"pointer"},on:{"click":_vm.showAnnouncement}},[_c(\'div\',{staticClass:"content-title"},[_vm._v(" "+_vm._s(_vm.notificationData.titile)+" ")]),_c(\'div\',{staticClass:"content-detail"},[_vm._v(" "+_vm._s(_vm.notificationData.msgContent)+" ")])])])])])}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/dashboard/NotificationDetail.vue?vue&type=template&id=01bfc103&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__("d3b7");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.splice.js\nvar es_array_splice = __webpack_require__("a434");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__("ac1f");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.replace.js\nvar es_string_replace = __webpack_require__("5319");\n\n// EXTERNAL MODULE: ./src/assets/svgIcon/notification/back.svg?inline\nvar backinline = __webpack_require__("332d");\nvar backinline_default = /*#__PURE__*/__webpack_require__.n(backinline);\n\n// EXTERNAL MODULE: ./src/views/dashboard/NotificationTypeMap.js\nvar NotificationTypeMap = __webpack_require__("d20c");\n\n// EXTERNAL MODULE: ./src/api/notice.js\nvar notice = __webpack_require__("0bb4");\n\n// EXTERNAL MODULE: ./src/store/mutation-types.js\nvar mutation_types = __webpack_require__("9fb0");\n\n// EXTERNAL MODULE: ./src/api/collaborate.js\nvar collaborate = __webpack_require__("523d");\n\n// EXTERNAL MODULE: ./src/utils/logger.js\nvar logger = __webpack_require__("823b");\n\n// EXTERNAL MODULE: ./src/const/teacher.js\nvar teacher = __webpack_require__("3f76");\n\n// EXTERNAL MODULE: ./src/mixins/NoticeMixin.js\nvar NoticeMixin = __webpack_require__("fd38");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/dashboard/NotificationDetail.vue?vue&type=script&lang=js&\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n/* harmony default export */ var NotificationDetailvue_type_script_lang_js_ = ({\n  name: \'NotificationDetail\',\n  components: {\n    backIconSvg: backinline_default.a\n  },\n  mixins: [NoticeMixin["a" /* NoticeMixin */]],\n  props: {\n    id: {\n      type: String,\n      required: true\n    }\n  },\n  watch: {\n    $route: function $route(to, from) {\n      this.loadMessageData();\n    }\n  },\n  data: function data() {\n    return {\n      notificationData: {},\n      notificationTypeMap: NotificationTypeMap["a" /* NotificationTypeMap */],\n      acceptLoading: false,\n      refuseLoading: false\n    };\n  },\n  created: function created() {\n    this.loadMessageData();\n  },\n  methods: {\n    loadMessageData: function loadMessageData() {\n      var _this = this;\n\n      // TODO 查询消息详情\n      Object(notice["d" /* NoticeQueryById */])({\n        id: this.id\n      }).then(function (res) {\n        _this.loading = false;\n\n        if (res.success) {\n          _this.notificationData = res.result;\n        } else {\n          _this.$message.error(res.message);\n        }\n      }).finally(function () {\n        if (_this.notificationData.readFlag === \'0\') {\n          Object(notice["a" /* EditCementSend */])({\n            anntId: _this.id\n          }).then(function () {\n            _this.$store.commit(mutation_types["o" /* RECEIVE_MSG */], true);\n          });\n        }\n\n        if (_this.$route.query) {\n          if (_this.$route.query.direct === \'1\') {\n            _this.viewNotification(_this.notificationData);\n          }\n        }\n      });\n    },\n    // TODO 处理拒绝按钮逻辑\n    handleAcceptCollaborate: function handleAcceptCollaborate() {\n      var _this2 = this;\n\n      this.acceptLoading = true;\n      Object(collaborate["b" /* CollaboratesAgree */])({\n        id: this.notificationData.busId,\n        agreeFlag: teacher["a" /* CollaborateStatus */].agree\n      }).then(function (res) {\n        _this2.$message.success(\'collaborate successfully\');\n      }).then(function () {\n        _this2.acceptLoading = false;\n\n        _this2.loadMessageData();\n      }); // console.info(\'handleAcceptCollaborate\', this.notificationData)\n      // this.acceptLoading = true\n      // ReceiveCollaborate({ id: this.notificationData.busId }).then(res => {\n      //   console.info(\'ReceiveCollaborate\', res)\n      //   this.$message.success(\'collaborate successfully\')\n      // }).then(() => {\n      //   this.acceptLoading = false\n      // }).finally(() => {\n      //   this.loadMessageData()\n      // })\n    },\n    // TODO 处理按钮逻辑\n    handleRefuseCollaborate: function handleRefuseCollaborate() {\n      var _this3 = this;\n\n      this.refuseLoading = true;\n      Object(collaborate["o" /* DeleteCollaborate */])({\n        id: this.notificationData.busId\n      }).then(function (res) {}).then(function () {\n        _this3.loadMessageData();\n      }).finally(function () {\n        _this3.refuseLoading = false;\n      });\n    },\n    handleLinkItem: function handleLinkItem(item, event) {\n      event.preventDefault();\n      event.stopPropagation();\n      var index = this.mySelectedList.indexOf(item.id);\n\n      if (index !== -1) {\n        this.mySelectedList.splice(index, 1);\n      } else {\n        this.mySelectedList.push(item.id);\n      }\n    },\n    handleGoBack: function handleGoBack() {\n      this.$router.replace({\n        path: \'/notification\'\n      });\n      this.$router.go(-1);\n      return false;\n    },\n    showAnnouncement: function showAnnouncement() {\n      if (this.notificationData.openType === \'url\') {\n        this.openPath = this.notificationData.openPage;\n        this.formData = {\n          id: this.notificationData.busId\n        };\n        this.$router.push({\n          path: this.notificationData.openPage\n        });\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/dashboard/NotificationDetail.vue?vue&type=script&lang=js&\n /* harmony default export */ var dashboard_NotificationDetailvue_type_script_lang_js_ = (NotificationDetailvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/dashboard/NotificationDetail.vue?vue&type=style&index=0&id=01bfc103&lang=less&scoped=true&\nvar NotificationDetailvue_type_style_index_0_id_01bfc103_lang_less_scoped_true_ = __webpack_require__("ddb7");\n\n// EXTERNAL MODULE: ./node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("0c7c");\n\n// CONCATENATED MODULE: ./src/views/dashboard/NotificationDetail.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["a" /* default */])(\n  dashboard_NotificationDetailvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  "01bfc103",\n  null\n  \n)\n\n/* harmony default export */ var NotificationDetail = __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack:///./src/views/dashboard/NotificationDetail.vue_+_4_modules?')},7147:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SourceType; });\nvar SourceType = {\n  CreatedByMe: 0,\n  SharedByMe: 1,\n  SharedByOthers: 2,\n  Archived: 3\n};\n\n//# sourceURL=webpack:///./src/components/MyContentV2/Constant.js?')},"7b36":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/dashboard/NotificationDetail.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},bb5f:function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__.p + "img/back.2a730e4a.png";\n\n//# sourceURL=webpack:///./src/assets/svgIcon/notification/back.png?')},d20c:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return NotificationTypeMap; });\nvar NotificationTypeMap = {\n  collaborateInvite: 'collaborateInvite',\n  collaborateApply: 'collaborateApply',\n  collaborateRejected: 'collaborateRejected',\n  collaborateRemoved: 'collaborateRemoved',\n  changeCollaborate: 'changeCollaborate',\n  collaborateAccepted: 'collaborateAccepted',\n  mentioned: 'mentioned',\n  replied: 'replied',\n  favorites: 'star',\n  collaborateFavoriote: 'collaborateFavoriote'\n};\n\n//# sourceURL=webpack:///./src/views/dashboard/NotificationTypeMap.js?")},ddb7:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_NotificationDetail_vue_vue_type_style_index_0_id_01bfc103_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("7b36");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_NotificationDetail_vue_vue_type_style_index_0_id_01bfc103_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_NotificationDetail_vue_vue_type_style_index_0_id_01bfc103_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/dashboard/NotificationDetail.vue?')},fd38:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NoticeMixin; });\n/* harmony import */ var _git_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("5530");\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("ac1f");\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("1276");\n/* harmony import */ var core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("d3b7");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__("25f0");\n/* harmony import */ var core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _const_teacher__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__("3f76");\n/* harmony import */ var _views_dashboard_NotificationTypeMap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__("d20c");\n/* harmony import */ var _api_notice__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__("0bb4");\n/* harmony import */ var _store_mutation_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__("9fb0");\n/* harmony import */ var vuex__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__("2f62");\n/* harmony import */ var _components_MyContentV2_Constant__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__("7147");\n/* harmony import */ var _const_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__("f93e");\n\n\n\n\n\n\n\n\n\n\n\n\nvar NoticeMixin = {\n  components: {},\n  data: function data() {\n    return {};\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$store.watch(function (state) {\n      return state.websocket.receiveMsg;\n    }, function (receiveMsg) {\n      if (receiveMsg) {\n        _this.loadNewNotifications();\n\n        _this.$store.commit(_store_mutation_types__WEBPACK_IMPORTED_MODULE_8__[/* RECEIVE_MSG */ "o"], false);\n      }\n    });\n  },\n  methods: Object(_git_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"])(Object(_git_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"])({}, Object(vuex__WEBPACK_IMPORTED_MODULE_9__[/* mapActions */ "b"])([\'refreshCollaborateAction\'])), {}, {\n    gotoContent: function gotoContent(record) {\n      if (record.busId === \'-1\') {\n        this.$router.push({\n          path: \'/teacher/main/created-by-me\'\n        });\n        return;\n      } // 申请跳转到闲情页\n\n\n      var typeIds = record.busId.split(\'#\');\n\n      if (parseInt(typeIds[0]) === _const_teacher__WEBPACK_IMPORTED_MODULE_5__[/* typeMap */ "e"].task) {\n        this.$router.push({\n          path: \'/teacher/task-redirect/\' + typeIds[1]\n        });\n      } else if (parseInt(typeIds[0]) === _const_teacher__WEBPACK_IMPORTED_MODULE_5__[/* typeMap */ "e"].pd) {\n        this.$router.push({\n          path: \'/teacher/pd-content-redirect/\' + typeIds[1]\n        });\n      } else if (parseInt(typeIds[0]) === _const_teacher__WEBPACK_IMPORTED_MODULE_5__[/* typeMap */ "e"][\'unit-plan\']) {\n        this.$router.push({\n          path: \'/teacher/unit-plan-redirect/\' + typeIds[1]\n        });\n      }\n    },\n    setShareType: function setShareType(record) {\n      if (record.busType === _views_dashboard_NotificationTypeMap__WEBPACK_IMPORTED_MODULE_6__[/* NotificationTypeMap */ "a"].collaborateRejected || record.busType === _views_dashboard_NotificationTypeMap__WEBPACK_IMPORTED_MODULE_6__[/* NotificationTypeMap */ "a"].collaborateApply) {\n        sessionStorage.setItem(_const_common__WEBPACK_IMPORTED_MODULE_11__[/* SESSION_SHARE_TYPE */ "G"], _components_MyContentV2_Constant__WEBPACK_IMPORTED_MODULE_10__[/* SourceType */ "a"].SharedByMe.toString());\n      } else if (record.busType === _views_dashboard_NotificationTypeMap__WEBPACK_IMPORTED_MODULE_6__[/* NotificationTypeMap */ "a"].collaborateAccepted || record.busType === _views_dashboard_NotificationTypeMap__WEBPACK_IMPORTED_MODULE_6__[/* NotificationTypeMap */ "a"].collaborateInvite) {\n        sessionStorage.setItem(_const_common__WEBPACK_IMPORTED_MODULE_11__[/* SESSION_SHARE_TYPE */ "G"], _components_MyContentV2_Constant__WEBPACK_IMPORTED_MODULE_10__[/* SourceType */ "a"].SharedByOthers.toString());\n      }\n    },\n    viewNotification: function viewNotification(record) {\n      var _this2 = this;\n\n      var h = this.$createElement;\n\n      // 标记已读取\n      if (record.readFlag === \'0\') {\n        Object(_api_notice__WEBPACK_IMPORTED_MODULE_7__[/* EditCementSend */ "a"])({\n          anntId: record.id\n        }).then(function () {\n          _this2.$store.commit(_store_mutation_types__WEBPACK_IMPORTED_MODULE_8__[/* RECEIVE_MSG */ "o"], true);\n        });\n        record.readFlag = \'1\';\n      }\n\n      this.setShareType(record);\n\n      if (record.busType === _views_dashboard_NotificationTypeMap__WEBPACK_IMPORTED_MODULE_6__[/* NotificationTypeMap */ "a"].collaborateApply) {\n        this.gotoContent(record);\n        setTimeout(function () {\n          _this2.refreshCollaborateAction(record.busId);\n        }, 4000);\n      } else if (record.busType === _views_dashboard_NotificationTypeMap__WEBPACK_IMPORTED_MODULE_6__[/* NotificationTypeMap */ "a"].collaborateAccepted || record.busType === _views_dashboard_NotificationTypeMap__WEBPACK_IMPORTED_MODULE_6__[/* NotificationTypeMap */ "a"].collaborateInvite) {\n        this.gotoContent(record);\n      } else if (record.busType === _views_dashboard_NotificationTypeMap__WEBPACK_IMPORTED_MODULE_6__[/* NotificationTypeMap */ "a"].collaborateRejected) {\n        this.$router.push({\n          path: \'/teacher/main/created-by-me\'\n        });\n      } else if (record.busType === _views_dashboard_NotificationTypeMap__WEBPACK_IMPORTED_MODULE_6__[/* NotificationTypeMap */ "a"].collaborateRemoved) {\n        this.$warning({\n          title: \'Alert\',\n          content: h("div", [h("h2", ["You have been removed from the collaborating list, you can no longer edit it."])])\n        });\n        return;\n      } else if (record.openType === \'url\') {\n        if (record.busType === _views_dashboard_NotificationTypeMap__WEBPACK_IMPORTED_MODULE_6__[/* NotificationTypeMap */ "a"].collaborateFavoriote) {\n          record.readFlag = \'1\';\n          return;\n        } // 链接跳转\n\n\n        this.$router.push({\n          path: record.openPage\n        });\n      } else {\n        if (this.$route.query && this.$route.query.direct === \'1\') {} else {\n          this.$router.push({\n            path: \'/notification-detail/\' + record.id\n          });\n        }\n      }\n\n      if (this.handleHoverChange) {\n        this.handleHoverChange(false);\n      }\n    },\n    loadNewNotifications: function loadNewNotifications() {\n      var _this3 = this;\n\n      Object(_api_notice__WEBPACK_IMPORTED_MODULE_7__[/* ListCementByUser */ "c"])().then(function (res) {\n        if (res.success) {\n          var msg1Count = res.result.anntMsgTotal;\n\n          _this3.$store.commit(\'SET_UNREAD_COUNT\', msg1Count || 0);\n        }\n      }).catch(function (error) {\n        _this3.$logger.error(\'系统消息通知异常\', error);\n\n        _this3.stopTimer = true;\n\n        _this3.$logger.error(\'清理timer\');\n      });\n    }\n  })\n};\n\n//# sourceURL=webpack:///./src/mixins/NoticeMixin.js?')}}]);