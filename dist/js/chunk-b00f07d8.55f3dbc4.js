(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b00f07d8"],{"0381":function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:{"disabled-button":e.disabled,"cc-custom-button":!e.disabled},style:{"background-color":e.bgColor,color:e.color},on:{click:e.handleClick,dblclick:e.handleDbClick}},[e.disabled&&e.disabledTooltip?[o("a-tooltip",{attrs:{title:e.disabledTooltip,placement:e.placement}},[e.loading?o("div",{staticClass:"loading vertical-center"},[o("a-spin",[o("a-icon",{staticStyle:{"font-size":"14px",color:"#666666"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)],1):e._e(),o("div",{staticClass:"icon"},[e._t("icon")],2),o("div",{staticClass:"label"},[e._v(" "+e._s(e.label)+" ")])])]:[e.loading?o("div",{staticClass:"loading vertical-center"},[o("a-spin",[o("a-icon",{staticStyle:{"font-size":"14px",color:"#666666"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)],1):e._e(),o("div",{staticClass:"icon"},[e._t("icon")],2),o("div",{staticClass:"label"},[e._v(" "+e._s(e.label)+" ")])]],2)},i=[],n={name:"CustomButton",props:{label:{type:String,default:""},bgColor:{type:String,default:"#EEF1F3"},color:{type:String,default:"#16274A"},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledTooltip:{type:String,default:""},placement:{type:String,default:"top"}},methods:{handleClick:function(){this.disabled||this.$emit("click")},handleDbClick:function(){this.disabled||this.$emit("dblclick")}}},r=n,l=(o("5d91"),o("0c7c")),c=Object(l["a"])(r,a,i,!1,null,"b546cb6a",null);t["a"]=c.exports},"10fe":function(e,t,o){},1202:function(e,t,o){},"12a0":function(e,t,o){},"19d1":function(e,t,o){},"21fb":function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));o("b0c0");var a={data:function(){return{unwatch:null,routeName:this.$route.name}},created:function(){var e=this;this.unwatch=this.$store.watch((function(e){return e.user.currentSchool}),(function(t){return t&&e.$route.name===e.routeName&&e.handleSchoolChange(t)}))},computed:{},beforeDestroy:function(){this.unwatch&&this.unwatch()},methods:{handleSchoolChange:function(e){}}}},"34c4":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-full-form-wrapper",attrs:{id:"formRoot"}},[a("fixed-form-header",{scopedSlots:e._u([{key:"header",fn:function(){return[a("form-header",{attrs:{title:"Application for certification/service","show-share":!1,"show-collaborate":!1,"is-preview-mode":!0},on:{back:e.goBack},scopedSlots:e._u([{key:"back",fn:function(){return[a("img",{staticClass:"single-logo-img",attrs:{src:o("be50"),alt:"classcipe"},on:{click:function(t){return t.stopPropagation(),e.$router.push("/")}}})]},proxy:!0},{key:"left",fn:function(){return[a("a-space",{attrs:{size:5,align:"center"},on:{click:function(e){e.stopPropagation()}}},[a("label",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.$router.push("/account/info")}}},[e._v("Account Info")]),a("label",{attrs:{for:""}},[e._v(">")]),a("label",{staticStyle:{"font-weight":"normal"}},[e._v("Application for certification/service")])])]},proxy:!0},{key:"right",fn:function(){},proxy:!0}])})]},proxy:!0}])}),a("div",{staticClass:"form-content"},[a("div",{staticClass:"status-tab"},[a("div",{staticClass:"tab-list"},e._l(e.tabsList,(function(t,o){return a("div",{key:"types"+o,class:{"tab-item":!0,active:e.currentTab===t.value},on:{click:function(o){return e.toggleTab(t.value)}}},[e._v(" "+e._s(t.title)+" ")])})),0)]),a("div",{staticClass:"form-tab"},[a("teacher-verification-form",{directives:[{name:"show",rawName:"v-show",value:"Teacher"===e.currentTab,expression:"currentTab === 'Teacher'"}],ref:"teacherVerificationForm",attrs:{school:e.currentSchool,id:e.info.id},on:{changeSchool:e.changeSchool,save:e.handleSave}}),a("service-verification-form",{directives:[{name:"show",rawName:"v-show",value:"Service"===e.currentTab,expression:"currentTab === 'Service'"}],ref:"serviceVerificationForm",attrs:{school:e.selSchool,id:e.info.id},on:{save:e.handleSave}})],1)])],1)},i=[],n=o("5530"),r=o("f93e"),l=o("6e84"),c=o("21fb"),s=o("b5ff8"),d=o("b5a9"),u=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("a-form-model",e._b({ref:"form",attrs:{layout:"horizontal",model:e.formModel,rules:e.validatorRules}},"a-form-model",e.formItemLayout,!1),[o("a-form-model-item",{attrs:{label:"Are you a current teacher"}},[o("a-switch",{attrs:{disabled:!e.canEdit},model:{value:e.formModel.currentTeacher,callback:function(t){e.$set(e.formModel,"currentTeacher",t)},expression:"formModel.currentTeacher"}})],1),e.formModel.currentTeacher?o("a-form-model-item",{attrs:{label:"Current School"}},[o("a-select",{ref:"schoolRefformModel",attrs:{getPopupContainer:function(e){return e.parentNode},placeholder:"Please select school",disabled:!e.canEdit,"show-search":"","default-active-first-option":!1,"show-arrow":!1,"filter-option":!1,"not-found-content":null,"option-label-prop":"label"},on:{change:e.handleSelSchool,search:e.handleSearchSchool,focus:e.handleSearchSchool},scopedSlots:e._u([{key:"dropdownRender",fn:function(t){return o("div",{},[o("v-nodes",{attrs:{vnodes:t}}),e.ifShowCreate?o("div",[o("a-divider",{staticStyle:{margin:"4px 0"}}),o("div",{staticStyle:{padding:"4px 8px",cursor:"pointer"},on:{mousedown:function(e){return e.preventDefault()},click:function(t){return e.handleCreateSchool("formModel")}}},[e._v(" Create School: "),o("a-tag",{attrs:{color:"#15c39a"}},[e._v(e._s(e.createSchoolName))])],1)],1):e._e()],1)}}],null,!1,423549825),model:{value:e.formModel.schoolId,callback:function(t){e.$set(e.formModel,"schoolId",t)},expression:"formModel.schoolId"}},e._l(e.myCreateSchoolOptions.concat(e.schoolOptions),(function(t){return o("a-select-option",{key:t.id,attrs:{value:t.id,label:t.name}},[o("label",{staticStyle:{display:"flex","justify-content":"space-between"}},[o("span",[e._v(e._s(t.name))]),o("a-tag",{directives:[{name:"show",rawName:"v-show",value:t.country,expression:"schoolOption.country"}],attrs:{type:"primary"}},[e._v(e._s(t.country))])],1)])})),1)],1):e._e(),o("a-form-model-item",{attrs:{label:"Year of teaching",prop:"teachingYear"}},[o("a-select",{attrs:{optionFilterProp:"children",disabled:!e.canEdit,getPopupContainer:function(e){return e.parentElement},"option-label-prop":"label",placeholder:"Please select school"},model:{value:e.formModel.teachingYear,callback:function(t){e.$set(e.formModel,"teachingYear",t)},expression:"formModel.teachingYear"}},e._l(e.yearsList,(function(t){return o("a-select-option",{key:t.value,attrs:{value:t.value,label:t.label}},[o("span",[e._v(e._s(t.label))])])})),1)],1),o("a-form-model-item",{attrs:{prop:"teachingCertificate"}},[o("span",{attrs:{slot:"label"},slot:"label"},[e._v(" Teaching certificateÂ  "),o("a-tooltip",{attrs:{title:"Certificates that can prove you are entitled to teach, such as Teaching certificate, School staff card, Cambridge/IB Training Certificate and etc."}},[o("a-icon",{attrs:{type:"question-circle-o"}})],1)],1),e.canEdit?o("a-upload",{attrs:{showUploadList:!1,accept:"image/png, image/jpeg,  application/pdf",customRequest:function(t){return e.handleUploadImage(t,"teachingCertificate")}}},[o("a-button",{attrs:{loading:e.uploading}},[o("a-icon",{attrs:{type:"upload"}}),e._v(" Click to Upload image/PDF ")],1)],1):e._e(),e.formModel.teachingCertificate?o("div",{staticClass:"file-list",attrs:{slot:"extra"},slot:"extra"},e._l(e.formModel.teachingCertificate.split(","),(function(t){return o("div",{key:t,staticClass:"file-item"},[t?[o("div",{staticClass:"preview-file"},[o("div",{staticClass:"img"},[e.isPdf(t)?o("div",[o("a-icon",{attrs:{type:"file-pdf"}})],1):o("img",{attrs:{src:t,alt:""}})]),o("a",{attrs:{href:t,target:"_blank",for:""}},[e._v(e._s(e.urlName(t)))]),e.canEdit?o("a-icon",{staticClass:"close",attrs:{type:"close"},on:{click:function(o){return e.handleRemove("teachingCertificate",t)}}}):e._e()],1)]:e._e()],2)})),0):e._e()],1),o("a-form-model-item",{attrs:{wrapperCol:{offset:6}}},[e.canEdit?o("a-space",[o("a-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.handleSave}},[e._v(e._s("Update"))])],1):e._e(),1===e.formModel.teacherVerificationStatus?o("div",{staticClass:"status-text"},[o("span",[e._v("It's under review : In progress")])]):e._e(),2===e.formModel.teacherVerificationStatus?o("div",{staticClass:"status-text"},[o("a-icon",{attrs:{type:"check-circle"}}),e._v(" "),o("span",[e._v("Approved")])],1):e._e(),3===e.formModel.teacherVerificationStatus?[o("div",{staticClass:"status-text deny"},[o("a-icon",{attrs:{type:"close-circle"}}),e._v(" "),o("span",[e._v("Rejected")])],1)]:e._e()],2)],1)],1)},f=[],h=o("2909"),p=(o("d3b7"),o("7db0"),o("99af"),o("b0c0"),o("a9e3"),o("4de4"),o("ac1f"),o("1276"),o("a15b"),o("c740"),o("a434"),o("caa4")),m=o("683a"),v=o("d344"),g=o("d0d0"),b=o("85b1"),y={name:"TeacherVerificationForm",components:{CustomerUploadFile:v["a"],VNodes:{functional:!0,render:function(e,t){return t.props.vnodes}}},props:{school:{type:Object,default:function(){}},id:{type:String,default:null}},watch:{school:{handler:function(e){this.currentSchool=Object(n["a"])({},e),this.initData()},deep:!0,immediate:!0},id:{handler:function(e){this.teacherId=e,this.initForm()},immediate:!0}},data:function(){return{currentSchool:this.school,teacherId:this.id,schoolOptions:[],myCreateSchoolOptions:[],yearsList:[{label:"< 1 year",value:1},{label:"1 year - 3 years",value:2},{label:"> 3 years",value:3}],formModel:{currentTeacher:!1,schoolId:"",teachingYear:"",teachingCertificate:"",teacherVerificationStatus:""},formItemLayout:{labelCol:{span:6},wrapperCol:{span:12}},loading:!1,uploading:!1,createSchoolName:""}},created:function(){this.debouncedSearchSchool=Object(b["a"])(this.searchSchool,500),this.initDict()},computed:{validatorRules:function(){return{teachingCertificate:[{required:!0,message:"Please Upload Certificate!",trigger:"change"}],teachingYear:[{required:!0,message:"Please Select year!"}]}},ifShowCreate:function(){return!1},canEdit:function(){return!this.formModel.teacherVerificationStatus||3===this.formModel.teacherVerificationStatus}},methods:{initDict:function(){},filterOptions:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},initData:function(){},initForm:function(){var e=this;this.loading=!0,Object(m["a"])({userId:this.id}).then((function(t){0===t.code&&(e.formModel.currentTeacher=Boolean(t.result.currentTeacher),e.formModel.schoolId=t.result.schoolId,e.formModel.teachingYear=t.result.teachingYear,e.formModel.teachingCertificate=t.result.teachingCertificate,e.formModel.teacherVerificationStatus=t.result.teacherVerificationStatus,e.formModel.schoolId&&Object(p["c"])({id:e.formModel.schoolId}).then((function(t){if(0===t.code){e.schoolOptions=[Object(n["a"])({},t.result)];var o=e.schoolOptions.find((function(t){return t.id===e.formModel.schoolId}));o||(e.formModel.schoolId=void 0)}})),e.$emit("changeSchool",e.formModel.schoolId))})).finally((function(){e.loading=!1}))},handleSelSchool:function(e){var t=[].concat(Object(h["a"])(this.myCreateSchoolOptions),Object(h["a"])(this.schoolOptions)),o=t.find((function(t){return t.id===e}));o&&(o.country&&(this.formModel.country=o.country,this.changeCountry(o.country)),this.formModel.schoolName=o.name),this.$emit("changeSchool",e)},changeCountry:function(e){},handleSave:function(){var e=this;this.$refs.form.validate((function(t){if(t){var o=Object(n["a"])({},e.formModel);o.currentTeacher=Number(o.currentTeacher),e.loading=!0,Object(m["c"])(o).then((function(t){0===t.code&&(e.formModel.teacherVerificationStatus=1,e.$message.success("Submit successfully"))})).finally((function(){e.loading=!1}))}}))},handleCancel:function(){this.$emit("cancel")},uploadFile:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(this.formModel[e]||"").split(",").filter((function(e){return!!e}));o?a.push(t.url):a=[t.url],this.formModel[e]=a.join(","),this.$refs.form.validateField([e])},handleRemove:function(e,t){var o=this.formModel[e].split(",").filter((function(e){return!!e})),a=o.findIndex((function(e){return e===t}));o.splice(a,1),this.formModel[e]=o.join(",")},urlName:function(e){var t=e.split("_").pop();return decodeURIComponent(t)},isPdf:function(e){var t=e.split(".").pop();return"pdf"===t},handleUploadImage:function(e,t){var o=this,a=e.file.type.indexOf("image")>-1?"image":e.file.type.indexOf("video")>-1?"video":e.file.type;this.uploading=!0,this.uploader=Object(g["a"])(this.$store.getters.userInfo.id,e.file,(function(e){}),(function(e){o.uploading=!1,o.uploadFile(t,{type:a,url:e},!0)}),!0)},handleSearchSchool:function(e){this.createSchoolName=e,this.debouncedSearchSchool(e)},searchSchool:function(e){var t=this;e&&Object(p["b"])({name:e}).then((function(e){e.success?t.schoolOptions=e.result||[]:t.schoolOptions=[]}))},handleCreateSchool:function(e){var t={id:(new Date).getTime(),name:this.createSchoolName};this.myCreateSchoolOptions.push(t),this[e].schoolId=t.id,this.$refs["schoolRef"+e].$el.click()}}},C=y,S=(o("4beb"),o("0c7c")),_=Object(S["a"])(C,u,f,!1,null,"1cd8d71f",null),M=_.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-spin",{attrs:{spinning:e.loading}},[a("a-form-model",e._b({ref:"form",attrs:{layout:"horizontal",model:e.formModel,rules:e.validatorRules}},"a-form-model",e.formItemLayout,!1),[a("a-form-model-item",{attrs:{label:"Areas of teaching",prop:"teachingAreas"}},[a("a-select",{attrs:{optionFilterProp:"children",getPopupContainer:function(e){return e.parentElement},mode:"multiple","option-label-prop":"label",placeholder:"Please select areas"},model:{value:e.formModel.teachingAreas,callback:function(t){e.$set(e.formModel,"teachingAreas",t)},expression:"formModel.teachingAreas"}},e._l(e.subjectOptions,(function(t){return a("a-select-option",{key:t.subjectName,attrs:{value:t.subjectName,label:t.subjectName}},[e._v(" "+e._s(t.subjectName)+" ")])})),1)],1),a("a-form-model-item",{attrs:{label:"Ages of students",prop:"studentAges"}},[a("a-select",{attrs:{optionFilterProp:"children",getPopupContainer:function(e){return e.parentElement},"option-label-prop":"label",mode:"multiple",placeholder:"Please select ages"},model:{value:e.formModel.studentAges,callback:function(t){e.$set(e.formModel,"studentAges",t)},expression:"formModel.studentAges"}},e._l(e.ageList,(function(t){return a("a-select-option",{key:t,attrs:{value:t,label:t}},[e._v(" "+e._s(t)+" ")])})),1)],1),a("a-form-model-item",{attrs:{label:"Available time per day",prop:"availableTime"}},[a("a-input-number",{model:{value:e.formModel.availableTime,callback:function(t){e.$set(e.formModel,"availableTime",t)},expression:"formModel.availableTime"}}),e._v(" hours ")],1),a("a-form-model-item",{attrs:{wrapperCol:{span:18},label:"Official ID"}},[a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form-model-item",{staticStyle:{"margin-top":"40px"},attrs:{prop:"officialId"}},[a("customer-upload-file",{attrs:{accept:"image/png, image/jpeg,  application/pdf",showUploadButton:!1,type:"image/pdf"},on:{update:function(t){return e.uploadFile("officialId",t,!0)}}},[a("div",{attrs:{slot:"fileList"},slot:"fileList"},[e.formModel.officialId?[a("div",{staticClass:"img-file"},[a("div",{staticClass:"img"},[e.isPdf(e.formModel.officialId)?a("div",[a("a-icon",{attrs:{type:"file-pdf"}})],1):a("img",{attrs:{src:e.formModel.officialId,alt:""}})])])]:[a("a-icon",{attrs:{type:"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v(" Upload image/pdf ")])]],2)])],1)],1),a("a-col",{attrs:{span:12}},[a("div",{staticStyle:{"font-weight":"bold"}},[e._v("Photo of yourself holding your ID Â  "),a("a-tooltip",[a("div",{staticClass:"photo-tip",attrs:{slot:"title"},slot:"title"},[a("p",[e._v("How to take a photo of yourself holding your ID")]),a("ul",[a("li",[e._v("Take the photo in a room with enough light")]),a("li",[e._v("Select the highest photo quality on the device you use to take the photo")]),a("li",[e._v("Hold up the document next to your face, like in the image below")]),a("li",[e._v("Make sure both your face and ID are clear on the photo ââ nothing on the ID can be covered or censored")])])]),a("a-icon",{attrs:{type:"question-circle-o"}})],1)],1),a("div",[a("a-form-model-item",{attrs:{prop:"holdingPhone"}},[a("customer-upload-file",{attrs:{accept:"image/png, image/jpeg,  application/pdf",showUploadButton:!1,type:"image/pdf"},on:{update:function(t){return e.uploadFile("holdingPhone",t,!0)}}},[a("div",{attrs:{slot:"fileList"},slot:"fileList"},[e.formModel.holdingPhone?[a("div",{staticClass:"img-file"},[a("div",{staticClass:"img"},[e.isPdf(e.formModel.holdingPhone)?a("div",[a("a-icon",{attrs:{type:"file-pdf"}})],1):a("img",{attrs:{src:e.formModel.holdingPhone,alt:""}})])])]:[a("div",{staticClass:"img-file"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:o("817f"),alt:""}})])])]],2)])],1)],1)])],1)],1),a("a-form-model-item",{attrs:{wrapperCol:{offset:6}}},[""===e.formModel.serviceVerificationStatus||1===e.formModel.serviceVerificationStatus||3===e.formModel.serviceVerificationStatus?a("a-space",[a("a-button",{attrs:{loading:e.loading},on:{click:e.handleCancel}},[e._v("Cancel")]),a("a-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.handleSave}},[e._v(e._s("Update"))])],1):e._e(),1===e.formModel.serviceVerificationStatus?a("div",{staticClass:"status-text"},[a("span",[e._v("It's under review : In progress")])]):e._e(),2===e.formModel.serviceVerificationStatus?a("div",{staticClass:"status-text"},[a("a-icon",{attrs:{type:"check-circle"}}),e._v(" "),a("span",[e._v("Approved")])],1):e._e(),3===e.formModel.serviceVerificationStatus?[a("div",{staticClass:"status-text deny"},[a("a-icon",{attrs:{type:"close-circle"}}),e._v(" "),a("span",[e._v("Rejected")])],1)]:e._e()],2)],1)],1)},w=[],O=o("3835"),k=(o("3ca3"),o("ddb0"),o("159b"),o("9bfe")),x={name:"ServiceVerificationForm",components:{CustomerUploadFile:v["a"]},props:{school:{type:String,default:"0"},id:{type:String,default:null}},watch:{school:{handler:function(e){this.currentSchool=e,this.initData()},deep:!0,immediate:!0},id:{handler:function(e){this.teacherId=e,this.initForm()},immediate:!0}},data:function(){return{currentSchool:this.school,teacherId:this.id,schoolList:[],subjectOptions:[],yearsList:[{label:"< 1 year",value:1},{label:"1 year - 3 years",value:2},{label:"> 3 years",value:3}],ageList:[5,6,7,8,9,10,11,12,13,14,15,16,17,18],formModel:{teachingAreas:[],studentAges:[],schoolId:"",officialId:"",holdingPhone:"",availableTime:1,serviceVerificationStatus:""},formItemLayout:{labelCol:{span:6},wrapperCol:{span:12}},loading:!1}},created:function(){this.initDict()},computed:{validatorRules:function(){return{officialId:[{required:!0,message:"Please Upload officialId!"}],holdingPhone:[{required:!0,message:"Please Upload holdingPhone!"}],teachingAreas:[{required:!0,message:"Please Select areas!"}],studentAges:[{required:!0,message:"Please Select ages!"}],availableTime:[{required:!0,message:"Please Input time!"}]}}},methods:{initDict:function(){var e=this;this.loading=!0,Promise.all([Object(k["a"])({schoolId:this.currentSchool||"0"}),Object(p["b"])({})]).then((function(t){var o=Object(O["a"])(t,2),a=o[0],i=o[1];if(i.success?e.schoolList=i.result||[]:e.schoolList=[],a.success){var n=[];a.result.forEach((function(e){e.subjectList&&e.subjectList.length>0&&(n=n.concat(e.subjectList))})),e.subjectOptions=n}else e.subjectOptions=[]})).finally((function(){e.loading=!1}))},initData:function(){this.formModel.schoolId=this.currentSchool,this.formModel.schoolId&&"0"!==this.formModel.schoolId&&this.initDict()},initForm:function(){var e=this;this.loading=!0,Object(m["a"])({userId:this.id}).then((function(t){var o,a;0===t.code&&(e.formModel.teachingAreas=(null===(o=t.result.teachingAreas)||void 0===o?void 0:o.split(","))||[],e.formModel.studentAges=(null===(a=t.result.studentAges)||void 0===a?void 0:a.split(","))||[],e.formModel.schoolId=t.result.schoolId,e.formModel.officialId=t.result.officialId||"",e.formModel.holdingPhone=t.result.holdingPhone||"",e.formModel.availableTime=t.result.availableTime,e.formModel.serviceVerificationStatus=t.result.serviceVerificationStatus)})).finally((function(){e.loading=!1}))},handleSave:function(){var e=this;this.$refs.form.validate((function(t){if(t){var o=Object(n["a"])({},e.formModel);o.teachingAreas=o.teachingAreas.join(","),o.studentAges=o.studentAges.join(","),e.loading=!0,Object(m["b"])(o).then((function(t){0===t.code&&e.$message.success("Submit successfully")})).finally((function(){e.loading=!1}))}}))},handleCancel:function(){this.$emit("cancel")},uploadFile:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.formModel[e].split(",").filter((function(e){return!!e}));o?a.push(t.url):a=[t.url],this.formModel[e]=a.join(",")},handleRemove:function(e,t){var o=this.formModel[e].split(",").filter((function(e){return!!e})),a=o.findIndex((function(e){return e===t}));o.splice(a,1),this.formModel[e]=o.join(",")},urlName:function(e){var t=e.split("_").pop();return decodeURIComponent(t)},isPdf:function(e){var t=e.split(".").pop();return"pdf"===t}}},T=x,j=(o("7270"),Object(S["a"])(T,I,w,!1,null,"8a47c1b2",null)),E=j.exports,D=o("2f62"),U=o("4fcf"),$=U.debounce,B={name:"Verification",mixins:[l["a"],c["a"]],components:{FixedFormHeader:s["a"],FormHeader:d["a"],TeacherVerificationForm:M,ServiceVerificationForm:E},data:function(){return{USER_MODE:r["Y"],currentTab:"Teacher",selSchool:"",tabsList:[{value:"Teacher",title:"Teacher verification"}]}},created:function(){this.debounceLoad=$(this.loadData,300)},computed:Object(n["a"])({},Object(D["e"])({info:function(e){return e.user.info},userMode:function(e){return e.app.userMode},currentSchool:function(e){return e.user.currentSchool}})),methods:{goBack:function(){this.$router.go(-1)},handleSchoolChange:function(e){this.userMode===r["Y"].SCHOOL&&(this.queryParam.schoolId=e.id,this.initDict(),this.debounceLoad())},handleModeChange:function(e){this.debounceLoad()},toggleTab:function(e){this.currentTab=e},loadData:function(){this.selSchool=this.currentSchool.id},changeSchool:function(e){this.selSchool=e},handleSave:function(e){this.goBack()}}},V=B,P=(o("be92"),Object(S["a"])(V,a,i,!1,null,"59d6b21e",null));t["default"]=P.exports},4357:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"link-text",style:{"font-size":e.size+"px","line-height":e.size+"px",color:e.color,cursor:e.disabled?"not-allowed":"pointer"},on:{click:e.handleClick}},[e._t("prefix"),o("div",{staticClass:"text"},[e._v(" "+e._s(e.text)+" ")]),e._t("suffix")],2)},i=[],n=(o("a9e3"),{name:"CustomLinkText",props:{text:{type:String,default:null},color:{type:String,default:"#007A8E"},size:{type:Number,default:14},disabled:{type:Boolean,default:!1}},data:function(){return{}},created:function(){},methods:{handleClick:function(){this.$emit("click")}}}),r=n,l=(o("671b"),o("0c7c")),c=Object(l["a"])(r,a,i,!1,null,"5d459e12",null);t["a"]=c.exports},"49de":function(e,t,o){"use strict";o.r(t),o.d(t,"materialAPIUrl",(function(){return i})),o.d(t,"MaterialAddOrUpdate",(function(){return n})),o.d(t,"MaterialQueryById",(function(){return r})),o.d(t,"MaterialDelete",(function(){return l})),o.d(t,"MaterialDeleteBatch",(function(){return c})),o.d(t,"MaterialList",(function(){return s})),o.d(t,"YoutubeQueryByKeywords",(function(){return d})),o.d(t,"FileRecord",(function(){return u})),o.d(t,"addFileUploadRecord",(function(){return f}));var a=o("b775"),i={MaterialAddOrUpdate:"/classcipe/api/material/addOrUpdate",MaterialQueryById:"/classcipe/api/material/queryById",MaterialDelete:"/classcipe/api/material/delete",MaterialDeleteBatch:"/classcipe/api/material/deleteBatch",MaterialList:"/classcipe/api/material/list",YoutubeQueryByKeywords:"/classcipe/api/youtube/queryByKeywords",FileRecord:"/classcipe/api/fileUploadRecord/list",addFileUploadRecord:"/classcipe/api/fileUploadRecord/add"};function n(e){return Object(a["d"])({url:i.MaterialAddOrUpdate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(a["d"])({url:i.MaterialQueryById,method:"get",params:e})}function l(e){return Object(a["d"])({url:i.MaterialDelete,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(a["d"])({url:i.MaterialDeleteBatch,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(e){return Object(a["d"])({url:i.MaterialList,method:"get",params:e})}function d(e){return Object(a["d"])({url:i.YoutubeQueryByKeywords,method:"get",params:e})}function u(e){return Object(a["d"])({url:i.FileRecord,method:"get",params:e})}function f(e){return Object(a["d"])({url:i.addFileUploadRecord,method:"post",data:e})}},"4beb":function(e,t,o){"use strict";o("7db1")},"5d91":function(e,t,o){"use strict";o("19d1")},"658c":function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"cc-custom-button",style:{backgroundColor:e.bgColor,color:e.fontColor},on:{click:e.handleClick,dblclick:e.handleDbClick}},[o("div",{staticClass:"icon"},[e._t("icon")],2),o("div",{staticClass:"label"},[e._v(" "+e._s(e.label)+" ")])])},i=[],n={name:"CustomMediaCoverButton",props:{label:{type:String,default:""},bgColor:{type:String,default:"#EEF1F3"},fontColor:{type:String,default:"#515564"}},methods:{handleClick:function(){this.$emit("click")},handleDbClick:function(){this.$emit("dblclick")}}},r=n,l=(o("6982"),o("0c7c")),c=Object(l["a"])(r,a,i,!1,null,"09140532",null);t["a"]=c.exports},"671b":function(e,t,o){"use strict";o("adbe")},"683a":function(e,t,o){"use strict";o.d(t,"c",(function(){return r})),o.d(t,"b",(function(){return l})),o.d(t,"a",(function(){return c}));var a=o("b775"),i="api/teacherVerification",n={checkServiceVerification:"/classcipe/".concat(i,"/checkServiceVerification"),checkTeacherVerification:"/classcipe/".concat(i,"/checkTeacherVerification"),detailVertificationById:"/classcipe/".concat(i,"/detailById"),listVeritification:"/classcipe/".concat(i,"/list"),saveServiceVerification:"/classcipe/".concat(i,"/saveServiceVerification"),saveTeacherVerification:"/classcipe/".concat(i,"/saveTeacherVerification"),detailVerificationByUserId:"/classcipe/".concat(i,"/detailByUserId")};function r(e){return Object(a["d"])({url:n.saveTeacherVerification,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(a["d"])({url:n.saveServiceVerification,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(a["d"])({url:n.detailVerificationByUserId,method:"get",params:e})}},6982:function(e,t,o){"use strict";o("1202")},"6a7a":function(e,t,o){},"6e84":function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));o("b0c0");var a={data:function(){return{unwatch:null,routeName:this.$route.name}},computed:{redirectUrl:function(){return"student"===this.$store.state.user.currentRole?"/student/main/my-task":"/account/info"}},created:function(){var e=this;this.unwatch=this.$store.watch((function(e){return e.app.userMode}),(function(t){t&&e.$route.name===e.routeName&&(e.handleModeChange(t),e.routeInMode())})),this.routeInMode()},beforeDestroy:function(){this.unwatch&&this.unwatch()},methods:{routeInMode:function(){this.$route.meta.mode&&this.$route.meta.mode!==this.$store.state.app.userMode&&this.$router.push({path:this.redirectUrl})},handleModeChange:function(e){}}}},7270:function(e,t,o){"use strict";o("6a7a")},"7db1":function(e,t,o){},"817f":function(e,t,o){e.exports=o.p+"img/certificate.b8a53d8f.png"},adbe:function(e,t,o){},be92:function(e,t,o){"use strict";o("10fe")},d344:function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"custom-cover-media",style:{width:e.width,height:e.height}},[o("a-upload-dragger",{staticClass:"cc-upload",attrs:{showUploadList:!1,accept:e.accept,customRequest:e.handleUploadImage,name:"file"}},[e._t("fileList",(function(){return[e.mediaUrl||e.url?["image"===(e.mediaType||e.type)?o("div",{staticClass:"uploaded-cover"},[o("div",{staticClass:"img-cover",style:{backgroundImage:"url('"+(e.mediaUrl||e.url)+"')"}})]):"video"===(e.mediaType||e.type)?o("div",{staticClass:"upload-text"},[o("video",{attrs:{src:e.mediaUrl||e.url,controls:e.videoControls}})]):o("div",[o("a-icon",{attrs:{type:e.uploading?"loading":"file"}}),o("div",{staticClass:"ant-upload-text"},[e._v(" Upload "+e._s(e.type)+" ")])],1)]:o("div",[o("a-icon",{attrs:{type:e.uploading?"loading":"plus"}}),o("div",{staticClass:"ant-upload-text"},[e._v(" Upload "+e._s(e.type)+" ")])],1)]})),e.uploading?e._e():o("div",{staticClass:"upload-tips"},[o("custom-media-cover-button",{directives:[{name:"show",rawName:"v-show",value:e.showUploadButton,expression:"showUploadButton"}],attrs:{label:e.label,"bg-color":"#2582B5","font-color":"#fff"}}),o("custom-media-cover-button",{directives:[{name:"show",rawName:"v-show",value:e.showEditButton,expression:"showEditButton"}],attrs:{label:"Edit","bg-color":"#2582B5","font-color":"#fff"},nativeOn:{"!click":function(t){return t.stopPropagation(),e.handleEdit(t)}}}),o("custom-media-cover-button",{directives:[{name:"show",rawName:"v-show",value:e.showDeleteButton,expression:"showDeleteButton"}],attrs:{label:"Delete","bg-color":"#2582B5","font-color":"#fff"},nativeOn:{"!click":function(t){return t.stopPropagation(),e.handleDelete(t)}}})],1)],2),o("div",{directives:[{name:"show",rawName:"v-show",value:e.uploading,expression:"uploading"}],staticClass:"uploading-progress"},[o("div",{staticClass:"progress"},[o("a-progress",{attrs:{percent:e.progressPercent,strokeColor:"#2582B5"}}),o("custom-link-text",{staticClass:"cancel-text",attrs:{text:"Cancel",color:"#fff"},on:{click:e.handleCancel}})],1)])],1)},i=[],n=o("823b"),r=o("d0d0"),l=o("0381"),c=o("658c"),s=o("4357"),d={COVER_MEDIA_EDIT:"COVER_MEDIA_EDIT",COVER_MEDIA_UPDATE:"COVER_MEDIA_UPDATE",COVER_MEDIA_ADD:"COVER_MEDIA_ADD",COVER_MEDIA_DELETE:"COVER_MEDIA_DELETE"},u={name:"CustomCoverMedia",components:{CustomLinkText:s["a"],CustomMediaCoverButton:c["a"],CustomButton:l["a"]},props:{accept:{type:String,default:"image/png, image/jpeg"},type:{type:String,default:"image"},url:{type:String,default:null},videoControls:{type:Boolean,default:!0},width:{type:String,default:"320px"},height:{type:String,default:"180px"},labelText:{type:String,default:null},showUploadButton:{type:Boolean,default:!0},showEditButton:{type:Boolean,default:!1},showDeleteButton:{type:Boolean,default:!1},videoItem:{type:[Object,String],default:null},emitGlobalEvent:{type:Boolean,default:!0}},data:function(){return{uploading:!1,mediaType:null,mediaUrl:null,progressPercent:0,uploader:null}},computed:{label:function(){return this.labelText?this.labelText:"image"===this.type?"Upload Image":"Upload"}},methods:{handleUploadImage:function(e){var t=this;n["info"]("handleUploadImage data",e),this.mediaType=e.file.type.indexOf("image")>-1?"image":e.file.type.indexOf("video")>-1?"video":e.file.type,this.progressPercent=0,this.uploading=!0,this.uploader=Object(r["a"])(this.$store.getters.userInfo.id,e.file,(function(e){t.$logger.info("progressSize",e),t.progressPercent=e}),(function(e){t.$logger.info("handleUploadImage result",e),t.mediaUrl=e,t.uploading=!1,t.$emit("update",{type:t.mediaType,url:t.mediaUrl})}),!0)},handleCancel:function(){this.uploader&&(this.uploader.abort(),this.uploading=!1,this.progressPercent=0)},handleEdit:function(){this.$logger.info("handleEdit",this.videoItem)},handleDelete:function(){this.$logger.info("handleDelete",this.videoItem),this.$emit("delete",this.videoItem),this.emitGlobalEvent&&this.$EventBus.$emit(d.COVER_MEDIA_DELETE,this.videoItem)}}},f=u,h=(o("e4b3"),o("0c7c")),p=Object(h["a"])(f,a,i,!1,null,"69250f59",null);t["a"]=p.exports},e4b3:function(e,t,o){"use strict";o("12a0")}}]);