(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e8966266"],{"093a":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c}));var a=n("b775"),i={VideoAddOrUpdate:"/classcipe/api/v2/video/addOrUpdate",VideoQueryById:"/classcipe/api/v2/video/queryById",VideoDelete:"/classcipe/api/v2/video/delete",VideoDeleteBatch:"/classcipe/api/v2/video/deleteBatch",VideoList:"/classcipe/api/v2/video/list"};function s(e){return Object(a["d"])({url:i.VideoAddOrUpdate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(a["d"])({url:i.VideoQueryById,method:"get",params:e})}function c(e){return Object(a["d"])({url:i.VideoDelete+"?id="+e.id,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},"0f1c":function(e,t){e.exports="data:image/png;base64,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"},"153a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-sub-task-list"},[n("fixed-vertical-header",{scopedSlots:e._u([{key:"left",fn:function(){return[n("a-tooltip",{attrs:{placement:"leftBottom"}},[n("template",{slot:"title"},[e._v(" The task is more likely to be purchased by other educators if it is simple, clear and focus on specific learning outcome(s). So dividing your main task into small sub-tasks with specific tags is always a good idea. ")]),n("a-button",{staticClass:"cc-dark-button",on:{click:e.handleCreateSubtask}},[e._v(" Create sub task ")])],2)]},proxy:!0}])}),n("div",{staticClass:"sub-task-container"},e._l(e.subTaskList,(function(t){return n("div",{key:t.id,staticClass:"sub-task-list vertical-left"},[n("div",{staticClass:"task-item vertical-left"},[n("content-item",{attrs:{content:t,"show-button":!0,"show-edit":!0,"show-delete":!0,"show-schedule":!0,"show-publish":!0,"show-set-price":1===t.status,"show-publish-status":!1},on:{delete:e.loadAssociateData,"update-publish":e.handleShowContentPublish}})],1)])})),0),n("verification-tip",{ref:"verificationTip",on:{continue:e.doUpdatePublish}}),e.currentContent?n("edit-price-dialog",{ref:"editPrice",attrs:{content:e.currentContent},on:{finish:e.showPublishTips}}):e._e()],1)},i=[],s=n("1da1"),r=(n("96cf"),n("159b"),n("99af"),n("2ca0"),n("c740"),n("d3b7"),n("b5ff8")),c=n("5c8b"),o=n("49a2"),d=n("f93e"),u=n("920f"),l=n("ca00"),p=n("9fb0"),h=n("bda9"),f=n("9afb"),b=n("2f59"),m=n("3f76"),g=n("a12d"),C={name:"LinkedContentList",components:{EditPriceDialog:g["a"],VerificationTip:h["a"],FixedFormFooter:u["a"],ContentItem:o["a"],FixedVerticalHeader:c["a"],FixedFormHeader:r["a"]},props:{contentId:{type:String,required:!0},contentType:{type:String,required:!0}},mixins:[b["a"]],data:function(){return{loading:!1,publishLoading:!1,subTaskList:[],selectedTaskList:[],requiredTaskFields:[d["U"].Name,d["U"].Image,d["U"].Overview,d["U"].LearnOuts],typeMap:m["e"],currentContent:null}},created:function(){this.loadAssociateData()},methods:{loadAssociateData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f["GetAssociate"])({id:e.contentId,type:e.contentType,published:0});case 3:n=t.sent,a=n.result.owner,e.subTaskList=[],i=[],s=[],a.forEach((function(t){t.contents.forEach((function(t){t.type===e.$classcipe.typeMap.task&&i.push(t),t.type===e.$classcipe.typeMap["unit-plan"]&&s.push(t)}))})),e.subTaskList=[].concat(i),e.$logger.info("sub list",e.subTaskList),t.next=15;break;case 13:t.prev=13,t.t0=t["catch"](0);case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,13,15,18]])})))()},handleCreateSubtask:function(){this.$router.push({path:"/teacher/split-task/"+this.taskId})},handleShowContentPublish:function(e){this.$logger.info("handleShowContentPublish",e),this.currentContent=e.content,this.currentContent.type!==this.typeMap.task&&this.currentContent.type!==this.typeMap.pd||this.currentContent.presentationId&&!this.currentContent.presentationId.startsWith("fake_")?this.handleUpdatePublish(e):this.$message.warn("This task/PD content can not be published without interactive slides, please edit google slides first")},handleUpdatePublish:function(e){var t=e.status?0:1;if(t){var n=Object(l["getCookie"])(p["A"]);if(!n){var a=!1;if(!a)return void this.$refs.verificationTip.doCreate()}}this.doUpdatePublish(e)},doUpdatePublish:function(e){var t=this;e=e||this.currentContent,this.$logger.info("handleUpdatePublish",e);var n=this.subTaskList.findIndex((function(t){return t.id===e.id}));if(-1!==n){var a=e.status?0:1;this.publishLoading=!0,Object(f["UpdateContentStatus"])({id:e.id,status:a,type:e.type}).then((function(e){if(520===e.code||403===e.code)return t.$logger.info("等待授权回调"),void t.$message.loading("Waiting for Google Slides auth...",10);t.$logger.info("handlePublishStatus res",e,"currentContent",t.currentContent),t.subTaskList[n].status=a,a?t.$refs.editPrice.showEditPrice():t.$message.success("Unpublish successfully!")})).finally((function(){t.publishLoading=!1}))}else this.$logger.warn("no found Update item ".concat(e.id)),this.currentContent=null},showPublishTips:function(){this.$message.success("Publish successfully!")}}},y=C,T=(n("d8e0"),n("0c7c")),v=Object(T["a"])(y,a,i,!1,null,"04551226",null);t["default"]=v.exports},"2f59":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("b775"),i=n("9574"),s={data:function(){return{ErrorCode:a["a"],currentMethodName:null,currentMethodParam:null}},created:function(){i["b"].$on(i["a"].GOOGLE_AUTH_REFRESH,this.handleAuthCallback)},beforeDestroy:function(){i["b"].$off(i["a"].GOOGLE_AUTH_REFRESH,this.handleAuthCallback)}}},"40ee":function(e,t,n){},4583:function(e,t,n){"use strict";n("83d1")},"5c8b":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cc-fixed-form-header",style:{left:e.collapsed?e.$classcipe.sysConfig.collapsedSidebarWidth+"px":e.$classcipe.sysConfig.sidebarWidth+"px"}},[n("div",{staticClass:"cc-header-item vertical-left"},[e._t("left")],2),n("div",{staticClass:"cc-header-item vertical-right"},[e._t("right")],2)])},i=[],s=n("5530"),r=n("2f62"),c={name:"FixedVerticalHeader",data:function(){return{}},computed:Object(s["a"])({},Object(r["e"])({collapsed:function(e){return e.app.sideCollapsed}})),created:function(){},methods:{}},o=c,d=(n("4583"),n("0c7c")),u=Object(d["a"])(o,a,i,!1,null,"7c268eb7",null);t["a"]=u.exports},60427:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-modal-header"},[e.title?a("div",{staticClass:"title",style:{fontSize:e.size+"px"}},[e._v(e._s(e.title))]):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:e.allowClose,expression:"allowClose"}],staticClass:"close-icon",on:{click:e.handleClickClose}},[e.white?e._e():a("img",{attrs:{src:n("0f1c")}}),e.white?a("img",{attrs:{src:n("f8af5")}}):e._e()])])},i=[],s=(n("a9e3"),{name:"ModalHeader",props:{white:{type:Boolean,default:!1},title:{type:String,default:""},allowClose:{type:Boolean,default:!0},size:{type:Number,default:16}},methods:{handleClickClose:function(){this.$logger.info("handleClickClose"),this.$emit("close")}}}),r=s,c=(n("7fab"),n("0c7c")),o=Object(c["a"])(r,a,i,!1,null,"9007633e",null);t["a"]=o.exports},"63d5":function(e,t,n){},"7e98":function(e,t,n){},"7fab":function(e,t,n){"use strict";n("40ee")},"83d1":function(e,t,n){},"980a":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c}));var a=n("b775"),i={PDContentAddOrUpdate:"/classcipe/api/v2/pd/addOrUpdate",PDContentQueryById:"/classcipe/api/v2/pd/queryById",PDContentDelete:"/classcipe/api/v2/pd/delete",PDContentDeleteBatch:"/classcipe/api/v2/pd/deleteBatch",PDContentList:"/classcipe/api/v2/pd/list"};function s(e){return Object(a["d"])({url:i.PDContentAddOrUpdate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(a["d"])({url:i.PDContentQueryById,method:"get",params:e})}function c(e){return Object(a["d"])({url:i.PDContentDelete+"?id="+e.id,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},"9afb":function(e,t,n){"use strict";n.r(t),n.d(t,"teacherAPIUrl",(function(){return u})),n.d(t,"GetAssociate",(function(){return l})),n.d(t,"getMyContent",(function(){return p})),n.d(t,"FindMyContent",(function(){return h})),n.d(t,"GetMyGrades",(function(){return f})),n.d(t,"DeleteMyContentByType",(function(){return b})),n.d(t,"PermanentDeleteMyContent",(function(){return m})),n.d(t,"UpdateContentStatus",(function(){return g})),n.d(t,"Associate",(function(){return C})),n.d(t,"AssociateCancel",(function(){return y})),n.d(t,"SaveSessonTags",(function(){return T})),n.d(t,"AddOrSaveGroupName",(function(){return v})),n.d(t,"DeleteGroup",(function(){return A})),n.d(t,"SaveGroupItems",(function(){return O})),n.d(t,"GetReferOutcomes",(function(){return j})),n.d(t,"Duplicate",(function(){return D})),n.d(t,"Rename",(function(){return F})),n.d(t,"FindSourceOutcomes",(function(){return U})),n.d(t,"FindBigIdeaSourceOutcomes",(function(){return P})),n.d(t,"ContentRestore",(function(){return w})),n.d(t,"FindPurchases",(function(){return k})),n.d(t,"FindInspirationStudents",(function(){return x})),n.d(t,"FindInspirationTeachers",(function(){return B})),n.d(t,"GetAssociateRecommend",(function(){return I}));var a=n("b775"),i=n("3f76"),s=n("de0d"),r=n("b199"),c=n("823b"),o=n("980a"),d=n("093a"),u={Associate:"/classcipe/api/teacher/associate",AssociateCancel:"/classcipe/api/teacher/associateCancel",GetAssociate:"/classcipe/api/teacher/getAssociate",GetMyContent:"/classcipe/api/teacher/getMyContent",FindMyContent:"/classcipe/api/teacher/findMyContent",GetMyGrades:"/classcipe/api/teacher/getMyGrades",UpdateContentStatus:"/classcipe/api/teacher/content/status",saveSessonTags:"/classcipe/api/sessonTags/addBatch",AddOrSaveGroupName:"/classcipe/api/teacher/addOrSaveGroupName",SaveGroupItems:"/classcipe/api/teacher/saveGroupItems",DeleteGroup:"/classcipe/api/teacher/deleteGroup",GetReferOutcomes:"/classcipe/api/teacher/getReferOutcomes",Duplicate:"/classcipe/api/teacher/content/duplicate",PermanentDelete:"/classcipe/api/teacher/content/permanentDelete",Rename:"/classcipe/api/teacher/content/rename",FindSourceOutcomes:"/classcipe/api/teacher/findSourceOutcomes",FindBigIdeaSourceOutcomes:"/classcipe/api/teacher/findBigIdeaSourceOutcomes",ContentRestore:"/classcipe/api/teacher/content/restore",FindPurchases:"/classcipe/api/teacher/findPurchases",FindInspirationStudents:"/classcipe/api/teacher/findInspirationStudents",FindInspirationTeachers:"/classcipe/api/teacher/findInspirationTeachers",GetAssociateRecommend:"/classcipe/api/teacher/getAssociateRecommend"};function l(e){return Object(a["d"])({url:u.GetAssociate,method:"get",params:e})}function p(e){return Object(a["d"])({url:u.GetMyContent,method:"get",params:e})}function h(e){return Object(a["d"])({url:u.FindMyContent,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(){return Object(a["d"])({url:u.GetMyGrades,method:"get"})}function b(e){var t=e.type,n=e.id;switch(t){case i["e"]["unit-plan"]:return Object(s["UnitPlanDelete"])({id:n});case i["e"].task:return Object(r["TaskDelete"])({id:n});case i["e"].pd:return Object(o["b"])({id:n});case i["e"].video:return Object(d["b"])({id:n});default:c["error"]("wrong delete type "+t+" id: "+n);break}}function m(e){return Object(a["d"])({url:u.PermanentDelete,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function g(e){return Object(a["d"])({url:u.UpdateContentStatus,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function C(e){return Object(a["d"])({url:u.Associate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function y(e){return Object(a["d"])({url:u.AssociateCancel,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function T(e){return Object(a["d"])({url:u.saveSessonTags,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function v(e){return Object(a["d"])({url:u.AddOrSaveGroupName,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function A(e){return Object(a["d"])({url:u.DeleteGroup,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function O(e){return Object(a["d"])({url:u.SaveGroupItems,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function j(e){return Object(a["d"])({url:u.GetReferOutcomes,method:"get",params:e})}function D(e){return Object(a["d"])({url:u.Duplicate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function F(e){return Object(a["d"])({url:u.Rename,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function U(e){return Object(a["d"])({url:u.FindSourceOutcomes,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function P(e){return Object(a["d"])({url:u.FindBigIdeaSourceOutcomes,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function w(e){return Object(a["d"])({url:u.ContentRestore,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function k(e){return Object(a["d"])({url:u.FindPurchases,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function x(e){return Object(a["d"])({url:u.FindInspirationStudents,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function B(e){return Object(a["d"])({url:u.FindInspirationTeachers,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function I(e){return Object(a["d"])({url:u.GetAssociateRecommend,method:"get",params:e})}},a12d:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{closable:!1,maskClosable:!1,destroyOnClose:""},on:{ok:e.updatePrice,cancel:function(t){e.visible=!1}},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("modal-header",{attrs:{title:"Edit price"},on:{close:function(t){e.visible=!1}}}),n("div",{staticClass:"edit-price"},[n("a-row",{attrs:{gutter:20,type:"flex",align:"middle"}},[n("a-col",{staticClass:"label-name",attrs:{span:"6"}},[e._v(" Price: ")]),n("a-col",{attrs:{span:"6"}},[n("a-input-number",{attrs:{"default-value":0,min:0,max:1e7,formatter:function(e){return("$ "+e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}})],1),n("a-col",{directives:[{name:"show",rawName:"v-show",value:e.enableDiscount&&e.price>0,expression:"enableDiscount && price > 0"}],attrs:{span:"12"}},[e._v("Discounted price "),n("span",{style:{color:"red"}},[e._v("$"+e._s((e.price*(1-1*e.discount/100)).toFixed(2)))])])],1),e.price>0?n("a-row",{attrs:{gutter:20,type:"flex",align:"middle"}},[n("a-col",{staticClass:"label-name",attrs:{span:"6"}},[e._v(" Discount: ")]),n("a-col",{attrs:{span:"6"}},[n("a-input-number",{directives:[{name:"show",rawName:"v-show",value:e.enableDiscount,expression:"enableDiscount"}],attrs:{"default-value":0,min:0,max:100,formatter:function(e){return e+"%"},parser:function(e){return e.replace("%","")}},model:{value:e.discount,callback:function(t){e.discount=t},expression:"discount"}})],1),n("a-col",{attrs:{span:"12"}},[e.price>0?n("a-switch",{attrs:{checked:e.enableDiscount,size:"small"},on:{change:e.onChange}}):e._e()],1)],1):e._e(),n("a-row",{directives:[{name:"show",rawName:"v-show",value:e.enableDiscount&&e.price>0,expression:"enableDiscount && price > 0"}],attrs:{gutter:20,type:"flex",align:"middle"}},[n("a-col",{staticClass:"label-name",attrs:{span:"6"}},[e._v(" Duration setting ")]),n("a-col",{attrs:{span:"16"}},[n("a-range-picker",{attrs:{"default-value":e.initDate,mode:["date"],"disabled-date":e.disabledDate},on:{change:e.handleDurationChange}})],1)],1)],1)],1)},i=[],s=n("1da1"),r=(n("b680"),n("96cf"),n("3f76")),c=n("c1df"),o=n.n(c),d=n("3b68"),u=n("60427"),l={name:"EditPriceDialog",components:{ModalHeader:u["a"]},props:{content:{type:Object,default:function(){}}},data:function(){return{visible:!1,enableDiscount:!1,discount:0,typeMap:r["e"],isSelfLearning:!1,price:0,editPrice:!1,startDate:null,endData:null,initDate:[o()(new Date),null]}},methods:{showEditPrice:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["a"])({contentId:e.content.id,contentType:e.content.type});case 2:n=t.sent,a=n.result,a&&(e.$logger.info("discountSettingQuery",a),e.discount=a.discount,e.price=a.price,e.enableDiscount=a.enableDiscount,e.startDate=a.discountStartTime||new Date,e.endData=a.discountEndTime||new Date(Date.now()+6048e5),e.initDate=[o()(e.startDate),o()(e.endData)]),e.visible=!0;case 6:case"end":return t.stop()}}),t)})))()},updatePrice:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$logger.info("update price"),n=parseInt(e.content.type),t.next=4,Object(d["b"])({contentId:e.content.id,contentType:n,discount:e.discount,discountModel:2,price:e.price,enableDiscount:e.enableDiscount,discountStartTime:e.startDate,discountEndTime:e.endData});case 4:e.content.price=e.price,e.content.discountPrice=e.discount>0?parseFloat((e.price-e.price*e.discount/100).toFixed(2)):e.price,e.editPrice=!1,e.visible=!1,e.$emit("finish");case 9:case"end":return t.stop()}}),t)})))()},handleDurationChange:function(e){this.$logger.info("handleDurationChange",e),this.startDate=o()(e[0].toDate()).utc().format("YYYY-MM-DD 00:00:00"),this.endData=o()(e[1].toDate()).utc().format("YYYY-MM-DD 00:00:00")},onChange:function(e){this.enableDiscount=e,e||(this.discount=0,this.startDate=null,this.endData=null)},disabledDate:function(e){return e&&e<o()().subtract(1,"days").endOf("day")}}},p=l,h=(n("b479"),n("0c7c")),f=Object(h["a"])(p,a,i,!1,null,"b1ce06d2",null);t["a"]=f.exports},aefd:function(e,t,n){},b199:function(e,t,n){"use strict";n.r(t),n.d(t,"taskAPIUrl",(function(){return i})),n.d(t,"TaskCreateTaskPPT",(function(){return s})),n.d(t,"TaskCreateNewTaskPPT",(function(){return r})),n.d(t,"TaskAddOrUpdate",(function(){return c})),n.d(t,"SplitTask",(function(){return o})),n.d(t,"TaskQueryById",(function(){return d})),n.d(t,"TaskDelete",(function(){return u})),n.d(t,"getTaskBySessionId",(function(){return l})),n.d(t,"UpdateSlideEditing",(function(){return p}));var a=n("b775"),i={createTaskPPT:"/classcipe/api/task/createTaskPPT",createNewTaskPPT:"/classcipe/api/task/createNewTaskPPT",addOrUpdate:"/classcipe/api/task/addOrUpdate",delete:"/classcipe/api/task/delete",deleteBatch:"/classcipe/api/task/deleteBatch",list:"/classcipe/api/task/list",queryById:"/classcipe/api/task/queryById",splitTask:"/classcipe/api/task/spliteTask",getTaskBySessonId:"/classcipe/api/task/getTaskBySessonId",updateSlideEditing:"/classcipe/api/task/updateSlideEditing"};function s(e){return Object(a["d"])({url:i.createTaskPPT,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(a["d"])({url:i.createNewTaskPPT,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(a["d"])({url:i.addOrUpdate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(a["d"])({url:i.splitTask,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(a["d"])({url:i.queryById,method:"get",params:e})}function u(e){return Object(a["d"])({url:i.delete+"?id="+e.id,method:"post",data:e})}function l(e){return Object(a["d"])({url:i.getTaskBySessonId,method:"get",params:e})}function p(e){return Object(a["d"])({url:i.updateSlideEditing,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},b479:function(e,t,n){"use strict";n("7e98")},bda9:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{destroyOnClose:"",title:"Teacher Verification",width:"500px",maskClosable:!1,zIndex:2e3,confirmLoading:e.loading,footer:null},on:{cancel:e.handleCancel},model:{value:e.selVis,callback:function(t){e.selVis=t},expression:"selVis"}},[n("div",{staticClass:"teacher-verification-tip"},[n("div",{staticClass:"verification-tip-title"},[n("a-icon",{attrs:{type:"check-circle"}}),n("label",{attrs:{for:""}},[e._v("Would you like to complete the verification so that you will be shown as a verified teacher on the content page in Classcipe library?")])],1),n("div",{staticClass:"verification-tip-opt"},[n("a-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("Yes")]),n("a-button",{staticStyle:{"margin-left":"20px"},attrs:{type:""},on:{click:e.handleCancel}},[e._v("No now")])],1),n("div",{staticClass:"verification-tip-foot"},[n("a-checkbox",{on:{change:e.handleRemember},model:{value:e.remember,callback:function(t){e.remember=t},expression:"remember"}},[e._v("Please do not show this again")])],1)])])},i=[],s=n("9fb0"),r=n("ca00"),c={name:"VerificationTip",data:function(){return{selVis:!1,loading:!1,remember:!1}},mounted:function(){},methods:{handleRemember:function(e){Object(r["setCookie"])(s["A"],e.target.checked||"")},doCreate:function(){this.selVis=!0},handleConfirm:function(){this.selVis=!1,this.$router.push("/manage/verification")},handleCancel:function(){this.selVis=!1,this.$emit("continue")}}},o=c,d=(n("cc0d"),n("0c7c")),u=Object(d["a"])(o,a,i,!1,null,"87440f4a",null);t["a"]=u.exports},cc0d:function(e,t,n){"use strict";n("aefd")},d8e0:function(e,t,n){"use strict";n("63d5")},de0d:function(e,t,n){"use strict";n.r(t),n.d(t,"unitPlanAPIUrl",(function(){return i})),n.d(t,"UnitPlanAddOrUpdate",(function(){return s})),n.d(t,"UnitPlanQueryById",(function(){return r})),n.d(t,"UnitPlanDelete",(function(){return c})),n.d(t,"UnitPlanDeleteBatch",(function(){return o})),n.d(t,"UnitPlanList",(function(){return d})),n.d(t,"ChangeStatus",(function(){return u}));var a=n("b775"),i={UnitPlanAddOrUpdate:"/classcipe/api/unitPlan/addOrUpdate",UnitPlanQueryById:"/classcipe/api/unitPlan/queryById",UnitPlanDelete:"/classcipe/api/unitPlan/delete",UnitPlanDeleteBatch:"/classcipe/api/unitPlan/deleteBatch",UnitPlanList:"/classcipe/api/unitPlan/list",ChangeStatus:"/classcipe/api/unitPlan/status"};function s(e){return Object(a["d"])({url:i.UnitPlanAddOrUpdate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(a["d"])({url:i.UnitPlanQueryById,method:"get",params:e})}function c(e){return Object(a["d"])({url:i.UnitPlanDelete,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(a["d"])({url:i.UnitPlanDeleteBatch,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(a["d"])({url:i.UnitPlanList,method:"get",params:e})}function u(e){return Object(a["d"])({url:i.ChangeStatus,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},f8af5:function(e,t){e.exports="data:image/png;base64,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"}}]);