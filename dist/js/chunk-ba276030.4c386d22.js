(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ba276030"],{"0fac":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AutoSaveLocalMixin; });\n/* harmony import */ var lodash_es__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("85b1");\n/* harmony import */ var _utils_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("ca00");\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("8ded");\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(store__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nvar AutoSaveLocalMixin = {\n  data: function data() {\n    return {\n      saving: false,\n      saveTime: null,\n      asyncSaveLocalDataFn: null,\n      asyncSaveDataFn: null,\n      autoSaveLocalKey: \'FORM_\',\n      needAutoSave: false,\n      needAutoSaveRemote: false\n    };\n  },\n  created: function created() {\n    this.asyncSaveLocalDataFn = Object(lodash_es__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"])(this.autoSaveLocalData, 200);\n    this.asyncSaveDataFn = Object(lodash_es__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"])(this.autoSaveData, 3000);\n  },\n  watch: {\n    formModel: {\n      deep: true,\n      handler: function handler(newVal, oldVal) {\n        if (this.needAutoSave) {\n          this.asyncSaveLocalDataFn(newVal);\n        }\n\n        if (this.needAutoSaveRemote && !this.loading) {\n          this.asyncSaveDataFn(newVal);\n        }\n      }\n    }\n  },\n  computed: {\n    lastChangeSavedTime: function lastChangeSavedTime() {\n      var time = this.saveTime || this.formModel && (this.formModel.updateTime || this.form.createTime);\n\n      if (time) {\n        return Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["formatLocalUTC"])(time);\n      } else {\n        return \'\';\n      }\n    }\n  },\n  methods: {\n    autoSaveLocalData: function autoSaveLocalData(newVal) {\n      var userId = this.$store.getters.userInfo.id;\n      var schoolId = this.$store.state.user.currentSchool.id;\n      store__WEBPACK_IMPORTED_MODULE_2___default.a.set(this.autoSaveLocalKey + userId + schoolId, JSON.stringify(newVal));\n      this.saveTime = new Date();\n    },\n    autoSaveData: function autoSaveData(newVal) {\n      var _this = this;\n\n      this.handleSave(function () {\n        _this.saveTime = new Date();\n      });\n    },\n    getAutoLocalData: function getAutoLocalData() {\n      var userId = this.$store.getters.userInfo.id;\n      var schoolId = this.$store.state.user.currentSchool.id;\n      var data = store__WEBPACK_IMPORTED_MODULE_2___default.a.get(this.autoSaveLocalKey + userId + schoolId);\n      return data ? JSON.parse(data) : {};\n    },\n    clearLocalData: function clearLocalData() {\n      var userId = this.$store.getters.userInfo.id;\n      var schoolId = this.$store.state.user.currentSchool.id;\n      store__WEBPACK_IMPORTED_MODULE_2___default.a.remove(this.autoSaveLocalKey + userId + schoolId);\n    }\n  }\n};\n\n//# sourceURL=webpack:///./src/mixins/AutoSaveLocalMixin.js?')},"178d":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/account/settings/AvatarModal.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},"21fb":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CurrentSchoolMixin; });\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("b0c0");\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__);\n\nvar CurrentSchoolMixin = {\n  data: function data() {\n    return {\n      unwatch: null,\n      routeName: this.$route.name\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.unwatch = this.$store.watch(function (state) {\n      return state.user.currentSchool;\n    }, function (currentSchool) {\n      return currentSchool && _this.$route.name === _this.routeName && _this.handleSchoolChange(currentSchool);\n    });\n  },\n  computed: {},\n  beforeDestroy: function beforeDestroy() {\n    this.unwatch && this.unwatch();\n  },\n  methods: {\n    // 默认方法，各个组件可自定义覆盖此方法\n    handleSchoolChange: function handleSchoolChange(currentSchool) {}\n  }\n};\n\n//# sourceURL=webpack:///./src/mixins/CurrentSchoolMixin.js?')},"28aa":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/account/manage/SchoolTeacherEdit.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},"34f4":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolTeacherEdit_vue_vue_type_style_index_0_id_0b398712_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("28aa");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolTeacherEdit_vue_vue_type_style_index_0_id_0b398712_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolTeacherEdit_vue_vue_type_style_index_0_id_0b398712_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/account/manage/SchoolTeacherEdit.vue?')},4992:function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__.p + "img/default-avatar.db1c5445.png";\n\n//# sourceURL=webpack:///./src/assets/icons/library/default-avatar.png?')},"4c77":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_AvatarModal_vue_vue_type_style_index_0_id_06163b63_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("178d");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_AvatarModal_vue_vue_type_style_index_0_id_06163b63_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_AvatarModal_vue_vue_type_style_index_0_id_06163b63_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/account/settings/AvatarModal.vue?')},"6d78":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SubmitBeforeMixin; });\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("4de4");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("07ac");\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("b64b");\n/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("8ded");\n/* harmony import */ var store__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(store__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nvar SubmitBeforeMixin = {\n  data: function data() {\n    return {\n      validateFileds: {},\n      refName: \'form\'\n    };\n  },\n  computed: {\n    hasErrors: function hasErrors() {\n      return Object.values(this.validateFileds).filter(function (item) {\n        return !item;\n      }).length > 0;\n    }\n  },\n  methods: {\n    initValidate: function initValidate(isEdit) {\n      var _this = this;\n\n      if (!isEdit && this.validatorRules) {\n        this.$refs[this.refName].validateField(Object.keys(this.validatorRules), function (res) {\n          var userId = _this.$store.getters.userInfo.id;\n          var data = _this.autoSaveLocalKey ? store__WEBPACK_IMPORTED_MODULE_3___default.a.get(_this.autoSaveLocalKey + userId) : \'\';\n\n          if (!data) {\n            _this.$refs[_this.refName].clearValidate();\n          }\n        });\n      }\n    },\n    fillValidate: function fillValidate(key, value) {\n      this.$set(this.validateFileds, key, value);\n    }\n  }\n};\n\n//# sourceURL=webpack:///./src/mixins/SubmitBeforeMixin.js?')},"6e84":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return UserModeMixin; });\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"b0c0\");\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__);\n\nvar UserModeMixin = {\n  data: function data() {\n    return {\n      unwatch: null,\n      routeName: this.$route.name\n    };\n  },\n  computed: {\n    redirectUrl: function redirectUrl() {\n      if (this.$store.state.user.currentRole === 'student') {\n        return '/student/main/my-task';\n      } else {\n        return '/account/info';\n      }\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.unwatch = this.$store.watch(function (state) {\n      return state.app.userMode;\n    }, function (userMode) {\n      if (userMode && _this.$route.name === _this.routeName) {\n        _this.handleModeChange(userMode);\n\n        _this.routeInMode();\n      }\n    });\n    this.routeInMode();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unwatch && this.unwatch();\n  },\n  methods: {\n    // 判断路由是否存在\n    routeInMode: function routeInMode() {\n      if (this.$route.meta.mode && this.$route.meta.mode !== this.$store.state.app.userMode) {\n        // 返回公共页面\n        this.$router.push({\n          path: this.redirectUrl\n        });\n      }\n    },\n    // 默认方法,可覆盖\n    handleModeChange: function handleModeChange(userMode) {}\n  }\n};\n\n//# sourceURL=webpack:///./src/mixins/UserModeMixin.js?")},"6f2a":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* unused harmony export schoolRoleApi */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return listRole; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return pageListRole; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return getRolePermission; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return bindRoleSubjectLeader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return bindRoleClassTeachers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return getRoleSubjectLeaders; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return getRoleClassTeachers; });\n/* unused harmony export getSchoolRole */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return saveSchoolRole; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return geHeaderClassByUserId; });\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"d3b7\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"b775\");\n\n\nvar API_PREFIX = 'api2/school/role';\nvar schoolRoleApi = {\n  listRole: \"/classcipe/\".concat(API_PREFIX, \"/list\"),\n  pageListRole: \"/classcipe/\".concat(API_PREFIX, \"/pageList\"),\n  getRolePermission: \"/classcipe/\".concat(API_PREFIX, \"/getPermission\"),\n  bindRoleSubjectLeader: \"/classcipe/\".concat(API_PREFIX, \"/user/bindSubjectLeader\"),\n  bindRoleClassTeachers: \"/classcipe/\".concat(API_PREFIX, \"/user/bindTeachers\"),\n  getRoleSubjectLeaders: \"/classcipe/\".concat(API_PREFIX, \"/user/getSubjectLeaders\"),\n  getRoleClassTeachers: \"/classcipe/\".concat(API_PREFIX, \"/user/getTeachers\"),\n  getSchoolRole: \"/classcipe/\".concat(API_PREFIX, \"/user/getSchoolRole\"),\n  saveSchoolRole: \"/classcipe/\".concat(API_PREFIX, \"/user/saveSchoolRole\"),\n  geHeaderClassByUserId: \"/classcipe/\".concat(API_PREFIX, \"/user/geHeaderClassByUserId\")\n};\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction listRole(parameter) {\n  // return request({\n  //   url: schoolRoleApi.listRole,\n  //   method: 'get',\n  //   params: parameter\n  // })\n  // { \"admin\": \"Admin\", \"leader\": \"Subject leader\", \"head\": \"Head teacher\", \"teacher\": \"Teacher\" }\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getSchoolRole,\n    method: 'get',\n    params: parameter\n  }).then(function (res) {\n    var result = res;\n\n    if (result.code === 0) {\n      var arr = [];\n\n      for (var key in result.result.roleNames) {\n        if (key !== 'Teacher') {\n          arr.push({\n            roleCode: key,\n            name: result.result.roleNames[key]\n          });\n        }\n      }\n\n      result.result = arr;\n    }\n\n    return Promise.resolve(result);\n  }).catch(function (err) {\n    return Promise.reject(err);\n  }); // return new Promise((resolve) => {\n  //   resolve({\n  //     code: 0,\n  //     success: true,\n  //     result: [\n  //       { 'roleCode': 'admin', 'name': 'Admin' },\n  //       { 'roleCode': 'head', 'name': 'Head teacher' },\n  //       { 'roleCode': 'leader', 'name': 'Subject leader' }\n  //       // { 'roleCode': 'teacher', 'name': 'Teacher' }\n  //     ]\n  //   })\n  // })\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction pageListRole(parameter) {\n  // return request({\n  //   url: schoolRoleApi.pageListRole,\n  //   method: 'get',\n  //   params: parameter\n  // })\n  // return new Promise((resolve) => {\n  //   resolve({\n  //     code: 0,\n  //     success: true,\n  //     result: {\n  //       total: 3,\n  //       records: [\n  //         { 'roleCode': 'admin', 'name': 'Admin' },\n  //         { 'roleCode': 'head', 'name': 'Head teacher' },\n  //         { 'roleCode': 'leader', 'name': 'Subject leader' }\n  //         // { 'roleCode': 'teacher', 'name': 'Teacher' }\n  //       ]\n  //     }\n  //   })\n  // })\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getSchoolRole,\n    method: 'get',\n    params: parameter\n  }).then(function (res) {\n    var result = res;\n\n    if (result.code === 0) {\n      var arr = [];\n\n      for (var key in result.result.roleNames) {\n        if (key !== 'Teacher') {\n          arr.push({\n            roleCode: key,\n            name: result.result.roleNames[key]\n          });\n        }\n      }\n\n      result.result = {\n        total: arr.length,\n        records: arr\n      };\n    }\n\n    return Promise.resolve(result);\n  }).catch(function (err) {\n    return Promise.reject(err);\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getRolePermission(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getRolePermission,\n    method: 'get',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction bindRoleSubjectLeader(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.bindRoleSubjectLeader,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction bindRoleClassTeachers(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.bindRoleClassTeachers,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getRoleSubjectLeaders(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getRoleSubjectLeaders,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getRoleClassTeachers(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getRoleClassTeachers,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getSchoolRole(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getSchoolRole,\n    method: 'get',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction saveSchoolRole(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.saveSchoolRole,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction geHeaderClassByUserId(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.geHeaderClassByUserId,\n    method: 'get',\n    params: parameter\n  });\n}\n\n//# sourceURL=webpack:///./src/api/v2/schoolRole.js?")},"8d90":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"1ede6cb4-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/settings/AvatarModal.vue?vue&type=template&id=06163b63&scoped=true&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'a-modal\',{attrs:{"title":_vm.$t(\'account.settings.avatar.edit\'),"visible":_vm.visible,"maskClosable":false,"confirmLoading":_vm.confirmLoading,"width":800,"footer":null},on:{"cancel":_vm.cancelHandel}},[_c(\'a-row\',[_c(\'a-col\',{style:({height: \'350px\'}),attrs:{"xs":24,"md":12}},[_c(\'vue-cropper\',{ref:"cropper",attrs:{"img":_vm.options.img,"info":true,"autoCrop":_vm.options.autoCrop,"autoCropWidth":_vm.options.autoCropWidth,"autoCropHeight":_vm.options.autoCropHeight,"fixedBox":_vm.options.fixedBox},on:{"realTime":_vm.realTime}})],1),_c(\'a-col\',{style:({height: \'350px\'}),attrs:{"xs":24,"md":12}},[_c(\'div\',{staticClass:"avatar-upload-preview"},[_c(\'img\',{style:(_vm.previews.img),attrs:{"src":_vm.previews.url}})])])],1),_c(\'br\'),_c(\'a-row\',[_c(\'a-col\',{attrs:{"lg":2,"md":2}},[_c(\'a-upload\',{attrs:{"name":"file","beforeUpload":_vm.beforeUpload,"showUploadList":false}},[_c(\'a-button\',{attrs:{"icon":"upload"}},[_vm._v(_vm._s(_vm.$t(\'account.settings.avatar.select-image\')))])],1)],1),_c(\'a-col\',{attrs:{"lg":{span: 1, offset: 2},"md":2}},[_c(\'a-button\',{attrs:{"icon":"plus"},on:{"click":function($event){return _vm.changeScale(1)}}})],1),_c(\'a-col\',{attrs:{"lg":{span: 1, offset: 1},"md":2}},[_c(\'a-button\',{attrs:{"icon":"minus"},on:{"click":function($event){return _vm.changeScale(-1)}}})],1),_c(\'a-col\',{attrs:{"lg":{span: 1, offset: 1},"md":2}},[_c(\'a-button\',{attrs:{"icon":"undo"},on:{"click":_vm.rotateLeft}})],1),_c(\'a-col\',{attrs:{"lg":{span: 1, offset: 1},"md":2}},[_c(\'a-button\',{attrs:{"icon":"redo"},on:{"click":_vm.rotateRight}})],1),_c(\'a-col\',{attrs:{"lg":{span: 4, offset: 6},"md":4}},[_c(\'a-space\',[_c(\'a-button\',{on:{"click":_vm.close}},[_vm._v(" Cancel ")]),_c(\'a-button\',{attrs:{"type":"primary","disabled":_vm.confirmLoading,"loading":_vm.confirmLoading},on:{"click":_vm.uploadImage}},[_vm._v("Save")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/settings/AvatarModal.vue?vue&type=template&id=06163b63&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__("ac1f");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.split.js\nvar es_string_split = __webpack_require__("1276");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.match.js\nvar es_string_match = __webpack_require__("466d");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array-buffer.slice.js\nvar es_array_buffer_slice = __webpack_require__("ace4");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__("d3b7");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.uint8-array.js\nvar es_typed_array_uint8_array = __webpack_require__("5cc6");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.copy-within.js\nvar es_typed_array_copy_within = __webpack_require__("9a8c");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.every.js\nvar es_typed_array_every = __webpack_require__("a975");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.fill.js\nvar es_typed_array_fill = __webpack_require__("735e");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.filter.js\nvar es_typed_array_filter = __webpack_require__("c1ac");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find.js\nvar es_typed_array_find = __webpack_require__("d139");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find-index.js\nvar es_typed_array_find_index = __webpack_require__("3a7b");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.for-each.js\nvar es_typed_array_for_each = __webpack_require__("d5d6");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.includes.js\nvar es_typed_array_includes = __webpack_require__("82f8");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.index-of.js\nvar es_typed_array_index_of = __webpack_require__("e91f");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.iterator.js\nvar es_typed_array_iterator = __webpack_require__("60bd");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.join.js\nvar es_typed_array_join = __webpack_require__("5f96");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.last-index-of.js\nvar es_typed_array_last_index_of = __webpack_require__("3280");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.map.js\nvar es_typed_array_map = __webpack_require__("3fcc");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reduce.js\nvar es_typed_array_reduce = __webpack_require__("ca91");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reduce-right.js\nvar es_typed_array_reduce_right = __webpack_require__("25a1");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reverse.js\nvar es_typed_array_reverse = __webpack_require__("cd26");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.set.js\nvar es_typed_array_set = __webpack_require__("3c5d");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.slice.js\nvar es_typed_array_slice = __webpack_require__("2954");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.some.js\nvar es_typed_array_some = __webpack_require__("649e");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.sort.js\nvar es_typed_array_sort = __webpack_require__("219c");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.subarray.js\nvar es_typed_array_subarray = __webpack_require__("170b");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-locale-string.js\nvar es_typed_array_to_locale_string = __webpack_require__("b39a");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-string.js\nvar es_typed_array_to_string = __webpack_require__("72f7");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__("99af");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.slice.js\nvar es_array_slice = __webpack_require__("fb6a");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.to-string.js\nvar es_regexp_to_string = __webpack_require__("25f0");\n\n// EXTERNAL MODULE: ./src/components/AddMaterial/Utils/AwsS3.js\nvar AwsS3 = __webpack_require__("d0d0");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/settings/AvatarModal.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var AvatarModalvue_type_script_lang_js_ = ({\n  data: function data() {\n    return {\n      visible: false,\n      id: null,\n      confirmLoading: false,\n      fileList: [],\n      uploading: false,\n      options: {\n        img: \'\',\n        autoCrop: true,\n        autoCropWidth: 200,\n        autoCropHeight: 200,\n        fixedBox: true\n      },\n      previews: {}\n    };\n  },\n  methods: {\n    edit: function edit(id) {\n      this.visible = true;\n      this.id = id;\n      /* 获取原始头像 */\n    },\n    close: function close() {\n      this.id = null;\n      this.visible = false;\n    },\n    cancelHandel: function cancelHandel() {\n      this.close();\n    },\n    changeScale: function changeScale(num) {\n      num = num || 1;\n      this.$refs.cropper.changeScale(num);\n    },\n    rotateLeft: function rotateLeft() {\n      this.$refs.cropper.rotateLeft();\n    },\n    rotateRight: function rotateRight() {\n      this.$refs.cropper.rotateRight();\n    },\n    beforeUpload: function beforeUpload(file) {\n      var _this = this;\n\n      var reader = new FileReader(); // 把Array Buffer转化为blob 如果是base64不需要\n      // 转化为base64\n\n      reader.readAsDataURL(file);\n\n      reader.onload = function () {\n        _this.options.img = reader.result;\n      }; // 转化为blob\n      // reader.readAsArrayBuffer(file)\n\n\n      return false;\n    },\n    // 上传图片（点击上传按钮）\n    uploadImage: function uploadImage() {\n      var _this2 = this;\n\n      this.$refs.cropper.getCropData(function (data) {\n        var arr = data.split(\',\');\n        var mime = arr[0].match(/:(.*?);/)[1];\n        var bstr = atob(arr[1]);\n        var n = bstr.length;\n        var u8arr = new Uint8Array(n);\n\n        while (n--) {\n          u8arr[n] = bstr.charCodeAt(n);\n        }\n\n        _this2.model = true;\n        _this2.modelSrc = data;\n        var suffix = mime.split(\'/\')[1];\n        var file = new File([u8arr], "custom_image_".concat(Date.now(), "_").concat(Math.random().toString(36).slice(2), ".").concat(suffix), {\n          type: mime\n        });\n\n        _this2.$logger.info(\'upload file\', file);\n\n        _this2.confirmLoading = true;\n        Object(AwsS3["a" /* upAwsS3File */])(_this2.$store.getters.userInfo.id, file, _this2.getProgressUpLoad, function (result) {\n          _this2.onSuccess(file, result);\n        }, true);\n      });\n    },\n    getProgressUpLoad: function getProgressUpLoad(progress) {\n      this.$logger.info(\'getProgressUpLoad\', progress);\n      this.confirmLoading = true;\n    },\n    onSuccess: function onSuccess(file, result) {\n      this.$logger.info(\'upload success\', file, result);\n      this.$emit(\'ok\', result);\n      this.confirmLoading = false;\n      this.okHandel();\n    },\n    okHandel: function okHandel() {\n      var vm = this;\n      vm.confirmLoading = true;\n      setTimeout(function () {\n        vm.confirmLoading = false;\n        vm.close();\n        vm.$message.success(\'update avatar successfully!\');\n      }, 2000);\n    },\n    realTime: function realTime(data) {\n      this.previews = data;\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/settings/AvatarModal.vue?vue&type=script&lang=js&\n /* harmony default export */ var settings_AvatarModalvue_type_script_lang_js_ = (AvatarModalvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/account/settings/AvatarModal.vue?vue&type=style&index=0&id=06163b63&lang=less&scoped=true&\nvar AvatarModalvue_type_style_index_0_id_06163b63_lang_less_scoped_true_ = __webpack_require__("4c77");\n\n// EXTERNAL MODULE: ./node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("0c7c");\n\n// CONCATENATED MODULE: ./src/views/account/settings/AvatarModal.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["a" /* default */])(\n  settings_AvatarModalvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  "06163b63",\n  null\n  \n)\n\n/* harmony default export */ var AvatarModal = __webpack_exports__["a"] = (component.exports);\n\n//# sourceURL=webpack:///./src/views/account/settings/AvatarModal.vue_+_4_modules?')},b43c:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolUser/SchoolTeacherAdd.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},e052:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"1ede6cb4-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/SchoolTeacherEdit.vue?vue&type=template&id=0b398712&scoped=true&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{staticClass:"my-full-form-wrapper",attrs:{"id":"formRoot"}},[_c(\'fixed-form-header\',{scopedSlots:_vm._u([{key:"header",fn:function(){return [_c(\'form-header\',{attrs:{"title":_vm.title,"show-share":false,"show-collaborate":false,"is-preview-mode":true},on:{"back":_vm.goBack},scopedSlots:_vm._u([{key:"back",fn:function(){return [_c(\'img\',{staticClass:"single-logo-img",attrs:{"src":__webpack_require__("be50"),"alt":"classcipe"},on:{"click":function($event){$event.stopPropagation();return _vm.$router.push(\'/\')}}})]},proxy:true},{key:"left",fn:function(){return [_c(\'a-space\',{attrs:{"size":5,"align":"center"},on:{"click":function($event){$event.stopPropagation();}}},[_c(\'label\',{staticStyle:{"cursor":"pointer"},on:{"click":function($event){return _vm.$router.push(\'/account/info\')}}},[_vm._v("Account Info")]),_c(\'label\',{attrs:{"for":""}},[_vm._v(">")]),(_vm.onlyClass)?[_c(\'label\',{staticStyle:{"cursor":"pointer"},on:{"click":function($event){return _vm.$router.push(\'/manage/class/list\')}}},[_vm._v("School Class")]),_c(\'label\',{attrs:{"for":""}},[_vm._v(">")]),_c(\'label\',{staticStyle:{"cursor":"pointer"},on:{"click":function($event){return _vm.$router.push(\'/manage/teacher/list?classId=\' + _vm.onlyClass.id)}}},[_vm._v(_vm._s(_vm.onlyClass.name))]),_c(\'label\',{attrs:{"for":""}},[_vm._v(">")])]:[_c(\'label\',{staticStyle:{"cursor":"pointer"},on:{"click":function($event){return _vm.$router.push(\'/manage/teacher/list\')}}},[_vm._v("School Teacher")]),_c(\'label\',{attrs:{"for":""}},[_vm._v(">")])],_c(\'label\',{staticStyle:{"font-weight":"normal"}},[_vm._v(_vm._s(_vm.title))])],2)]},proxy:true},{key:"right",fn:function(){return undefined},proxy:true}])})]},proxy:true}])}),_c(\'div\',{staticClass:"form-content"},[_c(\'school-teacher-add\',{ref:"schoolTeacherAdd",attrs:{"school":_vm.currentSchool,"id":_vm.id},on:{"getCls":_vm.changeCls,"save":_vm.handleSave}})],1)],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/manage/SchoolTeacherEdit.vue?vue&type=template&id=0b398712&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("5530");\n\n// EXTERNAL MODULE: ./src/const/common.js\nvar common = __webpack_require__("f93e");\n\n// EXTERNAL MODULE: ./src/mixins/UserModeMixin.js\nvar UserModeMixin = __webpack_require__("6e84");\n\n// EXTERNAL MODULE: ./src/mixins/CurrentSchoolMixin.js\nvar CurrentSchoolMixin = __webpack_require__("21fb");\n\n// EXTERNAL MODULE: ./src/components/Common/FixedFormHeader.vue + 4 modules\nvar FixedFormHeader = __webpack_require__("b5ff8");\n\n// EXTERNAL MODULE: ./src/components/FormHeader/FormHeader.vue + 9 modules\nvar FormHeader = __webpack_require__("b5a9");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"1ede6cb4-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolUser/SchoolTeacherAdd.vue?vue&type=template&id=3a1faf3e&scoped=true&\nvar SchoolTeacherAddvue_type_template_id_3a1faf3e_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',[(_vm.teacherId)?_c(\'div\',{staticClass:"account-info-self"},[_c(\'div\',{staticClass:"info-self-avatar"},[(_vm.formModel.avatar)?_c(\'img\',{attrs:{"src":_vm.formModel.avatar}}):_c(\'img\',{attrs:{"src":__webpack_require__("4992")}}),_c(\'a-button\',{attrs:{"type":"primary","size":"small"},on:{"click":function($event){return _vm.$refs.avatarModal.edit(1)}}},[_vm._v("Upload")])],1)]):_vm._e(),_c(\'a-form-model\',_vm._b({ref:"form",attrs:{"layout":"horizontal","model":_vm.formModel,"rules":_vm.validatorRules},on:{"validate":_vm.doValidate}},\'a-form-model\',_vm.formItemLayout,false),[(_vm.teacherId && _vm.userMode === _vm.USER_MODE.SCHOOL)?_c(\'a-form-model-item\',{attrs:{"label":"Last Login","wrapperCol":{ span: 18 }}},[_c(\'a-row\',{attrs:{"gutter":0}},[_c(\'a-col\',{attrs:{"span":16}},[(_vm.origin.lastLogin)?_c(\'label\',{attrs:{"for":""}},[_vm._v(_vm._s(_vm._f("dayjs")(_vm.origin.lastLogin)))]):_c(\'label\',{attrs:{"for":""}},[_vm._v("-")])]),_c(\'a-col\',{staticStyle:{"text-align":"center"},attrs:{"span":2}}),(_vm.teacherId && _vm.formModel.inviteEmail)?_c(\'a-col\',{staticStyle:{"text-align":"center"},attrs:{"span":6}},[_c(\'a-button\',{attrs:{"type":"black","disabled":_vm.origin.status === _vm.SCHOOL_USER_STATUS.ACTIVE.value,"loading":_vm.confirmLoading},on:{"click":_vm.handleReset}},[_vm._v("Reset Password")])],1):_vm._e()],1)],1):_vm._e(),(_vm.teacherId && _vm.userMode === _vm.USER_MODE.SELF)?_c(\'a-form-model-item\',{attrs:{"label":"","wrapperCol":{ span: 18 }}},[_c(\'a-row\',{attrs:{"gutter":0}},[_c(\'a-col\',{attrs:{"span":16}}),_c(\'a-col\',{staticStyle:{"text-align":"center"},attrs:{"span":2}}),(_vm.teacherId && _vm.formModel.inviteEmail)?_c(\'a-col\',{staticStyle:{"text-align":"center"},attrs:{"span":6}},[_c(\'a-button\',{attrs:{"type":"black","disabled":_vm.origin.status === _vm.SCHOOL_USER_STATUS.ACTIVE.value,"loading":_vm.confirmLoading},on:{"click":_vm.handleReset}},[_vm._v("Reset Password")])],1):_vm._e()],1)],1):_vm._e(),_c(\'a-form-model-item\',{staticClass:"mb0",attrs:{"label":"Name","required":true}},[_c(\'a-row\',{attrs:{"gutter":16}},[_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"prop":"firstName","hasFeedback":true}},[_c(\'a-input\',{attrs:{"placeholder":"First name"},model:{value:(_vm.formModel.firstName),callback:function ($$v) {_vm.$set(_vm.formModel, "firstName", $$v)},expression:"formModel.firstName"}})],1)],1),_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"prop":"lastName","hasFeedback":true}},[_c(\'a-input\',{attrs:{"placeholder":"Last name"},model:{value:(_vm.formModel.lastName),callback:function ($$v) {_vm.$set(_vm.formModel, "lastName", $$v)},expression:"formModel.lastName"}})],1)],1)],1)],1),_c(\'a-form-model-item\',{attrs:{"label":"Email","prop":"inviteEmail","hasFeedback":true}},[_c(\'a-input\',{attrs:{"disabled":_vm.teacherId && !!_vm.formModel.inviteEmail && _vm.origin.status === _vm.SCHOOL_USER_STATUS.ACTIVE.value,"placeholder":"Email"},model:{value:(_vm.formModel.inviteEmail),callback:function ($$v) {_vm.$set(_vm.formModel, "inviteEmail", $$v)},expression:"formModel.inviteEmail"}})],1),_c(\'a-form-model-item\',{attrs:{"label":"DOB"}},[_c(\'a-date-picker\',{attrs:{"disabled-date":_vm.disabledDate},model:{value:(_vm.formModel.birthDay),callback:function ($$v) {_vm.$set(_vm.formModel, "birthDay", $$v)},expression:"formModel.birthDay"}})],1),(_vm.classUnModify || _vm.teacherId)?_c(\'a-form-model-item\',{staticClass:"mb0",attrs:{"label":"Class"}},[_c(\'a-row\',{attrs:{"gutter":16}},[_c(\'a-col\',{attrs:{"span":18}},[_c(\'a-form-model-item\',{staticClass:"self-select"},[(!_vm.classUnModify)?[_c(\'a-select\',{attrs:{"mode":"multiple","disabled":_vm.classUnModify,"optionFilterProp":"children","getPopupContainer":function (trigger) { return trigger.parentElement; },"option-label-prop":"label","placeholder":"Please select class"},model:{value:(_vm.formModel.classArr),callback:function ($$v) {_vm.$set(_vm.formModel, "classArr", $$v)},expression:"formModel.classArr"}},_vm._l((_vm.filterClassList),function(item){return _c(\'a-select-option\',{key:item.id,attrs:{"label":item.name}},[_vm._v(" "+_vm._s(item.name)+" ")])}),1),_c(\'div\',{ref:"tagRender",staticClass:"tag-render",class:{disabled: _vm.classUnModify},attrs:{"size":4},on:{"click":_vm.showSelect}},_vm._l((_vm.formModel.classArr),function(tag){return _c(\'a-tag\',{key:\'tag\'+tag,attrs:{"closable":_vm.isShowClose(tag),"color":_vm.clsColor(tag)},on:{"close":function($event){return _vm.closeCls(tag)}}},[_vm._v(_vm._s(_vm.formatName(tag, _vm.classList)))])}),1)]:_c(\'a-space\',[(_vm.classArrDetail.length > 0)?_c(\'a-space\',{staticClass:"flex-wrap"},[_vm._l((_vm.classArrDetail),function(cls){return [_c(\'a-tag\',{key:cls.id,attrs:{"color":cls.classType === 0 ? \'#2db7f5\' : \'#f50\'}},[_vm._v(" "+_vm._s(cls.classType === 1 ? _vm.formatViewName(cls.subject) + \'-\' + cls.name : cls.name)+" ")])]})],2):_c(\'label\',{attrs:{"for":""}},[_vm._v(" - ")])],1)],2)],1),(_vm.showClassLink)?_c(\'a-col\',{attrs:{"span":6}},[_c(\'a-button\',{attrs:{"type":"link"},on:{"click":_vm.handelGoClass}},[_vm._v("Class Manage")])],1):_vm._e()],1)],1):_vm._e(),(!!_vm.teacherId)?_c(\'a-form-model-item\',{attrs:{"label":"Roles"}},[(_vm.formModel.roleArr.length > 0)?_c(\'a-space\',_vm._l((_vm.formModel.roleArr),function(role){return _c(\'a-tag\',{key:\'role_\'+role},[_vm._v(_vm._s(role))])}),1):_c(\'label\',{attrs:{"for":""}},[_vm._v(" - ")])],1):_vm._e(),_c(\'a-form-model-item\',{attrs:{"wrapperCol":{offset: 6}}},[_c(\'a-button\',{attrs:{"disabled":_vm.hasErrors,"loading":_vm.loading,"type":"primary"},on:{"click":_vm.handleSave}},[_vm._v(_vm._s(_vm.teacherId ? \'Update\': \'Create\'))])],1)],1),_c(\'a-modal\',{attrs:{"destroyOnClose":"","title":"Reset Password","width":"600px","footer":null},model:{value:(_vm.passwordVis),callback:function ($$v) {_vm.passwordVis=$$v},expression:"passwordVis"}},[_c(\'reset-password\',{attrs:{"needOld":false}})],1),_c(\'avatar-modal\',{ref:"avatarModal",on:{"ok":_vm.setAvatar}})],1)}\nvar SchoolTeacherAddvue_type_template_id_3a1faf3e_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolUser/SchoolTeacherAdd.vue?vue&type=template&id=3a1faf3e&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("3835");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__("4de4");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.includes.js\nvar es_array_includes = __webpack_require__("caad");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.includes.js\nvar es_string_includes = __webpack_require__("2532");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__("d3b7");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.iterator.js\nvar es_string_iterator = __webpack_require__("3ca3");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__("ddb0");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.find.js\nvar es_array_find = __webpack_require__("7db0");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__("159b");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__("99af");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js\nvar es_array_map = __webpack_require__("d81d");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.join.js\nvar es_array_join = __webpack_require__("a15b");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__("b0c0");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.slice.js\nvar es_array_slice = __webpack_require__("fb6a");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.from.js\nvar es_array_from = __webpack_require__("a630");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.set.js\nvar es_set = __webpack_require__("6062");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__("ac1f");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.split.js\nvar es_string_split = __webpack_require__("1276");\n\n// EXTERNAL MODULE: ./src/api/v2/schoolClass.js\nvar schoolClass = __webpack_require__("ad59");\n\n// EXTERNAL MODULE: ./src/api/v2/schoolUser.js\nvar schoolUser = __webpack_require__("ec09");\n\n// EXTERNAL MODULE: ./src/api/v2/schoolRole.js\nvar schoolRole = __webpack_require__("6f2a");\n\n// EXTERNAL MODULE: ./src/api/academicSettingSubject.js\nvar academicSettingSubject = __webpack_require__("9bfe");\n\n// EXTERNAL MODULE: ./src/views/account/manage/persona/ResetPassword.vue + 4 modules\nvar ResetPassword = __webpack_require__("f371");\n\n// EXTERNAL MODULE: ./src/views/account/settings/AvatarModal.vue + 4 modules\nvar AvatarModal = __webpack_require__("8d90");\n\n// EXTERNAL MODULE: ./src/mixins/SubmitBeforeMixin.js\nvar SubmitBeforeMixin = __webpack_require__("6d78");\n\n// EXTERNAL MODULE: ./src/mixins/AutoSaveLocalMixin.js\nvar AutoSaveLocalMixin = __webpack_require__("0fac");\n\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__("c1df");\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js\nvar vuex_esm = __webpack_require__("2f62");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolUser/SchoolTeacherAdd.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _require = __webpack_require__("4fcf"),\n    sortBy = _require.sortBy;\n\n/* harmony default export */ var SchoolTeacherAddvue_type_script_lang_js_ = ({\n  name: \'SchoolTeacherAdd\',\n  components: {\n    ResetPassword: ResetPassword["a" /* default */],\n    AvatarModal: AvatarModal["a" /* default */]\n  },\n  mixins: [SubmitBeforeMixin["a" /* SubmitBeforeMixin */], AutoSaveLocalMixin["a" /* AutoSaveLocalMixin */], UserModeMixin["a" /* UserModeMixin */], CurrentSchoolMixin["a" /* CurrentSchoolMixin */]],\n  props: {\n    id: {\n      type: String,\n      default: null\n    },\n    showClassLink: {\n      type: Boolean,\n      default: false\n    }\n  },\n  watch: {\n    id: {\n      handler: function handler(val) {\n        this.teacherId = val;\n        this.initForm();\n        this.initUserClassRole();\n      },\n      immediate: true\n    }\n  },\n  data: function data() {\n    var _this$school;\n\n    return {\n      SCHOOL_USER_STATUS: common["z" /* SCHOOL_USER_STATUS */],\n      USER_MODE: common["U" /* USER_MODE */],\n      sortBy: sortBy,\n      teacherId: this.id,\n      classList: [],\n      roleList: [],\n      formModel: {\n        firstName: \'\',\n        lastName: \'\',\n        birthDay: \'\',\n        classes: \'\',\n        classArr: [],\n        inviteEmail: \'\',\n        roles: \'\',\n        roleArr: [],\n        schoolId: ((_this$school = this.school) === null || _this$school === void 0 ? void 0 : _this$school.id) || \'\',\n        avatar: \'\'\n      },\n      origin: {},\n      formItemLayout: {\n        labelCol: {\n          span: 6\n        },\n        wrapperCol: {\n          span: 12\n        }\n      },\n      loading: false,\n      passwordVis: false,\n      confirmLoading: false,\n      cacheKey: \'SUBMIT_VALIDATE_SCHOOL_TEACHER_\',\n      autoSaveLocalKey: \'FORM_SCHOOL_TEACHER_\',\n      needAutoSave: false,\n      // !this.id,\n      userHeaderTeacherCls: [],\n      classUnModify: false,\n      subjectOptions: []\n    };\n  },\n  computed: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, Object(vuex_esm["e" /* mapState */])({\n    info: function info(state) {\n      return state.user.info;\n    },\n    currentSchool: function currentSchool(state) {\n      return state.user.currentSchool;\n    },\n    userMode: function userMode(state) {\n      return state.app.userMode;\n    }\n  })), {}, {\n    validatorRules: function validatorRules() {\n      return {\n        firstName: [{\n          required: true,\n          message: \'Please Input First Name!\'\n        }],\n        lastName: [{\n          required: true,\n          message: \'Please Input Last Name!\'\n        }],\n        inviteEmail: [{\n          required: true,\n          message: \'Please Input Email!\'\n        }, {\n          type: \'email\',\n          message: \'Please Input Valid Email!\'\n        }, {\n          validator: this.validateRemoteEmail,\n          trigger: \'blur\'\n        }],\n        classArr: [{\n          required: true,\n          message: \'Please Select a class!\',\n          trigger: \'change\'\n        }],\n        roleArr: [{\n          required: true,\n          message: \'Please Select a role!\',\n          trigger: \'change\'\n        }]\n      };\n    },\n    filterClassList: function filterClassList() {\n      var _this = this;\n\n      return this.classList.filter(function (cc) {\n        return !_this.formModel.classArr.includes(cc.id);\n      });\n    },\n    classArrDetail: function classArrDetail() {\n      var _this2 = this;\n\n      var clses = this.classList.filter(function (cc) {\n        return _this2.formModel.classArr.includes(cc.id);\n      });\n      return sortBy(clses, \'classType\');\n    }\n  }),\n  created: function created() {\n    this.initData();\n  },\n  methods: {\n    handleSchoolChange: function handleSchoolChange(currentSchool) {\n      if (this.userMode === common["U" /* USER_MODE */].SCHOOL) {\n        this.initData();\n        this.initUserClassRole();\n      }\n    },\n    handleModeChange: function handleModeChange(userMode) {\n      // 模式切换，个人还是学校 个人接口\n      this.initData();\n      this.initUserClassRole();\n    },\n    initData: function initData() {\n      var _this3 = this;\n\n      Promise.all([Object(schoolClass["g" /* listClass */])({\n        schoolId: this.currentSchool.id,\n        pageNo: 1,\n        pageSize: 10000\n      }), Object(schoolRole["g" /* listRole */])({\n        schoolId: this.currentSchool.id\n      }), Object(academicSettingSubject["a" /* getSubjectBySchoolId */])({\n        schoolId: this.currentSchool.id\n      })]).then(function (_ref) {\n        var _ref2 = Object(slicedToArray["a" /* default */])(_ref, 3),\n            clsRes = _ref2[0],\n            roleRes = _ref2[1],\n            subjectRes = _ref2[2];\n\n        if (clsRes.code === 0) {\n          _this3.classList = clsRes.result.records.filter(function (cls) {\n            return cls.classType !== 2;\n          });\n          _this3.classUnModify = !!_this3.teacherId;\n          var query = _this3.$route.query;\n\n          if (query.classId) {\n            var isFind = _this3.classList.find(function (item) {\n              return item.id === query.classId;\n            });\n\n            if (isFind) {\n              _this3.formModel.classArr = [query.classId];\n              _this3.formModel.classes = query.classId;\n              _this3.classUnModify = true;\n\n              _this3.$emit(\'getCls\', isFind);\n            }\n          }\n        }\n\n        if (roleRes.code === 0) {\n          _this3.roleList = roleRes.result;\n        }\n\n        if (subjectRes.success) {\n          var subjects = [];\n          subjectRes.result.forEach(function (item) {\n            if (item.subjectList && item.subjectList.length > 0) {\n              subjects = subjects.concat(item.subjectList);\n            }\n          });\n          var options = [];\n          subjects.forEach(function (item) {\n            options.push({\n              subjectId: item.subjectId,\n              subjectName: item.subjectName\n            });\n            options.push({\n              subjectId: item.parentSubjectId,\n              subjectName: item.parentSubjectName\n            });\n          });\n          _this3.subjectOptions = options;\n        }\n      });\n    },\n    initForm: function initForm(defaultForm) {\n      var _this4 = this;\n\n      if (this.teacherId) {\n        this.loading = true;\n        Object(schoolUser["p" /* getTeacherInfo */])({\n          schoolId: this.currentSchool.id,\n          userId: this.teacherId\n        }).then(function (res) {\n          if (res.code === 0) {\n            _this4.origin = Object(objectSpread2["a" /* default */])({}, res.result);\n            _this4.formModel.id = res.result.id;\n            _this4.formModel.firstName = res.result.firstname;\n            _this4.formModel.lastName = res.result.lastname;\n            _this4.formModel.birthDay = res.result.birthday;\n            _this4.formModel.avatar = res.result.avatar;\n            _this4.formModel.inviteEmail = res.result.inviteEmail;\n\n            if (res.result.classes) {\n              _this4.formModel.classArr = res.result.classes.map(function (item) {\n                return item.id;\n              });\n              _this4.formModel.classes = _this4.formModel.classArr.join(\',\');\n            }\n\n            if (res.result.roles) {\n              var roleArr = res.result.roles.filter(function (item) {\n                return item.name.toLowerCase() !== \'teacher\';\n              }).map(function (item) {\n                return item.name.charAt(0).toLowerCase() + item.name.slice(1);\n              });\n              _this4.formModel.roleArr = Array.from(new Set(roleArr)).map(function (item) {\n                return item.charAt(0).toUpperCase() + item.slice(1);\n              });\n              _this4.formModel.roles = _this4.formModel.roleArr.join(\',\');\n            }\n          }\n        }).finally(function () {\n          _this4.loading = false;\n        });\n      } else {\n        // const fromCache = this.getAutoLocalData()\n        this.formModel = Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, this.formModel), defaultForm);\n\n        if (this.formModel.classes) {\n          this.formModel.classArr = this.formModel.classes.split(\',\');\n        }\n      }\n\n      this.$nextTick(function () {\n        _this4.initValidate(!!_this4.id);\n      });\n    },\n    initUserClassRole: function initUserClassRole() {\n      var _this5 = this;\n\n      Object(schoolRole["c" /* geHeaderClassByUserId */])({\n        schoolId: this.currentSchool.id,\n        userId: this.id\n      }).then(function (res) {\n        if (res.code === 0) {\n          _this5.userHeaderTeacherCls = res.result.classIdList;\n        }\n      });\n    },\n    doValidate: function doValidate(key, value) {\n      this.fillValidate(key, value);\n    },\n    validateRemoteEmail: function validateRemoteEmail(rule, value, callback) {\n      if (!value) {\n        return callback();\n      } else {\n        // 调用封装了的异步效验方法，\n        if (this.teacherId && value === this.origin.inviteEmail) {\n          return callback();\n        }\n\n        Object(schoolUser["k" /* checkEmailTeacher */])({\n          emails: value,\n          schoolId: this.currentSchool.id\n        }).then(function (response) {\n          if (response.code === 0 && response.result && response.result[0].exists) {\n            callback(new Error(\'Teacher already exists\'));\n          } else {\n            callback();\n          }\n        }).catch(function (res) {\n          callback(new Error(res.message));\n        });\n      }\n    },\n    setAvatar: function setAvatar(url) {\n      this.formModel.avatar = url;\n    },\n    disabledDate: function disabledDate(current) {\n      return current && current > moment_default()();\n    },\n    handelGoClass: function handelGoClass() {\n      this.$router.push(\'/manage/class\');\n    },\n    handleReset: function handleReset() {\n      var _this6 = this;\n\n      // this.passwordVis = true\n      this.$confirm({\n        title: "Confirm Reset Password",\n        content: "Do you want to reset password?",\n        centered: true,\n        onOk: function onOk() {\n          _this6.confirmLoading = true;\n          Object(schoolUser["v" /* resetPassword */])({\n            userIds: [_this6.teacherId] // reset\n\n          }).then(function (res) {\n            if (res.code === 0) {\n              _this6.$message.success(\'Opt Successfully\');\n            }\n          }).finally(function () {\n            _this6.confirmLoading = false;\n          });\n        }\n      });\n    },\n    handleSave: function handleSave() {\n      var _this7 = this;\n\n      this.$refs.form.validate(function (valid) {\n        if (valid) {\n          var params = Object(objectSpread2["a" /* default */])({}, _this7.formModel);\n\n          params.schoolId = _this7.currentSchool.id;\n          params.classes = params.classArr.join(\',\');\n          params.roles = params.roleArr.join(\',\');\n\n          if (params.birthDay) {\n            params.birthday = params.birthDay = moment_default.a.utc(params.birthDay).format(\'YYYY-MM-DD HH:mm:ss\');\n          }\n\n          _this7.loading = true;\n          var promise = schoolUser["d" /* addTeacher */];\n\n          if (_this7.teacherId) {\n            promise = schoolUser["A" /* updateTeacher */];\n          }\n\n          promise(params).then(function (res) {\n            if (res.code === 0) {\n              _this7.$message.success(\'Save successfully\');\n\n              _this7.clearLocalData();\n\n              _this7.$emit(\'save\', params);\n            }\n          }).finally(function () {\n            _this7.loading = false;\n          });\n        } else {}\n      });\n    },\n    formatName: function formatName(key, arr) {\n      var find = arr.find(function (item) {\n        return item.id === key;\n      });\n      return find ? find.name : \'\';\n    },\n    isShowClose: function isShowClose(id) {\n      return !this.userHeaderTeacherCls.includes(id) && !this.classUnModify;\n    },\n    closeCls: function closeCls(id) {\n      this.formModel.classArr = this.formModel.classArr.filter(function (clsId) {\n        return clsId !== id;\n      });\n    },\n    clsColor: function clsColor(id) {\n      if (this.userHeaderTeacherCls.includes(id)) {\n        return \'#ef4136\';\n      }\n\n      return \'\';\n    },\n    showSelect: function showSelect(e) {\n      this.$refs.tagRender.previousElementSibling.click();\n    },\n    formatViewName: function formatViewName(id) {\n      var findSubject = this.subjectOptions.find(function (subject) {\n        return subject.subjectId === id;\n      });\n      if (findSubject) return findSubject.subjectName; // const findGrade = this.gradeOptions.find(grade => grade.gradeId === id)\n      // if (findGrade) return findGrade.gradeName\n\n      return \'Untitle\';\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/manage/schoolUser/SchoolTeacherAdd.vue?vue&type=script&lang=js&\n /* harmony default export */ var schoolUser_SchoolTeacherAddvue_type_script_lang_js_ = (SchoolTeacherAddvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/account/manage/schoolUser/SchoolTeacherAdd.vue?vue&type=style&index=0&id=3a1faf3e&scoped=true&lang=less&\nvar SchoolTeacherAddvue_type_style_index_0_id_3a1faf3e_scoped_true_lang_less_ = __webpack_require__("faca");\n\n// EXTERNAL MODULE: ./node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("0c7c");\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolUser/SchoolTeacherAdd.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["a" /* default */])(\n  schoolUser_SchoolTeacherAddvue_type_script_lang_js_,\n  SchoolTeacherAddvue_type_template_id_3a1faf3e_scoped_true_render,\n  SchoolTeacherAddvue_type_template_id_3a1faf3e_scoped_true_staticRenderFns,\n  false,\n  null,\n  "3a1faf3e",\n  null\n  \n)\n\n/* harmony default export */ var SchoolTeacherAdd = (component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/SchoolTeacherEdit.vue?vue&type=script&lang=js&\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\nvar SchoolTeacherEditvue_type_script_lang_js_require = __webpack_require__("4fcf"),\n    debounce = SchoolTeacherEditvue_type_script_lang_js_require.debounce;\n\n/* harmony default export */ var SchoolTeacherEditvue_type_script_lang_js_ = ({\n  name: \'SchoolTeacherEdit\',\n  mixins: [UserModeMixin["a" /* UserModeMixin */], CurrentSchoolMixin["a" /* CurrentSchoolMixin */]],\n  components: {\n    FixedFormHeader: FixedFormHeader["a" /* default */],\n    FormHeader: FormHeader["a" /* default */],\n    SchoolTeacherAdd: SchoolTeacherAdd\n  },\n  props: {\n    id: {\n      type: String,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      USER_MODE: common["U" /* USER_MODE */],\n      SCHOOL_USER_STATUS: common["z" /* SCHOOL_USER_STATUS */],\n      onlyClass: null\n    };\n  },\n  created: function created() {\n    this.debounceLoad = debounce(this.loadData, 300);\n  },\n  computed: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, Object(vuex_esm["e" /* mapState */])({\n    userMode: function userMode(state) {\n      return state.app.userMode;\n    },\n    currentSchool: function currentSchool(state) {\n      return state.user.currentSchool;\n    }\n  })), {}, {\n    title: function title() {\n      return this.id ? \'Edit\' : \'Add\';\n    }\n  }),\n  methods: {\n    goBack: function goBack() {\n      this.$router.go(-1);\n    },\n    handleSchoolChange: function handleSchoolChange(currentSchool) {\n      if (this.userMode === common["U" /* USER_MODE */].SCHOOL) {\n        this.queryParam.schoolId = currentSchool.id;\n        this.initDict();\n        this.debounceInit();\n      }\n    },\n    handleModeChange: function handleModeChange(userMode) {\n      // 模式切换，个人还是学校 个人接口\n      this.debounceInit();\n    },\n    loadData: function loadData() {},\n    handleSave: function handleSave(data) {\n      this.goBack();\n    },\n    changeCls: function changeCls(cls) {\n      this.onlyClass = cls;\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/manage/SchoolTeacherEdit.vue?vue&type=script&lang=js&\n /* harmony default export */ var manage_SchoolTeacherEditvue_type_script_lang_js_ = (SchoolTeacherEditvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/account/manage/SchoolTeacherEdit.vue?vue&type=style&index=0&id=0b398712&lang=less&scoped=true&\nvar SchoolTeacherEditvue_type_style_index_0_id_0b398712_lang_less_scoped_true_ = __webpack_require__("34f4");\n\n// CONCATENATED MODULE: ./src/views/account/manage/SchoolTeacherEdit.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar SchoolTeacherEdit_component = Object(componentNormalizer["a" /* default */])(\n  manage_SchoolTeacherEditvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  "0b398712",\n  null\n  \n)\n\n/* harmony default export */ var SchoolTeacherEdit = __webpack_exports__["default"] = (SchoolTeacherEdit_component.exports);\n\n//# sourceURL=webpack:///./src/views/account/manage/SchoolTeacherEdit.vue_+_9_modules?')},ec09:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export schoolUserApi */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "m", function() { return getSchoolUsers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return addStudents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return addTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "t", function() { return removeStudents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "u", function() { return removeTeachers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "l", function() { return getInvite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "y", function() { return updateInvite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "A", function() { return updateTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return bulkActTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return bulkActStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return acceptInvite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return batchAddStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return batchAddTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "n", function() { return getStudentInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "p", function() { return getTeacherInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return checkEmailParent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "j", function() { return checkEmailStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "k", function() { return checkEmailTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "v", function() { return resetPassword; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "r", function() { return moveClassStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "z", function() { return updateStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "x", function() { return sendParentEmail; });\n/* unused harmony export addAdmin */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "s", function() { return removeAdmins; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "w", function() { return resetUserPassword; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return addSchoolAdmin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "o", function() { return getTeacherCount; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "q", function() { return listStudents; });\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("b775");\n/* harmony import */ var _utils_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("ca00");\n\n\nvar API_PREFIX = \'api2/school/user\';\nvar schoolUserApi = {\n  getSchoolUsers: "/classcipe/".concat(API_PREFIX, "/getSchoolUsers"),\n  addStudents: "/classcipe/".concat(API_PREFIX, "/addStudents"),\n  addTeacher: "/classcipe/".concat(API_PREFIX, "/addTeacher"),\n  removeStudents: "/classcipe/".concat(API_PREFIX, "/removeStudents"),\n  removeTeachers: "/classcipe/".concat(API_PREFIX, "/removeTeachers"),\n  updateTeacher: "/classcipe/".concat(API_PREFIX, "/updateTeacher"),\n  getInvite: "/classcipe/".concat(API_PREFIX, "/getInvite"),\n  updateInvite: "/classcipe/".concat(API_PREFIX, "/updateInvite"),\n  bulkActTeacher: "/classcipe/".concat(API_PREFIX, "/teacher/bulkAct"),\n  bulkActStudent: "/classcipe/".concat(API_PREFIX, "/student/bulkAct"),\n  acceptInvite: "/classcipe/".concat(API_PREFIX, "/acceptInvite"),\n  batchAddStudent: "/classcipe/".concat(API_PREFIX, "/batchAddStudent"),\n  batchAddTeacher: "/classcipe/".concat(API_PREFIX, "/batchAddTeacher"),\n  getStudentInfo: "/classcipe/".concat(API_PREFIX, "/getStudentInfo"),\n  getTeacherInfo: "/classcipe/".concat(API_PREFIX, "/getTeacherInfo"),\n  checkEmailParent: "/classcipe/".concat(API_PREFIX, "/parent/checkEmail"),\n  resetPassword: "/classcipe/".concat(API_PREFIX, "/resetPassword"),\n  checkEmailStudent: "/classcipe/".concat(API_PREFIX, "/student/checkEmail"),\n  moveClassStudent: "/classcipe/".concat(API_PREFIX, "/student/moveClass"),\n  sendParentEmail: "/classcipe/".concat(API_PREFIX, "/student/sendParentEmail"),\n  checkEmailTeacher: "/classcipe/".concat(API_PREFIX, "/teacher/checkEmail"),\n  updateStudent: "/classcipe/".concat(API_PREFIX, "/updateStudent"),\n  addAdmin: "/classcipe/".concat(API_PREFIX, "/addAdmin"),\n  removeAdmins: "/classcipe/".concat(API_PREFIX, "/removeAdmins"),\n  resetUserPassword: "/classcipe/".concat(API_PREFIX, "/user/resetPassword"),\n  addSchoolAdmin: "/classcipe/".concat(API_PREFIX, "/addSchoolAdmin"),\n  getTeacherCount: "/classcipe/".concat(API_PREFIX, "/getTeacherCount"),\n  listStudents: "/classcipe/".concat(API_PREFIX, "/list/students")\n};\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getSchoolUsers(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getSchoolUsers,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction addStudents(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.addStudents,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction addTeacher(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.addTeacher,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction removeStudents(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.removeStudents,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction removeTeachers(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.removeTeachers,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getInvite(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getInvite,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction updateInvite(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.updateInvite,\n    method: \'post\',\n    data: parameter,\n    params: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction updateTeacher(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.updateTeacher,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction bulkActTeacher(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.bulkActTeacher,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction bulkActStudent(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.bulkActStudent,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction acceptInvite(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.acceptInvite,\n    method: \'post\',\n    data: parameter,\n    params: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction batchAddStudent(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.batchAddStudent,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction batchAddTeacher(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.batchAddTeacher,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getStudentInfo(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getStudentInfo,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getTeacherInfo(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getTeacherInfo,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction checkEmailParent(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.checkEmailParent,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction checkEmailStudent(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.checkEmailStudent,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction checkEmailTeacher(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.checkEmailTeacher,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction resetPassword(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.resetPassword,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction moveClassStudent(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.moveClassStudent,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction updateStudent(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.updateStudent,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction sendParentEmail(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.sendParentEmail,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction addAdmin(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.addAdmin,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction removeAdmins(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.removeAdmins,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction resetUserPassword(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.resetUserPassword,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction addSchoolAdmin(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.addSchoolAdmin,\n    method: \'post\',\n    data: parameter,\n    params: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getTeacherCount(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getTeacherCount,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction listStudents(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.listStudents,\n    method: \'get\',\n    params: parameter\n  });\n}\n\n//# sourceURL=webpack:///./src/api/v2/schoolUser.js?')},f371:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"1ede6cb4-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/persona/ResetPassword.vue?vue&type=template&id=f6bcd576&scoped=true&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'a-form-model\',_vm._b({ref:"form",attrs:{"layout":"horizontal","model":_vm.formModel,"rules":_vm.validatorRules}},\'a-form-model\',_vm.formItemLayout,false),[(_vm.needOld)?_c(\'a-form-model-item\',{attrs:{"label":"Old Password","prop":"password"}},[_c(\'a-input-password\',{attrs:{"autocomplete":"off","required":true,"type":"password","placeholder":"input password"},model:{value:(_vm.formModel.password),callback:function ($$v) {_vm.$set(_vm.formModel, "password", $$v)},expression:"formModel.password"}})],1):_vm._e(),_c(\'a-form-model-item\',{attrs:{"label":"New Password","prop":"newPassword"}},[_c(\'a-input-password\',{attrs:{"autocomplete":"off","type":"password","placeholder":"input password"},model:{value:(_vm.formModel.newPassword),callback:function ($$v) {_vm.$set(_vm.formModel, "newPassword", $$v)},expression:"formModel.newPassword"}})],1),_c(\'a-form-model-item\',{attrs:{"label":"Confirm Password","prop":"confirmPassword"}},[_c(\'a-input-password\',{attrs:{"autocomplete":"off","type":"password","placeholder":"input password"},model:{value:(_vm.formModel.confirmPassword),callback:function ($$v) {_vm.$set(_vm.formModel, "confirmPassword", $$v)},expression:"formModel.confirmPassword"}})],1),_c(\'a-form-model-item\',{attrs:{"wrapperCol":{offset: 6, span: 12},"label":""}},[_c(\'a-button\',{attrs:{"loading":_vm.loading,"type":"primary"},on:{"click":_vm.handleSave}},[_vm._v("update")])],1)],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/manage/persona/ResetPassword.vue?vue&type=template&id=f6bcd576&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__("d3b7");\n\n// EXTERNAL MODULE: ./src/api/login.js + 1 modules\nvar login = __webpack_require__("7ded");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/persona/ResetPassword.vue?vue&type=script&lang=js&\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var ResetPasswordvue_type_script_lang_js_ = ({\n  name: \'ResetPassword\',\n  props: {\n    needOld: {\n      type: Boolean,\n      default: true\n    },\n    saveFn: {\n      type: Function,\n      default: null\n    }\n  },\n  data: function data() {\n    var _this = this;\n\n    var reg = /^(?=.*[a-zA-Z])(?=.*[0-9])[^]{8,}$/;\n\n    var validateRemote = function validateRemote(rule, value, callback) {\n      if (!value) {\n        return callback(new Error(\'Please input the password\'));\n      } else {\n        // 调用封装了的异步效验方法，\n        Object(login["b" /* CheckPassword */])({\n          password: value\n        }).then(function (response) {\n          if (response.result !== \'Success\') {\n            callback(new Error(\'Incorrect password\'));\n          } else {\n            callback();\n          }\n        });\n      }\n    };\n\n    var validatePass = function validatePass(rule, value, callback) {\n      if (value === \'\') {\n        callback(new Error(\'Please input the password\'));\n      } else if (!reg.test(value)) {\n        callback(new Error(\'The password must be a combination of letters and numbers, and it must be 8 characters or more.\'));\n      } else {\n        if (_this.formModel.confirmPassword !== \'\') {\n          _this.$refs.form.validateField(\'confirmPassword\');\n        }\n\n        callback();\n      }\n    };\n\n    var validatePassConfirm = function validatePassConfirm(rule, value, callback) {\n      if (value === \'\') {\n        callback(new Error(\'Please input the password again\'));\n      } else if (value !== _this.formModel.newPassword) {\n        callback(new Error(\'Passwords did not match!\'));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      formModel: {\n        password: \'\',\n        newPassword: \'\',\n        confirmPassword: \'\'\n      },\n      formItemLayout: {\n        labelCol: {\n          span: 6\n        },\n        wrapperCol: {\n          span: 18\n        }\n      },\n      validatorRules: {\n        password: [{\n          required: true,\n          trigger: \'change\',\n          message: \'Please input the password\'\n        }, {\n          validator: validateRemote,\n          trigger: \'blur\'\n        }],\n        newPassword: [{\n          validator: validatePass,\n          trigger: \'change\'\n        }],\n        confirmPassword: [{\n          validator: validatePassConfirm,\n          trigger: \'change\'\n        }]\n      },\n      loading: false\n    };\n  },\n  methods: {\n    handleSave: function handleSave() {\n      var _this2 = this;\n\n      this.$refs.form.validate(function (valid) {\n        if (valid) {\n          _this2.loading = true;\n\n          if (_this2.saveFn) {\n            _this2.saveFn({\n              newPassword: _this2.formModel.newPassword,\n              oldPassword: _this2.formModel.password\n            }).then(function (res) {\n              if (res.code === 0) {\n                _this2.$message.success(\'Update password successfully\'); // this.$emit(\'close\')\n\n              }\n            }).finally(function () {\n              _this2.loading = false;\n            });\n          } else {\n            Object(login["a" /* ChangePassword */])({\n              newPassword: _this2.formModel.newPassword,\n              oldPassword: _this2.formModel.password\n            }).then(function (res) {\n              if (res.code === 0) {\n                _this2.$message.success(\'Update password successfully\'); // this.$emit(\'close\')\n\n              }\n            }).finally(function () {\n              _this2.loading = false;\n            });\n          }\n        }\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/manage/persona/ResetPassword.vue?vue&type=script&lang=js&\n /* harmony default export */ var persona_ResetPasswordvue_type_script_lang_js_ = (ResetPasswordvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("0c7c");\n\n// CONCATENATED MODULE: ./src/views/account/manage/persona/ResetPassword.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["a" /* default */])(\n  persona_ResetPasswordvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  "f6bcd576",\n  null\n  \n)\n\n/* harmony default export */ var ResetPassword = __webpack_exports__["a"] = (component.exports);\n\n//# sourceURL=webpack:///./src/views/account/manage/persona/ResetPassword.vue_+_4_modules?')},faca:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolTeacherAdd_vue_vue_type_style_index_0_id_3a1faf3e_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("b43c");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolTeacherAdd_vue_vue_type_style_index_0_id_3a1faf3e_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolTeacherAdd_vue_vue_type_style_index_0_id_3a1faf3e_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolUser/SchoolTeacherAdd.vue?')}}]);