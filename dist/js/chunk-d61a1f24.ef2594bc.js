(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d61a1f24"],{"21fb":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i("b0c0");var n={data:function(){return{unwatch:null,routeName:this.$route.name}},created:function(){var e=this;this.unwatch=this.$store.watch((function(e){return e.user.currentSchool}),(function(t){return t&&e.$route.name===e.routeName&&e.handleSchoolChange(t)}))},computed:{},beforeDestroy:function(){this.unwatch&&this.unwatch()},methods:{handleSchoolChange:function(e){}}}},2365:function(e,t,i){},"4362e":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cc-card"},[i("div",{staticClass:"cover-img relative-position",style:{backgroundImage:"url('"+(e.content.image||"http://dcdkqlzgpl5ba.cloudfront.net/1392467808404684802/file/202208140641519097-20220814143449.png")+"')",width:e.width+"rem"}},[e.innerDesc?i("div",{staticClass:"inner-mask"}):e._e(),e.innerDesc?i("div",{staticClass:"card-bottom-section q-pa-sm col q-gutter-xs inner-desc absolute-bottom"},[i("div",{staticClass:"type-tag"},[i("a-tag",{attrs:{color:"#15C39A"}},[e._v(e._s(e._f("type2Name")(e.content.type)))])],1),i("div",{staticClass:"card-title",attrs:{title:e.mainTitle}},[e._v(e._s(e.mainTitle))]),i("div",{staticClass:"card-sub-title",attrs:{title:e.subDescription}},[e._v(" "+e._s(e.subDescription)+" ")])]):e._e(),e.outerDesc?i("div",{staticClass:"inner-tag"},[i("a-tag",{attrs:{color:"#15C39A"}},[e._v(e._s(e._f("type2Name")(e.content.type)))])],1):e._e()]),e.outerDesc?i("div",{staticClass:"card-bottom-section outer-desc",style:{width:e.width+"rem"}},[i("div",{staticClass:"main-title-line"},[i("div",{staticClass:"main-title",attrs:{title:e.mainTitle}},[e._v(" "+e._s(e.mainTitle)+" ")]),i("div",{staticClass:"main-action"},[i("a-space",[e.content.star?i("a-rate",{staticClass:"cc-library-rate",attrs:{value:e.content.star||10,disabled:""}}):e._e(),e.content.star?e._e():i("div",{staticClass:"no-review"},[e._v("No reviews")]),i("div",{staticClass:"share-icon",on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[i("a-tooltip",{attrs:{trigger:"click",getPopupContainer:function(e){return e.parentElement},placement:"bottomRight"}},[i("template",{slot:"title"},[i("div",{staticClass:"detail-share"},[i("share-button",{attrs:{link:e.wrapperLink(e.content),title:e.content.name}})],1)]),i("a-icon",{attrs:{type:"share-alt"}})],2)],1)],1)],1)]),i("div",{staticClass:"sub-desc",attrs:{title:e.subDescription}},[e._v(" "+e._s(e.subDescription)+" ")])]):e._e()])},r=[],s=(i("a9e3"),i("b0c0"),i("fb6a"),i("a4d3"),i("e01a"),i("99af"),i("5fc3")),o={name:"CardListItem",components:{ShareButton:s["a"]},props:{content:{type:Object,required:!0},width:{type:Number,default:20},innerDesc:{type:Boolean,default:!1},outerDesc:{type:Boolean,default:!0}},computed:{mainTitle:function(){var e=this.content.name||"Untitled";return e.slice(0,1).toUpperCase()+e.slice(1)},subDescription:function(){return this.content.description||""}},data:function(){return{}},created:function(){},methods:{wrapperLink:function(e){if(e&&e.id){var t=this.$classcipe.getContentTypeName(e.type);return"".concat("https://www.classcipe.com","/v2/").concat(t,"/").concat(e.id)}return""}}},a=o,c=(i("fac6"),i("0c7c")),l=Object(c["a"])(a,n,r,!1,null,"6b22d132",null);t["a"]=l.exports},"44f5":function(e,t,i){"use strict";i.d(t,"d",(function(){return o})),i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return c})),i.d(t,"e",(function(){return l})),i.d(t,"c",(function(){return d}));var n=i("b775"),r="live",s={CreateQRCode:"/classcipe/api/v2/".concat(r,"/createQRCode"),FindWorkShops:"/classcipe/api/v2/".concat(r,"/findWorkShops"),SaveRegisteredRecord:"/classcipe/api/v2/".concat(r,"/saveRegisteredRecord"),CancelRegistered:"/classcipe/api/v2/".concat(r,"/cancelRegistered"),DetailBySessionId:"/classcipe/api/v2/".concat(r,"/detailBySessionId")};function o(e){return Object(n["d"])({url:s.FindWorkShops,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function a(e){return Object(n["d"])({url:s.CreateQRCode,method:"get",responseType:"blob",params:e})}function c(e){return Object(n["d"])({url:s.CancelRegistered,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(n["d"])({url:s.SaveRegisteredRecord,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(n["d"])({url:s.DetailBySessionId,method:"get",params:e})}},"4e5b":function(e,t,i){},"595e":function(e,t,i){"use strict";i("a16b")},"5fc3":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"share-button"},[i("div",{staticClass:"share-title"},[e._v("Share by QR code")]),i("a-spin",{attrs:{spinning:e.loading}},[i("div",{staticClass:"share-qrcode"},[i("img",{attrs:{src:e.qrCode,alt:"qrCode"}})])]),i("div",{staticClass:"share-divider"},[e._v("Or")]),i("div",{staticClass:"share-out"},[i("icon-font",{attrs:{type:"icon-Facebook"},on:{click:function(t){return e.share("fb")}}}),i("icon-font",{attrs:{type:"icon-Linkdin"},on:{click:function(t){return e.share("in")}}}),i("icon-font",{attrs:{type:"icon-Twitter"},on:{click:function(t){return e.share("twitter")}}}),i("icon-font",{attrs:{type:"icon-lianjie1"},on:{click:e.handleCopy}})],1)],1)},r=[],s=(i("99af"),i("9911"),i("d3b7"),i("44f5")),o={name:"ShareButton",props:{link:{type:String,required:!0},title:{type:String,default:"Share"}},data:function(){return{qrCode:"",loading:!1,shareLink:{fb:"https://www.facebook.com/share.php?title=".concat(this.title,"&u=").concat(encodeURIComponent(this.link)),in:"https://www.linkedin.com/shareArticle?mini=true&source=str&title=".concat(this.title,"&url=").concat(encodeURIComponent(this.link)),twitter:"https://twitter.com/intent/tweet?text=".concat(this.title,"&url=").concat(encodeURIComponent(this.link)),whatsapp:"https://api.whatsapp.com/send?text=".concat(encodeURIComponent(this.link))}}},created:function(){this.initQrcode()},methods:{initQrcode:function(){var e=this;this.link&&(this.loading=!0,Object(s["b"])({url:this.link}).then((function(t){var i=new FileReader;i.readAsDataURL(new Blob([t])),i.onload=function(){e.qrCode=i.result},i.onerror=function(){}})).finally((function(t){e.loading=!1})))},share:function(e){window.open(this.shareLink[e],"_blank")},handleCopy:function(){var e=this;this.$copyText(this.link).then((function(){e.$message.success("Copy successfully")})).catch((function(){e.$message.error("Copy failed")}))}}},a=o,c=(i("8190"),i("0c7c")),l=Object(c["a"])(a,n,r,!1,null,"35e10260",null);t["a"]=l.exports},"6e84":function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i("b0c0");var n={data:function(){return{unwatch:null,routeName:this.$route.name}},computed:{redirectUrl:function(){return"student"===this.$store.state.user.currentRole?"/student/main/my-task":"/account/info"}},created:function(){var e=this;this.unwatch=this.$store.watch((function(e){return e.app.userMode}),(function(t){t&&e.$route.name===e.routeName&&(e.handleModeChange(t),e.routeInMode())})),this.routeInMode()},beforeDestroy:function(){this.unwatch&&this.unwatch()},methods:{routeInMode:function(){this.$route.meta.mode&&this.$route.meta.mode!==this.$store.state.app.userMode&&this.$router.push({path:this.redirectUrl})},handleModeChange:function(e){}}}},8190:function(e,t,i){"use strict";i("2365")},a16b:function(e,t,i){},ed22:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card-list-wrapper"},["center"===e.titlePosition?[i("div",{staticClass:"card-list-title-center"},[i("div",{staticClass:"title-item"},[i("div",{staticClass:"main-title"},[e._v(" "+e._s(e.title)+" ")]),i("div",{staticClass:"sub-title"},[e._v(" "+e._s(e.subTitle)+" ")])]),"pd"!==e.category?i("div",{staticClass:"more-action"},[e.isSchoolMode?e._e():i("router-link",{attrs:{to:"/teacher/library-all/"+e.category}},[e._v("More")]),e.isSchoolMode?i("router-link",{attrs:{to:"/teacher/resource-all/"+e.category}},[e._v("More")]):e._e()],1):i("div",{staticClass:"more-action"},[i("router-link",{attrs:{to:"/teacher/main/live-workshops"}},[e._v("More")])],1)])]:e._e(),"left"===e.titlePosition?[i("div",{staticClass:"card-list-title"},[i("div",{staticClass:"title-item"},[i("div",{staticClass:"main-title"},[e._v(" "+e._s(e.title)+" ")]),i("div",{staticClass:"sub-title"},[e._v(" "+e._s(e.subTitle)+" ")])]),"pd"!==e.category?i("div",{staticClass:"more-action"},[e.isSchoolMode?e._e():i("router-link",{attrs:{to:"/teacher/library-all/"+e.category}},[e._v("More")]),e.isSchoolMode?i("router-link",{attrs:{to:"/teacher/resource-all/"+e.category}},[e._v("More")]):e._e()],1):i("div",{staticClass:"more-action"},[i("router-link",{attrs:{to:"/teacher/main/live-workshops"}},[e._v("More")])],1)])]:e._e(),i("div",{staticClass:"scroll-left",class:{"inner-scroll-left":e.innerDesc,"outer-scroll-left":e.outerDesc,"no-more-left":!e.hasMoreLeft},on:{click:e.scrollLeft}},[i("a-icon",{style:{fontSize:"16px",color:"#6967C3"},attrs:{type:"arrow-left"}})],1),i("div",{staticClass:"scroll-right",class:{"inner-scroll-right":e.innerDesc,"outer-scroll-right":e.outerDesc,"no-more-right":!e.hasMoreRight},on:{click:e.scrollRight}},[i("a-icon",{style:{fontSize:"16px",color:"#6967C3"},attrs:{type:"arrow-right"}})],1),i("div",{staticClass:"card-list",attrs:{id:e.category}},e._l(e.list,(function(t,n){return i("div",{key:n,staticClass:"card-item",on:{click:function(i){return e.handlePreviewDetail(t)}}},[i("card-list-item",e._b({attrs:{"inner-desc":e.innerDesc,"outer-desc":e.outerDesc,content:t,width:e.cardSize}},"card-list-item",e.$attrs,!1))],1)})),0),e.previewVisible?i("content-preview",{attrs:{"content-id":e.previewCurrentId,"content-type":e.previewType,"show-buy-button":"library"===e.cardMode||"resource"===e.cardMode,"show-edit-button":!0,"review-edit":!1,"review-create":!1,"show-enter-button":!1,liveWorkShopCode:e.previewCode},on:{close:e.handlePreviewClose}}):e._e()],2)},r=[],s=(i("a9e3"),i("99af"),i("4362e")),o=i("ce85"),a=i("f031"),c={components:{CardListItem:s["a"],ContentPreview:o["a"]},props:{title:{type:String,required:!0},subTitle:{type:String,default:""},titlePosition:{type:String,default:"left"},category:{type:String,required:!0},cardSize:{type:Number,default:20},list:{type:Array,required:!0},isSchoolMode:{type:Boolean,default:!1},cardMode:{type:String,default:"library"},innerDesc:{type:Boolean,default:!1},outerDesc:{type:Boolean,default:!0}},mixins:[a["a"]],data:function(){return{scrollX:0,slide:1,stars:1,showPreview:!1,contentId:null,contentType:0,hasMoreLeft:!0,hasMoreRight:!0,previewCode:null}},watch:{list:function(e){e&&e.length&&this.hiddenArrow(document.getElementById(this.category))}},mounted:function(){this.hiddenArrow(document.getElementById(this.category))},methods:{scrollFn:function(e){this.scrollX=0===e.target.scrollLeft?0:1},moveTo:function(e){var t=this.$refs.list,i=t.scrollLeft+e*t.offsetWidth*.7;i<0&&(i=0),this.scrollX=0===t.scrollLeft?0:1,this.$refs.list.scrollTo({left:i,behavior:"smooth"})},viewAll:function(){},scrollLeft:function(){var e=document.getElementById(this.category);e.scrollBy({left:-800,behavior:"smooth"}),this.hiddenArrow(e)},scrollRight:function(){var e=document.getElementById(this.category);e.scrollBy({left:800,behavior:"smooth"}),this.hiddenArrow(e)},hiddenArrow:function(e){var t=this;setTimeout((function(){t.$logger.info("hidden arrow",e,"scrollLeft",e.scrollLeft,"offsetWidth",e.offsetWidth,"scrollWidth",e.scrollWidth),e&&e.scrollLeft+e.offsetWidth>=e.scrollWidth?t.hasMoreRight=!1:t.hasMoreRight=!0,e&&e.scrollLeft<=0?t.hasMoreLeft=!1:t.hasMoreLeft=!0,t.$logger.info("hasMoreLeft ".concat(t.hasMoreLeft," hasMoreRight ").concat(t.hasMoreRight))}),500)}}},l=c,d=(i("595e"),i("0c7c")),u=Object(d["a"])(l,n,r,!1,null,"3b678cd2",null);t["a"]=u.exports},f031:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("1da1"),r=(i("d81d"),i("0481"),i("b0c0"),i("159b"),i("96cf"),i("c621")),s=i("f93e"),o=i("b199"),a=i("980a"),c=i("944d"),l={data:function(){return{allowPreview:!0,previewCurrentId:null,previewType:null,previewCode:null,previewVisible:!1,updateEditSlideLoading:!1,setColor:["#FFEDAF","#C8F4FF","#E6E4FF","#ffccb0","#ffa9a2","#a3ecb9","#f7c5f8","#ffbfe2","#d5b9ff","#c4f6b1"],savingSlides:!1,formSteps:[],requiredFields:[],emptyRequiredFields:[]}},created:function(){return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},computed:{commandTermsList:function(){return Object(c["a"])(this.content.learnOuts.map((function(e){return e.commandTerms})).flat(2),"name").map((function(e){return e.name}))},knowledgeTagsList:function(){return Object(c["a"])(this.content.learnOuts.map((function(e){return e.knowledgeTags})).flat(2),"name").map((function(e){return e.name}))}},methods:{handlePreviewDetail:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$logger.info("handlePreviewDetail",e,"allowPreview",this.allowPreview),this.allowPreview&&(this.previewVisible=!1,this.$nextTick((function(){t.previewCurrentId=i&&e.sourceFrom||e.id,t.previewType=e.type,t.previewCode=e.sessionId||e.sessionInfo&&e.sessionInfo.classId,t.reviewList=!1,t.reviewCreate=!!i,t.reviewEdit=!!i,t.previewVisible=!0})),this.$emit("preview",e))},handlePreviewDeleteDetail:function(e){var t=this;this.$logger.info("handlePreviewDeleteDetail",e,"allowPreview",this.allowPreview),this.allowPreview&&(this.previewVisible=!1,this.$nextTick((function(){t.previewCurrentId=e.contentId,t.previewType=e.contentType,t.previewCode=e.classId,t.reviewList=!1,t.reviewCreate=!1,t.reviewEdit=!1,t.previewVisible=!0})),this.$emit("preview",e))},handlePreviewClose:function(){this.$logger.info("handlePreviewClose"),this.previewVisible=!1,this.previewCurrentId=null,this.previewType=null,this.previewCode=null},updateEditSlideStatus:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.updateEditSlideLoading){t.next=26;break}if(t.prev=1,e.updateEditSlideLoading=!0,i=parseInt(e.content.type),n=null,i!==e.$classcipe.typeMap.task){t.next=11;break}return t.next=8,Object(r["c"])({taskId:e.content.id,needRefresh:!0});case 8:n=t.sent,t.next=15;break;case 11:if(i!==e.$classcipe.typeMap.pd){t.next=15;break}return t.next=14,Object(r["c"])({taskId:e.content.id,needRefresh:!0});case 14:n=t.sent;case 15:n&&0===n.code&&(e.content.presentationId=n.result.presentationId,e.content.pageObjects=n.result.pageObjects),e.content.slideEditing=!1,t.next=21;break;case 19:t.prev=19,t.t0=t["catch"](1);case 21:return t.prev=21,e.updateEditSlideLoading=!1,s=e.contentReget(),0===s.code&&(e.content.canPublish=s.result.canPublish),t.finish(21);case 26:case"end":return t.stop()}}),t,null,[[1,19,21,26]])})))()},contentReget:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=parseInt(e.content.type),n=null,i!==e.$classcipe.typeMap.task){t.next=8;break}return t.next=5,Object(o["TaskQueryById"])({id:e.content.id});case 5:n=t.sent,t.next=12;break;case 8:if(i!==e.$classcipe.typeMap.pd){t.next=12;break}return t.next=11,Object(a["c"])({id:e.content.id});case 11:n=t.sent;case 12:return t.abrupt("return",n);case 13:case"end":return t.stop()}}),t)})))()},simpleIsEmpty:function(e){return null===e||""===e||void 0===e||(!(!e.hasOwnProperty("length")||0!==e.length)||"{}"===JSON.stringify(e))},calculateCanPublish:function(){var e=this,t=!0;this.emptyRequiredFields=[],this.formSteps.forEach((function(e){e.showRequiredTips=!1,e.showSatisfiedTips=!1})),this.requiredFields.forEach((function(i){var n;if(i===s["V"].Slides||i===s["v"].Slides)e.content.presentationId&&null!==(n=e.content.pageObjects)&&void 0!==n&&n.length||(e.emptyRequiredFields.push(i),e.formSteps.forEach((function(e){e.commonFields.indexOf(i)>-1&&(e.showRequiredTips=!0,e.showSatisfiedTips=!1,t=!1)})));else if(i===s["V"].Link||i===s["w"].Link);else if("learnOuts"===i){var r;null!==(r=e.content.learnOuts)&&void 0!==r&&r.length||(e.emptyRequiredFields.push(i),e.formSteps.forEach((function(e){e.commonFields.indexOf(i)>-1&&(e.showRequiredTips=!0,e.showSatisfiedTips=!1,t=!1)})))}else"questions"===i||"overview"===i||"goals"===i||e.simpleIsEmpty(e.content[i])&&(e.$logger.info("".concat(i," is empty"),e.content[i]),e.emptyRequiredFields.push(i),e.formSteps.forEach((function(e){e.commonFields.indexOf(i)>-1&&(e.showRequiredTips=!0,e.showSatisfiedTips=!1,t=!1)})))})),this.content.canPublish,this.content.canPublish=t}}}},fac6:function(e,t,i){"use strict";i("4e5b")}}]);