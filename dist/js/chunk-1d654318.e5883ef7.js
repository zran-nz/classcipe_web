(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d654318"],{"2afd":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"library-iframe-container"},[r("div",{staticClass:"library-search"},[r("div",{staticClass:"create-new"},[r("a-space",[r("global-search-input",{on:{search:e.handleSearch}}),r("user-profile-avatar")],1)],1)]),r("div",{staticClass:"library-iframe-wrapper"},[r("card-list",{directives:[{name:"show",rawName:"v-show",value:e.unitList.length>0,expression:"unitList.length > 0"}],attrs:{title:"Unit Plan",category:"plan",list:e.unitList,"card-size":15,"inner-desc":!1,"outer-desc":!0,"is-school-mode":!0,"card-mode":"resource"}}),r("card-list",{directives:[{name:"show",rawName:"v-show",value:e.taskList.length>0,expression:"taskList.length > 0"}],attrs:{title:"Task",category:"task",list:e.taskList,"card-size":15,"inner-desc":!1,"outer-desc":!0,"is-school-mode":!0,"card-mode":"resource"}})],1)])},s=[],i=r("1da1"),n=r("5530"),c=(r("96cf"),r("cd3e")),o=r("3881"),l=r("2f62"),u=r("ed22"),d=r("1778"),h=r("6e84"),m=r("21fb"),f={name:"Resource",mixins:[h["a"],m["a"]],components:{CardList:u["a"],UserProfileAvatar:o["a"],GlobalSearchInput:c["a"]},data:function(){return{recommendList:[],lastPublishedList:[],unitList:[],pdList:[],taskList:[]}},computed:Object(n["a"])({},Object(l["e"])({currentSchool:function(e){return e.user.currentSchool}})),created:function(){this.initData()},methods:{handleSchoolChange:function(){this.$logger.info("handleSchoolChange called"),this.initData()},initData:function(){this.getLibraryRecommend(),this.getLibraryResource()},getLibraryRecommend:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$logger.info("getLibraryRecommend schoolId",null===(r=e.currentSchool)||void 0===r?void 0:r.id),t.next=3,Object(d["a"])({schoolId:null===(a=e.currentSchool)||void 0===a?void 0:a.id});case 3:s=t.sent,e.recommendList=s.result||[];case 5:case"end":return t.stop()}}),t)})))()},getLibraryResource:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$logger.info("getLibraryResource schoolId",null===(r=e.currentSchool)||void 0===r?void 0:r.id),t.next=3,Object(d["b"])({schoolId:null===(a=e.currentSchool)||void 0===a?void 0:a.id});case 3:s=t.sent,e.lastPublishedList=s.result.latestReleased||[],e.unitList=s.result.plans||[],e.pdList=s.result.pds||[],e.taskList=s.result.tasks||[];case 8:case"end":return t.stop()}}),t)})))()},handleSearch:function(e){this.$logger.info("handleSearch",e),e&&e.length>=3&&this.$router.push({path:"/teacher/resource/search/"+e})}}},p=f,g=(r("4da8"),r("0c7c")),v=Object(g["a"])(p,a,s,!1,null,"a66c0e2c",null);t["default"]=v.exports},"4da8":function(e,t,r){"use strict";r("c109")},c109:function(e,t,r){}}]);