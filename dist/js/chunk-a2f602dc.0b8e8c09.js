(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a2f602dc"],{"1fc5":function(t,e,i){"use strict";i("aab8")},"21fb":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("b0c0");var n={data:function(){return{unwatch:null,routeName:this.$route.name}},created:function(){var t=this;this.unwatch=this.$store.watch((function(t){return t.user.currentSchool}),(function(e){return e&&t.$route.name===t.routeName&&t.handleSchoolChange(e)}))},computed:{},beforeDestroy:function(){this.unwatch&&this.unwatch()},methods:{handleSchoolChange:function(t){}}}},2365:function(t,e,i){},"4362e":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cc-card"},[i("div",{staticClass:"cover-img relative-position",style:{backgroundImage:"url('"+(t.content.image||"http://dcdkqlzgpl5ba.cloudfront.net/1392467808404684802/file/202208140641519097-20220814143449.png")+"')",width:t.width+"rem"}},[t.innerDesc?i("div",{staticClass:"inner-mask"}):t._e(),t.innerDesc?i("div",{staticClass:"card-bottom-section q-pa-sm col q-gutter-xs inner-desc absolute-bottom"},[i("div",{staticClass:"type-tag"},[i("a-tag",{attrs:{color:"#15C39A"}},[t._v(t._s(t._f("type2Name")(t.content.type)))])],1),i("div",{staticClass:"card-title",attrs:{title:t.mainTitle}},[t._v(t._s(t.mainTitle))]),i("div",{staticClass:"card-sub-title",attrs:{title:t.subDescription}},[t._v(" "+t._s(t.subDescription)+" ")])]):t._e(),t.outerDesc?i("div",{staticClass:"inner-tag"},[i("a-tag",{attrs:{color:"#15C39A"}},[t._v(t._s(t._f("type2Name")(t.content.type)))])],1):t._e(),0===t.content.status&&t.content.createBy===t.$store.getters.email?i("div",{staticClass:"publish-tag"},[i("a-tooltip",{attrs:{title:"Wait to publish"}},[i("publish-icon",{staticStyle:{width:"13px",height:"14px"}})],1)],1):t._e()]),t.outerDesc?i("div",{staticClass:"card-bottom-section outer-desc",style:{width:t.width+"rem"}},[i("div",{staticClass:"main-title-line"},[i("div",{staticClass:"main-title",attrs:{title:t.mainTitle}},[t._v(" "+t._s(t.mainTitle)+" ")]),i("div",{staticClass:"main-action"},[i("a-space",[t.content.star?i("a-rate",{staticClass:"cc-library-rate",attrs:{value:t.content.star||10,disabled:""}}):t._e(),t.content.star?t._e():i("div",{staticClass:"no-review"},[t._v("No reviews")]),i("div",{staticClass:"share-icon",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[i("a-tooltip",{attrs:{trigger:"click",getPopupContainer:function(t){return t.parentElement},placement:"bottomRight"}},[i("template",{slot:"title"},[i("div",{staticClass:"detail-share"},[i("share-button",{attrs:{link:t.wrapperLink(t.content),title:t.content.name}})],1)]),i("a-icon",{attrs:{type:"share-alt"}})],2)],1)],1)],1)]),i("div",{staticClass:"sub-desc",attrs:{title:t.subDescription}},[t._v(" "+t._s(t.subDescription)+" ")])]):t._e()])},r=[],s=(i("a9e3"),i("b0c0"),i("fb6a"),i("a4d3"),i("e01a"),i("99af"),i("5fc3")),o=i("e6fe"),a=i.n(o),c={name:"CardListItem",components:{ShareButton:s["a"],PublishIcon:a.a},props:{content:{type:Object,required:!0},width:{type:Number,default:20},innerDesc:{type:Boolean,default:!1},outerDesc:{type:Boolean,default:!0}},computed:{mainTitle:function(){var t=this.content.name||"Untitled";return t.slice(0,1).toUpperCase()+t.slice(1)},subDescription:function(){return this.content.description||""}},data:function(){return{}},created:function(){},methods:{wrapperLink:function(t){if(t&&t.id){var e=this.$classcipe.getContentTypeName(t.type);return"".concat("https://www.classcipe.com","/v2/").concat(e,"/").concat(t.id)}return""}}},l=c,d=(i("a0cf"),i("0c7c")),u=Object(d["a"])(l,n,r,!1,null,"747bf6a7",null);e["a"]=u.exports},"44f5":function(t,e,i){"use strict";i.d(e,"d",(function(){return o})),i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return c})),i.d(e,"e",(function(){return l})),i.d(e,"c",(function(){return d}));var n=i("b775"),r="live",s={CreateQRCode:"/classcipe/api/v2/".concat(r,"/createQRCode"),FindWorkShops:"/classcipe/api/v2/".concat(r,"/findWorkShops"),SaveRegisteredRecord:"/classcipe/api/v2/".concat(r,"/saveRegisteredRecord"),CancelRegistered:"/classcipe/api/v2/".concat(r,"/cancelRegistered"),DetailBySessionId:"/classcipe/api/v2/".concat(r,"/detailBySessionId")};function o(t){return Object(n["d"])({url:s.FindWorkShops,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function a(t){return Object(n["d"])({url:s.CreateQRCode,method:"get",responseType:"blob",params:t})}function c(t){return Object(n["d"])({url:s.CancelRegistered,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(t){return Object(n["d"])({url:s.SaveRegisteredRecord,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(t){return Object(n["d"])({url:s.DetailBySessionId,method:"get",params:t})}},"5fc3":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"share-button"},[i("div",{staticClass:"share-title"},[t._v("Share by QR code")]),i("a-spin",{attrs:{spinning:t.loading}},[i("div",{staticClass:"share-qrcode"},[i("img",{attrs:{src:t.qrCode,alt:"qrCode"}})])]),i("div",{staticClass:"share-divider"},[t._v("Or")]),i("div",{staticClass:"share-out"},[i("icon-font",{attrs:{type:"icon-Facebook"},on:{click:function(e){return t.share("fb")}}}),i("icon-font",{attrs:{type:"icon-Linkdin"},on:{click:function(e){return t.share("in")}}}),i("icon-font",{attrs:{type:"icon-Twitter"},on:{click:function(e){return t.share("twitter")}}}),i("icon-font",{attrs:{type:"icon-lianjie1"},on:{click:t.handleCopy}})],1)],1)},r=[],s=(i("99af"),i("9911"),i("d3b7"),i("44f5")),o={name:"ShareButton",props:{link:{type:String,required:!0},title:{type:String,default:"Share"}},data:function(){return{qrCode:"",loading:!1,shareLink:{fb:"https://www.facebook.com/share.php?title=".concat(this.title,"&u=").concat(encodeURIComponent(this.link)),in:"https://www.linkedin.com/shareArticle?mini=true&source=str&title=".concat(this.title,"&url=").concat(encodeURIComponent(this.link)),twitter:"https://twitter.com/intent/tweet?text=".concat(this.title,"&url=").concat(encodeURIComponent(this.link)),whatsapp:"https://api.whatsapp.com/send?text=".concat(encodeURIComponent(this.link))}}},created:function(){this.initQrcode()},methods:{initQrcode:function(){var t=this;this.link&&(this.loading=!0,Object(s["b"])({url:this.link}).then((function(e){var i=new FileReader;i.readAsDataURL(new Blob([e])),i.onload=function(){t.qrCode=i.result},i.onerror=function(){}})).finally((function(e){t.loading=!1})))},share:function(t){window.open(this.shareLink[t],"_blank")},handleCopy:function(){var t=this;this.$copyText(this.link).then((function(){t.$message.success("Copy successfully")})).catch((function(){t.$message.error("Copy failed")}))}}},a=o,c=(i("8190"),i("0c7c")),l=Object(c["a"])(a,n,r,!1,null,"35e10260",null);e["a"]=l.exports},"6e84":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("b0c0");var n={data:function(){return{unwatch:null,routeName:this.$route.name}},computed:{redirectUrl:function(){return"student"===this.$store.state.user.currentRole?"/student/main/my-task":"/account/info"}},created:function(){var t=this;this.unwatch=this.$store.watch((function(t){return t.app.userMode}),(function(e){e&&t.$route.name===t.routeName&&(t.handleModeChange(e),t.routeInMode())})),this.routeInMode()},beforeDestroy:function(){this.unwatch&&this.unwatch()},methods:{routeInMode:function(){this.$route.meta.mode&&this.$route.meta.mode!==this.$store.state.app.userMode&&this.$router.push({path:this.redirectUrl})},handleModeChange:function(t){}}}},8190:function(t,e,i){"use strict";i("2365")},"88a9":function(t,e,i){},a0cf:function(t,e,i){"use strict";i("88a9")},aab8:function(t,e,i){},e6fe:function(t,e,i){var n=i("b2b7");t.exports={__esModule:!0,default:n.svgComponent({tag:"svg",attrsMap:{t:"1653279259330",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4202","xmlns:xlink":"http://www.w3.org/1999/xlink"},children:[{tag:"path",attrsMap:{d:"M54.859102 64.003017A64.804294 64.804294 0 0 0 120.321679 128.002743h783.356642a63.999726 63.999726 0 1 0 0-127.999452H120.321679A64.804294 64.804294 0 0 0 54.859102 64.003017zM212.115571 640.000549h103.862412v319.998628A65.060293 65.060293 0 0 0 381.44056 1023.998903h261.11888a65.060293 65.060293 0 0 0 65.462577-63.999726V640.000549h103.862412a63.926583 63.926583 0 0 0 46.079803-109.457817l-299.518717-293.740455a66.194002 66.194002 0 0 0-92.159605 0l-299.884429 293.740455A63.890012 63.890012 0 0 0 212.115571 640.000549z","p-id":"4203"}}]})}},ed22:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-list-wrapper"},["center"===t.titlePosition?[i("div",{staticClass:"card-list-title-center"},[i("div",{staticClass:"title-item"},[i("div",{staticClass:"main-title"},[t._v(" "+t._s(t.title)+" ")]),i("div",{staticClass:"sub-title"},[t._v(" "+t._s(t.subTitle)+" ")])]),"pd"!==t.category?i("div",{staticClass:"more-action"},[t.isSchoolMode?t._e():i("router-link",{attrs:{to:"/teacher/library-all/"+t.category}},[t._v("More")]),t.isSchoolMode?i("router-link",{attrs:{to:"/teacher/resource-all/"+t.category}},[t._v("More")]):t._e()],1):i("div",{staticClass:"more-action"},[i("router-link",{attrs:{to:"/teacher/main/live-workshops"}},[t._v("More")])],1)])]:t._e(),"left"===t.titlePosition?[i("div",{staticClass:"card-list-title"},[i("div",{staticClass:"title-item"},[i("div",{staticClass:"main-title"},[t._v(" "+t._s(t.title)+" ")]),i("div",{staticClass:"sub-title"},[t._v(" "+t._s(t.subTitle)+" ")])]),"pd"!==t.category?i("div",{staticClass:"more-action"},[t.isSchoolMode?t._e():i("router-link",{attrs:{to:"/teacher/library-all/"+t.category}},[t._v("More")]),t.isSchoolMode?i("router-link",{attrs:{to:"/teacher/resource-all/"+t.category}},[t._v("More")]):t._e()],1):i("div",{staticClass:"more-action"},[i("router-link",{attrs:{to:"/teacher/main/live-workshops"}},[t._v("More")])],1)])]:t._e(),i("div",{staticClass:"scroll-left",class:{"inner-scroll-left":t.innerDesc,"outer-scroll-left":t.outerDesc,"no-more-left":!t.hasMoreLeft},on:{click:t.scrollLeft}},[i("a-icon",{style:{fontSize:"16px",color:"#6967C3"},attrs:{type:"arrow-left"}})],1),i("div",{staticClass:"scroll-right",class:{"inner-scroll-right":t.innerDesc,"outer-scroll-right":t.outerDesc,"no-more-right":!t.hasMoreRight},on:{click:t.scrollRight}},[i("a-icon",{style:{fontSize:"16px",color:"#6967C3"},attrs:{type:"arrow-right"}})],1),i("div",{staticClass:"card-list",attrs:{id:t.category}},t._l(t.list,(function(e,n){return i("div",{key:n,staticClass:"card-item",on:{click:function(i){return t.handlePreviewDetail(e)}}},[i("card-list-item",t._b({attrs:{"inner-desc":t.innerDesc,"outer-desc":t.outerDesc,content:e,width:t.cardSize}},"card-list-item",t.$attrs,!1))],1)})),0),t.previewVisible?i("content-preview",{attrs:{"content-id":t.previewCurrentId,"content-type":t.previewType,"show-buy-button":"library"===t.cardMode||"resource"===t.cardMode,"is-library":"library"===t.cardMode,"school-resource":"resource"===t.cardMode,"show-subtask":"resource"!==t.cardMode,"review-edit":!1,"review-create":!1,"show-enter-button":!1,liveWorkShopCode:t.previewCode},on:{close:t.handlePreviewClose}}):t._e()],2)},r=[],s=(i("a9e3"),i("99af"),i("4362e")),o=i("ce85"),a=i("f031"),c={components:{CardListItem:s["a"],ContentPreview:o["a"]},props:{title:{type:String,required:!0},subTitle:{type:String,default:""},titlePosition:{type:String,default:"left"},category:{type:String,required:!0},cardSize:{type:Number,default:20},list:{type:Array,required:!0},isSchoolMode:{type:Boolean,default:!1},cardMode:{type:String,default:"library"},innerDesc:{type:Boolean,default:!1},outerDesc:{type:Boolean,default:!0}},mixins:[a["a"]],data:function(){return{scrollX:0,slide:1,stars:1,showPreview:!1,contentId:null,contentType:0,hasMoreLeft:!0,hasMoreRight:!0,previewCode:null}},watch:{list:function(t){t&&t.length&&this.hiddenArrow(document.getElementById(this.category))}},mounted:function(){this.hiddenArrow(document.getElementById(this.category))},methods:{scrollFn:function(t){this.scrollX=0===t.target.scrollLeft?0:1},moveTo:function(t){var e=this.$refs.list,i=e.scrollLeft+t*e.offsetWidth*.7;i<0&&(i=0),this.scrollX=0===e.scrollLeft?0:1,this.$refs.list.scrollTo({left:i,behavior:"smooth"})},viewAll:function(){},scrollLeft:function(){var t=document.getElementById(this.category);t.scrollBy({left:-800,behavior:"smooth"}),this.hiddenArrow(t)},scrollRight:function(){var t=document.getElementById(this.category);t.scrollBy({left:800,behavior:"smooth"}),this.hiddenArrow(t)},hiddenArrow:function(t){var e=this;setTimeout((function(){e.$logger.info("hidden arrow",t,"scrollLeft",t.scrollLeft,"offsetWidth",t.offsetWidth,"scrollWidth",t.scrollWidth),t&&t.scrollLeft+t.offsetWidth>=t.scrollWidth?e.hasMoreRight=!1:e.hasMoreRight=!0,t&&t.scrollLeft<=0?e.hasMoreLeft=!1:e.hasMoreLeft=!0,e.$logger.info("hasMoreLeft ".concat(e.hasMoreLeft," hasMoreRight ").concat(e.hasMoreRight))}),500)}}},l=c,d=(i("1fc5"),i("0c7c")),u=Object(d["a"])(l,n,r,!1,null,"537568c5",null);e["a"]=u.exports},f031:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("1da1"),r=(i("d81d"),i("0481"),i("b0c0"),i("159b"),i("96cf"),i("c621")),s=i("f93e"),o=i("b199"),a=i("980a"),c=i("944d"),l={data:function(){return{allowPreview:!0,previewCurrentId:null,previewType:null,previewCode:null,previewVisible:!1,previewSchoolId:"0",updateEditSlideLoading:!1,setColor:["#FFEDAF","#C8F4FF","#E6E4FF","#ffccb0","#ffa9a2","#a3ecb9","#f7c5f8","#ffbfe2","#d5b9ff","#c4f6b1"],savingSlides:!1,formSteps:[],requiredFields:[],emptyRequiredFields:[]}},created:function(){return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},computed:{commandTermsList:function(){return Object(c["a"])(this.content.learnOuts.map((function(t){return t.commandTerms})).flat(2),"name").map((function(t){return t.name}))},knowledgeTagsList:function(){return Object(c["a"])(this.content.learnOuts.map((function(t){return t.knowledgeTags})).flat(2),"name").map((function(t){return t.name}))}},methods:{handlePreviewDetail:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$logger.info("handlePreviewDetail",t,"allowPreview",this.allowPreview),this.allowPreview&&(this.previewVisible=!1,this.$nextTick((function(){e.previewCurrentId=i&&t.sourceFrom||t.id,e.previewType=t.type,e.previewCode=t.sessionId||t.sessionInfo&&t.sessionInfo.classId,e.previewSchoolId=t.schoolId?t.schoolId:"0",e.reviewList=!1,e.reviewCreate=!!i,e.reviewEdit=!!i,e.previewVisible=!0})),this.$emit("preview",t))},handlePreviewDeleteDetail:function(t){var e=this;this.$logger.info("handlePreviewDeleteDetail",t,"allowPreview",this.allowPreview),this.allowPreview&&(this.previewVisible=!1,this.$nextTick((function(){e.previewCurrentId=t.contentId,e.previewType=t.contentType,e.previewCode=t.classId,e.reviewList=!1,e.reviewCreate=!1,e.reviewEdit=!1,e.previewVisible=!0})),this.$emit("preview",t))},handlePreviewClose:function(){this.$logger.info("handlePreviewClose"),this.previewVisible=!1,this.previewCurrentId=null,this.previewType=null,this.previewCode=null},updateEditSlideStatus:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.updateEditSlideLoading){e.next=26;break}if(e.prev=1,t.updateEditSlideLoading=!0,i=parseInt(t.content.type),n=null,i!==t.$classcipe.typeMap.task){e.next=11;break}return e.next=8,Object(r["c"])({taskId:t.content.id,needRefresh:!0});case 8:n=e.sent,e.next=15;break;case 11:if(i!==t.$classcipe.typeMap.pd){e.next=15;break}return e.next=14,Object(r["c"])({taskId:t.content.id,needRefresh:!0});case 14:n=e.sent;case 15:n&&0===n.code&&(t.content.presentationId=n.result.presentationId,t.content.pageObjects=n.result.pageObjects),t.content.slideEditing=!1,e.next=21;break;case 19:e.prev=19,e.t0=e["catch"](1);case 21:return e.prev=21,t.updateEditSlideLoading=!1,s=t.contentReget(),0===s.code&&(t.content.canPublish=s.result.canPublish),e.finish(21);case 26:case"end":return e.stop()}}),e,null,[[1,19,21,26]])})))()},contentReget:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=parseInt(t.content.type),n=null,i!==t.$classcipe.typeMap.task){e.next=8;break}return e.next=5,Object(o["TaskQueryById"])({id:t.content.id});case 5:n=e.sent,e.next=12;break;case 8:if(i!==t.$classcipe.typeMap.pd){e.next=12;break}return e.next=11,Object(a["c"])({id:t.content.id});case 11:n=e.sent;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})))()},simpleIsEmpty:function(t){return null===t||""===t||void 0===t||(!(!t.hasOwnProperty("length")||0!==t.length)||"{}"===JSON.stringify(t))},calculateCanPublish:function(){var t=this,e=!0;this.emptyRequiredFields=[],this.formSteps.forEach((function(t){t.showRequiredTips=!1,t.showSatisfiedTips=!1})),this.requiredFields.forEach((function(i){var n;i===s["V"].Slides||i===s["v"].Slides?t.content.presentationId&&null!==(n=t.content.pageObjects)&&void 0!==n&&n.length||(t.emptyRequiredFields.push(i),t.formSteps.forEach((function(t){t.commonFields.indexOf(i)>-1&&(t.showRequiredTips=!0,t.showSatisfiedTips=!1,e=!1)}))):i===s["V"].Link||i===s["w"].Link||"learnOuts"===i||"questions"===i||"overview"===i||"goals"===i||t.simpleIsEmpty(t.content[i])&&(t.$logger.info("".concat(i," is empty"),t.content[i]),t.emptyRequiredFields.push(i),t.formSteps.forEach((function(t){t.commonFields.indexOf(i)>-1&&(t.showRequiredTips=!0,t.showSatisfiedTips=!1,e=!1)})))})),this.content.canPublish,this.content.canPublish=e}}}}}]);