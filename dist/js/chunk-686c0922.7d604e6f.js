(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-686c0922","chunk-6dca7b95"],{"023b":function(e,t,a){},"05be":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"27.223",height:"28",viewBox:"0 0 27.223 28"},children:[{tag:"path",attrsMap:{id:"pubu_","data-name":"pubu ",class:"cls-1",d:"M17422.268,9413v-7.046h6.957V9413Zm-9.953,0v-7.046h7.268V9413Zm-10.312,0v-7.046h6.953V9413Zm20.266-10.41v-7.231h6.957v7.231Zm-9.953,0v-7.231h7.268v7.231Zm-10.312,0v-7.231h6.953v7.231Zm20.266-10.638V9385h6.957v6.952Zm-9.953,0V9385h7.268v6.952Zm-10.312,0V9385h6.953v6.952Z",transform:"translate(-17402.002 -9385.001)"}}]})}},"05c1":function(e,t,a){},"07b2":function(e,t,a){},"0b92":function(e,t,a){"use strict";a("7444")},"0f1d":function(e,t,a){"use strict";a("4830")},"0f44":function(e,t,a){"use strict";a("2ba1")},"0fa0":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"relevant-tag-selector-wrapper"},[a("div",{staticClass:"question-list"},e._l(e.relevantQuestionList,(function(t,i){return a("div",{key:i,staticClass:"question-item"},[t.questionId?a("div",{class:{question:!0,"checked-item":-1!==e.selectedQuestionIdList.indexOf(t.questionId)},on:{click:function(a){return e.handleSelectQuestion(t)}}},[a("div",{staticClass:"content-text"},[e._v(" "+e._s(t.questionName?t.questionName:"Unnamed question")+" ")]),a("div",{staticClass:"selected-icon"},[-1!==e.selectedQuestionIdList.indexOf(t.questionId)?a("a-icon",{attrs:{type:"check-circle",theme:"filled"}}):e._e()],1)]):e._e(),a("div",{staticClass:"item-list"},e._l(t.knowledgeTagList,(function(t,i){return a("div",{key:i,class:{"item-item":!0,"checked-item":-1!==e.selectedKnowledgeTagIdList.indexOf(t.id)},on:{click:function(a){return e.handleSelectKnowledge(t)}}},[a("div",{staticClass:"item-name"},[a("div",{staticClass:"content-text"},[e._v(" "+e._s(t.info.description?t.info.description:"Unnamed description")+" ")]),a("div",{staticClass:"selected-icon"},[-1!==e.selectedKnowledgeTagIdList.indexOf(t.id)?a("a-icon",{attrs:{type:"check-circle",theme:"filled"}}):e._e()],1)])])})),0),a("div",{staticClass:"item-list"},e._l(t.skillTagList,(function(t,i){return a("div",{key:i,class:{"item-item":!0,"checked-item":-1!==e.selectedSkillTagIdList.indexOf(t.id)},on:{click:function(a){return e.handleSelectSkill(t)}}},[a("div",{staticClass:"item-name"},[a("div",{staticClass:"content-text"},[e._v(" "+e._s(t.info.description?t.info.description:"Unnamed description")+" ")]),a("div",{staticClass:"selected-icon"},[-1!==e.selectedSkillTagIdList.indexOf(t.id)?a("a-icon",{attrs:{type:"check-circle",theme:"filled"}}):e._e()],1)])])})),0)])})),0)])},s=[],n=(a("c740"),a("a434"),a("159b"),a("99af"),{name:"RelevantTagSelector",props:{relevantQuestionList:{type:Array,default:function(){return[]}}},data:function(){return{selectedQuestionIdList:[],selectedQuestionList:[],selectedKnowledgeTagList:[],selectedKnowledgeTagIdList:[],selectedSkillTagList:[],selectedSkillTagIdList:[]}},created:function(){this.$logger.info("RelevantTagSelector relevantQuestionList",this.relevantQuestionList)},methods:{handleSelectQuestion:function(e){var t=this;this.$logger.info("handleSelectQuestion",e);var a=this.selectedQuestionIdList.indexOf(e.questionId),i=this.selectedQuestionList.findIndex((function(t){return t.questionId===e.questionId}));-1!==a&&-1!==i?(this.selectedQuestionIdList.splice(a,1),this.selectedQuestionList.splice(i,1),e.knowledgeTagList.forEach((function(e){var a=t.selectedKnowledgeTagIdList.findIndex((function(t){return t===e.id})),i=t.selectedKnowledgeTagList.findIndex((function(t){return t.info.id===e.id}));-1!==a&&-1!==i&&(t.selectedKnowledgeTagIdList.splice(a,1),t.selectedKnowledgeTagList.splice(i,1))})),e.skillTagList.forEach((function(e){var a=t.selectedSkillTagIdList.findIndex((function(t){return t===e.id})),i=t.selectedSkillTagList.findIndex((function(t){return t.info.id===e.id}));-1!==a&&-1!==i&&(t.selectedSkillTagIdList.splice(a,1),t.selectedSkillTagList.splice(i,1))}))):(this.selectedQuestionIdList.push(e.questionId),this.selectedQuestionList.push(e)),this.updateSelected()},handleSelectKnowledge:function(e){this.$logger.info("handleSelectKnowledge",e);var t=this.selectedKnowledgeTagIdList.findIndex((function(t){return t===e.id})),a=this.selectedKnowledgeTagList.findIndex((function(t){return t.info.id===e.id}));-1!==t&&-1!==a?(this.selectedKnowledgeTagIdList.splice(t,1),this.selectedKnowledgeTagList.splice(a,1)):(this.selectedKnowledgeTagIdList.push(e.id),this.selectedKnowledgeTagList.push(e)),this.updateSelected()},handleSelectSkill:function(e){this.$logger.info("handleSelectSkill",e);var t=this.selectedSkillTagIdList.findIndex((function(t){return t===e.id})),a=this.selectedSkillTagList.findIndex((function(t){return t.id===e.id}));-1!==t&&-1!==a?(this.selectedSkillTagIdList.splice(t,1),this.selectedSkillTagList.splice(a,1)):(this.selectedSkillTagIdList.push(e.id),this.selectedSkillTagList.push(e)),this.updateSelected()},updateSelected:function(){var e=this;this.$logger.info("updateSelected",this.selectedQuestionList,this.selectedKnowledgeTagIdList,this.selectedSkillTagIdList);var t=[];this.selectedQuestionList.forEach((function(a){var i={id:a.questionId,name:a.questionName,knowledgeTags:[],skillTags:[]};a.knowledgeTagList.forEach((function(t){-1!==e.selectedKnowledgeTagIdList.indexOf(t.info.id)&&(i.knowledgeTags=i.knowledgeTags.concat(t.tagList))})),a.skillTagList.forEach((function(t){-1!==e.selectedSkillTagIdList.indexOf(t.info.id)&&(i.skillTags=i.skillTags.concat(t.tagList))})),t.push(i)})),this.$logger.info("updateSelected data",t),this.$emit("update-selected",{questionList:t})}}}),r=n,o=(a("e76a"),a("0c7c")),l=Object(o["a"])(r,i,s,!1,null,"5235376e",null);t["a"]=l.exports},1054:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19"},children:[{tag:"g",attrsMap:{transform:"translate(0.5 0.5)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:rgba(228,228,228,0.2);stroke:#888996;",d:"M9,0A9,9,0,1,1,0,9,9,9,0,0,1,9,0Z"}},{tag:"path",attrsMap:{class:"b",style:"fill:#888996;",d:"M24.47,24.8V21.78h3.016a.5.5,0,0,0,0-1.005H24.47V17.759a.5.5,0,0,0-1.005,0v3.016H20.449a.5.5,0,0,0,0,1.005h3.016V24.8a.5.5,0,0,0,1.005.044q0-.022,0-.044Z",transform:"translate(-14.966 -12.299)"}}]}]})}},1077:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{t:"1649489113509",class:"icon",viewBox:"0 0 1049 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2299","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"204.8828125",height:"200"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M498.572908 914.311043 136.915348 914.311043c-13.711277 0-26.391441-4.56833-35.716719-12.868783-4.677728-4.162172-12.519211-13.064946-12.519211-25.906064L88.679418 233.106795c0-12.833574 7.841482-21.737605 12.519211-25.897262 9.326535-8.302968 22.005442-12.87004 35.716719-12.87004l205.567298 0L342.482646 105.661332 124.340809 105.661332c-32.390754 0-63.044964 11.416424-86.321692 32.130461C13.501282 159.622449 0 189.006631 0 220.532257l0 667.578478c0 31.534428 13.501282 60.917352 38.019117 82.741721 23.276728 20.720325 53.930938 32.129203 86.314147 32.129203l434.183726 0C534.790094 980.983761 514.506106 942.74459 498.572908 914.311043L498.572908 914.311043zM498.572908 914.311043","p-id":"2300",fill:"#2c2c2c"}},{tag:"path",attrsMap:{d:"M897.337931 207.209533c4.677728 4.160915 12.520468 13.063688 12.520468 25.897262l0 241.393416c27.487941 10.736141 65.641606 25.273565 88.678161 42.964683L998.536559 220.538544c0-31.525626-13.508827-60.914837-38.026662-82.739206-23.269184-20.721582-53.923394-32.130461-86.314147-32.130461L646.926056 105.668877l0 88.670616 214.696413 0C875.333746 194.339493 888.013911 198.907823 897.337931 207.209533L897.337931 207.209533zM897.337931 207.209533","p-id":"2301",fill:"#2c2c2c"}},{tag:"path",attrsMap:{d:"M789.258515 359.675813l-64.738754-64.733724L540.434804 479.001896 540.434804 34.339807C540.434804 15.384948 525.056143 0 506.100027 0l-22.89069 0c-18.954859 0-34.33855 15.384948-34.33855 34.339807l0 425.156465L284.705157 295.329384l-67.003429 67.004686 278.62411 278.61908 0 0","p-id":"2302",fill:"#2c2c2c"}},{tag:"path",attrsMap:{d:"M803.458941 533.592998c-135.430295 0-245.203501 109.750572-245.203501 245.202244 0 135.416463 109.773206 245.204759 245.203501 245.204759 135.415205 0 245.203501-109.788296 245.203501-245.204759C1048.662442 643.34357 938.874147 533.592998 803.458941 533.592998L803.458941 533.592998 803.458941 533.592998zM956.254674 718.593381 784.663778 884.059218c-2.294853 2.294853-4.851257 4.069121-7.603823 5.407052-10.77135 7.664181-25.859538 6.703486-35.518042-2.953759l-73.693083-73.711945c-10.775122-10.775122-10.775122-28.237384 0-38.993644 10.775122-10.816618 28.236126-10.816618 39.009991 0l55.314138 55.295276 155.069209-149.501203c10.75626-10.795241 28.234869-10.795241 39.011248 0C967.024766 690.355997 967.024766 707.834606 956.254674 718.593381L956.254674 718.593381 956.254674 718.593381zM956.254674 718.593381","p-id":"2303",fill:"#2c2c2c"}}]})}},1138:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"rubric",on:{click:e.handleUpdateHeader}},[i("table",{staticClass:"rubric-table"},[i("thead",[e.mode===this.tableMode.Edit?i("draggable",{staticClass:"table-header",attrs:{tag:"tr",disabled:e.disabledDraggable},on:{end:e.handleDragEnd},model:{value:e.headers,callback:function(t){e.headers=t},expression:"headers"}},e._l(e.headers,(function(t,s){return t.visible?i("th",{key:t.type,class:{"header-item":!0,"preview-mode":e.mode===e.tableMode.Preview,"min-header-width":-1!==[e.headerType.AchievementLevel].indexOf(t.type),"criteria-header-width":-1!==[e.headerType.Criteria].indexOf(t.type),"medium-header-width":-1!==[e.headerType.Description].indexOf(t.type)&&e.formType!==e.tableType.Rubric},attrs:{"data-header":JSON.stringify(t),"data-header-type":t.type,"data-header-mode":e.mode}},[i("div",{staticClass:"label-text",on:{click:function(a){return a.stopPropagation(),e.handleEditHeader(t)}}},[i("span",{staticClass:"header-label"},[e._v(e._s(t.label))])]),t.editing?[i("div",{staticClass:"label-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"header.label"}],staticClass:"header-input-item",domProps:{value:t.label},on:{click:function(e){e.stopPropagation()},blur:e.handleUpdateHeader,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleUpdateHeader.apply(null,arguments)},input:function(a){a.target.composing||e.$set(t,"label",a.target.value)}}})])]:e._e(),[i("div",{staticClass:"add-header-item"},[i("a-tooltip",{attrs:{title:"Add new level"}},[i("a-icon",{attrs:{type:"plus-circle"},on:{click:function(t){return e.handleAddNewHeader(s)}}})],1)],1)],t.type.startsWith(e.headerType.UserDefine)?i("div",{staticClass:"remove-header"},[i("a-popconfirm",{staticClass:"rubric-delete-popconfirm",attrs:{title:"Remove Header ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleRemoveHeader(t)}}},[i("template",{slot:"icon"},[i("div",{staticClass:"rubric-big-delete"},[i("img",{staticClass:"big-delete-icon",attrs:{src:a("dfe9")}})])]),i("img",{staticClass:"link-icon",attrs:{src:a("4165")}})],2)],1):e._e()],2):e._e()})),0):e._e(),e.mode!==this.tableMode.Edit?i("tr",{staticClass:"table-header"},e._l(e.headers,(function(t){return t.visible?i("th",{key:t.type,class:{"header-item":!0,"preview-mode":e.mode===e.tableMode.Preview},attrs:{"data-header":JSON.stringify(t),"data-header-type":t.type,"data-header-mode":e.mode}},[i("div",{staticClass:"label-text"},[i("span",{staticClass:"header-label"},[e._v(e._s(t.label))])])]):e._e()})),0):e._e()],1),i("tbody",{staticClass:"table-body"},e._l(e.list,(function(t,s){return i("tr",{directives:[{name:"show",rawName:"v-show",value:!(t.hasOwnProperty("isSelectedIBLine")&&t.isSelectedIBLine&&e.$store.getters.hiddenIbCurriculumId),expression:"!(item.hasOwnProperty('isSelectedIBLine') && item.isSelectedIBLine && $store.getters.hiddenIbCurriculumId)"}],key:s,staticClass:"body-line",attrs:{"data-row-id":t.rowId}},[e._l(e.headers,(function(n,r){return n.visible?i("td",{key:s+"-"+n.type,class:{"body-item":!0,"big-body-item":e.formType===e.tableType.CenturySkills&&n.type===e.headerType.Description},attrs:{"data-index":r,"data-row-id":t.rowId,"data-header-type":n.type},on:{click:function(a){return e.handleClickBodyItem(t,n)}}},[t.hasOwnProperty(n.type)?[n.type===e.headerType.Criteria?[e.formType===e.tableType.CenturySkills?[t[e.headerType.Criteria]&&t[e.headerType.Criteria].name?[i("div",{staticClass:"data-item criteria-data",on:{dblclick:function(a){return a.stopPropagation(),e.handleAddCriteria(n,t,a)}}},[i("div",{staticClass:"criteria-name"},[e._v(" "+e._s(t[e.headerType.Criteria].userInputText?t[e.headerType.Criteria].userInputText:t[e.headerType.Criteria].name)+" ")]),e.mode===e.tableMode.Edit?i("span",{staticClass:"edit-description",on:{click:function(a){return a.stopPropagation(),e.handleClickEnterCriteria(n,t)}}},[e._v(" Please enter explanation for students to understand ")]):e._e()])]:[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.tableMode.Edit,expression:"mode === tableMode.Edit"}],staticClass:"data-item add-criteria",on:{click:function(a){return a.stopPropagation(),e.handleAddCriteria(n,t,a)}}},[i("add-opacity-icon"),i("div",{staticClass:"add-text"},[e._v("Click to choose the objectives")])],1)]]:e._e(),e.formType===e.tableType.Rubric?[t[e.headerType.Criteria].isSelfInput||t[e.headerType.Criteria].name?t[e.headerType.Criteria].isSelfInput&&e.mode===e.tableMode.Edit?[i("div",{staticClass:"add-criteria-input",on:{click:function(e){e.stopPropagation()}}},[i("a-textarea",{staticClass:"my-text-input",staticStyle:{height:"100%"},attrs:{placeholder:"Enter"},model:{value:t[e.headerType.Criteria].name,callback:function(a){e.$set(t[e.headerType.Criteria],"name",a)},expression:"item[headerType.Criteria].name"}})],1)]:[i("div",{staticClass:"data-item criteria-data",on:{dblclick:function(a){return e.handleAddCriteria(n,t,a)}}},[i("div",{staticClass:"criteria-name"},[e._v(" "+e._s(t[e.headerType.Criteria].name)+" ")])])]:[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.tableMode.Edit,expression:"mode === tableMode.Edit"}],staticClass:"data-item add-criteria-option",attrs:{"data-is-self-input":t[e.headerType.Criteria].isSelfInput},on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"create-option-select",on:{click:function(a){return e.handleAddCriteria(n,t,a)}}},[i("add-opacity-icon"),i("div",{staticClass:"add-text"},[e._v("Click to choose the objectives")])],1),i("div",{staticClass:"create-option-input",on:{click:function(a){return e.handleInputIBCriteria(n,t,a)}}},[i("a-icon",{style:{fontSize:"18px"},attrs:{type:"edit"}}),i("div",{staticClass:"add-text"},[e._v("Enter customized content")])],1)])]]:e._e(),e.formType===e.tableType.Rubric_2?[i("div",{staticClass:"data-item criteria-data"},[i("div",{staticClass:"criteria-name"},[e._v(" "+e._s(t[e.headerType.Criteria].name)+" ")])])]:e._e()]:e._e(),n.type===e.headerType.Description?[e.formType===e.tableType.Rubric_2?[t[e.headerType.Description]&&t[e.headerType.Description].name?[i("div",{staticClass:"data-item criteria-data",on:{dblclick:function(a){return e.handleAddCriteria(n,t,a)}}},[i("div",{staticClass:"criteria-name"},[e._v(" "+e._s(t[e.headerType.Description].name)+" ")])])]:[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.tableMode.Edit,expression:"mode === tableMode.Edit"}],staticClass:"data-item add-criteria",on:{click:function(a){return e.handleAddCriteria(n,t,a)}}},[i("add-opacity-icon"),i("div",{staticClass:"add-text"},[e._v("Click to choose the objectives")])],1)]]:e._e(),e.formType===e.tableType.CenturySkills?[t[e.headerType.Description]&&t[e.headerType.Description].name?[i("div",{staticClass:"data-item criteria-data"},[i("div",{staticClass:"criteria-name my-century-criteria",on:{dblclick:function(a){return e.handleAddCriteria(n,t,a)}}},[i("div",{staticClass:"criteria-left-name-list"},e._l(t[e.headerType.Description].parentNameList,(function(t,a){return i("div",{key:a,class:{"criteria-left-name-item":!0,"first-left-name":0===a,"no-first-name":a>0}},[e._v(" "+e._s(t)+" ")])})),0),i("div",{staticClass:"criteria-right-description"},[i("div",{staticClass:"description-name"},[e._v(" "+e._s(t[e.headerType.Description].userInputText?t[e.headerType.Description].userInputText:t[e.headerType.Description].name)+" ")]),e.mode===e.tableMode.Edit&&e.$store.getters.bindCurriculum!==e.AllCurriculums.AU&&e.$store.getters.bindCurriculum!==e.AllCurriculums.NZ?i("span",{staticClass:"edit-description",on:{click:function(a){return a.stopPropagation(),e.handleClickEnterCriteriaDescription(n,t)}}},[e._v(" Please enter explanation for students to understand ")]):e._e()])])])]:[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.tableMode.Edit,expression:"mode === tableMode.Edit"}],staticClass:"data-item add-criteria",on:{click:function(a){return e.handleAddCriteria(n,t,a)}}},[i("add-opacity-icon"),i("div",{staticClass:"add-text"},[e._v("Click to choose the objectives")])],1)]]:e._e()]:e._e()]:e._e(),e.mode===e.tableMode.Edit?[n.type===e.headerType.Comment?[i("div",{staticClass:"comment-indicator-input"},[i("a-textarea",{staticClass:"my-text-input",staticStyle:{height:"100%"},attrs:{placeholder:""},on:{blur:function(a){return e.handleUpdateField(n,t)}},model:{value:t[e.headerType.Comment].name,callback:function(a){e.$set(t[e.headerType.Comment],"name",a)},expression:"item[headerType.Comment].name"}})],1)]:e._e(),n.type.startsWith(e.headerType.UserDefine)?[i("div",{staticClass:"user-define-indicator-input"},[i("a-textarea",{staticClass:"my-text-input",staticStyle:{height:"100%"},attrs:{placeholder:"Enter"},on:{blur:function(a){return e.handleUpdateField(n,t)}},model:{value:t[n.type].name,callback:function(a){e.$set(t[n.type],"name",a)},expression:"item[header.type].name"}})],1)]:e._e()]:e._e(),n.type===e.headerType.AchievementLevel?[i("div",{staticClass:"sub-level-data",attrs:{data:JSON.stringify(e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId])}},[i("div",{staticClass:"sub-level-list",attrs:{"data-mode":e.mode},on:{click:function(e){e.stopPropagation()}}},[e.mode===e.tableMode.Edit||e.mode===e.tableMode.TeacherEvaluate?e._l(t[e.headerType.AchievementLevel].subLevelDescription,(function(s,r){return i("div",{key:r,staticClass:"sub-level-item"},[e.mode===e.tableMode.Edit?[i("div",{staticClass:"start-index",on:{click:function(t){return t.stopPropagation(),e.handleSwitchModeTips.apply(null,arguments)}}},[i("div",{staticClass:"select-block"},[i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}})],1),e._v(" "+e._s(s.startIndex)+" ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:null!==s.endIndex,expression:"subLevel.endIndex !== null"}],staticClass:"end-index",on:{click:function(t){return t.stopPropagation(),e.handleSwitchModeTips.apply(null,arguments)}}},[i("div",{staticClass:"select-block"},[i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}})],1),e._v(" "+e._s(s.endIndex)+" ")])]:e._e(),e.mode===e.tableMode.TeacherEvaluate?[i("div",{staticClass:"start-index"},[i("div",{staticClass:"select-block",on:{click:function(a){return a.stopPropagation(),e.handleClickSubLevelItem(t,n,s.startIndex)}}},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].data===s.startIndex?i("img",{attrs:{src:a("7aa6")}}):i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}})],1),e._v(" "+e._s(s.startIndex)+" ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:null!==s.endIndex,expression:"subLevel.endIndex !== null"}],staticClass:"end-index",on:{click:function(a){return a.stopPropagation(),e.handleClickSubLevelItem(t,n,s.endIndex)}}},[i("div",{staticClass:"select-block"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].data===s.endIndex?i("img",{attrs:{src:a("7aa6")}}):i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}})],1),e._v(" "+e._s(s.endIndex)+" ")])]:e._e()],2)})):e._e(),e.mode===e.tableMode.StudentEvaluate?[e._l(t[e.headerType.AchievementLevel].subLevelDescription,(function(s,n){return e.formBodyData&&e.formBodyData[t.rowId]&&null!==e.formBodyData[t.rowId].data?i("div",{key:n,staticClass:"sub-level-item"},[i("div",{staticClass:"start-index"},[i("div",{staticClass:"select-block"},[e.formBodyData[t.rowId].data===s.startIndex?i("img",{attrs:{src:a("7aa6")}}):e._e()]),e.formBodyData[t.rowId].data===s.startIndex?[e._v(" "+e._s(s.startIndex)+" ")]:e._e()],2),i("div",{directives:[{name:"show",rawName:"v-show",value:null!==s.endIndex,expression:"subLevel.endIndex !== null"}],staticClass:"end-index"},[i("div",{staticClass:"select-block"},[e.formBodyData[t.rowId].data===s.endIndex?i("img",{attrs:{src:a("7aa6")}}):e._e()]),e.formBodyData[t.rowId].data===s.endIndex?[e._v(e._s(s.endIndex))]:e._e()],2)]):e._e()})),e.formBodyData&&e.formBodyData[t.rowId]&&null===e.formBodyData[t.rowId].data?i("div",{staticClass:"no-level-data"},[e._v(" The teacher has not graded you yet. ")]):e._e()]:e._e()],2)]),n.type!==e.headerType.AchievementLevel&&n.type!==e.headerType.LevelDescriptor&&n.type!==e.headerType.Indicators?i("div",{staticClass:"selected-icon"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].teacherEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("teacher-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].studentEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("student-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].peerEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.PeerEvaluate)?i("peer-icon"):e._e()],1):e._e()]:e._e(),n.type===e.headerType.LevelDescriptor?[i("div",{staticClass:"sub-level-data",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"sub-level-desc"},[t[e.headerType.AchievementLevel].isSelfInput&&e.mode===e.tableMode.Edit?e._e():e._l(t[e.headerType.AchievementLevel].subLevelDescription,(function(t,a){return i("div",{key:a,staticClass:"sub-level-desc-item"},[i("a-tooltip",{attrs:{placement:"topLeft",mouseEnterDelay:1}},[i("template",{slot:"title"},[e._v(" "+e._s(t.description)+" ")]),e._v(" "+e._s(t.description)+" "),t.description&&e.mode===e.tableMode.TeacherEvaluate?i("a-tooltip",{attrs:{placement:"top",title:"Add to comment"}},[i("a-icon",{staticClass:"my-copy-item-icon",style:{color:"#999"},attrs:{type:"copy"},on:{click:function(a){return e.handleUseClicked(t.description)}}})],1):e._e()],2)],1)})),t[e.headerType.AchievementLevel].isSelfInput&&e.mode===e.tableMode.Edit?e._l(t[e.headerType.AchievementLevel].subLevelDescription,(function(t,a){return i("div",{key:a,staticClass:"sub-level-desc-input-item"},[i("a-input",{staticClass:"my-desc-input",model:{value:t.description,callback:function(a){e.$set(t,"description",a)},expression:"subLevel.description"}})],1)})):e._e()],2)]),i("div",{staticClass:"selected-icon"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].teacherEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("teacher-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].studentEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("student-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].peerEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.PeerEvaluate)?i("peer-icon"):e._e()],1)]:e._e(),n.type===e.headerType.Indicators&&e.mode===e.tableMode.Edit?[i("div",{staticClass:"sub-level-data",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"sub-level-indicator"},e._l(t[e.headerType.Indicators].subLevelIndicators,(function(t,a){return i("div",{key:a,staticClass:"sub-level-indicator-item"},[i("a-input",{staticClass:"my-indicator-input",model:{value:t.indicator,callback:function(a){e.$set(t,"indicator",a)},expression:"subIndicator.indicator"}})],1)})),0)]),i("div",{staticClass:"selected-icon"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].teacherEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("teacher-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].studentEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("student-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].peerEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.PeerEvaluate)?i("peer-icon"):e._e()],1)]:e._e(),e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate||e.mode===e.tableMode.PeerEvaluate?[n.type===e.headerType.Indicators?[i("div",{staticClass:"sub-level-data",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"sub-level-indicator"},e._l(t[e.headerType.Indicators].subLevelIndicators,(function(t,a){return i("div",{key:a,staticClass:"sub-level-indicator-item"},[i("div",{staticClass:"my-indicator-text"},[e._v(" "+e._s(t&&t.indicator?t.indicator:"")+" "),t&&t.indicator&&e.mode===e.tableMode.TeacherEvaluate?i("a-tooltip",{attrs:{placement:"top",title:"Add to comment"}},[i("a-icon",{staticClass:"my-copy-item-icon",style:{color:"#999"},attrs:{type:"copy"},on:{click:function(a){return e.handleUseClicked(t.indicator)}}})],1):e._e()],1)])})),0)]),i("div",{staticClass:"selected-icon"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].teacherEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("teacher-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].studentEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("student-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].peerEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.PeerEvaluate)?i("peer-icon"):e._e()],1)]:e._e(),n.type===e.headerType.Comment?[i("div",{staticClass:"comment-indicator-input"},[i("a-textarea",{staticClass:"my-text-input",staticStyle:{height:"100%"},attrs:{placeholder:""},on:{blur:function(a){return e.handleUpdateField(n,t)}},model:{value:t[e.headerType.Comment].name,callback:function(a){e.$set(t[e.headerType.Comment],"name",a)},expression:"item[headerType.Comment].name"}})],1)]:e._e(),n.type.startsWith(e.headerType.UserDefine)?[i("div",{staticClass:"indicator-data"},[e._v(" "+e._s(t[n.type].name)+" ")]),i("div",{staticClass:"selected-icon"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].teacherEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("teacher-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].studentEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate)?i("student-icon"):e._e(),e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].peerEvaluation===n.type&&(e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.PeerEvaluate)?i("peer-icon"):e._e()],1)]:e._e()]:e._e(),n.type!==e.headerType.Evidence||e.mode!==e.tableMode.TeacherEvaluate&&e.mode!==e.tableMode.StudentEvaluate&&e.mode!==e.tableMode.PeerEvaluate?e._e():[i("div",{staticClass:"evidence-data"},[e.formBodyData&&e.formBodyData[t.rowId]&&e.formBodyData[t.rowId].evidenceIdList?[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.tableMode.TeacherEvaluate||e.mode===e.tableMode.StudentEvaluate,expression:"mode === tableMode.TeacherEvaluate || mode === tableMode.StudentEvaluate"}],class:{"evidence-info":!0,"exist-evidence":t[e.headerType.Evidence].num},on:{click:function(a){return e.handleAddEvidenceLine(s,t,a)}}},[i("add-icon",{directives:[{name:"show",rawName:"v-show",value:!e.formBodyData[t.rowId].evidenceIdList.length,expression:"!formBodyData[item.rowId].evidenceIdList.length"}]}),i("add-small-green-icon",{directives:[{name:"show",rawName:"v-show",value:e.formBodyData[t.rowId].evidenceIdList.length,expression:"formBodyData[item.rowId].evidenceIdList.length"}]}),i("div",{staticClass:"evidence-num"},[e._v("( "+e._s(e.formBodyData[t.rowId].evidenceIdList.length?e.formBodyData[t.rowId].evidenceIdList.length:0)+" ) ")])],1)]:e._e()],2)]],2):e._e()})),e.mode===e.tableMode.Edit?[i("div",{staticClass:"add-more-header"},[i("a-popconfirm",{staticClass:"rubric-delete-popconfirm",attrs:{title:"Delete this line ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleDeleteLine(t)}}},[i("template",{slot:"icon"},[i("div",{staticClass:"rubric-big-delete"},[i("img",{staticClass:"big-delete-icon",attrs:{src:a("dfe9")}})])]),i("img",{staticClass:"delete-row",attrs:{src:a("4165")}})],2)],1)]:e._e()],2)})),0)]),e.mode===e.tableMode.Edit?i("div",{staticClass:"add-new-line",on:{click:e.handleAddNewLine}},[i("div",{staticClass:"add-new-line-item"},[i("add-green-icon")],1)]):e._e(),i("a-modal",{attrs:{destroyOnClose:"",width:"1200px","dialog-style":{top:"20px"},footer:null},on:{ok:e.handleEnsureSelectCriteria},model:{value:e.selectCurriculumVisible,callback:function(t){e.selectCurriculumVisible=t},expression:"selectCurriculumVisible"}},[i("div",{staticClass:"associate-library"},[i("new-browser",{attrs:{"select-mode":e.selectModel.evaluationMode,"show-menu":e.showMenuList,"default-active-menu":e.defaultActiveMenu,"question-index":"evaluation_"},on:{"select-all-21-century":e.handleSelectAll21CenturyListData,"select-curriculum":e.handleSelectCurriculumListData,"select-subject-specific-skill":e.handleSelectSubjectSpecificSkillListData,"select-century-skill":e.handleSelect21CenturySkillListData,"select-assessmentType":e.handleSelectAssessmentType,"select-idu":e.handleSelectIdu,"ensure-select":e.handleEnsureSelectCriteria}})],1)]),i("a-modal",{attrs:{footer:null,maskClosable:!1,closable:!1,width:"700px",destroyOnClose:""},model:{value:e.inputDescriptionVisible,callback:function(t){e.inputDescriptionVisible=t},expression:"inputDescriptionVisible"}},[i("modal-header",{on:{close:function(t){e.inputDescriptionVisible=!1}}}),i("div",{staticClass:"rubric-modal"},[i("div",{staticClass:"rubric-header"},[i("div",{staticClass:"my-modal-header"},[e._v(" The specific description you entered will be shown to students instead of the curriculum description ")])]),i("div",{staticClass:"description-text"},[e.currentEnterDescriptionLine?i("div",{staticClass:"old-description"},[e._v(" "+e._s(e.currentEnterDescriptionLine[e.headerType.Description].name)+" ")]):e._e(),e.currentEnterCriteriaLine?i("div",{staticClass:"old-description"},[e._v(" "+e._s(e.currentEnterCriteriaLine[e.headerType.Criteria].name)+" ")]):e._e()]),i("div",{staticClass:"description-input"},[i("a-textarea",{attrs:{placeholder:"Enter task specific description",autoSize:{minRows:3,maxRows:6}},on:{blur:e.handleUpdateDescription},model:{value:e.inputDescription,callback:function(t){e.inputDescription=t},expression:"inputDescription"}})],1),i("div",{staticClass:"select-rubric-action"},[i("a-button",{staticClass:"my-rubric-btn",staticStyle:{width:"80px","background-color":"#F5F5F5","border-color":"#F5F5F5","box-shadow":"none",color:"#000000"},attrs:{shape:"round",type:"primary"},on:{click:e.handleCancelDescription}},[e._v("Cancel ")]),i("a-button",{staticClass:"my-rubric-btn",staticStyle:{width:"80px"},attrs:{shape:"round",type:"primary"},on:{click:e.handleEnsureDescription}},[e._v("Confirm ")])],1)])],1)],1)},s=[],n=(a("a9e3"),a("159b"),a("a434"),a("c740"),a("99af"),a("b0c0"),a("4de4"),a("2ca0"),a("a4d3"),a("e01a"),a("ac1f"),a("1276"),a("a02e")),r=a("489c"),o=a("f93e"),l=a("b76a"),c=a.n(l),d=a("3264"),u=a("ab44"),p=a("7849"),h=a("90e8"),g={Criteria:"criteria",AchievementLevel:"achievementLevel",LevelDescriptor:"levelDescriptor",Description:"description",Indicators:"indicators",Comment:"comment",Evidence:"evidence",Novice:"novice",Learner:"learner",Practitoner:"practitoner",Expert:"expert",UserDefine:"user_define_"},m=g,f=a("60f8"),v=a.n(f),y=a("9c2c"),b=a.n(y),w=a("d6ea"),C=a.n(w),k=a("1054"),L=a.n(k),T=a("da06"),I=a.n(T),S=a("60427"),_=a("5d88"),M=a.n(_),x=a("519d"),A=a.n(x),D=a("a615f"),E=a.n(D),O={name:"EvaluationTable",components:{AddIcon:v.a,AddSmallGreenIcon:b.a,AddOpacityIcon:L.a,AddGreenIcon:C.a,QuestionIcon:I.a,ModalHeader:S["a"],draggable:c.a,NewBrowser:d["a"],StudentIcon:A.a,PeerIcon:M.a,TeacherIcon:E.a},props:{initRawData:{type:Array,default:function(){return[]}},initRawHeaders:{type:Array,default:function(){return[]}},formId:{type:String,required:!0},mode:{type:String,required:!0},formType:{type:Number,required:!0},formBodyData:{type:Object,default:function(){return null}},taskLearnOuts:{type:Array,default:function(){return[]}},taskSelfOuts:{type:Array,default:function(){return[]}}},data:function(){return{selectModel:r["a"],selfHeaderAddIndex:1,headers:[],list:[],defaultActiveMenu:u["a"].specificSkills,showMenuList:[u["a"].centurySkills],selectCurriculumVisible:!1,selectKnowledgeTagVisible:!1,selectedKnowledgeTag:[],tagColorList:["pink","orange","green","cyan","blue","red","purple"],currentSelectHeader:null,currentSelectLine:null,tableType:p["a"],tableMode:h["a"],headerType:m,selectedAll21CenturyList:[],selectedCurriculumList:[],selected21CenturySkillList:[],selectedSubjectSpecificSkillList:[],selectedAssessmentList:[],selectedIduList:[],inputDescriptionVisible:!1,inputDescription:null,currentEnterDescriptionLine:null,currentEnterCriteriaLine:null,disabledDraggable:!1,selected21CenturyItem:null,has21CenturySkillNoDescriptionItem:!1,AllCurriculums:o["b"]}},watch:{list:function(e){var t=this,a=!1;this.formType===this.tableType.CenturySkills&&e.forEach((function(e){e.hasOwnProperty(t.headerType.Description)&&!1===e[t.headerType.Description].isDescription&&(t.$logger.info("!!! has21CenturySkillNoDescriptionItem",e),a=!0)})),this.has21CenturySkillNoDescriptionItem=a,this.mode===this.tableMode.TeacherEvaluate?this.headers.forEach((function(e){e.type===t.headerType.Evidence&&(e.visible=!0)})):this.headers.forEach((function(e){e.type===t.headerType.Evidence&&(e.visible=!1)}))}},created:function(){var e=this;if(this.$logger.info("["+this.mode+"] EvaluationTable created formType "+this.formType,"initRawHeaders",this.initRawHeaders,"initRawData",this.initRawData," formBodyData",this.formBodyData),-1===[h["a"].Edit,h["a"].Preview,h["a"].TeacherEvaluate,h["a"].StudentEvaluate,h["a"].PeerEvaluate].indexOf(this.mode)&&this.$confirm({title:"Parameter error",content:"Please make sure your link is correct, the current evaluation mode is "+this.mode+".",centered:!0,onOk:function(){e.$emit("error-mode")},onCancel:function(){e.$emit("error-mode")}}),this.mode===h["a"].TeacherEvaluate&&"teacher"!==this.$store.getters.currentRole&&this.$confirm({title:"Access denied",content:"Only teachers have access to teacher mode",centered:!0,onOk:function(){e.$emit("error-mode")},onCancel:function(){e.$emit("error-mode")}}),this.initRawHeaders.length)this.headers=this.initRawHeaders;else if(this.formType===p["a"].Rubric)this.headers=[{label:"Criteria",previewLabel:"Criteria",type:m.Criteria,editable:!1,editing:!1,required:!0,visible:!0},{label:"Achievement Level",previewLabel:"Achievement Level",type:m.AchievementLevel,editable:!1,editing:!1,required:!0,visible:!0},{label:"Level descriptor",previewLabel:"Level descriptor",type:m.LevelDescriptor,editable:!1,editing:!1,required:!0,visible:!0},{label:"Task specific indicators",previewLabel:"Task specific indicators",type:m.Indicators,editable:!1,editing:!1,required:!0,visible:!0},{label:"Evidence",previewLabel:"Evidence",type:m.Evidence,editable:!1,editing:!1,required:!0,visible:!0}];else if(this.formType===p["a"].Rubric_2)this.headers=[{label:"Description",previewLabel:"Description",type:m.Description,editable:!1,editing:!1,required:!0,visible:!0},{label:"Unnamed level",previewLabel:"Unnamed level",type:m.UserDefine,editable:!0,editing:!1,required:!1,visible:!0},{label:"Evidence",previewLabel:"Evidence",type:m.Evidence,editable:!1,editing:!1,required:!0,visible:!0}];else if(this.formType===p["a"].CenturySkills){var t=parseInt(this.$store.getters.bindCurriculum);this.headers=1===t||2===t?[{label:"Criteria",previewLabel:"Criteria",type:m.Criteria,editable:!1,editing:!1,required:!0,visible:!0},{label:"21st Century Skills",previewLabel:"21st Century Skills",type:m.Description,editable:!1,editing:!1,required:!0,visible:!0},{label:"Novice",previewLabel:"Novice",type:m.UserDefine+"Novice",editable:!0,editing:!1,required:!1,visible:!0},{label:"Learner",previewLabel:"Learner",type:m.UserDefine+"Learner",editable:!0,editing:!1,required:!1,visible:!0},{label:"Practitoner",previewLabel:"Practitoner",type:m.UserDefine+"Practitoner",editable:!0,editing:!1,required:!1,visible:!0},{label:"Expert",previewLabel:"Expert",type:m.UserDefine+"Expert",editable:!0,editing:!1,required:!1,visible:!0},{label:"Comment",previewLabel:"Comment",type:m.Comment,editable:!1,editing:!1,required:!0,visible:!0},{label:"Evidence",previewLabel:"Evidence",type:m.Evidence,editable:!1,editing:!1,required:!0,visible:!0}]:[{label:"21st Century Skills",previewLabel:"21st Century Skills",type:m.Description,editable:!1,editing:!1,required:!0,visible:!0},{label:"Novice",previewLabel:"Novice",type:m.UserDefine+"Novice",editable:!0,editing:!1,required:!1,visible:!0},{label:"Learner",previewLabel:"Learner",type:m.UserDefine+"Learner",editable:!0,editing:!1,required:!1,visible:!0},{label:"Practitoner",previewLabel:"Practitoner",type:m.UserDefine+"Practitoner",editable:!0,editing:!1,required:!1,visible:!0},{label:"Expert",previewLabel:"Expert",type:m.UserDefine+"Expert",editable:!0,editing:!1,required:!1,visible:!0},{label:"Comment",previewLabel:"Comment",type:m.Comment,editable:!1,editing:!1,required:!0,visible:!0},{label:"Evidence",previewLabel:"Evidence",type:m.Evidence,editable:!1,editing:!1,required:!0,visible:!0}]}this.$logger.info("["+this.mode+"] form headers ",this.headers),this.initRawData.length?this.list=this.initRawData:this.$store.getters.isIBTeacher||!this.taskLearnOuts.length&&!this.taskSelfOuts.length?this.handleAddNewLine():this.handleAddNewLineWithTaskOuts(),n["LibraryEventBus"].$on(n["LibraryEvent"].ContentListSelectClick,this.handleContentListSelectClick),n["LibraryEventBus"].$on(n["LibraryEvent"].CenturySkillsSelect,this.handleCenturySkillsSelect),n["LibraryEventBus"].$on(n["LibraryEvent"].CancelCenturySkillsSelect,this.handleCancelCenturySkillsSelect)},destroyed:function(){n["LibraryEventBus"].$off(n["LibraryEvent"].ContentListSelectClick,this.handleContentListSelectClick),n["LibraryEventBus"].$off(n["LibraryEvent"].CenturySkillsSelect,this.handleCenturySkillsSelect),n["LibraryEventBus"].$off(n["LibraryEvent"].CancelCenturySkillsSelect,this.handleCancelCenturySkillsSelect),this.$logger.info("["+this.mode+"] off NewClickableKnowledgeTag ContentListSelectClick handler")},methods:{handleContentListSelectClick:function(e){"evaluation_"===e.questionIndex&&(this.$logger.info("["+this.mode+"] evaluation handleContentListSelectClick hit",e),n["LibraryEventBus"].$emit(n["LibraryEvent"].ContentListSelectedListUpdate,{id:e.subKnowledgeId}))},handleEditHeader:function(e){this.disabledDraggable=!0,this.$logger.info("disabled Draggable"),this.$logger.info("["+this.mode+"] handleEditHeader",e),e.editable?(this.headers.forEach((function(e){0===e.label.length&&(e.label=e.previewLabel)})),this.headers.forEach((function(t){t===e?(t.editing=!0,t.previewLabel=t.label):t.editing=!1}))):this.$logger.info("["+this.mode+"] current header not editable",e)},handleUpdateHeader:function(){this.headers.forEach((function(e){0===e.label.length&&(e.label=e.previewLabel)})),this.headers.forEach((function(e){e.editing=!1})),this.disabledDraggable=!1},handleAddNewHeader:function(e){this.$logger.info("["+this.mode+"] handleAddNewHeader this.selfHeaderTypeIndex "+this.selfHeaderAddIndex+" hIndex "+e);var t=this.headerType.UserDefine+this.selfHeaderAddIndex,a=[];this.headers.forEach((function(e){return a.push(e.type)}));while(-1!==a.indexOf(t))this.selfHeaderAddIndex++,t=this.headerType.UserDefine+this.selfHeaderAddIndex;var i={label:"Unnamed Level ",previewLabel:"Unnamed Level ",type:t,editable:!0,editing:!1,visible:!0};this.headers.splice(e+1,0,i);var s=JSON.parse(JSON.stringify(this.list));s.forEach((function(e){e[i.type]={name:null}})),this.list=s,this.$logger.info("["+this.mode+"] after update list",this.list),this.selfHeaderAddIndex++},handleRemoveHeader:function(e){this.$logger.info("["+this.mode+"] handleRemoveHeader ",e);var t=this.headers.findIndex((function(t){return t.type===e.type}));-1!==t&&this.headers.splice(t,1);var a=JSON.parse(JSON.stringify(this.list));a.forEach((function(t){delete t[e.type]})),this.list=a,this.$logger.info("["+this.mode+"] after delete column update list",this.list)},handleAddNewLine:function(){this.$logger.info("["+this.mode+"] handleAddNewLine ");var e={},t=this.generateRowId();e.rowId=t,this.headers.forEach((function(a){e[a.type]={name:null,rowId:t}})),this.formType===this.tableType.CenturySkills?(e[this.headerType.Description]={name:null,rowId:t,parentNameList:[],isDescription:!0},e[this.headerType.Evidence]={num:0,rowId:t}):this.formType===this.tableType.Rubric?(e.isSelectedIBLine=!1,e.isSelfInputLine=!1,e[this.headerType.Criteria]={rowId:t,name:null,isSelfInput:!1},e[this.headerType.AchievementLevel]={rowId:t,subLevelDescription:[],isSelfInput:!1},e[this.headerType.Indicators]={rowId:t,subLevelIndicators:[],isSelfInput:!1},e[this.headerType.Evidence]={num:0,rowId:t}):this.formType===this.tableType.Rubric_2&&(e[this.headerType.Evidence]={num:0,rowId:t}),this.$logger.info("["+this.mode+"] init new line ",e),this.list.push(e)},handleAddNewLineWithTaskOuts:function(){var e=this;this.$logger.info("["+this.mode+"] handleAddNewLineWithTaskOuts ",this.taskLearnOuts,this.taskSelfOuts);var t=this.taskLearnOuts.concat(this.taskSelfOuts);t.forEach((function(t){var a={},i=e.generateRowId();a.rowId=i,e.headers.forEach((function(e){a[e.type]={name:null,rowId:i}})),e.formType===e.tableType.CenturySkills?(a[e.headerType.Description]={name:t.name,rowId:i,parentNameList:t.parentNameList,isDescription:!0},a[e.headerType.Evidence]={num:0,rowId:i},e.$logger.info("["+e.mode+"] init new line ",a),e.list.push(a)):e.formType===e.tableType.Rubric_2&&(a[e.headerType.Description].name=t.name,a[e.headerType.Evidence]={num:0,rowId:i},e.$logger.info("["+e.mode+"] init new line ",a),e.list.push(a))}))},handleDragEnd:function(){this.$logger.info("["+this.mode+"] handleDragEnd",this.headers)},handleDeleteLine:function(e){this.$logger.info("["+this.mode+"] handleDeleteLine",e),this.mode===h["a"].Edit&&(this.list=this.list.filter((function(t){return t!==e})))},handleClickBodyItem:function(e,t){this.$logger.info("["+this.mode+"]["+this.mode+"] handleClickBodyItem "+t.label,e,"header",t),(-1!==[m.Indicators,m.AchievementLevel,m.LevelDescriptor,m.UserDefine].indexOf(t.type)||t.type.startsWith(m.UserDefine))&&this.$emit("update-evaluation",{formId:this.formId,evaluationMode:this.mode,rowId:e.rowId,value:t.type,evaluateUserEmail:this.$store.getters.email,evaluateUserName:this.$store.getters.nickname,data:null})},handleClickSubLevelItem:function(e,t,a){this.$logger.info(a+" ["+this.mode+"]["+this.mode+"] handleClickSubLevelItem "+t.label,e,"header",t),(-1!==[m.Indicators,m.AchievementLevel,m.LevelDescriptor,m.UserDefine].indexOf(t.type)||t.type.startsWith(m.UserDefine))&&this.$emit("update-evaluation",{formId:this.formId,evaluationMode:this.mode,rowId:e.rowId,value:t.type,evaluateUserEmail:this.$store.getters.email,evaluateUserName:this.$store.getters.nickname,data:a})},handleSwitchModeTips:function(){this.$message.warn("Please switch to evaluation mode first!")},handleAddCriteria:function(e,t,a){if(a.preventDefault(),a.stopPropagation(),this.$logger.info("["+this.mode+"] handleAddCriteria "+e.type,e,t),this.mode===h["a"].Edit){if(this.formType===this.tableType.Rubric_2)this.showMenuList=[u["a"].learningOutcomes,u["a"].specificSkills,u["a"].assessmentType],this.defaultActiveMenu=u["a"].learningOutcomes;else if(this.formType===this.tableType.Rubric)this.showMenuList=[u["a"].specificSkills,u["a"].idu],this.defaultActiveMenu=u["a"].specificSkills;else if(this.formType===this.tableType.CenturySkills){var i=parseInt(this.$store.getters.bindCurriculum);this.$logger.info("CenturySkills header.type "+e.type,e.type===this.headerType.Description,e.type===this.headerType.Criteria),e.type===this.headerType.Description?1===i||2===i?(this.showMenuList=[u["a"].all21Century],this.defaultActiveMenu=u["a"].all21Century):(this.showMenuList=[u["a"].centurySkills],this.defaultActiveMenu=u["a"].centurySkills):e.type===this.headerType.Criteria&&(1===i?(this.showMenuList=[u["a"].AUGeneralCapabilities],this.defaultActiveMenu=u["a"].AUGeneralCapabilities):2===i&&(this.showMenuList=[u["a"].NZKeyCompetencies],this.defaultActiveMenu=u["a"].NZKeyCompetencies))}this.selectCurriculumVisible=!0,this.currentSelectHeader=e,this.currentSelectLine=t}},handleInputIBCriteria:function(e,t,a){a.preventDefault(),a.stopPropagation(),this.$logger.info("handleInputIBCriteria "),this.currentSelectHeader=e,this.currentSelectLine=t,this.currentSelectLine.isSelectedIBLine=!1,this.currentSelectLine.isSelfInputLine=!0,this.currentSelectLine[this.headerType.Criteria]={name:"",rowId:this.currentSelectLine.rowId,isSelfInput:!0};for(var i=[],s=0;s<8;s++)0!==s&&s%2!==1||i.push({startIndex:s,endIndex:0===s?null:s+1,description:""});this.currentSelectLine[this.headerType.AchievementLevel]={name:"",rowId:this.currentSelectLine.rowId,subLevelDescription:i,isSelfInput:!0};for(var n=[],r=0;r<5;r++)n.push({indicator:""});this.currentSelectLine[this.headerType.Indicators]={rowId:this.currentSelectLine.rowId,subLevelIndicators:n,isSelfInput:!0},this.$logger.info("self input currentSelectLine with criteria data ",this.currentSelectLine)},handleEnsureSelectCriteria:function(){var e=this;this.$logger.info("["+this.mode+"] handleEnsureSelectCriteria","this.list",this.list),this.selectCurriculumVisible=!1;var t=[];if(this.selectedAll21CenturyList.forEach((function(e){t.push(e)})),this.selectedCurriculumList.forEach((function(e){t.push(e)})),this.selected21CenturySkillList.forEach((function(e){t.push(e)})),this.selectedSubjectSpecificSkillList.forEach((function(e){t.push(e)})),this.selectedAssessmentList.forEach((function(e){t.push(e)})),this.selectedIduList.forEach((function(e){t.push(e)})),this.selected21CenturyItem){var a=[],i=this.selected21CenturyItemParent,s=3;while(i&&s-- >0)a.push(i.name),i=i.parent;var n={name:this.selected21CenturyItem.name,parentNameList:a,isDescription:!1};t.push(n),this.$logger.info("selectedList add selected21CenturyItem",n)}if(this.$logger.info("formType "+this.formType+" selectedList",t),this.formType===this.tableType.CenturySkills){if(t.length>=1){var r=Object.assign(this.currentSelectHeader);r.type===this.headerType.Description?(this.currentSelectLine[this.headerType.Description]={name:t[0].name,rowId:this.currentSelectLine.rowId,parentNameList:t[0].parentNameList,isDescription:t[0].isDescription},this.$logger.info("["+this.mode+"] update currentSelectLine with Description 1 data ",this.currentSelectLine),t.length>1&&t.forEach((function(t,a){if(a>0){var i={},s=e.generateRowId();i.rowId=s,e.headers.forEach((function(e){i[e.type]={name:null,rowId:s}})),i[e.headerType.Description]={name:t.name,rowId:s,parentNameList:t.parentNameList,isDescription:t.isDescription},i[e.headerType.Evidence]={num:0,rowId:s},i.rowId=s,e.$logger.info("["+e.mode+"] CenturySkills add new line with Description data ",i),e.list.push(i)}}))):r.type===this.headerType.Criteria&&(this.currentSelectLine[this.headerType.Criteria]={name:t[0].name,rowId:this.currentSelectLine.rowId},this.$logger.info("["+this.mode+"] update currentSelectLine with criteria 1 data ",this.currentSelectLine),t.length>1&&t.forEach((function(t,a){if(a>0){var i={},s=e.generateRowId();i.rowId=s,e.headers.forEach((function(e){i[e.type]={name:null,rowId:s}})),i[e.headerType.Description]={name:null,rowId:s,parentNameList:[]},i[e.headerType.Criteria]={name:t.name,rowId:i.rowId},i[e.headerType.Evidence]={num:0,rowId:s},i.rowId=s,e.$logger.info("["+e.mode+"] CenturySkills add new line with criteria data ",i),e.list.push(i)}})))}this.list=this.list.filter((function(e){return!e.description||e.description.name||!e.criteria||e.criteria.name})),this.$logger.info("CenturySkills 过滤掉没有Description的行",this.list)}else if(this.formType===this.tableType.Rubric){if(t.length>=1){this.currentSelectLine.isSelectedIBLine=!0,this.currentSelectLine.isSelfInputLine=!1,this.currentSelectLine[this.headerType.Criteria]={name:t[0].name,rowId:this.currentSelectLine.rowId,isSelfInput:!1},this.currentSelectLine[this.headerType.AchievementLevel]={name:t[0].name,rowId:this.currentSelectLine.rowId,subLevelDescription:t[0].subLevelDescription,isSelfInput:!1};var o=[];t[0].subLevelDescription.forEach((function(e){o.push({indicator:""})})),this.currentSelectLine[this.headerType.Indicators]={rowId:this.currentSelectLine.rowId,subLevelIndicators:o,isSelfInput:!1},this.$logger.info("["+this.mode+"] update currentSelectLine with criteria data ",this.currentSelectLine),t.length>1&&t.forEach((function(a,i){if(i>0){var s={},n=e.generateRowId();s.rowId=n,s.isSelectedIBLine=!0,s.isSelfInputLine=!1,e.headers.forEach((function(e){s[e.type]={name:null,rowId:n}})),s[e.headerType.Criteria]={name:a.name,rowId:n,isSelfInput:!1},s[e.headerType.AchievementLevel]={name:a.name,rowId:n,subLevelDescription:a.subLevelDescription,isSelfInput:!1};var r=[];t[0].subLevelDescription.forEach((function(e){r.push({indicator:""})})),s[e.headerType.Indicators]={rowId:e.currentSelectLine.rowId,subLevelIndicators:r,isSelfInput:!1},s[e.headerType.Evidence]={num:0,rowId:n},e.$logger.info("["+e.mode+"] Rubric add new line with criteria data ",s),e.list.push(s)}}))}this.list=this.list.filter((function(e){return!e.criteria||e.criteria.name})),this.$logger.info("Rubric 过滤掉没有criteria的行",this.list)}else this.formType===this.tableType.Rubric_2?(this.$logger.info("["+this.mode+"] tableType.Rubric selectedList",t),t.length>=1&&(this.currentSelectLine[this.headerType.Description]={name:t[0].name,rowId:this.currentSelectLine.rowId},this.$logger.info("["+this.mode+"] update currentSelectLine description with criteria data ",this.currentSelectLine),t.length>1&&t.forEach((function(t,a){if(a>0){var i={},s=e.generateRowId();e.headers.forEach((function(e){i[e.type]={name:null,rowId:s}})),i[e.headerType.Description]={name:t.name,rowId:s},i[e.headerType.Evidence]={num:0,rowId:s},i.rowId=s,e.$logger.info("["+e.mode+"] Rubric description add new line with criteria data ",i),e.list.push(i)}}))),this.list=this.list.filter((function(e){return!e.description||e.description.name})),this.$logger.info("Rubric_2 过滤掉没有Description的行",this.list)):this.$logger.info("["+this.mode+"] rubric form no allow select");this.selectedAll21CenturyList=[],this.selectedCurriculumList=[],this.selected21CenturySkillList=[],this.selectedSubjectSpecificSkillList=[],this.selectedAssessmentList=[],this.selectedIduList=[]},handleUpdateDescription:function(e,t){this.$logger.info("["+this.mode+"] handleUpdateDescription",e,t)},handleUpdateField:function(e,t){this.$logger.info("["+this.mode+"] handleUpdateField",e,t)},handleClickEnterCriteriaDescription:function(e,t){this.$logger.info("["+this.mode+"] handleClickEnterCriteriaDescription",e,t),this.mode===h["a"].Edit&&(this.inputDescription=t[this.headerType.Description].userInputText,this.currentEnterDescriptionLine=t,this.inputDescriptionVisible=!0)},handleClickEnterCriteria:function(e,t){this.$logger.info("["+this.mode+"] handleClickEnterCriteria",e,t),this.mode===h["a"].Edit&&(this.inputDescription=t[this.headerType.Criteria].userInputText,this.currentEnterCriteriaLine=t,this.inputDescriptionVisible=!0)},handleEnsureDescription:function(){this.$logger.info("["+this.mode+"] handleEnsureDescription "+this.inputDescription),this.currentEnterDescriptionLine&&(this.currentEnterDescriptionLine[this.headerType.Description].userInputText=this.inputDescription),this.currentEnterCriteriaLine&&(this.currentEnterCriteriaLine[this.headerType.Criteria].userInputText=this.inputDescription),this.mode===h["a"].Edit&&(this.inputDescriptionVisible=!1,this.currentEnterDescriptionLine=null,this.currentEnterCriteriaLine=null,this.inputDescription=null)},handleCancelDescription:function(){this.$logger.info("["+this.mode+"] handleEnsureDescription "+this.inputDescription),this.currentEnterDescriptionLine=null,this.currentEnterCriteriaLine=null,this.inputDescription=null,this.inputDescriptionVisible=!1},handleAddEvidenceLine:function(e,t,a){a.stopPropagation(),a.preventDefault(),this.$logger.info("["+this.mode+"] handleAddEvidenceLine",e,t),this.$emit("add-evidence",{index:e,data:this.formBodyData[t.rowId],rowId:t.rowId})},handleSelectAll21CenturyListData:function(e){this.$logger.info("["+this.mode+"] EvaluationTable handleSelectAll21CenturyListData",e);var t=[];e.forEach((function(e){var a=e.item,i=[],s=a.originParent,n=3;while(s&&n-- >0)i.push(s.name),s=s.originParent;var r={name:e.item.name,parentNameList:i,isDescription:!0};t.push(r)})),this.selectedAll21CenturyList=t,this.$logger.info("["+this.mode+"] selectedAll21CenturyList ",t)},handleSelectCurriculumListData:function(e){this.$logger.info("["+this.mode+"] EvaluationTable handleSelectCurriculumListData",e);var t=[];e.forEach((function(e){var a={name:e.knowledgeData.name,isDescription:!0};t.push(a)})),this.selectedCurriculumList=t,this.$logger.info("["+this.mode+"] handleSelectCurriculumListData ",t)},handleSelectSubjectSpecificSkillListData:function(e){var t=this;this.$logger.info("["+this.mode+"] EvaluationTable handleSelectSubjectSpecificSkillListData",e);var a=[];e.forEach((function(e){var i=e.knowledgeData.subLevelDescripton,s=[];i.forEach((function(e){var t=e[0],a=t.split("-"),i=parseInt(a[0]),n=null;2===a.length&&(n=parseInt(a[1]));var r=e[1];s.push({startIndex:i,endIndex:n,description:r})})),t.$logger.info("["+t.mode+"] handle subLevel",i,s);var n={name:e.knowledgeData.name,subLevelDescription:s,isDescription:!0};a.push(n)})),this.selectedSubjectSpecificSkillList=a,this.$logger.info("["+this.mode+"] handleSelectSubjectSpecificSkillListData ",a)},handleSelect21CenturySkillListData:function(e){this.$logger.info("["+this.mode+"] EvaluationTable handleSelectCurriculumListData",e);var t=[];e.forEach((function(e){var a=[],i=e.knowledgeData.originParent,s=3;while(i&&s-- >0)a.push(i.name),i=i.originParent;var n={name:e.knowledgeData.name,parentNameList:a,isDescription:!0};t.push(n)})),this.selectedCurriculumList=t,this.$logger.info("["+this.mode+"] handleSelectCurriculumListData ",t),n["LibraryEventBus"].$emit(n["LibraryEvent"].CancelCenturySkillsSelect)},handleSelectAssessmentType:function(e){this.$logger.info("["+this.mode+"] EvaluationTable handleSelectAssessmentType",e);var t=[];e.forEach((function(e){var a={name:e.knowledgeData.name,isDescription:!0};t.push(a)})),this.selectedAssessmentList=t,this.$logger.info("["+this.mode+"] handleSelectAssessmentType ",t)},handleSelectIdu:function(e){var t=this;this.$logger.info("["+this.mode+"] EvaluationTable handleSelectIdu",e);var a=[];e.forEach((function(e){var i=e.knowledgeData.subLevelDescripton,s=[];i.forEach((function(e){var a=e[0],i=[];i=-1!==a.indexOf("–")?a.split("–"):-1!==i.indexOf("-")?a.split("-"):[a],t.$logger.info("indexRangeArray",i,e);var n=parseInt(i[0]),r=null;2===i.length&&(r=parseInt(i[1]));var o=e[1];s.push({startIndex:n,endIndex:r,description:o,isDescription:!0})})),t.$logger.info("["+t.mode+"] handle subLevel",i,s);var n={name:e.knowledgeData.name,subLevelDescription:s};a.push(n)})),this.selectedIduList=a,this.$logger.info("["+this.mode+"] handleSelectIdu ",a)},handleCancelSelectData:function(){},getTableStructData:function(){return this.$logger.info("getTableStructData",this.headers,this.list),{headers:this.headers,list:this.list,formId:this.formId}},generateRowId:function(){var e="row_"+Math.random();while(-1!==this.list.findIndex((function(t){return t.rowId===e})))e="row_"+Math.random();return this.$logger.info("generateRowId "+e),e},handleCenturySkillsSelect:function(e){this.$logger.info("NewBrowser handleCenturySkillsSelect",e),this.selected21CenturyItem=e.item,this.selected21CenturyItemParent=e.parent},handleCancelCenturySkillsSelect:function(){this.selected21CenturyItem=null,this.selected21CenturyItemParent=null},handleUseClicked:function(e){this.$logger.info("handleUseClicked",e),this.$emit("use-clicked-text",e)}}},j=O,B=(a("53f2"),a("0c7c")),N=Object(B["a"])(j,i,s,!1,null,"720d1163",null);t["a"]=N.exports},"11aa":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAsCAYAAADxRjE/AAAAAXNSR0IArs4c6QAABJ1JREFUaEPNmWnI5XMUxz9f+75lCaGQlK3EG5GSFyRrsi/T2IYZqWFGDAaTNWuIPBSFGDOl0YzGTJNRNBJhsrywNUi27Brr0ffpXN153P92527n1VP33Pv//M/v/M75nvOIEbaI2Bw4C7gE2Al4EZihUWSOCHPtDNwAnAusm5x/A4+PHHRErAfsA9wFHDEhqP8Ai0cKOiI2AA4GHgAO6JAFfwHXjAx0Ah8C3Afs2wHYUf4EOGokoCNiE+BI4E5gz4J79gswXdLY0KEjYgvgeODWrBCdmH8HngamSFo9VOiI2Bo4DbgR2LYgws7jt4ATJH1hn6FBR8R2wDm+WMBWBcABfAVcKOn5ls9QoCNie2AScFUJsBl/Bu5xvZbkGj1uA4eOiB2AycCVwJYlzW11dsBJkr5v9xsodETski15KuAWXWSO6rvA2ZLemeg0MOiI2B24DLgA2LgE2Hn8JTBL0mOd/AYC3QZ8PuCaXGY/Ak8Cl7u8DQU6IvY2QKq1jSqAXY+XO+db5W3g0BHhdjwDOBXYsALYebwSmCbplTLfvqVHROyfFeJkwEKoyj4HbgYekuS8LrS+QEeEpaVL2ik1Imy4H4Cn/B1J1hil1nPoTAkDO8JVOWw4X7alwFRJq6qA/XlPoRN4FnBizQhbbr45PkJJL9UB7il0ROyaOuLMGmWtxfcxcDswJskvUMt6FumIaLXmvWo9Gb4F3Dyul/Rrze+Mu/US2prYiu2gGgC/AQuAmZI+q+G/hktX0DktHwocDlgbvAz4eKentrDsLDLrY/u7Ta9oCtx1pCPCO4g7LMwBQ9wPPAisA1yd3a9Tu3b9dQO5CXi2qh4XvVC3kbakvAU4I+Wlj/tR4N580EzAF3LTCQ/2xbsbeFjSH91EuXGks0J4yvgU8IWbk7sJdzzXWzcIn4BFz7RUdK0xyhdvzLOgpJ+6Ba4NHRE+9uOA2cBuuUh5BHDuegt0dDYSR29+lrEPc8L2Wsva+TlgrqTv1ga4FnTuI3zBLgV2zIrjdPBCxbnsrndtNhSng3N8UU7XK7rN27IXK83pjPDFOct5t9ZulpGus15f+W/Pe6cDXglYsS3LvF/epHHUOYUq6GPy4uyRlWHib/7pKpDp8A1wRQ6sXg0Y3J/NkfReHZi6PoXQOYA+ARxWoSMM90LKyo/yAl4EeOJ+LaEX1gWq41cGbVnp8d15XGWuv544rIctgHxCJwFvuxTWVW9VD2l9XgbtS+ZlStnU3P4cg7+eebxobepwFXxH6NwROzWObaDYWs96NZcr3tr3xYqgXX/dKKryuROUL91sSfP6Qlyk8nK+eya7nhtLE/NQ6jXWkiZfauJbFGlP0K67Ll1NzI3FGuQ2SV6A98X+B536wvX1QMD//2hib+TadmH7wrDJD9TxXQM6ItbPsjUF2KzOD7T5WFdbci4o2gw1/L1C9/+gU9h7bWXJuU2DqcaKzidjLbKynxFuvcU4dJvGsNS09KzS2e6C1sbudC6Nhu1aHzc9AeVG/jrgvJJtplWdIT8AnLeLgff7nQZFL2Noi/X9UhBZ9Dhi3vJ8nf86cBVYNSzATuD/Aok9WzfHt1isAAAAAElFTkSuQmCC"},1230:function(e,t,a){"use strict";a("7a69")},"12b5":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 22 22"},children:[{tag:"g",attrsMap:{id:"组_675","data-name":"组 675",transform:"translate(-102.4 -102.4)"},children:[{tag:"path",attrsMap:{id:"路径_466","data-name":"路径 466",style:" fill: rgba(0,0,0,0);",class:"cls-1",d:"M102.4,102.4h22v22h-22Z",transform:"translate(0 0)"}},{tag:"path",attrsMap:{id:"路径_467","data-name":"路径 467",style:" fill: #182552;",class:"cls-2",d:"M107.763,102.4H103.5a1.012,1.012,0,0,0-1.1,1.1v4.263a1.085,1.085,0,0,0,1.1,1.1h4.263a1.085,1.085,0,0,0,1.1-1.1V103.5a1.085,1.085,0,0,0-1.1-1.1Zm0,7.838H103.5a.981.981,0,0,0-1.1.962v4.262a1.085,1.085,0,0,0,1.1,1.1h4.263a1.085,1.085,0,0,0,1.1-1.1V111.2a1.063,1.063,0,0,0-1.1-.962Zm0,7.7H103.5a1.085,1.085,0,0,0-1.1,1.1V123.3a1.012,1.012,0,0,0,1.1,1.1h4.263a1.085,1.085,0,0,0,1.1-1.1v-4.262a1.183,1.183,0,0,0-1.1-1.1ZM115.6,102.4h-4.4a.981.981,0,0,0-.962,1.1v4.263a1.085,1.085,0,0,0,1.1,1.1H115.6a1.085,1.085,0,0,0,1.1-1.1V103.5C116.563,102.813,116.15,102.4,115.6,102.4Zm0,7.838h-4.4a.94.94,0,0,0-.962.962v4.262a1.085,1.085,0,0,0,1.1,1.1H115.6a1.085,1.085,0,0,0,1.1-1.1V111.2A1.167,1.167,0,0,0,115.6,110.238Zm0,7.7h-4.4a1.085,1.085,0,0,0-1.1,1.1V123.3c.138.688.55,1.1,1.1,1.1h4.262a1.085,1.085,0,0,0,1.1-1.1v-4.262A1.063,1.063,0,0,0,115.6,117.938Zm7.7-15.538h-4.262a1.085,1.085,0,0,0-1.1,1.1v4.263a1.085,1.085,0,0,0,1.1,1.1H123.3a1.085,1.085,0,0,0,1.1-1.1V103.5A1.012,1.012,0,0,0,123.3,102.4Zm0,7.838h-4.262a1.085,1.085,0,0,0-1.1,1.1V115.6a1.085,1.085,0,0,0,1.1,1.1H123.3a1.085,1.085,0,0,0,1.1-1.1v-4.4A.981.981,0,0,0,123.3,110.238Zm0,7.7h-4.262a1.085,1.085,0,0,0-1.1,1.1V123.3a1.085,1.085,0,0,0,1.1,1.1H123.3a1.085,1.085,0,0,0,1.1-1.1v-4.262A1.085,1.085,0,0,0,123.3,117.938Z",transform:"translate(0 0)"}}]}]})}},1449:function(e,t,a){"use strict";var i=function(){var e=this,t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"my-unit-plan-preview"},[t.loading?[s("a-skeleton",{attrs:{active:""}})]:[s("a-row",{staticClass:"action-header"},[s("a-col",{staticClass:"action-header-toggle",attrs:{span:"24"}},[s("a-radio-group",{attrs:{"button-style":"solid"},on:{change:t.handleViewModeChange},model:{value:t.viewMode,callback:function(e){t.viewMode=e},expression:"viewMode"}},[s("a-radio-button",{staticClass:"left-button",attrs:{value:"Detail"}},[t._v(" Info ")]),s("a-radio-button",{staticClass:"right-button",attrs:{value:"Preview"}},[t._v(" Detail ")]),s("a-radio-button",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student","teacher"],expression:"['student', 'teacher']"}],staticClass:"right-button",attrs:{value:"Reviews"}},[t._v(" Reviews ")])],1)],1)],1),s("a-row",{staticClass:"top-header"},[s("a-col",{attrs:{span:"24"}},[s("div",{staticClass:"title-line"},[s("div",{staticClass:"name"},[t._v(" "+t._s(t.data.name)+" ")]),s("div",{staticClass:"action-item"},[s("div",{staticClass:"star"},[t.data.createBy!==t.$store.getters.userInfo.email?[t.data.isFavorite?t._e():s("img",{attrs:{src:a("58e7")},on:{click:function(e){return t.handleFavorite(t.data)}}}),t.data.isFavorite?s("img",{attrs:{src:a("24e3")},on:{click:function(e){return t.handleFavorite(t.data)}}}):t._e()]:t._e()],2),this.isOwner||this.isCollaborater?s("div",{staticClass:"edit"},[s("a-button",{attrs:{type:"primary",shape:"round"},on:{click:function(e){return t.handleEditItem(t.data)}}},[s("div",{staticClass:"button-content"},[t._v(" Edit "),s("img",{staticClass:"edit-icon",attrs:{src:a("11aa")}})])])],1):s("div",{staticClass:"edit"},[t.myContentId?s("a-button",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:function(e){return t.handleEditItem({id:t.myContentId})}}},[s("div",{staticClass:"button-content"},[t._v(" Edit in my content "),s("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"edit"}})],1)]):s("a-button",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:t.handleDuplicateItem}},[s("div",{staticClass:"button-content"},[t._v(" Copy "),s("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"copy"}})],1)]),t.data.type===t.typeMap.task?s("a-button",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:t.handleStartTask}},[s("div",{staticClass:"button-content"},[t._v(" Start "+t._s(t.data.buyed?"Session":"")),s("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"play-circle"}})],1)]):t._e()],1)])])])],1),s("a-row",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"author-info"},[s("a-col",{staticClass:"avatar-icon",attrs:{span:"3"}},[s("img",{attrs:{src:t.collaborate.owner&&t.collaborate.owner.avatar}})]),s("a-col",{attrs:{span:"21"}},[s("div",{staticClass:"sub-info"},[s("div",{staticClass:"created-by"},[t._v(" "+t._s(t.data.createBy)+" ")]),s("div",{staticClass:"created-time"},[t.lastChangeSavedTime?[t._v(" "+t._s(t.lastChangeSavedTime)+" ")]:t._e()],2)]),s("div",{staticClass:"star-info"},[s("review-score",{attrs:{review:t.reviewsStats,placement:"bottom"}}),s("a-button",{attrs:{type:"link"}},[t._v(t._s(t._f("percentFormat")(t.reviewsStats.overall))+" ("+t._s(t.reviewsStats.reviewsCount)+" reviews)")])],1)])],1),s("a-space",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"},{name:"show",rawName:"v-show",value:"Reviews"!==t.viewMode,expression:"viewMode !== 'Reviews'"}],staticClass:"author-info"},[s("div",{staticClass:"avatar-icon"},[s("img",{attrs:{src:t.collaborate.owner&&t.collaborate.owner.avatar}})]),s("div",[s("div",{staticClass:"sub-info"},[s("div",{staticClass:"created-by"},[t._v(" "+t._s(t.collaborate.owner&&t.collaborate.owner.nickname)+" ")]),s("div",{staticClass:"created-time"},[t.lastChangeSavedTime?[t._v(" "+t._s(t.lastChangeSavedTime)+" ")]:t._e()],2)]),s("div",{staticClass:"star-info",on:{click:function(){return e.viewMode="Reviews"}}},[s("a-tooltip",{attrs:{placement:"right"}},[s("template",{slot:"title"},[t._v(" "+t._s(t.reviewsStats.reviewsScoreStatDetail&&t.reviewsStats.reviewsScoreStatDetail[4]&&t.reviewsStats.reviewsScoreStatDetail[4].reviewsScoreCount)+" people gave a score of 5 stars ")]),s("a-rate",{attrs:{value:t.reviewsStats.avgReviewsScore,"allow-half":"",disabled:""}})],2)],1)])]),s("a-row",{directives:[{name:"show",rawName:"v-show",value:"Detail"===t.viewMode,expression:"viewMode === 'Detail'"}],staticClass:"data-info"},[s("a-col",{staticClass:"right-detail",attrs:{span:"24"}},[s("div",{staticClass:"sub-detail"},[s("div",{staticClass:"detail-block"},[s("div",{staticClass:"block-main-label"},[t.data.type===t.typeMap.task?[t._v("Task details")]:[t._v("Overview")]],2),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"view-text"},[t._v(" "+t._s(t.data.overview)+" ")])]),t.data.type===t.typeMap.task&&t.data.questionNames.length>0?[s("div",{staticClass:"block-main-label"},[t._v(" Key question(s)/Line(s) of Inquiry ")]),s("div",{staticClass:"detail-block",staticStyle:{margin:"10px"}},[s("div",{staticClass:"keyword-block-content"},[s("div",{staticClass:"content-list"},t._l(t.data.questionNames,(function(e,a){return s("div",{key:a,staticClass:"content-item"},[e?s("div",{staticClass:"question"},[t._v(" "+t._s(e)+" ")]):t._e()])})),0)])])]:t._e(),s("div",{staticClass:"block-main-label"},[t._v(" Customized tags ")]),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"custom-tags"},t._l(t.data.customTags,(function(e,a){return s("div",{key:"tagIndex"+a,staticClass:"tag-item"},[s("a-tooltip",{attrs:{title:e.parentName}},[s("a-tag",{staticClass:"tag"},[t._v(" "+t._s(e.name)+" ")])],1)],1)})),0)]),s("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"block-main-label"},[t._v(" This task contains interactive questions of ")]),s("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"overview-block"},[s("div",{staticClass:"custom-tags"},t._l(t.inActiveTypes,(function(e,a){return s("div",{key:"interActiveIndex"+a,staticClass:"tag-item"},[s("a-tooltip",{attrs:{title:e}},[s("a-tag",{staticClass:"tag",attrs:{color:t.tagColorList[a]}},[t._v(" "+t._s(e)+" ")])],1)],1)})),0)]),s("div",{staticClass:"block-main-label"},[t._v(" Learning Objectives ")]),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"learn-question-tag"},[s("div",{staticClass:"learn-out",staticStyle:{margin:"10px"}},[s("ui-learn-out-sub",{attrs:{"learn-outs":t.data.learnOuts,"self-outs":t.data.selfOuts,"class-info-list":t.itemsList}})],1)])]),t.data.inquiry?[s("div",{staticClass:"block-main-label"},[t._v(" Big idea ")]),s("div",{staticClass:"inquiry-block-content"},[s("div",{staticClass:"inquiry"},[t._v(" "+t._s(t.data.inquiry)+" ")])])]:t._e(),t.data.materialList&&t.data.materialList.length?[s("div",{staticClass:"block-main-label"},[t._v(" Material list ")]),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"material-list"},t._l(t.data.materialList,(function(e,a){return s("div",{key:a,staticClass:"material-item"},[s("div",{staticClass:"material-name"},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"material-link",on:{click:function(a){return t.handleOpenLink(e.link)}}},[t._v(" "+t._s(e.link)+" ")])])})),0)])]:t._e(),t.data.rwc?[s("div",{staticClass:"block-main-label"},[t._v(" Real World Connection(s) ")]),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"view-text"},[t._v(" "+t._s(t.data.rwc)+" ")])])]:t._e()],2)])])],1),s("a-row",{directives:[{name:"show",rawName:"v-show",value:"Preview"===t.viewMode,expression:"viewMode === 'Preview'"}],staticClass:"preview-data-info"},[s("a-col",{staticClass:"slide-preview",attrs:{span:"24"}},[t.data.scenarios||t.data.inquiry||t.data.questions&&t.data.questions.length?s("div",{staticClass:"data-detail-wrapper"},[t.data.scenarios?[s("div",{staticClass:"block-main-label"},[t._v(" Sustainable development goal ")]),s("div",{staticClass:"detail-block"},t._l(t.data.scenarios,(function(e,a){return s("div",{key:a,staticClass:"scenario-item ref-block"},[s("div",{staticClass:"scenario-block-content"},[s("div",{staticClass:"content-list"},[s("div",{staticClass:"content-item"},[s("div",{staticClass:"question"},[e.description?[s("a-tooltip",{attrs:{title:e.description,placement:"top"}},[t._v(" "+t._s(e.sdgName)+" ")])]:[t._v(" "+t._s(e.sdgName))]],2),s("div",{staticClass:"tags"},t._l(e.sdgKeyWords,(function(e,a){return s("div",{key:"tagIndex"+a,staticClass:"tag-item"},[s("a-tag",{staticClass:"tag"},[t._v(" "+t._s(e.name)+" ")])],1)})),0)])])])])})),0)]:t._e(),t.data&&t.data.inquiry?[s("div",{staticClass:"detail-block"},[s("div",{staticClass:"block-main-label"},[t._v(" Big idea ")]),s("div",{staticClass:"inquiry-block-content"},[s("div",{staticClass:"inquiry"},[t._v(" "+t._s(t.data.inquiry)+" ")])])])]:t._e(),t.data&&t.data.questions&&t.data.questions.length?[s("div",{staticClass:"block-main-label"},[t._v(" Key question(s)/Line(s) of Inquiry ")]),s("div",{staticClass:"detail-block"},[s("div",{staticClass:"keyword-block-content"},[t.data.questions&&t.data.questions.length?s("div",{staticClass:"content-list"},t._l(t.data.questions,(function(e,a){return s("div",{key:"qIndex"+a,staticClass:"content-item"},[e&&e.name?s("div",{staticClass:"question"},[t._v(" "+t._s(e.name)+" ")]):t._e()])})),0):t._e()])])]:t._e()],2):t._e(),t.type===t.typeMap.task&&t.data.presentationId&&t.imgList.length>0?[s("div",{staticClass:"top-icon-groups"},[s("a-col",{staticClass:"material-row"},[Object.keys(t.currentPageMaterial).length>0?s("div",{staticClass:"icon-group"},[t.currentPageMaterial.hasOwnProperty("text")?s("a-badge",{attrs:{count:t.showMaterialSize("text")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("text")}}},[s("text-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Text")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("image")?s("a-badge",{attrs:{count:t.showMaterialSize("image")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("image")}}},[s("image-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Image")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("video")?s("a-badge",{attrs:{count:t.showMaterialSize("video")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("video")}}},[s("video-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Video")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("audio")?s("a-badge",{attrs:{count:t.showMaterialSize("audio")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("audio")}}},[s("audio-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Audio")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("iframe")?s("a-badge",{attrs:{count:t.showMaterialSize("iframe")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("iframe")}}},[s("youtube-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Youtube")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("pdf")?s("a-badge",{attrs:{count:t.showMaterialSize("pdf")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("pdf")}}},[s("pdf-type-svg"),s("div",{staticClass:"icon-text"},[t._v("PDF")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("website")?s("a-badge",{attrs:{count:t.showMaterialSize("website")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("website")}}},[s("url-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Website")])],1)]):t._e()],1):t._e()])],1),s("a-skeleton",{attrs:{loading:t.slideLoading,active:""}},[s("div",{ref:"slide",staticClass:"slide-select-wrapper"},[s("div",{staticClass:"slide-select"},[s("div",{staticClass:"slide-select-and-preview"},[s("div",{staticClass:"slide-preview",style:{width:"600px"}},[s("a-carousel",{ref:"carousel",attrs:{arrows:"","after-change":t.onChangePage}},[s("div",{staticClass:"custom-slick-arrow",staticStyle:{left:"10px",zIndex:"9"},attrs:{slot:"prevArrow"},slot:"prevArrow"},[s("a-icon",{attrs:{type:"left-circle"}})],1),s("div",{staticClass:"custom-slick-arrow",staticStyle:{right:"10px",zIndex:"9"},attrs:{slot:"nextArrow"},slot:"nextArrow"},[s("a-icon",{attrs:{type:"right-circle"}})],1),t._l(t.imgList,(function(e,t){return s("div",{key:t},[s("img",{attrs:{src:e}})])}))],2),t.currentPageItem?s("div",{staticClass:"plugin-tags"},[s("a-row",{staticClass:"tag-row"},[t.currentPageItem.data.bloomLevel?s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Bloom's Taxonomy:")]),s("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[t._v(t._s(t.currentPageItem.data.bloomLevel))])]):t._e(),t.currentPageItem.data.knowledgeLevel?s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Knowledge dimension(s):")]),s("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[t._v(t._s(t.currentPageItem.data.knowledgeLevel))])]):t._e()]),s("a-row",{staticClass:"tag-row"},[t.currentPageItem.data.verbs&&t.currentPageItem.data.verbs.length>0?s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Command terms:")]),t._l(t.currentPageItem.data.verbs,(function(e,a){return s("span",{key:a,staticClass:"tag-value",staticStyle:{color:"#15C39A"}},[t._v(t._s(e))])}))],2):t._e(),t.currentPageTips?s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Tip added:")]),s("span",{staticClass:"tag-value",staticStyle:{color:"#0054FF"}},[t._v(t._s(t.currentPageTips.tip))])]):t._e()]),t.currentPageItem.data.learnOuts&&t.currentPageItem.data.learnOuts.length>0?s("a-row",{staticClass:"tag-row"},[s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Learning Objectives:")]),t._l(t.currentPageItem.data.learnOuts,(function(e,a){return s("span",{key:a,staticClass:"tag-value",staticStyle:{color:"#00BCF2"}},[s("a-tooltip",{attrs:{title:e.path,overlayStyle:{"z-index":"3000"}}},[t._v(t._s(e.name)+" ")])],1)}))],2)]):t._e(),s("a-row",{staticClass:"tag-row"},[s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("This is a "),s("span",[t._v(t._s(t.currentPageItem.type))]),t._v(" slide")])])])],1):t._e(),t.imgList&&t.imgList.length?s("div",{staticClass:"page-info"},[t._v(" "+t._s(t.currentImgIndex+1)+" / "+t._s(t.imgList.length)+" ")]):t._e(),s("div",{staticClass:"carousel-page"},[s("div",{staticClass:"img-list-wrapper"},[s("div",{staticClass:"img-list"},t._l(t.imgList,(function(e,a){return s("div",{key:"index"+a,staticClass:"img-item",on:{click:function(e){return t.handleGotoImgIndex(a)}}},[s("img",{attrs:{src:e}})])})),0)])])],1)])])])])]:t._e(),t.type===t.typeMap.evaluation?[s("evaluation-table-preview",{attrs:{"evaluation-id":t.data.id}})]:t._e()],2)],1),s("a-row",{directives:[{name:"show",rawName:"v-show",value:"Reviews"===t.viewMode,expression:"viewMode === 'Reviews'"}],staticClass:"reviews-info"},["student"===t.currentRole?s("a-col",{staticClass:"slide-reviews",attrs:{span:"24"}},[s("rate-by-percent",{attrs:{rates:t.reviewsStats}}),s("reviews-preview",{attrs:{id:t.id,role:"student",list:t.ReviewsTask.ReviewsTaskList,save:t.ReviewsTask.ReviewsTaskSave,del:t.ReviewsTask.ReviewsTaskDelete,myReview:t.ReviewsTask.ReviewsTaskMyReview}})],1):s("a-col",{staticClass:"slide-reviews",attrs:{span:"24"}},[s("reviews-preview",{attrs:{id:t.id,role:"teacher",list:t.ReviewsTeacher.ReviewsTeacherList,save:t.ReviewsTeacher.ReviewsTeacherSave,del:t.ReviewsTeacher.ReviewsTeacherDelete,myReview:t.ReviewsTeacher.ReviewsTeacherMyReview,canEdit:!0},on:{update:t.loadReviewStats}})],1)],1)],s("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"800px",zIndex:6e3,title:"My Materials"},on:{ok:function(e){t.materialVisible=!1},cancel:function(e){t.materialVisible=!1}},model:{value:t.materialVisible,callback:function(e){t.materialVisible=e},expression:"materialVisible"}},[s("task-material-preview",{attrs:{"current-page-element-lists":t.currentPageElementLists,"filter-type":t.filterMaterialType,"current-page-index":t.currentImgIndex}})],1),s("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"900px",zIndex:5e3,title:null},on:{ok:function(e){t.mediaVisible=!1},cancel:function(e){t.mediaVisible=!1}},model:{value:t.mediaVisible,callback:function(e){t.mediaVisible=e},expression:"mediaVisible"}},[s("media-preview",{attrs:{"media-list":t.mediaList,"material-type":t.filterMaterialType}})],1)],2)},s=[],n=a("5530"),r=(a("a9e3"),a("d81d"),a("a630"),a("3ca3"),a("d3b7"),a("6062"),a("ddb0"),a("159b"),a("b0c0"),a("823b")),o=a("3f76"),l=a("69b3"),c=a("8c95"),d=a("c621"),u=a("972f"),p=a("7eee"),h=a("d33b"),g=a("873a"),m=a("542c"),f=a("91ff"),v=a("d980"),y=a("dd6e"),b=a("abb8"),w=a("e11c"),C=a("9afb"),k=a("f93e"),L=a("2934"),T=a("5225"),I=a("9fb0"),S=a("8ded"),_=a.n(S),M=a("2f59"),x=a("2f62"),A=a("6b36"),D=a("c2e5"),E=a("ca00"),O=E.formatLocalUTC,j=a("de0d"),B=j.UnitPlanQueryById,N=a("b199"),P=N.TaskQueryById,R=a("9f06"),F=R.EvaluationQueryById,G=a("95c6"),K=G.FavoritesAdd,V=a("56f2"),$=V.SelfStudyTaskBye,U=V.SelfStudyTaskStart,z={name:"CommonPreview",components:{UiLearnOutSub:f["a"],EvaluationTablePreview:u["a"],CommonAssociatePreview:c["a"],NoMoreResources:l["a"],TaskLink:p["a"],MediaPreview:g["a"],TaskMaterialPreview:m["a"],RateByPercent:v["a"],ReviewsPreview:y["a"],ReviewScore:b["a"]},props:{id:{type:String,required:!0},type:{type:Number,required:!0},isLibrary:{type:Boolean,default:!1},myContentId:{type:String,default:null}},mixins:[h["a"],w["a"],M["a"]],computed:Object(n["a"])(Object(n["a"])({},Object(x["e"])({userMode:function(e){return e.app.userMode},currentRole:function(e){return e.user.currentRole}})),{},{lastChangeSavedTime:function(){if(this.data){r["info"]("lastChangeSavedTime data",this.data);var e=this.data.updateTime||this.data.createTime;if(e)return O(e)}return""},inActiveTypes:function(){var e=[];return this.itemsList&&(e=this.itemsList.map((function(e){return e.type}))),Array.from(new Set(e))}}),mixin:[M["a"]],data:function(){return{loading:!0,slideLoading:!1,copyLoading:!1,data:null,imgList:[],viewMode:"Detail",RATE_TOOLTIPS:k["y"],ReviewsTask:A,ReviewsTeacher:D,tagColorList:["pink","orange","green","cyan","blue","red","purple"],activeContentType:-1,typeMap:o["e"],subPreviewVisible:!1,currentImgIndex:0,initPrompts:[],reviewsStats:{avgReviewsScore:0,reviewsScoreStatDetail:[],reviewsCount:0,effectiveness:0,overall:0,quality:0,studentsEngagement:0}}},created:function(){r["info"]("CommonPreview id "+this.id+" type "+this.type),this.loadData()},methods:{loadData:function(){var e=this;r["info"]("loadData "+this.id+" type "+this.type),this.loading=!0,this.type===this.typeMap["unit-plan"]?B({id:this.id}).then((function(t){r["info"]("UnitPlanQueryById "+e.id,t.result),e.data=t.result,e.oldForm=e.data,e.data&&e.data.image&&(e.imgList=[e.data.image])})).finally((function(){e.loading=!1,e.queryContentCollaborates(e.id,e.type)})):this.type===this.typeMap.task?P({id:this.id}).then((function(t){r["info"]("TaskQueryById "+e.id,t.result),e.data=t.result,e.loading=!1,e.oldForm=e.data,e.queryContentCollaborates(e.id,e.type),e.loadThumbnail(),e.data.presentationId&&e.getClassInfo(e.data.presentationId)})):this.type===this.typeMap.evaluation&&F({id:this.id}).then((function(t){r["info"]("EvaluationQueryById "+e.id,t.result),e.data=t.result,e.oldForm=e.data,e.data&&e.data.image&&(e.imgList=[e.data.image])})).finally((function(){e.loading=!1,e.queryContentCollaborates(e.id,e.type)})),Object(L["a"])(k["q"]).then((function(t){t.success&&(r["info"]("DICT_PROMPT_TYPE",t.result),e.initPrompts=t.result)})),this.loadReviewStats()},handleAuthCallback:function(){this.$logger.info("Preview handleAuthCallback"),"loadThumbnail"===this.currentMethodName?this.loadThumbnail():"handleDuplicateItem"===this.currentMethodName&&this.handleDuplicateItem()},loadThumbnail:function(){var e=this;this.$logger.info("Preview loadThumbnail ",this.data),this.data.presentationId?this.isLibrary?Object(d["d"])({taskId:this.data.id}).then((function(t){if(t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden){var a=t.result.pageObjects;e.thumbnailList=[],a.length?a.forEach((function(t){e.imgList.push(t.contentUrl),e.thumbnailList.push({contentUrl:t.contentUrl,id:t.pageObjectId}),e.slideLoading=!1,e.$logger.info("current imgList ",e.imgList)})):(e.imgList=[],e.slideLoading=!1)}else e.$logger.info("等待授权事件通知"),e.currentMethodName="loadThumbnail"})):Object(d["d"])({taskId:this.data.id}).then((function(t){if(t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden){var a=t.result.pageObjects;e.thumbnailList=[],a.length?a.forEach((function(t){e.imgList.push(t.contentUrl),e.thumbnailList.push({contentUrl:t.contentUrl,id:t.pageObjectId}),e.slideLoading=!1,e.$logger.info("current imgList ",e.imgList)})):(e.imgList=[],e.slideLoading=!1)}else e.$logger.info("等待授权事件通知"),e.currentMethodName="loadThumbnail"})):this.slideLoading=!1},loadReviewStats:function(){var e=this,t=null;t="student"===this.currentRole?A["ReviewsTaskStats"]:D["ReviewsTeacherStats"],t&&t({taskId:this.id,purchasesId:this.id}).then((function(t){t.success&&(e.reviewsStats=t.result)}))},handleSelectContentType:function(e){r["info"]("handleSelectContentType "+e),this.activeContentType=e},handleSubPreviewClose:function(){r["info"]("handleSubPreviewClose"),this.subPreviewVisible=!1},handleViewModeChange:function(){this.$logger.info("handleViewModeChange "+this.viewMode)},handleFavorite:function(e){var t=this;r["info"]("handleFavorite",e),K({sourceId:e.id,sourceType:e.type}).then((function(a){r["info"]("FavoritesAdd ",a),e.isFavorite=!e.isFavorite,t.data.isFavorite=e.isFavorite,t.$emit("favoritiesAdd",Object(n["a"])({},t.data))}))},handleGotoImgIndex:function(e){this.$logger.info("handleGotoImgIndex "+e),this.currentImgIndex=e,this.$refs.carousel.goTo(e)},handleEditItem:function(e){e.type=this.type,r["info"]("handleEditItem",e),e.type===o["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===o["e"].task?window.open("/teacher/task-redirect/"+e.id,"_blank"):e.type===o["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleDuplicateItem:function(){var e=this;this.$logger.info("handleDuplicateItem",this.data),this.$confirm({title:"Confirm to copy",content:"Are you sure to copy "+this.data.name+" ?",centered:!0,onOk:function(){e.copyLoading=!0,Object(C["Duplicate"])({id:e.data.id,type:e.data.type}).then((function(t){t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden?(e.$logger.info("Duplicate response",t),e.$message.success("Copy successfully")):e.currentMethodName="handleDuplicateItem"})).finally((function(){e.copyLoading=!1}))}})},handleStartTask:function(){var e=this;this.$confirm({title:"Confirm to start",content:"Are you sure to start "+this.data.name+" ?",centered:!0,onOk:function(){e.copyLoading=!0,e.data.buyed||k["X"].SCHOOL===e.userMode?e.handleStartSession(e.data.id):$({taskId:e.data.id}).then((function(t){t.success&&e.handleStartSession(e.data.id)})).finally((function(){e.copyLoading=!1}))}})},handleOpenLink:function(e){window.open(e,"_blank")},handleStartSession:function(e){var t=this;this.copyLoading=!0,U({taskId:e}).then((function(e){if(t.$logger.info("StartOpenSession res",e),e.success){t.copyLoading=!1;var a=T["a"]+"s/"+e.result.classId+"?token="+_.a.get(I["a"]);t.$logger.info("try open "+a),window.location.href=a}else t.$message.warn("StartLesson Failed! "+e.message)})).finally((function(){t.copyLoading=!1}))}}},q=z,Q=(a("7569"),a("0c7c")),H=Object(Q["a"])(q,i,s,!1,null,"0a1695ec",null);t["a"]=H.exports},"17db":function(e,t,a){"use strict";a("35b1")},"182c":function(e,t,a){"use strict";a("bf0a")},1899:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"common-link"},[i("div",{staticClass:"link-group-wrapper"},[e.groups.length&&!e.linkGroupLoading?[i("draggable",{attrs:{disabled:!e.canEdit,animation:"300",group:"group",move:e.onMove},model:{value:e.groups,callback:function(t){e.groups=t},expression:"groups"}},e._l(e.groups,(function(t,s){return i("div",{directives:[{name:"show",rawName:"v-show",value:!(e.hiddenEmptyGroup&&0===t.contents.length),expression:"!(hiddenEmptyGroup && group.contents.length === 0)"}],key:s,staticClass:"link-group"},[i("div",{staticClass:"group-item"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.groupName,expression:"group.groupName"}],staticClass:"group-header"},[i("div",{staticClass:"group-left-info"},[i("div",{staticClass:"group-name"},[t.editing?e._e():i("div",{staticClass:"group-name-text"},[e._v(" "+e._s(t.groupName?t.groupName:"Untitled")+" ")]),t.editing?i("div",{staticClass:"group-name-input"},[i("a-input",{staticClass:"group-name-input",on:{pressEnter:function(a){return e.handleToggleEditGroupName(t,s)}},model:{value:e.newGroupName,callback:function(t){e.newGroupName=t},expression:"newGroupName"}})],1):e._e()]),e.canEdit?i("div",{staticClass:"group-edit-icon",on:{click:function(a){return e.handleToggleEditGroupName(t,s)}}},[i("a-tooltip",[i("template",{slot:"title"},[e._v(" Rename ")]),t.editing?e._e():i("a-icon",{style:{fontSize:"20px",color:"#15C39A"},attrs:{type:"edit"}})],2),t.editing?i("a-icon",{style:{fontSize:"20px",color:"#15C39A"},attrs:{type:"check"}}):e._e()],1):e._e()]),e.canEdit?i("div",{staticClass:"group-right-info"},[i("div",{staticClass:"group-action"},[i("a-button",{style:{"background-color":"#fff",color:"#000",border:"none"},attrs:{type:"primary"},on:{click:function(a){return e.handleLinkGroup(t)}}},[i("div",{staticClass:"btn-text"},[e._v(" + Link ")])])],1),i("a-popconfirm",{attrs:{"cancel-text":"No","ok-text":"Yes",title:"Delete group?"},on:{confirm:function(a){return e.handleDeleteGroup(t)}}},[i("span",{staticClass:"delete-action"},[i("img",{attrs:{src:a("1ffa")}})])])],1):e._e()]),i("draggable",{staticStyle:{width:"100%","min-height":"50px"},attrs:{disabled:!e.canEdit,animation:"300",group:"link-content"},on:{add:e.handleDragContent,update:e.handleDragContent,end:e.handleDragEnd},model:{value:t.contents,callback:function(a){e.$set(t,"contents",a)},expression:"group.contents"}},e._l(t.contents,(function(t){return i("div",{key:t.id,staticClass:"group-link-item"},[i("div",{staticClass:"left-info"},[i("div",{staticClass:"icon"},[i("content-type-icon",{attrs:{type:t.type}})],1),i("div",{staticClass:"name",on:{click:function(a){return e.handleViewDetail(t)}}},[i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[e._v(" Click and drag tasks to move between categorys ")]),e._v(" "+e._s(t.name?t.name:"untitled")+" ")],2)],1),t.type===e.typeMap.task?["fa"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag green-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e(),"sa"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag red-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e(),"activity"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag blue-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e()]:e._e(),t.isCreated?i("div",{staticClass:"downloaded-icon"},[i("a-tooltip",{attrs:{placement:"top",title:"already saved in my content"}},[i("downloaded-svg")],1)],1):e._e()],2),i("div",{staticClass:"right-info"},[i("div",{staticClass:"date"},[e._v(e._s(e._f("dayjs")(t.createTime)))]),i("div",{staticClass:"status"},[0===t.status?[e._v("Draft")]:e._e(),1===t.status?[e._v("Published")]:e._e()],2),e.canEdit?i("div",{staticClass:"more-action-wrapper action-item-wrapper"},[i("a-dropdown",[i("a-icon",{staticStyle:{"margin-right":"8px"},attrs:{type:"more"}}),i("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[i("a-menu-item",[i("a-popconfirm",{attrs:{title:e.$t("teacher.my-content.action-delete")+"?","cancel-text":"No","ok-text":"Yes"},on:{confirm:function(a){return e.handleDeleteLinkItem(t)}}},[i("a",{staticClass:"delete-action",attrs:{href:"#"}},[i("a-icon",{attrs:{type:"delete"}}),e._v(" "+e._s(e.$t("teacher.my-content.action-delete"))+" ")],1)])],1),i("a-menu-item",[i("a",{on:{click:function(a){return e.handleEditLinkItem(t)}}},[i("a-icon",{attrs:{type:"form"}}),e._v(" "+e._s(e.$t("teacher.my-content.action-edit"))+" ")],1)])],1)],1)],1):e._e()])])})),0)],1)])})),0)]:e._e()],2),i("a-modal",{attrs:{"dialog-style":{top:"0px"},footer:null,destroyOnClose:"",width:"900px"},model:{value:e.selectLinkContentVisible,callback:function(t){e.selectLinkContentVisible=t},expression:"selectLinkContentVisible"}},[i("div",{staticClass:"my-modal-title",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.linkTitle)+" ")]),i("div",{staticClass:"link-content-wrapper"},[i("new-my-content",{attrs:{"default-group-name":e.subDefaultGroupName,"filter-type-list":e.subFilterTypeList,"from-id":e.fromId,"from-type":e.fromType,"group-name-list":e.groupNameList,mode:"common-link","selected-list":e.selectedList,"show-create":e.showCreate,"show-tabs":e.showTabs},on:{cancel:function(t){e.selectLinkContentVisible=!1},ensure:e.handleEnsureSelectedLink}})],1)]),i("a-drawer",{attrs:{closable:!1,visible:e.previewVisible,destroyOnClose:"",placement:"right",width:"1000px"},on:{close:function(t){e.previewVisible=!1}}},[i("div",{staticClass:"preview-wrapper-row"},[i("div",{staticClass:"view-back"},[i("a-button",{staticClass:"preview-back-btn",attrs:{type:"primary",shape:"round"},on:{click:function(t){e.previewVisible=!1}}},[i("a-icon",{style:{"font-size":"12px"},attrs:{type:"left"}}),e._v("Back")],1)],1),e.previewCurrentId&&e.previewType?i("div",{staticClass:"detail-wrapper"},[i("common-preview-v2",{attrs:{id:e.previewCurrentId,type:e.previewType}})],1):e._e()])])],1)},s=[],n=a("2909"),r=(a("a9e3"),a("159b"),a("d3b7"),a("498a"),a("9afb")),o=a("9586"),l=a("1e7f"),c=a("3f76"),d=a("8f46"),u=a("823b"),p=a("adfc"),h=a("b76a"),g=a.n(h),m=a("1077"),f=a.n(m),v={name:"PlanLink",components:{ContentTypeIcon:d["a"],NewMyContent:l["a"],MyContentSelector:o["a"],CommonPreviewV2:p["a"],draggable:g.a,DownloadedSvg:f.a},props:{fromType:{type:Number,required:!0},fromId:{type:String,required:!0},filterType:{type:Number,default:0},hiddenEmptyGroup:{type:Boolean,default:!1},canEdit:{type:Boolean,default:!0},isLibrary:{type:Boolean,default:!1}},computed:{groupNameList:function(){var e=[];return this.groups.forEach((function(t){e.push(t.groupName)})),e}},data:function(){return{defaultGroupName:"Untitled category",defaultGroupNameEditMode:"view",defaultGroupOtherContents:[],linkGroupLoading:!0,ownerLinkGroupList:[],othersLinkGroupList:[],groups:[],subDefaultGroupName:["Untitled category"],currentGroupId:null,selectLinkContentVisible:!1,typeMap:c["e"],previewVisible:!1,previewCurrentId:"",previewType:"",subFilterTypeList:[c["e"].evaluation],showCreate:!0,showTabs:!0,linkTitle:"Link Content",editingGroup:"",groupRransition:[],newGroupName:null,selectedList:[]}},created:function(){this.$logger.info("load PlanLink with id["+this.fromId+"] fromType["+this.fromType+"]"),this.subFilterTypeList=[c["e"].task],this.getAssociate()},methods:{getAssociate:function(){var e=this;this.$logger.info("GetAssociate id["+this.fromId+"] fromType["+this.fromType+"]"),this.linkGroupLoading=!0,Object(r["GetAssociate"])({id:this.fromId,type:this.fromType,published:this.isLibrary?1:0}).then((function(t){e.$logger.info("CommonLink GetAssociate response",t),e.groups=t.result.groups,e.$logger.info("formatted owner",t.result.owner),e.$logger.info("formatted others",t.result.others),e.othersLinkGroupList=[],e.ownerLinkGroupList=t.result.owner,e.groups.forEach((function(t){t.editing=!1,t.contents=[],e.ownerLinkGroupList.forEach((function(e){e.group===t.groupName&&(t.contents=e.contents)}))})),e.groups=e.groups.sort((function(e,t){return e.groupName?1:-1})),e.$logger.info("formatted groups",e.groups),e.$logger.info("ownerLinkGroupList",e.ownerLinkGroupList),t.result.others.forEach((function(t){var a;(a=e.othersLinkGroupList).unshift.apply(a,Object(n["a"])(t.contents))})),e.$logger.info("othersLinkGroupList",e.othersLinkGroupList),e.$emit("group-name-list-update")})).finally((function(){e.linkGroupLoading=!1}))},handleEnsureSelectedLink:function(e){this.$logger.info("handleEnsureSelectedLink",e),this.selectLinkContentVisible=!1,this.getAssociate()},handleLinkGroup:function(e){var t=this;this.$logger.info("handleLinkGroup",e),this.subDefaultGroupName=e.groupName,this.selectLinkContentVisible=!0,this.selectedList=[],e.contents.forEach((function(e){t.selectedList.push(e.type+"-"+e.id)})),this.fromType===c["e"]["unit-plan"]?this.subFilterTypeList=[c["e"].task]:this.filterType===c["e"].task&&(this.subFilterTypeList=[c["e"].evaluation,c["e"]["unit-plan"]])},handleToggleEditGroupName:function(e,t){var a=this;this.$logger.info("handleToggleEditGroupName",e),e.editing?function(){var i="Untitled group ",s=1;while(1){var n=!0;if(a.groups.forEach((function(e){e.groupName===i+s&&(n=!1)})),n){i+=s;break}s++}e.groupName=a.newGroupName&&a.newGroupName.trim().length?a.newGroupName:i,Object(r["AddOrSaveGroupName"])({fromId:a.fromId,fromType:a.fromType,id:e.id,groupName:e.groupName}).then((function(e){a.$logger.info("AddOrSaveGroupName",e)})).finally((function(){e.editing=!1,a.$set(a.groups,t,e)}))}():(this.newGroupName=e.groupName,e.editing=!0,this.$set(this.groups,t,e))},handleDeleteGroup:function(e){var t=this;this.$logger.info("handleDeleteGroup",e),Object(r["DeleteGroup"])({fromId:this.fromId,fromType:this.fromType,id:e.id}).then((function(e){t.$logger.info("DeleteGroup",e),t.getAssociate()}))},handleViewDetail:function(e){u["info"]("handleViewDetail",e),this.previewCurrentId=e.id,this.previewType=e.type,this.previewVisible=!0},handleEditLinkItem:function(e){u["info"]("handleEditLinkItem",e),e.type===c["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===c["e"].task?window.open("/teacher/task-redirect/"+e.id,"_blank"):e.type===c["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleDeleteLinkItem:function(e){var t=this;this.$logger.info("handleDeleteLinkItem",e),Object(r["AssociateCancel"])({fromId:this.fromId,fromType:this.fromType,toId:e.id,toType:e.type}).then((function(e){t.$logger.info("handleDeleteLinkItem response ",e),t.getAssociate()}))},handleDragEnd:function(){var e=this;u["info"]("handleDragEnd ",this.groups),this.groups.forEach((function(t,a){e.$set(e.groups,a,t)})),Object(r["SaveGroupItems"])({fromId:this.fromId,fromType:this.fromType,groups:this.groups}).then((function(t){e.$logger.info("AddOrSaveGroupName",t)})).finally((function(){}))},onMove:function(e,t){return!!e.draggedContext.element.groupName&&!!e.relatedContext.element.groupName},handleDragContent:function(e,t){this.$logger.info("PlanLink handleDragContent",e,this.groups,t);var a=JSON.parse(e.item.dataset.item);this.$logger.info("drag in data ",a)}}},y=v,b=(a("8b49"),a("0c7c")),w=Object(b["a"])(y,i,s,!1,null,"39bd8b28",null);t["a"]=w.exports},"1d3c":function(e,t,a){},"1e7f":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my-content"},[e.showTabs?i("div",{staticClass:"display-type-toggle"},[-1!==e.filterTypeList.indexOf(e.typeMap["unit-plan"])?i("div",{class:{"display-type-item":!0,"active-display-type":e.currentType===e.typeMap["unit-plan"]},on:{click:function(t){return e.handleToggleDisplayType(e.typeMap["unit-plan"])}}},[e._v(" "+e._s(e.$t("teacher.my-content.unit-plan-type"))+" ")]):e._e(),-1!==e.filterTypeList.indexOf(e.typeMap.task)?i("div",{class:{"display-type-item":!0,"active-display-type":e.currentType===e.typeMap.task},on:{click:function(t){return e.handleToggleDisplayType(e.typeMap.task)}}},[e._v(" "+e._s(e.$t("teacher.my-content.tasks-type"))+" ")]):e._e(),-1!==e.filterTypeList.indexOf(e.typeMap.evaluation)?i("div",{class:{"display-type-item":!0,"active-display-type":e.currentType===e.typeMap.evaluation},on:{click:function(t){return e.handleToggleDisplayType(e.typeMap.evaluation)}}},[e._v(" "+e._s(e.$t("teacher.my-content.evaluation-type"))+" ")]):e._e()]):e._e(),e.showCreate?i("div",{staticClass:"create-new-action"},[i("div",{staticClass:"create-action"},[i("a-button",{attrs:{type:"primary",shape:"round",icon:"plus",loading:e.createLoading},on:{click:e.handleEnsureCreate}},[e._v(" Create New "+e._s(e.currentTypeLabel)+" ")])],1)]):e._e(),i("div",{staticClass:"content-wrapper"},[i("a-skeleton",{attrs:{loading:e.skeletonLoading,active:""}},[i("div",{staticClass:"content-list"},["list"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("a-list-item",{key:"item.key",class:{"my-list-item":!0,"active-item":-1!==e.mySelectedList.indexOf(t.type+"-"+t.id),"active-new-item":t.id===e.editId},attrs:{"data-id":t.type+"-"+t.id}},[i("div",{staticClass:"select-block",on:{click:function(a){return e.handleLinkItem(t,a)}}},[-1===e.mySelectedList.indexOf(t.type+"-"+t.id)?i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}}):e._e(),-1!==e.mySelectedList.indexOf(t.type+"-"+t.id)?i("div",{staticClass:"selected-icon"},[i("img",{attrs:{src:a("7aa6")}})]):e._e()],1),i("span",{staticClass:"content-info-left"},[i("content-type-icon",{attrs:{type:t.type}}),i("span",{staticClass:"name-content"},[e.editId===t.id&&"input"===e.createNewNameMode?i("a-input",{ref:"inputRef",attrs:{size:"small",type:"text",placeholder:"Input name"},on:{blur:function(a){return e.handleConfirmName(t)},pressEnter:function(a){return e.handleConfirmName(t)}},model:{value:e.createNewName,callback:function(t){e.createNewName=t},expression:"createNewName"}}):i("a-tooltip",{attrs:{title:"Rename"}},[i("span",{staticClass:"name-text",on:{click:function(a){return e.handleRename(t)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")])])],1)],1),i("span",{staticClass:"content-info-right"},[i("span",{staticClass:"status"},[0===t.status?[e._v("Draft")]:e._e(),1===t.status?[e._v("Published")]:e._e()],2),i("span",{staticClass:"update-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime||t.createTime))+" ")]),i("div",{staticClass:"action"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item",on:{click:function(a){return e.handleViewDetail(t,a)}}},[i("span",{staticClass:"btn-text"},[e._v("Preview")])]),i("div",{staticClass:"action-item",on:{click:function(a){return e.handleEditItem(t)}}},[i("span",{staticClass:"btn-text"},[e._v("Edit")])])]),e.mode===e.displayMode.Link?i("div",{attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link this content to my Unit?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleLinkItem(t,a)}}},[i("span",[i("a-icon",{attrs:{type:"form"}}),e._v(" Link ")],1)])],1)])]):e._e(),e.mode===e.displayMode.Refer?i("div",{attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item refer-item"},[i("a-button",{staticClass:"refer-btn",attrs:{type:"primary"},on:{click:function(a){return e.handleReferItem(t,a)}}},[i("img",{staticClass:"btn-icon btn-icon-white",attrs:{src:a("e568")}}),i("img",{staticClass:"btn-icon btn-icon-color",attrs:{src:a("83d7")}}),i("div",{staticClass:"btn-text"},[e._v(" Refer ")])])],1)])]):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.displayMode.Evaluation,expression:"mode === displayMode.Evaluation"}],attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleLinkItem(t,a)}}},[i("div",{staticClass:"link-item"},[i("img",{staticClass:"link-icon",attrs:{src:a("de1a")}}),e._v(" "+e._s("Link this evaluation to this "+(t.type===e.typeMap.task?"task":t.type===e.typeMap.task?"lesson":""))+" ")])])],1)])])])])])}}],null,!1,2451434729)}):e._e(),"card"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("div",{key:"item.key",staticClass:"my-card-list-item"},[i("div",{staticClass:"cover-img-wrapper"},[i("div",{staticClass:"cover-image",style:{backgroundImage:"url('"+t.image+"')"}})]),i("div",{staticClass:"item-intro"},[i("div",{staticClass:"page-info"},[i("span",{staticClass:"page-num-tag"},[e._v(" 1/1 ")])]),i("div",{staticClass:"main-title",on:{click:function(a){return e.handleViewDetail(t,a)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")]),i("div",{staticClass:"sub-title"},[e._v(" "+e._s(e._f("dayjs")(t.createTime))+" ")])]),i("div",{staticClass:"item-action-wrapper"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.displayMode.Link,expression:"mode === displayMode.Link"}]},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link this content to my Unit?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleLinkItem(t,a)}}},[i("span",[i("a-icon",{attrs:{type:"form"}}),e._v(" Link ")],1)])],1)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.displayMode.Refer,expression:"mode === displayMode.Refer"}]},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item refer-item"},[i("a-button",{staticClass:"refer-btn",attrs:{type:"primary"},on:{click:function(a){return e.handleReferItem(t,a)}}},[i("img",{staticClass:"btn-icon btn-icon-white",attrs:{src:a("e568")}}),i("img",{staticClass:"btn-icon btn-icon-color",attrs:{src:a("83d7")}}),i("div",{staticClass:"btn-text"},[e._v(" Refer ")])])],1)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.displayMode.Evaluation,expression:"mode === displayMode.Evaluation"}]},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleLinkItem(t,a)}}},[i("div",{staticClass:"link-item"},[i("img",{staticClass:"link-icon",attrs:{src:a("de1a")}}),e._v(" "+e._s("Link this evaluation to this "+(t.type===e.typeMap.task?"task":t.type===e.typeMap.task?"lesson":""))+" ")])])],1)])])]),i("div",{staticClass:"card-action-icon"},[-1!==e.mySelectedList.indexOf(t.type+"-"+t.id)?i("img",{attrs:{src:a("7aa6")}}):e._e()])])}}],null,!1,2986142521)}):e._e(),i("div",{staticClass:"modal-ensure-action-line"},[i("a-button",{staticClass:"action-item action-cancel",attrs:{shape:"round"},on:{click:e.handleCancel}},[e._v("Cancel")]),i("a-button",{staticClass:"action-ensure action-item",attrs:{type:"primary",shape:"round",loading:e.ensureLoading},on:{click:e.handleEnsure}},[e._v("Ok")])],1)],1)]),i("a-drawer",{attrs:{destroyOnClose:"",placement:"right",width:"800px",closable:!1,visible:e.previewVisible},on:{close:e.handlePreviewClose}},[i("div",{staticClass:"preview-wrapper"},[i("a-row",{staticClass:"preview-wrapper-row"},[i("a-col",{attrs:{span:"3"}},[i("div",{staticClass:"view-back",on:{click:e.handlePreviewClose}},[i("div",{staticClass:"back-icon"},[i("img",{attrs:{src:a("217a")}})])])]),i("a-col",{attrs:{span:"21"}},[i("div",{staticClass:"detail-wrapper"},[e.previewCurrentId&&e.previewType?i("div",{staticClass:"preview-detail"},[i("common-preview-no-link",{attrs:{id:e.previewCurrentId,type:e.previewType}})],1):e._e()])])],1)],1)])],1)])},s=[],n=a("3835"),r=a("b85c"),o=a("1da1"),l=(a("96cf"),a("a9e3"),a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("fb6a"),a("159b"),a("a434"),a("b0c0"),a("823b")),c=a("ea23"),d=a("7d7a"),u=a("9afb"),p=a("95c6"),h=a("3f76"),g=a("4803"),m=a("8f46"),f=a("4fb2"),v=a("57a5b"),y=a("69b3"),b=a("05be"),w=a.n(b),C=a("8d47"),k=a.n(C),L=a("9f06"),T=a("b199"),I=a("de0d"),S=a("1449"),_={name:"NewMyContent",components:{CommonPreviewNoLink:S["a"],ContentStatusIcon:g["a"],ContentTypeIcon:m["a"],UnitPlanPreview:c["default"],MaterialPreview:d["default"],NoMoreResources:y["a"],PuBuIcon:w.a,ListModeIcon:k.a},props:{filterTypeList:{type:Array,default:function(){return[]}},selectedList:{type:Array,default:function(){return[]}},mode:{type:String,default:v["a"].Link},selectedType:{type:String,default:"created-by-me"},currentId:{type:String,default:""},fromType:{type:Number,required:!0},fromId:{type:String,required:!0},defaultGroupName:{type:String,default:null},showTabs:{type:Boolean,default:!0},showCreate:{type:Boolean,default:!0},noSelectedTips:{type:String,default:"Please select at least one content."}},data:function(){var e=this;return{skeletonLoading:!0,loading:!0,createLoading:!1,loadFailed:!1,myContentList:[],displayMode:v["a"],currentStatus:"all-status",currentStatusLabel:this.$t("teacher.my-content.all-status"),currentType:null,currentTypeLabel:null,currentOwner:"all-owner",currentOwnerLabel:this.$t("teacher.my-content.all-owner"),previewVisible:!1,previewCurrentId:"",previewType:"",pagination:{onChange:function(t){l["info"]("pagination onChange",t),e.pageNo=t,e.loadMyContent()},showTotal:function(e){return"Total ".concat(e," items")},total:0,pageSize:10},pageNo:1,typeMap:h["e"],dataListMode:"list",createdType:"All",createNewName:"",createNewNameMode:"hide",mySelectedList:[],waitCancelAssociateMap:new Map,waitAddAssociateMap:new Map,editId:"",ensureLoading:!1}},watch:{selectedType:function(e){this.$logger.info("watch select type "+e),this.pageNo=1,this.myContentList=[],this.pagination.total=0,this.pagination.pageSize=8,this.loadMyContent()}},created:function(){this.$logger.info("NewMyContent filterTypeList",this.filterTypeList),this.filterTypeList.length&&(this.currentType=this.filterTypeList[0],this.currentTypeLabel=Object(h["b"])(this.filterTypeList[0])),this.$logger.info("currentTypeLabel "+this.currentTypeLabel),this.$logger.info("NewMyContent selectedList",this.selectedList),this.mySelectedList=this.selectedList.slice(),this.loadMyContent()},methods:{loadMyContent:function(){this.loading=!0,"Created by me"===this.createdType?this.getMyContent():"My Favorite"===this.createdType?this.getMyFavorites():"Shared"===this.createdType?(this.loading=!1,this.skeletonLoading=!1,this.$logger.info("shared coming soon!")):this.getMyContent()},handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},getMyContent:function(){var e=this,t=[];this.filterTypeList.forEach((function(e){t.push(h["e"][e])})),Object(u["FindMyContent"])({owner:h["c"][this.currentOwner],types:this.currentType?[this.currentType]:t,pageNo:this.pageNo,pageSize:this.pagination.pageSize,currentId:this.currentId}).then((function(t){l["info"]("getMyContent",t),t.result&&t.result.records&&t.result.records.length?(t.result.records.forEach((function(e,t){e.key=t})),e.myContentList=t.result.records,e.pagination.total=t.result.total):(e.myContentList=[],e.pagination.total=0),l["info"]("myContentList",e.myContentList)})).finally((function(){e.loading=!1,e.skeletonLoading=!1,e.$nextTick((function(){e.$refs.inputRef&&e.$refs.inputRef.focus()}))}))},getMyFavorites:function(){var e=this;this.$logger.info("getMyFavorites"),Object(p["FavoritesGetMyFavorites"])({type:this.currentType,pageNo:this.pageNo,pageSize:this.pagination.pageSize}).then((function(t){e.$logger.info("FavoritesGetMyFavorites response",t),t.result&&t.result.records&&t.result.records.length?(t.result.records.forEach((function(e,t){e.key=t})),e.myContentList=t.result.records,e.pagination.total=t.result.total,e.pagination.current=t.result.current):(e.myContentList=[],e.pagination.total=0)})).finally((function(){e.loading=!1,e.skeletonLoading=!1}))},toggleStatus:function(e,t){l["info"]("toggleStatus "+e+" label "+t),this.currentStatus=e,this.currentStatusLabel=t,this.loadMyContent()},toggleType:function(e,t){l["info"]("toggleType "+e+" label "+t),this.currentType=e,this.currentTypeLabel=t,this.loadMyContent()},toggleOwner:function(e,t){l["info"]("toggleOwner "+e+" label "+t),this.currentOwner=e,this.currentOwnerLabel=t,this.loadMyContent()},handleLinkItem:function(e,t){l["info"]("handleLinkItem",e),t.preventDefault(),t.stopPropagation();var a=e.type+"-"+e.id,i=this.mySelectedList.indexOf(a);-1!==i?(this.mySelectedList.splice(i,1),this.waitCancelAssociateMap.set(a,e),this.waitAddAssociateMap.delete(a)):(this.mySelectedList.push(a),this.waitAddAssociateMap.set(a,e),this.waitCancelAssociateMap.delete(a))},handleViewDetail:function(e,t){l["info"]("my content created by me handleViewDetail",e,t),t.preventDefault(),t.stopPropagation(),this.previewCurrentId=e.id,this.previewType=e.type,this.previewVisible=!0},handlePreviewClose:function(){l["info"]("handlePreviewClose"),this.previewCurrentId="",this.previewType="",this.previewVisible=!1},handleReferItem:function(e,t){l["info"]("handleReferItem",e),t.preventDefault(),t.stopPropagation(),f["b"].$emit(f["a"].ReferContentItem,{item:e})},handleToggleType:function(e){this.$logger.info("handleToggleType "+e),this.createdType=e,this.loadMyContent()},handleToggleDisplayType:function(e){this.$logger.info("handleToggleDisplayType"+e),this.currentType===e?(this.currentType=null,this.currentTypeLabel=null):(this.currentType=e,this.currentTypeLabel=Object(h["b"])(e)),this.$logger.info("after handleToggleDisplayType"+this.currentType),this.loadMyContent()},handleEnsureCreate:function(){var e=this;this.$logger.info("handleEnsureCreate "+this.currentType+" "+this.createNewName),this.createLoading=!0,this.createNewName="",this.currentType===this.typeMap.evaluation?Object(L["EvaluationAddOrUpdate"])({name:this.createNewName}).then((function(t){e.$logger.info("EvaluationAddOrUpdate response",t),e.editId=t.result.id,e.createNewNameMode="input";var a=e.typeMap.evaluation+"-"+e.editId;e.mySelectedList.push(a),e.waitAddAssociateMap.set(a,{id:e.editId,type:e.typeMap.evaluation}),e.loadMyContent()})).finally((function(){e.createLoading=!1})):this.currentType===this.typeMap.task?Object(T["TaskAddOrUpdate"])({name:this.createNewName}).then((function(t){e.$logger.info("TaskAddOrUpdate response",t),e.editId=t.result.id,e.createNewNameMode="input";var a=e.typeMap.task+"-"+e.editId;e.mySelectedList.push(a),e.waitAddAssociateMap.set(a,{id:e.editId,type:e.typeMap.task}),e.loadMyContent()})).finally((function(){e.createLoading=!1})):this.currentType===this.typeMap["unit-plan"]&&Object(I["UnitPlanAddOrUpdate"])({name:this.createNewName}).then((function(t){e.$logger.info("UnitPlanAddOrUpdate response",t),e.editId=t.result.id,e.createNewNameMode="input";var a=e.typeMap["unit-plan"]+"-"+e.editId;e.mySelectedList.push(a),e.waitAddAssociateMap.set(a,{id:e.editId,type:e.typeMap["unit-plan"]}),e.loadMyContent()})).finally((function(){e.createLoading=!1}))},handleCancel:function(){this.$emit("cancel")},handleEnsure:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i,s,o,l,c,d,p,h,g,m,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$logger.info("handleEnsure add group associate",e.waitAddAssociateMap,e.waitCancelAssociateMap,e.defaultGroupName),e.ensureLoading=!0,!e.waitCancelAssociateMap.size&&!e.waitAddAssociateMap.size){t.next=18;break}a={fromId:e.fromId,fromType:e.fromType,groupName:e.defaultGroupName,otherContents:[]},i=Object(r["a"])(e.waitAddAssociateMap);try{for(i.s();!(s=i.n()).done;)o=Object(n["a"])(s.value,2),l=o[0],c=o[1],-1===e.selectedList.indexOf(l)?a.otherContents.push({toId:c.id,toType:c.type}):e.$logger.info("handleEnsure waitAddAssociateMap item is selected skip "+l,c,e.selectedList)}catch(v){i.e(v)}finally{i.f()}d={fromId:e.fromId,fromType:e.fromType,others:[]},p=Object(r["a"])(e.waitCancelAssociateMap);try{for(p.s();!(h=p.n()).done;)g=Object(n["a"])(h.value,2),m=g[0],f=g[1],-1!==e.selectedList.indexOf(m)?d.others.push({toId:f.id,toType:f.type}):e.$logger.info("handleEnsure waitCancelAssociateMap item is no selected skip "+m,f,e.selectedList)}catch(v){p.e(v)}finally{p.f()}if(e.ensureLoading=!0,e.$logger.info("associate data",a),!a.otherContents.length){t.next=14;break}return t.next=14,Object(u["Associate"])(a);case 14:if(e.$logger.info("cancelAssociateData data",d),!d.others.length){t.next=18;break}return t.next=18,Object(u["AssociateCancel"])(d);case 18:e.ensureLoading=!1,e.$emit("ensure");case 20:case"end":return t.stop()}}),t)})))()},handleEditItem:function(e){l["info"]("handleEditItem",e),e.type===h["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===h["e"].task?window.open("/teacher/task-redirect/"+e.id,"_blank"):e.type===h["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleConfirmName:function(e){var t=this;this.createNewNameMode="hide",e.name!==this.createNewName&&(e.name=this.createNewName,Object(u["Rename"])({id:e.id,type:e.type,name:this.createNewName}).then((function(e){t.$logger.info("Rename response",e),e.success||t.$message.error(e.message)})))},handleRename:function(e){var t=this;this.editId=e.id,this.createNewNameMode="input",this.createNewName=e.name,this.$nextTick((function(){t.$refs.inputRef.focus()}))}}},M=_,x=(a("2d67"),a("0c7c")),A=Object(x["a"])(M,i,s,!1,null,"1eae7179",null);t["a"]=A.exports},"1f09":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"27.065",viewBox:"0 0 23 27.065"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#2c2c2c;",d:"M193.621,145H212.2l-9.375,11.1a.221.221,0,0,0-.052.143v13.714a.442.442,0,0,1-.335.429l-6.735,1.684V156.181a.222.222,0,0,0,0-.046l-2.3-10.868a.221.221,0,0,1,.216-.267Zm10.848,16.5H216.4v3.093a.442.442,0,0,1-.442.442H204.028v-3.093A.442.442,0,0,1,204.47,161.5Zm0-4.713H216.4v3.093a.442.442,0,0,1-.442.442H204.028v-3.093A.442.442,0,0,1,204.47,156.784Zm0,9.427H216.4V169.3a.442.442,0,0,1-.442.442H204.028v-3.093A.442.442,0,0,1,204.47,166.21Z",transform:"translate(-193.4 -145)"}}]})}},"1f7f":function(e,t,a){"use strict";a("1d3c")},"1ffa":function(e,t,a){e.exports=a.p+"img/delete.531182ef.png"},"20de":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"30.75",height:"24.6",viewBox:"0 0 30.75 24.6"},children:[{tag:"g",attrsMap:{id:"黄色文件夹",transform:"translate(0)"},children:[{tag:"path",attrsMap:{id:"路径_406","data-name":"路径 406",style:"fill: #ce9f06;",class:"cls-1",d:"M269.187,4.28H258.341L255.592.494A1.286,1.286,0,0,0,254.676,0h-7.638c-.916,0-1.526.988-1.221,2.305l2.749,17.288a1.486,1.486,0,0,0,1.375,1.317h16.8a1.513,1.513,0,0,0,1.375-1.316l2.139-13.173c.305-1.153-.305-2.14-1.07-2.14Z",transform:"translate(-239.833)"}},{tag:"path",attrsMap:{id:"路径_407","data-name":"路径 407",style:"fill: #fff;",class:"cls-2",d:"M358.4,286.514V275.456h18.45v11.058Z",transform:"translate(-349.793 -268.839)"}},{tag:"path",attrsMap:{id:"路径_408","data-name":"路径 408",style:" fill: #ffcd2c;",class:"cls-3",d:"M29.158,229.582H15.641l-3.615-3.806a1.656,1.656,0,0,0-1.1-.5H1.5a1.552,1.552,0,0,0-1.415,2.15L4.64,243.31a1.766,1.766,0,0,0,1.728,1.159H25.413a1.768,1.768,0,0,0,1.729-1.157l3.588-12.076a1.523,1.523,0,0,0-1.572-1.653Z",transform:"translate(0 -219.868)"}}]}]})}},"214d":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-tag"},[a("div",{staticStyle:{"font-family":"Inter-Bold"}},[e._v(" "+e._s(e.knowledge.name)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.tags.length,expression:"tags.length"}],staticClass:"tag-select-wrapper"},[a("a-row",[a("a-col",{attrs:{offset:"0",span:"24"}},[a("div",{staticClass:"skt-tag-list"},e._l(e.tags,(function(t){return a("div",{key:t,staticClass:"skt-tag-item "},[a("a-tag",{staticClass:"tag-item",attrs:{closable:!0},on:{close:function(a){return e.closeTag(t)}}},[e._v(" "+e._s(t)+" ")])],1)})),0)])],1)],1),a("a-spin",{directives:[{name:"show",rawName:"v-show",value:e.tagLoading,expression:"tagLoading"}],staticClass:"spin-loading"}),a("a-row",[a("a-col",[a("div",{staticClass:"tag-search-input"},[a("a-input-search",{staticClass:"search-input",attrs:{size:"large",placeholder:"Search tag"},on:{search:e.searchTag,keyup:e.searchTag},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleKeyup.apply(null,arguments)}},model:{value:e.inputTag,callback:function(t){e.inputTag=t},expression:"inputTag"}})],1)])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.tagSearchList.length||e.inputTag,expression:"tagSearchList.length || inputTag"}],staticClass:"skt-tag-wrapper"},[a("a-row",[a("a-col",{attrs:{offset:"0"}},[a("div",{staticClass:"skt-tag-list"},[a("div",{staticClass:"triangle"}),a("div",{staticClass:"search-tag-wrapper tag-wrapper"},e._l(e.tagSearchList,(function(t){return a("div",{key:t,staticClass:"skt-tag-item"},[a("a-tag",{class:{"tag-item":!0,"tag-disable":e.tags.indexOf(t)>-1},attrs:{draggable:"true"},on:{click:function(a){return e.selectChooseTag(t)}}},[e._v(" "+e._s(t)+" ")])],1)})),0),a("div",{staticClass:"create-tag-wrapper tag-wrapper"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.tagIsExist(e.inputTag,e.tagSearchList)&&e.inputTag&&e.inputTag.length>=1,expression:"!tagIsExist(inputTag,tagSearchList) && inputTag && inputTag.length >= 1"}],staticClass:"skt-tag-create-line",on:{click:e.handleCreateTagByInput}},[a("div",{staticClass:"create-tag-label"},[e._v(" Create ")]),a("div",{staticClass:"create-tag"},[a("a-tag",{staticClass:"created-tag-item"},[e._v(" "+e._s(e.inputTag)+" ")])],1)])])])])],1)],1),e.contentLoading?e._e():a("div",{directives:[{name:"show",rawName:"v-show",value:!e.inputTag,expression:"!inputTag"}],staticClass:"hot-select-wrapper"},[a("a-row",[a("a-col",{attrs:{offset:"0",span:"24"}},[a("div",{staticClass:"title"},[e._v("Hot")]),a("div",{staticClass:"skt-tag-list"},e._l(e.hotList,(function(t,i){return a("div",{key:i,staticClass:"skt-tag-item"},[a("a-tag",{class:{"tag-item":!0,"tag-disable":e.tags.indexOf(t)>-1},on:{click:function(a){return e.addTag(t)}}},[e._v(" "+e._s(t)+" ")])],1)})),0)]),a("a-col",{attrs:{offset:"0",span:"24"}},[a("div",{staticClass:"title"},[e._v("Knowledge")]),a("div",{ref:"knowledgeTagRef",class:{"skt-tag-list":!0,"hide-some":e.isHideSome}},e._l(e.recommendList,(function(t,i){return a("div",{key:i,staticClass:"skt-tag-item "},[a("a-tag",{class:{"tag-item":!0,"tag-disable":e.tags.indexOf(t)>-1},on:{click:function(a){return e.addTag(t)}}},[e._v(" "+e._s(t)+" ")])],1)})),0),a("div",{staticClass:"downUp"},[e.isHideSome?a("a-icon",{attrs:{type:"double-right"},on:{click:e.showAll}}):e._e(),e.isHideSome?e._e():a("a-icon",{attrs:{type:"double-left"},on:{click:e.showAll}})],1)])],1)],1),a("a-skeleton",{attrs:{loading:e.contentLoading,active:""}})],1)},s=[],n=(a("a434"),a("498a"),a("823b")),r=a("db6a"),o=a("d33b4"),l=a("4fcf"),c=l.debounce,d={name:"LearnOutAddTag",components:{},mixins:[o["a"]],computed:{},props:{knowledge:{type:Object,default:function(){}}},data:function(){return{tags:this.knowledge.tags?this.knowledge.tags:[],hotList:[],recommendList:[],tagLoading:!1,contentLoading:!1,visible:!0,inputTag:"",tagName:"",tagSearchList:[],userTags:[],isHideSome:!0}},created:function(){this.debouncedSearchKnowledge=c(this.searchTag,500),this.$logger.info("knowledge ",this.knowledge),this.loadRecommendTags()},watch:{},methods:{handleOk:function(){},closeTag:function(e){this.tags.splice(this.tags.indexOf(e),1),this.$emit("handle-select-tags",this.tags),this.$logger.info("handle-select-tags ",this.tags)},selectChooseTag:function(e){this.addTag(e)},loadRecommendTags:function(){var e=this;this.contentLoading=!0,Object(r["FindRecommendByKnowledgeId"])({knowledgeId:this.knowledge.knowledgeId}).then((function(t){e.$logger.info("loadRecommendTags response",t.result),t.success?(e.hotList=t.result.hots,e.recommendList=t.result.tags,e.contentLoading=!1,setTimeout((function(){e.$refs.knowledgeTagRef.offsetHeight<200&&(e.isHideSome=!1)}),100)):e.$message.error(t.message)}))},addTag:function(e){-1===this.tags.indexOf(e)&&this.tags.push(e),this.$emit("handle-select-tags",this.tags),this.$logger.info("handle-select-tags ",this.tags)},handleKeyup:function(){this.$logger.info("tag handleKeyup ",this.inputTag),this.debouncedSearchKnowledge(this.inputTag),this.handleCreateTagByInput()},handleCreateTagByInput:function(){this.$logger.info("skill handleCreateTagByInput "+this.inputTag),this.addTag(this.inputTag),this.inputTag=""},searchTag:function(){var e=this;n["info"]("searchTag",this.inputTag);var t=this.inputTag;t&&"string"===typeof t&&t.trim().length>=3?Object(r["FindRecommendByKnowledgeId"])({knowledgeId:this.knowledge.knowledgeId,key:t}).then((function(t){n["info"]("searchByDescription",t),e.tagSearchList=t.result.tags})):this.tagSearchList=[]},handleEnsureSelectData:function(){this.addTagVisible=!1,this.knowledge.tags=this.tags,this.$emit("remove-learn-outs",this.tags)},showAll:function(){this.isHideSome=!this.isHideSome}}},u=d,p=(a("9ee6"),a("0c7c")),h=Object(p["a"])(u,i,s,!1,null,"29f8bd7a",null);t["a"]=h.exports},"217a":function(e,t,a){e.exports=a.p+"img/back.c46424eb.png"},"23b3":function(e,t,a){},"23ef":function(e,t,a){"use strict";a("ec87")},"24e3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAmCAYAAAC29NkdAAAAAXNSR0IArs4c6QAAA2BJREFUWEfNmEloFEEUhr83iTHGLQqCMaKIIO4KehARNJLMaDwYMQRF8SxuF8WD4JKgB1HEBZFchIAobogLWWYSoiAo0aCCIgQRcQUXEteAmfST7jjjOHv3lGCdBrr+731dXVNd1UKapi1U4aMaZQZCKcpIhNfAAyya+MFlWUVPWsYNRlHAamA5wlyU8QifgVfAY5Tz4qcxFUOSXdAQSxCOosxJVxz4DpzAYr8EnN/Rpu0MI8weYDNQlJajdGCxVZbREd8vQVBb2Y1Sl0Es/vJD+qmUZbyzL2gbE7GcUZnughMG9kkFB2IzfwlqiJPAJhfQ2K7PgTL6KSCPW8A4TxylTvzsjWSjgtrKNpRjnqCRkPIEwQdMy4GjWNRIgEs2wxHUFibh4wkwJAewuajyBYup9pQZEAxyDmGNuQoGSEq9+Nko2kYpFi+AfANYk4he+hgrGmQ7wmGTZGMsZYMt2IwQMAY1CVIaREO8BUpMcg2yOm1BNQg0jfpoC9oreJ5pshGeYtmC3UCxEaB5SI8t+AiYbZ5thPjQFmwANhjBmYbYi7W2sA4fZ0yzDfGqRK9TRCFv/rt5qHQTpiSyWTiEjx2G7toMxqJWAuwbEGxkDIN4BowwQ8+RorxnEJOljG+x+8GdKAdzRJuJKxvFT70N+yPYTj593EWYZ6aKZ8o9brNAarH+EnQedTMz8NGJMNgzPrdgLzBPKngawSQemkJsBY7nVsdzepNUcCo2nfzYGeQiQrXnMt6C56UicVefXLCdQsKEgEXearlO3aIEv8zkZ3wyqaAzH69QzDDn+Piv39Od/KBMVvI12W2lFPz9pykhjzvARNdjkl2gC2GhlPMpVfe0go5kK1NQbv6DXfdL8lksZc6BLWXLKBgjac/JCdkNTMZeXeQTyCSXsA6mw2qQcQjNwKyM5dOCuE+YSqnkQzacrEYwAtJ2ignTBCzIBp6kTxvdVEkN37LNuxJ0HncLQ8njGsrSbIs4/ZQr9LBGahKXkpznYDxAL1DAaBrQrD+XnKKcLSID71c3zfUIRh+3IoTYj7ArTcF+lJ3i54gbqdi+ngWjokHWIpwGCuMkehDWSrnzx/LcchZ0pleQ+QjXomul8ow+VsgKujyb/Q4aEXQkrzKcItZjf37s5WyqV5db4V8Yk/SC1H4NzQAAAABJRU5ErkJggg=="},"27aa":function(e,t,a){"use strict";a("5bb5")},"27f0":function(e,t){e.exports="data:image/png;base64,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"},"2ae5":function(e,t){e.exports="data:image/png;base64,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"},"2ba1":function(e,t,a){},"2cea":function(e,t,a){},"2d57":function(e,t,a){},"2d67":function(e,t,a){"use strict";a("3c1d")},3111:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"status-icon-item"},["image"===e.type?a("image-type-svg",{style:{height:e.size}}):"video"===e.type?a("video-type-svg",{style:{height:e.size}}):"audio"===e.type?a("audio-type-svg",{style:{height:e.size}}):"iframe"===e.type?a("youtube-type-svg",{style:{height:e.size}}):"website"===e.type?a("url-type-svg",{style:{height:e.size}}):"pdf"===e.type?a("pdf-type-svg",{style:{height:e.size}}):(e.type,a("text-type-svg",{style:{height:e.size}}))],1)},s=[],n=a("8448"),r=a.n(n),o=a("998c"),l=a.n(o),c=a("4084"),d=a.n(c),u=a("8a21"),p=a.n(u),h=a("1eeb"),g=a.n(h),m=a("5a1d"),f=a.n(m),v=a("6631"),y=a.n(v),b={name:"MaterialTypeIcon",components:{TextTypeSvg:r.a,ImageTypeSvg:l.a,VideoTypeSvg:d.a,AudioTypeSvg:p.a,YoutubeTypeSvg:g.a,PdfTypeSvg:f.a,UrlTypeSvg:y.a},props:{type:{type:String,required:!0},size:{type:String,default:"30px"}},data:function(){return{}}},w=b,C=(a("e573"),a("0c7c")),k=Object(C["a"])(w,i,s,!1,null,"59c3a98a",null);t["a"]=k.exports},3361:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"27.909",viewBox:"0 0 28 27.909"},children:[{tag:"defs"},{tag:"path",attrsMap:{id:"liebiao_","data-name":"liebiao ",class:"cls-1",d:"M62,62h6.932v6.93H62V62Zm10.279,0H90v6.93H72.279V62Zm0,10.326H90v7.208H72.279V72.326ZM62,72.326h6.932v7.208H62V72.326Zm0,10.558h6.932v7.024H62V82.885Zm10.279,0H90v7.024H72.279V82.885Z",transform:"translate(-62 -62)"}}]})}},"35b1":function(e,t,a){},"3c1d":function(e,t,a){},"3ccd":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"90",height:"90",viewBox:"0 0 90 90"},children:[{tag:"defs",children:[{tag:"filter",attrsMap:{id:"路径_557",x:"0",y:"0",width:"90",height:"90",filterUnits:"userSpaceOnUse"},children:[{tag:"feOffset",attrsMap:{dy:"6",input:"SourceAlpha"}},{tag:"feGaussianBlur",attrsMap:{stdDeviation:"5",result:"blur"}},{tag:"feFlood",attrsMap:{"flood-color":"#21a28b","flood-opacity":"0.2"}},{tag:"feComposite",attrsMap:{operator:"in",in2:"blur"}},{tag:"feComposite",attrsMap:{in:"SourceGraphic"}}]}]},{tag:"g",attrsMap:{id:"返回按钮",transform:"translate(20604.999 2967)"},children:[{tag:"circle",attrsMap:{id:"椭圆_60","data-name":"椭圆 60",style:" fill: #fff;",class:"cls-1",cx:"21",cy:"21",r:"21",transform:"translate(-20581 -2949)"}},{tag:"g",attrsMap:{class:"cls-3",style:"filter: url(#路径_557);",transform:"matrix(1, 0, 0, 1, -20605, -2967)"},children:[{tag:"path",attrsMap:{id:"路径_557-2","data-name":"路径 557",style:" fill: #15c39a;",class:"cls-2",d:"M30.04,0A30,30,0,1,1,.045,30,30,30,0,0,1,30.04,0Zm0,41.325V34.355A25.659,25.659,0,0,1,47.5,39.584S44.662,26.147,30.04,25.645V18.675L12.577,29.582,30.04,41.325Z",transform:"translate(14.95 9)"}}]}]}]})}},4133:function(e,t,a){"use strict";a("973f")},4198:function(e,t,a){"use strict";a("49af")},4768:function(e,t,a){},4803:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"status-icon-item"},[0===e.status?[a("a-icon",{attrs:{type:"cloud-upload"}})]:e._e()],2)},s=[],n=(a("a9e3"),{name:"ContentStatusIcon",props:{status:{type:Number,default:-1}}}),r=n,o=(a("0f1d"),a("0c7c")),l=Object(o["a"])(r,i,s,!1,null,"7b28124c",null);t["a"]=l.exports},4830:function(e,t,a){},4992:function(e,t,a){e.exports=a.p+"img/default-avatar.db1c5445.png"},"49af":function(e,t,a){},"4d0e":function(e,t,a){"use strict";a("9c35")},"4fb2":function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return n}));var i=a("2b0e"),s=new i["default"],n={LinkToMyContentItem:"LinkToMyContentItem",ToggleSelectContentItem:"ToggleSelectContentItem",ReferContentItem:"ReferContentItem",ReloadMyContent:"ReloadMyContent"}},"506e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"library-wrapper-container"},[a("browser")],1)},s=[],n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"wrapper",staticClass:"library-wrapper",attrs:{"data-version":"v2"},on:{click:e.handleSearchKeyInputBlur}},[i("div",{staticClass:"nav-header",style:{left:e.collapsed?e.$classcipe.sysConfig.collapsedSidebarWidth+"px":e.$classcipe.sysConfig.sidebarWidth+"px"}},[i("div",{staticClass:"header-info"},[i("div",{staticClass:"library-nav-bar"},[i("navigation",{directives:[{name:"show",rawName:"v-show",value:e.libraryMode===e.LibraryMode.browserMode,expression:"libraryMode === LibraryMode.browserMode"}],attrs:{path:e.navPath},on:{pathChange:e.handleNavPathChange}})],1),i("div",{staticClass:"filter-line"},[i("div",{staticClass:"search-bar-line"},[i("div",{staticClass:"search-input",on:{click:function(e){e.stopPropagation()}}},[i("a-input-search",{staticClass:"library-search-input",attrs:{placeholder:"input search text",loading:e.searching,"enter-button":""},on:{search:e.handleSearchKeyFocus},nativeOn:{click:function(t){return e.debouncedSearchKeyFocus.apply(null,arguments)},focus:function(t){return e.debouncedSearchKeyFocus.apply(null,arguments)},keyup:function(t){return e.debouncedSearchKeyFocus.apply(null,arguments)}},model:{value:e.searchKeyword,callback:function(t){e.searchKeyword=t},expression:"searchKeyword"}}),e.searchResultVisible&&(e.searching||e.searchResultList.length)?i("div",{staticClass:"search-result-wrapper"},[e.searching?i("div",{staticClass:"searching"},[i("a-spin",[i("a-icon",{staticStyle:{"font-size":"24px"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)],1):e._e(),e.searching?e._e():i("div",{staticClass:"search-result-list"},[e.searchResultList.length?e._l(e.searchResultList,(function(t,a){return i("div",{key:a,staticClass:"search-result-item",attrs:{"data-from-type":t.fromType},on:{click:function(a){return a.stopPropagation(),e.handleClickSearchResultItem(t)}}},[i("div",{domProps:{innerHTML:e._s(t.tagName)}}),i("div",{staticClass:"from-type"},[i("div",{staticClass:"from-text-tag"},[e._v(" "+e._s(t.fromType)+" ")])])])})):e.searchKeyword?[i("div",{staticClass:"no-result"},[e._v(" No relevant data found! ")])]:e._e()],2)]):e._e()],1),i("div",{staticClass:"switch-icon"},[i("div",{class:{"icon-item":!0,"active-icon":"list"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("list")}}},[i("list-mode-icon")],1),i("div",{class:{"icon-item":!0,"active-icon":"card"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("card")}}},[i("pu-bu-icon")],1)])])])])]),i("div",{staticClass:"library-detail-wrapper"},[e.searchResultVisible&&(e.searching||e.searchResultList.length)?i("div",{staticClass:"library-mask"}):e._e(),i("div",{staticClass:"curriculum-filter-line"},[i("div",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"curriculum-select"},[i("a-select",{directives:[{name:"show",rawName:"v-show",value:e.currentBrowserType!==e.BrowserTypeMap.sdg&&e.curriculumOptions.length,expression:"currentBrowserType !== BrowserTypeMap.sdg && curriculumOptions.length"}],staticClass:"select-curriculum",attrs:{getPopupContainer:function(e){return e.parentElement},"default-value":e.$store.getters.bindCurriculum},on:{change:e.handleCurriculumChange},model:{value:e.currentCurriculumId,callback:function(t){e.currentCurriculumId=t},expression:"currentCurriculumId"}},[e._l(e.curriculumOptions,(function(t,a){return i("a-select-option",{key:a,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),i("div",{staticClass:"arrow-self",attrs:{slot:"suffixIcon"},slot:"suffixIcon"},[i("img",{attrs:{src:a("9c74")}})])],2)],1),i("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"curriculum-select"},[i("a-input",{attrs:{disabled:"",value:"Cambridge"}},[e._v("Cambridge")])],1)]),i("div",{staticClass:"library-detail-nav-wrapper",style:{width:e.leftBrowserWidth},on:{click:function(t){e.libraryMode=e.LibraryMode.browserMode}}},[i("div",{staticClass:"library-content"},[e.hasLeftBlock&&!e.expandedListFlag?i("div",{staticClass:"browser-action"},[i("div",{staticClass:"action-item",on:{click:e.handleViewLeft}},[i("back-svg",{staticStyle:{width:"70px"}})],1)]):e._e(),i("div",{staticClass:"browser-table-wrapper",style:{left:-e.browserMarginLeft+"px"}},[i("div",{staticClass:"browser-table",staticStyle:{width:"15vw"}},[i("div",{staticClass:"browser-type-list"},e._l(parseInt(e.currentCurriculumId)===parseInt(e.curriculumType.IBMYP)?e.browserTypeListForIbMpy:e.browserTypeList,(function(t,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:!e.$store.getters.hiddenIbCurriculumId||t.tagType!==e.TagType.idu&&t.tagType!==e.TagType.skill,expression:"!$store.getters.hiddenIbCurriculumId || (browserTypeItem.tagType !== TagType.idu && browserTypeItem.tagType !== TagType.skill)"}],key:a,class:{"browser-type":!0,"odd-line":a%2===0,"active-line":e.currentBrowserType===t.type},on:{click:function(a){return e.toggleBrowserType(t)}}},[e.currentBrowserType!==t.type?i("dir-icon",{attrs:{"dir-type":"blue"}}):e._e(),e.currentBrowserType===t.type?i("dir-icon",{attrs:{"dir-type":"opened"}}):e._e(),e._v(" "+e._s(t.label)+" "),i("span",{staticClass:"arrow-item"},[i("a-icon",{attrs:{type:"right"}})],1)],1)})),0)]),i("div",{staticClass:"browser-detail"},[e.currentBrowserType===e.BrowserTypeMap.curriculum?i("curriculum-browser",{attrs:{"block-index":e.blockIndex,"curriculum-id":e.currentCurriculumId},on:{clickBlock:e.handleClickBlock,blockCollapse:e.handleBlockCollapse}}):e._e(),e.currentBrowserType===e.BrowserTypeMap.assessmentType?i("assessment-browser",{attrs:{"curriculum-id":e.currentCurriculumId},on:{clickBlock:e.handleClickBlock,"update-data-list":e.handleUpdateDataList,blockCollapse:e.handleBlockCollapse}}):e._e(),e.currentBrowserType===e.BrowserTypeMap.centurySkills?i("general-capability-browser",{attrs:{"block-index":e.blockIndex,"curriculum-id":e.currentCurriculumId},on:{clickBlock:e.handleClickBlock,blockCollapse:e.handleBlockCollapse}}):e._e(),e.currentBrowserType===e.BrowserTypeMap.specificSkills?i("subject-specific-browser",{attrs:{"block-index":e.blockIndex,"curriculum-id":e.currentCurriculumId},on:{clickBlock:e.handleClickBlock,blockCollapse:e.handleBlockCollapse}}):e._e(),e.currentBrowserType===e.BrowserTypeMap.idu?i("idu-browser",{attrs:{"block-index":e.blockIndex,"curriculum-id":e.currentCurriculumId},on:{clickBlock:e.handleClickBlock,blockCollapse:e.handleBlockCollapse}}):e._e(),e.currentBrowserType===e.BrowserTypeMap.sdg?i("sdg-browser",{on:{clickBlock:e.handleClickBlock,"update-data-list":e.handleUpdateDataList,blockCollapse:e.handleBlockCollapse}}):e._e()],1)])])]),i("div",{staticClass:"library-detail-preview-wrapper",style:{width:e.rightBrowserWidth}},[i("div",{staticClass:"expand-icon",style:{left:e.expandedListFlag?"10px":"-20px"},on:{click:e.handleExpandDetail}},[e.expandedListFlag?[i("a-popover",{attrs:{placement:"right"}},[i("template",{slot:"content"},[i("div",{staticClass:"tips-content"},[e._v("Navigate via curriculums")])]),i("a-icon",{staticStyle:{"font-size":"20px",color:"#07AB84"},attrs:{type:"double-right"}})],2)]:e._e(),e.expandedListFlag?e._e():[i("a-icon",{staticStyle:{"font-size":"20px",color:"#07AB84"},attrs:{type:"double-left"}})]],2),i("div",{staticClass:"browser-block-item-wrapper"},[i("div",{staticClass:"recommend-filter-bar"},[i("div",{staticClass:"recommend-item"},[!e.searching&&e.showRecommend?[e._v("Recommended:")]:e._e()],2),i("div",{staticClass:"filter-item"},[i("a-popover",{directives:[{name:"show",rawName:"v-show",value:e.showFilter,expression:"showFilter"}],attrs:{trigger:"click",placement:"bottomLeft",overlayStyle:{"max-height":e.filterHeight+"px",position:"absolute",top:"190px","overflow-y":"auto"," background-clip":"padding-box"," border-radius":"2px","box-shadow":" 0 2px 8px rgb(0 0 0 / 15%"}}},[i("template",{slot:"content"},[i("search-filter",{attrs:{"filter-config":e.filterConfig,"age-options":e.filterAgeOptions,"subject-options":e.filterSubjectOptions,"type-options":e.filterTypeOptions,"filter-fa-options":e.filterFaOptions,"filter-sa-options":e.filterSaOptions,"filter-activity-options":e.filterActivityOptions,"is-disable-age-subject":e.searchType===e.SearchTypeMap.BrowserType||e.searchType===e.SearchTypeMap.CurriculumFilter},on:{"filter-config-update":e.handleUpdateFilterConfig,"update-filter-context":e.handleUpdateFilterContext}})],1),i("div",{staticClass:"filter-item"},[i("filter-icon",{staticClass:"filter-icon"}),i("filter-active-icon",{staticClass:"filter-active-icon"}),i("div",{staticClass:"filter-label"},[e._v(" Filter ")])],1)],2)],1)]),i("div",{staticClass:"browser-block-item-last",style:{"flex-direction":"list"===e.dataListMode?"column":"row"}},["list"!==e.dataListMode||e.searching||e.dataListLoading?e._e():e._l(e.dataList,(function(t,a){return 0===e.currentType||t.type===e.currentType?i("div",{key:a,class:{"data-list-item":!0,"browser-item":!0,"odd-line":a%2===0,"active-line":e.currentDataId===t.id},on:{click:function(a){return e.handleSelectDataItem(t)}}},[i("a-tooltip",{attrs:{mouseEnterDelay:1,placement:"topLeft"}},[i("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),i("content-type-icon",{attrs:{type:t.type}}),i("span",{staticClass:"data-name"},[e._v(" "+e._s(t.name)+" ")]),i("span",{staticClass:"data-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime))+" ")])],2)],1):e._e()})),"card"!==e.dataListMode||e.searching||e.dataListLoading?e._e():[e.dataList.length?i("div",{staticClass:"card-view-mode-wrapper"},[(e.libraryMode===e.LibraryMode.searchMode||e.expandedListFlag,e._l(e.dataList,(function(t,a){return 0===e.currentType||t.type===e.currentType?i("div",{key:a,staticClass:"card-item-wrapper",on:{click:function(a){return e.handleSelectDataItem(t)}}},[i("div",{staticClass:"card-item"},[i("data-card-view",{attrs:{"active-flag":e.currentDataId===t.id,cover:t.image,title:t.name,"update-time":t.updateTime,"content-type":t.type}})],1)]):e._e()})))],2):e._e()],i("div",{directives:[{name:"show",rawName:"v-show",value:e.searching||e.dataListLoading,expression:"searching || dataListLoading"}],staticClass:"loading-wrapper"},[i("a-spin",{attrs:{tip:"searching..."}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.searching&&!e.dataListLoading&&0===e.dataList.length,expression:"!searching && !dataListLoading && dataList.length === 0"}],staticClass:"loading-wrapper"},[e.searchKeyword?i("no-more-resources",{attrs:{tips:"The content you are searching for was not found."}}):i("no-more-resources",{attrs:{tips:""}})],1)],2)])])]),i("a-drawer",{attrs:{destroyOnClose:"",placement:"right",closable:!1,width:"1000px",visible:e.previewVisible},on:{close:e.handlePreviewClose}},[i("div",{staticClass:"preview-wrapper-row"},[i("div",{staticClass:"view-back"},[i("a-button",{staticClass:"preview-back-btn",attrs:{type:"primary",shape:"round"},on:{click:e.handlePreviewClose}},[i("a-icon",{style:{"font-size":"12px"},attrs:{type:"left"}}),e._v("Back")],1)],1),e.previewCurrentId&&e.previewType?i("div",{staticClass:"detail-wrapper"},[i("common-preview-v2",{attrs:{id:e.previewCurrentId,type:e.previewType,"is-library":!0}})],1):e._e()])])],1)},r=[],o=a("5530"),l=(a("d3b7"),a("4de4"),a("498a"),a("159b"),a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"browser-block",attrs:{"data-type":"curriculum"}},[a("div",{staticClass:"browser-block-item",style:{width:"15vw",minWidth:"15vw"}},[e._l(e.mainSubjectList,(function(t,i){return a("div",{key:i,class:{"browser-item":!0,"odd-line":i%2===0,"active-line":e.currentMainSubjectId===t.id},on:{click:function(a){return e.handleSelectMainSubjectItem(t)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),e.currentMainSubjectId!==t.id?a("dir-icon",{attrs:{"dir-type":"blue"}}):e._e(),e.currentMainSubjectId===t.id?a("dir-icon",{attrs:{"dir-type":"opened"}}):e._e(),e._v(" "+e._s(t.name)+" ")],2)],1)})),e.mainSubjectList.length||e.mainSubjectListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],e.mainSubjectListLoading?[a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1)]:e._e()],2),e.hasChildSubject?a("div",{staticClass:"browser-block-item",style:{width:"15vw",minWidth:"15vw"}},[e._l(e.subSubjectList,(function(t,i){return a("div",{key:i,class:{"browser-item":!0,"odd-line":i%2===0,"active-line":e.currentSubSubjectId===t.id},on:{click:function(a){return e.handleSelectSubSubjectItem(t)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),e.currentSubSubjectId!==t.id?a("dir-icon",{attrs:{"dir-type":"blue"}}):e._e(),e.currentSubSubjectId===t.id?a("dir-icon",{attrs:{"dir-type":"opened"}}):e._e(),e._v(" "+e._s(t.name)+" ")],2),a("span",{staticClass:"arrow-item"},[a("a-icon",{attrs:{type:"right"}})],1)],1)})),e.subSubjectList.length||e.subSubjectListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],e.subSubjectListLoading?[a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1)]:e._e()],2):e._e(),a("div",{staticClass:"browser-block-item-wrapper"},[a("div",{staticClass:"browser-block-item",style:{width:"15vw",minWidth:"15vw"}},[e._l(e.gradeList,(function(t,i){return a("div",{key:i,class:{"browser-item":!0,"odd-line":i%2===0,"active-line":e.currentGradeId===t.id},on:{click:function(a){return e.handleSelectGradeItem(t)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),e.currentGradeId!==t.id?a("dir-icon",{attrs:{"dir-type":"blue"}}):e._e(),e.currentGradeId===t.id?a("dir-icon",{attrs:{"dir-type":"opened"}}):e._e(),e._v(" "+e._s(t.name)+" ")],2)],1)})),e.gradeList.length||e.gradeListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],e.gradeListLoading?[a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1)]:e._e()],2)]),e._l(e.knowledges,(function(t,i){return a("div",{key:i,staticClass:"browser-block-item browser-block-item-wrapper",style:{width:"15vw",minWidth:"15vw"},attrs:{"data-knowledge-len":t.knowledgeList.length}},[e._l(t.knowledgeList,(function(s,n){return a("div",{key:n,class:{"browser-item":!0,"odd-line":n%2===0,"active-line":t.currentKnowledgeId===s.id},on:{click:function(t){return e.handleSelectKnowledgeItem(s,i)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(s.name)+" ")]),t.currentKnowledgeId!==s.id?a("dir-icon",{attrs:{"dir-type":"blue"}}):e._e(),t.currentKnowledgeId===s.id?a("dir-icon",{attrs:{"dir-type":"opened"}}):e._e(),e._v(" "+e._s(s.name)+" ")],2),a("span",{staticClass:"arrow-item"},[a("a-icon",{attrs:{type:"right"}})],1)],1)})),t.knowledgeList.length||t.knowledgeListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],t.knowledgeListLoading?[a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1)]:e._e()],2)}))],2)}),c=[],d=(a("a9e3"),a("a434"),a("8f46")),u=a("db6a"),p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dir-icon"},["blue"===e.dirType?i("blue-dir-svg",{staticClass:"blue"}):"yellow"===e.dirType?i("yellow-dir-svg",{staticClass:"yellow"}):"opened"===e.dirType?i("open-dir-svg",{staticClass:"opened"}):e.contentType===e.typeMap.lesson?i("img",{attrs:{src:a("6a86")}}):e.contentType===e.typeMap.task?i("img",{attrs:{src:a("ed70")}}):e.contentType===e.typeMap["unit-plan"]?i("img",{attrs:{src:a("27f0")}}):(e.contentType,e.typeMap.evaluation,i("img",{attrs:{src:a("2ae5")}}))],1)},h=[],g=a("f8935"),m=a.n(g),f=a("20de"),v=a.n(f),y=a("6f6b"),b=a.n(y),w=a("3f76"),C={name:"DirIcon",components:{BlueDirSvg:m.a,YellowDirSvg:v.a,OpenDirSvg:b.a},props:{dirType:{type:String,default:null},contentType:{type:Number,default:null}},data:function(){return{typeMap:w["e"]}}},k=C,L=(a("4d0e"),a("0c7c")),T=Object(L["a"])(k,p,h,!1,null,"7b7ee18b",null),I=T.exports,S=a("69b3"),_=a("05be"),M=a.n(_),x=a("8d47"),A=a.n(x),D=function(){var e=this,t=this,a=t.$createElement,i=t._self._c||a;return i("page-header-wrapper",{attrs:{"tab-list":t.tabList,"tab-active-key":t.tabActiveKey,"tab-change":function(t){e.tabActiveKey=t},content:"段落示意：蚂蚁金服务设计平台 ant.design，用最小的工作量，无缝接入蚂蚁金服生态， 提供跨越设计与开发的体验解决方案。"},scopedSlots:t._u([{key:"extraContent",fn:function(){return[i("div",{staticStyle:{width:"155px","margin-top":"-20px"}},[i("img",{staticStyle:{width:"100%"},attrs:{src:t.extraImage}})])]},proxy:!0}])},[i("a-list",{attrs:{rowKey:"id",grid:{gutter:24,lg:3,md:2,sm:1,xs:1},dataSource:t.dataSource},scopedSlots:t._u([{key:"renderItem",fn:function(e){return i("a-list-item",{},[e&&void 0!==e.id?[i("a-card",{attrs:{hoverable:!0}},[i("a-card-meta",[i("a",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))]),i("a-avatar",{staticClass:"card-avatar",attrs:{slot:"avatar",src:e.avatar,size:"large"},slot:"avatar"}),i("div",{staticClass:"meta-content",attrs:{slot:"description"},slot:"description"},[t._v(t._s(e.content))])],1),i("template",{staticClass:"ant-card-actions",slot:"actions"},[i("a",[t._v("操作一")]),i("a",[t._v("操作二")])])],2)]:[i("a-button",{staticClass:"new-btn",attrs:{type:"dashed"}},[i("a-icon",{attrs:{type:"plus"}}),t._v(" 新增产品 ")],1)]],2)}}])})],1)},E=[],O=[];O.push({});for(var j=0;j<11;j++)O.push({id:j,title:"Alipay",avatar:"https://gw.alipayobjects.com/zos/rmsportal/WdGqmHpayyMjiEhcKoVE.png",content:"在中台产品的研发过程中，会出现不同的设计规范和实现方式，但其中往往存在很多类似的页面和组件，这些类似的组件会被抽离成一套标准规范。"});var B={name:"CardList",data:function(){return this.tabList=[{key:"tab1",tab:"快速开始"},{key:"tab2",tab:"产品简介"},{key:"tab3",tab:"产品文档"}],{tabActiveKey:"tab1",extraImage:"https://gw.alipayobjects.com/zos/rmsportal/RzwpdLnhmvDJToTdfDPe.png",dataSource:O}},methods:{testFun:function(){this.$message.info("快速开始被点击！")}}},N=B,P=(a("8d236"),Object(L["a"])(N,D,E,!1,null,"76bd8af2",null)),R=P.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-card-view"},[a("div",{staticClass:"card-cover",style:{backgroundImage:"url("+e.cover+")"}}),a("div",{class:{"card-info":!0,"active-item":e.activeFlag}},[a("div",{staticClass:"card-title"},[a("div",{staticClass:"type-icon"},[a("content-type-icon",{attrs:{type:e.contentType}})],1),a("div",{staticClass:"title-text"},[e._v(e._s(e.title))])]),a("div",{staticClass:"card-time"},[e._v(" "+e._s(e._f("dayjs")(e.updateTime))+" ")])])])},G=[],K={name:"DataCardView",components:{ContentTypeIcon:d["a"]},props:{cover:{type:String,default:null},title:{type:String,default:null},updateTime:{type:String,default:null},activeFlag:{type:Boolean,default:!1},contentType:{type:Number,required:!0}}},V=K,$=(a("6840"),Object(L["a"])(V,F,G,!1,null,"2ed5553a",null)),U=$.exports,z=a("d597"),q=a("f93e"),Q=a("c418"),H=Q.SubjectTree,W={name:"CurriculumBrowser",components:{CardList:R,ContentTypeIcon:d["a"],NoMoreResources:S["a"],DirIcon:I,PuBuIcon:M.a,ListModeIcon:A.a,DataCardView:U},props:{curriculumId:{type:String,default:null},blockIndex:{type:Number,default:0}},watch:{curriculumId:function(e){this.$logger.info("curriculumId change "+e),this.refreshSubjectTree(),this.getGradesByCurriculumId(e)},blockIndex:function(e){this.$logger.info("block index change "+e)}},data:function(){return{typeMap:w["e"],gradeList:[],currentGradeId:null,gradeListLoading:!1,knowledges:[],knowledgeDeep:1,subjectDeep:2,mainSubjectList:[],mainSubjectListLoading:!0,currentMainSubjectId:null,subSubjectList:[],subSubjectListLoading:!0,currentSubSubjectId:null,mainKnowledgeList:[],dataList:[],dataListLoading:!1,currentDataId:null,dataListMode:"card",currentTypeLabel:"Choose type（S）of content",currentType:0,hasChildSubject:!0}},created:function(){this.getSubjectTree()},methods:{getGradesByCurriculumId:function(e){var t=this;Object(z["a"])({curriculumId:e}).then((function(e){t.$logger.info("GetGradesByCurriculumId",e.result),t.gradeList=e.result}))},GetLibraryGrades:function(e,t,a){var i=this;this.gradeListLoading=!0,this.gradeList=[],Object(z["b"])({curriculumId:e,subjectId:t,type:a}).then((function(e){i.$logger.info("GetLibraryGrades",e.result),i.gradeList=e.result})).finally((function(){i.gradeListLoading=!1}))},refreshSubjectTree:function(){this.mainSubjectList=[],this.subSubjectList=[],this.knowledges=[],this.dataList=[],this.getSubjectTree()},getSubjectTree:function(){var e=this;this.mainSubjectListLoading=!0,H({curriculumId:this.curriculumId}).then((function(t){e.$logger.info("getSubjectTree response",t.result),e.mainSubjectList=t.result.filter((function(e){return e.subjectType===q["P"].Learn||e.subjectType===q["P"].LearnAndSkill}))})).finally((function(){e.mainSubjectListLoading=!1}))},handleSelectMainSubjectItem:function(e){if(this.subSubjectListLoading=!0,this.hasChildSubject=!0,this.subjectDeep=2,this.$logger.info("handleSelectMainSubjectItem ",e,this.currentMainSubjectId),0===e.children.length)return this.hasChildSubject=!1,this.currentMainSubjectId=e.id,this.currentGradeId=null,this.currentSubSubjectId=null,this.knowledges=[],this.subjectDeep=1,void this.handleClickBlock(2,e.name);e.id!==this.currentMainSubjectId&&(this.currentMainSubjectId=e.id,this.subSubjectList=e.children,this.knowledges=[],this.currentGradeId=null,this.currentSubSubjectId=null),this.subSubjectListLoading=!1,this.handleClickBlock(2,e.name)},handleSelectSubSubjectItem:function(e){this.$logger.info("handleSelectSubSubjectItem ",e),e.id!==this.currentSubSubjectId&&(this.currentSubSubjectId=e.id,this.currentGradeId=null,this.knowledges=[],this.GetLibraryGrades(this.curriculumId,this.currentSubSubjectId,q["T"].knowledge)),this.handleClickBlock(3,e.name)},handleSelectGradeItem:function(e){this.$logger.info("handleSelectGradeItem ",e),e.id!==this.currentGradeId&&(this.currentGradeId=e.id,this.getKnowledgeTree()),this.handleClickBlock(this.subjectDeep+2,e.name)},getKnowledgeDeep:function(e,t){var a=this;return this.knowledgeDeep=0,this.knowledgeDeep=Math.max(this.knowledgeDeep,t),e.children&&e.children.forEach((function(e){a.getKnowledgeDeep(e,t+1)})),this.knowledgeDeep},getKnowledgeTree:function(){var e=this;this.knowledges=[];var t={knowledgeList:[],knowledgeListLoading:!0,currentKnowledgeId:null};this.knowledges.push(t),this.$logger.info("grade:"+this.currentGradeId+", subjectId:"+this.currentSubSubjectId),Object(u["KnowledgeGetTree"])({gradeId:this.currentGradeId,subjectId:this.hasChildSubject?this.currentSubSubjectId:this.currentMainSubjectId,tagType:q["T"].knowledge}).then((function(t){e.$logger.info("KnowledgeGetTree response",t),e.mainKnowledgeList=t.result,e.knowledgeDeep=1,e.mainKnowledgeList.length>0&&(e.knowledges[0].knowledgeList=e.mainKnowledgeList,e.$logger.info("knowledges",e.knowledges)),e.$logger.info("mainKnowledgeList",e.knowledgeTree)})).finally((function(){e.knowledges.length>0&&(e.knowledges[0].knowledgeListLoading=!1)}))},handleSelectKnowledgeItem:function(e,t){if(this.$logger.info("handleSelectKnowledgeItem",e,t),this.currentKnowledgeId=e.id,this.knowledgeDeep=this.getKnowledgeDeep(e,t+1),t+1===this.knowledgeDeep)return this.$logger.info("handleSelectSubKnowledgeItem",e),e.id!==this.knowledges[t].currentKnowledgeId?(this.$logger.info("hit knowledgeQueryContentByDescriptionId",e.id,this.knowledges[t].currentKnowledgeId),this.knowledges[t].currentKnowledgeId=e.id):this.$logger.info("skip knowledgeQueryContentByDescriptionId",e.id,this.knowledges[t].currentKnowledgeId),void this.handleClickBlock(this.subjectDeep+1+this.knowledgeDeep,e.name);this.knowledges.splice(t+1),this.knowledges.push({knowledgeList:[],knowledgeListLoading:!1,currentKnowledgeId:null});var a=t+1;this.knowledges[t].currentKnowledgeId=e.id,this.knowledges[a].knowledgeListLoading=!0,this.knowledges[a].knowledgeList=e.children,this.knowledges[a].knowledgeListLoading=!1,this.$logger.info("knowledges",this.knowledges),this.handleClickBlock(this.subjectDeep+3+t,e.name)},knowledgeQueryContentByDescriptionId:function(e){var t=this;this.dataListLoading=!0,this.$logger.info("knowledgeQueryContentByDescriptionId "+e),Object(u["KnowledgeQueryContentByDescriptionId"])({descriptionId:e}).then((function(e){t.$logger.info("KnowledgeQueryContentByDescriptionId response",e.result),t.dataList=e.result,t.$logger.info("dataList",e.result,t.dataList)})).finally((function(){t.dataListLoading=!1}))},handleSelectDataItem:function(e){this.$logger.info("handleSelectDataItem ",e),this.currentDataId=e.id,this.$emit("previewDetail",e)},handleClickBlock:function(e,t){this.$logger.info("handleClickBlock "+e),this.$emit("clickBlock",{curriculumId:this.curriculumId,gradeId:this.currentGradeId,subjectId:this.currentSubSubjectId?this.currentSubSubjectId:this.currentMainSubjectId,knowledgeId:this.currentKnowledgeId,tagType:q["T"].knowledge}),this.$emit("blockCollapse",{blockIndex:e,path:t})},handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},toggleType:function(e,t){this.$logger.info("toggleType "+e+" label "+t),this.currentType=e,this.currentTypeLabel=t}}},Z=W,J=(a("b8f1"),Object(L["a"])(Z,l,c,!1,null,"172c6aad",null)),Y=J.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"browser-block",attrs:{"data-type":"sdg"}},[a("div",{staticClass:"browser-block-item-wrapper"},[a("div",{staticClass:"browser-block-item",style:{width:"15vw",minWidth:"15vw"}},[a("div",{staticClass:"filter-block"},[a("div",{staticClass:"filter-block-content"},[a("div",{staticClass:"filter-icon"},[a("filter-icon")],1),a("div",{staticClass:"switch-type-wrapper library-select"},[a("a-select",{staticClass:"filter-select library-filter-select",attrs:{getPopupContainer:function(e){return e.parentElement},placeholder:"Select Subject",showArrow:!0,mode:"multiple"},on:{change:e.changeSubject},model:{value:e.selectedSubect,callback:function(t){e.selectedSubect=t},expression:"selectedSubect"}},e._l(e.subjectList,(function(t,i){return a("a-select-option",{key:i,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)])]),e._l(e.sdgList,(function(t,i){return a("div",{key:i,class:{"browser-item":!0,"odd-line":i%2===0,"active-line":e.currentSdgId===t.id},on:{click:function(a){return e.handleSelectSdgItem(t)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),e.currentSdgId!==t.id?a("dir-icon",{attrs:{"dir-type":"blue"}}):e._e(),e.currentSdgId===t.id?a("dir-icon",{attrs:{"dir-type":"opened"}}):e._e(),e._v(" "+e._s(t.name)+" ")],2)],1)})),e.sdgList.length||e.sdgListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],e.sdgListLoading?[a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1)]:e._e()],2)]),a("div",{staticClass:"browser-block-item-wrapper browser-block-item",style:{width:"15vw",minWidth:"15vw"}},[a("div",{staticClass:"filter-block"},[a("div",{staticClass:"filter-block-content"},[a("div",{staticClass:"filter-icon"},[a("filter-icon")],1),a("div",{staticClass:"filter-list"},[a("a-select",{staticClass:"filter-select  library-filter-select",attrs:{getPopupContainer:function(e){return e.parentElement},placeholder:"Universal Concept",allowClear:!0},model:{value:e.selectedConcept,callback:function(t){e.selectedConcept=t},expression:"selectedConcept"}},e._l(e.conceptList,(function(t,i){return a("a-select-option",{key:i,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),1),a("div",{staticClass:"keyword-search search-box"},[a("a-input",{staticClass:"my-nav-search",attrs:{placeholder:"Search key word"},model:{value:e.keywordSearchText,callback:function(t){e.keywordSearchText=t},expression:"keywordSearchText"}},[a("sousuo-icon-svg",{attrs:{slot:"prefix"},slot:"prefix"})],1)],1)],1)])]),a("div",{staticClass:"description-wrapper"},[a("div",{staticClass:"description-list"},e._l(e.bigIdeaList,(function(t,i){return!e.keywordSearchText||t.name&&-1!==t.name.indexOf(e.keywordSearchText)?a("div",{key:i,class:{"description-item":!0,"kd-active-item":e.currentBigIdea===t.name},on:{click:function(a){return e.handleSelectBigIdeaItem(t)}}},[e._v(" "+e._s(t.name)+" ")]):e._e()})),0)]),e.bigIdeaList.length||e.bigIdeaLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],e.bigIdeaLoading?[a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1)]:e._e()],2),a("div",{staticClass:"browser-block-item-wrapper",style:{width:"15vw",minWidth:"15vw"}},[a("div",{staticClass:"browser-block-item-last",style:{width:"15vw",minWidth:"15vw","flex-direction":"list"===e.dataListMode?"column":"row"}},[a("div",{staticClass:"switch-type-wrapper"},[a("div",{staticClass:"switch-type"},[a("div",{staticClass:"switch-label"},[a("div",{staticClass:"filter-icon"},[a("filter-icon")],1),a("div",{staticClass:"content-filter-list"},[a("a-dropdown",{staticClass:"filter-dropdown-item"},[a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{attrs:{disabled:""}},[a("span",[e._v("Choose type(s)of content")])]),a("a-menu-item",{on:{click:function(t){e.toggleType(0,e.$t("teacher.my-content.all-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.all-type")))])]),-1!==e.$store.getters.roles.indexOf("teacher")?[a("a-menu-item",{on:{click:function(t){e.toggleType(e.typeMap["unit-plan"],e.$t("teacher.my-content.unit-plan-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.unit-plan-type")))])]),a("a-menu-item",{on:{click:function(t){e.toggleType(e.typeMap.evaluation,e.$t("teacher.my-content.evaluation-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.evaluation-type")))])])]:e._e(),a("a-menu-item",{on:{click:function(t){e.toggleType(e.typeMap.task,e.$t("teacher.my-content.tasks-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.tasks-type")))])])],2),a("a-button",{staticStyle:{padding:"0 10px",display:"flex","align-items":"center","border-color":"#F3F3F3","box-shadow":"none",height:"35px","border-radius":"2px",background:"#F3F3F3","font-size":"13px","font-family":"Inter-Bold",color:"#182552"}},[e.currentTypeLabel?a("span",[e._v(e._s(e.currentTypeLabel))]):a("span",[e._v("Choose type(s)of content")]),a("a-icon",{attrs:{type:"caret-down"}})],1)],1),a("a-dropdown",{staticClass:"filter-dropdown-item"},[a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{attrs:{disabled:""}},[a("span",[e._v("Universal Concept")])]),e._l(e.conceptList,(function(t,i){return a("a-menu-item",{key:i,on:{click:function(a){return e.toggleConceptType(t)}}},[a("span",[e._v(e._s(t))])])}))],2),a("a-button",{staticStyle:{padding:"0 10px",display:"flex","align-items":"center","border-color":"#f3f3f3","box-shadow":"none",height:"35px","border-radius":"2px",background:"#f3f3f3","font-size":"13px","font-family":"Inter-Bold",color:"#182552"}},[e.currentConceptTypeLabel?a("span",[e._v(e._s(e.currentConceptTypeLabel))]):a("span",[e._v("Universal Concept")]),a("a-icon",{attrs:{type:"caret-down"}})],1)],1),a("a-dropdown",{staticClass:"filter-dropdown-item"},[a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{on:{click:function(t){return e.toggleSAType(1,"SA")}}},[a("span",[e._v("SA")])]),a("a-menu-item",{on:{click:function(t){return e.toggleSAType(2,"FA")}}},[a("span",[e._v("FA")])])],1),a("a-button",{staticStyle:{padding:"0 10px",display:"flex","align-items":"center","border-color":"#f3f3f3","box-shadow":"none",height:"35px","border-radius":"2px",background:"#f3f3f3","font-size":"13px","font-family":"Inter-Bold",color:"#182552"}},[a("span",[e._v(e._s(e.currentSaFaLabel))]),a("a-icon",{attrs:{type:"caret-down"}})],1)],1)],1)]),a("div",{staticClass:"switch-icon"},[a("div",{class:{"icon-item":!0,"active-icon":"list"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("list")}}},[a("list-mode-icon")],1),a("div",{class:{"icon-item":!0,"active-icon":"card"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("card")}}},[a("pu-bu-icon")],1)])])]),"list"===e.dataListMode?e._l(e.dataList,(function(t,i){return 0===e.currentType||t.type===e.currentType?a("div",{key:i,class:{"browser-item":!0,"odd-line":i%2===0,"active-line":e.currentDataId===t.id},on:{click:function(a){return e.handleSelectDataItem(t)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),a("content-type-icon",{attrs:{type:t.type}}),a("span",{staticClass:"data-name"},[e._v(" "+e._s(t.name)+" ")]),a("span",{staticClass:"data-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime))+" ")])],2)],1):e._e()})):e._e(),"card"===e.dataListMode?[e.dataList.length?a("div",{staticClass:"card-view-mode-wrapper"},e._l(e.dataList,(function(t,i){return 0===e.currentType||t.type===e.currentType?a("div",{key:i,staticClass:"card-item-wrapper",on:{click:function(a){return e.handleSelectDataItem(t)}}},[a("div",{staticClass:"card-item"},[a("data-card-view",{attrs:{"active-flag":e.currentDataId===t.id,cover:t.image,title:t.name,"update-time":t.updateTime,"content-type":t.type}})],1)]):e._e()})),0):e._e()]:e._e(),e.dataList.length||e.dataListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],[e.dataListLoading?a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1):e._e()]],2)])])},ee=[],te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"library-nav-content"},[a("div",{staticClass:"nav-path"},[a("div",{staticClass:"nav-label"},[a("div",{staticClass:"nav-icon"},[a("block-svg",{staticStyle:{width:"20px"}})],1),a("div",{staticClass:"nav-title"},[e._v("Library")])]),e._l(e.sortNavPath,(function(t,i){return a("div",{key:i,staticClass:"nav-path-item",style:{"max-width":e.maxWidth+"px"},attrs:{"data-item":t},on:{click:function(a){return e.changePath(t)}}},[a("span",{staticClass:"arrow-item"},[a("a-icon",{attrs:{type:"right"}})],1),a("a-tooltip",{attrs:{mouseEnterDelay:.5,placement:"top"}},[a("template",{slot:"title"},[e._v(" "+e._s(t.path)+" ")]),e._v(" "+e._s(t.path)+" ")],2)],1)}))],2)])},ae=[],ie=a("3ccd"),se=a.n(ie),ne=a("12b5"),re=a.n(ne),oe={name:"Navigation",components:{BackBtnSvg:se.a,BlockSvg:re.a,BlueDirSvg:m.a,OpenDirSvg:b.a,YellowDirSvg:v.a},props:{path:{type:Array,default:[]}},data:function(){return{maxWidth:400}},computed:{sortNavPath:function(){var e=this.path;return e.sort((function(e,t){return e.blockIndex-t.blockIndex}))}},mounted:function(){this.maxWidth=document.documentElement.clientWidth/5,this.$logger.info("Navigation item maxWidth "+this.maxWidth)},created:function(){this.$logger.info("navigation path",this.path)},methods:{changePath:function(e){this.$logger.info("changePath",e),this.$emit("pathChange",e)}}},le=oe,ce=(a("23ef"),Object(L["a"])(le,te,ae,!1,null,"4dd99b93",null)),de=ce.exports,ue=a("1f09"),pe=a.n(ue),he=a("d819"),ge=a.n(he),me=a("b3db"),fe=a("c418"),ve=a("3c3e"),ye=a.n(ve),be=a("b3db"),we=be.ScenarioGetKeywordScenarios,Ce=be.QueryContentByBigIdea,ke=a("b3db"),Le=ke.GetAllSdgs,Te={name:"SdgBrowser",components:{Navigation:de,ContentTypeIcon:d["a"],NoMoreResources:S["a"],DirIcon:I,PuBuIcon:M.a,ListModeIcon:A.a,FilterIcon:pe.a,SearchIcon:ge.a,DataCardView:U,SousuoIconSvg:ye.a},props:{blockWidth:{type:Number,default:200}},data:function(){return{typeMap:w["e"],sdgList:[],sdgListLoading:!1,currentSdgId:null,sdgKeywordNameList:[],sdgDescriptionsList:[],sdgKeywordNameListLoading:!1,currentSdgKeywordName:null,sdgDescriptionList:[],sdgKeywordLoading:!1,currentSdgKeywordScenario:null,currentSdgKeywordScenarioId:null,dataList:[],dataListLoading:!1,currentDataId:null,dataListMode:"card",bigIdeaList:[],currentBigIdea:null,bigIdeaLoading:!1,currentTypeLabel:"Choose type(s)of content",currentType:0,selectedSubect:[],subjectList:[],keywordSearchText:"",currentConceptTypeLabel:"Universal Concept",currentConceptType:0,conceptList:[],selectedConcept:void 0,currentSaFaLabel:"SA|FA",currentSaFaType:0}},created:function(){this.$logger.info("SdgBrowser blockWidth:"+this.blockWidth),this.getAllSdgs(),this.getSubjectTree()},methods:{getAllSdgs:function(){var e=this;this.sdgListLoading=!0,Le().then((function(t){e.$logger.info("GetAllSdgs response",t.result),e.sdgList=t.result})).finally((function(){e.sdgListLoading=!1}))},getSubjectTree:function(){var e=this;Object(fe["SubjectTree"])({curriculumId:this.$store.getters.bindCurriculum}).then((function(t){e.$logger.info("getSubjectTree response",t.result),e.subjectTree=t.result,e.subjectTree.forEach((function(t){e.subjectList.push(t)}))})).finally((function(){}))},handleSelectSdgItem:function(e){this.$logger.info("handleSelectSdgItem ",e,this.currentSdgId),e.id!==this.currentSdgId&&(this.currentSdgId=e.id,this.sdgKeywordNameList=[],this.currentSdgKeywordName=null,this.queryBigIdea(),this.queryTagsBySubjectIds(),this.handleClickBlock(2,e.name))},scenarioGetKeywordScenarios:function(e){var t=this;this.sdgKeywordNameListLoading=!0,we({sdgId:e}).then((function(e){t.$logger.info("ScenarioGetKeywordScenarios response",e.result),t.sdgKeywordNameList=e.result.sdgKeyWords,t.sdgDescriptionsList=e.result.descriptions,t.sdgKeywordNameList.length&&(t.currentSdgKeywordName=t.sdgKeywordNameList[0].name,t.currentSdgKeywordScenarioId=null,t.currentDataId=null,t.dataList=[])})).finally((function(){t.sdgKeywordNameListLoading=!1}))},queryBigIdeaDescription:function(e){var t=this;this.$logger.info("queryBigIdeaDescription",e),this.dataListLoading=!0,this.handleClickBlock(3,e.name),this.currentSdgKeywordScenarioId=e.id,this.currentSdgKeywordScenario="description",Object(me["QueryBigIdea"])({description:e.name}).then((function(e){t.$logger.info("queryBigIdeaDescription response",e.result);var a=[];e.result.forEach((function(e){a.push({id:e,name:e})})),t.bigIdeaList=a})).finally((function(){t.dataListLoading=!1}))},queryBigIdea:function(){var e=this;this.bigIdeaLoading=!0,this.$logger.info("queryBigIdeaKeyword"),Object(me["QueryBigIdea"])({keywords:this.currentSdgKeywordName,sdgId:this.currentSdgId,subjectIds:this.selectedSubect}).then((function(t){e.$logger.info("queryBigIdeaKeyword response",t.result);var a=[];t.result.forEach((function(e){a.push({id:e,name:e})})),e.bigIdeaList=a})).finally((function(){e.bigIdeaLoading=!1}))},queryTagsBySubjectIds:function(){var e=this;this.$logger.info("queryTagsBySubjectIds"),Object(me["QueryTagsBySubjectIds"])({subjectIds:this.selectedSubect}).then((function(t){e.$logger.info("queryTagsBySubjectIds response",t.result),t.success&&(e.conceptList=t.result["Universal Concept"],e.sdgKeywordNameList=t.result["Key words"])})).finally((function(){}))},queryBigIdeaKeywords:function(e){var t=this;this.$logger.info("queryBigIdeaKeyword",e),this.dataListLoading=!0,this.handleClickBlock(3,e.name),this.currentSdgKeywordScenarioId=e.id,this.currentSdgKeywordScenario="keyword",Object(me["QueryBigIdea"])({keywords:e.name}).then((function(e){t.$logger.info("queryBigIdeaKeyword response",e.result);var a=[];e.result.forEach((function(e){a.push({id:e,name:e})})),t.bigIdeaList=a})).finally((function(){t.dataListLoading=!1}))},handleSelectBigIdeaItem:function(e){var t=this;this.$logger.info("handleSelectBigIdeaItem",e),this.currentBigIdea=e.name,Ce({bigIdea:e.name}).then((function(e){t.$logger.info("QueryContentByBigIdea",e),e.result?(t.dataList=e.result,t.$emit("update-data-list",t.dataList)):t.$logger.info("no big idea content")})),this.handleClickBlock(2,e.name)},handleSelectDataItem:function(e){this.$logger.info("handleSelectDataItem ",e),this.currentDataId=e.id,this.$emit("previewDetail",e)},handleClickBlock:function(e,t){this.$logger.info("handleClickBlock "+e),this.$emit("clickBlock",{curriculumId:this.curriculumId,gradeId:null,subjectId:null,knowledgeId:null,bigIdea:this.currentBigIdea,tagType:q["T"].bigIdea}),this.$emit("blockCollapse",{blockIndex:e,path:t})},handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},toggleType:function(e,t){this.$logger.info("toggleType "+e+" label "+t),this.currentType=e,this.currentTypeLabel=t},toggleConceptType:function(e){this.$logger.info("toggleConceptType ",e),this.currentConceptType=e,this.currentConceptTypeLabel=e},toggleSAType:function(e,t){this.$logger.info("toggleSAType "+e+" label "+t),this.currentSaFaType=e,this.currentSaFaLabel=t},changeSubject:function(){this.queryTagsBySubjectIds(),this.queryBigIdea()}}},Ie=Te,Se=(a("d50c"),Object(L["a"])(Ie,X,ee,!1,null,"af61dbe6",null)),_e=Se.exports,Me=a("ea23"),xe=a("7d7a"),Ae=a("adfc"),De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"browser-block",attrs:{"data-type":"assessment"}},[a("div",{staticClass:"browser-block-item",style:{width:"15vw",minWidth:"15vw"}},[e._l(e.mainSubjectList,(function(t,i){return a("div",{key:i,class:{"browser-item":!0,"odd-line":i%2===0,"active-line":e.currentMainSubjectId===t.id},on:{click:function(a){return e.handleSelectMainSubjectItem(t)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),e.currentMainSubjectId!==t.id?a("dir-icon",{attrs:{"dir-type":"blue"}}):e._e(),e.currentMainSubjectId===t.id?a("dir-icon",{attrs:{"dir-type":"opened"}}):e._e(),e._v(" "+e._s(t.name)+" ")],2)],1)})),e.mainSubjectList.length||e.mainSubjectListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],e.mainSubjectListLoading?[a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1)]:e._e()],2),a("div",{staticClass:"browser-block-item-wrapper"},[a("div",{staticClass:"browser-block-item",style:{width:"15vw",minWidth:"15vw"}},[e._l(e.gradeList,(function(t,i){return a("div",{key:i,class:{"browser-item":!0,"odd-line":i%2===0,"active-line":e.currentGradeId===t.id},on:{click:function(a){return e.handleSelectGradeItem(t)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),e.currentGradeId!==t.id?a("dir-icon",{attrs:{"dir-type":"blue"}}):e._e(),e.currentGradeId===t.id?a("dir-icon",{attrs:{"dir-type":"opened"}}):e._e(),e._v(" "+e._s(t.name)+" ")],2),a("span",{staticClass:"arrow-item"},[a("a-icon",{attrs:{type:"right"}})],1)],1)})),e.gradeList.length||e.gradeListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],e.gradeListLoading?[a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1)]:e._e()],2)]),a("div",{staticClass:"browser-block-item-wrapper browser-block-item",style:{width:"15vw",minWidth:"15vw"}},[a("div",{staticClass:"keyword-wrapper"},[a("div",{staticClass:"keyword-list"},e._l(e.assessmentNameList,(function(t,i){return a("div",{key:i,class:{"keyword-item":!0,"kd-active-item":e.currentAssessmentTypeId===t.id},on:{click:function(a){return e.queryContentByAssessment(t)}}},[a("span",{staticClass:"keyword-name"},[e._v(" "+e._s(t.name)+" ")]),e.currentAssessmentTypeId===t.id?a("a-icon",{attrs:{type:"check-circle",theme:"filled"}}):e._e()],1)})),0)]),e.assessmentNameList.length||e.assessmentTypeListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],e.assessmentTypeListLoading?[a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1)]:e._e()],2),a("div",{staticClass:"browser-block-item browser-block-item-wrapper",style:{width:"15vw",minWidth:"15vw"}},[e._l(e.subKnowledgeList,(function(t,i){return a("div",{key:i,class:{"browser-item":!0,"odd-line":i%2===0,"active-line":e.currentSubKnowledgeId===t.id},on:{click:function(a){return e.handleSelectSubKnowledgeItem(t)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),e.currentSubKnowledgeId!==t.id?a("dir-icon",{attrs:{"dir-type":"blue"}}):e._e(),e.currentSubKnowledgeId===t.id?a("dir-icon",{attrs:{"dir-type":"opened"}}):e._e(),e._v(" "+e._s(t.name)+" ")],2)],1)})),e.subKnowledgeList.length||e.subKnowledgeListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],e.subKnowledgeListLoading?[a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1)]:e._e()],2),a("div",{staticClass:"browser-block-item-wrapper",style:{width:"15vw",minWidth:"15vw"}},[a("div",{staticClass:"browser-block-item-last",style:{width:"15vw",minWidth:"15vw","flex-direction":"list"===e.dataListMode?"column":"row"}},[a("div",{staticClass:"switch-type-wrapper"},[a("div",{staticClass:"switch-type"},[a("div",{staticClass:"switch-label"},[a("a-dropdown",[a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{attrs:{disabled:""}},[a("span",[e._v(e._s(e.$t("teacher.my-content.choose-types-of-content")))])]),a("a-menu-item",{on:{click:function(t){e.toggleType(0,e.$t("teacher.my-content.all-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.all-type")))])]),-1!==e.$store.getters.roles.indexOf("teacher")?[a("a-menu-item",{on:{click:function(t){e.toggleType(e.typeMap["unit-plan"],e.$t("teacher.my-content.unit-plan-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.unit-plan-type")))])]),a("a-menu-item",{on:{click:function(t){e.toggleType(e.typeMap.evaluation,e.$t("teacher.my-content.evaluation-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.evaluation-type")))])])]:e._e(),a("a-menu-item",{on:{click:function(t){e.toggleType(e.typeMap.task,e.$t("teacher.my-content.tasks-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.tasks-type")))])]),-1!==e.$store.getters.roles.indexOf("expert")?[a("a-menu-item",{on:{click:function(t){e.toggleType(e.typeMap.topic,e.$t("teacher.my-content.topics-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.topics-type")))])])]:e._e()],2),a("a-button",{staticStyle:{padding:"0 10px",display:"flex","align-items":"center",height:"35px","border-radius":"6px",background:"rgba(245, 245, 245, 0.5)","font-size":"13px",border:"1px solid #BCBCBC","font-family":"Inter-Bold",color:"#182552"}},[e.currentTypeLabel?a("span",[e._v(e._s(e.currentTypeLabel))]):a("span",[e._v("Choose type(s)of content")]),a("a-icon",{attrs:{type:"caret-down"}})],1)],1)],1),a("div",{staticClass:"switch-icon"},[a("div",{class:{"icon-item":!0,"active-icon":"list"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("list")}}},[a("list-mode-icon")],1),a("div",{class:{"icon-item":!0,"active-icon":"card"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("card")}}},[a("pu-bu-icon")],1)])])]),"list"===e.dataListMode?e._l(e.dataList,(function(t,i){return 0===e.currentType||t.type===e.currentType?a("div",{key:i,class:{"browser-item":!0,"odd-line":i%2===0,"active-line":e.currentDataId===t.id},on:{click:function(a){return e.handleSelectDataItem(t)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),a("dir-icon",{attrs:{"content-type":t.type}}),a("span",{staticClass:"data-name"},[e._v(" "+e._s(t.name)+" ")]),a("span",{staticClass:"data-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime))+" ")])],2)],1):e._e()})):e._e(),"card"===e.dataListMode?[e.dataList.length?a("div",{staticClass:"card-view-mode-wrapper"},e._l(e.dataList,(function(t,i){return 0===e.currentType||t.type===e.currentType?a("div",{key:i,staticClass:"card-item-wrapper",on:{click:function(a){return e.handleSelectDataItem(t)}}},[a("div",{staticClass:"card-item"},[a("data-card-view",{attrs:{"active-flag":e.currentDataId===t.id,cover:t.image,title:t.name,"update-time":t.updateTime,"content-type":t.type}})],1)]):e._e()})),0):e._e()]:e._e(),e.dataList.length||e.dataListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],[e.dataListLoading?a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1):e._e()]],2)])])},Ee=[],Oe=a("c418"),je=Oe.SubjectTree,Be={name:"AssessmentBrowser",components:{CardList:R,ContentTypeIcon:d["a"],NoMoreResources:S["a"],DirIcon:I,PuBuIcon:M.a,ListModeIcon:A.a,DataCardView:U},props:{blockWidth:{type:Number,default:200},curriculumId:{type:String,default:null}},watch:{curriculumId:function(e){this.$logger.info("curriculumId change "+e),this.refreshSubjectTree(),this.getGradesByCurriculumId(e)}},data:function(){return{typeMap:w["e"],gradeList:[],currentGradeId:null,currentGradeName:null,gradeListLoading:!1,mainSubjectList:[],mainSubjectListLoading:!0,currentMainSubjectId:null,subSubjectList:[],subSubjectListLoading:!0,currentSubSubjectId:null,subKnowledgeList:[],subKnowledgeListLoading:!1,currentSubKnowledgeId:null,dataList:[],dataListLoading:!1,currentDataId:null,dataListMode:"card",currentTypeLabel:"Choose type（S）of content",currentType:0,assessmentTypeListLoading:!1,currentAssessmentTypeId:null,assessmentNameList:[]}},created:function(){this.$logger.info("CurriculumBrowser blockWidth:"+this.blockWidth),this.getSubjectTree(),this.getGradesByCurriculumId(this.curriculumId)},methods:{getGradesByCurriculumId:function(e){var t=this;Object(z["a"])({curriculumId:e}).then((function(e){t.$logger.info("GetGradesByCurriculumId",e.result),t.gradeList=e.result}))},refreshSubjectTree:function(){this.mainSubjectList=[],this.subSubjectList=[],this.mainKnowledgeList=[],this.subSubjectList=[],this.assessmentNameList=[],this.dataList=[],this.getSubjectTree()},getSubjectTree:function(){var e=this;this.mainSubjectListLoading=!0,je({curriculumId:this.curriculumId}).then((function(t){e.$logger.info("getSubjectTree response",t.result),e.mainSubjectList=t.result.filter((function(e){return e.subjectType===q["P"].Skill||e.subjectType===q["P"].LearnAndSkill}))})).finally((function(){e.mainSubjectListLoading=!1}))},handleSelectMainSubjectItem:function(e){this.currentMainSubjectId=e.id,this.handleClickBlock(2,e.name)},handleSelectGradeItem:function(e){this.$logger.info("handleSelectGradeItem ",e),e.id!==this.currentGradeId&&(this.currentGradeId=e.id,this.currentGradeName=e.name,this.getAssessmentTypeList()),this.handleClickBlock(3,e.name)},getAssessmentTypeList:function(){var e=this;this.assessmentNameList=[],this.assessmentTypeListLoading=!0,this.$logger.info("grade:"+this.currentGradeId+", subjectId:"+this.currentMainSubjectId),Object(u["GetAssessmentTypeList"])({gradeId:this.currentGradeId,subjectId:this.currentMainSubjectId}).then((function(t){e.$logger.info("GetAssessmentTypeList response",t),e.assessmentNameList=t.result,e.$logger.info("assessmentNameList",e.assessmentNameList)})).finally((function(){e.assessmentTypeListLoading=!1}))},handleSelectDataItem:function(e){this.$logger.info("handleSelectDataItem ",e),this.currentDataId=e.id,this.$emit("previewDetail",e)},handleClickBlock:function(e,t){this.$logger.info("handleClickBlock "+e),this.$emit("clickBlock",{curriculumId:this.curriculumId,gradeId:this.currentGradeId,subjectId:this.currentSubSubjectId?this.currentSubSubjectId:this.currentMainSubjectId,knowledgeId:this.currentSubKnowledgeId?this.currentSubKnowledgeId:this.currentKnowledgeId,tagType:q["T"].assessment}),this.$emit("blockCollapse",{blockIndex:e,path:t})},handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},toggleType:function(e,t){this.$logger.info("toggleType "+e+" label "+t),this.currentType=e,this.currentTypeLabel=t},queryContentByAssessment:function(e){var t=this;this.subKnowledgeListLoading=!0,this.$logger.info("queryContentByAssessment "+e.id),this.handleClickBlock(4,e.name),this.currentAssessmentTypeId=e.id,Object(u["QueryKnowledgesByAssessmentTypeId"])({assessmentTypeId:e.id,gradeId:this.currentGradeId}).then((function(e){t.$logger.info("queryContentByAssessment response",e.result),t.subKnowledgeListLoading=!0,t.subKnowledgeList=e.result})).finally((function(){t.subKnowledgeListLoading=!1}))},handleSelectSubKnowledgeItem:function(e){this.$logger.info("handleSelectSubKnowledgeItem",e),e.id!==this.currentSubKnowledgeId&&(this.currentSubKnowledgeId=e.id,this.dataList=[],this.knowledgeQueryContentByDescriptionId(this.currentSubKnowledgeId)),this.handleClickBlock(4,e.name)},knowledgeQueryContentByDescriptionId:function(e){var t=this;this.dataListLoading=!0,this.$logger.info("knowledgeQueryContentByDescriptionId "+e),Object(u["KnowledgeQueryContentByDescriptionId"])({descriptionId:e}).then((function(e){t.$logger.info("KnowledgeQueryContentByDescriptionId response",e.result),t.dataList=e.result,t.$emit("update-data-list",t.dataList)})).finally((function(){t.dataListLoading=!1}))}}},Ne=Be,Pe=(a("1230"),Object(L["a"])(Ne,De,Ee,!1,null,"5af6813f",null)),Re=Pe.exports,Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"browser-block",attrs:{"data-type":"GeneralCapabilityBrowser"}},[a("div",{staticClass:"browser-block-item-wrapper"},[a("div",{staticClass:"browser-block-item",style:{width:"15vw",minWidth:"15vw"}},[e._l(e.gradeList,(function(t,i){return a("div",{key:i,class:{"browser-item":!0,"odd-line":i%2===0,"active-line":e.currentGradeId===t.id},on:{click:function(a){return e.handleSelectGradeItem(t)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),e.currentGradeId!==t.id?a("dir-icon",{attrs:{"dir-type":"blue"}}):e._e(),e.currentGradeId===t.id?a("dir-icon",{attrs:{"dir-type":"opened"}}):e._e(),e._v(" "+e._s(t.name)+" ")],2)],1)})),e.gradeList.length||e.gradeListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],e.gradeListLoading?[a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1)]:e._e()],2)]),e._l(e.knowledges,(function(t,i){return a("div",{key:i,staticClass:"browser-block-item browser-block-item-wrapper",style:{width:"15vw",minWidth:"15vw"}},[e._l(t.knowledgeList,(function(s,n){return a("div",{key:n,class:{"browser-item":!0,"odd-line":n%2===0,"active-line":t.currentKnowledgeId===s.id},on:{click:function(t){return e.handleSelectKnowledgeItem(s,i)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(s.name)+" ")]),t.currentKnowledgeId!==s.id?a("dir-icon",{attrs:{"dir-type":"blue"}}):e._e(),t.currentKnowledgeId===s.id?a("dir-icon",{attrs:{"dir-type":"opened"}}):e._e(),e._v(" "+e._s(s.name)+" ")],2),a("span",{staticClass:"arrow-item"},[a("a-icon",{attrs:{type:"right"}})],1)],1)})),t.knowledgeList.length||t.knowledgeListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],t.knowledgeListLoading?[a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1)]:e._e()],2)})),a("div",{staticClass:"browser-block-item-wrapper",style:{width:"15vw",minWidth:"15vw"}},[a("div",{staticClass:"browser-block-item-last",style:{width:"15vw",minWidth:"15vw","flex-direction":"list"===e.dataListMode?"column":"row"}},[a("div",{staticClass:"switch-type-wrapper"},[a("div",{staticClass:"switch-type"},[a("div",{staticClass:"switch-label"},[a("a-dropdown",[a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{attrs:{disabled:""}},[a("span",[e._v(e._s(e.$t("teacher.my-content.choose-types-of-content")))])]),a("a-menu-item",{on:{click:function(t){e.toggleType(0,e.$t("teacher.my-content.all-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.all-type")))])]),-1!==e.$store.getters.roles.indexOf("teacher")?[a("a-menu-item",{on:{click:function(t){e.toggleType(e.typeMap["unit-plan"],e.$t("teacher.my-content.unit-plan-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.unit-plan-type")))])]),a("a-menu-item",{on:{click:function(t){e.toggleType(e.typeMap.evaluation,e.$t("teacher.my-content.evaluation-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.evaluation-type")))])])]:e._e(),a("a-menu-item",{on:{click:function(t){e.toggleType(e.typeMap.task,e.$t("teacher.my-content.tasks-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.tasks-type")))])])],2),a("a-button",{staticStyle:{padding:"0 10px",display:"flex","align-items":"center",height:"35px","border-radius":"6px",background:"rgba(245, 245, 245, 0.5)","font-size":"13px",border:"1px solid #BCBCBC","font-family":"Inter-Bold",color:"#182552"}},[e.currentTypeLabel?a("span",[e._v(e._s(e.currentTypeLabel))]):a("span",[e._v("Choose type(s)of content")]),a("a-icon",{attrs:{type:"caret-down"}})],1)],1)],1),a("div",{staticClass:"switch-icon"},[a("div",{class:{"icon-item":!0,"active-icon":"list"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("list")}}},[a("list-mode-icon")],1),a("div",{class:{"icon-item":!0,"active-icon":"card"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("card")}}},[a("pu-bu-icon")],1)])])]),"list"===e.dataListMode?e._l(e.dataList,(function(t,i){return 0===e.currentType||t.type===e.currentType?a("div",{key:i,class:{"browser-item":!0,"odd-line":i%2===0,"active-line":e.currentDataId===t.id},on:{click:function(a){return e.handleSelectDataItem(t)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),a("content-type-icon",{attrs:{type:t.type}}),a("span",{staticClass:"data-name"},[e._v(" "+e._s(t.name)+" ")]),a("span",{staticClass:"data-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime))+" ")])],2),a("span",{staticClass:"arrow-item"},[a("a-icon",{attrs:{type:"more"}})],1)],1):e._e()})):e._e(),"card"===e.dataListMode?[e.dataList.length?a("div",{staticClass:"card-view-mode-wrapper"},e._l(e.dataList,(function(t,i){return 0===e.currentType||t.type===e.currentType?a("div",{key:i,staticClass:"card-item-wrapper",on:{click:function(a){return e.handleSelectDataItem(t)}}},[a("div",{staticClass:"card-item"},[a("data-card-view",{attrs:{"active-flag":e.currentDataId===t.id,cover:t.image,title:t.name,"update-time":t.updateTime,"content-type":t.type}})],1)]):e._e()})),0):e._e()]:e._e(),e.dataList.length||e.dataListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],[e.dataListLoading?a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1):e._e()]],2)])],2)},Ge=[],Ke={name:"GeneralCapabilityBrowser",components:{CardList:R,ContentTypeIcon:d["a"],NoMoreResources:S["a"],DirIcon:I,PuBuIcon:M.a,ListModeIcon:A.a,DataCardView:U},props:{blockWidth:{type:Number,default:200},curriculumId:{type:String,default:null},blockIndex:{type:Number,default:0}},watch:{curriculumId:function(e){this.$logger.info("curriculumId change "+e),this.getGradesByCurriculumId(e)},blockIndex:function(e){this.$logger.info("block index change "+e)}},data:function(){return{typeMap:w["e"],gradeList:[],currentGradeId:null,gradeListLoading:!1,knowledges:[],knowledgeDeep:1,subjectDeep:1,mainKnowledgeList:[],dataList:[],dataListLoading:!1,currentDataId:null,dataListMode:"card",currentTypeLabel:"Choose type（S）of content",currentType:0,hasChildSubject:!0}},created:function(){this.$logger.info("GeneralCapabilityBrowser blockWidth:"+this.blockWidth),this.getGradesByCurriculumId(this.curriculumId)},methods:{getGradesByCurriculumId:function(e){var t=this;this.gradeListLoading=!0,Object(z["a"])({curriculumId:e}).then((function(e){t.$logger.info("GetGradesByCurriculumId",e.result),t.gradeList=e.result,t.gradeList.length?(t.currentGradeId=t.gradeList[0].id,t.get21CenturyKnowledge(t.currentGradeId)):t.$logger.warn("grade list is empty")})).finally((function(){t.gradeListLoading=!1}))},refreshSubjectTree:function(){this.knowledges=[],this.dataList=[],this.getSubjectTree()},handleSelectGradeItem:function(e){this.$logger.info("handleSelectGradeItem ",e),e.id!==this.currentGradeId&&(this.currentGradeId=e.id,this.get21CenturyKnowledge(e.id)),this.handleClickBlock(this.subjectDeep+1,e.name)},get21CenturyKnowledge:function(e){var t=this;this.knowledges=[];var a={knowledgeList:[],knowledgeListLoading:!0,currentKnowledgeId:null};this.knowledges.push(a),this.$logger.info("grade:"+e+", curriculumId:"+this.curriculumId),Object(u["Get21Century"])({gradeId:e,curriculumId:this.curriculumId}).then((function(e){t.$logger.info("Get21Century response",e),t.mainKnowledgeList=e.result?e.result:[],t.knowledgeDeep=1,t.mainKnowledgeList.length>0&&(t.knowledges[0].knowledgeList=t.mainKnowledgeList,t.$logger.info("knowledges",t.knowledges)),t.$logger.info("mainKnowledgeList",t.knowledgeTree)})).finally((function(){t.knowledges.length>0&&(t.knowledges[0].knowledgeListLoading=!1)}))},getKnowledgeDeep:function(e,t){var a=this;return this.knowledgeDeep=0,this.knowledgeDeep=Math.max(this.knowledgeDeep,t),e.children&&e.children.forEach((function(e){a.getKnowledgeDeep(e,t+1)})),this.knowledgeDeep},handleSelectKnowledgeItem:function(e,t){if(this.$logger.info("handleSelectKnowledgeItem",e),this.knowledgeDeep=this.getKnowledgeDeep(e,t+1),this.currentKnowledgeId=e.id,t+1===this.knowledgeDeep)return this.$logger.info("handleSelectSubKnowledgeItem last",e),e.id!==this.knowledges[t].currentKnowledgeId&&(this.knowledges[t].currentKnowledgeId=e.id,this.dataList=[],this.knowledgeQueryContentByDescriptionId(e.id)),void this.handleClickBlock(this.subjectDeep+this.knowledgeDeep,e.name);this.knowledges.splice(t+1),this.knowledges.push({knowledgeList:[],knowledgeListLoading:!1,currentKnowledgeId:null});var a=t+1;this.knowledges[t].currentKnowledgeId=e.id,this.knowledges[a].knowledgeListLoading=!0,this.knowledges[a].knowledgeList=e.children,this.knowledges[a].knowledgeListLoading=!1,this.$logger.info("knowledges",this.knowledges),this.handleClickBlock(this.subjectDeep+2+t,e.name)},knowledgeQueryContentByDescriptionId:function(e){var t=this;this.dataListLoading=!0,this.$logger.info("knowledgeQueryContentByDescriptionId "+e),Object(u["KnowledgeQueryContentByDescriptionId"])({descriptionId:e}).then((function(e){t.$logger.info("KnowledgeQueryContentByDescriptionId response",e.result),t.dataList=e.result})).finally((function(){t.dataListLoading=!1}))},handleSelectDataItem:function(e){this.$logger.info("handleSelectDataItem ",e),this.currentDataId=e.id,this.$emit("previewDetail",e)},handleClickBlock:function(e,t){this.$logger.info("handleClickBlock "+e),this.$emit("clickBlock",{curriculumId:this.curriculumId,gradeId:this.currentGradeId,subjectId:this.currentSubSubjectId?this.currentSubSubjectId:this.currentMainSubjectId,knowledgeId:this.currentKnowledgeId,tagType:q["T"].century}),this.$emit("blockCollapse",{blockIndex:e,path:t})},handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},toggleType:function(e,t){this.$logger.info("toggleType "+e+" label "+t),this.currentType=e,this.currentTypeLabel=t}}},Ve=Ke,$e=(a("17db"),Object(L["a"])(Ve,Fe,Ge,!1,null,"2ff853c2",null)),Ue=$e.exports,ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"browser-block",attrs:{"data-type":"SubjectSpecificBrowser"}},[a("div",{staticClass:"browser-block-item",style:{width:"15vw",minWidth:"15vw"}},[e._l(e.mainSubjectList,(function(t,i){return a("div",{key:i,class:{"browser-item":!0,"odd-line":i%2===0,"active-line":e.currentMainSubjectId===t.id},on:{click:function(a){return e.handleSelectMainSubjectItem(t)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),e.currentMainSubjectId!==t.id?a("dir-icon",{attrs:{"dir-type":"blue"}}):e._e(),e.currentMainSubjectId===t.id?a("dir-icon",{attrs:{"dir-type":"opened"}}):e._e(),e._v(" "+e._s(t.name)+" ")],2),a("span",{staticClass:"arrow-item"},[a("a-icon",{attrs:{type:"right"}})],1)],1)})),e.mainSubjectList.length||e.mainSubjectListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],e.mainSubjectListLoading?[a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1)]:e._e()],2),a("div",{staticClass:"browser-block-item-wrapper"},[a("div",{staticClass:"browser-block-item",style:{width:"15vw",minWidth:"15vw"}},[e._l(e.gradeList,(function(t,i){return a("div",{key:i,class:{"browser-item":!0,"odd-line":i%2===0,"active-line":e.currentGradeId===t.id},on:{click:function(a){return e.handleSelectGradeItem(t)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),e.currentGradeId!==t.id?a("dir-icon",{attrs:{"dir-type":"blue"}}):e._e(),e.currentGradeId===t.id?a("dir-icon",{attrs:{"dir-type":"opened"}}):e._e(),e._v(" "+e._s(t.name)+" ")],2)],1)})),e.gradeList.length||e.gradeListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],e.gradeListLoading?[a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1)]:e._e()],2)]),e._l(e.knowledges,(function(t,i){return a("div",{key:i,staticClass:"browser-block-item browser-block-item-wrapper",style:{width:"15vw",minWidth:"15vw"}},[e._l(t.knowledgeList,(function(s,n){return a("div",{key:n,class:{"browser-item":!0,"odd-line":n%2===0,"active-line":t.currentKnowledgeId===s.id},on:{click:function(t){return e.handleSelectKnowledgeItem(s,i)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(s.name)+" ")]),t.currentKnowledgeId!==s.id?a("dir-icon",{attrs:{"dir-type":"blue"}}):e._e(),t.currentKnowledgeId===s.id?a("dir-icon",{attrs:{"dir-type":"opened"}}):e._e(),e._v(" "+e._s(s.name)+" ")],2),a("span",{staticClass:"arrow-item"},[a("a-icon",{attrs:{type:"right"}})],1)],1)})),t.knowledgeList.length||t.knowledgeListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],t.knowledgeListLoading?[a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1)]:e._e()],2)})),a("div",{staticClass:"browser-block-item-wrapper",style:{width:"15vw",minWidth:"15vw"}},[a("div",{staticClass:"browser-block-item-last",style:{width:"15vw",minWidth:"15vw","flex-direction":"list"===e.dataListMode?"column":"row"}},[a("div",{staticClass:"switch-type-wrapper"},[a("div",{staticClass:"switch-type"},[a("div",{staticClass:"switch-label"},[a("a-dropdown",[a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{attrs:{disabled:""}},[a("span",[e._v(e._s(e.$t("teacher.my-content.choose-types-of-content")))])]),a("a-menu-item",{on:{click:function(t){e.toggleType(0,e.$t("teacher.my-content.all-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.all-type")))])]),-1!==e.$store.getters.roles.indexOf("teacher")?[a("a-menu-item",{on:{click:function(t){e.toggleType(e.typeMap["unit-plan"],e.$t("teacher.my-content.unit-plan-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.unit-plan-type")))])]),a("a-menu-item",{on:{click:function(t){e.toggleType(e.typeMap.evaluation,e.$t("teacher.my-content.evaluation-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.evaluation-type")))])])]:e._e(),a("a-menu-item",{on:{click:function(t){e.toggleType(e.typeMap.task,e.$t("teacher.my-content.tasks-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.tasks-type")))])]),-1!==e.$store.getters.roles.indexOf("expert")?[a("a-menu-item",{on:{click:function(t){e.toggleType(e.typeMap.topic,e.$t("teacher.my-content.topics-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.topics-type")))])])]:e._e()],2),a("a-button",{staticStyle:{padding:"0 10px",display:"flex","align-items":"center",height:"35px","border-radius":"6px",background:"rgba(245, 245, 245, 0.5)","font-size":"13px",border:"1px solid #BCBCBC","font-family":"Inter-Bold",color:"#182552"}},[e.currentTypeLabel?a("span",[e._v(e._s(e.currentTypeLabel))]):a("span",[e._v("Choose type(s)of content")]),a("a-icon",{attrs:{type:"caret-down"}})],1)],1)],1),a("div",{staticClass:"switch-icon"},[a("div",{class:{"icon-item":!0,"active-icon":"list"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("list")}}},[a("list-mode-icon")],1),a("div",{class:{"icon-item":!0,"active-icon":"card"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("card")}}},[a("pu-bu-icon")],1)])])]),"list"===e.dataListMode?e._l(e.dataList,(function(t,i){return 0===e.currentType||t.type===e.currentType?a("div",{key:i,class:{"browser-item":!0,"odd-line":i%2===0,"active-line":e.currentDataId===t.id},on:{click:function(a){return e.handleSelectDataItem(t)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),a("content-type-icon",{attrs:{type:t.type}}),a("span",{staticClass:"data-name"},[e._v(" "+e._s(t.name)+" ")]),a("span",{staticClass:"data-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime))+" ")])],2),a("span",{staticClass:"arrow-item"},[a("a-icon",{attrs:{type:"more"}})],1)],1):e._e()})):e._e(),"card"===e.dataListMode?[e.dataList.length?a("div",{staticClass:"card-view-mode-wrapper"},e._l(e.dataList,(function(t,i){return 0===e.currentType||t.type===e.currentType?a("div",{key:i,staticClass:"card-item-wrapper",on:{click:function(a){return e.handleSelectDataItem(t)}}},[a("div",{staticClass:"card-item"},[a("data-card-view",{attrs:{"active-flag":e.currentDataId===t.id,cover:t.image,title:t.name,"update-time":t.updateTime,"content-type":t.type}})],1)]):e._e()})),0):e._e()]:e._e(),e.dataList.length||e.dataListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],[e.dataListLoading?a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1):e._e()]],2)])],2)},qe=[],Qe=a("c418"),He=Qe.SubjectTree,We={name:"SubjectSpecificBrowser",components:{CardList:R,ContentTypeIcon:d["a"],NoMoreResources:S["a"],DirIcon:I,PuBuIcon:M.a,ListModeIcon:A.a,DataCardView:U},props:{blockWidth:{type:Number,default:200},curriculumId:{type:String,default:null},blockIndex:{type:Number,default:0}},watch:{curriculumId:function(e){this.$logger.info("curriculumId change "+e),this.refreshSubjectTree()},blockIndex:function(e){this.$logger.info("block index change "+e)}},data:function(){return{typeMap:w["e"],gradeList:[],currentGradeId:null,gradeListLoading:!1,knowledges:[],knowledgeDeep:1,subjectDeep:2,mainSubjectList:[],mainSubjectListLoading:!0,currentMainSubjectId:null,mainKnowledgeList:[],dataList:[],dataListLoading:!1,currentDataId:null,dataListMode:"card",currentTypeLabel:"Choose type（S）of content",currentType:0,hasChildSubject:!0}},created:function(){this.$logger.info("CurriculumBrowser blockWidth:"+this.blockWidth),this.getSubjectTree()},methods:{getGradesByCurriculumId:function(e){var t=this;Object(z["a"])({curriculumId:e}).then((function(e){t.$logger.info("GetGradesByCurriculumId",e.result),t.gradeList=e.result}))},GetLibraryGrades:function(e,t,a){var i=this;this.gradeListLoading=!0,this.gradeList=[],Object(z["b"])({curriculumId:e,subjectId:t,type:a}).then((function(e){i.$logger.info("GetLibraryGrades",e.result),i.gradeList=e.result})).finally((function(){i.gradeListLoading=!1}))},refreshSubjectTree:function(){this.mainSubjectList=[],this.knowledges=[],this.dataList=[],this.getSubjectTree()},getSubjectTree:function(){var e=this;this.mainSubjectListLoading=!0,He({curriculumId:this.curriculumId}).then((function(t){e.$logger.info("getSubjectTree response",t.result),e.mainSubjectList=t.result.filter((function(e){return e.subjectType===q["P"].Skill||e.subjectType===q["P"].LearnAndSkill}))})).finally((function(){e.mainSubjectListLoading=!1}))},handleSelectMainSubjectItem:function(e){this.hasChildSubject=!0,this.subjectDeep=2,this.$logger.info("handleSelectMainSubjectItem ",e,this.currentMainSubjectId),e.id!==this.currentMainSubjectId&&(this.currentMainSubjectId=e.id,this.knowledges=[],this.currentGradeId=null,this.GetLibraryGrades(this.curriculumId,this.currentMainSubjectId,q["T"].skill)),this.handleClickBlock(2,e.name)},handleSelectGradeItem:function(e){this.$logger.info("handleSelectGradeItem ",e),e.id!==this.currentGradeId&&(this.currentGradeId=e.id,this.getKnowledgeTree()),this.handleClickBlock(this.subjectDeep+1,e.name)},getKnowledgeDeep:function(e,t){var a=this;return this.knowledgeDeep=0,this.knowledgeDeep=Math.max(this.knowledgeDeep,t),e.children&&e.children.forEach((function(e){a.getKnowledgeDeep(e,t+1)})),this.knowledgeDeep},getKnowledgeTree:function(){var e=this;this.knowledges=[];var t={knowledgeList:[],knowledgeListLoading:!0,currentKnowledgeId:null};this.knowledges.push(t),this.$logger.info("grade:"+this.currentGradeId+", currentMainSubjectId:"+this.currentMainSubjectId),Object(u["KnowledgeGetTree"])({gradeId:this.currentGradeId,subjectId:this.currentMainSubjectId,tagType:q["T"].skill}).then((function(t){e.$logger.info("KnowledgeGetTree response",t),e.mainKnowledgeList=t.result,e.knowledgeDeep=1,e.mainKnowledgeList.length>0&&(e.knowledges[0].knowledgeList=e.mainKnowledgeList,e.$logger.info("knowledges",e.knowledges)),e.$logger.info("mainKnowledgeList",e.knowledgeTree)})).finally((function(){e.knowledges.length>0&&(e.knowledges[0].knowledgeListLoading=!1)}))},handleSelectKnowledgeItem:function(e,t){if(this.$logger.info("handleSelectKnowledgeItem",e),this.knowledgeDeep=this.getKnowledgeDeep(e,t+1),t+1===this.knowledgeDeep)return this.$logger.info("knowledgeQueryContentByDescriptionId",e),e.id!==this.knowledges[t].currentKnowledgeId&&(this.knowledges[t].currentKnowledgeId=e.id,this.dataList=[],this.knowledgeQueryContentByDescriptionId(e.id)),void this.$emit("clickBlock",{curriculumId:this.curriculumId,gradeId:this.currentGradeId,subjectId:this.currentSubSubjectId?this.currentSubSubjectId:this.currentMainSubjectId,knowledgeId:e.id,tagType:q["T"].skill});this.knowledges.splice(t+1),this.knowledges.push({knowledgeList:[],knowledgeListLoading:!1,currentKnowledgeId:null});var a=t+1;this.knowledges[t].currentKnowledgeId=e.id,this.knowledges[a].knowledgeListLoading=!0,this.knowledges[a].knowledgeList=e.children,this.knowledges[a].knowledgeListLoading=!1,this.$logger.info("knowledges",this.knowledges),this.handleClickBlock(this.subjectDeep+2+t,e.name)},handleSelectSubKnowledgeItem:function(e){this.$logger.info("handleSelectSubKnowledgeItem",e),e.id!==this.currentSubKnowledgeId&&(this.currentSubKnowledgeId=e.id,this.dataList=[],this.knowledgeQueryContentByDescriptionId(this.currentSubKnowledgeId)),this.handleClickBlock(6,e.name)},knowledgeQueryContentByDescriptionId:function(e){var t=this;this.dataListLoading=!0,this.$logger.info("knowledgeQueryContentByDescriptionId "+e),Object(u["KnowledgeQueryContentByDescriptionId"])({descriptionId:e}).then((function(e){t.$logger.info("KnowledgeQueryContentByDescriptionId response",e.result),t.dataList=e.result})).finally((function(){t.dataListLoading=!1}))},handleSelectDataItem:function(e){this.$logger.info("handleSelectDataItem ",e),this.currentDataId=e.id,this.$emit("previewDetail",e)},handleClickBlock:function(e,t){this.$logger.info("handleClickBlock "+e),this.$emit("clickBlock",{curriculumId:this.curriculumId,gradeId:this.currentGradeId,subjectId:this.currentSubSubjectId?this.currentSubSubjectId:this.currentMainSubjectId,knowledgeId:this.currentSubKnowledgeId?this.currentSubKnowledgeId:this.currentKnowledgeId,tagType:this.curriculumId===q["h"].IBPYP?q["T"].ibSkill:q["T"].skill}),this.$emit("blockCollapse",{blockIndex:e,path:t})},handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},toggleType:function(e,t){this.$logger.info("toggleType "+e+" label "+t),this.currentType=e,this.currentTypeLabel=t}}},Ze=We,Je=(a("182c"),Object(L["a"])(Ze,ze,qe,!1,null,"34b5e360",null)),Ye=Je.exports,Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"browser-block",attrs:{"data-type":"idu"}},[a("div",{staticClass:"browser-block-item-wrapper"},[a("div",{staticClass:"browser-block-item",style:{width:"15vw",minWidth:"15vw"}},[e._l(e.gradeList,(function(t,i){return a("div",{key:i,class:{"browser-item":!0,"odd-line":i%2===0,"active-line":e.currentGradeId===t.id},on:{click:function(a){return e.handleSelectGradeItem(t)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),e.currentGradeId!==t.id?a("dir-icon",{attrs:{"dir-type":"blue"}}):e._e(),e.currentGradeId===t.id?a("dir-icon",{attrs:{"dir-type":"opened"}}):e._e(),e._v(" "+e._s(t.name)+" ")],2)],1)})),e.gradeList.length||e.gradeListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],e.gradeListLoading?[a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1)]:e._e()],2)]),e._l(e.knowledges,(function(t,i){return a("div",{key:i,staticClass:"browser-block-item browser-block-item-wrapper",style:{width:"15vw",minWidth:"15vw"}},[e._l(t.knowledgeList,(function(s,n){return a("div",{key:n,class:{"browser-item":!0,"odd-line":n%2===0,"active-line":t.currentKnowledgeId===s.id},on:{click:function(t){return e.handleSelectKnowledgeItem(s,i)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(s.name)+" ")]),t.currentKnowledgeId!==s.id?a("dir-icon",{attrs:{"dir-type":"blue"}}):e._e(),t.currentKnowledgeId===s.id?a("dir-icon",{attrs:{"dir-type":"opened"}}):e._e(),e._v(" "+e._s(s.name)+" ")],2),a("span",{staticClass:"arrow-item"},[a("a-icon",{attrs:{type:"right"}})],1)],1)})),t.knowledgeList.length||t.knowledgeListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],t.knowledgeListLoading?[a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1)]:e._e()],2)})),a("div",{staticClass:"browser-block-item-wrapper",style:{width:"15vw",minWidth:"15vw"}},[a("div",{staticClass:"browser-block-item-last",style:{width:"15vw",minWidth:"15vw","flex-direction":"list"===e.dataListMode?"column":"row"}},[a("div",{staticClass:"switch-type-wrapper"},[a("div",{staticClass:"switch-type"},[a("div",{staticClass:"switch-label"},[a("a-dropdown",[a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{attrs:{disabled:""}},[a("span",[e._v(e._s(e.$t("teacher.my-content.choose-types-of-content")))])]),a("a-menu-item",{on:{click:function(t){e.toggleType(0,e.$t("teacher.my-content.all-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.all-type")))])]),-1!==e.$store.getters.roles.indexOf("teacher")?[a("a-menu-item",{on:{click:function(t){e.toggleType(e.typeMap["unit-plan"],e.$t("teacher.my-content.unit-plan-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.unit-plan-type")))])]),a("a-menu-item",{on:{click:function(t){e.toggleType(e.typeMap.evaluation,e.$t("teacher.my-content.evaluation-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.evaluation-type")))])])]:e._e(),a("a-menu-item",{on:{click:function(t){e.toggleType(e.typeMap.task,e.$t("teacher.my-content.tasks-type"))}}},[a("span",[e._v(e._s(e.$t("teacher.my-content.tasks-type")))])])],2),a("a-button",{staticStyle:{padding:"0 10px",display:"flex","align-items":"center",height:"35px","border-radius":"6px",background:"rgba(245, 245, 245, 0.5)","font-size":"13px",border:"1px solid #BCBCBC","font-family":"Inter-Bold",color:"#182552"}},[e.currentTypeLabel?a("span",[e._v(e._s(e.currentTypeLabel))]):a("span",[e._v("Choose type(s)of content")]),a("a-icon",{attrs:{type:"caret-down"}})],1)],1)],1),a("div",{staticClass:"switch-icon"},[a("div",{class:{"icon-item":!0,"active-icon":"list"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("list")}}},[a("list-mode-icon")],1),a("div",{class:{"icon-item":!0,"active-icon":"card"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("card")}}},[a("pu-bu-icon")],1)])])]),"list"===e.dataListMode?e._l(e.dataList,(function(t,i){return 0===e.currentType||t.type===e.currentType?a("div",{key:i,class:{"browser-item":!0,"odd-line":i%2===0,"active-line":e.currentDataId===t.id},on:{click:function(a){return e.handleSelectDataItem(t)}}},[a("a-tooltip",{attrs:{mouseEnterDelay:1}},[a("template",{slot:"title"},[e._v(" "+e._s(t.name)+" ")]),a("content-type-icon",{attrs:{type:t.type}}),a("span",{staticClass:"data-name"},[e._v(" "+e._s(t.name)+" ")]),a("span",{staticClass:"data-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime))+" ")])],2),a("span",{staticClass:"arrow-item"},[a("a-icon",{attrs:{type:"more"}})],1)],1):e._e()})):e._e(),"card"===e.dataListMode?[e.dataList.length?a("div",{staticClass:"card-view-mode-wrapper"},e._l(e.dataList,(function(t,i){return 0===e.currentType||t.type===e.currentType?a("div",{key:i,staticClass:"card-item-wrapper",on:{click:function(a){return e.handleSelectDataItem(t)}}},[a("div",{staticClass:"card-item"},[a("data-card-view",{attrs:{"active-flag":e.currentDataId===t.id,cover:t.image,title:t.name,"update-time":t.updateTime,"content-type":t.type}})],1)]):e._e()})),0):e._e()]:e._e(),e.dataList.length||e.dataListLoading?e._e():[a("div",{staticClass:"no-data"},[a("no-more-resources")],1)],[e.dataListLoading?a("div",{staticClass:"loading-wrapper"},[a("a-spin")],1):e._e()]],2)])],2)},et=[],tt={name:"IduBrowser",components:{CardList:R,ContentTypeIcon:d["a"],NoMoreResources:S["a"],DirIcon:I,PuBuIcon:M.a,ListModeIcon:A.a,DataCardView:U},props:{blockWidth:{type:Number,default:200},curriculumId:{type:String,default:null},blockIndex:{type:Number,default:0}},watch:{curriculumId:function(e){this.$logger.info("curriculumId change "+e),this.refreshSubjectTree(),this.getGradesByCurriculumId(e)},blockIndex:function(e){this.$logger.info("block index change "+e)}},data:function(){return{typeMap:w["e"],gradeList:[],currentGradeId:null,gradeListLoading:!1,knowledges:[],knowledgeDeep:1,subjectDeep:2,mainSubjectList:[],mainSubjectListLoading:!0,currentMainSubjectId:null,mainKnowledgeList:[],dataList:[],dataListLoading:!1,currentDataId:null,dataListMode:"card",currentTypeLabel:"Choose type（S）of content",currentType:0,hasChildSubject:!0,currentSubKnowledgeId:null}},created:function(){this.$logger.info("CurriculumBrowser blockWidth:"+this.blockWidth),this.getGradesByCurriculumId(this.curriculumId)},methods:{getGradesByCurriculumId:function(e){var t=this;Object(z["a"])({curriculumId:e}).then((function(e){t.$logger.info("GetGradesByCurriculumId",e.result),t.gradeList=e.result}))},refreshSubjectTree:function(){this.mainSubjectList=[],this.knowledges=[],this.dataList=[]},handleSelectMainSubjectItem:function(e){this.hasChildSubject=!0,this.subjectDeep=2,this.$logger.info("handleSelectMainSubjectItem ",e,this.currentMainSubjectId),e.id!==this.currentMainSubjectId&&(this.currentMainSubjectId=e.id,this.knowledges=[],this.currentGradeId=null),this.handleClickBlock(1,e.name)},handleSelectGradeItem:function(e){this.$logger.info("handleSelectGradeItem ",e),e.id!==this.currentGradeId&&(this.currentGradeId=e.id,this.handleClickBlock(this.blockIndex+1,e.name),this.getKnowledgeTree())},getKnowledgeDeep:function(e,t){var a=this;return this.knowledgeDeep=0,this.knowledgeDeep=Math.max(this.knowledgeDeep,t),e.children&&e.children.forEach((function(e){a.getKnowledgeDeep(e,t+1)})),this.knowledgeDeep},getKnowledgeTree:function(){var e=this;this.knowledges=[];var t={knowledgeList:[],knowledgeListLoading:!0,currentKnowledgeId:null};this.knowledges.push(t),this.$logger.info("grade:"+this.currentGradeId+", currentMainSubjectId:"+this.currentMainSubjectId),Object(u["GetIBIduList"])({gradeId:this.currentGradeId}).then((function(t){e.$logger.info("KnowledgeGetTree response",t),e.mainKnowledgeList=t.result,e.knowledgeDeep=1,e.mainKnowledgeList.length>0&&(e.knowledges[0].knowledgeList=e.mainKnowledgeList,e.$logger.info("knowledges",e.knowledges)),e.$logger.info("mainKnowledgeList",e.knowledgeTree)})).finally((function(){e.knowledges.length>0&&(e.knowledges[0].knowledgeListLoading=!1)}))},handleSelectKnowledgeItem:function(e,t){if(this.$logger.info("handleSelectKnowledgeItem",e),this.currentSubKnowledgeId=e.id,this.knowledgeDeep=this.getKnowledgeDeep(e,t+1),t+1===this.knowledgeDeep)return this.$logger.info("knowledgeQueryContentByDescriptionId",e),e.id!==this.knowledges[t].currentKnowledgeId&&(this.knowledges[t].currentKnowledgeId=e.id,this.dataList=[],this.knowledgeQueryContentByDescriptionId(e.id)),void this.handleClickBlock(1+this.knowledgeDeep,e.name);this.knowledges.splice(t+1),this.knowledges.push({knowledgeList:[],knowledgeListLoading:!1,currentKnowledgeId:null});var a=t+1;this.knowledges[t].currentKnowledgeId=e.id,this.knowledges[a].knowledgeListLoading=!0,this.knowledges[a].knowledgeList=e.children,this.knowledges[a].knowledgeListLoading=!1,this.$logger.info("knowledges",this.knowledges),this.handleClickBlock(1+t,e.name)},handleSelectSubKnowledgeItem:function(e){this.$logger.info("handleSelectSubKnowledgeItem",e),e.id!==this.currentSubKnowledgeId&&(this.currentSubKnowledgeId=e.id,this.dataList=[],this.knowledgeQueryContentByDescriptionId(this.currentSubKnowledgeId)),this.handleClickBlock(5,e.name)},knowledgeQueryContentByDescriptionId:function(e){var t=this;this.dataListLoading=!0,this.$logger.info("knowledgeQueryContentByDescriptionId "+e),Object(u["KnowledgeQueryContentByDescriptionId"])({descriptionId:e}).then((function(e){t.$logger.info("KnowledgeQueryContentByDescriptionId response",e.result),t.dataList=e.result})).finally((function(){t.dataListLoading=!1}))},handleSelectDataItem:function(e){this.$logger.info("handleSelectDataItem ",e),this.currentDataId=e.id,this.$emit("previewDetail",e)},handleClickBlock:function(e,t){this.$logger.info("handleClickBlock "+e),this.$emit("clickBlock",{curriculumId:this.curriculumId,gradeId:this.currentGradeId,subjectId:this.currentMainSubjectId,knowledgeId:this.currentSubKnowledgeId,tagType:q["T"].idu}),this.$emit("blockCollapse",{blockIndex:e,path:t})},handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},toggleType:function(e,t){this.$logger.info("toggleType "+e+" label "+t),this.currentType=e,this.currentTypeLabel=t}}},at=tt,it=(a("57fd"),Object(L["a"])(at,Xe,et,!1,null,"724dec8a",null)),st=it.exports,nt=a("7140"),rt=a.n(nt),ot=a("d8e8"),lt=a.n(ot),ct=a("6964"),dt={browserMode:"browserMode",searchMode:"searchMode"},ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-filter"},[a("a-button",{staticClass:"clear-all",staticStyle:{position:"absolute",right:"0px"},attrs:{type:"link"},on:{click:function(t){return e.clearFilter()}}},[e._v(" Clear all ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isDisableAgeSubject,expression:"!isDisableAgeSubject"}],staticClass:"filter-item"},[a("div",{staticClass:"filter-label",on:{click:function(t){return e.handleCollapse("age")}}},[e._v(" Age "),a("span",{staticClass:"collapse-icon"},[a("a-icon",{directives:[{name:"show",rawName:"v-show",value:-1===e.collapseList.indexOf("age"),expression:"collapseList.indexOf('age') === -1"}],style:{fontSize:"10px",color:"#666"},attrs:{type:"down"}}),a("a-icon",{directives:[{name:"show",rawName:"v-show",value:-1!==e.collapseList.indexOf("age"),expression:"collapseList.indexOf('age') !== -1"}],style:{fontSize:"10px",color:"#666"},attrs:{type:"up"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:-1!==e.collapseList.indexOf("age"),expression:"collapseList.indexOf('age') !== -1"}],staticClass:"filter-option-list"},[a("a-select",{staticClass:"age-select",on:{change:e.updateFilterConfig},model:{value:e.filter.age,callback:function(t){e.$set(e.filter,"age",t)},expression:"filter.age"}},e._l(e.ageOptions,(function(t,i){return a("a-select-option",{key:i,attrs:{value:t.label}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isDisableAgeSubject,expression:"!isDisableAgeSubject"}],staticClass:"filter-item"},[a("div",{staticClass:"filter-label",on:{click:function(t){return e.handleCollapse("subject")}}},[e._v(" Subject "),a("span",{staticClass:"collapse-icon"},[a("a-icon",{directives:[{name:"show",rawName:"v-show",value:-1===e.collapseList.indexOf("subject"),expression:"collapseList.indexOf('subject') === -1"}],style:{fontSize:"10px",color:"#666"},attrs:{type:"down"}}),a("a-icon",{directives:[{name:"show",rawName:"v-show",value:-1!==e.collapseList.indexOf("subject"),expression:"collapseList.indexOf('subject') !== -1"}],style:{fontSize:"10px",color:"#666"},attrs:{type:"up"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:-1!==e.collapseList.indexOf("subject"),expression:"collapseList.indexOf('subject') !== -1"}],staticClass:"filter-option-list"},[a("a-checkbox-group",{attrs:{options:e.subjectOptions},on:{change:e.updateFilterConfig},model:{value:e.filter.subject,callback:function(t){e.$set(e.filter,"subject",t)},expression:"filter.subject"}})],1)]),a("div",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"filter-item"},[a("div",{staticClass:"filter-label",on:{click:function(t){return e.handleCollapse("type")}}},[e._v(" Type "),a("span",{staticClass:"collapse-icon"},[a("a-icon",{directives:[{name:"show",rawName:"v-show",value:-1===e.collapseList.indexOf("type"),expression:"collapseList.indexOf('type') === -1"}],style:{fontSize:"10px",color:"#666"},attrs:{type:"down"}}),a("a-icon",{directives:[{name:"show",rawName:"v-show",value:-1!==e.collapseList.indexOf("type"),expression:"collapseList.indexOf('type') !== -1"}],style:{fontSize:"10px",color:"#666"},attrs:{type:"up"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:-1!==e.collapseList.indexOf("type"),expression:"collapseList.indexOf('type') !== -1"}],staticClass:"filter-option-list"},[a("a-checkbox-group",{attrs:{options:e.typeOptions},on:{change:e.updateFilterConfig},model:{value:e.filter.type,callback:function(t){e.$set(e.filter,"type",t)},expression:"filter.type"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:-1!==e.collapseList.indexOf("type"),expression:"collapseList.indexOf('type') !== -1"}],staticClass:"filter-item"},[a("div",{staticClass:"filter-label"}),a("div",{staticClass:"filter-toggle-list"},[a("a-radio-group",{attrs:{name:"radioGroup","default-value":1},on:{change:e.updateFilterConfig},model:{value:e.filter.faSaActivityType,callback:function(t){e.$set(e.filter,"faSaActivityType",t)},expression:"filter.faSaActivityType"}},[a("a-radio",{attrs:{value:1}},[e._v(" FA ")]),a("a-radio",{attrs:{value:2}},[e._v(" SA ")]),a("a-radio",{attrs:{value:3}},[e._v(" Activity ")])],1)],1)]),e._l(e.filterFaOptions,(function(t,i){return 1===e.filter.faSaActivityType?a("div",{key:i,staticClass:"filter-item"},[a("div",{staticClass:"filter-label",on:{click:function(a){return e.handleCollapse(t.name)}}},[e._v(" "+e._s(t.name)+" "),a("span",{staticClass:"collapse-icon"},[a("a-icon",{directives:[{name:"show",rawName:"v-show",value:-1===e.collapseList.indexOf(t.name),expression:"collapseList.indexOf(parent.name) === -1"}],style:{fontSize:"10px",color:"#666"},attrs:{type:"down"}}),a("a-icon",{directives:[{name:"show",rawName:"v-show",value:-1!==e.collapseList.indexOf(t.name),expression:"collapseList.indexOf(parent.name) !== -1"}],style:{fontSize:"10px",color:"#666"},attrs:{type:"up"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:-1!==e.collapseList.indexOf(t.name),expression:"collapseList.indexOf(parent.name) !== -1"}],staticClass:"filter-option-list"},[a("a-checkbox-group",{attrs:{options:e.getGroupOptions(t)},on:{change:e.updateFilterConfig},model:{value:e.faTags[i],callback:function(t){e.$set(e.faTags,i,t)},expression:"faTags[index]"}})],1)]):e._e()})),e._l(e.filterSaOptions,(function(t,i){return 2===e.filter.faSaActivityType?a("div",{key:i,staticClass:"filter-item"},[a("div",{staticClass:"filter-label",on:{click:function(a){return e.handleCollapse(t.name)}}},[e._v(" "+e._s(t.name)+" "),a("span",{staticClass:"collapse-icon"},[a("a-icon",{directives:[{name:"show",rawName:"v-show",value:-1===e.collapseList.indexOf(t.name),expression:"collapseList.indexOf(parent.name) === -1"}],style:{fontSize:"10px",color:"#666"},attrs:{type:"down"}}),a("a-icon",{directives:[{name:"show",rawName:"v-show",value:-1!==e.collapseList.indexOf(t.name),expression:"collapseList.indexOf(parent.name) !== -1"}],style:{fontSize:"10px",color:"#666"},attrs:{type:"up"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:-1!==e.collapseList.indexOf(t.name),expression:"collapseList.indexOf(parent.name) !== -1"}],staticClass:"filter-option-list"},[a("a-checkbox-group",{attrs:{options:e.getGroupOptions(t)},on:{change:e.updateFilterConfig},model:{value:e.saTags[i],callback:function(t){e.$set(e.saTags,i,t)},expression:"saTags[index]"}})],1)]):e._e()})),e._l(e.filterActivityOptions,(function(t,i){return 3===e.filter.faSaActivityType?a("div",{key:i,staticClass:"filter-item"},[a("div",{staticClass:"filter-label",on:{click:function(a){return e.handleCollapse(t.name)}}},[e._v(" "+e._s(t.name)+" "),a("span",{staticClass:"collapse-icon"},[a("a-icon",{directives:[{name:"show",rawName:"v-show",value:-1===e.collapseList.indexOf(t.name),expression:"collapseList.indexOf(parent.name) === -1"}],style:{fontSize:"10px",color:"#666"},attrs:{type:"down"}}),a("a-icon",{directives:[{name:"show",rawName:"v-show",value:-1!==e.collapseList.indexOf(t.name),expression:"collapseList.indexOf(parent.name) !== -1"}],style:{fontSize:"10px",color:"#666"},attrs:{type:"up"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:-1!==e.collapseList.indexOf(t.name),expression:"collapseList.indexOf(parent.name) !== -1"}],staticClass:"filter-option-list"},[a("a-checkbox-group",{attrs:{options:e.getGroupOptions(t)},on:{change:e.updateFilterConfig},model:{value:e.activityTags[i],callback:function(t){e.$set(e.activityTags,i,t)},expression:"activityTags[index]"}})],1)]):e._e()}))],2)},pt=[],ht={name:"SearchFilter",props:{filterConfig:{type:Object,required:!0},subjectOptions:{type:Array,default:function(){return[]}},ageOptions:{type:Array,default:function(){return[]}},typeOptions:{type:Array,default:function(){return[]}},teachingStrategyOptions:{type:Array,default:function(){return[]}},filterSaOptions:{type:Array,default:function(){return[]}},filterFaOptions:{type:Array,default:function(){return[]}},filterActivityOptions:{type:Array,default:function(){return[]}},isDisableAgeSubject:{type:Boolean,default:!1}},data:function(){return{faTags:[],saTags:[],activityTags:[],filter:{age:"All",subject:[],type:[],faSaActivityType:""},collapseList:[]}},created:function(){var e=this;this.$logger.info("SearchFilter created",this.filterConfig),this.filterSaOptions.forEach((function(t,a){e.saTags.push([])})),this.filterFaOptions.forEach((function(t,a){e.faTags.push([])})),this.filterActivityOptions.forEach((function(t,a){e.activityTags.push([])})),this.$emit("update-filter-context",this)},methods:{formatFilterConfig:function(){var e=this;this.filter.faTags=[],this.faTags.forEach((function(t,a){t.forEach((function(t){t&&e.filter.faTags.push(t)}))})),this.filter.saTags=[],this.saTags.forEach((function(t,a){t.forEach((function(t){t&&e.filter.saTags.push(t)}))})),this.filter.activityTags=[],this.activityTags.forEach((function(t,a){t.forEach((function(t){t&&e.filter.activityTags.push(t)}))}))},updateFilterConfig:function(){this.formatFilterConfig(),this.$logger.info("updateFilterConfig",this.filter),this.$emit("filter-config-update",this.filter)},getGroupOptions:function(e){var t=[];return e.customDeep>1?e.children.forEach((function(e){e.keywords.forEach((function(a){t.push({label:e.name+"-"+a,value:a})}))})):e.keywords.forEach((function(e){t.push({label:e,value:e})})),t},clearFilter:function(){this.filter={age:"All",subject:[],type:[],faSaActivityType:""},this.faTags=[],this.saTags=[],this.activityTags=[],this.updateFilterConfig()},getFilterConfig:function(){return this.formatFilterConfig(),JSON.parse(JSON.stringify(this.filter))},handleCollapse:function(e){var t=this.collapseList.indexOf(e);-1===t?this.collapseList.push(e):this.collapseList.splice(t,1)}}},gt=ht,mt=(a("583f"),Object(L["a"])(gt,ut,pt,!1,null,"0dae2d44",null)),ft=mt.exports,vt=a("d573"),yt=a("d28d"),bt=a("2f62"),wt=a("d573"),Ct=wt.Search,kt=wt.QueryContents,Lt=a("4fcf"),Tt=Lt.debounce,It={curriculum:"curriculum",assessmentType:"assessmentType",specificSkills:"specificSkills",centurySkills:"centurySkills",sdg:"sdg",idu:"idu"},St={curriculum:"Learning outcomes",assessmentType:"Assessment type",sdg:"Big idea",specificSkills:"Achievement objectives",centurySkills:"Century Skills",idu:"Integrated Subject Skill"},_t={Search:"Search",BrowserType:"BrowserType",Recommend:"Recommend",CurriculumFilter:"CurriculumFilter"},Mt={name:"Browser",components:{SearchFilter:ft,SubjectSpecificBrowser:Ye,GeneralCapabilityBrowser:Ue,AssessmentBrowser:Re,CommonPreviewV2:Ae["a"],NoMoreResources:S["a"],Navigation:de,CurriculumBrowser:Y,SdgBrowser:_e,UnitPlanPreview:Me["default"],MaterialPreview:xe["default"],DirIcon:I,BackSvg:se.a,IduBrowser:st,ContentTypeIcon:d["a"],PuBuIcon:M.a,FilterIcon:rt.a,FilterActiveIcon:lt.a,ListModeIcon:A.a,DataCardView:ct["a"]},data:function(){return{currentCurriculumId:this.$store.getters.bindCurriculum?this.$store.getters.bindCurriculum:"1",curriculumOptions:[],navPath:[],browserTypeListForIbMpy:[{type:"specificSkills",label:"Achievement objectives",tagType:q["T"].skill},{type:"curriculum",label:"Learning outcomes",tagType:q["T"].knowledge},{type:"assessmentType",label:"Assessment type",tagType:q["T"].assessment},{type:"idu",label:"Integrated Subject Skill",tagType:q["T"].idu},{type:"centurySkills",label:this.$classcipe.get21stCenturyDisplayNameByCurriculum(this.currentCurriculumId),tagType:q["T"].century},{type:"sdg",label:"Big idea",tagType:q["T"].bigIdea}],browserTypeList:[{type:"specificSkills",label:"Achievement objectives",tagType:q["T"].skill},{type:"curriculum",label:"Learning outcomes",tagType:q["T"].knowledge},{type:"assessmentType",label:"Assessment type",tagType:q["T"].assessment},{type:"centurySkills",label:this.$classcipe.get21stCenturyDisplayNameByCurriculum(this.currentCurriculumId),tagType:q["T"].century},{type:"sdg",label:"Big idea",tagType:q["T"].bigIdea}],TagType:q["T"],currentBrowserType:null,BrowserTypeMap:It,browserTypeLabelMap:St,hasLeftBlock:!1,blockWidth:200,browserMarginLeft:0,previewVisible:!1,previewCurrentId:"",previewType:"",blockIndex:1,typeMap:w["e"],headerTop:"64px",libraryDetailTop:"126px",curriculumType:q["h"],searchKeyword:null,searching:!1,dataList:[],dataListLoading:!1,currentDataId:null,dataListMode:"card",dataRecommendList:[],currentTypeLabel:"Choose type（S）of content",currentType:0,hasChildSubject:!0,expandedListFlag:!1,searchResultList:[],libraryMode:dt.browserMode,LibraryMode:dt,currentFromItemName:null,currentFromItemType:null,filterConfig:{age:null,subject:[],type:[],faSaActivityType:null,searchKey:null,teachingStrategy:[],differenceInstructions:[],assessmentCategory:[],assessmentType:[]},filterSubjectOptions:[{label:"Math1",value:"Math1"},{label:"Science",value:"Science2"},{label:"Math3",value:"Math3"},{label:"Art",value:"Art4"},{label:"Science1",value:"Science1"}],filterAgeOptions:[{label:"All"},{label:"5"},{label:"6"},{label:"7"},{label:"8"}],filterTypeOptions:[{label:"Unit Plan",value:w["e"]["unit-plan"]},{label:"Task",value:w["e"].task},{label:"Assessment Tool",value:w["e"].evaluation}],filterSaOptions:[],filterFaOptions:[],filterActivityOptions:[],filterHeight:500,searchResultVisible:!1,firstLoad:!0,showRecommend:!0,debouncedSearchKeyFocus:null,filterContext:null,showFilter:!0,SearchTypeMap:_t,searchType:_t.Recommend,searchRequestData:null}},computed:Object(o["a"])({leftBrowserWidth:function(){var e="30vw";return this.expandedListFlag?e="0vw":this.showRecommend?e="15vw":this.currentBrowserType||(e="15vw"),e},rightBrowserWidth:function(){var e="calc(85vw - ".concat(this.collapsed?"80px":"256px",")");return this.expandedListFlag?e="calc(100vw - ".concat(this.collapsed?"80px":"256px",")"):this.showRecommend?e="calc(85vw - ".concat(this.collapsed?"80px":"256px",")"):this.currentBrowserType?this.currentBrowserType&&(e="calc(70vw - ".concat(this.collapsed?"80px":"256px",")")):e="calc(85vw - ".concat(this.collapsed?"80px":"256px",")"),e}},Object(bt["e"])({collapsed:function(e){return e.app.sideCollapsed}})),created:function(){var e=this;"student"===this.$store.getters.currentRole&&(this.currentCurriculumId=q["h"].Cambridge+""),this.currentBrowserType=null,this.getRecommended(),Object(z["e"])().then((function(t){e.$logger.info("getAllCurriculums",t),e.curriculumOptions=t.result,e.$logger.info("getAllCurriculums",e.curriculumOptions)})).finally((function(){e.getFilterOptions()})),this.debouncedSearchKeyFocus=Tt(this.handleSearchKeyFocus,400)},mounted:function(){var e=this;this.blockWidth=.15*document.getElementById("app").getBoundingClientRect().width,this.filterHeight=document.documentElement.clientHeight-350,this.$logger.info("globalWidth "+this.blockWidth),window.onresize=Tt((function(){e.blockWidth=.15*document.getElementById("app").getBoundingClientRect().width,e.filterHeight=document.documentElement.clientHeight-350,e.browserMarginLeft=(e.blockIndex-1)*e.blockWidth}),300)},methods:{getRecommended:function(){var e=this;this.dataListLoading=!0,this.showFilter=!1,Object(vt["QueryRecommendContents"])({curriculumId:this.currentCurriculumId?this.currentCurriculumId:this.$store.getters.bindCurriculum}).then((function(t){e.$logger.info("QueryRecommendContents response",t),e.dataList=t.result?t.result:[],e.dataRecommendList=e.dataList})).finally((function(){e.dataListLoading=!1,e.showRecommend=!0}))},toggleBrowserType:function(e){var t=this;this.$logger.info("toggleBrowserType "+e.type+" tagType:"+e.tagType),this.showRecommend=!1,this.searchType=_t.BrowserType,this.searchRequestData=e,this.showFilter=!0,e.type!==this.currentBrowserType&&(this.currentBrowserType=e.type,this.navPath=[],this.navPath.push({blockIndex:1,path:e.label}),this.$logger.info("reset and add path "+e.label)),this.dataList=[];var a={curriculumId:this.$store.getters.bindCurriculum,tagType:e.tagType,filter:null};"number"===typeof a.tagType?(this.filterContext&&(a.filter=this.filterContext.getFilterConfig()),kt(a).then((function(e){t.$logger.info("toggleBrowserType QueryContents response",e),t.dataList=e.result?e.result:[]})).finally((function(){t.dataListLoading=!1,t.previewVisible=!1}))):(this.$logger.info("toggleBrowserType skip handleClickBlock",a),this.dataListLoading=!1,this.previewVisible=!1)},handleBlockCollapse:function(e){this.$logger.info("handleBlockCollapse data.blockIndex("+e.blockIndex+") this.blockIndex("+this.blockIndex+")",e),this.previewVisible=!1,this.blockIndex!==e.blockIndex?1===e.blockIndex?(this.blockIndex=e.blockIndex,this.hasLeftBlock=!1,this.browserMarginLeft=(e.blockIndex-1)*this.blockWidth,this.$logger.info("browserMarginLeft "+this.browserMarginLeft+", hasLeftBlock:"+this.hasLeftBlock)):(this.blockIndex=e.blockIndex,this.hasLeftBlock=!0,this.browserMarginLeft=(e.blockIndex-1)*this.blockWidth,this.$logger.info("browserMarginLeft "+this.browserMarginLeft+", hasLeftBlock:"+this.hasLeftBlock)):this.$logger.info("same block collapse"),this.navPath=this.navPath.filter((function(t){return t.blockIndex<e.blockIndex})),this.navPath.push({blockIndex:e.blockIndex,path:e.path}),this.$logger.info("add path "+e.path)},handlePreviewDetail:function(e){var t=this;this.$logger.info("handlePreviewDetail",e),this.previewVisible=!1,this.$nextTick((function(){t.previewCurrentId=e.id,t.previewType=e.type,t.previewVisible=!0}))},handlePreviewClose:function(){this.$logger.info("handlePreviewClose"),this.previewCurrentId="",this.previewType="",this.previewVisible=!1},handleViewLeft:function(){this.previewVisible=!1,this.$logger.info("handleViewLeft "+this.blockIndex),this.blockIndex<2?(this.hasLeftBlock=!1,this.blockIndex=1,this.browserMarginLeft=0):(this.blockIndex=this.blockIndex-1,this.hasLeftBlock=!0,this.browserMarginLeft=(this.blockIndex-1)*this.blockWidth);var e=this.navPath.pop();this.$logger.info("remove path "+e),this.$logger.info("browserMarginLeft "+this.browserMarginLeft+", hasLeftBlock:"+this.hasLeftBlock)},handleNavPathChange:function(e){this.$logger.info("handleNavPathChange data.blockIndex("+e.blockIndex+") this.blockIndex("+this.blockIndex+")",e),this.previewVisible=!1;var t=e.blockIndex;t!==this.blockIndex&&(this.dataList=[],e.blockIndex<2?(this.hasLeftBlock=!1,this.browserMarginLeft=0):(this.blockIndex=this.blockIndex-1,this.hasLeftBlock=!0,this.browserMarginLeft=(e.blockIndex-1)*this.blockWidth),this.navPath=this.navPath.filter((function(e){return e.blockIndex<=t})),this.$logger.info("browserMarginLeft "+this.browserMarginLeft+", hasLeftBlock:"+this.hasLeftBlock))},handleCurriculumChange:function(e){this.$logger.info("handleCurriculumChange "+e),this.currentCurriculumId=e,this.hasLeftBlock=!1,this.blockIndex=0,this.browserMarginLeft=0,this.currentBrowserType=null,this.searchType=_t.Recommend,this.searchRequestData=e,this.libraryMode===dt.searchMode&&this.handleSearchKey(),this.getRecommended(),this.browserTypeListForIbMpy=[{type:"specificSkills",label:"Achievement objectives",tagType:q["T"].skill},{type:"curriculum",label:"Learning outcomes",tagType:q["T"].knowledge},{type:"assessmentType",label:"Assessment type",tagType:q["T"].assessment},{type:"idu",label:"Integrated Subject Skill",tagType:q["T"].idu},{type:"centurySkills",label:this.$classcipe.get21stCenturyDisplayNameByCurriculum(this.currentCurriculumId),tagType:q["T"].century},{type:"sdg",label:"Big idea",tagType:q["T"].bigIdea}],this.browserTypeList=[{type:"specificSkills",label:"Achievement objectives",tagType:q["T"].skill},{type:"curriculum",label:"Learning outcomes",tagType:q["T"].knowledge},{type:"assessmentType",label:"Assessment type",tagType:q["T"].assessment},{type:"centurySkills",label:this.$classcipe.get21stCenturyDisplayNameByCurriculum(this.currentCurriculumId),tagType:q["T"].century},{type:"sdg",label:"Big idea",tagType:q["T"].bigIdea}]},handleSearchKey:function(){this.$logger.info("handleSearchKey "+this.searchKeyword),this.expandedListFlag=!0,this.showFilter=!0,this.searchKeyword&&this.searchKeyword.trim().length>0?this.searchByKeyword(this.searchKeyword):(this.searching=!1,this.searchResultList=[])},searchByKeyword:function(e){var t=this;this.$logger.info("searchByKeyword "+e),this.searching=!0,Ct({curriculumId:this.currentCurriculumId,key:e}).then((function(a){t.$logger.info("searchByKeyword "+e,a);var i=[];a.result.forEach((function(t){if(t.name){var a=0,s=t.name.toLowerCase().indexOf(e),n="";while(-1!==s&&s+e.length<=t.name.length)n+=t.name.substring(a,s)+'<span class="search-keyword-item">'+t.name.substring(s,s+e.length)+"</span>",a=s+e.length,s=t.name.toLowerCase().indexOf(e,s+e.length);n+=t.name.substring(a);var r={fromType:t.fromType,name:t.name,tagName:n};i.push(r)}})),t.searchResultList=i,t.$logger.info("tag list item",t.searchResultList)})).finally((function(){t.searching=!1}))},searchContentByKeyword:function(e){if(e){this.$logger.info("searchContentByKeyword "+e);var t={searchKey:e};this.filterContext&&(t=this.filterContext.getFilterConfig(),t.searchKey=e),this.searchByFilter(t)}else this.showRecommend=!0,this.dataList=this.dataRecommendList},handleSearchKeyFocus:function(){this.$logger.info("handleSearchKeyFocus"),this.currentFromItemName=null,this.currentFromItemType=null,this.searchResultVisible=!0,this.searchType=_t.Search,this.searchResultList=[],this.libraryMode=dt.searchMode,this.searchContentByKeyword(this.searchKeyword),this.handleSearchKey()},handleSearchKeyInputBlur:function(){this.searchResultVisible=!1},handleClickSearchResultItem:function(e){this.$logger.info("handleClickSearchResultItem",e),this.searchType=_t.Search,this.handleActiveFilterItem(e),this.searchResultVisible=!1},handleClickBlock:function(e){var t=this;this.$logger.info("handleClickBlock",e);var a=Object.assign({filter:null},e);this.showRecommend=!1,this.searchType=_t.CurriculumFilter,this.searchRequestData=e,this.showFilter=!0,this.dataList=[],this.dataListLoading=!0,this.previewVisible=!1,"number"===typeof a.tagType?(this.filterContext&&(a.filter=this.filterContext.getFilterConfig()),kt(a).then((function(e){t.$logger.info("QueryContents response",e),t.dataList=e.result?e.result:[]})).finally((function(){t.dataListLoading=!1}))):this.$logger.info("skip handleClickBlock",a)},handleUpdateDataList:function(e){this.$logger.info("handleUpdateDataList",e),this.dataList=e,this.dataListLoading=!1},toggleType:function(e,t){this.$logger.info("toggleType "+e+" label "+t),this.currentType=e,this.currentTypeLabel=t},handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},handleSelectDataItem:function(e){this.$logger.info("handleSelectDataItem ",e),this.currentDataId=e.id,this.handlePreviewDetail(e)},handleExpandDetail:function(){var e=this;this.$logger.info("handleExpandDetail "+this.blockIndex+" "+this.expandedListFlag),this.expandedListFlag?this.expandedListFlag=!1:this.expandedListFlag=!0,this.$nextTick((function(){e.$logger.info("handleExpandDetail nextTick "+e.blockIndex+" "+e.expandedListFlag+" left block "+(e.blockIndex-1)),0!==e.blockIndex&&(e.expandedListFlag?e.browserMarginLeft=e.blockIndex*e.blockWidth:e.browserMarginLeft=(e.blockIndex-1)*e.blockWidth),e.$logger.info("this.browserMarginLeft",e.browserMarginLeft)}))},handleActiveFilterItem:function(e){this.$logger.info("handleActiveFilterItem ",e),this.searching=!0,this.searchKeyword=e.name,this.currentFromItemName=e.name,this.currentFromItemType=e.fromType,this.libraryMode=dt.searchMode,this.handleSearchByFromType(e)},handleSearchByFromType:function(e){this.$logger.info("handleSearchByFromType ",e),this.searching=!0,this.showRecommend=!1;var t={searchKey:e.name,keyContent:{fromType:e.fromType,name:e.name}};this.filterContext&&(t=this.filterContext.getFilterConfig(),t.keyContent={fromType:e.fromType,name:e.name},t.searchKey=e.name),this.searchByFilter(t)},searchByFilter:function(e){var t=this;this.$logger.info("searchByFilter ",e);var a=Object.assign({},e);delete a.curriculumId,this.showRecommend=!1,this.searching=!0,Object(vt["QueryContentsFilter"])(a).then((function(a){t.$logger.info("QueryContentsFilter result : ",a),e.keyContent&&e.keyContent.name&&a.result.sort((function(t){return-1!==t.name.toLowerCase().indexOf(e.keyContent.name)?-1:1})),t.dataList=a.result?a.result:[]})).finally((function(){t.searching=!1}))},handleUpdateFilterConfig:function(e){switch(this.$logger.info("handleUpdateFilterConfig",e),this.searchType){case _t.CurriculumFilter:this.handleClickBlock(this.searchRequestData);break;case _t.Search:this.searchContentByKeyword(this.searchKeyword);break;case _t.BrowserType:this.toggleBrowserType(this.searchRequestData);break;case _t.Recommend:this.handleCurriculumChange(this.searchRequestData);break;default:break}},handleUpdateFilterContext:function(e){this.$logger.info("handleUpdateFilterContext",e),this.filterContext=e},getFilterOptions:function(){var e=this;Object(fe["SubjectTree"])({curriculumId:this.currentCurriculumId}).then((function(t){e.$logger.info("getSubjectTree response",t.result),e.filterSubjectOptions=[],t.result.forEach((function(t){e.filterSubjectOptions.push({label:t.name,value:t.name})}))})),Object(z["a"])({curriculumId:this.currentCurriculumId}).then((function(t){e.$logger.info("GetGradesByCurriculumId",t.result),e.filterAgeOptions=[{label:"All"}],t.result.forEach((function(t){e.filterAgeOptions.push({label:t.age})}))})),Object(yt["c"])({}).then((function(t){if(e.$logger.info("FindCustomTags response",t.result),t.success){e.filterSaOptions=[],e.filterFaOptions=[],e.filterActivityOptions=[];var a=t.result.recommends;q["i"].task.sa.forEach((function(t){a.forEach((function(a){a.name===t&&e.filterSaOptions.push(a)}))})),q["i"].task.fa.forEach((function(t){a.forEach((function(a){a.name===t&&e.filterFaOptions.push(a)}))})),q["i"].task.activity.forEach((function(t){a.forEach((function(a){a.name===t&&e.filterActivityOptions.push(a)}))}))}}))}}},xt=Mt,At=(a("0b92"),Object(L["a"])(xt,n,r,!1,null,"25c25fc6",null)),Dt=At.exports,Et=a("6e84"),Ot={name:"LibraryV2",mixins:[Et["a"]],components:{Browser:Dt},data:function(){return{}},mounted:function(){},methods:{}},jt=Ot,Bt=Object(L["a"])(jt,i,s,!1,null,"3d560834",null);t["default"]=Bt.exports},"519d":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"31.442",height:"40",viewBox:"0 0 31.442 40"},children:[{tag:"g",attrsMap:{transform:"translate(-179.2 -99.38)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#ffd629;",d:"M311.741,121.054h-8.855a3.363,3.363,0,0,1-3.334-3.372l-2.351-14.93a3.363,3.363,0,0,1,3.334-3.372h13.558a3.363,3.363,0,0,1,3.334,3.372l-2.351,14.93A3.363,3.363,0,0,1,311.741,121.054Z",transform:"translate(-112.388)"}},{tag:"path",attrsMap:{class:"b",style:"fill:#ffca29;",d:"M309.8,99.48h-9.432A3.382,3.382,0,0,0,297,102.852l2.378,14.93a3.382,3.382,0,0,0,3.372,3.372S320.211,104.4,309.8,99.48Z",transform:"translate(-112.28 -0.095)"}},{tag:"path",attrsMap:{class:"c",style:"fill:#fff;",d:"M305.523,99.48h-5.151A3.382,3.382,0,0,0,297,102.852l1.493,9.318S310.432,104.916,305.523,99.48Z",transform:"translate(-112.256 -0.095)"}},{tag:"path",attrsMap:{class:"d",style:"fill:#15c39a;",d:"M193.655,253.831l-12.8-7.107A2.924,2.924,0,0,1,179.4,244.2V229.982a2.924,2.924,0,0,1,1.459-2.528l12.8-7.107a2.916,2.916,0,0,1,2.923,0l12.8,7.107a2.924,2.924,0,0,1,1.459,2.528V244.2a2.924,2.924,0,0,1-1.459,2.528l-12.8,7.107A2.939,2.939,0,0,1,193.655,253.831Z",transform:"translate(-0.19 -114.84)"}},{tag:"path",attrsMap:{class:"e",style:"fill:#007b5e;",d:"M210.637,639.48v4.461a2.948,2.948,0,0,1-1.464,2.549l-12.8,7.168a2.9,2.9,0,0,1-2.923,0l-12.8-7.168a2.944,2.944,0,0,1-1.459-2.549v-4.257s1.01-.452,2.493,2.421c1.147,2.226,7.134,4.685,9.632,6.5a5.258,5.258,0,0,0,3.6,1.389,12.643,12.643,0,0,0,2.484-.576c2.233-.79,9.066-5.222,10.1-6.7C208.715,641,209.258,639.48,210.637,639.48Z",transform:"translate(0 -514.704)"}},{tag:"path",attrsMap:{class:"f",style:"opacity:0.2;fill:#f9f2d7;",d:"M234.729,224.149l-9.738-5.4a2.886,2.886,0,0,0-2.918,0L209.3,225.919s-.113,4.2,10.422,5.712,2.72.395,2.72.395S232.806,231.365,234.729,224.149Z",transform:"translate(-28.667 -113.316)"}},{tag:"path",attrsMap:{class:"g",style:"fill:#11b48e",d:"M375.76,446.593l.9,1.817a1.593,1.593,0,0,0,1.2.87l2.007.29a1.592,1.592,0,0,1,.88,2.716l-1.451,1.417a1.585,1.585,0,0,0-.457,1.408l.342,2a1.594,1.594,0,0,1-2.312,1.679l-1.793-.942a1.594,1.594,0,0,0-1.479,0l-1.793.942a1.593,1.593,0,0,1-2.312-1.679l.342-2a1.581,1.581,0,0,0-.457-1.408l-1.451-1.417a1.592,1.592,0,0,1,.885-2.716l2.007-.29a1.593,1.593,0,0,0,1.2-.87l.9-1.817a1.583,1.583,0,0,1,2.844,0Z",transform:"translate(-179.405 -330.031)"}},{tag:"path",attrsMap:{class:"h",style:"fill:#fff;",d:"M389.277,459.237l1.17,2.369a.953.953,0,0,0,.723.523l2.611.38a.955.955,0,0,1,.528,1.631l-1.893,1.845a.965.965,0,0,0-.276.847l.447,2.6a.957.957,0,0,1-1.389,1.008l-2.34-1.227a.95.95,0,0,0-.889,0l-2.335,1.227a.957.957,0,0,1-1.389-1.008l.447-2.6a.952.952,0,0,0-.276-.847l-1.893-1.845a.958.958,0,0,1,.533-1.631l2.611-.38a.972.972,0,0,0,.723-.523l1.17-2.369A.959.959,0,0,1,389.277,459.237Z",transform:"translate(-193.493 -342.41)"}}]}]})}},"51bf":function(e,t,a){},"523d":function(e,t,a){"use strict";a.d(t,"o",(function(){return n})),a.d(t,"n",(function(){return r})),a.d(t,"u",(function(){return o})),a.d(t,"q",(function(){return l})),a.d(t,"p",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"r",(function(){return u})),a.d(t,"t",(function(){return p})),a.d(t,"j",(function(){return h})),a.d(t,"e",(function(){return g})),a.d(t,"b",(function(){return m})),a.d(t,"l",(function(){return f})),a.d(t,"m",(function(){return v})),a.d(t,"g",(function(){return y})),a.d(t,"h",(function(){return b})),a.d(t,"f",(function(){return w})),a.d(t,"c",(function(){return C})),a.d(t,"s",(function(){return k})),a.d(t,"k",(function(){return L})),a.d(t,"i",(function(){return T})),a.d(t,"d",(function(){return I}));var i=a("b775"),s={InviteCollaborate:"/classcipe/api/collaborate/invite",GetCollaborateUsers:"/classcipe/api/collaborate/getCollaborateUsers",GetShared:"/classcipe/api/collaborate/getShared",GetSharedNotReceived:"/classcipe/api/collaborate/getSharedNotReceived",GetFindSharedNotReceived:"/classcipe/api/collaborate/getFindSharedNotReceived",DeleteCollaborate:"/classcipe/api/collaborate/delete",DeleteByMeCollaborate:"/classcipe/api/collaborate/deleteByMe",ReceiveCollaborate:"/classcipe/api/collaborate/receive",GetCollaborateComment:"/classcipe/api/editMessage/queryNewMessage",DeleteCollaborateCommentById:"/classcipe/api/editMessage/delete",MarkedCollaborateComment:"/classcipe/api/editMessage/marked",AddCollaborateComment:"/classcipe/api/editMessage/addMessage",GetCollaborateModifiedHistory:"/classcipe/api/editMessage/queryHistory",QueryContentCollaborates:"/classcipe/api/collaborate/v2/queryContentCollaborates",CollaboratesSearchUser:"/classcipe/api/collaborate/v2/searchUser",CollaboratesInvite:"/classcipe/api/collaborate/v2/invite",CollaboratesAgree:"/classcipe/api/collaborate/v2/agree",CollaboratesUpdate:"/classcipe/api/collaborate/v2/updateCollaborate",CollaboratesRemove:"/classcipe/api/collaborate/v2/remove",CollaboratesDeleteByOthers:"/classcipe/api/collaborate/v2/deleteByOthers",CollaboratesUpdateLink:"/classcipe/api/collaborate/v2/updateLink",CollaboratesQueryShared:"/classcipe/api/collaborate/v2/queryShared",CollaboratesQuerySharedOwner:"/classcipe/api/collaborate/v2/querySharedOwner",QueryByLinkCode:"/classcipe/api/collaborate/v2/queryByLinkCode",CollaboratesApply:"/classcipe/api/collaborate/v2/apply",CollaboratesSendInviteEmail:"/classcipe/api/collaborate/v2/sendInviteEmail"};function n(e){return Object(i["d"])({url:s.DeleteCollaborate,method:"post",data:e})}function r(e){return Object(i["d"])({url:s.DeleteByMeCollaborate,method:"post",data:e})}function o(e){return Object(i["d"])({url:s.ReceiveCollaborate,method:"post",data:e})}function l(e){return Object(i["d"])({url:s.GetCollaborateComment,method:"post",data:e})}function c(e){return Object(i["d"])({url:s.DeleteCollaborateCommentById+"?id="+e.id,method:"post",data:e})}function d(e){return Object(i["d"])({url:s.AddCollaborateComment,method:"post",data:e})}function u(e){return Object(i["d"])({url:s.GetCollaborateModifiedHistory,method:"post",data:e})}function p(e){return Object(i["d"])({url:s.QueryContentCollaborates,method:"get",params:e})}function h(e){return Object(i["d"])({url:s.CollaboratesSearchUser,method:"get",params:e})}function g(e){return Object(i["d"])({url:s.CollaboratesInvite,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function m(e){return Object(i["d"])({url:s.CollaboratesAgree,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(e){return Object(i["d"])({url:s.CollaboratesUpdate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function v(e){return Object(i["d"])({url:s.CollaboratesUpdateLink,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function y(e){return Object(i["d"])({url:s.CollaboratesQueryShared,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(e){return Object(i["d"])({url:s.CollaboratesQuerySharedOwner,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function w(e){return Object(i["d"])({url:s.QueryByLinkCode,method:"get",params:e})}function C(e){return Object(i["d"])({url:s.CollaboratesApply,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function k(e){return Object(i["d"])({url:s.MarkedCollaborateComment+"?id="+e.id,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function L(e){return Object(i["d"])({url:s.CollaboratesSendInviteEmail,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function T(e){return Object(i["d"])({url:s.CollaboratesRemove,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function I(e){return Object(i["d"])({url:s.CollaboratesDeleteByOthers,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},"53f2":function(e,t,a){"use strict";a("8bab")},"542c":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"preview-preview"},[e.loadingClass?[a("a-skeleton",{attrs:{active:""}})]:[a("div",{staticClass:"material-preview"},[a("a-row",{staticClass:"title-header"},[a("a-col",{staticClass:"action-header-toggle title-line",attrs:{span:"24"}},[e.computerSize("video")>0?a("div",{staticClass:"title"},[a("span",{staticClass:"title-name"},[e._v("Video :")]),a("span",{staticClass:"title-size"},[e._v(e._s(e.computerSize("video")))])]):e._e(),e.computerSize("audio")>0?a("div",{staticClass:"title"},[e.filterType?e._e():a("span",{staticClass:"title-split"},[e._v(" |")]),a("span",{staticClass:"title-name"},[e._v("Audio :")]),a("span",{staticClass:"title-size"},[e._v(e._s(e.computerSize("audio")))])]):e._e(),e.computerSize("pdf")>0?a("div",{staticClass:"title"},[e.filterType?e._e():a("span",{staticClass:"title-split"},[e._v(" |")]),a("span",{staticClass:"title-name"},[e._v("Pdf :")]),a("span",{staticClass:"title-size"},[e._v(e._s(e.computerSize("pdf")))])]):e._e(),e.computerSize("image")>0?a("div",{staticClass:"title"},[e.filterType?e._e():a("span",{staticClass:"title-split"},[e._v(" |")]),a("span",{staticClass:"title-name"},[e._v("Image :")]),a("span",{staticClass:"title-size"},[e._v(e._s(e.computerSize("image")))])]):e._e(),e.computerSize("iframe")>0?a("div",{staticClass:"title"},[e.filterType?e._e():a("span",{staticClass:"title-split"},[e._v(" |")]),a("span",{staticClass:"title-name"},[e._v("Youtube :")]),a("span",{staticClass:"title-size"},[e._v(e._s(e.computerSize("iframe")))])]):e._e(),e.computerSize("website")>0?a("div",{staticClass:"title"},[e.filterType?e._e():a("span",{staticClass:"title-split"},[e._v(" |")]),a("span",{staticClass:"title-name"},[e._v("Website :")]),a("span",{staticClass:"title-size"},[e._v(e._s(e.computerSize("website")))])]):e._e()])],1),a("a-row",{staticClass:"preview-data-info"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"content-list"},[a("a-list",{attrs:{size:"large","data-source":e.elementsList},scopedSlots:e._u([{key:"renderItem",fn:function(t){return a("a-list-item",{key:"item.key",staticClass:"my-list-item"},[a("material-type-icon",{staticClass:"icon-content",attrs:{type:t.type}}),a("span",{staticClass:"name-content",attrs:{title:t.tip||t.url}},[a("span",{staticClass:"name-text"},[e._v(" "+e._s(t.tip||t.url)+" ")])]),a("span",{staticClass:"page-content"},[a("span",{staticClass:"name-text"},[e._v(" Page "+e._s(e.currentPageIndex+1)+" ")])]),a("div",{staticClass:"action"},["tip"!==t.type?a("a-button",{staticClass:"action-ensure action-item",attrs:{shape:"round"},on:{click:function(a){return e.handlePreviewMaterial(t)}}},[a("a-icon",{attrs:{type:"eye",theme:"filled"}}),a("div",{staticClass:"btn-text"},[e._v(" Preview ")])],1):e._e()],1)],1)}}])})],1)])])],1)]],2)},s=[],n=(a("a9e3"),a("4de4"),a("159b"),a("69b3")),r=a("8448"),o=a.n(r),l=a("998c"),c=a.n(l),d=a("4084"),u=a.n(d),p=a("8a21"),h=a.n(p),g=a("1eeb"),m=a.n(g),f=a("5a1d"),v=a.n(f),y=a("6631"),b=a.n(y),w=a("7aef"),C=a("3111"),k={name:"TaskMaterialPreview",components:{MaterialTypeIcon:C["a"],NoMoreResources:n["a"],TextTypeSvg:o.a,ImageTypeSvg:c.a,VideoTypeSvg:u.a,AudioTypeSvg:h.a,YoutubeTypeSvg:m.a,PdfTypeSvg:v.a,UrlTypeSvg:b.a},props:{currentPageElementLists:{type:Array,default:function(){return[]}},currentPageIndex:{type:Number,default:0},filterType:{type:String,default:""}},computed:{},mounted:function(){},data:function(){return{elementsList:[],showMenuList:[],fileTypeMap:w["a"],loadingClass:!1}},created:function(){var e=this;this.$logger.info("currentPageElementLists ",this.currentPageElementLists),this.filterType?this.elementsList=this.currentPageElementLists.filter((function(t){return t.type===e.filterType})):this.elementsList=this.currentPageElementLists},methods:{handleGotoImgIndex:function(e){this.$logger.info("handleGotoImgIndex "+e),this.currentImgIndex=e,this.$refs.carousel.goTo(e)},handlePreviewMaterial:function(e){this.$logger.info("handlePreviewMaterial "+e),"tip"!==e.type&&window.open(e.url,"_blank")},computerSize:function(e){var t=0;return this.elementsList.forEach((function(a){a.type===e&&t++})),t}}},L=k,T=(a("a475"),a("0c7c")),I=Object(T["a"])(L,i,s,!1,null,"27616282",null);t["a"]=I.exports},"57a5b":function(e,t,a){"use strict";var i={Link:"Link",Select:"Select",Evaluation:"Evaluation",Refer:"Refer"};t["a"]=i},"57fd":function(e,t,a){"use strict";a("680f")},"583f":function(e,t,a){"use strict";a("bdc9")},"58e7":function(e,t){e.exports="data:image/png;base64,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"},"5bb5":function(e,t,a){},"5d88":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"31.442",height:"40",viewBox:"0 0 31.442 40"},children:[{tag:"g",attrsMap:{transform:"translate(-179.2 -99.38)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#ffd629;",d:"M311.741,121.054h-8.855a3.363,3.363,0,0,1-3.334-3.372l-2.351-14.93a3.363,3.363,0,0,1,3.334-3.372h13.558a3.363,3.363,0,0,1,3.334,3.372l-2.351,14.93A3.363,3.363,0,0,1,311.741,121.054Z",transform:"translate(-112.388)"}},{tag:"path",attrsMap:{class:"b",style:"fill:#ffca29;",d:"M309.8,99.48h-9.432A3.382,3.382,0,0,0,297,102.852l2.378,14.93a3.382,3.382,0,0,0,3.372,3.372S320.211,104.4,309.8,99.48Z",transform:"translate(-112.28 -0.095)"}},{tag:"path",attrsMap:{class:"c",style:"fill:#fff;opacity:0.3;",d:"M305.523,99.48h-5.151A3.382,3.382,0,0,0,297,102.852l1.493,9.318S310.432,104.916,305.523,99.48Z",transform:"translate(-112.256 -0.095)"}},{tag:"path",attrsMap:{class:"d",style:"fill:#6bc04a;",d:"M193.655,253.831l-12.8-7.107A2.924,2.924,0,0,1,179.4,244.2V229.982a2.924,2.924,0,0,1,1.459-2.528l12.8-7.107a2.916,2.916,0,0,1,2.923,0l12.8,7.107a2.924,2.924,0,0,1,1.459,2.528V244.2a2.924,2.924,0,0,1-1.459,2.528l-12.8,7.107A2.939,2.939,0,0,1,193.655,253.831Z",transform:"translate(-0.19 -114.84)"}},{tag:"path",attrsMap:{class:"e",style:"fill:#258101;opacity:0.2;",d:"M210.637,639.48v4.461a2.948,2.948,0,0,1-1.464,2.549l-12.8,7.168a2.9,2.9,0,0,1-2.923,0l-12.8-7.168a2.944,2.944,0,0,1-1.459-2.549v-4.257s1.01-.452,2.493,2.421c1.147,2.226,7.134,4.685,9.632,6.5a5.258,5.258,0,0,0,3.6,1.389,12.643,12.643,0,0,0,2.484-.576c2.233-.79,9.066-5.222,10.1-6.7C208.715,641,209.258,639.48,210.637,639.48Z",transform:"translate(0 -514.704)"}},{tag:"path",attrsMap:{class:"f",style:"opacity:0.2;fill:#f9f2d7;",d:"M234.729,224.149l-9.738-5.4a2.886,2.886,0,0,0-2.918,0L209.3,225.919s-.113,4.2,10.422,5.712,2.72.395,2.72.395S232.806,231.365,234.729,224.149Z",transform:"translate(-28.667 -113.316)"}},{tag:"path",attrsMap:{class:"g",style:"fill:#5db43b;",d:"M375.76,446.593l.9,1.817a1.593,1.593,0,0,0,1.2.87l2.007.29a1.592,1.592,0,0,1,.88,2.716l-1.451,1.417a1.585,1.585,0,0,0-.457,1.408l.342,2a1.594,1.594,0,0,1-2.312,1.679l-1.793-.942a1.594,1.594,0,0,0-1.479,0l-1.793.942a1.593,1.593,0,0,1-2.312-1.679l.342-2a1.581,1.581,0,0,0-.457-1.408l-1.451-1.417a1.592,1.592,0,0,1,.885-2.716l2.007-.29a1.593,1.593,0,0,0,1.2-.87l.9-1.817a1.583,1.583,0,0,1,2.844,0Z",transform:"translate(-179.405 -330.031)"}},{tag:"path",attrsMap:{class:"h",style:"fill:#fff;",d:"M389.277,459.237l1.17,2.369a.953.953,0,0,0,.723.523l2.611.38a.955.955,0,0,1,.528,1.631l-1.893,1.845a.965.965,0,0,0-.276.847l.447,2.6a.957.957,0,0,1-1.389,1.008l-2.34-1.227a.95.95,0,0,0-.889,0l-2.335,1.227a.957.957,0,0,1-1.389-1.008l.447-2.6a.952.952,0,0,0-.276-.847l-1.893-1.845a.958.958,0,0,1,.533-1.631l2.611-.38a.972.972,0,0,0,.723-.523l1.17-2.369A.959.959,0,0,1,389.277,459.237Z",transform:"translate(-193.493 -342.41)"}}]}]})}},"60f8":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19"},children:[{tag:"g",attrsMap:{transform:"translate(-771.25 -365.25)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#808191;stroke:#808191;",d:"M9,0A9,9,0,1,1,0,9,9,9,0,0,1,9,0Z",transform:"translate(771.75 365.75)"}},{tag:"path",attrsMap:{class:"b",style:"fill:#fff;stroke:#fff;stroke-width:0.5px;",d:"M24.47,24.8V21.78h3.016a.5.5,0,0,0,0-1.005H24.47V17.759a.5.5,0,0,0-1.005,0v3.016H20.449a.5.5,0,0,0,0,1.005h3.016V24.8a.5.5,0,0,0,1.005.044q0-.022,0-.044Z",transform:"translate(756.784 353.451)"}}]}]})}},"666c":function(e,t,a){"use strict";a("05c1")},"66d8":function(e,t,a){"use strict";a("a283")},"680f":function(e,t,a){},6840:function(e,t,a){"use strict";a("9cca")},6964:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-card-view"},[a("div",{staticClass:"card-cover",style:{backgroundImage:"url("+e.cover+")"}}),a("div",{class:{"card-info":!0,"active-item":e.activeFlag}},[a("div",{staticClass:"card-title"},[a("div",{staticClass:"type-icon"},[a("content-type-icon",{attrs:{type:e.contentType}})],1),a("div",{staticClass:"title-text"},[e._v(e._s(e.title))])]),a("div",{staticClass:"card-time"},[e._v(" "+e._s(e._f("dayjs")(e.updateTime))+" ")])])])},s=[],n=(a("a9e3"),a("8f46")),r={name:"DataCardView",components:{ContentTypeIcon:n["a"]},props:{cover:{type:String,default:null},title:{type:String,default:null},updateTime:{type:String,default:null},activeFlag:{type:Boolean,default:!1},contentType:{type:Number,required:!0}}},o=r,l=(a("7531"),a("0c7c")),c=Object(l["a"])(o,i,s,!1,null,"3706e6d5",null);t["a"]=c.exports},"6a86":function(e,t){e.exports="data:image/png;base64,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"},"6f6b":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"30.511",height:"24.408",viewBox:"0 0 30.511 24.408"},children:[{tag:"g",attrsMap:{id:"打开的文件夹",transform:"translate(0)"},children:[{tag:"path",attrsMap:{id:"路径_403","data-name":"路径 403",style:" fill: #009b77;",class:"cls-1",d:"M269,4.247H258.243L255.515.491A1.276,1.276,0,0,0,254.606,0h-7.579c-.909,0-1.515.98-1.212,2.287l2.728,17.153a1.474,1.474,0,0,0,1.364,1.307h16.671a1.5,1.5,0,0,0,1.364-1.306l2.122-13.071c.3-1.144-.3-2.124-1.062-2.124Z",transform:"translate(-239.879 0)"}},{tag:"path",attrsMap:{id:"路径_404","data-name":"路径 404",style:" fill: #fff;",class:"cls-2",d:"M358.4,286.427V275.456h18.306v10.971Z",transform:"translate(-349.86 -268.89)"}},{tag:"path",attrsMap:{id:"路径_405","data-name":"路径 405",style:" fill: #15c39a;",class:"cls-3",d:"M28.931,229.548H15.519l-3.587-3.776a1.643,1.643,0,0,0-1.091-.492H1.484a1.54,1.54,0,0,0-1.4,2.133L4.6,243.169a1.752,1.752,0,0,0,1.715,1.15h18.9a1.754,1.754,0,0,0,1.716-1.148l3.56-11.982a1.511,1.511,0,0,0-1.56-1.64Z",transform:"translate(0 -219.911)"}}]}]})}},7140:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"27.065",viewBox:"0 0 23 27.065"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#2c2c2c;",d:"M193.621,145H212.2l-9.375,11.1a.221.221,0,0,0-.052.143v13.714a.442.442,0,0,1-.335.429l-6.735,1.684V156.181a.222.222,0,0,0,0-.046l-2.3-10.868a.221.221,0,0,1,.216-.267Zm10.848,16.5H216.4v3.093a.442.442,0,0,1-.442.442H204.028v-3.093A.442.442,0,0,1,204.47,161.5Zm0-4.713H216.4v3.093a.442.442,0,0,1-.442.442H204.028v-3.093A.442.442,0,0,1,204.47,156.784Zm0,9.427H216.4V169.3a.442.442,0,0,1-.442.442H204.028v-3.093A.442.442,0,0,1,204.47,166.21Z",transform:"translate(-193.4 -145)"}}]})}},7286:function(e,t,a){},"72b3":function(e,t,a){"use strict";a("2cea")},7444:function(e,t,a){},7531:function(e,t,a){"use strict";a("2d57")},7569:function(e,t,a){"use strict";a("ba70")},7849:function(e,t,a){"use strict";var i={Rubric:1,Rubric_2:2,CenturySkills:3};t["a"]=i},"7a69":function(e,t,a){},"7aa6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAABWlJREFUWEfVmX9MHFUQx7/THvGuLaAUKNge7Qnyo9IgAYUWjNo0NipEaqgl0QQbDOgfNcFEA4l/mNSERhJJ1Kgl4o9EE6pVUUi1ptLGKumlJaQttaAVECilSLFAhSP8eGaWXXK3t3e7e3do+/7Zy723bz47b2bevHmEIJoQIg9AAYAkAHEANshPnnUYwKD87ALwPRH9Eqg4MvuiEOJBAM/KgNEm3x8F0ALgA7PQhkGFECkADgAoUuB6pyfw3bU+tE+OYGR2CkMzU9KTW2zYKtita7DWYsX9EXF4JCoBDluE+3c1Aagiom4jH6sLKoSwAqgD8BwAyz/zs6gf6kTj1d/Q65owImNpjMMagZJ1ySi/Mx2rV4bx/3OsXQCVROTyN5lfUCEE293XAHLnxAI+Gb6Iuv4OjMxOmwJUD44Ns6EyIROlcWmw0AruPgVgFxGxXWs2n6BCiAzZnjb0uybxzK9H0TX1d1CA6pdTV92BTzfvRII1nLvY8QqI6KyWEE1QGfJnAGuc48Mo6zoWtBZ9fSFrtyF1B3IiefFwA0C+FqwXqLzcpznUNI/2oLy7FfNChFST6slWEqE+ZTsKo+/irj4AW9Vm4AEqO85xtknWZFFny7JDKtAM25ReoGiWV/NhImJnk5oa9D0Az7NNPnb2m2Vbbn9mcCTjCcVm3yeiF7xAhRCpAM7PiQXL9o6vQu44Rm2HHaw180mOBqzNNCK65KFRIQSHoaKGKxdQ/Ueb0XkDHsdLzaFpZmHea47axHyUxqfx/01EtGsJVN4WT3AwzzlzaNmXvCohGy/aMyTQhqELqO7xVAxHAmf2HmVTyCUip2SjQoiPeP+uG+hAzZ9nAtaSkRf3O3JRsX6Lx9Dyrh/RNNrj8V/1xmxU2jP5v4+JaC8JISwArgCIZm2a3RaNwCljtCC5782BDhxQKSjJdjvasnZz9ygRxTBoPoCTnGDktB8yI9fUWF+QPElx5xH8dP2y13zOrD1KIvMAg9ZwFvPu4Dm81uc0JdzoYH+Q/uTud2xFxfp0FvM6g37BH1V28Riar/UalW14nD/I+svn8Wov5yParXCtAw1pO7jzMIOe5P218Ny3cE5c1XyjOCZJSs04lLDDtV7n/EG/BQPJs2+LjEfTFj5A4ASDsho3ZZ1uxMDMpJd0t8FSH6d75V2taNHRfrCQLMt+Wzja7yvhn30Mysml1d72oWbwrdqYjZcWw8RS04MNBSQLW73Cgt5te/nnDV3QkthkvJXMxyTP5gs2VJBaoH6Xnre6L9Mfl+xFDzaUkFpLr+tMvASN9zyqpGCaZpATsc5rx1EG6nm3L7dUO5Oh8OQP1p//BwrJc6rDk+GAbxY2GEgGVQd8eQsdR07757rB0ShssJAM4sx6Cg5bJP+UtlDTSYkebCggvZISxlXSPK0sxpeKfcGGApJlusXvxTRPBn0IwHGziTPD1iTmSdUP3l7f6G/H24Oax3Jdk3IfoEqc+UR6aulwt3QU0ci49aQwsEvMh+zEWpuYh9L4zSzW8ygia/XWONzJsDfTcfkdItqnrOatWYCQtcpFoJu7pKOoWQhxL5+j/qciGXt5p9qB/ZUdGbaZi2X/UdmRi2OFWpAMbaqQ+9lwtxQr/wqykBsTZsMrCVl4Oi5FKeRyUWx3QIVcNzPwKo0fHOrE4ZHfcWl6XC/EevQn2SJRHHs3KrxL4/vcK3dak+rW8N2A+Yqm1vOyYRw/jPVLh8KxORcGXJMYm10sxUeFWWG3hiPKYgXnqouXDVKCoTS+bHhZKYLpfbFhUDdgzrbKgry+Ocjboh6ce79pUPeX5SrLTgC8q/Gd0yb5ycP4TokdhJ98IXaUiNgWA2r/AqKY1RuF7jn8AAAAAElFTkSuQmCC"},"7eee":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"common-link"},[i("div",{staticClass:"link-group-wrapper"},[e.ownerLinkGroupList.length&&!e.linkGroupLoading?e._l(e.ownerLinkGroupList,(function(t,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:!(e.hiddenEmptyGroup&&0===t.contents.length),expression:"!(hiddenEmptyGroup && linkGroup.contents.length === 0)"}],key:a,staticClass:"link-group"},[i("div",{staticClass:"group-item"},[i("div",{staticClass:"group-header"},[i("div",{staticClass:"group-left-info"},[i("div",{staticClass:"group-name"},[i("div",{staticClass:"group-name-text"},[e._v(" "+e._s(t.group)+" ")])])]),i("div",{staticClass:"group-right-info"},[i("div",{staticClass:"group-action"},[i("a-button",{directives:[{name:"show",rawName:"v-show",value:e.canEdit,expression:"canEdit"}],style:{"background-color":"#fff",color:"#000",border:"none"},attrs:{type:"primary"},on:{click:function(a){return e.handleLinkGroup(t)}}},[i("div",{staticClass:"btn-text",staticStyle:{"line-height":"20px"}},[e._v(" + Link ")])])],1)])]),i("div",{staticClass:"group-body"},[i("draggable",{attrs:{group:"site",animation:"300",disabled:!e.canEdit},on:{end:e.handleDragEnd},model:{value:t.contents,callback:function(a){e.$set(t,"contents",a)},expression:"linkGroup.contents"}},[i("transition-group",e._l(t.contents,(function(t){return i("div",{key:t.id,staticClass:"group-link-item"},[i("div",{staticClass:"left-info",on:{click:function(a){return e.handleViewDetail(t)}}},[i("div",{staticClass:"icon"},[i("content-type-icon",{attrs:{type:t.type}})],1),i("div",{staticClass:"name"},[e.showDragTips?i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[e._v(" Click and drag content to change the order ")]),e._v(" "+e._s(t.name?t.name:"untitled")+" ")],2):e._e(),e.showDragTips?e._e():[e._v(" "+e._s(t.name?t.name:"untitled")+" ")]],2),t.type===e.typeMap.task?["fa"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag green-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e(),"sa"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag red-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e(),"activity"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag blue-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e(),"ia"===t.taskType.toLowerCase()?i("a-tag",{staticClass:"task-type-tag blue-active-task-type"},[e._v(" "+e._s(t.taskType)+" ")]):e._e()]:e._e(),t.isCreated?i("div",{staticClass:"downloaded-icon"},[i("a-tooltip",{attrs:{placement:"top",title:"already saved in my content"}},[i("downloaded-svg")],1)],1):e._e()],2),i("div",{staticClass:"right-info"},[i("div",{staticClass:"date",on:{click:function(a){return e.handleViewDetail(t)}}},[e._v(e._s(e._f("dayjs")(t.createTime)))]),i("div",{staticClass:"status",on:{click:function(a){return e.handleViewDetail(t)}}},[0===t.status?[e._v("Draft")]:e._e(),1===t.status?[e._v("Published")]:e._e()],2),e.canEdit?i("div",{staticClass:"more-action-wrapper action-item-wrapper"},[i("a-dropdown",[i("a-icon",{staticStyle:{"margin-right":"8px"},attrs:{type:"more"}}),i("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[i("a-menu-item",[i("a-popconfirm",{attrs:{title:e.$t("teacher.my-content.action-delete")+"?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleDeleteLinkItem(t)}}},[i("a",{staticClass:"delete-action",attrs:{href:"#"}},[i("a-icon",{attrs:{type:"delete"}}),e._v(" "+e._s(e.$t("teacher.my-content.action-delete"))+" ")],1)])],1),i("a-menu-item",[i("a",{on:{click:function(a){return e.handleEditLinkItem(t)}}},[i("a-icon",{attrs:{type:"form"}}),e._v(" "+e._s(e.$t("teacher.my-content.action-edit"))+" ")],1)])],1)],1)],1):e._e()])])})),0)],1),0===t.contents.length?i("div",{staticClass:"no-link-group-contents"},[i("no-more-resources")],1):e._e()],1)])])})):e._e()],2),i("a-modal",{attrs:{footer:null,"dialog-style":{top:"10px"},destroyOnClose:"",width:"900px"},model:{value:e.selectLinkContentVisible,callback:function(t){e.selectLinkContentVisible=t},expression:"selectLinkContentVisible"}},[i("div",{staticClass:"my-modal-title",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.linkTitle)+" ")]),i("div",{staticClass:"link-content-wrapper"},[i("task-new-my-content",{attrs:{"from-id":e.fromId,"from-type":e.fromType,"filter-type":e.subFilterType,"no-selected-tips":e.noSelectedTips,"selected-list":e.selectedList,"group-name":e.groupName},on:{cancel:function(t){e.selectLinkContentVisible=!1},ensure:e.handleEnsureSelectedLink}})],1)]),i("a-drawer",{attrs:{destroyOnClose:"",placement:"right",closable:!1,width:"800px",visible:e.previewVisible},on:{close:function(t){e.previewVisible=!1}}},[i("a-row",{staticClass:"preview-wrapper-row"},[i("a-col",{attrs:{span:"2"}},[i("div",{staticClass:"view-back",on:{click:function(t){e.previewVisible=!1}}},[i("div",{staticClass:"back-icon"},[i("img",{attrs:{src:a("217a")}})])])]),i("a-col",{attrs:{span:"22"}},[e.previewCurrentId&&e.previewType?i("div",{staticClass:"detail-wrapper"},[i("common-preview-no-link",{attrs:{id:e.previewCurrentId,type:e.previewType}})],1):e._e()])],1)],1)],1)},s=[],n=(a("a9e3"),a("d3b7"),a("159b"),a("7db0"),a("498a"),a("9afb")),r=a("9586"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my-content"},[i("div",{staticClass:"create-new-action"},[i("div",{staticClass:"create-action"},[i("a-button",{attrs:{type:"primary",shape:"round",icon:"plus",loading:e.createLoading},on:{click:e.handleEnsureCreate}},[e._v(" Create New "+e._s(e.currentTypeLabel)+" ")])],1)]),i("div",{staticClass:"content-wrapper"},[i("a-skeleton",{attrs:{loading:e.skeletonLoading,active:""}},[i("div",{staticClass:"content-list"},["list"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("a-list-item",{key:"item.key",class:{"my-list-item":!0,"active-item":-1!==e.mySelectedList.indexOf(t.type+"-"+t.id),"active-new-item":t.id===e.editId},attrs:{"data-id":t.type+"-"+t.id}},[i("div",{staticClass:"select-block",on:{click:function(a){return e.handleLinkItem(t,a)}}},[-1===e.mySelectedList.indexOf(t.type+"-"+t.id)?i("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}}):e._e(),-1!==e.mySelectedList.indexOf(t.type+"-"+t.id)?i("div",{staticClass:"selected-icon"},[i("img",{attrs:{src:a("7aa6")}})]):e._e()],1),i("span",{staticClass:"content-info-left"},[i("content-type-icon",{attrs:{type:t.type}}),i("span",{staticClass:"name-content"},[e.editId===t.id&&"input"===e.createNewNameMode?i("a-input",{ref:"inputRef",attrs:{size:"small",type:"text",placeholder:"Input name"},on:{blur:function(a){return e.handleConfirmName(t)},pressEnter:function(a){return e.handleConfirmName(t)}},model:{value:e.createNewName,callback:function(t){e.createNewName=t},expression:"createNewName"}}):i("a-tooltip",{attrs:{title:"Rename"}},[i("span",{staticClass:"name-text",on:{click:function(a){return e.handleRename(t)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")])])],1)],1),i("span",{staticClass:"content-info-right"},[i("span",{staticClass:"status"},[0===t.status?[e._v("Draft")]:e._e(),1===t.status?[e._v("Published")]:e._e()],2),i("span",{staticClass:"update-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime||t.createTime))+" ")]),i("div",{staticClass:"action"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item",on:{click:function(a){return e.handleViewDetail(t,a)}}},[i("span",{staticClass:"btn-text"},[e._v("Preview")])]),i("div",{staticClass:"action-item",on:{click:function(a){return e.handleEditItem(t)}}},[i("span",{staticClass:"btn-text"},[e._v("Edit")])])])])])])}}],null,!1,69311050)}):e._e(),"card"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("div",{key:"item.key",staticClass:"my-card-list-item"},[i("div",{staticClass:"cover-img-wrapper"},[i("div",{staticClass:"cover-image",style:{backgroundImage:"url('"+t.image+"')"}})]),i("div",{staticClass:"item-intro"},[i("div",{staticClass:"page-info"},[i("span",{staticClass:"page-num-tag"},[e._v(" 1/1 ")])]),i("div",{staticClass:"main-title",on:{click:function(a){return e.handleViewDetail(t,a)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")]),i("div",{staticClass:"sub-title"},[e._v(" "+e._s(e._f("dayjs")(t.createTime))+" ")])]),i("div",{staticClass:"card-action-icon"},[-1!==e.mySelectedList.indexOf(t.type+"-"+t.id)?i("img",{attrs:{src:a("7aa6")}}):e._e()])])}}],null,!1,3242308050)}):e._e(),i("div",{staticClass:"modal-ensure-action-line"},[i("a-button",{staticClass:"action-item action-cancel",attrs:{shape:"round"},on:{click:e.handleCancel}},[e._v("Cancel")]),i("a-button",{staticClass:"action-ensure action-item",attrs:{type:"primary",shape:"round",disabled:!e.mySelectedList.length,loading:e.ensureLoading},on:{click:e.handleEnsure}},[e._v("Ok")])],1)],1)]),i("a-drawer",{attrs:{destroyOnClose:"",placement:"right",width:"800px",closable:!1,visible:e.previewVisible},on:{close:e.handlePreviewClose}},[i("div",{staticClass:"preview-wrapper"},[i("a-row",{staticClass:"preview-wrapper-row"},[i("a-col",{attrs:{span:"3"}},[i("div",{staticClass:"view-back",on:{click:e.handlePreviewClose}},[i("div",{staticClass:"back-icon"},[i("img",{attrs:{src:a("217a")}})])])]),i("a-col",{attrs:{span:"21"}},[i("div",{staticClass:"detail-wrapper"},[e.previewCurrentId&&e.previewType?i("div",{staticClass:"preview-detail"},[i("common-preview-no-link",{attrs:{id:e.previewCurrentId,type:e.previewType}})],1):e._e()])])],1)],1)])],1)])},l=[],c=a("3835"),d=a("b85c"),u=a("1da1"),p=(a("96cf"),a("4ec9"),a("3ca3"),a("ddb0"),a("fb6a"),a("a434"),a("b0c0"),a("823b")),h=a("ea23"),g=a("7d7a"),m=a("3f76"),f=a("4803"),v=a("8f46"),y=a("4fb2"),b=a("69b3"),w=a("05be"),C=a.n(w),k=a("8d47"),L=a.n(k),T=a("9f06"),I=a("b199"),S=a("1449"),_={name:"NewMyContent",components:{CommonPreviewNoLink:S["a"],ContentStatusIcon:f["a"],ContentTypeIcon:v["a"],UnitPlanPreview:h["default"],MaterialPreview:g["default"],NoMoreResources:b["a"],PuBuIcon:C.a,ListModeIcon:L.a},props:{filterType:{type:Number,required:!0},selectedList:{type:Array,default:function(){return[]}},fromId:{type:String,required:!0},fromType:{type:Number,required:!0},groupName:{type:String,required:!0},noSelectedTips:{type:String,default:"Please select at least one content."}},data:function(){var e=this;return{skeletonLoading:!0,loading:!0,createLoading:!1,loadFailed:!1,myContentList:[],currentStatus:"all-status",currentStatusLabel:this.$t("teacher.my-content.all-status"),currentType:null,currentTypeLabel:null,currentOwner:"all-owner",currentOwnerLabel:this.$t("teacher.my-content.all-owner"),previewVisible:!1,previewCurrentId:"",previewType:"",pagination:{onChange:function(t){p["info"]("pagination onChange",t),e.pageNo=t,e.getMyContent()},showTotal:function(e){return"Total ".concat(e," items")},total:0,pageSize:10},pageNo:1,typeMap:m["e"],dataListMode:"list",createdType:"All",createNewName:"",createNewNameMode:"hide",mySelectedList:[],mySelectedMap:new Map,editId:"",ensureLoading:!1,waitAddAssociateMap:new Map,waitCancelAssociateMap:new Map}},created:function(){this.$logger.info("NewMyContent filterType",this.filterType),this.currentType=this.filterType,this.currentTypeLabel=Object(m["b"])(this.filterType),this.$logger.info("currentTypeLabel "+this.currentTypeLabel),this.$logger.info("NewMyContent selectedList",this.selectedList),this.mySelectedList=this.selectedList.slice(),this.getMyContent()},methods:{handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},getMyContent:function(){var e=this;this.loading=!0,Object(n["FindMyContent"])({owner:m["c"][this.currentOwner],types:[this.currentType],pageNo:this.pageNo,pageSize:this.pagination.pageSize,currentId:this.currentId}).then((function(t){p["info"]("getMyContent",t),t.result&&t.result.records&&t.result.records.length?(t.result.records.forEach((function(e,t){e.key=t})),e.myContentList=t.result.records,e.pagination.total=t.result.total):(e.myContentList=[],e.pagination.total=0),p["info"]("myContentList",e.myContentList)})).finally((function(){e.loading=!1,e.skeletonLoading=!1,e.$nextTick((function(){e.$refs.inputRef&&e.$refs.inputRef.focus()}))}))},handleLinkItem:function(e,t){p["info"]("handleLinkItem",e),t.preventDefault(),t.stopPropagation();var a=e.type+"-"+e.id,i=this.mySelectedList.indexOf(a);-1!==i?(this.mySelectedList.splice(i,1),this.waitCancelAssociateMap.set(a,e),this.waitAddAssociateMap.delete(a)):(this.mySelectedList.push(a),this.waitAddAssociateMap.set(a,e),this.waitCancelAssociateMap.delete(a))},handleViewDetail:function(e,t){p["info"]("my content created by me handleViewDetail",e,t),t.preventDefault(),t.stopPropagation(),this.previewCurrentId=e.id,this.previewType=e.type,this.previewVisible=!0},handleToggleSelect:function(e){p["info"]("handleToggleSelect",e)},handlePreviewClose:function(){p["info"]("handlePreviewClose"),this.previewCurrentId="",this.previewType="",this.previewVisible=!1},handleReferItem:function(e,t){p["info"]("handleReferItem",e),t.preventDefault(),t.stopPropagation(),y["b"].$emit(y["a"].ReferContentItem,{item:e})},handleToggleType:function(e){this.$logger.info("handleToggleType "+e),this.createdType=e,this.getMyContent()},handleToggleDisplayType:function(e){this.$logger.info("handleToggleDisplayType"+e),this.currentType===e?(this.currentType=null,this.currentTypeLabel=null):(this.currentType=e,this.currentTypeLabel=Object(m["b"])(e)),this.$logger.info("after handleToggleDisplayType"+this.currentType),this.getMyContent()},handleEnsureCreate:function(){var e=this;this.$logger.info("handleEnsureCreate "+this.currentType+" "+this.createNewName),this.createLoading=!0,this.createNewName="",this.currentType===this.typeMap.evaluation?Object(T["EvaluationAddOrUpdate"])({name:this.createNewName}).then((function(t){e.$logger.info("EvaluationAddOrUpdate response",t),e.editId=t.result.id,e.createNewNameMode="input";var a=e.typeMap.evaluation+"-"+e.editId;e.mySelectedList.push(a),e.waitAddAssociateMap.set(a,{id:e.editId,type:e.typeMap.evaluation}),e.getMyContent()})).finally((function(){e.createLoading=!1})):this.currentType===this.typeMap.task?Object(I["TaskAddOrUpdate"])({name:this.createNewName}).then((function(t){e.$logger.info("TaskAddOrUpdate response",t),e.editId=t.result.id,e.createNewNameMode="input";var a=e.typeMap.task+"-"+e.editId;e.mySelectedList.push(a),e.waitAddAssociateMap.set(a,{id:e.editId,type:e.typeMap.task}),e.getMyContent()})).finally((function(){e.createLoading=!1})):(this.$logger.info("handleEnsureCreate currentType is not supported"),this.$message.warn("handleEnsureCreate currentType is not supported"))},handleCancel:function(){this.$emit("cancel")},handleEnsure:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var a,i,s,r,o,l,u,p,h,g,m,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$logger.info("handleEnsure waitCancelAssociateMap",e.waitAddAssociateMap,"waitCancelAssociateMap",e.waitCancelAssociateMap),e.ensureLoading=!0,!e.waitCancelAssociateMap.size&&!e.waitAddAssociateMap.size){t.next=18;break}a={fromId:e.fromId,fromType:e.fromType,groupName:e.groupName,otherContents:[]},i=Object(d["a"])(e.waitAddAssociateMap);try{for(i.s();!(s=i.n()).done;)r=Object(c["a"])(s.value,2),o=r[0],l=r[1],-1===e.selectedList.indexOf(o)?a.otherContents.push({toId:l.id,toType:l.type}):e.$logger.info("handleEnsure waitAddAssociateMap item is selected skip "+o,l,e.selectedList)}catch(v){i.e(v)}finally{i.f()}u={fromId:e.fromId,fromType:e.fromType,others:[]},p=Object(d["a"])(e.waitCancelAssociateMap);try{for(p.s();!(h=p.n()).done;)g=Object(c["a"])(h.value,2),m=g[0],f=g[1],-1!==e.selectedList.indexOf(m)?u.others.push({toId:f.id,toType:f.type}):e.$logger.info("handleEnsure waitCancelAssociateMap item is no selected skip "+m,f,e.selectedList)}catch(v){p.e(v)}finally{p.f()}if(e.ensureLoading=!0,e.$logger.info("associate data",a),!a.otherContents.length){t.next=14;break}return t.next=14,Object(n["Associate"])(a);case 14:if(e.$logger.info("cancelAssociateData data",u),!u.others.length){t.next=18;break}return t.next=18,Object(n["AssociateCancel"])(u);case 18:e.ensureLoading=!1,e.$emit("ensure");case 20:case"end":return t.stop()}}),t)})))()},handleEditItem:function(e){p["info"]("handleEditItem",e),e.type===m["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===m["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleConfirmName:function(e){var t=this;this.createNewNameMode="hide",e.name!==this.createNewName&&(e.name=this.createNewName,Object(n["Rename"])({id:e.id,type:e.type,name:this.createNewName}).then((function(e){t.$logger.info("Rename response",e),e.success||t.$message.error(e.message)})))},handleRename:function(e){var t=this;this.editId=e.id,this.createNewNameMode="input",this.createNewName=e.name,this.$nextTick((function(){t.$refs.inputRef.focus()}))}}},M=_,x=(a("8fb9"),a("0c7c")),A=Object(x["a"])(M,o,l,!1,null,"599b2370",null),D=A.exports,E=a("1077"),O=a.n(E),j=a("b76a"),B=a.n(j),N={name:"TaskLink",components:{NoMoreResources:b["a"],ContentTypeIcon:v["a"],TaskNewMyContent:D,MyContentSelector:r["a"],CommonPreviewNoLink:S["a"],draggable:B.a,DownloadedSvg:O.a},props:{fromType:{type:Number,required:!0},fromId:{type:String,required:!0},filterType:{type:Number,default:0},canEdit:{type:Boolean,default:!0},isLibrary:{type:Boolean,default:!1},hiddenEmptyGroup:{type:Boolean,default:!1},showDragTips:{type:Boolean,default:!0}},data:function(){return{defaultGroupName:"Untitled category",defaultGroupNameEditMode:"view",defaultGroupOtherContents:[],linkGroupLoading:!0,ownerLinkGroupList:[],subDefaultGroupName:["Untitled category"],noSelectedTips:"",currentGroupId:null,selectLinkContentVisible:!1,typeMap:m["e"],previewVisible:!1,previewCurrentId:"",previewType:"",subFilterType:null,selectedList:[],showCreate:!0,showTabs:!0,linkTitle:null,groupName:null}},created:function(){this.$logger.info("load TaskLink with id["+this.fromId+"] fromType["+this.fromType+"]"),this.getAssociate()},methods:{getAssociate:function(){var e=this;this.$logger.info("GetAssociate id["+this.fromId+"] fromType["+this.fromType+"]"),this.linkGroupLoading=!0,Object(n["GetAssociate"])({id:this.fromId,type:this.fromType,published:this.isLibrary?1:0}).then((function(t){if(e.$logger.info("TaskLink GetAssociate response",t),t.success){var a=t.result;e.ownerLinkGroupList=[],a.groups.forEach((function(t){e.ownerLinkGroupList.push({group:t.groupName,contents:[]}),t.editing=!1}));var i=[],s=[];a.owner.forEach((function(t){t.contents.forEach((function(t){t.type===e.typeMap["unit-plan"]?i.push(t):t.type===e.typeMap.evaluation&&s.push(t)}))}));var n=e.ownerLinkGroupList.find((function(e){return"Relevant Unit Plan(s)"===e.group}));n&&(n.contents=i);var r=e.ownerLinkGroupList.find((function(e){return"Linked assessment tool(s)"===e.group}));r&&(r.contents=s),e.ownerLinkGroupList=e.ownerLinkGroupList.sort((function(e,t){return-1!==e.group.indexOf("Unit Plan")?-1:1})),e.selectedList=[],e.ownerLinkGroupList.forEach((function(t){t.contents.forEach((function(t){e.selectedList.push(t.type+"-"+t.id)}))})),e.$logger.info("ownerLinkGroupList",e.ownerLinkGroupList)}else e.$message.error(t.message)})).finally((function(){e.linkGroupLoading=!1}))},handleEnsureSelectedLink:function(e){this.$logger.info("handleEnsureSelectedLink",e),this.selectLinkContentVisible=!1,this.getAssociate()},handleLinkGroup:function(e){this.$logger.info("handleLinkGroup",e),this.subDefaultGroupName=e.group,"Linked assessment tool(s)"===e.group.trim()?(this.subFilterType=m["e"].evaluation,this.linkTitle="Link Assessment tool(s)",this.groupName="Linked assessment tool(s)",this.noSelectedTips="No assessment rubric(s) selected",this.selectLinkContentVisible=!0):"Relevant Unit Plan(s)"===e.group.trim()?(this.subFilterType=m["e"]["unit-plan"],this.linkTitle="Link Unit Plan",this.groupName="Relevant Unit Plan(s)",this.noSelectedTips="No new Unit plan selected",this.selectLinkContentVisible=!0):(this.$logger.warn("handleLinkGroup unknown group",e),this.$message.warn("handleLinkGroup unknown group "+e))},handleToggleEditGroupName:function(e){var t=this;if(this.$logger.info("handleToggleEditGroupName",e),e.editing){e.editing=!1;var a=[];e.contents.forEach((function(e){a.push(e.id)})),Object(n["AddOrSaveGroupName"])({fromId:this.fromId,fromType:this.fromType,groupName:e.group,ids:a}).then((function(a){t.$logger.info("AddOrSaveGroupName",a),e.editing=!1}))}else e.editing=!0},handleViewDetail:function(e){p["info"]("handleViewDetail",e),this.previewCurrentId=e.id,this.previewType=e.type,this.previewVisible=!0},handleEditLinkItem:function(e){p["info"]("handleEditLinkItem",e),e.type===m["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===m["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleDeleteLinkItem:function(e){var t=this;this.$logger.info("handleDeleteLinkItem",e),Object(n["AssociateCancel"])({fromId:this.fromId,fromType:this.fromType,toId:e.id,toType:e.type}).then((function(e){t.$logger.info("handleDeleteLinkItem response ",e),t.getAssociate()}))},handleDragEnd:function(){var e=this;p["info"]("handleDragEnd ",this.ownerLinkGroupList),this.ownerLinkGroupList.forEach((function(t){var a=[];t.contents.forEach((function(e){a.push(e.id)})),Object(n["AddOrSaveGroupName"])({fromId:e.fromId,fromType:e.fromType,groupName:t.group,ids:a}).then((function(t){e.$logger.info("AddOrSaveGroupName",t)}))}))}}},P=N,R=(a("666c"),Object(x["a"])(P,i,s,!1,null,"1c31a9fc",null));t["a"]=R.exports},8275:function(e,t,a){},"83d7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAAAAXNSR0IArs4c6QAABFVJREFUSEvVV19oW1UY//1O7k3btVuStndz3bAbIlqngqWT4dquxU0dMnAIFVEfOm1r53yosD74sFAVHSIKss2lFeaDjtEHcSBjIJK2aR+EysCJTETpUFdmbtdmmnZtkvPJTZo0mzdbyqrgebqc7/t+v+985/tzLrGCy//1kVrTa54W8AECKg/aFuA8oD6wJ9ecQVtbijnheMi0tLdK5hIPg7pGwDUUXtBInLui/5hEa1/yVj5WjYR6FdVhQJZwl4wEgnmB7rGbXz6eVrCGT9wNT+JV0bIX5FoCzj4F0IRMCXASNN63G1+8dDNya/j4M1DqUwBGQT1BDIZqYHVkoIWUd0WwjkAZgNUASnOGpEB0CoLzmuieaur6piDo94Nea3qmF5CHBMyEmlAU2QZwbdZOiPdYNRJ6ShR/UrPz0zTVWhhmvQB7CbQCKF9yABoiEwLVZjd1fFuQfDDorSmrMbB+SSMRlz1Q6lSOWOQcEQ4aGIJGX58gGCRaWpSFH0q1Ye5VgjdAbMojEQEuJJXaPbP9pYu3uvOs3Dc8sNmr5Jc8/ctuSZCRj4fMyji3KoWTBGqvPzlOR2fkeezpml3cpy9yzB9Lls2htf3ajQ4FIqE7DTDfUbswsWM9OOix1l/dJdCfEajMhQpIiGbP1I6Oo1b4aIUYZguAXiRTh+zW7qHbJ3YQwkGj2lPTQ/LtG7L1EgX7tMILFDzpJOWCknti27t+XhliADXjoVWJOX4BYFf+fQOYAVABwAQwH03+XuFW7+6hlqDyja7zOYCxxssxsE+7JU1l+Ng2j8czBLLETe4knd3UWecmcyX2j33cbGr9VrphUA7ZjV3hG4zTieMR9aiCGiDhd89mfh5t6ni6aGJrpP87ULY4lS6CH+2mzi3OZxogFDKr71MPAjoIsImAExn3hCTeiTZ2vl48caTf6cGetAGhoxvMcmzOlET16PEGQp0SLbUkC7dBAFqhfWp75yfLIc6cbnFFy6QcDZn6DHwV8hleHIBiG0Q2iOJqCrxu4MlUsnm6ZX9kRYgdkE3hE6V/eRYCJO6CYB9Ip2arF9tpdvTJtfkF68+dB6ZWjDgHJEJr6Fg5SkruQELXi2I3oe8F4BNw2m7s2AhnoLgs16y2Iv0FQ+2evZmOtmbjVZ83JZtF5DFCDLu5681C+itHnM9w5sOSjf6k+u2R1+b+W+KCYVkS/Dsn/v8Tz8Yq8PjBeBEHKVrFP3ak1tTeiTwDm1YkNAvQeWul12yJuT4+UR4tGrUIxcCGq3WG1uezqkJepBXpd95P9blN8CMy9SWgXGuyCJ7rVISikOKzJJ7L6wlnWT06cJCQw5DcAzwFII7FObFcon/qp2eKM7OzXU5rsJ2B8ZDPmOMIiPvzyG+fzx1BCzBsB/xPpN2pGh6oo9L9BLelPbv5S2z5TmUuTQM8m9IL+6/seOXXHIUzibiKOz0aW52fi+WjF7bQWiaVh2PReGwkWzF/Ay535VYy6arNAAAAAElFTkSuQmCC"},"870d":function(e,t,a){},"873a":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"material-preview"},[a("a-row",{staticClass:"action-header"},[a("a-col",{staticClass:"action-header-toggle",attrs:{span:"24"}})],1),a("a-row",{staticClass:"top-header"}),a("a-row",{staticClass:"preview-data-info"},[a("a-col",{staticClass:"slide-preview",attrs:{span:"24"}},[a("a-col",{attrs:{span:"24"}},[e.mediaList.length?e._e():a("div",{staticClass:"no-preview-img"},[a("no-more-resources")],1)]),a("a-col",{staticStyle:{display:"flex","flex-direction":"row"},attrs:{span:"24"}},[a("div",{staticClass:"media-preview"},[e.mediaList.length?a("a-carousel",{ref:"carousel",staticClass:"my-carousel",attrs:{arrows:"","after-change":e.onChangePage}},[a("div",{staticClass:"custom-slick-arrow",staticStyle:{left:"-40px",zIndex:"9"},attrs:{slot:"prevArrow"},slot:"prevArrow"},[a("a-icon",{attrs:{type:"left-circle"}})],1),a("div",{staticClass:"custom-slick-arrow",staticStyle:{right:"-30px",zIndex:"9"},attrs:{slot:"nextArrow"},slot:"nextArrow"},[a("a-icon",{attrs:{type:"right-circle"}})],1),e._l(e.mediaList,(function(t,i){return a("div",{key:"cIndex"+i},[a("div",{staticStyle:{height:"400px"}},["image"==t.type?a("img",{attrs:{src:t.url,preview:0}}):e._e(),"video"==t.type?a("video",{attrs:{src:t.url,controls:""}}):e._e(),"audio"==t.type?a("audio",{attrs:{src:t.url,controls:""}}):e._e(),"iframe"==t.type?a("iframe",{staticClass:"detail-iframe",attrs:{frameborder:"no",border:"0",allowfullscreen:"",src:t.url}}):e._e()])])}))],2):e._e()],1)])],1)],1),e.mediaList&&e.mediaList.length?a("div",{staticClass:"page-info"},[e._v(" "+e._s(e.currentImgIndex+1)+" / "+e._s(e.mediaList.length)+" ")]):e._e()],1)},s=[],n=a("69b3"),r=a("8448"),o=a.n(r),l=a("998c"),c=a.n(l),d=a("4084"),u=a.n(d),p=a("8a21"),h=a.n(p),g=a("1eeb"),m=a.n(g),f=a("5a1d"),v=a.n(f),y=a("6631"),b=a.n(y),w=a("7aef"),C=a("3111"),k={name:"MediaPreview",components:{MaterialTypeIcon:C["a"],NoMoreResources:n["a"],TextTypeSvg:o.a,ImageTypeSvg:c.a,VideoTypeSvg:u.a,AudioTypeSvg:h.a,YoutubeTypeSvg:m.a,PdfTypeSvg:v.a,UrlTypeSvg:b.a},props:{mediaList:{type:Array,default:function(){return[]}},materialType:{type:String,default:"image"}},computed:{},mounted:function(){},data:function(){return{elementsList:[],currentImgIndex:0,fileTypeMap:w["a"],loadingClass:!1}},created:function(){},methods:{onChangePage:function(e){this.currentImgIndex=e}}},L=k,T=(a("0f44"),a("0c7c")),I=Object(T["a"])(L,i,s,!1,null,"71a7280b",null);t["a"]=I.exports},"8b49":function(e,t,a){"use strict";a("023b")},"8bab":function(e,t,a){},"8c95":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"associate-preview"},[i("a-row",{staticClass:"bottom-relative"},[i("a-col",{staticClass:"content-type-filter",attrs:{span:"24"}},[i("a-radio-group",{attrs:{"button-style":"solid"},on:{change:e.handleUserTypeChange},model:{value:e.activeUserType,callback:function(t){e.activeUserType=t},expression:"activeUserType"}},[i("a-radio-button",{staticClass:"left-button",attrs:{value:"owner"}},[e._v(" "+e._s(e.$t("teacher.unit-plan-preview.by-owner"))+" ")]),i("a-radio-button",{staticClass:"right-button",attrs:{value:"others"}},[e._v(" "+e._s(e.$t("teacher.unit-plan-preview.by-others"))+" ")])],1),i("div",{staticClass:"content-type-list"},[i("div",{staticClass:"toggle-mode-type-wrapper"},[i("div",{staticClass:"toggle-mode-type"},[i("div",{staticClass:"toggle-mode"},[i("div",{class:{"mode-item":!0,"skill-active-mode":e.activeContentType===e.typeMap.task},on:{click:function(t){return e.handleSelectContentType(e.typeMap.task)}}},[e._v(" "+e._s(e.$t("teacher.unit-plan-preview.task"))+" ")]),i("div",{class:{"mode-item":!0,"general-active-mode":e.activeContentType===e.typeMap.evaluation},on:{click:function(t){return e.handleSelectContentType(e.typeMap.evaluation)}}},[e._v(" "+e._s(e.$t("teacher.unit-plan-preview.evaluation"))+" ")])])])])])],1),i("a-col",{staticClass:"created-toggle",attrs:{span:"24"}},[i("div",{staticClass:"toggle-view-type"},[i("div",{staticClass:"switch-icon"},[i("div",{class:{"icon-item":!0,"active-icon":"list"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("list")}}},[i("list-mode-icon")],1),i("div",{class:{"icon-item":!0,"active-icon":"card"===e.dataListMode},on:{click:function(t){return e.handleToggleDataListMode("card")}}},[i("pu-bu-icon")],1)])])])],1),i("a-row",[i("a-col",{attrs:{span:"24"}},[i("div",{staticClass:"associate-info"},["list"===e.dataListMode?e._l(e.currentAssociateList,(function(t,s){return t.type===e.activeContentType?i("div",{key:s,staticClass:"associate-block-list"},[i("div",{staticClass:"question-item list-question-item"},[i("div",{class:{"list-item":!0,"browser-item":!0,"odd-line":s%2===0}},[i("div",{staticClass:"item-name"},[i("dir-icon",{attrs:{"content-type":t.type}}),i("span",{staticClass:"data-name",on:{click:function(a){return e.handleClickTitle(t)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")])],1),i("div",{staticClass:"arrow-item"},[i("span",{staticClass:"data-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime||t.createTime))+" ")]),i("div",{staticClass:"edit-item-icon",on:{click:function(a){return e.handleEditItem(t.type,t)}}},[i("img",{attrs:{src:a("ae3c")}})]),i("div",{staticClass:"star-it",on:{click:function(a){return e.handleFavorite(t)}}},[t.createBy!==e.$store.getters.userInfo.email?[t.isFavorite?e._e():i("img",{attrs:{src:a("58e7")}}),t.isFavorite?i("img",{attrs:{src:a("24e3")}}):e._e()]:e._e()],2),i("div",{staticClass:"edit-it",on:{click:function(a){return e.handleEditItem(t.type,t)}}},[i("a-icon",{attrs:{type:"more"}})],1)])])])]):e._e()})):e._e(),"card"===e.dataListMode?[i("div",{staticClass:"associate-block-list associate-block-list-card"},e._l(e.currentAssociateList,(function(t,s){return t.type===e.activeContentType?i("div",{key:s,staticClass:"question-item card-question-item"},[i("div",{class:{"card-item":!0,"browser-item":!0,"odd-line":s%2===0}},[i("data-card-view",{attrs:{title:t.name,"update-time":t.updateTime,cover:t.image,"content-type":t.type}}),i("div",{staticClass:"card-action-item"},[i("div",{staticClass:"action-left"},[i("div",{staticClass:"edit-item-icon",on:{click:function(a){return e.handleEditItem(t.type,t)}}},[i("img",{attrs:{src:a("ae3c")}})]),t.createBy!==e.$store.getters.userInfo.email?[i("div",{staticClass:"star-it",on:{click:function(a){return e.handleFavorite(t)}}},[t.isFavorite?e._e():i("img",{attrs:{src:a("58e7")}}),t.isFavorite?i("img",{attrs:{src:a("24e3")}}):e._e()])]:e._e()],2),i("div",{staticClass:"action-right"},[i("div",{staticClass:"edit-it",on:{click:function(a){return e.handleEditItem(t.type,t)}}},[i("a-icon",{attrs:{type:"more"}})],1)])])],1)]):e._e()})),0)]:e._e()],2)])],1),i("a-row")],1)},s=[],n=(a("a9e3"),a("d3b7"),a("159b"),a("823b")),r=a("3f76"),o=a("8f46"),l=a("05be"),c=a.n(l),d=a("8d47"),u=a.n(d),p=a("6964"),h=a("faaa"),g=a("69b3"),m=a("95c6"),f=m.FavoritesAdd,v=a("9afb"),y=v.GetAssociate,b={name:"IsLibrary",props:{id:{type:String,required:!0},contentType:{type:Number,required:!0}},components:{NoMoreResources:g["a"],DirIcon:h["a"],DataCardView:p["a"],ContentTypeIcon:o["a"],PuBuIcon:c.a,ListModeIcon:u.a},data:function(){return{loading:!0,associateData:null,tagColorList:["pink","orange","green","cyan","blue","red","purple"],activeContentType:r["e"].task,activeUserType:"owner",currentAssociateList:[],typeMap:r["e"],previewType:"",dataListMode:"list"}},created:function(){n["info"]("Associate Preview id "+this.id),this.loadAssociateData()},methods:{loadAssociateData:function(){var e=this;n["info"]("loadAssociateData "+this.id+" "+this.contentType),this.loading=!0,y({id:this.id,type:this.contentType,published:this.isLibrary?1:0,preview:!0}).then((function(t){n["info"]("GetAssociate ",t),e.associateData=t.result,e.handleUserTypeChange()})).then((function(){n["info"]("get favorite "+e.id)})).finally((function(){e.loading=!1}))},handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},handleSelectContentType:function(e){n["info"]("handleSelectContentType "+e),this.activeContentType=e},handleSubPreviewClose:function(){n["info"]("handleSubPreviewClose"),this.previewType=null},handleUserTypeChange:function(){var e=this;n["info"]("handleUserTypeChange "+this.activeUserType);var t=this.associateData[this.activeUserType];this.currentAssociateList=[],t.forEach((function(t){t.contents&&t.contents.length&&t.contents.forEach((function(t){e.currentAssociateList.push(t)}))})),n["info"]("currentAssociateList",this.currentAssociateList)},handleClickTitle:function(e){n["info"]("handleClickTitle",e),this.previewType=r["e"]["unit-plan"]},handleSubPreview:function(e,t){n["info"]("handleSubPreview",e,t),this.previewType=r["e"]["unit-plan"]},handleFavorite:function(e){n["info"]("handleFavorite",e),f({sourceId:e.id,sourceType:e.type}).then((function(t){n["info"]("FavoritesAdd ",t),e.isFavorite=!e.isFavorite}))},handleEditItem:function(e,t){n["info"]("handleEditItem",e,t),t.type===r["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+t.id,"_blank"):t.type===r["e"].task?window.open("/teacher/task-redirect/"+t.id,"_blank"):t.type===r["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+t.id,"_blank")}}},w=b,C=(a("fa0b"),a("0c7c")),k=Object(C["a"])(w,i,s,!1,null,"3b8f30d4",null);t["a"]=k.exports},"8d236":function(e,t,a){"use strict";a("a31b")},"8d47":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"27.909",viewBox:"0 0 28 27.909"},children:[{tag:"path",attrsMap:{id:"liebiao_","data-name":"liebiao ",class:"cls-1",d:"M62,62h6.932v6.93H62V62Zm10.279,0H90v6.93H72.279V62Zm0,10.326H90v7.208H72.279V72.326ZM62,72.326h6.932v7.208H62V72.326Zm0,10.558h6.932v7.024H62V82.885Zm10.279,0H90v7.024H72.279V82.885Z",transform:"translate(-62 -62)"}}]})}},"8f46":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"status-icon-item"},[e.type===e.typeMap.task?a("span",[e._v("Task")]):e._e(),e.type===e.typeMap["unit-plan"]?a("span",[e._v("Unit")]):e._e(),e.type===e.typeMap.pd?a("span",[e._v("PD")]):e._e(),e.type===e.typeMap.video?a("span",[e._v("Video")]):e._e()])},s=[],n=(a("a9e3"),a("3f76")),r={name:"ContentTypeIcon",props:{type:{type:Number,default:-1},size:{type:String,default:"30px"}},data:function(){return{typeMap:n["e"]}}},o=r,l=(a("4133"),a("0c7c")),c=Object(l["a"])(o,i,s,!1,null,"a464ed10",null);t["a"]=c.exports},"8fb9":function(e,t,a){"use strict";a("8275")},"90e8":function(e,t,a){"use strict";var i={Edit:"edit",Preview:"preview",StudentEvaluate:"student-evaluate",TeacherEvaluate:"teacher-evaluate",PeerEvaluate:"peer-evaluate"};t["a"]=i},"91ff":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag-ui"},[a("a-col",[a("div",{staticClass:"objectives-wrapper"},[e.getknowledgeListType(e.TagType.skill).length>0?a("a-row",{staticClass:"objectives-wrapper-block"},[a("div",{staticClass:"title-item title-skill"},[e._v("Achievement objectives")]),e._l(e.getknowledgeListType(e.TagType.skill),(function(t,i){return a("div",{key:i,staticClass:"objectives-list"},[a("div",{staticClass:"objectives-list-item objectives-list-item-skill objectives-list-item-top-fixed"},[a("div",{staticClass:"skt-description"},[a("a-tooltip",{attrs:{title:t.path}},[t.key?a("span",{staticClass:"self-out-icon"},[a("a-icon",{attrs:{type:"user-add"}})],1):e._e(),e._v(" "+e._s(t.name)+" "),t.subjectId&&e.getSubjectName(t.subjectId)?a("span",{staticClass:"subject-name-tag"},[a("a-tag",{staticClass:"my-subject-name-tag"},[e._v(e._s(e.getSubjectName(t.subjectId)))])],1):e._e()]),e.bloomInfo(t.knowledgeId,"isExist")?a("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"skt-chart"},[a("div",{staticClass:"skt-chart-detail"},[a("label",[e._v("Bloom Taxonomy")]),a("a-rate",{staticClass:"rate-bar-con small",attrs:{tooltips:e.bloomLevelDesc,count:6,value:e.bloomInfo(t.knowledgeId,"bloomLevel"),disabled:""}},[a("div",{attrs:{slot:"character"},slot:"character"},[a("div",{staticClass:"rate-bar"})])])],1),a("div",{staticClass:"skt-chart-detail"},[a("label",[e._v("Knowledge dimension")]),e._l(e.bloomInfo(t.knowledgeId,"knowledgeLevel"),(function(i,s){return a("a-tag",{key:t.name+"bloom_tag"+s,staticClass:"tag-item",attrs:{color:"purple"}},[e._v(" "+e._s(i)+" ")])}))],2)]):e._e()],1)])])}))],2):e._e(),e.getknowledgeListType(e.TagType.knowledge).length>0?a("a-row",{staticClass:"objectives-wrapper-block"},[a("div",{staticClass:"title-item title-learnout"},[e._v("Learning outcomes")]),e._l(e.getknowledgeListType(e.TagType.knowledge),(function(t,i){return a("div",{key:i,staticClass:"objectives-list"},[a("div",{staticClass:"objectives-list-item objectives-list-item-learn objectives-list-item-top-fixed"},[a("div",{staticClass:"skt-description"},[a("a-tooltip",{attrs:{title:t.path}},[t.key?a("span",{staticClass:"self-out-icon"},[a("a-icon",{attrs:{type:"user-add"}})],1):e._e(),e._v(" "+e._s(t.name)+" "),t.subjectId&&e.getSubjectName(t.subjectId)?a("span",{staticClass:"subject-name-tag"},[a("a-tag",{staticClass:"my-subject-name-tag"},[e._v(e._s(e.getSubjectName(t.subjectId)))])],1):e._e()]),e.bloomInfo(t.knowledgeId,"isExist")?a("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"skt-chart"},[a("div",{staticClass:"skt-chart-detail"},[a("label",[e._v("Bloom Taxonomy")]),a("a-rate",{staticClass:"rate-bar-con small",attrs:{tooltips:e.bloomLevelDesc,count:6,value:e.bloomInfo(t.knowledgeId,"bloomLevel"),disabled:""}},[a("div",{attrs:{slot:"character"},slot:"character"},[a("div",{staticClass:"rate-bar"})])])],1),a("div",{staticClass:"skt-chart-detail"},[a("label",[e._v("Knowledge dimension")]),e._l(e.bloomInfo(t.knowledgeId,"knowledgeLevel"),(function(i,s){return a("a-tag",{key:t.name+"bloom_tag"+s,staticClass:"tag-item",attrs:{color:"purple"}},[e._v(" "+e._s(i)+" ")])}))],2)]):e._e()],1)])])}))],2):e._e(),e.getknowledgeListType(e.TagType.century).length>0?a("a-row",{staticClass:"objectives-wrapper-block"},[a("div",{staticClass:"title-item title-21"},[e.$store.getters.bindCurriculum===e.AllCurriculums.NZ?[e._v(" Key competencies ")]:e.$store.getters.bindCurriculum===e.AllCurriculums.AU?[e._v(" General capabilities ")]:[e._v(" 21st Century Skills ")]],2),e._l(e.getknowledgeListType(e.TagType.century),(function(t,i){return a("div",{key:i,staticClass:"objectives-list"},[a("div",{staticClass:"objectives-list-item objectives-list-item-21 objectives-list-item-top-fixed",on:{click:function(a){return e.handleActiveDescription(e.TagType.century,t)}}},[a("div",{staticClass:"skt-description skt-description-21"},[a("a-tooltip",{attrs:{title:t.path}},[t.key?a("span",{staticClass:"self-out-icon"},[a("a-icon",{attrs:{type:"user-add"}})],1):e._e(),e._v(" "+e._s(t.name)+" "),t.subjectId&&e.getSubjectName(t.subjectId)?a("span",{staticClass:"subject-name-tag"},[a("a-tag",{staticClass:"my-subject-name-tag"},[e._v(e._s(e.getSubjectName(t.subjectId)))])],1):e._e()]),e.bloomInfo(t.knowledgeId,"isExist")?a("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"skt-chart"},[a("div",{staticClass:"skt-chart-detail"},[a("label",[e._v("Bloom Taxonomy")]),a("a-rate",{staticClass:"rate-bar-con small",attrs:{tooltips:e.bloomLevelDesc,count:6,value:e.bloomInfo(t.knowledgeId,"bloomLevel"),disabled:""}},[a("div",{attrs:{slot:"character"},slot:"character"},[a("div",{staticClass:"rate-bar"})])])],1),a("div",{staticClass:"skt-chart-detail"},[a("label",[e._v("Knowledge dimension")]),e._l(e.bloomInfo(t.knowledgeId,"knowledgeLevel"),(function(i,s){return a("a-tag",{key:t.name+"bloom_tag"+s,staticClass:"tag-item",attrs:{color:"purple"}},[e._v(" "+e._s(i)+" ")])}))],2)]):e._e()],1),t.tagListVisible?a("a-divider",{staticStyle:{margin:"10px 0px"}}):e._e(),t.tagListVisible?a("div",{staticClass:"skt-description-tag-list"},e._l(t.tags,(function(i){return a("div",{key:i,class:{"tag-list-item":!0,"skill-mode":!0}},[a("a-tag",{staticClass:"tag-item",attrs:{closable:!0},on:{close:function(a){return e.handleDeleteTag(t,i)}}},[e._v(e._s(i))])],1)})),0):e._e()],1)])}))],2):e._e()],1)]),a("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"800px"},model:{value:e.addTagVisible,callback:function(t){e.addTagVisible=t},expression:"addTagVisible"}},[a("div",{staticClass:"my-modal-title",attrs:{slot:"title"},slot:"title"},[e._v(" Add tag ")]),a("learn-out-add-tag",{attrs:{knowledge:e.knowledge},on:{"handle-select-tags":e.handleEnsureTags}})],1),a("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"1000px",title:"Add tag"},model:{value:e.centuryTagVisible,callback:function(t){e.centuryTagVisible=t},expression:"centuryTagVisible"}},[a("div",{staticClass:"ensure-setting-modal"},[a("div",{staticClass:"tips"},[a("p",[e._v(" "+e._s(e.knowledge.name)+" ")])]),a("div",[e._l(e.centuryTagList,(function(t,i){return a("div",{key:i,staticClass:"row-cascader"},[a("a-cascader",{staticStyle:{width:"900px"},attrs:{fieldNames:{label:"name",value:"name",children:"children"},options:e.centuryList,"change-on-select":""},model:{value:e.centuryTagList[i],callback:function(t){e.$set(e.centuryTagList,i,t)},expression:"centuryTagList[index]"}}),e.centuryTagList.length>1?a("a-button",{attrs:{type:"link",icon:"minus",size:"large"},on:{click:function(t){return e.handleRemoveCenturyTag(i)}}}):e._e()],1)})),a("a-button",{attrs:{type:"link",icon:"plus-circle",size:"large"},on:{click:function(t){return e.handleAddCenturyTag()}}})],2),a("div",{staticClass:"modal-ensure-action-line-center"},[a("a-button",{staticClass:"action-item action-cancel",attrs:{shape:"round"},on:{click:function(t){e.centuryTagVisible=!1}}},[e._v("Cancel")]),a("a-button",{staticClass:"action-ensure action-item",attrs:{type:"primary",shape:"round"},on:{click:e.handleEnsureCenturyTags}},[e._v("Confirm")])],1)])])],1)},s=[],n=(a("ac1f"),a("1276"),a("d81d"),a("4de4"),a("7db0"),a("a630"),a("3ca3"),a("d3b7"),a("6062"),a("ddb0"),a("99af"),a("c740"),a("a434"),a("159b"),a("b0c0"),a("823b")),r=a("69b3"),o=a("214d"),l=a("f93e"),c=a("db6a"),d=a("2934"),u={name:"UiLearnOutSub",components:{LearnOutAddTag:o["a"],NoMoreResources:r["a"]},props:{learnOuts:{type:Array,default:function(){return[]}},selfOuts:{type:Array,default:function(){return[]}},classInfoList:{type:Array,default:function(){return[]}}},mounted:function(){},destroyed:function(){},computed:{dealPath:function(){return function(e){return e?e.split(">"):e}},bloomInfo:function(){var e=this;return function(t,a){if(!t||0===e.classInfoList.length)return null;var i=e.classInfoList.map((function(e){return e.data&&e.data.data?e.data.data:""})),s=i.filter((function(e){return e&&e.learnOuts&&e.learnOuts.length>0})),n=s.filter((function(e){return e.learnOuts.find((function(e){return e.knowledgeId===t}))})),r={knowledgeLevel:[],bloomLevel:0};return r.knowledgeLevel=Array.from(new Set(n.map((function(e){return e.knowledgeLevel})).filter((function(e){return""!==e})))),r.bloomLevel=n.map((function(t){var a=e.bloomLevel.find((function(e){return e.text===t.bloomLevel}));return a?parseInt(a.value):""})).filter((function(e){return""!==e})).sort().pop(),"isExist"===a?r.knowledgeLevel.length>0||r.bloomLevel>0:r[a]}},bloomLevelDesc:function(){return this.bloomLevel&&this.bloomLevel.length>0?this.bloomLevel.map((function(e){return e.title})):[]}},data:function(){return{knowledgeList:[],addTagVisible:!1,centuryTagVisible:!1,centuryTagList:[],knowledge:{},tags:[],TagType:l["T"],AllCurriculums:l["b"],centuryList:[],bloomLevel:[]}},created:function(){this.knowledgeList=this.learnOuts.concat(this.selfOuts),n["info"]("knowledgeList ",this.knowledgeList),this.get21century(),this.initData()},watch:{},methods:{initData:function(){var e=this;Object(d["a"])(l["k"]).then((function(t){t.success&&(n["info"]("DICT_BLOOM_TAXONOMY",t.result),e.bloomLevel=t.result)}))},handleActiveDescription:function(e,t){var a=this.knowledgeList.findIndex((function(e){return e.knowledgeId===t.knowledgeId}));this.knowledgeList[a].tagType!==l["T"].knowledge&&this.knowledgeList[a].tagType!==l["T"].century||(this.knowledgeList[a].tagListVisible?this.knowledgeList[a].tagListVisible=!1:this.knowledgeList[a].tagListVisible=!0,this.$set(this.knowledgeList,a,this.knowledgeList[a]),n["info"]("tagListVisible ",this.knowledgeList[a].tagListVisible))},handleDeleteTag:function(e,t){var a=this.knowledgeList.findIndex((function(t){return t.knowledgeId===e.knowledgeId}));this.knowledgeList[a].tags.splice(this.knowledgeList[a].tags.indexOf(t),1)},handleDeleteKnowledgeItem:function(e){var t=this.knowledgeList.findIndex((function(t){return t.knowledgeId===e.knowledgeId})),a=this.knowledgeList[t];this.knowledgeList.splice(t,1),this.$emit("remove-learn-outs",a)},handleAddTag:function(e){n["info"]("handleAddTag ",e),e.tagType===l["T"].knowledge?(this.knowledge=e,this.addTagVisible=!0):e.tagType===l["T"].century&&(this.knowledge=e,this.centuryTagList=[],this.centuryTagList.push([]),this.centuryTagVisible=!0)},handleEnsureSelectData:function(){this.addTagVisible=!1},handleEnsureTags:function(e){var t=this;this.knowledge.tags=e;var a=this.knowledgeList.findIndex((function(e){return e.knowledgeId===t.knowledge.knowledgeId}));this.knowledgeList[a].tagListVisible=!0},handleEnsureCenturyTags:function(){var e=this;n["info"]("handleEnsureCenturyTags ",this.centuryTagList),0!==this.centuryTagList[0].length?(this.centuryTagList.forEach((function(t){e.knowledge.tags||(e.knowledge.tags=[]),-1===e.knowledge.tags.indexOf(t[t.length-1])&&e.knowledge.tags.push(t[t.length-1]),n["info"]("this.knowledge.tags ",e.knowledge.tags)})),this.centuryTagVisible=!1,this.knowledge.tagListVisible=!0):this.$message.error("Please select tags")},handleRemoveCenturyTag:function(e){n["info"]("handleRemoveCenturyTag ",e),this.centuryTagList.splice(e,1)},handleAddCenturyTag:function(){this.centuryTagList.push([])},treeForeach:function(e,t){var a=this;e.forEach((function(e){e.children&&a.treeForeach(e.children,t),t(e)}))},get21century:function(){var e=this;Object(c["getAll21Century"])({}).then((function(t){e.$logger.info("getAll21Century response",t),t.success&&(e.centuryList=t.result,e.treeForeach(e.centuryList,(function(t){0===t.children.length&&(t.title=e.$options.filters["gradeFormat"](t.gradeNames))})))})).finally((function(){e.subTreeLoading=!1}))},getknowledgeListType:function(e){return e===l["T"].skill?this.knowledgeList.filter((function(e){return e.tagType===l["T"].skill||e.tagType===l["T"].ibSkill||e.tagType===l["T"].idu})):e===l["T"].century?this.knowledgeList.filter((function(e){return e.tagType===l["T"].century||e.tagType===l["T"].common})):this.knowledgeList.filter((function(t){return t.tagType===e}))},getSubjectName:function(e){var t=this.$store.getters.allSubjects.find((function(t){return t.id===e}));return t?t.name:null}}},p=u,h=(a("66d8"),a("0c7c")),g=Object(h["a"])(p,i,s,!1,null,"306ae012",null);t["a"]=g.exports},9586:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-content-selector"},[a("my-content-created-by-me",{attrs:{"filter-type-list":e.filterTypeList,"selected-list":e.selectedList,mode:e.mode,"selected-type":e.selectedType,"current-id":e.currentId}})],1)},s=[],n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my-content"},[i("div",{staticClass:"filter-line"},[i("div",{staticClass:"status-tab"},["created-by-me"===e.selectedType?i("div",{staticClass:"toggle-mode-type-wrapper"},[i("div",{staticClass:"toggle-mode-type"},[i("div",{staticClass:"toggle-mode"},[i("div",{class:{"mode-item":!0,"skill-active-mode":"all-status"===e.currentStatus},on:{click:function(t){e.toggleStatus("all-status",e.$t("teacher.my-content.all-status"))}}},[e._v(" "+e._s(e.$t("teacher.my-content.all-status"))+" ")]),i("div",{class:{"mode-item":!0,"knowledge-active-mode":"published"===e.currentStatus},on:{click:function(t){e.toggleStatus("published",e.$t("teacher.my-content.published-status"))}}},[e._v(" "+e._s(e.$t("teacher.my-content.published-status"))+" ")]),i("div",{class:{"mode-item":!0,"general-active-mode":"draft"===e.currentStatus},on:{click:function(t){e.toggleStatus("draft",e.$t("teacher.my-content.draft-status"))}}},[e._v(" "+e._s(e.$t("teacher.my-content.draft-status"))+" ")])])])]):e._e()])]),i("div",{staticClass:"content-wrapper"},[i("a-skeleton",{attrs:{loading:e.skeletonLoading,active:""}},[i("div",{staticClass:"content-list"},["list"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("a-list-item",{key:"item.key",class:{"my-list-item":!0,"active-item":-1!==e.selectedList.indexOf(t.id)},on:{click:function(a){return e.handleToggleSelect(t,a)}}},[i("span",{staticClass:"content-info-left"},[i("content-type-icon",{attrs:{type:t.type}}),i("span",{staticClass:"name-content"},[i("span",{staticClass:"name-text",on:{click:function(a){return e.handleViewDetail(t,a)}}},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")])])],1),i("span",{staticClass:"content-info-right"},[i("span",{staticClass:"update-time"},[e._v(" "+e._s(e._f("dayjs")(t.updateTime||t.createTime))+" ")]),i("span",{staticClass:"status"},[0===t.status?[e._v("Draft")]:e._e(),1===t.status?[e._v("Published")]:e._e()],2),i("div",{staticClass:"action"},[e.mode===e.displayMode.Link?i("div",{attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link this content to my Unit?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleLinkItem(t,a)}}},[i("span",[i("a-icon",{attrs:{type:"form"}}),e._v(" Link ")],1)])],1)])]):e._e(),e.mode===e.displayMode.Refer?i("div",{attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item refer-item"},[i("a-button",{staticClass:"refer-btn",attrs:{type:"primary"},on:{click:function(a){return e.handleReferItem(t,a)}}},[i("img",{staticClass:"btn-icon btn-icon-white",attrs:{src:a("e568")}}),i("img",{staticClass:"btn-icon btn-icon-color",attrs:{src:a("83d7")}}),i("div",{staticClass:"btn-text"},[e._v(" Refer ")])])],1)])]):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.mode===e.displayMode.Evaluation,expression:"mode === displayMode.Evaluation"}],attrs:{slot:"actions"},slot:"actions"},[i("div",{staticClass:"action-wrapper"},[i("div",{staticClass:"action-item"},[i("a-popconfirm",{attrs:{title:"Link ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.handleLinkItem(t,a)}}},[i("div",{staticClass:"link-item"},[i("img",{staticClass:"link-icon",attrs:{src:a("de1a")}}),e._v(" "+e._s("Link this evaluation to this "+(t.type===e.typeMap.task?"task":t.type===e.typeMap.lesson?"lesson":""))+" ")])])],1)])])])]),-1!==e.selectedList.indexOf(t.id)?i("div",{directives:[{name:"show",rawName:"v-show",value:"refer"!==e.mode,expression:"mode !== 'refer'"}],staticClass:"action-icon"},[i("img",{attrs:{src:a("7aa6")}})]):e._e()])}}],null,!1,2472396095)}):e._e(),"card"===e.dataListMode?i("a-list",{attrs:{size:"large",pagination:e.pagination,"data-source":e.myContentList,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t){return i("div",{key:"item.key",staticClass:"my-card-list-item"},[i("div",{staticClass:"ppt-preview-wrapper"},[i("div",{staticClass:"template-hover-action-mask"},[i("div",{staticClass:"template-hover-action"},[i("div",{staticClass:"modal-ensure-action-line"},[i("a-button",{staticClass:"action-ensure action-item",attrs:{shape:"round"},on:{click:function(a){return e.handlePreviewTemplate(t)}}},[i("a-icon",{attrs:{type:"eye",theme:"filled"}}),i("div",{staticClass:"btn-text"},[e._v(" Preview ")])],1),-1===e.selectedList.indexOf(t.id)?i("a-button",{staticClass:"action-ensure action-item",attrs:{shape:"round"},on:{click:function(a){return e.handleToggleSelect(t,a)}}},[i("a-icon",{attrs:{type:"plus-circle",theme:"filled"}}),i("div",{staticClass:"btn-text"},[e._v(" Add ")])],1):i("a-button",{staticClass:"action-ensure action-item",attrs:{shape:"round"},on:{click:function(a){return e.handleToggleSelect(t,a)}}},[i("a-icon",{attrs:{type:"minus-circle",theme:"filled"}}),i("div",{staticClass:"btn-text"},[e._v(" Remove ")])],1)],1)])]),i("div",{staticClass:"cover-img-wrapper"},[i("div",{staticClass:"cover-image",style:{backgroundImage:"url('"+t.image+"')"}})])]),i("div",{staticClass:"item-intro",on:{click:function(a){return e.handleViewDetail(t,a)}}},[i("div",{staticClass:"page-info"},[i("span",{staticClass:"page-num-tag"},[e._v(" 1/"+e._s(t.pageObjectIds.length)+" ")])]),i("div",{staticClass:"main-title"},[e._v(" "+e._s(t.name?t.name:"Untitled")+" ")]),i("div",{staticClass:"sub-title"},[e._v(" "+e._s(e._f("dayjs")(t.createTime))+" ")])]),i("div",{staticClass:"card-action-icon"},[-1!==e.selectedList.indexOf(t.id)?i("img",{attrs:{src:a("7aa6")}}):e._e()])])}}],null,!1,815843547)}):e._e()],1)]),i("a-drawer",{attrs:{destroyOnClose:"",placement:"right",width:"1000px",closable:!1,"z-index":4e3,visible:e.previewVisible},on:{close:e.handlePreviewClose}},[i("div",{staticClass:"preview-wrapper-row"},[i("div",{staticClass:"view-back"},[i("a-button",{staticClass:"preview-back-btn",attrs:{type:"primary",shape:"round"},on:{click:e.handlePreviewClose}},[i("a-icon",{style:{"font-size":"12px"},attrs:{type:"left"}}),e._v("Back")],1)],1),i("div",{staticClass:"detail-wrapper"},[e.previewCurrentId&&e.previewType?i("div",{staticClass:"preview-detail"},[i("common-preview-v2",{attrs:{id:e.previewCurrentId,type:e.previewType}})],1):e._e()])])]),i("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"1000px",zIndex:4e3,title:null},on:{ok:function(t){e.previewTemplateVisible=!1},cancel:function(t){e.previewTemplateVisible=!1}},model:{value:e.previewTemplateVisible,callback:function(t){e.previewTemplateVisible=t},expression:"previewTemplateVisible"}},[i("div",{staticClass:"link-content-wrapper"},[i("template-preview",{attrs:{template:e.previewTemplate,"selected-template-id-list":e.selectedList},on:{"handle-select":e.handleToggleSelect}})],1)])],1)])},r=[],o=(a("ac1f"),a("1276"),a("159b"),a("d3b7"),a("823b")),l=a("ea23"),c=a("7d7a"),d=a("9afb"),u=a("95c6"),p=a("3f76"),h=a("4803"),g=a("8f46"),m=a("4fb2"),f=a("57a5b"),v=a("adfc"),y=a("69b3"),b=a("3361"),w=a.n(b),C=a("9b5b"),k=a.n(C),L=a("e709"),T={name:"MyContentCreatedByMe",components:{CommonPreviewV2:v["a"],ContentStatusIcon:h["a"],ContentTypeIcon:g["a"],UnitPlanPreview:l["default"],MaterialPreview:c["default"],NoMoreResources:y["a"],PubuSvg:k.a,LiebiaoSvg:w.a,TemplatePreview:L["a"]},props:{filterTypeList:{type:Array,default:function(){return[]}},selectedList:{type:Array,default:function(){return[]}},mode:{type:String,default:f["a"].Link},selectedType:{type:String,default:"created-by-me"},currentId:{type:String,default:""}},data:function(){var e=this;return{skeletonLoading:!0,loading:!0,loadFailed:!1,myContentList:[],displayMode:f["a"],currentStatus:"all-status",currentStatusLabel:this.$t("teacher.my-content.all-status"),currentType:"",currentTypeLabel:this.$t("teacher.my-content.all-type"),currentOwner:"all-owner",currentOwnerLabel:this.$t("teacher.my-content.all-owner"),previewVisible:!1,previewCurrentId:"",previewType:"",pagination:{onChange:function(t){o["info"]("pagination onChange",t),e.pageNo=t,e.loadMyContent()},showTotal:function(e){return"Total ".concat(e," items")},total:0,pageSize:100},pageNo:1,typeMap:p["e"],dataListMode:"card",previewTemplate:{},previewTemplateVisible:!1}},watch:{selectedType:function(e){this.$logger.info("watch select type "+e),this.pageNo=1,this.myContentList=[],this.pagination.total=0,this.pagination.pageSize=100,this.loadMyContent()}},computed:{countPptSize:function(){return function(e){return e?e.split(",").length:0}}},created:function(){o["info"]("teacher my content filter type ",this.filterTypeList),this.loadMyContent()},mounted:function(){},methods:{loadMyContent:function(){this.loading=!0,"created-by-me"===this.selectedType?this.getMyContent():"my-favorite"===this.selectedType?this.getMyFavorites():"shared"===this.selectedType&&(this.loading=!1,this.skeletonLoading=!1,this.$logger.info("shared coming soon!"))},handleToggleDataListMode:function(e){this.$logger.info("handleToggleDataListMode"+e),this.dataListMode=e},getMyContent:function(){var e=this,t=[];this.filterTypeList.forEach((function(e){t.push(p["e"][e])})),Object(d["FindMyContent"])({owner:p["c"][this.currentOwner],status:p["d"][this.currentStatus],types:this.currentType?[p["e"][this.currentType]]:t,pageNo:this.pageNo,pageSize:this.pagination.pageSize,currentId:this.currentId,slideStatus:1}).then((function(t){o["info"]("getMyContent",t),t.result&&t.result.records&&t.result.records.length?(t.result.records.forEach((function(e,t){e.key=t})),e.myContentList=t.result.records,e.pagination.total=t.result.total):(e.myContentList=[],e.pagination.total=0),o["info"]("myContentList",e.myContentList)})).finally((function(){e.loading=!1,e.skeletonLoading=!1}))},getMyFavorites:function(){var e=this;this.$logger.info("getMyFavorites"),Object(u["FavoritesGetMyFavorites"])({type:p["e"][this.currentType],pageNo:this.pageNo,pageSize:this.pagination.pageSize}).then((function(t){e.$logger.info("FavoritesGetMyFavorites response",t),t.result&&t.result.records&&t.result.records.length?(t.result.records.forEach((function(e,t){e.key=t})),e.myContentList=t.result.records,e.pagination.total=t.result.total,e.pagination.current=t.result.current):(e.myContentList=[],e.pagination.total=0)})).finally((function(){e.loading=!1,e.skeletonLoading=!1}))},toggleStatus:function(e,t){o["info"]("toggleStatus "+e+" label "+t),this.currentStatus=e,this.currentStatusLabel=t,this.loadMyContent()},toggleType:function(e,t){o["info"]("toggleType "+e+" label "+t),this.currentType=e,this.currentTypeLabel=t,this.loadMyContent()},toggleOwner:function(e,t){o["info"]("toggleOwner "+e+" label "+t),this.currentOwner=e,this.currentOwnerLabel=t,this.loadMyContent()},handleLinkItem:function(e,t){o["info"]("handleLinkItem",e),t.preventDefault(),t.stopPropagation(),m["b"].$emit(m["a"].LinkToMyContentItem,{item:e})},handleViewDetail:function(e,t){o["info"]("my content created by me handleViewDetail",e,t),t.preventDefault(),t.stopPropagation(),this.previewCurrentId=e.id,this.previewType=e.type,this.previewVisible=!0},handleToggleSelect:function(e,t){o["info"]("handleToggleSelect",e,t),m["b"].$emit(m["a"].ToggleSelectContentItem,e,t),this.previewTemplateVisible=!1},handlePreviewClose:function(){o["info"]("handlePreviewClose"),this.previewCurrentId="",this.previewType="",this.previewVisible=!1},handleReferItem:function(e,t){o["info"]("handleReferItem",e),t.preventDefault(),t.stopPropagation(),m["b"].$emit(m["a"].ReferContentItem,{item:e})},handlePreviewTemplate:function(e){this.$logger.info("handlePreviewTemplate ",e),this.previewTemplateVisible=!0,this.previewTemplate=e}}},I=T,S=(a("72b3"),a("0c7c")),_=Object(S["a"])(I,n,r,!1,null,"4b50f0f9",null),M=_.exports,x={name:"MyContentSelector",components:{MyContentCreatedByMe:M},props:{filterTypeList:{type:Array,default:function(){return[]}},selectedList:{type:Array,default:function(){return[]}},mode:{type:String,default:f["a"].Link},currentId:{type:String,default:""}},data:function(){return{displayMode:f["a"],selectedType:"created-by-me"}},computed:{},created:function(){this.$logger.info("MyContentSelector selectedType "+this.selectedType+", mode:"+this.mode+", filterType ",this.filterTypeList)},mounted:function(){},methods:{handleToggleType:function(e){this.$logger.info("handleToggleType "+e),this.selectedType=e}}},A=x,D=(a("27aa"),Object(S["a"])(A,i,s,!1,null,"1ed7a2f5",null));t["a"]=D.exports},"972f":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"evaluation-preview"},[e.loading?[a("a-skeleton",{attrs:{active:""}})]:[a("a-row",{staticClass:"top-info",attrs:{gutter:[16,24]}},[a("a-col",{attrs:{span:"24"}},e._l(e.forms,(function(t,i){return a("div",{key:i,class:{"form-item":!0,"form-item-active":!0}},[a("evaluation-table",{ref:"evaluationTable",refInFor:!0,attrs:{"form-id":t.formId,"init-raw-headers":t.initRawHeaders,"init-raw-data":t.initRawData,"form-type":t.formType,mode:e.EvaluationTableMode.Preview}})],1)})),0)],1)]],2)},s=[],n=(a("d3b7"),a("159b"),a("823b")),r=a("8f46"),o=a("c0f4"),l=a("9f06"),c=a("ca00"),d=a("9586"),u=a("0fa0"),p=a("1138"),h=a("90e8"),g={name:"EvaluationTablePreview",components:{EvaluationTable:p["a"],ContentTypeIcon:r["a"],InputSearch:o["a"],MyContentSelector:d["a"],RelevantTagSelector:u["a"]},props:{evaluationId:{type:String,default:null}},data:function(){return{loading:!0,forms:[],evaluationTableList:[],initRawHeaders:[],initRawData:[],selfType:!1,EvaluationTableMode:h["a"]}},computed:{lastChangeSavedTime:function(){var e=this.form.updateTime||this.form.createTime;return e?Object(c["formatLocalUTC"])(this.form.updateTime||this.form.createTime):""}},created:function(){n["info"]("EvaluationTablePreview created "+this.evaluationId),this.initData()},methods:{initData:function(){var e=this;n["info"]("initData doing..."),Object(l["EvaluationQueryByIds"])({ids:[this.evaluationId]}).then((function(t){e.$logger.info("handleToggleSelect EvaluationQueryByIds "+e.evaluationId,t);var a=[];t.result.forEach((function(e){e.forms.forEach((function(e){a.push({title:e.title,titleEditing:!1,formType:e.formType,se:e.se,pe:e.pe,menuVisible:!1,id:e.id,formId:e.formId,initRawHeaders:JSON.parse(e.initRawHeaders),initRawData:JSON.parse(e.initRawData)})}))})),e.forms=a,0===e.forms.length&&e.$message.warn("The current assessment tool form has not been created")})).finally((function(){e.loading=!1}))}}},m=g,f=(a("4198"),a("0c7c")),v=Object(f["a"])(m,i,s,!1,null,"e834b3c0",null);t["a"]=v.exports},"973f":function(e,t,a){},"980a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return o}));var i=a("b775"),s={PDContentAddOrUpdate:"/classcipe/api/v2/pd/addOrUpdate",PDContentQueryById:"/classcipe/api/v2/pd/queryById",PDContentDelete:"/classcipe/api/v2/pd/delete",PDContentDeleteBatch:"/classcipe/api/v2/pd/deleteBatch",PDContentList:"/classcipe/api/v2/pd/list"};function n(e){return Object(i["d"])({url:s.PDContentAddOrUpdate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i["d"])({url:s.PDContentQueryById,method:"get",params:e})}function o(e){return Object(i["d"])({url:s.PDContentDelete+"?id="+e.id,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},"9a45":function(e,t,a){},"9b5b":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"27.223",height:"28",viewBox:"0 0 27.223 28"},children:[{tag:"defs"},{tag:"path",attrsMap:{id:"pubu_","data-name":"pubu ",class:"cls-1",d:"M17422.268,9413v-7.046h6.957V9413Zm-9.953,0v-7.046h7.268V9413Zm-10.312,0v-7.046h6.953V9413Zm20.266-10.41v-7.231h6.957v7.231Zm-9.953,0v-7.231h7.268v7.231Zm-10.312,0v-7.231h6.953v7.231Zm20.266-10.638V9385h6.957v6.952Zm-9.953,0V9385h7.268v6.952Zm-10.312,0V9385h6.953v6.952Z",transform:"translate(-17402.002 -9385.001)"}}]})}},"9c2c":function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",viewBox:"0 0 19 19"},children:[{tag:"g",attrsMap:{transform:"translate(-771.25 -365.25)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#15c39a;stroke:#15c39a;",d:"M9,0A9,9,0,1,1,0,9,9,9,0,0,1,9,0Z",transform:"translate(771.75 365.75)"}},{tag:"path",attrsMap:{class:"b",style:"fill:#fff;stroke:#fff;stroke-width:0.5px;",d:"M24.47,24.8V21.78h3.016a.5.5,0,0,0,0-1.005H24.47V17.759a.5.5,0,0,0-1.005,0v3.016H20.449a.5.5,0,0,0,0,1.005h3.016V24.8a.5.5,0,0,0,1.005.044q0-.022,0-.044Z",transform:"translate(756.784 353.451)"}}]}]})}},"9c35":function(e,t,a){},"9cca":function(e,t,a){},"9ee6":function(e,t,a){"use strict";a("9a45")},"9f06":function(e,t,a){"use strict";a.r(t),a.d(t,"evaluationAPIUrl",(function(){return o})),a.d(t,"EvaluationAddOrUpdate",(function(){return l})),a.d(t,"EvaluationQueryById",(function(){return c})),a.d(t,"EvaluationQueryByIds",(function(){return d})),a.d(t,"EvaluationDelete",(function(){return u})),a.d(t,"FindMyClasses",(function(){return p})),a.d(t,"GetSessionEvaluationByClassId",(function(){return h})),a.d(t,"SaveSessionEvaluation",(function(){return g})),a.d(t,"QuerySessionEvaluation",(function(){return m})),a.d(t,"QuerySessionEvidence",(function(){return f})),a.d(t,"SaveSessionEvidence",(function(){return v})),a.d(t,"QuerySessionTakeaway",(function(){return y})),a.d(t,"SaveSessionTakeaway",(function(){return b})),a.d(t,"GetEvaluationFormSet",(function(){return w})),a.d(t,"SaveEvaluationFormSet",(function(){return C})),a.d(t,"GetEvaluationMode",(function(){return k})),a.d(t,"SaveEvaluationMode",(function(){return L}));var i=a("b775"),s=a("8ded"),n=a.n(s),r=a("9fb0"),o={addOrUpdate:"/classcipe/api/evaluation/addOrUpdate",delete:"/classcipe/api/evaluation/delete",deleteBatch:"/classcipe/api/evaluation/deleteBatch",list:"/classcipe/api/evaluation/list",queryById:"/classcipe/api/evaluation/queryById",queryByIds:"/classcipe/api/evaluation/queryByIds",findMyClasses:"/classcipe/api/evaluation/findMyClasses",GetSessionEvaluationByClassId:"/classcipe/api/evaluation/getSessionEvaluationByClassId",querySessionEvaluation:"/classcipe/api/evaluation/querySessionEvaluation",saveSessionEvaluation:"/classcipe/api/evaluation/saveSessionEvaluation",querySessionEvidence:"/classcipe/api/evaluation/querySessionEvidence",saveSessionEvidence:"/classcipe/api/evaluation/saveSessionEvidence",getEvaluationFormSet:"/classcipe/api/evaluation/getEvaluationFormSet",saveEvaluationFormSet:"/classcipe/api/evaluation/saveEvaluationFormSet",getEvaluationMode:"/classcipe/api/evaluation/getEvaluationMode",saveEvaluationMode:"/classcipe/api/evaluation/saveEvaluationMode",saveSessionTakeaway:"/classcipe/api/evaluation/saveSessionTakeaway",querySessionTakeaway:"/classcipe/api/evaluation/querySessionTakeaway"};function l(e){return Object(i["d"])({url:o.addOrUpdate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(i["d"])({url:o.queryById,method:"get",params:e})}function d(e){return Object(i["d"])({url:o.queryByIds,method:"post",data:e})}function u(e){return Object(i["d"])({url:o.delete+"?id="+e.id,method:"post",data:e})}function p(e){var t=n.a.get(r["a"]);return e["token"]=t,Object(i["d"])({url:o.findMyClasses,method:"post",data:e})}function h(e){return Object(i["d"])({url:o.GetSessionEvaluationByClassId,method:"get",params:e})}function g(e){return Object(i["d"])({url:o.saveSessionEvaluation,method:"post",data:e})}function m(e){return Object(i["d"])({url:o.querySessionEvaluation,method:"post",data:e})}function f(e){return Object(i["d"])({url:o.querySessionEvidence,method:"post",data:e})}function v(e){return Object(i["d"])({url:o.saveSessionEvidence,method:"post",data:e})}function y(e){return Object(i["d"])({url:o.querySessionTakeaway,method:"post",data:e})}function b(e){return Object(i["d"])({url:o.saveSessionTakeaway,method:"post",data:e})}function w(e){return Object(i["d"])({url:o.getEvaluationFormSet,method:"post",data:e})}function C(e){return Object(i["d"])({url:o.saveEvaluationFormSet,method:"post",data:e})}function k(e){return Object(i["d"])({url:o.getEvaluationMode,method:"post",data:e})}function L(e){return Object(i["d"])({url:o.saveEvaluationMode,method:"post",data:e})}},a0d2:function(e,t,a){},a283:function(e,t,a){},a31b:function(e,t,a){},a475:function(e,t,a){"use strict";a("07b2")},a615f:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"31.442",height:"40",viewBox:"0 0 31.442 40"},children:[{tag:"g",attrsMap:{transform:"translate(-179.2 -99.38)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#6bc04a;",d:"M311.741,121.054h-8.855a3.363,3.363,0,0,1-3.334-3.372l-2.351-14.93a3.363,3.363,0,0,1,3.334-3.372h13.558a3.363,3.363,0,0,1,3.334,3.372l-2.351,14.93A3.363,3.363,0,0,1,311.741,121.054Z",transform:"translate(-112.388)"}},{tag:"path",attrsMap:{class:"b",style:"fill:#85d663;opacity:0.3;",d:"M309.8,99.48h-9.432A3.382,3.382,0,0,0,297,102.852l2.378,14.93a3.382,3.382,0,0,0,3.372,3.372S320.211,104.4,309.8,99.48Z",transform:"translate(-112.28 -0.095)"}},{tag:"path",attrsMap:{class:"c",style:"fill:#99dd7a;opacity:0.3;",d:"M305.523,99.48h-5.151A3.382,3.382,0,0,0,297,102.852l1.493,9.318S310.432,104.916,305.523,99.48Z",transform:"translate(-112.256 -0.095)"}},{tag:"path",attrsMap:{class:"d",style:"fill:#ffd629;",d:"M193.655,253.831l-12.8-7.107A2.924,2.924,0,0,1,179.4,244.2V229.982a2.924,2.924,0,0,1,1.459-2.528l12.8-7.107a2.916,2.916,0,0,1,2.923,0l12.8,7.107a2.924,2.924,0,0,1,1.459,2.528V244.2a2.924,2.924,0,0,1-1.459,2.528l-12.8,7.107A2.939,2.939,0,0,1,193.655,253.831Z",transform:"translate(-0.19 -114.84)"}},{tag:"path",attrsMap:{class:"e",style:"fill:#ff9a2c;opacity:0.2;",d:"M210.637,639.48v4.461a2.948,2.948,0,0,1-1.464,2.549l-12.8,7.168a2.9,2.9,0,0,1-2.923,0l-12.8-7.168a2.944,2.944,0,0,1-1.459-2.549v-4.257s1.01-.452,2.493,2.421c1.147,2.226,7.134,4.685,9.632,6.5a5.258,5.258,0,0,0,3.6,1.389,12.643,12.643,0,0,0,2.484-.576c2.233-.79,9.066-5.222,10.1-6.7C208.715,641,209.258,639.48,210.637,639.48Z",transform:"translate(0 -514.704)"}},{tag:"path",attrsMap:{class:"f",style:"fill:#f9f2d7;opacity:0.2;",d:"M234.729,224.149l-9.738-5.4a2.886,2.886,0,0,0-2.918,0L209.3,225.919s-.113,4.2,10.422,5.712,2.72.395,2.72.395S232.806,231.365,234.729,224.149Z",transform:"translate(-28.667 -113.316)"}},{tag:"path",attrsMap:{class:"g",style:"fill:#6bc04a;opacity:0.25;",d:"M375.76,446.593l.9,1.817a1.593,1.593,0,0,0,1.2.87l2.007.29a1.592,1.592,0,0,1,.88,2.716l-1.451,1.417a1.585,1.585,0,0,0-.457,1.408l.342,2a1.594,1.594,0,0,1-2.312,1.679l-1.793-.942a1.594,1.594,0,0,0-1.479,0l-1.793.942a1.593,1.593,0,0,1-2.312-1.679l.342-2a1.581,1.581,0,0,0-.457-1.408l-1.451-1.417a1.592,1.592,0,0,1,.885-2.716l2.007-.29a1.593,1.593,0,0,0,1.2-.87l.9-1.817a1.583,1.583,0,0,1,2.844,0Z",transform:"translate(-179.405 -330.031)"}},{tag:"path",attrsMap:{class:"h",style:"fill:#ea803f;",d:"M389.277,459.237l1.17,2.369a.953.953,0,0,0,.723.523l2.611.38a.955.955,0,0,1,.528,1.631l-1.893,1.845a.965.965,0,0,0-.276.847l.447,2.6a.957.957,0,0,1-1.389,1.008l-2.34-1.227a.95.95,0,0,0-.889,0l-2.335,1.227a.957.957,0,0,1-1.389-1.008l.447-2.6a.952.952,0,0,0-.276-.847l-1.893-1.845a.958.958,0,0,1,.533-1.631l2.611-.38a.972.972,0,0,0,.723-.523l1.17-2.369A.959.959,0,0,1,389.277,459.237Z",transform:"translate(-193.493 -342.41)"}}]}]})}},adfc:function(e,t,a){"use strict";var i=function(){var e=this,t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"my-common-preview"},[t.loading?[s("a-skeleton",{attrs:{active:""}})]:[s("div",{staticClass:"main-content-preview",class:{"has-extra-info":-1!==[t.typeMap.task,t.typeMap["unit-plan"]].indexOf(t.type)}},[s("div",{staticClass:"top-header"},[s("div",{staticClass:"title-line"},[s("div",{staticClass:"name"},[t._v(" "+t._s(t.data.name)+" ")]),s("div",{staticClass:"action-item"},[s("div",{staticClass:"star"},[t.data.createBy!==t.$store.getters.userInfo.email?[t.data.isFavorite?t._e():s("img",{attrs:{src:a("58e7")},on:{click:function(e){return t.handleFavorite(t.data)}}}),t.data.isFavorite?s("img",{attrs:{src:a("24e3")},on:{click:function(e){return t.handleFavorite(t.data)}}}):t._e()]:t._e()],2),this.isOwner||this.isCollaborater?s("div",{staticClass:"edit"},[s("a-button",{attrs:{type:"primary",shape:"round"},on:{click:function(e){return t.handleEditItem(t.data)}}},[s("div",{staticClass:"button-content"},[t._v(" Edit "),s("img",{staticClass:"edit-icon",attrs:{src:a("11aa")}})])])],1):s("div",{staticClass:"edit"},[t.myContentId?s("a-button",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:function(e){return t.handleEditItem({id:t.myContentId})}}},[s("div",{staticClass:"button-content"},[t._v(" Edit in my content "),s("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"edit"}})],1)]):s("a-button",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:t.handleDuplicateItem}},[s("div",{staticClass:"button-content"},[t._v(" Copy "),s("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"copy"}})],1)]),t.data.type===t.typeMap.task?s("a-button",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"copy-button",attrs:{loading:t.copyLoading,type:"primary",shape:"round"},on:{click:t.handleStartTask}},[s("div",{staticClass:"button-content"},[t._v(" Start "+t._s(t.data.buyed?"Session":"")),s("a-icon",{staticStyle:{"margin-left":"6px"},attrs:{type:"play-circle"}})],1)]):t._e()],1)])])]),s("a-row",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"author-info"},[s("a-col",{staticClass:"avatar-icon",attrs:{span:"3"}},[s("img",{attrs:{src:t.collaborate.owner&&t.collaborate.owner.avatar}})]),s("a-col",{attrs:{span:"21"}},[s("div",{staticClass:"sub-info"},[s("div",{staticClass:"created-by"},[t._v(" "+t._s(t.data.createBy)+" ")]),s("div",{staticClass:"created-time"},[t.lastChangeSavedTime?[t._v(" "+t._s(t.lastChangeSavedTime)+" ")]:t._e()],2)]),s("div",{staticClass:"star-info"},[s("review-score",{attrs:{review:t.reviewsStats,placement:"bottom"}}),s("a-button",{attrs:{type:"link"}},[t._v(t._s(t._f("percentFormat")(t.reviewsStats.overall))+" ("+t._s(t.reviewsStats.reviewsCount)+" reviews)")])],1)])],1),s("a-space",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"author-info"},[s("div",{staticClass:"avatar-icon"},[s("img",{attrs:{src:t.collaborate.owner&&t.collaborate.owner.avatar}})]),s("div",[s("div",{staticClass:"sub-info"},[s("div",{staticClass:"created-by"},[t._v(" "+t._s(t.collaborate.owner&&t.collaborate.owner.nickname)+" ")]),s("div",{staticClass:"created-time"},[t.lastChangeSavedTime?[t._v(" "+t._s(t.lastChangeSavedTime)+" ")]:t._e()],2)]),s("div",{staticClass:"star-info",on:{click:function(){return e.viewMode="Reviews"}}},[s("a-tooltip",{attrs:{placement:"right"}},[s("template",{slot:"title"},[t._v(" "+t._s(t.reviewsStats.reviewsScoreStatDetail&&t.reviewsStats.reviewsScoreStatDetail[4]&&t.reviewsStats.reviewsScoreStatDetail[4].reviewsScoreCount)+" people gave a score of 5 stars ")]),s("a-rate",{attrs:{value:t.reviewsStats.avgReviewsScore,"allow-half":"",disabled:""}})],2)],1)])]),s("a-row",{staticClass:"data-info"},[s("a-col",{staticClass:"right-detail",attrs:{span:"24"}},[s("div",{staticClass:"sub-detail"},[s("div",{staticClass:"detail-block"},[s("div",{staticClass:"block-main-label"},[t.data.type===t.typeMap.task?[t._v("Task details")]:[t._v("Overview")]],2),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"view-text"},[t._v(" "+t._s(t.data.overview)+" ")])]),t.data.type===t.typeMap.task&&t.data.questionNames.length>0?[s("div",{staticClass:"block-main-label"},[t._v(" Key question(s)/Line(s) of Inquiry ")]),s("div",{staticClass:"detail-block",staticStyle:{margin:"10px"}},[s("div",{staticClass:"keyword-block-content"},[s("div",{staticClass:"content-list"},t._l(t.data.questionNames,(function(e,a){return s("div",{key:a,staticClass:"content-item"},[e?s("div",{staticClass:"question"},[t._v(" "+t._s(e)+" ")]):t._e()])})),0)])])]:t._e(),s("div",{staticClass:"block-main-label"},[t._v(" Customized tags ")]),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"custom-tags"},t._l(t.data.customTags,(function(e,a){return s("div",{key:"tagIndex"+a,staticClass:"tag-item"},[s("a-tooltip",{attrs:{title:e.parentName}},[s("a-tag",{staticClass:"tag"},[t._v(" "+t._s(e.name)+" ")])],1)],1)})),0)]),s("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"block-main-label"},[t._v(" This task contains interactive questions of ")]),s("div",{directives:[{name:"hasRole",rawName:"v-hasRole",value:["student"],expression:"['student']"}],staticClass:"overview-block"},[s("div",{staticClass:"custom-tags"},t._l(t.inActiveTypes,(function(e,a){return s("div",{key:"interActiveIndex"+a,staticClass:"tag-item"},[s("a-tooltip",{attrs:{title:e}},[s("a-tag",{staticClass:"tag",attrs:{color:t.tagColorList[a]}},[t._v(" "+t._s(e)+" ")])],1)],1)})),0)]),s("div",{staticClass:"block-main-label"},[t._v(" Learning Objectives ")]),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"learn-question-tag"},[s("div",{staticClass:"learn-out",staticStyle:{margin:"10px"}},[s("ui-learn-out-sub",{attrs:{"learn-outs":t.data.learnOuts,"self-outs":t.data.selfOuts,"class-info-list":t.itemsList}})],1)])]),t.data.inquiry?[s("div",{staticClass:"block-main-label"},[t._v(" Big idea ")]),s("div",{staticClass:"inquiry-block-content"},[s("div",{staticClass:"inquiry"},[t._v(" "+t._s(t.data.inquiry)+" ")])])]:t._e(),t.data.materialList&&t.data.materialList.length?[s("div",{staticClass:"block-main-label"},[t._v(" Material list ")]),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"material-list"},t._l(t.data.materialList,(function(e,a){return s("div",{key:a,staticClass:"material-item"},[s("div",{staticClass:"material-name"},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"material-link",on:{click:function(a){return t.handleOpenLink(e.link)}}},[t._v(" "+t._s(e.link)+" ")])])})),0)])]:t._e(),t.data.rwc?[s("div",{staticClass:"block-main-label"},[t._v(" Real World Connection(s) ")]),s("div",{staticClass:"overview-block"},[s("div",{staticClass:"view-text"},[t._v(" "+t._s(t.data.rwc)+" ")])])]:t._e()],2)])])],1),s("a-row",{staticClass:"preview-data-info"},[s("a-col",{staticClass:"slide-preview",attrs:{span:"24"}},[t.data.scenarios||t.data.inquiry||t.data.questions&&t.data.questions.length?s("div",{staticClass:"data-detail-wrapper"},[t.data.scenarios?[s("div",{staticClass:"block-main-label"},[t._v(" Sustainable development goal ")]),s("div",{staticClass:"detail-block"},t._l(t.data.scenarios,(function(e,a){return s("div",{key:a,staticClass:"scenario-item ref-block"},[s("div",{staticClass:"scenario-block-content"},[s("div",{staticClass:"content-list"},[s("div",{staticClass:"content-item"},[s("div",{staticClass:"question"},[e.description?[s("a-tooltip",{attrs:{title:e.description,placement:"top"}},[t._v(" "+t._s(e.sdgName)+" ")])]:[t._v(" "+t._s(e.sdgName))]],2),s("div",{staticClass:"tags"},t._l(e.sdgKeyWords,(function(e,a){return s("div",{key:"tagIndex"+a,staticClass:"tag-item"},[s("a-tag",{staticClass:"tag"},[t._v(" "+t._s(e.name)+" ")])],1)})),0)])])])])})),0)]:t._e(),t.data&&t.data.inquiry?[s("div",{staticClass:"detail-block"},[s("div",{staticClass:"block-main-label"},[t._v(" Big idea ")]),s("div",{staticClass:"inquiry-block-content"},[s("div",{staticClass:"inquiry"},[t._v(" "+t._s(t.data.inquiry)+" ")])])])]:t._e(),t.data&&t.data.questions&&t.data.questions.length?[s("div",{staticClass:"block-main-label"},[t._v(" Key question(s)/Line(s) of Inquiry ")]),s("div",{staticClass:"detail-block"},[s("div",{staticClass:"keyword-block-content"},[t.data.questions&&t.data.questions.length?s("div",{staticClass:"content-list"},t._l(t.data.questions,(function(e,a){return s("div",{key:"qIndex"+a,staticClass:"content-item"},[e&&e.name?s("div",{staticClass:"question"},[t._v(" "+t._s(e.name)+" ")]):t._e()])})),0):t._e()])])]:t._e()],2):t._e(),t.type===t.typeMap.evaluation?[s("evaluation-table-preview",{attrs:{"evaluation-id":t.data.id}})]:t._e()],2)],1),s("div",{directives:[{name:"excludeRole",rawName:"v-excludeRole",value:["student"],expression:"['student']"}],staticClass:"associate-info"},[t.type===t.typeMap.task?[s("task-link",{ref:"commonLink",attrs:{"show-drag-tips":!1,isLibrary:t.isLibrary,"hidden-empty-group":!0,"can-edit":!1,"from-id":t.id,"from-type":t.type}})]:t._e(),t.type===t.typeMap["unit-plan"]?[s("plan-link",{ref:"commonLink",attrs:{isLibrary:t.isLibrary,"hidden-empty-group":!0,"can-edit":!1,"from-id":t.id,"from-type":t.type}})]:t._e()],2),s("a-row",{staticClass:"reviews-info"},["student"===t.currentRole?s("a-col",{staticClass:"slide-reviews",attrs:{span:"24"}},[s("rate-by-percent",{attrs:{rates:t.reviewsStats}}),s("reviews-preview",{attrs:{id:t.id,role:"student",list:t.ReviewsTask.ReviewsTaskList,save:t.ReviewsTask.ReviewsTaskSave,del:t.ReviewsTask.ReviewsTaskDelete,myReview:t.ReviewsTask.ReviewsTaskMyReview}})],1):s("a-col",{staticClass:"slide-reviews",attrs:{span:"24"}},[s("reviews-preview",{attrs:{id:t.id,role:"teacher",list:t.ReviewsTeacher.ReviewsTeacherList,save:t.ReviewsTeacher.ReviewsTeacherSave,del:t.ReviewsTeacher.ReviewsTeacherDelete,myReview:t.ReviewsTeacher.ReviewsTeacherMyReview,canEdit:!0},on:{update:t.loadReviewStats}})],1)],1)],1),-1!==[t.typeMap.task,t.typeMap["unit-plan"]].indexOf(t.type)?s("div",{staticClass:"extra-content-preview"},[t.type===t.typeMap.task&&t.data.presentationId&&t.imgList.length>0?[s("div",{staticClass:"top-icon-groups"},[s("a-col",{staticClass:"material-row"},[Object.keys(t.currentPageMaterial).length>0?s("div",{staticClass:"icon-group"},[t.currentPageMaterial.hasOwnProperty("text")?s("a-badge",{attrs:{count:t.showMaterialSize("text")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("text")}}},[s("text-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Text")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("image")?s("a-badge",{attrs:{count:t.showMaterialSize("image")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("image")}}},[s("image-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Image")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("video")?s("a-badge",{attrs:{count:t.showMaterialSize("video")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("video")}}},[s("video-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Video")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("audio")?s("a-badge",{attrs:{count:t.showMaterialSize("audio")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("audio")}}},[s("audio-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Audio")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("iframe")?s("a-badge",{attrs:{count:t.showMaterialSize("iframe")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("iframe")}}},[s("youtube-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Youtube")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("pdf")?s("a-badge",{attrs:{count:t.showMaterialSize("pdf")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("pdf")}}},[s("pdf-type-svg"),s("div",{staticClass:"icon-text"},[t._v("PDF")])],1)]):t._e(),t.currentPageMaterial.hasOwnProperty("website")?s("a-badge",{attrs:{count:t.showMaterialSize("website")}},[s("div",{staticClass:"icon",on:{click:function(e){return t.showPluginMaterial("website")}}},[s("url-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Website")])],1)]):t._e()],1):t._e()])],1),s("a-skeleton",{attrs:{loading:t.slideLoading,active:""}},[s("div",{ref:"slide",staticClass:"slide-select-wrapper"},[s("div",{staticClass:"slide-select"},[s("div",{staticClass:"slide-select-and-preview"},[s("div",{staticClass:"slide-preview",style:{width:"310px"}},[s("a-carousel",{ref:"carousel",attrs:{arrows:"","after-change":t.onChangePage}},[s("div",{staticClass:"custom-slick-arrow",staticStyle:{left:"-23px","z-index":"9"},attrs:{slot:"prevArrow"},slot:"prevArrow"},[s("a-icon",{style:{"font-size":"20px",color:"#aaa",opacity:.6},attrs:{type:"left-circle"}})],1),s("div",{staticClass:"custom-slick-arrow",staticStyle:{right:"-23px","z-index":"9"},attrs:{slot:"nextArrow"},slot:"nextArrow"},[s("a-icon",{style:{"font-size":"20px",color:"#aaa",opacity:.6},attrs:{type:"right-circle"}})],1),t._l(t.imgList,(function(e,t){return s("div",{key:t,staticClass:"slide-item"},[s("img",{attrs:{src:e}})])}))],2),t.currentPageItem?s("div",{staticClass:"plugin-tags"},[s("a-row",{staticClass:"tag-row"},[t.currentPageItem.data.bloomLevel?s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Bloom's Taxonomy:")]),s("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[t._v(t._s(t.currentPageItem.data.bloomLevel))])]):t._e(),t.currentPageItem.data.knowledgeLevel?s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Knowledge dimension(s):")]),s("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[t._v(t._s(t.currentPageItem.data.knowledgeLevel))])]):t._e()]),s("a-row",{staticClass:"tag-row"},[t.currentPageItem.data.verbs&&t.currentPageItem.data.verbs.length>0?s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Command terms:")]),t._l(t.currentPageItem.data.verbs,(function(e,a){return s("span",{key:a,staticClass:"tag-value",staticStyle:{color:"#15C39A"}},[t._v(t._s(e))])}))],2):t._e(),t.currentPageTips?s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Tip added:")]),s("span",{staticClass:"tag-value",staticStyle:{color:"#0054FF"}},[t._v(t._s(t.currentPageTips.tip))])]):t._e()]),t.currentPageItem.data.learnOuts&&t.currentPageItem.data.learnOuts.length>0?s("a-row",{staticClass:"tag-row"},[s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("Learning Objectives:")]),t._l(t.currentPageItem.data.learnOuts,(function(e,a){return s("span",{key:a,staticClass:"tag-value",staticStyle:{color:"#00BCF2"}},[s("a-tooltip",{attrs:{title:e.path,overlayStyle:{"z-index":"3000"}}},[t._v(t._s(e.name)+" ")])],1)}))],2)]):t._e(),s("a-row",{staticClass:"tag-row"},[s("span",{staticClass:"tag-item"},[s("span",{staticClass:"tag-title"},[t._v("This is a "),s("span",[t._v(t._s(t.currentPageItem.type))]),t._v(" slide")])])])],1):t._e(),t.imgList&&t.imgList.length?s("div",{staticClass:"page-info"},[t._v(" "+t._s(t.currentImgIndex+1)+" / "+t._s(t.imgList.length)+" ")]):t._e()],1)])])])])]:t._e(),t.type===t.typeMap["unit-plan"]?[s("div",{staticClass:"unit-cover",style:{"background-image":"url('"+(t.data.image||"http://dcdkqlzgpl5ba.cloudfront.net/1392467808404684802/file/202208140641519097-20220814143449.png")+"')"}})]:t._e(),t.type===t.typeMap.task?s("div",{staticClass:"recommend"},[s("div",{staticClass:"recommend-title"},[s("a-divider",[t._v("Recommend")])],1),s("div",{staticClass:"recommend-list"},t._l(t.recommendTemplateList,(function(e,a){return s("div",{key:a,staticClass:"slide-preview-item",style:{width:"310px"}},[s("a-carousel",{ref:"carousel",refInFor:!0,attrs:{arrows:""}},[s("div",{staticClass:"custom-slick-arrow",staticStyle:{left:"-23px","z-index":"9"},attrs:{slot:"prevArrow"},slot:"prevArrow"},[s("a-icon",{style:{"font-size":"20px",color:"#aaa",opacity:.6},attrs:{type:"left-circle"}})],1),s("div",{staticClass:"custom-slick-arrow",staticStyle:{right:"-23px","z-index":"9"},attrs:{slot:"nextArrow"},slot:"nextArrow"},[s("a-icon",{style:{"font-size":"20px",color:"#aaa",opacity:.6},attrs:{type:"right-circle"}})],1),t._l(e.images,(function(e,t){return s("div",{key:t,staticClass:"slide-item"},[s("img",{attrs:{src:e}})])}))],2),e.introduce?s("a-row",{staticClass:"slide-desc",attrs:{title:e.introduce}},[t._v(" "+t._s(e.introduce)+" ")]):t._e(),s("div",{staticClass:"recommend-slide-name"},[t._v(" "+t._s(e.name)+" ")])],1)})),0)]):t._e()],2):t._e()],s("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"800px",zIndex:6e3,title:"My Materials"},on:{ok:function(e){t.materialVisible=!1},cancel:function(e){t.materialVisible=!1}},model:{value:t.materialVisible,callback:function(e){t.materialVisible=e},expression:"materialVisible"}},[s("task-material-preview",{attrs:{"current-page-element-lists":t.currentPageElementLists,"filter-type":t.filterMaterialType,"current-page-index":t.currentImgIndex}})],1),s("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"900px",zIndex:5e3,title:null},on:{ok:function(e){t.mediaVisible=!1},cancel:function(e){t.mediaVisible=!1}},model:{value:t.mediaVisible,callback:function(e){t.mediaVisible=e},expression:"mediaVisible"}},[s("media-preview",{attrs:{"media-list":t.mediaList,"material-type":t.filterMaterialType}})],1)],2)},s=[],n=a("5530"),r=(a("a9e3"),a("d81d"),a("a630"),a("3ca3"),a("d3b7"),a("6062"),a("ddb0"),a("159b"),a("b0c0"),a("823b")),o=a("3f76"),l=a("69b3"),c=a("8c95"),d=a("c621"),u=a("972f"),p=a("7eee"),h=a("d33b"),g=a("873a"),m=a("542c"),f=a("91ff"),v=a("d980"),y=a("dd6e"),b=a("abb8"),w=a("e11c"),C=a("9afb"),k=a("f93e"),L=a("2934"),T=a("5225"),I=a("9fb0"),S=a("8ded"),_=a.n(S),M=a("2f62"),x=a("6b36"),A=a("c2e5"),D=a("1899"),E=a("2f59"),O=a("ca00"),j=O.formatLocalUTC,B=a("de0d"),N=B.UnitPlanQueryById,P=a("b199"),R=P.TaskQueryById,F=a("9f06"),G=F.EvaluationQueryById,K=a("95c6"),V=K.FavoritesAdd,$=a("56f2"),U=$.SelfStudyTaskBye,z=$.SelfStudyTaskStart,q={name:"CommonPreviewV2",components:{PlanLink:D["a"],UiLearnOutSub:f["a"],EvaluationTablePreview:u["a"],CommonAssociatePreview:c["a"],NoMoreResources:l["a"],TaskLink:p["a"],MediaPreview:g["a"],TaskMaterialPreview:m["a"],RateByPercent:v["a"],ReviewsPreview:y["a"],ReviewScore:b["a"]},props:{id:{type:String,required:!0},type:{type:Number,required:!0},isLibrary:{type:Boolean,default:!1},myContentId:{type:String,default:null}},mixins:[h["a"],w["a"],E["a"]],computed:Object(n["a"])(Object(n["a"])({},Object(M["e"])({userMode:function(e){return e.app.userMode},currentRole:function(e){return e.user.currentRole}})),{},{lastChangeSavedTime:function(){if(this.data){r["info"]("lastChangeSavedTime data",this.data);var e=this.data.updateTime||this.data.createTime;if(e)return j(e)}return""},inActiveTypes:function(){var e=[];return this.itemsList&&(e=this.itemsList.map((function(e){return e.type}))),Array.from(new Set(e))}}),data:function(){return{loading:!0,slideLoading:!1,copyLoading:!1,data:null,imgList:[],viewMode:"Detail",RATE_TOOLTIPS:k["y"],ReviewsTask:x,ReviewsTeacher:A,tagColorList:["pink","orange","green","cyan","blue","red","purple"],activeContentType:-1,typeMap:o["e"],subPreviewVisible:!1,currentImgIndex:0,initPrompts:[],reviewsStats:{avgReviewsScore:0,reviewsScoreStatDetail:[],reviewsCount:0,effectiveness:0,overall:0,quality:0,studentsEngagement:0},recommendTemplateList:[]}},created:function(){r["info"]("CommonPreviewV2 id "+this.id+" type "+this.type),this.loadData()},methods:{loadData:function(){var e=this;r["info"]("loadData "+this.id+" type "+this.type),this.loading=!0,this.type===this.typeMap["unit-plan"]?N({id:this.id}).then((function(t){r["info"]("UnitPlanQueryById "+e.id,t.result),e.data=t.result,e.oldForm=e.data,e.data&&e.data.image&&(e.imgList=[e.data.image])})).finally((function(){e.loading=!1,e.queryContentCollaborates(e.id,e.type)})):this.type===this.typeMap.task?(R({id:this.id}).then((function(t){r["info"]("TaskQueryById "+e.id,t.result),e.data=t.result,e.loading=!1,e.oldForm=e.data,e.queryContentCollaborates(e.id,e.type),e.loadThumbnail(),e.data.presentationId&&e.getClassInfo(e.data.presentationId)})),this.$logger.info("loadRecommendThumbnail"),Object(d["f"])({taskId:this.id}).then((function(t){r["info"]("loadRecommendThumbnail res:",t.result),t.success&&(e.recommendTemplateList=t.result)}))):this.type===this.typeMap.evaluation&&G({id:this.id}).then((function(t){r["info"]("EvaluationQueryById "+e.id,t.result),e.data=t.result,e.oldForm=e.data,e.data&&e.data.image&&(e.imgList=[e.data.image])})).finally((function(){e.loading=!1,e.queryContentCollaborates(e.id,e.type)})),Object(L["a"])(k["q"]).then((function(t){t.success&&(r["info"]("DICT_PROMPT_TYPE",t.result),e.initPrompts=t.result)})),this.loadReviewStats()},handleAuthCallback:function(){this.$logger.info("Preview handleAuthCallback"),"loadThumbnail"===this.currentMethodName?this.loadThumbnail():"handleDuplicateItem"===this.currentMethodName&&this.handleDuplicateItem()},loadThumbnail:function(){var e=this;this.$logger.info("Preview loadThumbnail ",this.data),this.data.presentationId?this.isLibrary?Object(d["d"])({taskId:this.data.id}).then((function(t){if(t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden){var a=t.result.pageObjects;e.thumbnailList=[],a.length?a.forEach((function(t){e.imgList.push(t.contentUrl),e.thumbnailList.push({contentUrl:t.contentUrl,id:t.pageObjectId}),e.slideLoading=!1,e.$logger.info("current imgList ",e.imgList)})):(e.imgList=[],e.slideLoading=!1)}else e.$logger.info("等待授权事件通知"),e.currentMethodName="loadThumbnail"})):Object(d["d"])({taskId:this.data.id}).then((function(t){if(t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden){var a=t.result.pageObjects;e.thumbnailList=[],a.length?a.forEach((function(t){e.imgList.push(t.contentUrl),e.thumbnailList.push({contentUrl:t.contentUrl,id:t.pageObjectId}),e.slideLoading=!1,e.$logger.info("current imgList ",e.imgList)})):(e.imgList=[],e.slideLoading=!1)}else e.$logger.info("等待授权事件通知"),e.currentMethodName="loadThumbnail"})):this.slideLoading=!1},loadReviewStats:function(){var e=this,t=null;t="student"===this.currentRole?x["ReviewsTaskStats"]:A["ReviewsTeacherStats"],t&&t({taskId:this.id,purchasesId:this.id}).then((function(t){t.success&&(e.reviewsStats=t.result)}))},handleSelectContentType:function(e){r["info"]("handleSelectContentType "+e),this.activeContentType=e},handleSubPreviewClose:function(){r["info"]("handleSubPreviewClose"),this.subPreviewVisible=!1},handleViewModeChange:function(){this.$logger.info("handleViewModeChange "+this.viewMode)},handleFavorite:function(e){var t=this;r["info"]("handleFavorite",e),V({sourceId:e.id,sourceType:e.type}).then((function(a){r["info"]("FavoritesAdd ",a),e.isFavorite=!e.isFavorite,t.data.isFavorite=e.isFavorite,t.$emit("favoritiesAdd",Object(n["a"])({},t.data))}))},handleGotoImgIndex:function(e){this.$logger.info("handleGotoImgIndex "+e),this.currentImgIndex=e,this.$refs.carousel.goTo(e)},handleEditItem:function(e){e.type=this.type,r["info"]("handleEditItem",e),e.type===o["e"]["unit-plan"]?window.open("/teacher/unit-plan-redirect/"+e.id,"_blank"):e.type===o["e"].task?window.open("/teacher/task-redirect/"+e.id,"_blank"):e.type===o["e"].evaluation&&window.open("/teacher/evaluation-redirect/"+e.id,"_blank")},handleDuplicateItem:function(){var e=this;this.$logger.info("handleDuplicateItem",this.data),this.$confirm({title:"Confirm to copy",content:"Are you sure to copy "+this.data.name+" ?",centered:!0,onOk:function(){e.copyLoading=!0,Object(C["Duplicate"])({id:e.data.id,type:e.data.type}).then((function(t){t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden?(e.$logger.info("Duplicate response",t),e.$message.success("Copy successfully"),e.$router.push({path:"/teacher/main/created-by-me"})):e.currentMethodName="handleDuplicateItem"})).finally((function(){e.copyLoading=!1}))}})},handleStartTask:function(){var e=this;this.$confirm({title:"Confirm to start",content:"Are you sure to start "+this.data.name+" ?",centered:!0,onOk:function(){e.copyLoading=!0,e.data.buyed||k["X"].SCHOOL===e.userMode?e.handleStartSession(e.data.id):U({taskId:e.data.id}).then((function(t){t.success&&e.handleStartSession(e.data.id)})).finally((function(){e.copyLoading=!1}))}})},handleOpenLink:function(e){window.open(e,"_blank")},handleStartSession:function(e){var t=this;this.copyLoading=!0,z({taskId:e}).then((function(e){if(t.$logger.info("StartOpenSession res",e),e.success){t.copyLoading=!1;var a=T["a"]+"s/"+e.result.classId+"?token="+_.a.get(I["a"]);t.$logger.info("try open "+a),window.location.href=a}else t.$message.warn("StartLesson Failed! "+e.message)})).finally((function(){t.copyLoading=!1}))}}},Q=q,H=(a("1f7f"),a("0c7c")),W=Object(H["a"])(Q,i,s,!1,null,"5cac3e1c",null);t["a"]=W.exports},ae3c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAAAXNSR0IArs4c6QAABDNJREFUWEfNl2FoG2UYx//Pm6TO6GBikov7MGpyQWQqg30pE93cPinU5oJa5kQGInVaNkVGPzgtOBmbyNbpRBHZHGgV63ppRTYQtgmF6hcFURB2VyedNZdtzbSr7dbc+0hC03XtJblrm9T7ev/neX78732f5znC/+BZubo5FAwGOgG0EjhnA3toubmijclGBOgUQPfMYvltWcFC8eR6vyhChW4yiPHjsoHdGdc2+wWlCVg596tJyI5lAVPUlmaC6AHRLfOOEvMwj43fW3ewsJp8SpD4lIDAXChmZmJ7S8bsP1NXsIiqbSPCJwTyO106ZtllGelXCu/qBhZRkzsI4ggRhDMUf28ZuYeAs/m6gYXjyXZB9C4RORrBwFVmuS5rpM0SdM0dC6vaSwJ4rxxUAYRtfs4a0o/OdrKmYEosuYt8oqtSE2fwF9Y5fetcTc3AFDX1MsAHKzkFxoVr0ndfbqjn77qAKfHUXhLYU9EphrTBmy8Z+ndOuiV3TElobxHotWozmJn3WYZeVrekYFFV6wDRfhdQZy1D3wJAltMuGVjhTBHhUDUogC/nJ+0HLg33j1TSLgmYEtd2kqDD1aEAKZHKmr16Ne2iwaLx1HYmPlrx9k1TMKPLMnqLI6fas0iwJ31Kws45rS4OA3rQMnIPl0ZOjcEARU39QoS1VQqNXpf2ulGzb7ga0IJHUiShvUCMFyXh0MVz+rHiFkpiAIQVzsMZtmTZfNFMn3QLtaAhrqip00R4pBAsJe/Omvo7Siy5FT5x3GnHksydWUN/0wuUJ7Db41rkqqlnw7GWx4RP9M3sVFLuzZjpN0KN2kafH2kiWjUDwTiRMXytQI9dE7DpHnWAmTstQ98fvrvlCeH3dZccKi14kTWpmGjgIwCaJNCdnczsxoXBCa9QLhzb5FfUO44R0TOl5FLi7azZ26GoWgsRfQmgofCOmT+2DL2tUjf3AlixXURV7TiInp2XUPKHGVPfEY4nH/WR6C0dfGZ0W0bvNi8AnkeSEteeJ0EflQtk5s8sI7ddia3aSIL6QRQsOmfLp62h9OeLhSvj2PqAkljzB4HuqlSAmfssTLaG8iua/AF8VfxxZW7PGPr7NQGLqslNIHHGTXJmPo2x8cev3RoMNPjE2qw5+oPb7l4pv6NjhSYqQB+4AZs++IOWoW9wq3ejcwRTEtphAu10k6CkyYxP3YaRr//1EuPZMUXVfiai+90WYWbLMvSoW70b3TzHFDXVRIRBN8E3OjwfzBj6q55iqoidwAaI8KDrIoxfr2Niw6hx8h/XMS6EN4FFEqnXBeB+4DJOjE9w29if+mUXtTxJZsCURHIXofLP6Y3MPGBL3ud1lfFCRljdHFSCgQNEaC/b5YHfCfyTBL7NS/mNl4XPC8xsLUXiqTZBmLlRzJwHcUYyRiDw19QUzl85n76y0AILjfsPWT6SVuLmISoAAAAASUVORK5CYII="},b199:function(e,t,a){"use strict";a.r(t),a.d(t,"taskAPIUrl",(function(){return s})),a.d(t,"TaskCreateTaskPPT",(function(){return n})),a.d(t,"TaskCreateNewTaskPPT",(function(){return r})),a.d(t,"TaskAddOrUpdate",(function(){return o})),a.d(t,"SplitTask",(function(){return l})),a.d(t,"TaskQueryById",(function(){return c})),a.d(t,"TaskDelete",(function(){return d})),a.d(t,"getTaskBySessionId",(function(){return u})),a.d(t,"UpdateSlideEditing",(function(){return p})),a.d(t,"QuerySubTask",(function(){return h}));var i=a("b775"),s={createTaskPPT:"/classcipe/api/task/createTaskPPT",createNewTaskPPT:"/classcipe/api/task/createNewTaskPPT",addOrUpdate:"/classcipe/api/task/addOrUpdate",delete:"/classcipe/api/task/delete",deleteBatch:"/classcipe/api/task/deleteBatch",list:"/classcipe/api/task/list",queryById:"/classcipe/api/task/queryById",splitTask:"/classcipe/api/task/spliteTask",getTaskBySessonId:"/classcipe/api/task/getTaskBySessonId",updateSlideEditing:"/classcipe/api/task/updateSlideEditing",querySubTask:"/classcipe/api/task/querySubTask"};function n(e){return Object(i["d"])({url:s.createTaskPPT,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i["d"])({url:s.createNewTaskPPT,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(i["d"])({url:s.addOrUpdate,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(i["d"])({url:s.splitTask,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(i["d"])({url:s.queryById,method:"get",params:e})}function d(e){return Object(i["d"])({url:s.delete+"?id="+e.id,method:"post",data:e})}function u(e){return Object(i["d"])({url:s.getTaskBySessonId,method:"get",params:e})}function p(e){return Object(i["d"])({url:s.updateSlideEditing,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return Object(i["d"])({url:s.querySubTask,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},b8f1:function(e,t,a){"use strict";a("51bf")},ba70:function(e,t,a){},bdc9:function(e,t,a){},be9d:function(e,t,a){},bf0a:function(e,t,a){},c0f4:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-search"},[a("a-textarea",{staticClass:"cc-form-textarea",attrs:{"auto-size":{minRows:2,maxRows:6},placeholder:e.placeholder,disabled:!e.canEdit},on:{keyup:e.handleSearch,focus:e.handleSearch},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e.fetching?a("a-spin",{attrs:{slot:"notFoundContent",size:"small"},slot:"notFoundContent"}):e._e(),e.showSearchListFlag?a("div",{staticClass:"search-list-wrapper"},[a("ul",{staticClass:"search-list"},e._l(e.searchList,(function(t,i){return a("li",{key:i,staticClass:"search-list-item input-search-item",on:{click:function(a){return e.handleSelectItem(t)}}},[e._v(e._s(t[e.label]))])})),0)]):e._e()],1)},s=[],n=(a("a9e3"),a("823b")),r={name:"InputSearch",props:{defaultValue:{type:String,default:null},keyIndex:{type:Number,default:null},currendIndex:{type:Number,default:null},label:{type:String,default:"name"},placeholder:{type:String,default:"name"},searchList:{type:Array,default:function(){return[]}},canEdit:{type:Boolean,default:!0}},computed:{showSearchListFlag:function(){return this.searchList.length>0&&this.keyIndex===this.currendIndex}},mounted:function(){this.globalClick(this.handleClick)},data:function(){return{fetching:!1,lastFetchId:0,value:null}},created:function(){this.value=this.defaultValue,n["info"]("inputSearch value",this.value)},watch:{defaultValue:function(e){this.$logger.info("defaultValue change",e),this.value=e}},methods:{handleClick:function(e){e.target.classList.contains("input-search-item")||this.$emit("reset")},handleSearch:function(){n["info"]("handleSearch"+this.value),this.$emit("search",this.keyIndex,this.value),this.$emit("change")},handleSelectItem:function(e){n["info"]("handleSelectItem",e),this.value=e[this.label],this.$emit("select-item",this.keyIndex,e),this.$emit("reset")},handleResetSearchList:function(){n["info"]("handleResetSearchList"),this.$emit("reset")}}},o=r,l=(a("cad2"),a("0c7c")),c=Object(l["a"])(o,i,s,!1,null,"c65473be",null);t["a"]=c.exports},c164:function(e,t,a){"use strict";a("be9d")},c621:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"f",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return d}));var i=a("b775"),s={getTemplates:"/classcipe/api/templates/getTemplates",filterTemplates:"/classcipe/api/templates/filterTemplates",recommendTemplates:"/classcipe/api/templates/recommendTemplates",getPresentation:"/classcipe/api/templates/getPresentation",getPublishedPresentation:"/classcipe/api/templates/getPublishedPresentation",getPageThumbnail:"/classcipe/api/templates/getPageThumbnail",queryById:"/classcipe/api/templates/queryById"};function n(e){return Object(i["d"])({url:s.getTemplates,method:"get",params:e})}function r(e){return Object(i["d"])({url:s.filterTemplates,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(i["d"])({url:s.recommendTemplates,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(i["d"])({url:s.getPresentation,method:"get",params:e})}function c(e){return Object(i["d"])({url:s.getPageThumbnail,method:"get",params:e})}function d(e){return Object(i["d"])({url:s.getPublishedPresentation,method:"get",params:e})}},cad2:function(e,t,a){"use strict";a("f424")},d28d:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"k",(function(){return d})),a.d(t,"l",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"h",(function(){return h})),a.d(t,"i",(function(){return g})),a.d(t,"j",(function(){return m})),a.d(t,"g",(function(){return f}));var i=a("b775"),s={GetUserTags:"/classcipe/api/tag/getUserTags",UserTagAddOrUpdate:"/classcipe/api/tag/addOrUpdateUserTag",AddUserTagNew:"/classcipe/api/tag/addUserTagNew",AddUserParentTag:"/classcipe/api/tag/addUserParentTag",UpdateUserParentTag:"/classcipe/api/tag/updateUserParentTag",UserTagDelete:"/classcipe/api/tag/userTagDelete",UserTagDeleteNew:"/classcipe/api/tag/userTagDeleteNew",GetTreeByKey:"/classcipe/api/tag/getTreeByKey",GetGlobalTree:"/classcipe/api/tag/getTree",GetRootGlobalTag:"/classcipe/api/tag/getRootGlobalTag",GetGlobalTagKeywords:"/classcipe/api/tag/getTagKeywords",TagQueryById:"/classcipe/api/tag/queryById",TagDelete:"/classcipe/api/tag/delete",TagDeleteBatch:"/classcipe/api/tag/deleteBatch",FindCustomTags:"/classcipe/api/tag/findCustomTags",GetTagYearTips:"/classcipe/api/tag/getTagYearTips",QuerySourceTagByCategory:"/classcipe/api/tag/querySourceTagByParent",SchoolRootCustomList:"/classcipe/api/tag/rootSchoolCustomList",SchoolAddOrUpdateTag:"/classcipe/api/tag/addOrUpdate",SchoolTagSet:"/classcipe/api/tag/schoolTagSet",SchoolSelectLibrary:"/classcipe/api/tag/schoolSelectLibrary",SchoolTagDelete:"/classcipe/api/tag/schoolTagDelete",SchoolCommonTagList:"/classcipe/api/tag/schoolCommonTagList"};function n(e){return Object(i["d"])({url:s.GetTreeByKey,method:"get",params:e})}function r(e){return Object(i["d"])({url:s.GetTagYearTips,method:"get",params:e})}function o(e){return Object(i["d"])({url:s.GetGlobalTagKeywords,method:"get",params:e})}function l(e){return Object(i["d"])({url:s.AddUserTagNew,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(i["d"])({url:s.AddUserParentTag,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(i["d"])({url:s.UpdateUserParentTag,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(e){return Object(i["d"])({url:s.UserTagDeleteNew,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function p(e){return Object(i["d"])({url:s.FindCustomTags,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return Object(i["d"])({url:s.SchoolSelectLibrary,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function g(e){return Object(i["d"])({url:s.SchoolTagDelete+"?id="+e.id,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function m(e){return Object(i["d"])({url:s.SchoolTagSet,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(e){return Object(i["d"])({url:s.SchoolCommonTagList,method:"get",params:e})}},d33b:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));a("159b"),a("9911"),a("4de4"),a("d81d"),a("d3b7");var i=a("7aef"),s=a("8448"),n=a.n(s),r=a("998c"),o=a.n(r),l=a("4084"),c=a.n(l),d=a("8a21"),u=a.n(d),p=a("1eeb"),h=a.n(p),g=a("5a1d"),m=a.n(g),f=a("6631"),v=a.n(f),y=a("1b72"),b={components:{TextTypeSvg:n.a,ImageTypeSvg:o.a,VideoTypeSvg:c.a,AudioTypeSvg:u.a,YoutubeTypeSvg:h.a,PdfTypeSvg:m.a,UrlTypeSvg:v.a},data:function(){return{loadingClass:!1,currentImgIndex:0,elementsList:[],itemsList:[],showMenuList:[],thumbnailList:[],fileTypeMap:i["a"],materialVisible:!1,mediaVisible:!1,mediaList:[],filterMaterialType:""}},created:function(){},computed:{currentPageElements:function(){var e=[];if(0===this.thumbnailList.length)return e;if(this.thumbnailList[this.currentImgIndex]){var t=this.thumbnailList[this.currentImgIndex].id;this.elementsList.forEach((function(a){if(t===a.pageId){var s=a.data;"iframe"===s.type?e.push(i["a"].youtube):"image"===s.type?e.push(i["a"].img):"audio"===s.type?e.push(i["a"].audio):"text"===s.type?e.push(i["a"].txt):"video"===s.type?e.push(i["a"].video):"pdf"===s.type?e.push(i["a"].pdf):"website"===s.type&&e.push(i["a"].link)}}))}return e},currentPageElementLists:function(){var e=[];if(0===this.thumbnailList.length)return e;if(this.thumbnailList[this.currentImgIndex]){var t=this.thumbnailList[this.currentImgIndex].id;this.elementsList.forEach((function(a){if(t===a.pageId){var i=a.data;e.push(i)}}))}return e},currentPageItem:function(){var e=[];if(0===this.thumbnailList.length)return"";if(this.thumbnailList[this.currentImgIndex]){var t=this.thumbnailList[this.currentImgIndex].id;this.itemsList.forEach((function(a){if(t===a.pageId){var i=a.data;e.push(i)}}))}return e.length>0?e[0]:""},currentPageId:function(){return 0===this.thumbnailList.length?null:this.thumbnailList[this.currentImgIndex]?this.thumbnailList[this.currentImgIndex].id:void 0},currentPageTips:function(){if(0===this.thumbnailList.length)return"";var e=this.currentPageElementLists.filter((function(e){return"tip"===e.type}));return e?e[0]:""},currentPageMaterial:function(){var e={};if(0===this.thumbnailList.length)return e;if(this.thumbnailList[this.currentImgIndex]){var t=this.thumbnailList[this.currentImgIndex].id;this.elementsList.forEach((function(a){if(t===a.pageId){var i=a.data;"tip"!==i.type&&(e.hasOwnProperty(i.type)||(e[i.type]=[]),e[i.type].push(i))}}))}return e}},methods:{getClassInfo:function(e){var t=this;this.loadingClass=!0;var a=this.thumbnailList.map((function(e){return e.id}));0===a.length?this.loadingClass=!1:Object(y["c"])({slideId:e,pageIds:a}).then((function(e){t.$logger.info("QueryByClassInfoSlideId ",e),e.success&&(e.result.relements.forEach((function(e){"string"===typeof e.data&&(e.data=JSON.parse(e.data))})),e.result.items.forEach((function(e){"string"===typeof e.data&&(e.data=JSON.parse(e.data))})),t.elementsList=e.result.relements,t.itemsList=e.result.items)})).finally((function(){t.loadingClass=!1,t.setTaskKnowAndBloomFormPPT()}))},setTaskKnowAndBloomFormPPT:function(){var e=this.thumbnailList.map((function(e){return e.id})),t=[],a=[];this.itemsList.forEach((function(i){if(-1!==e.indexOf(i.pageId)){var s=i.data;s.data&&s.data.bloomLevel&&-1===t.indexOf(s.data.bloomLevel)&&t.push(s.data.bloomLevel),s.data&&s.data.knowledgeLevel&&-1===a.indexOf(s.data.knowledgeLevel)&&a.push(s.data.knowledgeLevel)}})),t.length>0&&this.setCustomTagByPPT&&this.setCustomTagByPPT(t,"Bloom's Taxonomy"),a.length>0&&this.setCustomTagByPPT&&this.setCustomTagByPPT(a,"Knowledge Dimensions")},showPluginMaterial:function(e){var t=this.currentPageMaterial[e];this.$logger.info("showPluginMaterial ",t),"text"===e||"website"===e||"pdf"===e?t.length>1?(this.filterMaterialType=e,this.materialVisible=!0):"tip"!==t[0].type&&window.open(t[0].url,"_blank"):(this.mediaList=t,this.filterMaterialType=e,this.mediaVisible=!0)},showMaterialSize:function(e){return this.currentPageMaterial[e].length>1?this.currentPageMaterial[e].length:0},computerSize:function(e){var t=0,a=this.thumbnailList[this.currentImgIndex].id;return this.elementsList.forEach((function(i){if(a===i.pageId){var s=i.data;s.type===e&&t++}})),t},onChangePage:function(e){this.currentImgIndex=e},getTargetPageItemData:function(e){var t=null;return this.itemsList.forEach((function(a){e===a.pageId&&(t=a.data)})),t}}}},d50c:function(e,t,a){"use strict";a("a0d2")},d573:function(e,t,a){"use strict";a.r(t),a.d(t,"libraryURL",(function(){return s})),a.d(t,"Search",(function(){return n})),a.d(t,"QueryContents",(function(){return r})),a.d(t,"QueryKeyContents",(function(){return o})),a.d(t,"QueryRecommendContents",(function(){return l})),a.d(t,"QueryContentsFilter",(function(){return c}));var i=a("b775"),s={Search:"/classcipe/api/library/search",QueryContents:"/classcipe/api/library/queryContents",QueryKeyContents:"/classcipe/api/library/queryKeyContents",queryContentsFilter:"/classcipe/api/library/queryContentsFilter",QueryRecommendContents:"/classcipe/api/library/queryRecommendContents"};function n(e){return Object(i["d"])({url:s.Search,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i["d"])({url:s.QueryContents,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(i["d"])({url:s.QueryKeyContents,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(i["d"])({url:s.QueryRecommendContents,method:"get",params:e})}function c(e){return Object(i["d"])({url:s.queryContentsFilter,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},d6ea:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"27",height:"27",viewBox:"0 0 27 27"},children:[{tag:"g",attrsMap:{transform:"translate(-771.25 -365.25)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#15c39a;stroke:#15c39a;",d:"M13,0A13,13,0,1,1,0,13,13,13,0,0,1,13,0Z",transform:"translate(771.75 365.75)"}},{tag:"path",attrsMap:{class:"b",style:"fill:#fff;",d:"M16702.625,20201.145a.935.935,0,0,1-.67-.314.953.953,0,0,1-.254-.684v-4.016h-4.029a.964.964,0,0,1,0-1.926h4.029v-4.031a.965.965,0,0,1,1.928,0v4.031h4.035a.956.956,0,0,1,.918.922.942.942,0,0,1-.254.689.956.956,0,0,1-.664.314h-4.035v4.092a.962.962,0,0,1-.965.922Z",transform:"translate(-15917.914 -19816.447)"}}]}]})}},d819:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"15.873",viewBox:"0 0 16 15.873"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#bcbcbc;",d:"M156.816,158.889l3.055,3.029a.557.557,0,1,1-.785.789l-3.051-3.025a7.225,7.225,0,1,1,.781-.794Z",transform:"translate(-144.036 -146.997)"}}]})}},d8e8:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"27.065",viewBox:"0 0 23 27.065"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#15c39a;",d:"M193.621,145H212.2l-9.375,11.1a.221.221,0,0,0-.052.143v13.714a.442.442,0,0,1-.335.429l-6.735,1.684V156.181a.222.222,0,0,0,0-.046l-2.3-10.868a.221.221,0,0,1,.216-.267Zm10.848,16.5H216.4v3.093a.442.442,0,0,1-.442.442H204.028v-3.093A.442.442,0,0,1,204.47,161.5Zm0-4.713H216.4v3.093a.442.442,0,0,1-.442.442H204.028v-3.093A.442.442,0,0,1,204.47,156.784Zm0,9.427H216.4V169.3a.442.442,0,0,1-.442.442H204.028v-3.093A.442.442,0,0,1,204.47,166.21Z",transform:"translate(-193.4 -145)"}}]})}},da06:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#fff;",d:"M30.273,36.273a6,6,0,1,1,6-6,6.007,6.007,0,0,1-6,6m0-13a7,7,0,1,0,7,7,7,7,0,0,0-7-7m0,9.536a.441.441,0,1,0,.441.44.441.441,0,0,0-.441-.44m.481-5.736a2.264,2.264,0,0,0-2.743,2.212.5.5,0,1,0,1,0A1.263,1.263,0,1,1,30.7,30.473a1.391,1.391,0,0,0-.925,1.307v.147a.5.5,0,0,0,1,0v-.153a.383.383,0,0,1,.262-.36,2.263,2.263,0,0,0-.281-4.342",transform:"translate(-23.273 -23.273)"}}]})}},de1a:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABL5JREFUWEetV11oHFUU/s7dieQh0GzzswvmYdudiEKlBQ0oJrjQhhpIdGdVaJGCog8RLe1DHyoqFSxYkGJFwYqKLRZSMGbXpEjElKRYaB8CBlowmNk04A+72TZJMUrC7twjd5LdnZ39T5y3uXPvOd/5+b57hvA/PK3B8GOaoEMAngDQAVAAjDUGm8Q0DcZwYn7pR2Aq43ZH2/Hf8lD/g5psOE9E/dXt8Cxb/GZyPnbVuXfLANp3GXvJQ+NE8Fd3vrGDwRlAnEjOffdx9syWALTrzx0k8gwT0FSrc+c+CQwuzo18rtbqBuDbHd4PFTlIcxq1o2NclsxXifkPQOgk6CCI+9177f5g7krGo7frAqCazSPElDtyZphgNpRBd0bags/qHtKGQHi8ADAjljRHjLoA+HRjzN1wzDwjM+t9qYUfEuXK0dYWavLs2DlZBELyo/UB6DSGCDbdNh++bq0s96VSU6vVeqElMPBwQ0PDr4Vlw+m6ANjpFJ6vmbEHoAvy/tK7hc5Dmj/o/YQJh0A0LdNrR5yZ8XVGfiLgQA4+42ZdACpHGdLade+QIHohu08CFxbnRl7Jvvs6I+8T8E4eAK+UBxAINbY80NRy77crf1ZLL1DsfJP44wlzpC973q9HToHwXlUhUjwXJC4B1MqQE8m5lb5SMrphqLRzRUspMZCKR8dzAILGZxA06ChBoigD7Z3h5wl0uYC7kl9OxKMXizNRwTnLwynz++H8mZDm1713QNSR72FWlM4/JZ0DsNh6sdBY+cjVFwYdd8qtWvPrxhsg+rQgCOaTOQCtuvG0hzBRpHDMU0lzubewBGVqXsZ5ezDyFAkVrUM9GWtWZm2XDcAfCAdYEzeKL5ZinitRETt2fkOEsLskpSLfcI7xYvXkM0kz+pYNwFckMHYiS4hMSPN3eicB6t6m8xl5f7lHaQj5gsYeEnTLZXDWWlnqcouMm+e5bi5Vc5XVBnGrxL2RkJzpScVHTXWe/Hr4FEgUcDNjZbruzo9OOzu4Hud2VnXjAyI66QyMgVVwujdpjt3MrpNPj6jaq1HKfhiYSM6N9G7H+UZZw8cI4pyT80DacDrfzIDxewE3pTyaiMdydPEFjbdJ0Olaal6wJxBq9GneL4jQzSAzk04fvbcwNuu2Q/7OCDsXpZTGYjwWy6759ci3IOT0vRzP3YZrfSefbiwTUXM+VfK1pBn7KvveHgyHhRDRSg3XHAg3N2q0V1rW7OKd0WStzu0S+HTjFyLalwfAl5Jm9IjTSNtuo9sjaD8gryXM2JTzm+K5EBzbuDewKtOyJ7UQm6kVhGrCj4hwPB+hukSsR7I0qWSopMhIPp+IR1+vGYAdnYd+LqCLGrM2haKcoQ3ppitunkuJE4vxkbM1A1Ab/boxCaKQ69AsmAcTZvSau7v9mvcYkxqnCidjACUErDIUW4rbAuF9Hk3cAKGxiG7Mt4lomhkrBO5gomdK/w/wgpVef7LScFoKSu429OmRV4nwZa2pc2fLkpmBWvqmSAecCwoECOfq+eNRyvnvP+nDf/81dncr4IsmIjU+a5r2YbUfTmZ7oDyTMJfPlh/XqkMqO5SqWxKElwh0gMG6LVbMKkr19zNuZdYv1lvvUnD+A2xgPb8puyDSAAAAAElFTkSuQmCC"},dfe9:function(e,t){e.exports="data:image/png;base64,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"},e11c:function(e,t,a){"use strict";a.d(t,"b",(function(){return v})),a.d(t,"a",(function(){return y}));var i=a("2909"),s=a("5530"),n=(a("c740"),a("159b"),a("b0c0"),a("d81d"),a("4de4"),a("d3b7"),a("523d")),r=a("d4ec"),o=a("bee2"),l=a("ade3"),c=function(){function e(){Object(r["a"])(this,e),Object(l["a"])(this,"id",""),Object(l["a"])(this,"type",0),Object(l["a"])(this,"fieldName",""),Object(l["a"])(this,"inputValue","")}return Object(o["a"])(e,null,[{key:"convert2CollborateMsg",value:function(t){var a=new e;return a.id=t.id,a.type=t.type,a.fieldName=t.fieldName,a.inputValue=t.inputValue,a}}]),e}(),d=function(){function e(){Object(r["a"])(this,e),Object(l["a"])(this,"id",""),Object(l["a"])(this,"type",0),Object(l["a"])(this,"details",{})}return Object(o["a"])(e,null,[{key:"convert2SaveContentMsg",value:function(t){var a=new e;return a.id=t.id,a.type=t.type,a.details=t.details,a}}]),e}(),u=a("39e6"),p=a("f93e"),h=a("2f62"),g=a("8ded"),m=a.n(g),f=a("9fb0"),v={collaborate:1,collaborateComment:2,imageUpload:3,customTag:4,taskDetails:5,recommend:6,associate:7,assessmentToolsLearnOuts:8},y={data:function(){return{shareVisible:!1,shareStatus:0,oldForm:{},rightModule:v,showModuleList:[v.customTag,v.recommend],rightWidth:600,leftWidth:730,collaborate:{},initCompleted:!1,updateContentVisible:!1,defaultHistoryKey:"1",showCollaborateModalVisible:!1,collaborateContent:null,currentFieldName:{},historyList:[],collaborateCommentList:[],currentCollaborateCommentList:[],currentRightModule:null,showHistoryLoading:!1}},watch:{needRefreshCollaborate:function(e){e&&e.indexOf(this.oldForm.id)>-1&&this.isOwner&&(this.refreshCollaborateAction(!1),this.handleStartCollaborate())},changeCollaborate:function(e){e&&e.indexOf(this.form.id)>-1&&(this.changeCollaborateAction(!1),this.$logger.info("need changeCollaborate"),this.queryContentCollaborates(this.form.id,this.form.type))}},filters:{unitLabelName:function(e,t,a){return a&&a.planFieldMap&&a.planFieldMap[t]?a.planFieldMap[t]:e},unitLabelHint:function(e,t,a){return a&&a.planHintMap&&a.planHintMap[t]?a.planHintMap[t]:e},taskLabelName:function(e,t,a){return a&&a.taskFieldMap&&a.taskFieldMap[t]?a.taskFieldMap[t]:e},taskLabelHint:function(e,t,a){return a&&a.taskHintMap&&a.taskHintMap[t]?a.taskHintMap[t]:e}},created:function(){var e=this.$route.query.token;e||(e=m.a.get(f["a"]))},mounted:function(){var e=this;this.resetWidth(),window.onresize=function(){e.resetWidth()},window.addEventListener("beforeunload",(function(t){return e.beforeunloadHandler(t)})),this.receiveSaveContentMsg("")},destroyed:function(){var e=this;window.removeEventListener("beforeunload",(function(t){return e.beforeunloadHandler(t)}))},computed:Object(s["a"])(Object(s["a"])({getCollaborateUsers:function(){return function(e){var t=[];return e.users&&(t=Object(i["a"])(e.users)),e.owner.nickName=e.owner.nickname,t.push(e.owner),t}},isOwner:function(){return!!this.oldForm&&this.$store.getters.userInfo.email===this.oldForm.createBy},isCollaborater:function(){var e=this;if(!this.collaborate.users)return!1;var t=this.collaborate.users.findIndex((function(t){return t.email===e.$store.getters.userInfo.email}));return t>-1},isEditCollaborater:function(){var e=this;if(!this.collaborate.users)return!1;var t=this.collaborate.users.findIndex((function(t){return t.email===e.$store.getters.userInfo.email}));return t>-1&&"Edit"===this.collaborate.users[t].permissions},canEdit:function(){return this.isOwner||this.isEditCollaborater},showRightModule:function(){return function(e){return this.showModuleList.indexOf(e)>-1}},showUpdateContent:function(){var e=this.$store.state.websocket.saveContentMsg;return!(!e||e.content.id!==this.form.id)&&(e.content.details.updateTime=this.oldForm.updateTime,e.content.details.gradeId=this.oldForm.gradeId,!e.hideUpdate&&!Object(u["a"])(e.content.details,this.oldForm))},associateIdTypeList:function(){var e=this,t=[];return this.associateUnitPlanIdList&&this.associateUnitPlanIdList.forEach((function(a){t.push({id:a,type:e.$classcipe.typeMap["unit-plan"]})})),this.associateTaskIdList&&this.associateTaskIdList.forEach((function(a){t.push({id:a,type:e.$classcipe.typeMap.task})})),t}},Object(h["c"])({vueSocket:"vueSocket"})),Object(h["e"])({needRefreshCollaborate:function(e){return e.websocket.needRefreshCollaborate},removedCollaborate:function(e){return e.websocket.removedCollaborate},changeCollaborate:function(e){return e.websocket.changeCollaborate},collapsed:function(e){return e.app.sideCollapsed}})),methods:Object(s["a"])(Object(s["a"])({},Object(h["b"])(["refreshCollaborateAction","changeCollaborateAction","removedCollaborateAction","receiveSaveContentMsg"])),{},{setRightModuleVisible:function(e){e===this.rightModule.collaborate?this.showModuleList=[v.collaborate]:e===this.rightModule.collaborateComment?this.showModuleList=[v.collaborateComment]:e===this.rightModule.customTag?this.showModuleList=[v.customTag]:e===this.rightModule.taskDetails?this.showModuleList=[v.taskDetails]:e===this.rightModule.recommend?this.showModuleList=[v.recommend]:this.showModuleList=[v.customTag,v.recommend]},resetRightModuleVisible:function(){this.showModuleList=[v.customTag,v.recommend]},beforeunloadHandler:function(e){if(this.$logger.info("beforeunloadHandler ",this.$route.name),"AddTask"===this.$route.name||"UnitPlan"===this.$route.name)return e=e||window.event,e&&(e.returnValue="alert"),"alert"},resetWidth:function(){document.body.clientWidth<1400?(this.rightWidth=480,this.leftWidth=550):(this.rightWidth=600,this.leftWidth=720)},queryContentCollaborates:function(e,t){var a=this;this.collaborate={},Object(n["t"])({id:e,type:t}).then((function(e){a.$logger.info("QueryContentCollaborates response:",e),e.success&&(a.collaborate=e.result)}))},confirmSelectCollaborateUsers:function(e){this.collaborate=e},handleBack:function(){this.$logger.info("handleBack"),this.$router.push({path:"/teacher/main/created-by-me"})},handleCollaborateEvent:function(e,t,a){var i=this,s=new c;s.id=e,s.fieldName=t,s.inputValue=a;var n=this.collaborate.users.filter((function(e){return e.userId!==i.$store.getters.userInfo.id})).map((function(e){return e.userId}));this.isOwner||-1===n.indexOf(this.collaborate.owner.id)&&n.push(this.collaborate.owner.id),n.length},handleSaveContentEvent:function(e,t,a){var i=this,s=new d;s.id=e,s.type=t,s.details=a;var n=this.collaborate.users.filter((function(e){return e.userId!==i.$store.getters.userInfo.id})).map((function(e){return e.userId}));this.isOwner||-1===n.indexOf(this.collaborate.owner.id)&&n.push(this.collaborate.owner.id),n.length},handleCancelComment:function(){this.handleDisplayRightModule(),this.currentFieldName=""},handleStartCollaborate:function(){this.$logger.info("handleStartCollaborate"),this.collaborateContent=Object.assign({},this.form),this.showCollaborateModalVisible=!0},cleaPageCache:function(){sessionStorage.removeItem(p["E"]),sessionStorage.removeItem(p["G"]),sessionStorage.removeItem(p["F"])},GetCollaborateModifiedHistory:function(e,t){var a=this;Object(n["r"])({sourceType:e,sourceId:t}).then((function(e){a.historyList=[],a.$logger.info("GetCollaborateModifiedHistory",e),e.code||(a.historyList=e.result)}))},GetCollaborateComment:function(e,t){var a=this;Object(n["q"])({sourceType:e,sourceId:t}).then((function(e){a.$logger.info("GetCollaborateComment",e),e.code||(a.collaborateCommentList=e.result)})).finally((function(){a.showHistoryLoading=!1}))},loadCollaborateData:function(e,t){this.GetCollaborateModifiedHistory(e,t),this.GetCollaborateComment(e,t)},handleShareStatus:function(e){this.$logger.info("handleShareStatus",e),this.shareStatus=e}})}},e568:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAAAAXNSR0IArs4c6QAAAw1JREFUSEvdl02ojmkYx3//g/H97fiOkYQwRUY2RIZIihRNWLAjFmfBwoJCQxIrmdjMAlmJkuzMkIWFFBvSTE6K5GhY+MrHNf1P962nx/u85z28Wcy1euq+7ut/ffyv674e0USJiInARWAW0FIw3QHcBY4BlyV9VD6MiF7AcGAeMBYYBNwDbgNPJH3oyseI2AUcAj7bLdwJ4B3QJun3ToWImALsANYAI9NFn30CngNngaOSHtcDj4j1wGmgZx29l8BcRcQi4DAwCugLDAT6lDz9mFK1VdLNKqMR8QPgqGcXUu2Uz08B5atHDLwaeAD8mw7npMgXA/0LII7+IbBO0q0uwMsRrwLOFe7cNrCVbNQ1cHrtoSN22vcBP5aid91XSGrvquYF/kwC/inoP61Fgs7zRLafU33N1ix20szdKOl10rWdIcAbSW/LDkXEBKDoaEclcDLYA1gKnAGGFQy+T+w8HhEDAPPEtd0j6c9vBk7gLkUb8FuJrWb4FmATsDKRcqqkv5sCnMD7ARdS9J9LB7wAHLFngHt0QK1+r5nqiDCZBidrLyW5hl9IRLglnMbeFaS6J2l6xd0vaxwRC4EDidGu0dXi5YjIxFkCnEokqmX/vKS13QG+A8xIF+77W5JbKzP7J2AvsCBlpoqQByXt7g6wZ7DZa3Ga++eWiIi5qfHdTvXGoO9ulvRHd4A7oyuIgXN/uvbbPa2AcYm5Hou1ZKGk600BTun2FBsKTE7t454dkcZpfvrsfKskPyi1iFmTXJUR1yCZZ/dowPN8KzAt1d1zfnzmRhm5qp0aAi45YU64DJ7By1x/SfsrSmCSfn3EdYy6r1skvfmuwFVgpQw1P+L/BbAH/atGImlUJ22f3l6ydHgD8bDwrpVlDPCsUaMN6vnx8Hqbpd3A3p/cl1lOAJfSKtSg3bpqHjK/AhsKWlcMvDPtwnkKeaNsaqrTm53t+z3YbGAPgmvAzNL234xoyzYM+hewPC/0rsHJtP8Wfz2aCW7QK8A2SY+KvzCO/BfAm2VrMxH9CwTccGZzx/wHLF5e3RCoSfoAAAAASUVORK5CYII="},e573:function(e,t,a){"use strict";a("23b3")},e709:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"preview-preview"},[e.loading?[a("a-skeleton",{attrs:{active:""}})]:[a("a-row",{staticClass:"action-header"},[a("a-col",{staticClass:"action-header-toggle",attrs:{span:"24"}},[e._v(" "+e._s(e.templateData.name)+" ")])],1),a("a-row",{staticClass:"top-header"},[a("a-col",{staticClass:"material-row"},[a("div",{staticClass:"icon-group"},[e.currentPageMaterial.hasOwnProperty("text")?a("a-badge",{attrs:{count:e.showMaterialSize("text")}},[a("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("text")}}},[a("text-type-svg"),a("div",{staticClass:"icon-text"},[e._v("Text")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("image")?a("a-badge",{attrs:{count:e.showMaterialSize("image")}},[a("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("image")}}},[a("image-type-svg"),a("div",{staticClass:"icon-text"},[e._v("Image")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("video")?a("a-badge",{attrs:{count:e.showMaterialSize("video")}},[a("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("video")}}},[a("video-type-svg"),a("div",{staticClass:"icon-text"},[e._v("Video")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("audio")?a("a-badge",{attrs:{count:e.showMaterialSize("audio")}},[a("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("audio")}}},[a("audio-type-svg"),a("div",{staticClass:"icon-text"},[e._v("Audio")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("iframe")?a("a-badge",{attrs:{count:e.showMaterialSize("iframe")}},[a("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("iframe")}}},[a("youtube-type-svg"),a("div",{staticClass:"icon-text"},[e._v("Youtube")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("pdf")?a("a-badge",{attrs:{count:e.showMaterialSize("pdf")}},[a("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("pdf")}}},[a("pdf-type-svg"),a("div",{staticClass:"icon-text"},[e._v("PDF")])],1)]):e._e(),e.currentPageMaterial.hasOwnProperty("website")?a("a-badge",{attrs:{count:e.showMaterialSize("website")}},[a("div",{staticClass:"icon",on:{click:function(t){return e.showPluginMaterial("website")}}},[a("url-type-svg"),a("div",{staticClass:"icon-text"},[e._v("Website")])],1)]):e._e()],1)])],1),a("a-row",{staticClass:"preview-data-info"},[a("a-col",{staticClass:"slide-preview",attrs:{span:"24"}},[a("a-col",{attrs:{span:"24"}},[e.thumbnailList.length?e._e():a("div",{staticClass:"no-preview-img"},[a("no-more-resources")],1)]),a("a-col",{staticClass:"left-preview",staticStyle:{display:"flex","flex-direction":"row"},attrs:{span:"24"}},[a("div",{staticClass:"left-preview-left",staticStyle:{display:"flex"}},[e.thumbnailList.length?a("a-carousel",{ref:"carousel",staticClass:"my-carousel"},e._l(e.thumbnailList,(function(e,t){return a("div",{key:"cIndex"+t},[a("img",{attrs:{src:e.contentUrl}})])})),0):e._e(),e.currentPageItem?a("div",{staticClass:"plugin-tags"},[a("a-row",{staticClass:"tag-row"},[e.currentPageItem.data.bloomLevel?a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[e._v("Bloom's Taxonomy:")]),a("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[e._v(e._s(e.currentPageItem.data.bloomLevel))])]):e._e(),e.currentPageItem.data.knowledgeLevel?a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[e._v("Knowledge dimension(s):")]),a("span",{staticClass:"tag-value",staticStyle:{color:"#F16A39"}},[e._v(e._s(e.currentPageItem.data.knowledgeLevel))])]):e._e()]),a("a-row",{staticClass:"tag-row"},[e.currentPageItem.data.verbs&&e.currentPageItem.data.verbs.length>0?a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[e._v("Command terms:")]),e._l(e.currentPageItem.data.verbs,(function(t,i){return a("span",{key:i,staticClass:"tag-value",staticStyle:{color:"#15C39A"}},[e._v(e._s(t))])}))],2):e._e(),e.currentPageTips?a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[e._v("Tip added:")]),a("span",{staticClass:"tag-value",staticStyle:{color:"#0054FF"}},[e._v(e._s(e.currentPageTips.tip))])]):e._e()]),e.currentPageItem.data.learnOuts&&e.currentPageItem.data.learnOuts.length>0?a("a-row",{staticClass:"tag-row"},[a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[e._v("Assessment objective(s):")]),e._l(e.currentPageItem.data.learnOuts,(function(t,i){return a("span",{key:i,staticClass:"tag-value",staticStyle:{color:"#00BCF2"}},[a("a-tooltip",{attrs:{title:t.path,overlayStyle:{"z-index":"3000"}}},[e._v(e._s(t.name)+" ")])],1)}))],2)]):e._e(),a("a-row",{staticClass:"tag-row"},[a("span",{staticClass:"tag-item"},[a("span",{staticClass:"tag-title"},[e._v("This is a "),a("span",[e._v(e._s(e.currentPageItem.type))]),e._v(" slide")])])])],1):e._e(),e.thumbnailList&&e.thumbnailList.length?a("div",{staticClass:"page-info"},[e._v(" "+e._s(e.currentImgIndex+1)+" / "+e._s(e.thumbnailList.length)+" ")]):e._e(),-1===e.selectIds.indexOf(e.template.id)?a("a-button",{staticClass:"action-ensure action-item",attrs:{type:"primary",shape:"round"},on:{click:function(t){return e.handleSelectTemplate(t)}}},[a("a-icon",{staticClass:"btn-icon",attrs:{type:"plus-circle"}}),a("div",{staticClass:"btn-text"},[e._v(" Insert ")])],1):e._e()],1),a("div",{staticClass:"carousel-page"},[a("div",{staticClass:"img-list-wrapper"},[a("div",{staticClass:"img-list"},e._l(e.thumbnailList,(function(t,i){return a("div",{key:"index"+i,staticClass:"img-item",on:{click:function(t){return e.handleGotoImgIndex(i)}}},[a("img",{attrs:{src:t.contentUrl}})])})),0)])])])],1)],1),a("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"800px",zIndex:6e3,title:"My Materials"},on:{ok:function(t){e.materialVisible=!1},cancel:function(t){e.materialVisible=!1}},model:{value:e.materialVisible,callback:function(t){e.materialVisible=t},expression:"materialVisible"}},[a("task-material-preview",{attrs:{"current-page-element-lists":e.currentPageElementLists,"filter-type":e.filterMaterialType,"current-page-index":e.currentImgIndex}})],1),a("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"900px",zIndex:5e3,title:null},on:{ok:function(t){e.mediaVisible=!1},cancel:function(t){e.mediaVisible=!1}},model:{value:e.mediaVisible,callback:function(t){e.mediaVisible=t},expression:"mediaVisible"}},[a("media-preview",{attrs:{"media-list":e.mediaList,"material-type":e.filterMaterialType}})],1)]],2)},s=[],n=(a("d3b7"),a("159b"),a("b0c0"),a("69b3")),r=a("8448"),o=a.n(r),l=a("998c"),c=a.n(l),d=a("4084"),u=a.n(d),p=a("8a21"),h=a.n(p),g=a("1eeb"),m=a.n(g),f=a("5a1d"),v=a.n(f),y=a("6631"),b=a.n(y),w=a("3111"),C=a("542c"),k=a("3f76"),L=a("c621"),T=a("d33b"),I=a("873a"),S=a("4fb2"),_=a("2f59"),M={name:"TemplatePreview",components:{TaskMaterialPreview:C["a"],MaterialTypeIcon:w["a"],NoMoreResources:n["a"],TextTypeSvg:o.a,ImageTypeSvg:c.a,VideoTypeSvg:u.a,AudioTypeSvg:h.a,YoutubeTypeSvg:m.a,PdfTypeSvg:v.a,UrlTypeSvg:b.a,MediaPreview:I["a"]},props:{template:{type:Object,default:function(){return null}},selectedTemplateIdList:{type:Array,default:function(){return[]}}},watch:{selectedTemplateIdList:function(e){this.$logger.info("selectedTemplateIdList ",e),this.selectIds=e}},computed:{},mounted:function(){},data:function(){return{selectIds:[],templateData:{},loading:!0,loadingClass:!1,data:null,subPreviewVisible:!1}},mixins:[T["a"],_["a"]],created:function(){this.loadData()},methods:{loadData:function(){var e=this;this.templateData=this.template,this.$logger.info("selectedTemplateIdList ",this.selectedTemplateIdList),this.selectIds=this.selectedTemplateIdList,this.templateData.type===k["e"].task?(this.loading=!0,Object(L["d"])({taskId:this.templateData.id}).then((function(t){if(e.$logger.info("task loadThumbnail response",t.result),t.code!==e.ErrorCode.ppt_google_token_expires&&t.code!==e.ErrorCode.ppt_forbidden){var a=t.result.pageObjects;e.templateData.pageObjectIds=[],a.forEach((function(t){e.templateData.pageObjectIds.push(t.id),e.thumbnailList.push({contentUrl:t.contentUrl,id:t.pageObjectId}),e.$logger.info("current thumbnailList ",e.thumbnailList)}))}})).finally((function(){e.loading=!1,e.getClassInfo(e.templateData.presentationId)}))):(this.loading=!1,this.templateData.images.forEach((function(t,a){e.thumbnailList.push({contentUrl:t,id:e.templateData.pageObjectIds[a]})})),this.getClassInfo(this.templateData.presentationId))},handleAuthCallback:function(){this.$logger.info("handleAuthCallback"),this.loadData()},handleGotoImgIndex:function(e){this.$logger.info("handleGotoImgIndex "+e),this.currentImgIndex=e,this.$refs.carousel.goTo(e)},handleSelectTemplate:function(e){this.$logger.info("handleSelectTemplate "+this.templateData.name),S["b"].$emit(S["a"].ToggleSelectContentItem,this.templateData,e)},handlePreviewMaterial:function(e){this.$logger.info("handlePreviewMaterial "+e),"tip"!==e.type&&window.open(e.url,"_blank")}}},x=M,A=(a("ff58"),a("0c7c")),D=Object(A["a"])(x,i,s,!1,null,"18f143d6",null);t["a"]=D.exports},e76a:function(e,t,a){"use strict";a("4768")},ec87:function(e,t,a){},ed70:function(e,t){e.exports="data:image/png;base64,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"},f424:function(e,t,a){},f8935:function(e,t,a){var i=a("b2b7");e.exports={__esModule:!0,default:i.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"23.635",viewBox:"0 0 25 23.635"},children:[{tag:"g",attrsMap:{id:"蓝色文件夹",transform:"translate(-70.998 -72.533)"},children:[{tag:"path",attrsMap:{id:"路径_393","data-name":"路径 393",style:"fill: #4273f6;",class:"cls-1",d:"M93.425,96.167h-15.9A4.639,4.639,0,0,1,73,91.443V77.256a4.636,4.636,0,0,1,4.519-4.723l3.19.056a2.244,2.244,0,0,1,1.517.6l2.386,2.244a2.238,2.238,0,0,0,1.517.6h7.3a4.637,4.637,0,0,1,4.519,4.723v10.7a4.642,4.642,0,0,1-4.521,4.725Z",transform:"translate(-1.949)"}},{tag:"path",attrsMap:{id:"路径_394","data-name":"路径 394",style:"fill: #465cdb;\n        opacity: 0.69;",class:"cls-2",d:"M92.217,350.112H78.981a5.913,5.913,0,0,1-5.85-5.941V335.8a1.288,1.288,0,0,1,1.278-1.3H96.788a1.289,1.289,0,0,1,1.278,1.3v8.365a5.908,5.908,0,0,1-5.847,5.942Z",transform:"translate(-2.073 -254.958)"}},{tag:"path",attrsMap:{id:"路径_395","data-name":"路径 395",style:" fill: #fff;",class:"cls-3",d:"M177.619,318.685H160.68a1.6,1.6,0,0,1-1.575-1.606v-8.956a1.6,1.6,0,0,1,1.575-1.606h16.94a1.6,1.6,0,0,1,1.575,1.606v8.954a1.6,1.6,0,0,1-1.575,1.61Z",transform:"translate(-85.625 -227.596)"}},{tag:"path",attrsMap:{id:"路径_396","data-name":"路径 396",style:" fill: #fff; opacity: 0.16;",class:"cls-4",d:"M179.624,299.657h-16.94a1.6,1.6,0,0,1-1.575-1.606v-8.957a1.6,1.6,0,0,1,1.575-1.606h16.94a1.6,1.6,0,0,1,1.575,1.606v8.954A1.6,1.6,0,0,1,179.624,299.657Z",transform:"translate(-87.573 -209.086)"}},{tag:"path",attrsMap:{id:"路径_397","data-name":"路径 397",style:"fill: #4273f6;",class:"cls-1",d:"M93.371,418.174h-15.8A4.621,4.621,0,0,1,73,413.532V403.5H97.94v10.033a4.616,4.616,0,0,1-4.569,4.643Z",transform:"translate(-1.948 -322.007)"}},{tag:"path",attrsMap:{id:"路径_398","data-name":"路径 398",style:"fill: #5066fb;\n        opacity: 0.14;",class:"cls-5",d:"M91.367,747.612H75.57A4.621,4.621,0,0,1,71,742.97v-.484H95.936v.484a4.616,4.616,0,0,1-4.569,4.643Z",transform:"translate(0 -651.445)"}},{tag:"path",attrsMap:{id:"路径_399","data-name":"路径 399",style:" fill: #5d75ce;\n        opacity: 0.52;",class:"cls-6",d:"M347.708,457.546h-5.143a2.043,2.043,0,1,1,0-4.085h5.14a2.043,2.043,0,1,1,0,4.085Z",transform:"translate(-262.114 -370.394)"}},{tag:"path",attrsMap:{id:"路径_400","data-name":"路径 400",style:" fill: #ffd629;",class:"cls-7",d:"M372.261,471.719H367.7a1.619,1.619,0,1,1,0-3.239h4.561a1.619,1.619,0,0,1,0,3.239Z",transform:"translate(-286.952 -384.99)"}}]}]})}},fa0b:function(e,t,a){"use strict";a("7286")},faaa:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dir-icon"},["blue"===e.dirType?i("blue-dir-svg",{staticClass:"blue"}):"yellow"===e.dirType?i("yellow-dir-svg",{staticClass:"yellow"}):"opened"===e.dirType?i("open-dir-svg",{staticClass:"opened"}):e.contentType===e.typeMap.task?i("img",{attrs:{src:a("ed70")}}):e.contentType===e.typeMap["unit-plan"]?i("img",{attrs:{src:a("27f0")}}):(e.contentType,e.typeMap.evaluation,i("img",{attrs:{src:a("2ae5")}}))],1)},s=[],n=(a("a9e3"),a("f8935")),r=a.n(n),o=a("20de"),l=a.n(o),c=a("6f6b"),d=a.n(c),u=a("3f76"),p={name:"DirIcon",components:{BlueDirSvg:r.a,YellowDirSvg:l.a,OpenDirSvg:d.a},props:{dirType:{type:String,default:null},contentType:{type:Number,default:null}},data:function(){return{typeMap:u["e"]}}},h=p,g=(a("c164"),a("0c7c")),m=Object(g["a"])(h,i,s,!1,null,"1cf1c170",null);t["a"]=m.exports},ff58:function(e,t,a){"use strict";a("870d")}}]);