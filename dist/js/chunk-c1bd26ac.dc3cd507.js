(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c1bd26ac"],{"0f7f":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-full-form-wrapper",attrs:{id:"formRoot"}},[n("fixed-form-header",{scopedSlots:e._u([{key:"header",fn:function(){return[n("form-header",{attrs:{title:"Login & Security","show-share":!1,"show-collaborate":!1,"is-preview-mode":!0},on:{back:e.goBack},scopedSlots:e._u([{key:"back",fn:function(){return[n("img",{staticClass:"single-logo-img",attrs:{src:o("be50"),alt:"classcipe"},on:{click:function(t){return t.stopPropagation(),e.$router.push("/")}}})]},proxy:!0},{key:"left",fn:function(){return[n("a-space",{attrs:{size:5,align:"center"},on:{click:function(e){e.stopPropagation()}}},[n("label",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.$router.push("/account/info")}}},[e._v("Account Info")]),n("label",{attrs:{for:""}},[e._v(">")]),n("label",{staticStyle:{"font-weight":"normal"}},[e._v("Login & Security")])])]},proxy:!0},{key:"right",fn:function(){},proxy:!0}])})]},proxy:!0}])}),n("div",{staticClass:"form-content"},[n("div",{staticClass:"form-content-item"},[n("div",{staticClass:"content-item-title"},[e._v("Login")]),n("div",{staticClass:"content-item-child"},[n("div",{staticClass:"item-child"},[n("div",{staticClass:"item-child-title"},[e._v("Password")]),n("div",{staticClass:"item-child-content"},[n("div",{staticClass:"child-content-item"},[n("label",{attrs:{for:""}},[e._v("Last updated "+e._s(e.getUpdateTime)+" ago")]),n("a-button",{attrs:{type:"primary"},on:{click:e.handleReset}},[e._v("update")])],1)])])])]),n("div",{staticClass:"form-content-item"},[n("div",{staticClass:"content-item-title"},[e._v("Social accounts")]),n("div",{staticClass:"content-item-child"},[n("div",{staticClass:"item-child"},[n("div",{staticClass:"item-child-title"},[e._v("Google Account")]),n("div",{staticClass:"item-child-content"},[n("div",{staticClass:"child-content-item"},[n("label",{attrs:{for:""}},[e._v(e._s(e.googleAuthToken?e.googleAuthToken.email+" connected":"Not connect"))]),e.googleAuthToken?n("a-button",{attrs:{loading:e.loading,disabled:!0,type:"primary"},on:{click:function(t){return e.connect("googleAuthToken")}}},[e._v("disconnect")]):n("a-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.connect("googleAuthToken")}}},[e._v("connect")])],1)])]),n("div",{staticClass:"item-child"},[n("div",{staticClass:"item-child-title"},[e._v("Zoom Account")]),n("div",{staticClass:"item-child-content"},[n("div",{staticClass:"child-content-item"},[n("label",{attrs:{for:""}},[e._v(e._s(e.zoomAuthToken?e.zoomAuthToken.email+" connected":"Not connect"))]),e.zoomAuthToken?n("a-button",{attrs:{loading:e.loading,disabled:e.onlyOneAuth,type:"primary"},on:{click:function(t){return e.disconnect("zoomAuthToken")}}},[e._v("disconnect")]):n("a-button",{attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.connect("zoomAuthToken")}}},[e._v("connect")])],1)])])])])]),n("a-modal",{attrs:{destroyOnClose:"",title:"Reset Password",width:"600px",footer:null},model:{value:e.passwordVis,callback:function(t){e.passwordVis=t},expression:"passwordVis"}},[n("reset-password",{on:{save:e.handleClose}})],1)],1)},r=[],a=o("1da1"),i=o("5530"),s=(o("96cf"),o("4de4"),o("f93e")),c=o("6e84"),u=o("21fb"),l=o("8a30"),d=o("2f62"),f=o("dbdc"),h=o("9fb0"),m=o("ca00"),p={computed:Object(i["a"])({},Object(d["e"])({goolgeAccessToken:function(e){var t;return null===(t=e.user.info.googleAuthToken)||void 0===t?void 0:t.accessToken},googleRefreshToken:function(e){var t;return null===(t=e.user.info.googleAuthToken)||void 0===t?void 0:t.refreshToken}})),created:function(){window.addEventListener("message",this.handleGoogleAuthCallback)},beforeDestroy:function(){window.removeEventListener("message",this.handleGoogleAuthCallback)},methods:{goToGoogleAuth:function(){var e=this.$store.getters.email;this.$logger.info("goToGoogleAuth email:",e);var t=Object(f["b"])("google");t+="?role=teacher",t+="&channelId=".concat(Object(m["getCookie"])(h["v"])),t+="&callbackUrl=",t+=f["c"],this.callbackUrl&&window.sessionStorage.setItem(s["B"],Object(m["getUrlWithNoParams"])(this.callbackUrl)),window.sessionStorage.setItem("SESSION_AUTH_TYPE","google"),this.$logger.info("full auth url ",t);var o=600,n=800,r=(window.screen.availHeight-30-o)/2,a=(window.screen.availWidth-10-n)/2,i="width="+n+",height="+o+",menubar=yes,location=yes,resizable=yes,scrollbars=true,top="+r+",left="+a,c=window.open(t,"_blank",i);c||alert("The google authorization window is blocked by the browser, please allow the authorization window to pop up and then refresh the page.")},handleGoogleAuthCallback:function(e){var t=e.data;t&&"authUpdate"===t.event&&"google"===t.authType&&(this.$logger.info("google auth update!"),window.sessionStorage.removeItem("SESSION_AUTH_TYPE"),this.$store.dispatch("GetInfo"))},checkGoogleAuthExpired:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["a"])("google",e.$store.getters.email);case 2:if(o=t.sent,e.$logger.info("checkGoogleAuthExpired",o),0!==o.code||!o.success){t.next=9;break}return e.$logger.info("google auth no expired!"),t.abrupt("return",!0);case 9:return t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t)})))()},checkGoogleAuth:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.goolgeAccessToken){t.next=5;break}return e.goToGoogleAuth(),t.abrupt("return",!1);case 5:return t.next=7,e.checkGoogleAuthExpired();case 7:if(o=t.sent,o){t.next=14;break}return e.$logger.info("google auth already expired"),e.goToGoogleAuth(),t.abrupt("return",!1);case 14:return e.$logger.info("google auth still no expired"),t.abrupt("return",!0);case 16:case"end":return t.stop()}}),t)})))()},unbindGoogleAuth:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.goolgeAccessToken){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Object(f["d"])("google");case 6:return o=t.sent,o.success&&0===o.code&&(e.$message.success("Unbind successfully"),e.$store.dispatch("GetInfo")),t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})))()}}},g={computed:Object(i["a"])({},Object(d["e"])({microsoftAccessToken:function(e){var t;return null===(t=e.user.info.mircosoftAuthToken)||void 0===t?void 0:t.accessToken},microsoftRefreshToken:function(e){var t;return null===(t=e.user.info.mircosoftAuthToken)||void 0===t?void 0:t.refreshToken}})),created:function(){window.addEventListener("message",this.handleMicrosoftAuthCallback)},beforeDestroy:function(){window.removeEventListener("message",this.handleMicrosoftAuthCallback)},methods:{goToMicrosoftAuth:function(){var e=this.$store.getters.email;this.$logger.info("goToMicrosoftAuth email:",e);var t=Object(f["b"])("microsoft");t+="?role=teacher",t+="&email=".concat(e),t+="&slideAuth=2",t+="&channelId=".concat(Object(m["getCookie"])(h["v"])),t+="&callbackUrl=",t+=f["c"],this.callbackUrl&&window.sessionStorage.setItem(s["B"],Object(m["getUrlWithNoParams"])(this.callbackUrl)),window.sessionStorage.setItem("SESSION_AUTH_TYPE","microsoft"),this.$logger.info("full auth url ",t);var o=600,n=800,r=(window.screen.availHeight-30-o)/2,a=(window.screen.availWidth-10-n)/2,i="width="+n+",height="+o+",menubar=yes,location=yes,resizable=yes,scrollbars=true,top="+r+",left="+a,c=window.open(t,"_blank",i);c||alert("The microsoft authorization window is blocked by the browser, please allow the authorization window to pop up and then refresh the page.")},handleMicrosoftAuthCallback:function(e){var t=e.data;t&&"authUpdate"===t.event&&"microsoft"===t.authType&&(this.$logger.info("microsoft auth update!"),window.sessionStorage.removeItem("SESSION_AUTH_TYPE"),this.$store.dispatch("GetInfo"))},checkMicrosoftAuthExpired:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["a"])("microsoft",e.$store.getters.email);case 2:if(o=t.sent,e.$logger.info("checkMicrosoftAuthExpired",o),0!==o.code||!o.success){t.next=9;break}return e.$logger.info("microsoft auth no expired!"),t.abrupt("return",!0);case 9:return t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t)})))()},checkMicrosoftAuth:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.microsoftAccessToken){t.next=5;break}return e.goToMicrosoftAuth(),t.abrupt("return",!1);case 5:return t.next=7,e.checkMicrosoftAuthExpired();case 7:if(o=t.sent,o){t.next=14;break}return e.$logger.info("microsoft auth already expired"),e.goToMicrosoftAuth(),t.abrupt("return",!1);case 14:return e.$logger.info("microsoft auth still no expired"),t.abrupt("return",!0);case 16:case"end":return t.stop()}}),t)})))()},unbindMicrosoftAuth:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.microsoftAccessToken){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Object(f["d"])("microsoft");case 6:return o=t.sent,o.success&&0===o.code&&(e.$message.success("Unbind successfully"),e.$store.dispatch("GetInfo")),t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})))()}}},v=o("b5ff8"),b=o("b5a9"),w=o("20ae"),k=o("f371"),y=o("c1df"),T=o.n(y),C=o("4fcf"),x=C.debounce,_={name:"PersonaSecurity",mixins:[c["a"],u["a"],p,l["a"],g],components:{FixedFormHeader:v["a"],FormHeader:b["a"],CustomTextButton:w["a"],ResetPassword:k["a"]},data:function(){return{USER_MODE:s["U"],loading:!1,queryParams:{keywords:""},datas:[],debounceInit:null,passwordVis:!1}},created:function(){this.initData(),this.debounceInit=x(this.initData,300)},computed:Object(i["a"])(Object(i["a"])({},Object(d["e"])({userMode:function(e){return e.app.userMode},currentSchool:function(e){return e.user.currentSchool},info:function(e){return e.user.info}})),{},{getUpdateTime:function(){if(this.info){var e=this.info.passwordUpdateTime||this.info.createTime,t=T()().diff(T()(e),"days");return t+" days"}return""},mircosoftAuthToken:function(){return this.info&&this.info.mircosoftAuthToken&&this.info.mircosoftAuthToken.email?this.info.mircosoftAuthToken:null},googleAuthToken:function(){return this.info&&this.info.googleAuthToken&&this.info.googleAuthToken.email?this.info.googleAuthToken:null},zoomAuthToken:function(){return this.info&&this.info.zoomAuthToken&&this.info.zoomAuthToken.email?this.info.zoomAuthToken:null},onlyOneAuth:function(){var e=[this.mircosoftAuthToken,this.googleAuthToken,this.zoomAuthToken].filter((function(e){return null===e})).length;return 2===e}}),methods:{goBack:function(){this.$router.go(-1)},handleSchoolChange:function(e){this.userMode===s["U"].SCHOOL&&this.debounceInit()},handleModeChange:function(e){this.debounceInit()},initData:function(){this.loadData()},loadData:function(){},handleReset:function(){this.passwordVis=!0},handleClose:function(){this.loadData()},disconnect:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if("zoomAuthToken"!==e){o.next=7;break}return t.loading=!0,o.next=4,t.unbindZoomAuth();case 4:t.loading=!1,o.next=19;break;case 7:if("googleAuthToken"!==e){o.next=14;break}return t.loading=!0,o.next=11,t.unbindGoogleAuth();case 11:t.loading=!1,o.next=19;break;case 14:if("mircosoftAuthToken"!==e){o.next=19;break}return t.loading=!0,o.next=18,t.unbindMicrosoftAuth();case 18:t.loading=!1;case 19:case"end":return o.stop()}}),o)})))()},connect:function(e){"zoomAuthToken"===e?this.goToZoomAuth():"googleAuthToken"===e?this.goToGoogleAuth():"mircosoftAuthToken"===e&&this.goToMicrosoftAuth()}}},A=_,O=(o("97b8"),o("0c7c")),$=Object(O["a"])(A,n,r,!1,null,"0c54c9df",null);t["default"]=$.exports},"133a":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.svgBaseProps=void 0,t.getThemeFromTypeName=u,t.removeTypeTheme=l,t.withThemeSuffix=d,t.alias=f;var n=o("a7e2"),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}t.svgBaseProps={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"};var i=/-fill$/,s=/-o$/,c=/-twotone$/;function u(e){var t=null;return i.test(e)?t="filled":s.test(e)?t="outlined":c.test(e)&&(t="twoTone"),t}function l(e){return e.replace(i,"").replace(s,"").replace(c,"")}function d(e,t){var o=e;return"filled"===t?o+="-fill":"outlined"===t?o+="-o":"twoTone"===t?o+="-twotone":(0,r["default"])(!1,"Icon","This icon '"+e+"' has unknown theme '"+t+"'"),o}function f(e){var t=e;switch(e){case"cross":t="close";break;case"interation":t="interaction";break;case"canlendar":t="calendar";break;case"colum-height":t="column-height";break;default:}return(0,r["default"])(t===e,"Icon","Icon '"+e+"' was a typo and is now deprecated, please use '"+t+"' instead."),t}},"1af7":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("8e8e"),r=T(n),a=o("6042"),i=T(a),s=o("2b0e"),c=T(s),u=o("7b44"),l=T(u),d=o("73c8"),f=o("48bb"),h=T(f),m=o("a5a7"),p=T(m),g=o("5c25"),v=T(g),b=o("9d03"),w=T(b),k=o("baff"),y=T(k);function T(e){return e&&e.__esModule?e:{default:e}}function C(){}var x=0,_=Date.now();function A(){return"rcNotification_"+_+"_"+x++}var O={mixins:[h["default"]],props:{prefixCls:l["default"].string.def("rc-notification"),transitionName:l["default"].string,animation:l["default"].oneOfType([l["default"].string,l["default"].object]).def("fade"),maxCount:l["default"].number,closeIcon:l["default"].any},data:function(){return{notices:[]}},methods:{getTransitionName:function(){var e=this.$props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t},add:function(e){var t=e.key=e.key||A(),o=this.$props.maxCount;this.setState((function(n){var r=n.notices,a=r.map((function(e){return e.key})).indexOf(t),i=r.concat();return-1!==a?i.splice(a,1,e):(o&&r.length>=o&&(e.updateKey=i[0].updateKey||i[0].key,i.shift()),i.push(e)),{notices:i}}))},remove:function(e){this.setState((function(t){return{notices:t.notices.filter((function(t){return t.key!==e}))}}))}},render:function(e){var t=this,o=this.prefixCls,n=this.notices,r=this.remove,a=this.getTransitionName,s=(0,v["default"])(a()),c=n.map((function(a,i){var s=Boolean(i===n.length-1&&a.updateKey),c=a.updateKey?a.updateKey:a.key,u=a.content,l=a.duration,f=a.closable,h=a.onClose,m=a.style,g=a["class"],v=(0,p["default"])(r.bind(t,a.key),h),b={props:{prefixCls:o,duration:l,closable:f,update:s,closeIcon:(0,d.getComponentFromProp)(t,"closeIcon")},on:{close:v,click:a.onClick||C},style:m,class:g,key:c};return e(w["default"],b,["function"===typeof u?u(e):u])})),u=(0,i["default"])({},o,1),l=(0,d.getStyle)(this);return e("div",{class:u,style:l||{top:"65px",left:"50%"}},[e("transition-group",s,[c])])},newInstance:function(e,t){var o=e||{},n=o.getContainer,a=o.style,i=o["class"],s=(0,r["default"])(o,["getContainer","style","class"]),u=document.createElement("div");if(n){var l=n();l.appendChild(u)}else document.body.appendChild(u);var d=y["default"].Vue||c["default"];new d({el:u,mounted:function(){var e=this;this.$nextTick((function(){t({notice:function(t){e.$refs.notification.add(t)},removeNotice:function(t){e.$refs.notification.remove(t)},component:e,destroy:function(){e.$destroy(),e.$el.parentNode.removeChild(e.$el)}})}))},render:function(){var e=arguments[0],t={props:s,ref:"notification",style:a,class:i};return e(O,t)}})}};t["default"]=O},"1db9":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.warning=r,t.note=a,t.resetWarned=i,t.call=s,t.warningOnce=c,t.noteOnce=u;var n={};function r(e,t){0}function a(e,t){0}function i(){n={}}function s(e,t,o){t||n[o]||(e(!1,o),n[o]=!0)}function c(e,t){s(r,e,t)}function u(e,t){s(a,e,t)}t["default"]=c},"218c":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("41b2"),r=u(n),a=o("8b54"),i=u(a),s=o("50f6"),c=u(s);function u(e){return e&&e.__esModule?e:{default:e}}var l={},d=4.5,f="24px",h="24px",m="topRight",p=function(){return document.body},g=null;function v(e){var t=e.duration,o=e.placement,n=e.bottom,r=e.top,a=e.getContainer,i=e.closeIcon;void 0!==t&&(d=t),void 0!==o&&(m=o),void 0!==n&&(h="number"===typeof n?n+"px":n),void 0!==r&&(f="number"===typeof r?r+"px":r),void 0!==a&&(p=a),void 0!==i&&(g=i)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h,n=void 0;switch(e){case"topLeft":n={left:0,top:t,bottom:"auto"};break;case"topRight":n={right:0,top:t,bottom:"auto"};break;case"bottomLeft":n={left:0,top:"auto",bottom:o};break;default:n={right:0,top:"auto",bottom:o};break}return n}function w(e,t){var o=e.prefixCls,n=e.placement,r=void 0===n?m:n,a=e.getContainer,s=void 0===a?p:a,u=e.top,d=e.bottom,f=e.closeIcon,h=void 0===f?g:f,v=o+"-"+r;l[v]?t(l[v]):i["default"].newInstance({prefixCls:o,class:o+"-"+r,style:b(r,u,d),getContainer:s,closeIcon:function(e){var t="function"===typeof h?h(e):h,n=e("span",{class:o+"-close-x"},[t||e(c["default"],{class:o+"-close-icon",attrs:{type:"close"}})]);return n}},(function(e){l[v]=e,t(e)}))}var k={success:"check-circle-o",info:"info-circle-o",error:"close-circle-o",warning:"exclamation-circle-o"};function y(e){var t=e.icon,o=e.type,n=e.description,r=e.message,a=e.btn,i=e.prefixCls||"ant-notification",s=i+"-notice",u=void 0===e.duration?d:e.duration,l=null;if(t)l=function(e){return e("span",{class:s+"-icon"},["function"===typeof t?t(e):t])};else if(o){var f=k[o];l=function(e){return e(c["default"],{class:s+"-icon "+s+"-icon-"+o,attrs:{type:f}})}}var h=e.placement,m=e.top,p=e.bottom,g=e.getContainer,v=e.closeIcon;w({prefixCls:i,placement:h,top:m,bottom:p,getContainer:g,closeIcon:v},(function(t){t.notice({content:function(e){return e("div",{class:l?s+"-with-icon":""},[l&&l(e),e("div",{class:s+"-message"},[!n&&l?e("span",{class:s+"-message-single-line-auto-margin"}):null,"function"===typeof r?r(e):r]),e("div",{class:s+"-description"},["function"===typeof n?n(e):n]),a?e("span",{class:s+"-btn"},["function"===typeof a?a(e):a]):null])},duration:u,closable:!0,onClose:e.onClose,onClick:e.onClick,key:e.key,style:e.style||{},class:e["class"]})}))}var T={open:y,close:function(e){Object.keys(l).forEach((function(t){return l[t].removeNotice(e)}))},config:v,destroy:function(){Object.keys(l).forEach((function(e){l[e].destroy(),delete l[e]}))}};["success","info","warning","error"].forEach((function(e){T[e]=function(t){return T.open((0,r["default"])({},t,{type:e}))}})),T.warn=T.warning,t["default"]=T},"21fb":function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));o("b0c0");var n={data:function(){return{unwatch:null,routeName:this.$route.name}},created:function(){var e=this;this.unwatch=this.$store.watch((function(e){return e.user.currentSchool}),(function(t){return t&&e.$route.name===e.routeName&&e.handleSchoolChange(t)}))},computed:{},beforeDestroy:function(){this.unwatch&&this.unwatch()},methods:{handleSchoolChange:function(e){}}}},"50f6":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("92fa"),r=P(n),a=o("41b2"),i=P(a),s=o("6042"),c=P(s),u=o("9b57"),l=P(u),d=o("4d26"),f=P(d),h=o("3a9b"),m=E(h),p=o("8520"),g=P(p),v=o("7b44"),b=P(v),w=o("bbf5"),k=P(w),y=o("133a"),T=o("a7e2"),C=P(T),x=o("3f5f"),_=P(x),A=o("f3dc"),O=o("73c8"),$=o("baff"),M=P($);function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t["default"]=e,t}function P(e){return e&&e.__esModule?e:{default:e}}g["default"].add.apply(g["default"],(0,l["default"])(Object.keys(m).map((function(e){return m[e]})))),(0,A.setTwoToneColor)("#1890ff");var I="outlined",S=void 0;function j(e,t,o){var n,a=o.$props,s=o.$slots,u=(0,O.getListeners)(o),l=a.type,d=a.component,h=a.viewBox,m=a.spin,p=a.theme,v=a.twoToneColor,b=a.rotate,w=a.tabIndex,k=(0,O.filterEmpty)(s["default"]);k=0===k.length?void 0:k,(0,C["default"])(Boolean(l||d||k),"Icon","Icon should have `type` prop or `component` prop or `children`.");var T=(0,f["default"])((n={},(0,c["default"])(n,"anticon",!0),(0,c["default"])(n,"anticon-"+l,!!l),n)),x=(0,f["default"])((0,c["default"])({},"anticon-spin",!!m||"loading"===l)),_=b?{msTransform:"rotate("+b+"deg)",transform:"rotate("+b+"deg)"}:void 0,A={attrs:(0,i["default"])({},y.svgBaseProps,{viewBox:h}),class:x,style:_};h||delete A.attrs.viewBox;var $=function(){if(d)return e(d,A,[k]);if(k){(0,C["default"])(Boolean(h)||1===k.length&&"use"===k[0].tag,"Icon","Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon.");var t={attrs:(0,i["default"])({},y.svgBaseProps),class:x,style:_};return e("svg",(0,r["default"])([t,{attrs:{viewBox:h}}]),[k])}if("string"===typeof l){var o=l;if(p){var n=(0,y.getThemeFromTypeName)(l);(0,C["default"])(!n||p===n,"Icon","The icon name '"+l+"' already specify a theme '"+n+"', the 'theme' prop '"+p+"' will be ignored.")}return o=(0,y.withThemeSuffix)((0,y.removeTypeTheme)((0,y.alias)(o)),S||p||I),e(g["default"],{attrs:{focusable:"false",type:o,primaryColor:v},class:x,style:_})}},M=w;void 0===M&&"click"in u&&(M=-1);var E={attrs:{"aria-label":l&&t.icon+": "+l,tabIndex:M},on:u,class:T,staticClass:""};return e("i",E,[$()])}var z={name:"AIcon",props:{tabIndex:b["default"].number,type:b["default"].string,component:b["default"].any,viewBox:b["default"].any,spin:b["default"].bool.def(!1),rotate:b["default"].number,theme:b["default"].oneOf(["filled","outlined","twoTone"]),twoToneColor:b["default"].string,role:b["default"].string},render:function(e){var t=this;return e(_["default"],{attrs:{componentName:"Icon"},scopedSlots:{default:function(o){return j(e,o,t)}}})}};z.createFromIconfontCN=k["default"],z.getTwoToneColor=A.getTwoToneColor,z.setTwoToneColor=A.setTwoToneColor,z.install=function(e){e.use(M["default"]),e.component(z.name,z)},t["default"]=z},"5c25":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("401b"),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var i=function(){},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.beforeEnter,n=t.enter,a=t.afterEnter,s=t.leave,c=t.afterLeave,u=t.appear,l=void 0===u||u,d=t.tag,f=t.nativeOn,h={props:{appear:l,css:!1},on:{beforeEnter:o||i,enter:n||function(t,o){(0,r["default"])(t,e+"-enter",o)},afterEnter:a||i,leave:s||function(t,o){(0,r["default"])(t,e+"-leave",o)},afterLeave:c||i},nativeOn:f};return d&&(h.tag=d),h};t["default"]=s},"6e84":function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));o("b0c0");var n={data:function(){return{unwatch:null,routeName:this.$route.name}},computed:{redirectUrl:function(){return"student"===this.$store.state.user.currentRole?"/student/main/my-task":"/account/info"}},created:function(){var e=this;this.unwatch=this.$store.watch((function(e){return e.app.userMode}),(function(t){t&&e.$route.name===e.routeName&&(e.handleModeChange(t),e.routeInMode())})),this.routeInMode()},beforeDestroy:function(){this.unwatch&&this.unwatch()},methods:{routeInMode:function(){this.$route.meta.mode&&this.$route.meta.mode!==this.$store.state.app.userMode&&this.$router.push({path:this.redirectUrl})},handleModeChange:function(e){}}}},"8a30":function(e,t,o){"use strict";o.d(t,"a",(function(){return f}));var n=o("1da1"),r=o("5530"),a=(o("96cf"),o("2f62")),i=o("dbdc"),s=o("f93e"),c=o("9fb0"),u=o("ca00"),l=o("218c"),d=o.n(l),f={computed:Object(r["a"])(Object(r["a"])({},Object(a["e"])({zoomAccessToken:function(e){var t;return null===(t=e.user.info.zoomAuthToken)||void 0===t?void 0:t.email},zoomRefreshToken:function(e){var t;return null===(t=e.user.info.zoomAuthToken)||void 0===t?void 0:t.refreshToken}})),{},{zoomMeetingCapacity:function(){var e,t=null===(e=this.$store.state.user.info.zoomAuthToken)||void 0===e?void 0:e.extInfo;if(t){var o=JSON.parse(t);return o.meeting_capacity}return 100}}),created:function(){window.addEventListener("message",this.handleZoomAuthCallback)},beforeDestroy:function(){window.removeEventListener("message",this.handleZoomAuthCallback)},methods:{goToZoomAuth:function(){var e=this.$store.getters.email;this.$logger.info("goToZoomAuth email:",e);var t=Object(i["b"])("zoom");t+="?role=teacher",t+="&email=".concat(e),t+="&slideAuth=2",t+="&channelId=".concat(Object(u["getCookie"])(c["v"])),t+="&callbackUrl=",t+=i["c"],this.callbackUrl&&window.sessionStorage.setItem(s["B"],Object(u["getUrlWithNoParams"])(this.callbackUrl)),window.sessionStorage.setItem("SESSION_AUTH_TYPE","zoom"),this.$logger.info("full auth url ",t);var o=600,n=800,r=(window.screen.availHeight-30-o)/2,a=(window.screen.availWidth-10-n)/2,l="width="+n+",height="+o+",menubar=yes,location=yes,resizable=yes,scrollbars=true,top="+r+",left="+a,d=window.open(t,"_blank",l);d||alert("The zoom authorization window is blocked by the browser, please allow the authorization window to pop up and then refresh the page.")},handleZoomAuthCallback:function(e){var t=e.data;t&&"authUpdate"===t.event&&"zoom"===t.authType&&(this.$logger.info("zoom auth update!"),window.sessionStorage.removeItem("SESSION_AUTH_TYPE"),this.$store.dispatch("GetInfo"),this.$store.commit("SET_ZOOM_CHECKED",!0))},checkZoomAuthExpired:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["a"])("zoom",e.$store.getters.email);case 2:if(o=t.sent,e.$logger.info("checkZoomAuthExpired",o),0!==o.code||!o.success){t.next=9;break}return e.$logger.info("zoom auth no expired!"),t.abrupt("return",!0);case 9:return e.$store.commit("SET_ZOOM_CHECKED",!1),d.a.warning({message:"Reminder",description:o.message,icon:function(e){return e("a-icon",{props:{type:"alert"}})}}),t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t)})))()},checkZoomAuth:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.zoomAccessToken){t.next=5;break}return e.$store.commit("SET_ZOOM_CHECKED",!1),t.abrupt("return",!1);case 5:return t.next=7,e.checkZoomAuthExpired();case 7:if(o=t.sent,o){t.next=14;break}return e.$logger.info("zoom auth already expired"),e.$store.commit("SET_ZOOM_CHECKED",!1),t.abrupt("return",!1);case 14:return e.$logger.info("zoom auth still no expired"),e.$store.commit("SET_ZOOM_CHECKED",!0),t.abrupt("return",!0);case 17:case"end":return t.stop()}}),t)})))()},unbindZoomAuth:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.zoomAccessToken){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Object(i["d"])("zoom");case 6:return o=t.sent,o.success&&0===o.code&&(e.$message.success("Unbind successfully"),e.$store.dispatch("GetInfo"),e.$store.commit("SET_ZOOM_CHECKED",!1)),t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})))()}}}},"8b54":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("1af7"),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}t["default"]=r["default"]},9754:function(e,t,o){},"97b8":function(e,t,o){"use strict";o("9754")},"9d03":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("6042"),r=l(n),a=o("7b44"),i=l(a),s=o("73c8"),c=o("48bb"),u=l(c);function l(e){return e&&e.__esModule?e:{default:e}}function d(){}t["default"]={mixins:[u["default"]],props:{duration:i["default"].number.def(1.5),closable:i["default"].bool,prefixCls:i["default"].string,update:i["default"].bool,closeIcon:i["default"].any},watch:{duration:function(){this.restartCloseTimer()}},mounted:function(){this.startCloseTimer()},updated:function(){this.update&&this.restartCloseTimer()},beforeDestroy:function(){this.clearCloseTimer(),this.willDestroy=!0},methods:{close:function(e){e&&e.stopPropagation(),this.clearCloseTimer(),this.__emit("close")},startCloseTimer:function(){var e=this;this.clearCloseTimer(),!this.willDestroy&&this.duration&&(this.closeTimer=setTimeout((function(){e.close()}),1e3*this.duration))},clearCloseTimer:function(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)},restartCloseTimer:function(){this.clearCloseTimer(),this.startCloseTimer()}},render:function(){var e,t=arguments[0],o=this.prefixCls,n=this.closable,a=this.clearCloseTimer,i=this.startCloseTimer,c=this.$slots,u=this.close,l=o+"-notice",f=(e={},(0,r["default"])(e,""+l,1),(0,r["default"])(e,l+"-closable",n),e),h=(0,s.getStyle)(this),m=(0,s.getComponentFromProp)(this,"closeIcon");return t("div",{class:f,style:h||{right:"50%"},on:{mouseenter:a,mouseleave:i,click:(0,s.getListeners)(this).click||d}},[t("div",{class:l+"-content"},[c["default"]]),n?t("a",{attrs:{tabIndex:"0"},on:{click:u},class:l+"-close"},[m||t("span",{class:l+"-close-x"})]):null])}}},a5a7:function(e,t,o){"use strict";function n(){var e=[].slice.call(arguments,0);return 1===e.length?e[0]:function(){for(var t=0;t<e.length;t++)e[t]&&e[t].apply&&e[t].apply(this,arguments)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},a7e2:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetWarned=void 0;var n=o("1db9"),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}t.resetWarned=n.resetWarned,t["default"]=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(0,r["default"])(e,"[antdv: "+t+"] "+o)}},bbf5:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("8e8e"),r=c(n);t["default"]=l;var a=o("50f6"),i=c(a),s=o("73c8");function c(e){return e&&e.__esModule?e:{default:e}}var u=new Set;function l(e){var t=e.scriptUrl,o=e.extraCommonProps,n=void 0===o?{}:o;if("undefined"!==typeof document&&"undefined"!==typeof window&&"function"===typeof document.createElement&&"string"===typeof t&&t.length&&!u.has(t)){var a=document.createElement("script");a.setAttribute("src",t),a.setAttribute("data-namespace",t),u.add(t),document.body.appendChild(a)}var c={functional:!0,name:"AIconfont",props:i["default"].props,render:function(e,t){var o=t.props,a=t.slots,c=t.listeners,u=t.data,l=o.type,d=(0,r["default"])(o,["type"]),f=a(),h=f["default"],m=null;l&&(m=e("use",{attrs:{"xlink:href":"#"+l}})),h&&(m=h);var p=(0,s.mergeProps)(n,u,{props:d,on:c});return e(i["default"],p,[m])}};return c}},dbdc:function(e,t,o){"use strict";o.d(t,"c",(function(){return a})),o.d(t,"b",(function(){return i})),o.d(t,"a",(function(){return s})),o.d(t,"d",(function(){return c}));o("498a"),o("d3b7"),o("25f0"),o("99af");var n=o("a18c"),r=o("b775"),a=window.location.origin+("hash"===n["a"].mode?"#":"")+"/user/auth-result",i=function(e){if(!e)throw new Error("getThirdAuthURL got a illegal source: "+e);switch(e.toString().trim()){case"google":return"/classcipe/thirdLogin/render/google";case"zoom":return"/classcipe/thirdLogin/render/zoom";case"microsoft":return"/classcipe/thirdLogin/render/microsoft";default:throw new Error("not config auth url for source["+e+"]")}};function s(e,t){return Object(r["d"])({url:"/classcipe/thirdLogin/".concat(e,"/refreshToken?email=").concat(t),method:"get"})}function c(e){return Object(r["d"])({url:"/classcipe/thirdLogin/".concat(e,"/unbind"),method:"get"})}},f371:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("a-form-model",e._b({ref:"form",attrs:{layout:"horizontal",model:e.formModel,rules:e.validatorRules}},"a-form-model",e.formItemLayout,!1),[e.needOld?o("a-form-model-item",{attrs:{label:"Old Password",prop:"password"}},[o("a-input-password",{attrs:{autocomplete:"off",required:!0,type:"password",placeholder:"input password"},model:{value:e.formModel.password,callback:function(t){e.$set(e.formModel,"password",t)},expression:"formModel.password"}})],1):e._e(),o("a-form-model-item",{attrs:{label:"New Password",prop:"newPassword"}},[o("a-input-password",{attrs:{autocomplete:"off",type:"password",placeholder:"input password"},model:{value:e.formModel.newPassword,callback:function(t){e.$set(e.formModel,"newPassword",t)},expression:"formModel.newPassword"}})],1),o("a-form-model-item",{attrs:{label:"Confirm Password",prop:"confirmPassword"}},[o("a-input-password",{attrs:{autocomplete:"off",type:"password",placeholder:"input password"},model:{value:e.formModel.confirmPassword,callback:function(t){e.$set(e.formModel,"confirmPassword",t)},expression:"formModel.confirmPassword"}})],1),o("a-form-model-item",{attrs:{wrapperCol:{offset:6,span:12},label:""}},[o("a-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.handleSave}},[e._v("update")])],1)],1)},r=[],a=(o("d3b7"),o("7ded")),i={name:"ResetPassword",props:{needOld:{type:Boolean,default:!0},saveFn:{type:Function,default:null}},data:function(){var e=this,t=/^(?=.*[a-zA-Z])(?=.*[0-9])[^]{8,}$/,o=function(e,t,o){if(!t)return o(new Error("Please input the password"));Object(a["b"])({password:t}).then((function(e){"Success"!==e.result?o(new Error("Incorrect password")):o()}))},n=function(o,n,r){""===n?r(new Error("Please input the password")):t.test(n)?(""!==e.formModel.confirmPassword&&e.$refs.form.validateField("confirmPassword"),r()):r(new Error("The password must be a combination of letters and numbers, and it must be 8 characters or more."))},r=function(t,o,n){""===o?n(new Error("Please input the password again")):o!==e.formModel.newPassword?n(new Error("Passwords did not match!")):n()};return{formModel:{password:"",newPassword:"",confirmPassword:""},formItemLayout:{labelCol:{span:6},wrapperCol:{span:18}},validatorRules:{password:[{required:!0,trigger:"change",message:"Please input the password"},{validator:o,trigger:"blur"}],newPassword:[{validator:n,trigger:"change"}],confirmPassword:[{validator:r,trigger:"change"}]},loading:!1}},methods:{handleSave:function(){var e=this;this.$refs.form.validate((function(t){t&&(e.loading=!0,e.saveFn?e.saveFn({newPassword:e.formModel.newPassword,oldPassword:e.formModel.password}).then((function(t){0===t.code&&e.$message.success("Update password successfully")})).finally((function(){e.loading=!1})):Object(a["a"])({newPassword:e.formModel.newPassword,oldPassword:e.formModel.password}).then((function(t){0===t.code&&e.$message.success("Update password successfully")})).finally((function(){e.loading=!1})))}))}}},s=i,c=o("0c7c"),u=Object(c["a"])(s,n,r,!1,null,"f6bcd576",null);t["a"]=u.exports},f3dc:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setTwoToneColor=i,t.getTwoToneColor=s;var n=o("8520"),r=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return r["default"].setTwoToneColors({primaryColor:e})}function s(){var e=r["default"].getTwoToneColors();return e.primaryColor}}}]);