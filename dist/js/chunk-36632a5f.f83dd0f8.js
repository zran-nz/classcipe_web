(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36632a5f"],{1354:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"30a63b0a-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/SchoolTeacher.vue?vue&type=template&id=2528a171&scoped=true&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{staticClass:"my-full-form-wrapper",attrs:{"id":"formRoot"}},[_c(\'fixed-form-header\',{scopedSlots:_vm._u([{key:"header",fn:function(){return [_c(\'form-header\',{attrs:{"title":"School Teacher","show-share":false,"show-collaborate":false,"is-preview-mode":true},on:{"back":_vm.goBack},scopedSlots:_vm._u([{key:"back",fn:function(){return [_c(\'img\',{staticClass:"single-logo-img",attrs:{"src":__webpack_require__("be50"),"alt":"classcipe"},on:{"click":function($event){$event.stopPropagation();return _vm.$router.push(\'/\')}}})]},proxy:true},{key:"left",fn:function(){return [_c(\'a-space\',{attrs:{"size":5,"align":"center"},on:{"click":function($event){$event.stopPropagation();}}},[_c(\'label\',{staticStyle:{"cursor":"pointer"},on:{"click":function($event){return _vm.$router.push(\'/account/info\')}}},[_vm._v("Account Info")]),_c(\'label\',{attrs:{"for":""}},[_vm._v(">")]),(_vm.onlyClass)?[_c(\'label\',{staticStyle:{"cursor":"pointer"},on:{"click":_vm.routerRefresh}},[_vm._v("School Teacher")]),_c(\'label\',{attrs:{"for":""}},[_vm._v(">")]),_c(\'label\',{staticStyle:{"font-weight":"normal"}},[_vm._v(_vm._s(_vm.onlyClass.name))])]:_c(\'label\',{staticStyle:{"font-weight":"normal"}},[_vm._v("School Teacher")])],2)]},proxy:true},{key:"right",fn:function(){return undefined},proxy:true}])})]},proxy:true}])}),_c(\'div\',{staticClass:"form-content"},[_c(\'div\',{staticClass:"status-tab"},[_c(\'div\',{staticClass:"tab-list"},[_c(\'div\',{class:{\'tab-item\': true, \'active\' : _vm.queryParam.schoolUserStatus === \'\'},on:{"click":function($event){return _vm.toggleTab(\'\')}}},[_vm._v("All")]),_vm._l((_vm.tabsList),function(item,index){return [_c(\'a-badge\',{key:\'types\'+index,class:{\'tab-item\': true, \'active\' : _vm.queryParam.schoolUserStatus === item.value},attrs:{"count":_vm.getBadge(item.value)}},[_c(\'div\',{on:{"click":function($event){return _vm.toggleTab(item.value)}}},[_vm._v(" "+_vm._s(item.label)+" ")])])]})],2),_c(\'div\',{staticClass:"opt-list"},[_c(\'custom-text-button\',{attrs:{"label":"Invite"},on:{"click":_vm.handleInvite}})],1)]),_c(\'div\',{staticClass:"filter-tab"},[_c(\'div\',{staticClass:"filter-search"},[_c(\'a-input-search\',{attrs:{"allow-clear":true,"placeholder":"Search"},on:{"search":_vm.searchQuery},model:{value:(_vm.queryParam.searchKey),callback:function ($$v) {_vm.$set(_vm.queryParam, "searchKey", $$v)},expression:"queryParam.searchKey"}})],1),_c(\'a-space\',{staticClass:"filter-opt"},[(_vm.queryParam.schoolUserStatus !== \'\')?_c(\'a-dropdown\',{attrs:{"disabled":_vm.selectedRowKeys.length === 0}},[_c(\'a-menu\',{attrs:{"slot":"overlay"},on:{"click":_vm.handleBatchOpt},slot:"overlay"},[(_vm.queryParam.schoolUserStatus === _vm.SCHOOL_USER_STATUS.INACTIVE.value)?_c(\'a-menu-item\',{key:\'ACT_\'+_vm.ACT.RESEND.value},[_vm._v(" Resend ")]):_vm._e(),(_vm.queryParam.schoolUserStatus === _vm.SCHOOL_USER_STATUS.ACTIVE.value)?_c(\'a-menu-item\',{key:\'ACT_\'+_vm.ACT.RESET.value},[_vm._v(" Reset password ")]):_vm._e(),(_vm.queryParam.schoolUserStatus === _vm.SCHOOL_USER_STATUS.PENDING.value)?_c(\'a-menu-item\',{key:\'ACT_\'+_vm.ACT.APPROVE.value},[_vm._v(" Approve ")]):_vm._e(),(_vm.queryParam.schoolUserStatus === _vm.SCHOOL_USER_STATUS.PENDING.value)?_c(\'a-menu-item\',{key:\'ACT_\'+_vm.ACT.REJECT.value},[_vm._v(" Reject ")]):_vm._e(),(_vm.queryParam.schoolUserStatus === _vm.SCHOOL_USER_STATUS.ARCHIVE.value)?_c(\'a-menu-item\',{key:\'ACT_\'+_vm.ACT.RESTORE.value},[_vm._v(" Restore ")]):_vm._e(),(_vm.queryParam.schoolUserStatus === _vm.SCHOOL_USER_STATUS.ACTIVE.value || _vm.queryParam.schoolUserStatus === _vm.SCHOOL_USER_STATUS.INACTIVE.value)?_c(\'a-menu-item\',{key:\'ACT_\'+_vm.ACT.ARCHIVE.value},[_vm._v(" Archive ")]):_vm._e(),(_vm.queryParam.schoolUserStatus === _vm.SCHOOL_USER_STATUS.ARCHIVE.value)?_c(\'a-menu-item\',{key:\'ACT_\'+_vm.ACT.DELETE.value},[_vm._v(" Delete ")]):_vm._e()],1),_c(\'a-button\',{staticStyle:{"margin-left":"8px"}},[_vm._v(" Bulk manage "),_c(\'a-icon\',{attrs:{"type":"down"}})],1)],1):_vm._e(),_c(\'a-button\',{attrs:{"type":"primary"},on:{"click":_vm.handleAdd}},[_vm._v("Add")]),_c(\'a-button\',{attrs:{"type":"black"},on:{"click":_vm.handleUpload}},[_vm._v("Bulk Upload")])],1)],1),_c(\'div\',{staticClass:"form-tab"},[_c(\'a-table\',{ref:"tableCon",attrs:{"rowKey":"uid","columns":_vm.columns,"dataSource":_vm.dataSource,"pagination":_vm.ipagination,"loading":_vm.loading,"rowSelection":{selectedRowKeys: _vm.selectedRowKeys, onChange: _vm.onSelectChange}},on:{"change":_vm.handleTableChange},scopedSlots:_vm._u([{key:"name",fn:function(text, record){return _c(\'div\',{staticClass:"user-info"},[_c(\'div\',{staticClass:"user-avatar"},[(record.avatar)?_c(\'img\',{attrs:{"src":record.avatar,"alt":""}}):_c(\'img\',{attrs:{"src":__webpack_require__("4992"),"alt":""}})]),_c(\'div\',{staticClass:"user-detail"},[_c(\'label\',{attrs:{"for":""}},[_vm._v(_vm._s(record.firstname)+" "+_vm._s(record.lastname))]),_c(\'label\',{attrs:{"for":""}},[_vm._v(_vm._s(record.email)),(_vm.isSelfEmail(record.email))?_c(\'span\',[_vm._v(" (Me)")]):_vm._e()])])])}},{key:"classes",fn:function(classes){return _c(\'div\',{staticClass:"flex-wrap"},[_vm._l((_vm.sortBy(classes, \'classType\')),function(cls,clsIndex){return [(clsIndex < 1 && cls.classType === 0)?_c(\'a-tag\',{key:cls.id,staticClass:"ellispe-tag",attrs:{"color":"#2db7f5"}},[_vm._v(" "+_vm._s(cls.name)+" ")]):_vm._e(),(clsIndex < 1 && cls.classType === 1)?_c(\'a-tooltip\',{key:cls.id,attrs:{"title":_vm.formatViewName(cls.subject) + \' - \' + cls.name}},[_c(\'a-tag\',{staticClass:"ellispe-tag",attrs:{"color":"#f50"}},[_vm._v(" "+_vm._s(cls.name)+" ")])],1):_vm._e()]}),(classes.length > 1)?_c(\'a-popover\',{attrs:{"overlayStyle":{ width: \'310px\' },"overlayClassName":"tag-info-tip"}},[_c(\'template\',{slot:"content"},[_c(\'a-space\',{staticClass:"flex-wrap",attrs:{"direction":"vertical"}},[_vm._l((_vm.sortBy(classes, \'classType\')),function(cls){return [_c(\'a-tag\',{key:cls.id,attrs:{"color":cls.classType === 0 ? \'#2db7f5\' : \'#f50\'}},[_vm._v(" "+_vm._s(cls.classType === 1 ? _vm.formatViewName(cls.subject) + \'-\' + cls.name : cls.name)+" ")])]})],2)],1),_c(\'a-tag\',[_c(\'a-icon\',{attrs:{"type":"ellipsis"}})],1)],2):_vm._e()],2)}},{key:"status",fn:function(status, record){return _c(\'div\',{},[(record.status === _vm.SCHOOL_USER_STATUS.ARCHIVE.value)?_c(\'a-tag\',{attrs:{"color":_vm.getStatusFormat(record.beforeArchiveStatus, \'color\')}},[_vm._v(_vm._s(_vm.getStatusFormat(record.beforeArchiveStatus) || \' - \'))]):_c(\'a-tag\',{attrs:{"color":_vm.getStatusFormat(status, \'color\')}},[_vm._v(_vm._s(_vm.getStatusFormat(status) || \' - \'))])],1)}},{key:"action",fn:function(text, record){return _c(\'a-space\',{},[(_vm.queryParam.schoolUserStatus !== _vm.SCHOOL_USER_STATUS.ARCHIVE.value)?_c(\'a\',{on:{"click":function($event){return _vm.handleEdit(record)}}},[_vm._v("Edit")]):_vm._e(),_c(\'a-dropdown\',[_c(\'a-menu\',{attrs:{"slot":"overlay"},on:{"click":function (opt) { return _vm.handleSingleOpt(opt, record); }},slot:"overlay"},[(_vm.queryParam.schoolUserStatus !== _vm.SCHOOL_USER_STATUS.ARCHIVE.value)?[(record.status === _vm.SCHOOL_USER_STATUS.INACTIVE.value)?_c(\'a-menu-item\',{key:\'ACT_\'+_vm.ACT.RESEND.value},[_vm._v(" Resend ")]):_vm._e(),(record.status === _vm.SCHOOL_USER_STATUS.ACTIVE.value)?_c(\'a-menu-item\',{key:\'ACT_\'+_vm.ACT.RESET.value},[_vm._v(" Reset password ")]):_vm._e(),(record.status === _vm.SCHOOL_USER_STATUS.PENDING.value)?_c(\'a-menu-item\',{key:\'ACT_\'+_vm.ACT.APPROVE.value},[_vm._v(" Approve ")]):_vm._e(),(record.status === _vm.SCHOOL_USER_STATUS.PENDING.value)?_c(\'a-menu-item\',{key:\'ACT_\'+_vm.ACT.REJECT.value},[_vm._v(" Reject ")]):_vm._e(),(record.status === _vm.SCHOOL_USER_STATUS.ACTIVE.value || record.status === _vm.SCHOOL_USER_STATUS.INACTIVE.value)?_c(\'a-menu-item\',{key:\'ACT_\'+_vm.ACT.ARCHIVE.value},[_vm._v(" Archive ")]):_vm._e()]:[_c(\'a-menu-item\',{key:\'ACT_\'+_vm.ACT.RESTORE.value},[_vm._v(" Restore ")]),_c(\'a-menu-item\',{key:\'ACT_\'+_vm.ACT.DELETE.value},[_vm._v(" Delete ")])]],2),_c(\'a\',{staticStyle:{"margin-left":"8px"}},[_vm._v(" More "),_c(\'a-icon\',{attrs:{"type":"down"}})],1)],1)],1)}}])})],1)]),_c(\'school-user-invite\',{ref:"schoolUserInvite",attrs:{"school":_vm.currentSchool}})],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/manage/SchoolTeacher.vue?vue&type=template&id=2528a171&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("3835");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__("2909");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("5530");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.values.js\nvar es_object_values = __webpack_require__("07ac");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.find.js\nvar es_array_find = __webpack_require__("7db0");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__("99af");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js\nvar es_array_map = __webpack_require__("d81d");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__("b0c0");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.join.js\nvar es_array_join = __webpack_require__("a15b");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__("4de4");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.trim.js\nvar es_string_trim = __webpack_require__("498a");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.slice.js\nvar es_array_slice = __webpack_require__("fb6a");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__("ac1f");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.replace.js\nvar es_string_replace = __webpack_require__("5319");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__("d3b7");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.iterator.js\nvar es_string_iterator = __webpack_require__("3ca3");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__("ddb0");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__("159b");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.split.js\nvar es_string_split = __webpack_require__("1276");\n\n// EXTERNAL MODULE: ./src/const/common.js\nvar common = __webpack_require__("f93e");\n\n// EXTERNAL MODULE: ./src/mixins/UserModeMixin.js\nvar UserModeMixin = __webpack_require__("6e84");\n\n// EXTERNAL MODULE: ./src/mixins/CurrentSchoolMixin.js\nvar CurrentSchoolMixin = __webpack_require__("21fb");\n\n// EXTERNAL MODULE: ./src/mixins/JeecgListMixin.js\nvar JeecgListMixin = __webpack_require__("b65a");\n\n// EXTERNAL MODULE: ./src/mixins/TableWidthMixin.js\nvar TableWidthMixin = __webpack_require__("4a76");\n\n// EXTERNAL MODULE: ./src/mixins/AutoSwitchSchoolMixin\nvar AutoSwitchSchoolMixin = __webpack_require__("eda0");\n\n// EXTERNAL MODULE: ./src/api/v2/schoolClass.js\nvar schoolClass = __webpack_require__("ad59");\n\n// EXTERNAL MODULE: ./src/api/v2/schoolRole.js\nvar schoolRole = __webpack_require__("6f2a");\n\n// EXTERNAL MODULE: ./src/api/v2/schoolUser.js\nvar schoolUser = __webpack_require__("ec09");\n\n// EXTERNAL MODULE: ./src/api/academicSettingSubject.js\nvar academicSettingSubject = __webpack_require__("9bfe");\n\n// EXTERNAL MODULE: ./src/components/Common/FixedFormHeader.vue + 4 modules\nvar FixedFormHeader = __webpack_require__("b5ff8");\n\n// EXTERNAL MODULE: ./src/components/FormHeader/FormHeader.vue + 9 modules\nvar FormHeader = __webpack_require__("b5a9");\n\n// EXTERNAL MODULE: ./src/components/Common/CustomTextButton.vue + 4 modules\nvar CustomTextButton = __webpack_require__("20ae");\n\n// EXTERNAL MODULE: ./src/views/account/manage/schoolUser/SchoolUserInvite.vue + 4 modules\nvar SchoolUserInvite = __webpack_require__("cfa9");\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js\nvar vuex_esm = __webpack_require__("2f62");\n\n// EXTERNAL MODULE: ./node_modules/lodash.clonedeep/index.js\nvar lodash_clonedeep = __webpack_require__("cd3f");\nvar lodash_clonedeep_default = /*#__PURE__*/__webpack_require__.n(lodash_clonedeep);\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/SchoolTeacher.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _require = __webpack_require__("4fcf"),\n    debounce = _require.debounce,\n    sortBy = _require.sortBy;\n\n/* harmony default export */ var SchoolTeachervue_type_script_lang_js_ = ({\n  name: \'SchoolTeacher\',\n  mixins: [UserModeMixin["a" /* UserModeMixin */], CurrentSchoolMixin["a" /* CurrentSchoolMixin */], JeecgListMixin["a" /* JeecgListMixin */], TableWidthMixin["a" /* TableWidthMixin */], AutoSwitchSchoolMixin["a" /* AutoSwitchSchoolMixin */]],\n  components: {\n    FixedFormHeader: FixedFormHeader["a" /* default */],\n    FormHeader: FormHeader["a" /* default */],\n    CustomTextButton: CustomTextButton["a" /* default */],\n    SchoolUserInvite: SchoolUserInvite["a" /* default */]\n  },\n  data: function data() {\n    return {\n      USER_MODE: common["U" /* USER_MODE */],\n      SCHOOL_USER_STATUS: common["z" /* SCHOOL_USER_STATUS */],\n      tabsList: Object.values(common["z" /* SCHOOL_USER_STATUS */]),\n      sortBy: sortBy,\n      ACT: {\n        ARCHIVE: {\n          value: \'4\',\n          label: \'archive\'\n        },\n        APPROVE: {\n          value: \'1\',\n          label: \'approve\'\n        },\n        REJECT: {\n          value: \'3\',\n          label: \'reject\'\n        },\n        RESTORE: {\n          value: \'8\',\n          label: \'restore\'\n        },\n        RESEND: {\n          value: \'9\',\n          label: \'resend\'\n        },\n        DELETE: {\n          value: \'-1\',\n          label: \'delete\'\n        },\n        RESET: {\n          value: \'-2\',\n          label: \'reset\'\n        }\n      },\n      loading: false,\n      queryParam: {\n        searchKey: \'\',\n        schoolId: this.$store.state.user.currentSchool.id,\n        schoolUserStatus: \'\',\n        grades: \'\',\n        roles: \'teacher\'\n      },\n      filters: {\n        classes: \'\'\n      },\n      debounceInit: null,\n      classList: [],\n      roleList: [],\n      currentSel: null,\n      optType: \'multi\',\n      url: {\n        list: \'/classcipe/api2/school/user/getSchoolUsers\' // list: \'/classcipe/api/school/schoolClassStudent/list\'\n\n      },\n      tableRefs: [\'tableCon\'],\n      pendingTeacherCount: 0,\n      disableMixinCreated: true,\n      subjectOptions: [],\n      onlyClass: null\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    if (this.$route.query) {\n      if (this.$route.query.tab) {\n        var find = this.tabsList.find(function (item) {\n          return item.value + \'\' === _this.$route.query.tab + \'\';\n        });\n\n        if (find) {\n          this.queryParam.schoolUserStatus = find.value;\n        }\n      }\n\n      if (this.$route.query.classId) {\n        this.filters.classes = this.$route.query.classId;\n      }\n    }\n\n    this.initDict();\n    this.queryParam.schoolId = this.currentSchool.id;\n    this.debounceInit = debounce(this.loadData, 300);\n    this.loadData();\n    this.initDictConfig();\n  },\n  computed: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, Object(vuex_esm["e" /* mapState */])({\n    info: function info(state) {\n      return state.user.info;\n    },\n    userMode: function userMode(state) {\n      return state.app.userMode;\n    },\n    currentSchool: function currentSchool(state) {\n      return state.user.currentSchool;\n    }\n  })), {}, {\n    columns: function columns() {\n      var _this$classList, _this$roleList;\n\n      return [{\n        title: \'Name\',\n        align: \'left\',\n        dataIndex: \'nickname\',\n        width: 250,\n        scopedSlots: {\n          customRender: \'name\'\n        } // customRender: (text, record) => {\n        //   return text || (record.firstname + record.lastname) || record.email\n        // }\n\n      }].concat(Object(toConsumableArray["a" /* default */])(this.onlyClass ? [] : [{\n        title: \'Class\',\n        align: \'left\',\n        dataIndex: \'classes\',\n        width: 120,\n        scopedSlots: {\n          customRender: \'classes\'\n        },\n        // customRender: (text, record) => {\n        //   return (text || []).map(item => item.name).join(\',\')\n        // },\n        filters: [{\n          text: \'Not assigned\',\n          value: -1\n        }].concat((_this$classList = this.classList) === null || _this$classList === void 0 ? void 0 : _this$classList.map(function (item) {\n          return {\n            text: item.name,\n            value: item.id\n          } || [];\n        }))\n      }]), [{\n        title: \'Role\',\n        align: \'center\',\n        dataIndex: \'roles\',\n        width: 120,\n        filters: (_this$roleList = this.roleList) === null || _this$roleList === void 0 ? void 0 : _this$roleList.map(function (item) {\n          return {\n            text: item.name,\n            value: item.roleCode\n          } || [];\n        }),\n        customRender: function customRender(text, record) {\n          var roles = (text || [{\n            name: \'teacher\'\n          }]).map(function (item) {\n            return item.name.toLowerCase();\n          });\n\n          if (roles.length > 1 || roles[0] !== \'teacher\') {\n            return roles.filter(function (item) {\n              return item !== \'teacher\';\n            }).map(function (text) {\n              return text !== null && text !== void 0 && text.trim().length ? text[0].toUpperCase() + text.slice(1) : \'\';\n            }).join(\', \');\n          }\n\n          return \'Teacher\';\n        }\n      }, {\n        title: \'Status\',\n        align: \'center\',\n        dataIndex: \'status\',\n        width: 120,\n        scopedSlots: {\n          customRender: \'status\'\n        }\n      }, // {\n      //   title: \'Last Login\',\n      //   align: \'center\',\n      //   dataIndex: \'lastLogin\',\n      //   width: 120\n      // },\n      {\n        title: \'Action\',\n        align: \'center\',\n        width: 150,\n        scopedSlots: {\n          customRender: \'action\'\n        }\n      }]);\n    }\n  }),\n  methods: {\n    goBack: function goBack() {\n      this.$router.go(-1);\n    },\n    routerRefresh: function routerRefresh() {\n      this.onlyClass = null;\n      this.$router.replace(\'/manage/teacher/list\');\n      this.filters.classes = \'\';\n      this.onClearSelected();\n      this.searchQuery();\n    },\n    handleSchoolChange: function handleSchoolChange(currentSchool) {\n      if (this.userMode === common["U" /* USER_MODE */].SCHOOL) {\n        this.queryParam.schoolId = currentSchool.id;\n        this.initDict();\n        this.debounceInit();\n      }\n    },\n    handleModeChange: function handleModeChange(userMode) {\n      // 模式切换，个人还是学校 个人接口\n      this.initDict();\n      this.debounceInit();\n    },\n    isSelfEmail: function isSelfEmail(email) {\n      return email === this.info.email;\n    },\n    initDict: function initDict() {\n      var _this2 = this;\n\n      // 获取所有班级用于筛选\n      Promise.all([Object(schoolClass["g" /* listClass */])({\n        schoolId: this.currentSchool.id,\n        pageNo: 1,\n        pageSize: 10000\n      }), Object(schoolRole["g" /* listRole */])({\n        schoolId: this.currentSchool.id\n      }), Object(schoolUser["o" /* getTeacherCount */])({\n        schoolId: this.currentSchool.id\n      }), Object(academicSettingSubject["a" /* getSubjectBySchoolId */])({\n        schoolId: this.currentSchool.id\n      })]).then(function (_ref) {\n        var _ref2 = Object(slicedToArray["a" /* default */])(_ref, 4),\n            clsRes = _ref2[0],\n            roleRes = _ref2[1],\n            teacherRes = _ref2[2],\n            subjectRes = _ref2[3];\n\n        if (clsRes.code === 0) {\n          _this2.classList = clsRes.result.records;\n          _this2.onlyClass = null;\n          var query = _this2.$route.query;\n\n          if (query.classId) {\n            var isFind = _this2.classList.find(function (item) {\n              return item.id === query.classId;\n            });\n\n            if (isFind) {\n              _this2.filters.classes = query.classId;\n              _this2.onlyClass = Object(objectSpread2["a" /* default */])({}, isFind);\n            } else {\n              _this2.routerRefresh();\n            }\n          }\n        }\n\n        if (roleRes.code === 0) {\n          _this2.roleList = roleRes.result;\n        }\n\n        if (teacherRes.success && teacherRes.result) {\n          _this2.pendingTeacherCount = teacherRes.result.pendingCount;\n        }\n\n        if (subjectRes.success) {\n          var subjects = [];\n          subjectRes.result.forEach(function (item) {\n            if (item.subjectList && item.subjectList.length > 0) {\n              subjects = subjects.concat(item.subjectList);\n            }\n          });\n          var options = [];\n          subjects.forEach(function (item) {\n            options.push({\n              subjectId: item.subjectId,\n              subjectName: item.subjectName\n            });\n            options.push({\n              subjectId: item.parentSubjectId,\n              subjectName: item.parentSubjectName\n            });\n          });\n          _this2.subjectOptions = options;\n        }\n\n        _this2.onClearSelected();\n      });\n    },\n    toggleTab: function toggleTab(status) {\n      this.queryParam.schoolUserStatus = status;\n      var url = \'/manage/teacher/list?tab=\' + status + (this.onlyClass ? "&classId=".concat(this.onlyClass.id) : \'\');\n      this.$router.replace({\n        path: url\n      });\n      this.onClearSelected();\n      this.searchQuery();\n    },\n    getStatusFormat: function getStatusFormat(status) {\n      var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \'label\';\n      var find = this.tabsList.find(function (tab) {\n        return tab.value === status;\n      });\n      return find ? find[key] : \'\';\n    },\n    handleBatchOpt: function handleBatchOpt(opt) {\n      this.optType = \'multi\';\n      this.handleOpt(opt);\n    },\n    handleSingleOpt: function handleSingleOpt(opt, item) {\n      this.optType = \'single\';\n      this.currentSel = lodash_clonedeep_default()(item);\n      this.handleOpt(opt);\n    },\n    handleOpt: function handleOpt(opt) {\n      var _this3 = this;\n\n      var userIdList = [];\n\n      if (this.optType === \'multi\') {\n        userIdList = this.selectedRowKeys;\n      } else {\n        userIdList = [this.currentSel.uid];\n      }\n\n      if (userIdList.length > 0) {\n        var promise = null;\n        var act = opt.key.split(\'_\')[1];\n        var actObj = Object.values(this.ACT).find(function (item) {\n          return item.value === act;\n        });\n        var sub = \'\';\n\n        if (act === this.ACT.DELETE.value) {\n          promise = schoolUser["u" /* removeTeachers */];\n          sub = \'The session under this teacher will be deleted, do you want to continue?\';\n        } else if (act === this.ACT.RESET.value) {\n          promise = schoolUser["v" /* resetPassword */];\n        } else {\n          promise = schoolUser["h" /* bulkActTeacher */];\n        }\n\n        this.$confirm({\n          title: "Confirm ".concat(actObj.label),\n          content: "Do you want to ".concat(actObj.label, " this teacher(s)? ").concat(sub),\n          centered: true,\n          onOk: function onOk() {\n            _this3.loading = true;\n            promise({\n              act: act,\n              schoolId: _this3.currentSchool.id,\n              userIdList: userIdList,\n              userIds: userIdList // reset\n\n            }).then(function (res) {\n              if (res.code === 0) {\n                _this3.$message.success(\'Opt Successfully\');\n\n                _this3.onClearSelected();\n\n                _this3.initDict();\n\n                _this3.searchQuery();\n              }\n            }).finally(function () {\n              _this3.loading = false;\n            });\n          }\n        });\n      }\n    },\n    getFilterParams: function getFilterParams(filters) {\n      if (filters.classes && filters.classes.length > 0) {\n        this.filters.classes = filters.classes.join(\',\');\n      } else {\n        this.filters.classes = \'\';\n      }\n\n      if (filters.roles && filters.roles.length > 0) {\n        this.filters.teacherRoles = filters.roles.join(\',\');\n      } else {\n        this.filters.teacherRoles = \'\';\n      }\n    },\n    handleAdd: function handleAdd() {\n      var url = \'/manage/teacher/detail\' + (this.onlyClass ? "?classId=".concat(this.onlyClass.id) : \'\');\n      this.$router.push(url);\n    },\n    handleUpload: function handleUpload() {\n      var url = \'/manage/teacher/upload\' + (this.onlyClass ? "/".concat(this.onlyClass.id) : \'\');\n      this.$router.push(url);\n    },\n    handleEdit: function handleEdit(item) {\n      this.$router.push(\'/manage/teacher/detail/\' + item.uid);\n    },\n    handleInvite: function handleInvite() {\n      this.$refs.schoolUserInvite.doCreate(\'teacher\');\n    },\n    getBadge: function getBadge(key) {\n      if (key === common["z" /* SCHOOL_USER_STATUS */].PENDING.value && !this.onlyClass) {\n        return this.pendingTeacherCount;\n      }\n\n      return 0;\n    },\n    formatViewName: function formatViewName(id) {\n      var findSubject = this.subjectOptions.find(function (subject) {\n        return subject.subjectId === id;\n      });\n      if (findSubject) return findSubject.subjectName; // const findGrade = this.gradeOptions.find(grade => grade.gradeId === id)\n      // if (findGrade) return findGrade.gradeName\n\n      return \'Untitle\';\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/manage/SchoolTeacher.vue?vue&type=script&lang=js&\n /* harmony default export */ var manage_SchoolTeachervue_type_script_lang_js_ = (SchoolTeachervue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/account/manage/SchoolTeacher.vue?vue&type=style&index=0&id=2528a171&lang=less&scoped=true&\nvar SchoolTeachervue_type_style_index_0_id_2528a171_lang_less_scoped_true_ = __webpack_require__("b592");\n\n// EXTERNAL MODULE: ./node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("0c7c");\n\n// CONCATENATED MODULE: ./src/views/account/manage/SchoolTeacher.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["a" /* default */])(\n  manage_SchoolTeachervue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  "2528a171",\n  null\n  \n)\n\n/* harmony default export */ var SchoolTeacher = __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack:///./src/views/account/manage/SchoolTeacher.vue_+_4_modules?')},"31f4":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolUserInvite_vue_vue_type_style_index_0_id_0a748f0f_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("3f84");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolUserInvite_vue_vue_type_style_index_0_id_0a748f0f_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolUserInvite_vue_vue_type_style_index_0_id_0a748f0f_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolUser/SchoolUserInvite.vue?')},"3f84":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolUser/SchoolUserInvite.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},4992:function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__.p + "img/default-avatar.db1c5445.png";\n\n//# sourceURL=webpack:///./src/assets/icons/library/default-avatar.png?')},"4a76":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return TableWidthMixin; });\n/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"159b\");\n/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"d81d\");\n/* harmony import */ var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_string_fixed_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"c7cd\");\n/* harmony import */ var core_js_modules_es_string_fixed_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_fixed_js__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nvar TableWidthMixin = {\n  data: function data() {\n    return {\n      tableRefs: [],\n      leftWidth: 0,\n      firstColumnWid: 0\n    };\n  },\n  mounted: function mounted() {\n    this.firstColumnWid = this.columns[0] ? this.columns[0].width : 0;\n    this.resetTableWidth(200);\n    window.addEventListener('resize', this.resetTableWidth, true);\n  },\n  destroyed: function destroyed() {\n    window.removeEventListener('resize', this.resetTableWidth);\n  },\n  methods: {\n    resetTableWidth: function resetTableWidth(init) {\n      var _this = this;\n\n      if (this.tableRefs && this.tableRefs.length > 0) {\n        this.tableRefs.forEach(function (tableRef) {\n          if (_this.$refs[tableRef] && _this.columns && _this.columns.length > 0) {\n            var totalWidth = _this.columns.map(function (item) {\n              if (item.width && item.width !== 'auto') {\n                return parseInt(item.width);\n              } else {\n                return parseInt(_this.firstColumnWid);\n              }\n            }).reduce(function (prev, current) {\n              return prev + current;\n            }, 0);\n\n            var conWidth = (_this.$refs[tableRef].$el || _this.$refs[tableRef]).getBoundingClientRect().width;\n\n            if (conWidth > totalWidth + _this.leftWidth + init) {\n              _this.columns[0].width = 'auto';\n              _this.scroll = {\n                x: conWidth\n              };\n            } else {\n              _this.columns[0].width = _this.firstColumnWid;\n              _this.scroll = {\n                x: totalWidth\n              };\n              _this.columns[_this.columns.length - 1].fixed = 'right';\n            }\n          }\n        });\n        this.$forceUpdate();\n      }\n    }\n  }\n};\n\n//# sourceURL=webpack:///./src/mixins/TableWidthMixin.js?")},"6f2a":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* unused harmony export schoolRoleApi */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return listRole; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return pageListRole; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return getRolePermission; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return bindRoleSubjectLeader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return bindRoleClassTeachers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return getRoleSubjectLeaders; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return getRoleClassTeachers; });\n/* unused harmony export getSchoolRole */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return saveSchoolRole; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return geHeaderClassByUserId; });\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"d3b7\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"b775\");\n\n\nvar API_PREFIX = 'api2/school/role';\nvar schoolRoleApi = {\n  listRole: \"/classcipe/\".concat(API_PREFIX, \"/list\"),\n  pageListRole: \"/classcipe/\".concat(API_PREFIX, \"/pageList\"),\n  getRolePermission: \"/classcipe/\".concat(API_PREFIX, \"/getPermission\"),\n  bindRoleSubjectLeader: \"/classcipe/\".concat(API_PREFIX, \"/user/bindSubjectLeader\"),\n  bindRoleClassTeachers: \"/classcipe/\".concat(API_PREFIX, \"/user/bindTeachers\"),\n  getRoleSubjectLeaders: \"/classcipe/\".concat(API_PREFIX, \"/user/getSubjectLeaders\"),\n  getRoleClassTeachers: \"/classcipe/\".concat(API_PREFIX, \"/user/getTeachers\"),\n  getSchoolRole: \"/classcipe/\".concat(API_PREFIX, \"/user/getSchoolRole\"),\n  saveSchoolRole: \"/classcipe/\".concat(API_PREFIX, \"/user/saveSchoolRole\"),\n  geHeaderClassByUserId: \"/classcipe/\".concat(API_PREFIX, \"/user/geHeaderClassByUserId\")\n};\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction listRole(parameter) {\n  // return request({\n  //   url: schoolRoleApi.listRole,\n  //   method: 'get',\n  //   params: parameter\n  // })\n  // { \"admin\": \"Admin\", \"leader\": \"Subject leader\", \"head\": \"Head teacher\", \"teacher\": \"Teacher\" }\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getSchoolRole,\n    method: 'get',\n    params: parameter\n  }).then(function (res) {\n    var result = res;\n\n    if (result.code === 0) {\n      var arr = [];\n\n      for (var key in result.result.roleNames) {\n        if (key !== 'Teacher') {\n          arr.push({\n            roleCode: key,\n            name: result.result.roleNames[key]\n          });\n        }\n      }\n\n      result.result = arr;\n    }\n\n    return Promise.resolve(result);\n  }).catch(function (err) {\n    return Promise.reject(err);\n  }); // return new Promise((resolve) => {\n  //   resolve({\n  //     code: 0,\n  //     success: true,\n  //     result: [\n  //       { 'roleCode': 'admin', 'name': 'Admin' },\n  //       { 'roleCode': 'head', 'name': 'Head teacher' },\n  //       { 'roleCode': 'leader', 'name': 'Subject leader' }\n  //       // { 'roleCode': 'teacher', 'name': 'Teacher' }\n  //     ]\n  //   })\n  // })\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction pageListRole(parameter) {\n  // return request({\n  //   url: schoolRoleApi.pageListRole,\n  //   method: 'get',\n  //   params: parameter\n  // })\n  // return new Promise((resolve) => {\n  //   resolve({\n  //     code: 0,\n  //     success: true,\n  //     result: {\n  //       total: 3,\n  //       records: [\n  //         { 'roleCode': 'admin', 'name': 'Admin' },\n  //         { 'roleCode': 'head', 'name': 'Head teacher' },\n  //         { 'roleCode': 'leader', 'name': 'Subject leader' }\n  //         // { 'roleCode': 'teacher', 'name': 'Teacher' }\n  //       ]\n  //     }\n  //   })\n  // })\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getSchoolRole,\n    method: 'get',\n    params: parameter\n  }).then(function (res) {\n    var result = res;\n\n    if (result.code === 0) {\n      var arr = [];\n\n      for (var key in result.result.roleNames) {\n        if (key !== 'Teacher') {\n          arr.push({\n            roleCode: key,\n            name: result.result.roleNames[key]\n          });\n        }\n      }\n\n      result.result = {\n        total: arr.length,\n        records: arr\n      };\n    }\n\n    return Promise.resolve(result);\n  }).catch(function (err) {\n    return Promise.reject(err);\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getRolePermission(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getRolePermission,\n    method: 'get',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction bindRoleSubjectLeader(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.bindRoleSubjectLeader,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction bindRoleClassTeachers(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.bindRoleClassTeachers,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getRoleSubjectLeaders(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getRoleSubjectLeaders,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getRoleClassTeachers(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getRoleClassTeachers,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getSchoolRole(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getSchoolRole,\n    method: 'get',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction saveSchoolRole(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.saveSchoolRole,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction geHeaderClassByUserId(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.geHeaderClassByUserId,\n    method: 'get',\n    params: parameter\n  });\n}\n\n//# sourceURL=webpack:///./src/api/v2/schoolRole.js?")},b592:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolTeacher_vue_vue_type_style_index_0_id_2528a171_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("efcb");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolTeacher_vue_vue_type_style_index_0_id_2528a171_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolTeacher_vue_vue_type_style_index_0_id_2528a171_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/account/manage/SchoolTeacher.vue?')},cfa9:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"30a63b0a-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolUser/SchoolUserInvite.vue?vue&type=template&id=0a748f0f&scoped=true&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'a-modal\',{attrs:{"title":"Invite by link","footer":null},on:{"cancel":_vm.handleInviteBackBtn},model:{value:(_vm.modalVis),callback:function ($$v) {_vm.modalVis=$$v},expression:"modalVis"}},[_c(\'a-spin\',{attrs:{"spinning":_vm.loading}},[_c(\'div\',{staticClass:"invite"},[_c(\'div\',{staticClass:"invite-link"},[_c(\'div\',{staticClass:"link-text"},[_vm._v(" "+_vm._s(_vm.inviteUrl)+" ")]),_c(\'div\',{staticClass:"action-copy",on:{"click":_vm.onCopy}},[_c(\'a-tooltip\',{attrs:{"placement":"top","title":"Copy link"}},[_c(\'a-icon\',{attrs:{"type":"link"}})],1)],1)]),_c(\'div\',{staticClass:"invite-checkbox"},[_c(\'a-checkbox\',{attrs:{"checked":_vm.inviteCheckBoxChecked},on:{"change":_vm.onInviteCheckBoxChange}},[_vm._v(" Applicants with this link will need your approval to join your school community ")])],1),_c(\'div\',{staticClass:"invite-reset-btn"},[_c(\'a-button\',{attrs:{"shape":"round","type":"primary","icon":"sync","loading":_vm.loading},on:{"click":_vm.handleInviteResetBtn}},[_vm._v(" Reset ")])],1)])])],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolUser/SchoolUserInvite.vue?vue&type=template&id=0a748f0f&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("1da1");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("5530");\n\n// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js\nvar runtime = __webpack_require__("96cf");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__("99af");\n\n// EXTERNAL MODULE: ./src/api/v2/schoolUser.js\nvar schoolUser = __webpack_require__("ec09");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolUser/SchoolUserInvite.vue?vue&type=script&lang=js&\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SchoolUserInvitevue_type_script_lang_js_ = ({\n  name: \'SchoolUserInvite\',\n  props: {\n    school: {\n      type: Object,\n      default: function _default() {}\n    }\n  },\n  watch: {\n    school: {\n      handler: function handler(val) {\n        this.currentSchool = Object(objectSpread2["a" /* default */])({}, val);\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  data: function data() {\n    return {\n      currentSchool: this.school,\n      loading: false,\n      modalVis: false,\n      role: \'student\',\n      inviteUrl: \'\',\n      inviteCheckBoxChecked: true,\n      inviteCodeId: undefined\n    };\n  },\n  methods: {\n    doCreate: function doCreate(role) {\n      this.role = role;\n      this.modalVis = true;\n      this.handleInviteEnterBtn();\n    },\n    getInviteUrl: function getInviteUrl(needRefresh) {\n      var _this = this;\n\n      return Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var res, _res$result, _res$result2, _res$result3;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Object(schoolUser["l" /* getInvite */])({\n                  schoolId: _this.currentSchool.id,\n                  role: _this.role,\n                  needApprove: _this.inviteCheckBoxChecked ? 1 : 0,\n                  needRefresh: needRefresh,\n                  need_approve: _this.inviteCheckBoxChecked ? 1 : 0,\n                  need_refresh: needRefresh\n                });\n\n              case 2:\n                res = _context.sent;\n\n                if (res !== null && res !== void 0 && res.success) {\n                  _this.inviteUrl = "".concat("https://my.classcipe.com", "/user/invite?inviteCode=").concat(res === null || res === void 0 ? void 0 : (_res$result = res.result) === null || _res$result === void 0 ? void 0 : _res$result.inviteCode);\n                  _this.inviteCheckBoxChecked = res === null || res === void 0 ? void 0 : (_res$result2 = res.result) === null || _res$result2 === void 0 ? void 0 : _res$result2.approveFlag;\n                  _this.inviteCodeId = res === null || res === void 0 ? void 0 : (_res$result3 = res.result) === null || _res$result3 === void 0 ? void 0 : _res$result3.id;\n                }\n\n              case 4:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    handleInviteEnterBtn: function handleInviteEnterBtn() {\n      var _this2 = this;\n\n      return Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this2.loading = true;\n                _context2.next = 3;\n                return _this2.getInviteUrl(0);\n\n              case 3:\n                _this2.loading = false;\n\n              case 4:\n              case "end":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    handleInviteResetBtn: function handleInviteResetBtn() {\n      var _this3 = this;\n\n      return Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this3.loading = true;\n                _context3.next = 3;\n                return _this3.getInviteUrl(1);\n\n              case 3:\n                _this3.loading = false;\n\n              case 4:\n              case "end":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    },\n    handleInviteBackBtn: function handleInviteBackBtn() {\n      this.$emit(\'cancel\');\n    },\n    onInviteCheckBoxChange: function onInviteCheckBoxChange(e) {\n      this.inviteCheckBoxChecked = e.target.checked;\n      this.updateInviteCode(e.target.checked);\n    },\n    updateInviteCode: function updateInviteCode(bool) {\n      var _this4 = this;\n\n      return Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        var res, _res$result4;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return Object(schoolUser["y" /* updateInvite */])({\n                  needApprove: bool ? 1 : 0,\n                  need_approve: bool ? 1 : 0,\n                  id: _this4.inviteCodeId\n                });\n\n              case 2:\n                res = _context4.sent;\n\n                if (res.success) {\n                  _this4.inviteUrl = "".concat("https://my.classcipe.com", "/user/invite?inviteCode=").concat(res === null || res === void 0 ? void 0 : (_res$result4 = res.result) === null || _res$result4 === void 0 ? void 0 : _res$result4.inviteCode);\n                } else {\n                  _this4.$message.error(res.message);\n                }\n\n              case 4:\n              case "end":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }))();\n    },\n    onCopy: function onCopy() {\n      var _this5 = this;\n\n      this.$copyText(this.inviteUrl).then(function (message) {\n        _this5.$message.success(\'Copy success!\');\n\n        _this5.modalVis = false;\n      }).catch(function (err) {\n        _this5.$message.error(\'Copy Failed\');\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/manage/schoolUser/SchoolUserInvite.vue?vue&type=script&lang=js&\n /* harmony default export */ var schoolUser_SchoolUserInvitevue_type_script_lang_js_ = (SchoolUserInvitevue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/account/manage/schoolUser/SchoolUserInvite.vue?vue&type=style&index=0&id=0a748f0f&lang=less&scoped=true&\nvar SchoolUserInvitevue_type_style_index_0_id_0a748f0f_lang_less_scoped_true_ = __webpack_require__("31f4");\n\n// EXTERNAL MODULE: ./node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("0c7c");\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolUser/SchoolUserInvite.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["a" /* default */])(\n  schoolUser_SchoolUserInvitevue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  "0a748f0f",\n  null\n  \n)\n\n/* harmony default export */ var SchoolUserInvite = __webpack_exports__["a"] = (component.exports);\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolUser/SchoolUserInvite.vue_+_4_modules?')},ec09:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export schoolUserApi */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "m", function() { return getSchoolUsers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return addStudents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return addTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "t", function() { return removeStudents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "u", function() { return removeTeachers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "l", function() { return getInvite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "y", function() { return updateInvite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "A", function() { return updateTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return bulkActTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return bulkActStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return acceptInvite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return batchAddStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return batchAddTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "n", function() { return getStudentInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "p", function() { return getTeacherInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return checkEmailParent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "j", function() { return checkEmailStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "k", function() { return checkEmailTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "v", function() { return resetPassword; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "r", function() { return moveClassStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "z", function() { return updateStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "x", function() { return sendParentEmail; });\n/* unused harmony export addAdmin */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "s", function() { return removeAdmins; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "w", function() { return resetUserPassword; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return addSchoolAdmin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "o", function() { return getTeacherCount; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "q", function() { return listStudents; });\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("b775");\n/* harmony import */ var _utils_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("ca00");\n\n\nvar API_PREFIX = \'api2/school/user\';\nvar schoolUserApi = {\n  getSchoolUsers: "/classcipe/".concat(API_PREFIX, "/getSchoolUsers"),\n  addStudents: "/classcipe/".concat(API_PREFIX, "/addStudents"),\n  addTeacher: "/classcipe/".concat(API_PREFIX, "/addTeacher"),\n  removeStudents: "/classcipe/".concat(API_PREFIX, "/removeStudents"),\n  removeTeachers: "/classcipe/".concat(API_PREFIX, "/removeTeachers"),\n  updateTeacher: "/classcipe/".concat(API_PREFIX, "/updateTeacher"),\n  getInvite: "/classcipe/".concat(API_PREFIX, "/getInvite"),\n  updateInvite: "/classcipe/".concat(API_PREFIX, "/updateInvite"),\n  bulkActTeacher: "/classcipe/".concat(API_PREFIX, "/teacher/bulkAct"),\n  bulkActStudent: "/classcipe/".concat(API_PREFIX, "/student/bulkAct"),\n  acceptInvite: "/classcipe/".concat(API_PREFIX, "/acceptInvite"),\n  batchAddStudent: "/classcipe/".concat(API_PREFIX, "/batchAddStudent"),\n  batchAddTeacher: "/classcipe/".concat(API_PREFIX, "/batchAddTeacher"),\n  getStudentInfo: "/classcipe/".concat(API_PREFIX, "/getStudentInfo"),\n  getTeacherInfo: "/classcipe/".concat(API_PREFIX, "/getTeacherInfo"),\n  checkEmailParent: "/classcipe/".concat(API_PREFIX, "/parent/checkEmail"),\n  resetPassword: "/classcipe/".concat(API_PREFIX, "/resetPassword"),\n  checkEmailStudent: "/classcipe/".concat(API_PREFIX, "/student/checkEmail"),\n  moveClassStudent: "/classcipe/".concat(API_PREFIX, "/student/moveClass"),\n  sendParentEmail: "/classcipe/".concat(API_PREFIX, "/student/sendParentEmail"),\n  checkEmailTeacher: "/classcipe/".concat(API_PREFIX, "/teacher/checkEmail"),\n  updateStudent: "/classcipe/".concat(API_PREFIX, "/updateStudent"),\n  addAdmin: "/classcipe/".concat(API_PREFIX, "/addAdmin"),\n  removeAdmins: "/classcipe/".concat(API_PREFIX, "/removeAdmins"),\n  resetUserPassword: "/classcipe/".concat(API_PREFIX, "/user/resetPassword"),\n  addSchoolAdmin: "/classcipe/".concat(API_PREFIX, "/addSchoolAdmin"),\n  getTeacherCount: "/classcipe/".concat(API_PREFIX, "/getTeacherCount"),\n  listStudents: "/classcipe/".concat(API_PREFIX, "/list/students")\n};\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getSchoolUsers(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getSchoolUsers,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction addStudents(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.addStudents,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction addTeacher(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.addTeacher,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction removeStudents(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.removeStudents,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction removeTeachers(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.removeTeachers,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getInvite(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getInvite,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction updateInvite(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.updateInvite,\n    method: \'post\',\n    data: parameter,\n    params: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction updateTeacher(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.updateTeacher,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction bulkActTeacher(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.bulkActTeacher,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction bulkActStudent(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.bulkActStudent,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction acceptInvite(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.acceptInvite,\n    method: \'post\',\n    data: parameter,\n    params: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction batchAddStudent(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.batchAddStudent,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction batchAddTeacher(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.batchAddTeacher,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getStudentInfo(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getStudentInfo,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getTeacherInfo(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getTeacherInfo,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction checkEmailParent(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.checkEmailParent,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction checkEmailStudent(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.checkEmailStudent,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction checkEmailTeacher(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.checkEmailTeacher,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction resetPassword(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.resetPassword,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction moveClassStudent(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.moveClassStudent,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction updateStudent(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.updateStudent,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction sendParentEmail(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.sendParentEmail,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction addAdmin(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.addAdmin,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction removeAdmins(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.removeAdmins,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction resetUserPassword(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.resetUserPassword,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction addSchoolAdmin(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.addSchoolAdmin,\n    method: \'post\',\n    data: parameter,\n    params: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getTeacherCount(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getTeacherCount,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction listStudents(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.listStudents,\n    method: \'get\',\n    params: parameter\n  });\n}\n\n//# sourceURL=webpack:///./src/api/v2/schoolUser.js?')},eda0:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AutoSwitchSchoolMixin; });\n/* harmony import */ var _const_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("f93e");\n/* harmony import */ var _api_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("c24f");\n/* harmony import */ var _store_mutation_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__("9fb0");\n/* harmony import */ var vuex__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("2f62");\n\n\n\n\n\n\n\nconst AutoSwitchSchoolMixin = {\n  data() {\n    return {}\n  },\n  created() {\n    const query = this.$route.query\n    if (query.schoolId) {\n      this.autoSwitchSchool(query.schoolId)\n    }\n  },\n  watch: {\n    \'$route.path\' (to) {\n      console.log(to)\n      const query = this.$route.query\n      if (query.schoolId) {\n        this.autoSwitchSchool(query.schoolId)\n      }\n    }\n  },\n  computed: {\n    ...Object(vuex__WEBPACK_IMPORTED_MODULE_3__[/* mapState */ "e"])({\n      info: state => state.user.info,\n      currentSchool: state => state.user.currentSchool,\n      userMode: state => state.app.userMode\n    })\n  },\n  methods: {\n    ...Object(vuex__WEBPACK_IMPORTED_MODULE_3__[/* mapMutations */ "d"])([_store_mutation_types__WEBPACK_IMPORTED_MODULE_2__[/* TOOGLE_USER_MODE */ "M"]]),\n    ...Object(vuex__WEBPACK_IMPORTED_MODULE_3__[/* mapActions */ "b"])([\'GetClassList\']),\n    autoSwitchSchool(schoolId) {\n      this.$store.dispatch(\'GetInfo\').then(() => {\n        const isExist = this.info.schoolList.find(item => item.id === schoolId)\n        if (isExist) {\n          Object(_api_user__WEBPACK_IMPORTED_MODULE_1__[/* SwitchUserModeSchool */ "c"])({\n            isPersonal: false,\n            schoolId: isExist.id\n          }).then(res => {\n            // 获取对应学校班级\n            this[_store_mutation_types__WEBPACK_IMPORTED_MODULE_2__[/* TOOGLE_USER_MODE */ "M"]](_const_common__WEBPACK_IMPORTED_MODULE_0__[/* USER_MODE */ "U"].SCHOOL)\n            this.$store.dispatch(\'GetInfo\')\n            this.GetClassList(isExist.id)\n          })\n        }\n      })\n    }\n  }\n}\n\n\n//# sourceURL=webpack:///./src/mixins/AutoSwitchSchoolMixin?')},efcb:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/account/manage/SchoolTeacher.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")}}]);