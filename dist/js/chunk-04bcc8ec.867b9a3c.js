(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04bcc8ec"],{"03fe":function(t,e,a){t.exports=a.p+"img/2.34f982bd.png"},"09cf":function(t,e,a){var s=a("b2b7");t.exports={__esModule:!0,default:s.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44",viewBox:"0 0 44 44",style:"color: #15c39a;"},children:[{tag:"defs"},{tag:"g",attrsMap:{transform:"translate(-144 -421)"},children:[{tag:"circle",attrsMap:{class:"a",cx:"22",cy:"22",r:"22",transform:"translate(144 421)"}},{tag:"g",attrsMap:{transform:"translate(155 431)",style:"color: #fff;"},children:[{tag:"path",attrsMap:{class:"b",d:"M7.518,11.828a6.693,6.693,0,1,1,4.293,1.558,9.45,9.45,0,0,0-9.417,8.662H2.362a1.181,1.181,0,1,1-2.308-.356,11.821,11.821,0,0,1,7.464-9.863Zm4.293-.8A4.331,4.331,0,1,0,7.48,6.693a4.331,4.331,0,0,0,4.331,4.331Z"}},{tag:"path",attrsMap:{class:"b",d:"M645.312,645.31v-1.969a1.181,1.181,0,0,1,2.362,0v1.969h1.969a1.181,1.181,0,0,1,0,2.362h-1.969v1.969a1.181,1.181,0,1,1-2.362,0v-1.969h-1.969a1.181,1.181,0,0,1,0-2.362Z",transform:"translate(-628.321 -628.319)"}}]}]}]})}},1036:function(t,e,a){},1707:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABGtJREFUeF7tm1toFFcYx/+T3exG4+aq1mSzGyPx0qpNWsHUxDSxwQsECnnw9iIai1JtqRSkNTSaQPBSfChSS1ulqRR88qEigqBB30wUbFD70sRoNKuJl407bpKd2d2ZcrZdXWdms5eZuDvjOTAM7J7v/833m3O+c2bOHAZRyvJTvQsYwbQLENcDTHG0em/i96aFhWe+rS5ePxW+GCXRqt9v74Yo/jgVDpPR3Lx4Jsb9QmdLjb05GfvJbGQAVpzqtQuCaUhrR2r0CIDszAyMeAPHvqu1f6VGS2orA1D12812MMx+LZ2o1QoDIDqPvP6O/bUlrWo1w/ZyAJ23/gJQqZUDLXQiARA9F8vtbatzHtVCWwkAC8CmhbhWGlIARHfQw+/oqHecUOtDAcBtFyCmNOtLg1ICEBTE4BAb2NSxquSMGgi6BUCC5oPiuIvlPj34SWlXshB0DYAEPeEX3ANubvUP6+beSAaC7gGQoL180NX/1FdzvHHeYKIQDAGABM1yQv+5+88+uLJhiTcRCIYBQIJ+7gvc3LvCXvHWAiCBuycCV7+ptlfHC8FQLSAc9JOxwKWWlfbV8UAwJAAS+LCX/7O11tEUC4IuADQ6bCgqnBYrFtn/D1/wfxz42LFlMkNdAJifZUbdooKEARCDIZY/3l7n+CKasS4ABEZ9aK4uhsVqTgrCoIc71FHvbFEy1gUAcuEOAGsrZycFgBj1u8f3HWkoOywV0A0AcuEz/QJqyvMwKz8rYRCiCPSPcp9/3+D8OdJYVwBCM77hMeRPN6NgeiZsNkvCIE5vXGRmGCYYNtQdgPCFB/0CAlwgYQC9Xy57LWbdAkg48v8NerYtpQB0nQOSvfNhO9oCaBegOYAmQZoEIwjQeYB0WKnqTL+FEbVDX6Q9HQbpMJjCYbDYZkFpjgXOXCucOVY4cy2hs+sFj10X7mrZ0qNqTWkXsFlMIEHaZ2SGzqFjxn9n8pspQ/GDFNwYHjMGgM8qZ4MciRYKgLYAg3cBDxfEyJifLFbgodePPvcE/nH70Of2oXvrEuPlgJO9j0MBk+MBy+ORl4+aFgwLgECIp1AARu0CtAXQLkBzQDw50LjDoFIOsJoyUF+aA0fOqyUtMnU23FSYBC8FkJ9lxtGGUiyeJf/QQbcAyvOz0LSwAGV51pfN/cM52aHgpQAme1DSJYDG8jy0rixR7OdKADa8W4ivq4pk9cls8dj1YXTd88SVM9RW0ux9wE/rykDutlLZc/Eeul3y7xUb5uaGHpffyc5E36gPXXc9uDDwHCz3crVabXwx7TUDsGd5ETa9Vyhz+PeTcWw/PxDzQlJVQTMAJIA183JDr7TC5fIgizujvlTFFpdfTQHE5THNKlEA9LV4Cl+Lp0NvoF0gdhdIv21zGrackZ5tS+dE6slWKj7qvNUmAgc0dJo+UqL4a0/z+zsnBZCOW2e1IsiIwrLu5orXNlfpYvO0FgBEQWi/tr2iTaqlvFgHIJ22z6sAMAJRPMtA/EV658Oa/wJolqxfGeNBmwAAAABJRU5ErkJggg=="},"200e":function(t,e,a){"use strict";a("8760")},"279f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-full-form-wrapper"},[s("div",{staticClass:"form-header"},[s("common-form-header",{ref:"commonFormHeader",attrs:{form:t.form,"show-back":!1,showCollaborate:!1,"last-change-saved-time":t.lastChangeSavedTime},on:{"update-form":t.handleUpdateForm,back:t.goBack,save:t.handleSaveAndBackEvaluation,publish:t.handlePublishEvaluation}})],1),s("a-card",{attrs:{bordered:!1,bodyStyle:{padding:"16px 24px",height:"100%",minHeight:"500px"},loading:t.loading}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showWaitingMask,expression:"!showWaitingMask"}],staticClass:"class-session-evaluation"},[s("div",{staticClass:"header"},[s("div",{staticClass:"left-action"},[s("div",{staticClass:"add-btn"})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.forms.length>0,expression:"forms.length > 0"}],staticClass:"form-table-tabs"},t._l(t.forms,(function(e,a){return s("div",{key:a,class:{"form-table-item":!0,"active-table":t.currentActiveFormId===e.formId},attrs:{"data-form-id":e.formId,"data-form-type":e.formType},on:{click:function(s){return t.handleActiveForm(a,e)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!1===e.titleEditing,expression:"formItem.titleEditing === false"}],staticClass:"action-icon"},[s("div",{staticClass:"form-title-item"},[s("div",{staticClass:"form-title",on:{dblclick:function(a){return t.handleEditFormTitle(e)}}},[t._v(t._s(e.title))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.mode===t.EvaluationTableMode.Edit,expression:"mode === EvaluationTableMode.Edit"}],staticClass:"form-delete-icon"},[s("a-popconfirm",{attrs:{title:"Delete this form ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return t.handleDeleteForm(e)}}},[s("a-icon",{attrs:{type:"delete"}})],1)],1)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.titleEditing,expression:"formItem.titleEditing === true"}],staticClass:"editing-title"},[s("a-input",{staticClass:"my-title-input",on:{blur:t.handleEnsureUpdateFormTitle,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnsureUpdateFormTitle.apply(null,arguments)}},model:{value:t.currentEditingTitle,callback:function(e){t.currentEditingTitle=e},expression:"currentEditingTitle"}})],1)])})),0),s("div",{staticClass:"body"},[s("div",{staticClass:"class-group"},[s("div",{staticClass:"class-student-wrapper"},[s("div",{staticClass:"group-list-wrapper"},[s("div",{staticClass:"no-group-student-list"},[s("div",{staticClass:"student-list"},t._l(t.allNoGroupStudentUserList,(function(e,i){return s("div",{directives:[{name:"show",rawName:"v-show",value:-1!==t.attendanceEmailList.indexOf(e.email),expression:"attendanceEmailList.indexOf(member.email) !== -1"}],key:i,class:{"list-item":!0,"selected-student":t.currentActiveStudentId===e.userId,heartbeat:(t.studentEvaluateIdList.length||t.peerEvaluateIdList.length)&&-1===t.studentEvaluateIdList.indexOf(e.userId)&&-1===t.peerEvaluateIdList.indexOf(e.userId)},style:{filter:-1===t.selectedMemberIdList.indexOf(e.userId)?"grayscale(100%)":"none"},attrs:{"data-member-id":e.userId},on:{click:function(a){return t.handleClickMember(null,e)}}},[s("div",{staticClass:"student-avatar"},[e.studentAvatar?s("img",{attrs:{src:e.studentAvatar,alt:""}}):t._e(),e.studentAvatar?t._e():s("img",{attrs:{slot:"prefix",src:a("a6bd"),alt:""},slot:"prefix"})]),s("div",{staticClass:"student-name",attrs:{"data-email":e.userId}},[s("a-tooltip",{attrs:{placement:"top",mouseEnterDelay:1}},[s("template",{slot:"title"},[t._v(" "+t._s(e.email)+" ")]),t._v(" "+t._s(e.realName)+" ")],2)],1),-1!==t.selectedMemberIdList.indexOf(e.userId)?s("div",{staticClass:"select-status-icon"},[s("a-icon",{staticClass:"my-selected-icon",staticStyle:{"{color":"#07AB84}"},attrs:{type:"check-circle",theme:"filled"}})],1):t._e()])})),0)]),t._l(t.groups,(function(e,i){return s("div",{key:i,class:{"group-item":!0,"selected-group":-1!==t.selectedGroupIdList.indexOf(e.id)},attrs:{"data-group-id":e.id}},[s("div",{staticClass:"group-item-info",on:{click:function(a){return t.handleSelectGroup(e)}}},[s("div",{staticClass:"group-left"},[s("div",{staticClass:"group-icon"},[s("group-icon")],1),s("div",{staticClass:"group-name"},[t._v(" "+t._s(e.name)+" ("+t._s(e.attendanceList.length)+") ")]),s("div",{staticClass:"group-select-status"},[-1!==t.selectedGroupIdList.indexOf(e.id)?[s("a-icon",{staticClass:"my-selected-icon",staticStyle:{"{color":"#07AB84}"},attrs:{type:"check-circle",theme:"filled"}})]:t._e()],2)]),s("div",{staticClass:"group-right",on:{click:function(a){return t.handleToggleGroupExpand(e,a)}}},[s("div",{staticClass:"group-expand-status"},[e.expand?[s("arrow-down")]:t._e(),e.expand?t._e():[s("arrow-top")]],2)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.expand,expression:"group.expand"}],staticClass:"group-student-list"},[s("div",{staticClass:"student-list"},t._l(e.members,(function(i,n){return s("div",{directives:[{name:"show",rawName:"v-show",value:-1!==t.attendanceEmailList.indexOf(i.email),expression:"attendanceEmailList.indexOf(member.email) !== -1"}],key:n,class:{"list-item":!0,"selected-student":t.currentActiveStudentId===i.userId,heartbeat:(t.studentEvaluateIdList.length||t.peerEvaluateIdList.length)&&-1===t.studentEvaluateIdList.indexOf(i.userId)&&-1===t.peerEvaluateIdList.indexOf(i.userId)},style:{filter:-1===t.selectedMemberIdList.indexOf(i.userId)?"grayscale(100%)":"none"},attrs:{"data-member-id":i.userId},on:{click:function(a){return t.handleClickMember(e,i)}}},[s("div",{staticClass:"student-avatar"},[i.studentAvatar?s("img",{attrs:{src:i.studentAvatar,alt:""}}):t._e(),i.studentAvatar?t._e():s("img",{attrs:{slot:"prefix",src:a("a6bd"),alt:""},slot:"prefix"})]),s("div",{staticClass:"student-name",attrs:{"data-email":i.email}},[s("a-tooltip",{attrs:{placement:"top",mouseEnterDelay:1}},[s("template",{slot:"title"},[t._v(" "+t._s(i.email)+" ")]),t._v(" "+t._s(i.realName)+" ")],2)],1),-1!==t.selectedMemberIdList.indexOf(i.userId)?s("div",{staticClass:"select-status-icon"},[s("a-icon",{staticClass:"my-selected-icon",staticStyle:{"{color":"#07AB84}"},attrs:{type:"check-circle",theme:"filled"}})],1):t._e()])})),0)])])})),s("div",{staticClass:"no-group-tips"},[0!==t.allStudentUserList.length||t.loading?t._e():s("a-empty",{attrs:{description:"No student exist"}})],1)],2)])]),s("div",{staticClass:"form-table-content",attrs:{"data-mode":t.mode}},[t.currentActiveStudentId&&!t.loading?s("div",{staticClass:"table-content"},t._l(t.forms,(function(e,i){return s("div",{key:i,staticClass:"form-table-item"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.formId===t.currentActiveFormId,expression:"formItem.formId === currentActiveFormId"}],staticClass:"form-table-item-content"},[s("div",{staticClass:"form-header-line"},[s("div",{staticClass:"right-icon"},[s("div",{staticClass:"icon-type-item"},[s("div",{staticClass:"icon-item"},[s("teacher-icon")],1),s("div",{staticClass:"label"},[t._v("Teacher")])]),s("div",{staticClass:"icon-type-item"},[s("div",{staticClass:"icon-item"},[s("student-icon")],1),s("div",{staticClass:"label"},[t._v("My Self")])]),s("div",{staticClass:"icon-type-item"},[s("div",{staticClass:"icon-item"},[s("peer-icon")],1),s("div",{staticClass:"label"},[t._v("Peer")])])]),s("div",{staticClass:"form-action"},[t.mode===t.EvaluationTableMode.StudentEvaluate&&t.hasNewEvaluationDataReceived?s("a-button",{staticClass:"my-form-header-btn",staticStyle:{"{\n                          width":"120px",display:"flex","flex-direction":"row","align-items":"center","justify-content":"center",background:"rgba(21, 195, 154, 0.08)",border:"1px solid #15C39A","border-radius":"20px",padding:"15px 20px"},attrs:{icon:"reload"},on:{click:t.handleRefreshEvaluationData}},[t._v(" Refresh to see ")]):t._e(),s("a-button",{staticClass:"my-form-header-btn",staticStyle:{"{\n                          width":"120px",display:"flex","flex-direction":"row","align-items":"center","justify-content":"center",background:"rgba(21, 195, 154, 0.08)",border:"1px solid #15C39A","border-radius":"20px",padding:"15px 20px"},on:{click:t.handleSaveEvaluation}},[s("div",{staticClass:"btn-icon"},[s("img",{attrs:{src:a("f7b2")}})]),s("div",{staticClass:"btn-text"},[t._v(" Submit ")])])],1)]),s("div",{staticClass:"comment"},[t.currentActiveFormId&&t.currentActiveStudentId?s("div",{staticClass:"summary-input"},[s("a-textarea",{staticClass:"my-textarea",attrs:{disabled:t.mode!==t.EvaluationTableMode.TeacherEvaluate,placeholder:"Write a comment","aria-placeholder":"Write a comment"},on:{keyup:function(e){return t.handleUpdateComment(t.studentEvaluateData[t.currentActiveStudentId][t.currentActiveFormId].comment)}},model:{value:t.studentEvaluateData[t.currentActiveStudentId][t.currentActiveFormId].comment,callback:function(e){t.$set(t.studentEvaluateData[t.currentActiveStudentId][t.currentActiveFormId],"comment",e)},expression:"studentEvaluateData[currentActiveStudentId][currentActiveFormId].comment"}})],1):t._e()]),s("div",{staticClass:"student-question"},[t.currentActiveFormId&&t.currentActiveStudentId&&t.studentEvaluateData[t.currentActiveStudentId][t.currentActiveFormId].hasOwnProperty("question1")?s("div",{staticClass:"summary-input student-question-item"},[s("div",{staticClass:"question-text"},[t._v("What's the most important thing you learned today? Why do you think so?")]),s("a-textarea",{staticClass:"my-textarea",attrs:{placeholder:"What’s the most important thing you learned today? Why do you think so?"},model:{value:t.studentEvaluateData[t.currentActiveStudentId][t.currentActiveFormId].question1,callback:function(e){t.$set(t.studentEvaluateData[t.currentActiveStudentId][t.currentActiveFormId],"question1",e)},expression:"studentEvaluateData[currentActiveStudentId][currentActiveFormId].question1"}})],1):t._e(),t.currentActiveFormId&&t.currentActiveStudentId&&t.studentEvaluateData[t.currentActiveStudentId][t.currentActiveFormId].hasOwnProperty("question2")?s("div",{staticClass:"summary-input student-question-item"},[s("div",{staticClass:"question-text"},[t._v("What do you want to learn more about, and why?")]),s("a-textarea",{staticClass:"my-textarea",attrs:{placeholder:"What do you want to learn more about, and why?"},model:{value:t.studentEvaluateData[t.currentActiveStudentId][t.currentActiveFormId].question2,callback:function(e){t.$set(t.studentEvaluateData[t.currentActiveStudentId][t.currentActiveFormId],"question2",e)},expression:"studentEvaluateData[currentActiveStudentId][currentActiveFormId].question2"}})],1):t._e(),t.currentActiveFormId&&t.currentActiveStudentId&&t.studentEvaluateData[t.currentActiveStudentId][t.currentActiveFormId].hasOwnProperty("question3")?s("div",{staticClass:"summary-input student-question-item"},[s("div",{staticClass:"question-text"},[t._v("What made you curious today? How does learning feel different when you’re curious?")]),s("a-textarea",{staticClass:"my-textarea",attrs:{placeholder:"What’s the most important thing you learned today? Why do you think so?"},model:{value:t.studentEvaluateData[t.currentActiveStudentId][t.currentActiveFormId].question3,callback:function(e){t.$set(t.studentEvaluateData[t.currentActiveStudentId][t.currentActiveFormId],"question3",e)},expression:"studentEvaluateData[currentActiveStudentId][currentActiveFormId].question3"}})],1):t._e()]),s("div",{staticClass:"form-table-detail"},[s("evaluation-table",{ref:"evaluationTable",refInFor:!0,attrs:{"form-id":e.formId,"init-raw-headers":e.initRawHeaders,"init-raw-data":e.initRawData,"form-type":e.formType,mode:t.mode,"form-body-data":t.formBodyData},on:{"update-evaluation":t.handleUpdateEvaluate,"add-evidence":t.handleAddEvidence,"error-mode":t.handleErrorMode}})],1)])])})),0):t._e(),0!==t.forms.length||t.loading?t._e():[s("div",{staticClass:"no-form-tips"},[s("no-more-resources",{attrs:{tips:"The evaluation form has not been created!"}})],1)]],2)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showWaitingMask,expression:"showWaitingMask"}],staticClass:"waiting-mask"},[s("no-more-resources",{attrs:{tips:"Teacher is editing, please wait..."}})],1)]),s("a-drawer",{attrs:{destroyOnClose:"",placement:"right",width:"1020px",visible:t.evidenceSelectVisible},on:{close:function(e){t.evidenceSelectVisible=!1}}},[s("div",{staticClass:"add-evaluation-evidence-wrapper"},[t.currentEvidenceItem?s("div",{staticClass:"slide-preview"},[s("ppt-slide-view",{attrs:{"selected-id-list":t.currentEvidenceItem.evidence.selectedList,"selected-id-student-list":t.currentEvidenceItem.evidence.selectedStudentList,"row-id":t.currentEvidenceItem.rowId,"form-id":t.currentActiveFormId,"session-id":t.sessionId,"slide-id":t.classInfo.slideId,"student-name":t.selectedMemberIdList.length?t.selectedMemberIdList[0]:null,mode:t.mode},on:{"ensure-evidence-finish":t.handleEnsureEvidenceFinish,"cancel-evidence-finish":t.handleCancelEvidenceFinish}}),t.classInfo&&t.classInfo.slideId?t._e():[s("no-more-resources",{attrs:{tips:"no slide"}})]],2):t._e()])])],1)},i=[],n=(a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("159b"),a("d81d"),a("caad"),a("2532"),a("b0c0"),a("b64b"),a("4de4"),a("2ca0"),a("ca00")),o=a("1138"),r=a("81c4"),l=a("98a4"),d=a.n(l),c=a("5d88"),u=a.n(c),m=a("519d"),f=a.n(m),h=a("a615f"),v=a.n(h),p=a("4e45"),g=a.n(p),b=a("d8fe"),A=a.n(b),I=a("a3c5"),E=a.n(I),C=a("60427"),w=a("9f06"),y=a("5f34"),S=a("7849"),L=a("90e8"),k=a("69b3"),x=a("7735"),O=a("3f76"),D=a("c948"),M=a("d73b"),T=a("af28"),F=a("ab9f"),N={name:"StudentEvaluation",components:{PptSlideView:x["a"],NoMoreResources:k["a"],SelectEvaluationList:y["a"],EvaluationTable:o["a"],CommonFormHeader:r["a"],GrayIcon:d.a,PeerIcon:u.a,StudentIcon:f.a,TeacherIcon:v.a,GroupIcon:g.a,ArrowDown:A.a,ArrowTop:E.a,ModalHeader:C["a"]},props:{sessionId:{type:String,required:!0}},computed:{lastChangeSavedTime:function(){var t=this.form&&this.form.evaluation&&(this.form.evaluation.updateTime||this.form.evaluation.createTime);return t?Object(n["formatLocalUTC"])(this.form.evaluation.updateTime||this.form.evaluation.createTime):""},formBodyData:function(){return this.currentActiveStudentId&&this.currentActiveFormId&&this.studentEvaluateData?this.studentEvaluateData[this.currentActiveStudentId][this.currentActiveFormId]:(this.$logger.info("no formBodyData currentActiveFormId "+this.currentActiveFormId+" currentActiveStudentId "+this.currentActiveStudentId," studentEvaluateData ",this.studentEvaluateData),null)},isTeacher:function(){return this.$store.getters&&"teacher"===this.$store.getters.currentRole}},data:function(){return{taskId:null,mode:L["a"].StudentEvaluate,loading:!0,isExistFormTable:!1,currentActiveFormId:null,form:{evaluationMode:"",classId:"",name:"",className:"",email:"",forms:[],groups:[],updateTime:null,createTime:null,createBy:null,type:O["e"].classSessionEvaluation},classInfo:{classId:null,author:null,date:null,status:null,className:null,type:null,fileName:null,slideId:null,lockPage:null,responseLimitMode:null,responseLimitTime:null,copyFrom:null},oldFormsJson:null,oldStudentEvaluationJson:null,groups:[],selectedGroupIdList:[],studentList:[],selectedMemberIdList:[],selectedMemberNameList:[],selectedStudentNameList:[],EvaluationTableType:S["a"],EvaluationTableMode:L["a"],groupNum:0,memberNum:0,newFormType:S["a"].CenturySkills,rubricType:"create",newTableName:"21st Century Skills",currentEditingTitle:null,currentFormItem:null,studentEvaluateData:{},currentActiveStudentId:null,allStudentUserIdList:[],evidenceSelectVisible:!1,currentEvidenceItem:null,currentActiveGroupId:null,formSaving:!1,showEvaluationNoticeVisible:!1,studentEvaluateIdList:[],peerEvaluateIdList:[],currentUserGroupId:null,currentUserGroupUserIdList:[],typeMap:O["e"],taskForms:[],isEmptyStudentEvaluateData:!1,allStudentUserList:[],allNoGroupStudentUserIdList:[],allNoGroupStudentUserList:[],attendanceList:[],attendanceEmailList:[]}},mixins:[T["a"]],beforeRouteLeave:function(t,e,a){var s=this;this.$logger.info("beforeRouteLeave",t,e,a),this.$logger.info("forms",this.forms,"oldFormsJson",this.oldFormsJson),this.$logger.info("studentEvaluateData",this.studentEvaluateData,"oldStudentEvaluationJson",this.oldStudentEvaluationJson),!this.initCompleted||JSON.stringify(this.forms)===this.oldFormsJson&&JSON.stringify(this.studentEvaluateData)===this.oldStudentEvaluationJson?a():this.$confirm({title:"Alert",okText:"Save",cancelText:"No",content:"Do you want to save the changes?",onOk:function(){s.handleSaveEvaluation(),setTimeout((function(){a()}),1500)},onCancel:function(){a()}})},created:function(){this.$logger.info("["+this.mode+"] created ClassSessionEvaluation sessionId"+this.sessionId),this.initClassSessionEvaluation(),window.sessionStorage.removeItem("multiConfirmVisible")},methods:{initClassSessionEvaluation:function(){var t=this;this.$logger.info("initClassSessionEvaluation sessionId "+this.sessionId),Object(F["d"])({sessionId:this.sessionId}).then((function(e){if(t.$logger.info("SchoolClassListClassAttendance",e),e.success&&e.result.length>0){t.attendanceList=[],t.attendanceEmailList=[];var a=new Set;e.result.forEach((function(e){a.has(e.email)||(t.attendanceList.push(e),t.attendanceEmailList.push(e.email),a.add(e.email))})),t.$logger.info("attendanceList",t.attendanceList)}})).catch((function(e){t.loading=!1,t.$logger.error("SchoolClassListClassAttendance",e),t.$message.error("SchoolClassListClassAttendance "+e)})).finally((function(){t.loadClassSessionEvaluationData()}))},loadClassSessionEvaluationData:function(){var t=this;this.loading=!0,Object(w["GetSessionEvaluationByClassId"])({classId:this.sessionId}).then((function(e){t.$logger.info("init data response",e),t.$logger.info("GetSessionEvaluationByClassId response",e.result);var a=[],s=e.result;t.classInfo=s.classInfo,s.groups.forEach((function(e){e.expand=!0,e.attendanceList=[],e.members.forEach((function(s){a.push(s.userId),s.userId===t.$store.getters.email&&(t.currentUserGroupId=e.id,t.currentUserGroupUserIdList=e.members.map((function(t){return t.userId})),t.$logger.info("currentUserGroupId"+t.currentUserGroupId,"currentUserGroupUserIdList",t.currentUserGroupUserIdList)),t.attendanceEmailList.includes(s.userId)&&e.attendanceList.push(s.userId)}))})),t.allNoGroupStudentUserIdList=[],t.allNoGroupStudentUserList=[],s.classMembersVos&&s.classMembersVos.length&&(s.classMembersVos.forEach((function(t){t.userId=t.email})),t.$logger.info("formatted classMembersVos",s.classMembersVos),s.classMembersVos.forEach((function(e){-1===a.indexOf(e.userId)&&(t.allNoGroupStudentUserIdList.push(e.userId),t.allNoGroupStudentUserList.push(e))})),t.allStudentUserList=s.classMembersVos,t.allStudentUserList.forEach((function(e){t.allStudentUserIdList.push(e.email)}))),t.$logger.info("allNoGroupStudentUserIdList",t.allNoGroupStudentUserIdList),s.classInfo&&!s.evaluation&&(t.form.name=s.classInfo.fileName,t.form.className=s.classInfo.className,t.form.createBy=s.classInfo.author,t.form.createTime=new Date(1e3*s.classInfo.date),t.form.type=O["e"].classSessionEvaluation,t.$logger.info("init form data",t.form));var i=t.allStudentUserIdList;t.groups=s.groups,s.evaluation&&(t.evaluationId=s.evaluation.id,t.updateTeacherEvaluationStatus(),t.form=Object.assign(t.form,s.evaluation),s.evaluation.forms.forEach((function(e){t.forms.push({title:e.title,titleEditing:!1,formType:e.formType,se:e.se,pe:e.pe,menuVisible:!1,mode:e.mode,id:e.id,formId:e.formId,initRawHeaders:JSON.parse(e.initRawHeaders),initRawData:JSON.parse(e.initRawData)})})),t.$logger.info("forms",t.forms),t.oldFormsJson=JSON.stringify(t.forms),t.forms.length||(s.evaluation.studentEvaluateData=null)),t.forms.length&&(t.currentActiveFormId=t.forms[0].formId),t.$logger.info("allStudentUserIdList",t.allStudentUserIdList);var n=!1;if(s.evaluation&&s.evaluation.studentEvaluateData){var o=JSON.parse(s.evaluation.studentEvaluateData),r=Object.keys(o);0===r.length?n=!0:r.forEach((function(t){o.hasOwnProperty(t)&&0===Object.keys(o[t]).length&&(n=!0)}))}else n=!0;if(t.isEmptyStudentEvaluateData=n,t.$logger.info("isEmptyStudentEvaluateData "+n,s.evaluation),n){if(i.length&&t.forms.length){var l={};i.forEach((function(e){l[e]={},t.forms.forEach((function(t){l[e][t.formId]={comment:null,question1:null,question2:null,question3:null},t.initRawData.forEach((function(a){l[e][t.formId][a.rowId]={teacherEvaluation:null,teacherName:null,teacherEmail:null,peerEvaluation:null,peerName:null,peerEmail:null,studentEvaluation:null,studentName:null,studentEmail:null,data:null,evidenceIdList:[],evidenceIdStudentList:[]}}))}))})),t.$logger.info("studentEvaluateData init finished ",l),t.studentEvaluateData=l,t.oldStudentEvaluationJson=JSON.stringify(l),t.mode!==L["a"].Edit&&t.mode===L["a"].Preview&&(t.currentActiveStudentId=a[0],t.selectedMemberIdList.push(t.currentActiveStudentId),t.$logger.info("currentActiveFormId "+t.currentActiveFormId+" currentActiveStudentId "+t.currentActiveStudentId)),t.mode===L["a"].TeacherEvaluate&&(t.currentActiveStudentId=i[0],t.selectedMemberIdList.push(t.currentActiveStudentId))}}else{var d=JSON.parse(s.evaluation.studentEvaluateData);t.$logger.info("exist studentEvaluateData",d),i.forEach((function(e){d.hasOwnProperty(e)||(t.$logger.info("new student",e),d[e]={},t.forms.forEach((function(t){d[e][t.formId]={comment:null,question1:null,question2:null,question3:null},t.initRawData.forEach((function(a){d[e][t.formId][a.rowId]={teacherEvaluation:null,teacherName:null,teacherEmail:null,peerEvaluation:null,peerName:null,peerEmail:null,studentEvaluation:null,studentName:null,studentEmail:null,data:null,evidenceIdList:[],evidenceIdStudentList:[]}}))})))})),t.studentEvaluateData=d,t.oldStudentEvaluationJson=s.evaluation.studentEvaluateData,i.length&&t.mode!==L["a"].Edit&&t.mode!==L["a"].Preview&&(t.currentActiveStudentId=t.$store.getters.email,t.selectedMemberIdList.push(t.currentActiveStudentId)),t.$logger.info("restore studentEvaluateData",t.studentEvaluateData)}t.form.className=t.classInfo.className,t.form.type=O["e"].classSessionEvaluation,t.form.evaluationMode=t.mode,t.form.email=t.$store.getters.email})).finally((function(){t.mode===L["a"].StudentEvaluate&&(t.$logger.info("StudentEvaluate try fix currentActiveStudentId "+t.$store.getters.email,"allStudentUserIdList",t.allStudentUserIdList),-1===t.allStudentUserIdList.indexOf(t.$store.getters.email)?(t.$logger.info("current use email "+t.$store.getters.email+" not exist in ",t.allStudentUserIdList," cannot student evaluate"),t.$confirm({content:"You are not in the student list of the current class and cannot evaluate !"})):(t.currentActiveStudentId=t.$store.getters.email,t.selectedMemberIdList=[t.$store.getters.email]),t.currentActiveStudentId=t.$store.getters.email,t.selectedMemberIdList=[t.$store.getters.email]),t.updateTeacherEvaluationStatus(),t.loading=!1,t.initCompleted=!0}))},updateTeacherEvaluationStatus:function(){var t=this;Object(w["GetEvaluationMode"])({sessionId:this.sessionId}).then((function(e){if(e.success){var a=t.showWaitingMask;t.showWaitingMask=e.result.mode===D["a"].Editing,a&&!t.showWaitingMask&&(t.initCompleted=!1,window.location.reload())}}))},handleActiveForm:function(t,e){this.$logger.info("handleActiveForm "+t,e),this.currentActiveFormId!==e.formId&&(this.currentActiveFormId=e.formId)},handleClickMember:function(t,e){this.$logger.info("handleClickMember","group",t,"member",e,"selectedMemberIdList",this.selectedMemberIdList),e.userId!==this.currentActiveStudentId&&this.$message.warn("Currently in self-assessment mode, you cannot use to view other people's assessment data")},handleSelectGroup:function(t){this.$logger.info("handleSelectGroup",t)},handleToggleGroupExpand:function(t,e){e.stopPropagation(),e.preventDefault(),this.$logger.info("handleToggleGroupExpand",t),t.expand=!t.expand},handleEditFormTitle:function(t){this.$logger.info("handleEditFormTitle",t),this.mode===L["a"].Edit&&(this.currentFormItem&&(this.currentFormItem.titleEditing=!1,this.currentFormItem=null),this.currentEditingTitle=t.title,t.titleEditing=!0,this.currentFormItem=t)},handleEnsureUpdateFormTitle:function(){this.$logger.info("handleEnsureUpdateFormTitle",this.currentEditingTitle),this.currentFormItem.title=this.currentEditingTitle,this.currentFormItem.titleEditing=!1},goBack:function(){var t=this;if(window.history.length<=1)return this.$router.push({path:M["d"]}),!1;this.$router.go(-1),setTimeout((function(){t.$router.push({path:M["d"]})}),500)},handleSaveEvaluation:function(t){var e=this;this.$logger.info("handleSaveEvaluation",this.forms),this.formSaving=!0,this.showEvaluationNoticeVisible=!1;var a=[];if(this.$refs.evaluationTable.forEach((function(t){var s=t.getTableStructData();e.$logger.info("getTableStructData ",s,"header",s.headers,"row list",s.list),e.forms.forEach((function(t){if(t.formId===s.formId){var e={id:t.id,formId:t.formId,formType:t.formType,title:t.title,initRawHeaders:JSON.stringify(s.headers),initRawData:JSON.stringify(s.list),pe:t.pe,se:t.se};a.push(e)}}))})),this.$logger.info("formDataList",a,"this.form",this.form,"this.sessionId",this.sessionId),this.form.classId=this.sessionId,this.form.forms=a,this.$logger.info("!!!!!!!!!!!!!!!!!! studentEvaluateData !!!!!!!!!!!",this.studentEvaluateData),this.form.studentEvaluateData=JSON.stringify(this.studentEvaluateData),0===a.length)return this.$message.error("Please add at least one form!"),this.formSaving=!1,t&&this.goEvaluatePage(),!1;Object(w["SaveSessionEvaluation"])(this.form).then((function(t){e.$logger.info("SaveSessionEvaluation",t),e.$message.success("Save successfully!"),e.formSaving=!1})).then((function(){var t=e.forms.filter((function(t){return t.formId===e.currentActiveFormId}));e.$logger.info("currentForm",t),t=t.length?t[0]:null,e.mode===L["a"].TeacherEvaluate&&t&&(t.pe||t.se)&&Object(w["GetSessionEvaluationByClassId"])({classId:e.sessionId}).then((function(t){e.$logger.info("after SaveSessionEvaluation GetSessionEvaluationByClassId",t);var a=t.result;if(a.evaluation&&a.evaluation.studentEvaluateData){var s=JSON.parse(a.evaluation.studentEvaluateData),i=Object.keys(s);e.studentEvaluateIdList=[],e.peerEvaluateIdList=[];var n=[],o=[];i.forEach((function(t){e.$logger.info("userId "+t,s[t]);var a=s[t],i=a[e.currentActiveFormId];e.$logger.info("user form data",i);var r=Object.keys(i);r.forEach((function(e){e.startsWith("row_")&&(-1===n.indexOf(t)&&i[e].studentEvaluation&&n.push(t),-1===o.indexOf(t)&&i[e].peerEvaluation&&o.push(i[e].peerEmail))}))})),e.$logger.info("studentEvaluateIdList",n,"peerEvaluateIdList",o),e.studentEvaluateIdList=n,e.peerEvaluateIdList=o,e.showEvaluationNoticeVisible=!0}}))})).finally((function(){t&&setTimeout((function(){e.goEvaluatePage()}),1e3)}))},goEvaluatePage:function(){this.$logger.info("goEvaluatePage")},handleSaveAndBackEvaluation:function(){var t=this;if(this.$logger.info("handleSaveAndBackEvaluation",this.forms),this.isEmptyStudentEvaluateData||this.mode!==L["a"].Edit){this.formSaving=!0,this.showEvaluationNoticeVisible=!1;var e=[];if(this.$refs.evaluationTable.forEach((function(a){var s=a.getTableStructData();t.$logger.info("getTableStructData ",s,"header",s.headers,"row list",s.list),t.forms.forEach((function(t){if(t.formId===s.formId){var a={id:t.id,formId:t.formId,formType:t.formType,title:t.title,initRawHeaders:JSON.stringify(s.headers),initRawData:JSON.stringify(s.list),pe:t.pe,se:t.se};e.push(a)}}))})),this.$logger.info("formDataList",e,"this.form",this.form,"this.sessionId",this.sessionId),this.form.classId=this.sessionId,this.form.forms=e,this.$logger.info("!!!!!!!!!!!!!!!!!! studentEvaluateData !!!!!!!!!!!",this.studentEvaluateData),this.form.studentEvaluateData=JSON.stringify(this.studentEvaluateData),0===e.length)return this.$message.error("Please add at least one form!"),this.formSaving=!1,!1;Object(w["SaveSessionEvaluation"])(this.form).then((function(e){t.$logger.info("SaveSessionEvaluation",e),e.success?(t.$message.success("Save successfully!"),t.formSaving=!1,t.$router.push({path:"/teacher/main/created-by-me"})):t.$message.error(e.message)}))}else this.$info({title:"Notice",content:"After modifying the form, all student evaluation data will be cleared",onOk:function(){t.$logger.info("handleSaveAndBackEvaluation onOk"),t.formSaving=!0,t.showEvaluationNoticeVisible=!1;var e=[];if(t.$refs.evaluationTable.forEach((function(a){var s=a.getTableStructData();t.$logger.info("getTableStructData ",s,"header",s.headers,"row list",s.list),t.forms.forEach((function(t){if(t.formId===s.formId){var a={id:t.id,formId:t.formId,formType:t.formType,title:t.title,initRawHeaders:JSON.stringify(s.headers),initRawData:JSON.stringify(s.list),pe:t.pe,se:t.se};e.push(a)}}))})),t.$logger.info("formDataList",e,"this.form",t.form,"this.sessionId",t.sessionId),t.form.classId=t.sessionId,t.form.forms=e,t.$logger.info("!!!!!!!!!!!!!!!!!! studentEvaluateData !!!!!!!!!!!",t.studentEvaluateData),t.form.studentEvaluateData="{}",0===e.length)return t.$message.error("Please add at least one form!"),t.formSaving=!1,!1;Object(w["SaveSessionEvaluation"])(t.form).then((function(e){t.$logger.info("SaveSessionEvaluation",e),e.success?(t.$message.success("Save successfully!"),t.formSaving=!1,t.$router.push({path:"/teacher/main/created-by-me"})):t.$message.error(e.message)}))}})},handleSaveCurrentEvaluation:function(){var t=this;this.$logger.info("handleSaveCurrentEvaluation"),this.showEvaluationNoticeVisible=!1,setTimeout((function(){t.studentEvaluateIdList=[],t.peerEvaluateIdList=[],t.$logger.info("studentEvaluateIdList",t.studentEvaluateIdList,"peerEvaluateIdList",t.peerEvaluateIdList)}),5e3)},handlePublishEvaluation:function(){},handleUpdateForm:function(t){this.$logger.info("handleUpdateForm",t),this.form.name=t.name},handleSelectRubric:function(t){this.$logger.info("handleSelectRubric newFormType "+t),this.newFormType=t,t===S["a"].Rubric||t===S["a"].Rubric_2?this.newTableName="Rubric "+(this.forms.length+1):t===S["a"].CenturySkills&&(this.newTableName="21st Century Skills "+(this.forms.length+1)),this.$logger.info("newTableName",this.newTableName)},handleDeleteForm:function(t){var e=this;this.$logger.info("handleDeleteForm",t);var a=[];this.forms.forEach((function(e){e.formId!==t.formId&&a.push(e)})),this.forms=a,this.forms.length&&(this.currentActiveFormId=this.forms[this.forms.length-1].formId),this.allStudentUserIdList.forEach((function(a){e.$delete(e.studentEvaluateData[a],t.formId)})),this.$logger.info("after delete "+t.formId,this.studentEvaluateData),this.$logger.info("after delete forms"+t.formId,this.forms)},handleUpdateEvaluate:function(t){var e=this;if(this.$logger.info("handleUpdateEvaluate",t),this.$logger.info("before update studentEvaluateData",this.studentEvaluateData),this.mode===L["a"].StudentEvaluate){var a=[];this.selectedMemberIdList.forEach((function(t){-1===a.indexOf(t)&&a.push(t)})),this.groups.forEach((function(t){-1!==e.selectedGroupIdList.indexOf(t.id)&&t.members.forEach((function(t){-1===a.indexOf(t.userId)&&a.push(t.userId)}))})),this.$logger.info("all selected member userId ",a),a.forEach((function(a){e.$logger.info(t.evaluationMode+" studentEvaluateData userId "+a,e.studentEvaluateData[a]),e.$logger.info(t.evaluationMode+" studentEvaluateData formId "+t.formId,e.studentEvaluateData[a][t.formId]),e.$logger.info(t.evaluationMode+" studentEvaluateData rowId "+t.rowId,e.studentEvaluateData[a][t.formId][t.rowId]),t.evaluationMode===L["a"].StudentEvaluate&&(e.studentEvaluateData[a][t.formId][t.rowId].studentEmail=t.evaluateUserEmail,e.studentEvaluateData[a][t.formId][t.rowId].studentName=t.evaluateUserName,e.studentEvaluateData[a][t.formId][t.rowId].data=t.data,e.studentEvaluateData[a][t.formId][t.rowId].studentEvaluation===t.value?e.studentEvaluateData[a][t.formId][t.rowId].studentEvaluation="":e.studentEvaluateData[a][t.formId][t.rowId].studentEvaluation=t.value),e.$logger.info("set "+a+" formId "+t.formId+" row "+t.rowId,e.studentEvaluateData[a][t.formId][t.rowId],"data",t)}))}this.$logger.info("after update studentEvaluateData",this.studentEvaluateData)},handleAddEvidence:function(t){this.$logger.info("handleAddEvidence",t,this.selectedMemberIdList),1===this.selectedMemberIdList.length?(this.evidenceSelectVisible=!0,this.currentEvidenceItem=t.data):this.$message.warn("You can only add evidence for one student at a time, and now you've selected "+this.selectedMemberIdList.length+" students")},handleCancelEvidenceFinish:function(){this.evidenceSelectVisible=!1},handleErrorMode:function(){this.initCompleted=!1,window.location.pathname="/"},handleEnsureEvidenceFinish:function(t){var e=this;this.$logger.info("handleEnsureEvidenceFinish",t);var a=this.currentEvidenceItem.rowId,s=[];this.selectedMemberIdList.forEach((function(t){-1===s.indexOf(t)&&s.push(t)})),this.groups.forEach((function(t){-1!==e.selectedGroupIdList.indexOf(t.id)&&t.members.forEach((function(t){-1===s.indexOf(t.userId)&&s.push(t.userId)}))})),this.$logger.info("all selected member userId ",s),s.forEach((function(s){e.$logger.info("evidence row",e.studentEvaluateData[s][e.currentActiveFormId][a]),e.mode===L["a"].StudentEvaluate?e.studentEvaluateData[s][e.currentActiveFormId][a].evidenceIdStudentList=t.data:e.mode===L["a"].TeacherEvaluate&&(e.studentEvaluateData[s][e.currentActiveFormId][a].evidenceIdList=t.data),e.$logger.info("evidence update user id "+s+" row "+a+" data",e.studentEvaluateData[s][e.currentActiveFormId][a])})),this.evidenceSelectVisible=!1},handleUpdateComment:function(t){this.$logger.info("handleUpdateComment")}}},U=N,B=(a("6d09"),a("0c7c")),P=Object(B["a"])(U,s,i,!1,null,"64e62c4c",null);e["default"]=P.exports},4133:function(t,e,a){"use strict";a("973f")},4551:function(t,e){t.exports="data:image/png;base64,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"},"462b":function(t,e,a){t.exports=a.p+"img/6.4fb8f45e.png"},"49cf":function(t,e,a){var s=a("b2b7");t.exports={__esModule:!0,default:s.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#808191;",d:"M147.606,67.158q-.2.222-.369.394l-.3.3a3.363,3.363,0,0,1-.271.246l-3.325-3.35q.2-.2.493-.468t.493-.419a1.45,1.45,0,0,1,1.059-.345,2.553,2.553,0,0,1,.911.222,3.346,3.346,0,0,1,.825.69,3.912,3.912,0,0,1,.7,1.034,3.168,3.168,0,0,1,.16.813A1.114,1.114,0,0,1,147.606,67.158ZM138.2,69.892l3.818-3.818L145.34,69.4q-2.094,2.094-3.818,3.793-.739.714-1.441,1.416T138.8,75.865q-.579.554-.948.924l-.443.443a4.227,4.227,0,0,1-.394.345,2.45,2.45,0,0,1-.493.3q-.271.123-.751.3t-1,.333q-.517.16-.985.3a4.376,4.376,0,0,1-.714.16q-.468.049-.5-.086a1.879,1.879,0,0,1,.037-.6q.025-.246.123-.727t.2-.973q.1-.493.209-.924a4.73,4.73,0,0,1,.185-.6,3.071,3.071,0,0,1,.259-.468,3.28,3.28,0,0,1,.382-.443Zm8.35,3.571a2.087,2.087,0,0,1,.985.246A1.033,1.033,0,0,1,148,74.72v5.591a3.074,3.074,0,0,1-.259,1.268,3.234,3.234,0,0,1-.7,1.01,3.176,3.176,0,0,1-1.01.665,3.007,3.007,0,0,1-1.158.234H131.128a2.761,2.761,0,0,1-1.158-.259,3.276,3.276,0,0,1-1-.7,3.6,3.6,0,0,1-.7-1.047A3.121,3.121,0,0,1,128,80.188V66.468a2.241,2.241,0,0,1,.271-1.022,3.8,3.8,0,0,1,.7-.961,3.966,3.966,0,0,1,.973-.714,2.321,2.321,0,0,1,1.084-.283h5.739a1.022,1.022,0,0,1,.973.5,2.069,2.069,0,0,1,.283,1.022,1.937,1.937,0,0,1-.283,1,1.036,1.036,0,0,1-.973.48h-4.507a1.071,1.071,0,0,0-.837.357,1.263,1.263,0,0,0-.32.874V79.3a1.143,1.143,0,0,0,.32.825,1.11,1.11,0,0,0,.837.333h11.4a1.28,1.28,0,0,0,.887-.333,1.065,1.065,0,0,0,.369-.825V74.72a1.061,1.061,0,0,1,.16-.591,1.289,1.289,0,0,1,.394-.394,1.594,1.594,0,0,1,.517-.209A2.6,2.6,0,0,1,146.547,73.463Z",transform:"translate(-128 -63.488)"}}]})}},"4bc1":function(t,e,a){"use strict";a("1036")},"4bd5":function(t,e,a){t.exports=a.p+"img/0.b1ca977a.png"},"4e45":function(t,e,a){var s=a("b2b7");t.exports={__esModule:!0,default:s.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"21.64",viewBox:"0 0 28 21.64"},children:[{tag:"defs"},{tag:"g",attrsMap:{transform:"translate(-0.067 -0.001)"},children:[{tag:"path",attrsMap:{class:"a",d:"M231.788,11.965a6.5,6.5,0,1,0-7.057,0,.543.543,0,0,1-.091.954,9.515,9.515,0,0,0-5.734,7.137,1.358,1.358,0,0,0,1.345,1.584h16.021a1.358,1.358,0,0,0,1.344-1.584,9.512,9.512,0,0,0-5.734-7.131.543.543,0,0,1-.088-.959Z",transform:"translate(-214.193 0)"}},{tag:"path",attrsMap:{class:"a",d:"M28.054,186.476a6.3,6.3,0,0,0-3.8-4.72.357.357,0,0,1-.058-.632,4.3,4.3,0,0,0-2.1-7.91,4.374,4.374,0,0,0-.536.005,7.994,7.994,0,0,1-1.89,8.553,11.013,11.013,0,0,1,4.757,5.751h2.735a.9.9,0,0,0,.893-1.047Zm-19.594-4.7a8.032,8.032,0,0,1-1.894-8.557l-.064,0a4.3,4.3,0,0,0-2.565,7.91.357.357,0,0,1-.06.632,6.3,6.3,0,0,0-3.8,4.721.9.9,0,0,0,.892,1.049H3.706a11.013,11.013,0,0,1,4.753-5.75Z",transform:"translate(0 -169.544)"}}]}]})}},5399:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAA1FJREFUWEe92DtoFFEUBuD/jI8kYOGjsbCwECwVFLTQQtBCRDRooWAjCgoWyWqQgMK9Z+MDLLIzkkaMhZUpFFNEUEhhEVBQ0M5ABBuLFCFRtIgkmV9m1pVNsrPzzlQLe+653565c/beETRd1aq3z/fRD/AoRDY3fxf7mfxI+udVr3+NjW0KGBhwdy8tiQvwIIDvAMbIubuq+jsIk0asqneLpIXI+jQTLIslR63t7U46XrV2gnRGINi0Is8EyZOqlR8hUNUzBGzSxJFxxLy1PV1J8hjzYLtIxzcIOlvGE+Pk7HGpVt0Dvo+JXJX7PwMXrendkAQYxBhTOyuOPANa3zWBXBVr3ZcQOZ00ads44rW1PcfT5IpBfhar3hyAdA9Ea8EkuNBtbd9kFFDVPVOvXO+L5phIJPE7ALJ1Qs7QD5/K8TQVaYcjMRI+mYJziZDEeCSQvl9RrbiF4hodglxMgJymv3S4HfCIauVtXmBwW8PKrWxfbZFODVw4FiyXUoGRuMavjkSaTlWdD5dD1Bqk7+eqYCwuBtn4uhRgYtwyJE8bU3m1ckkVDkyNC0TEJPnniOrN6VKBReMKXYNl4AoDloUrBFgmLjewbFwu4FrgMgPXCpcJWBauWn24x/f9IYgcCnshOeE46EvVqFW9UySfp9p9t2nCjaZsjOkUZ+sUgB3LGjWRfLNQP0Ns/JLqtJcAV9/A1naK43xrtXNKXMHw1AfcSbz9SogrDGit9w6C4OwafxETwYmscbaNG5C7guEakS2/Eq29lLhCKmjM4H5x1n2IqwQy4AoBqnrXCAy1BWbEFQK01nsMweUI4A+QQ+ScqupibJVbBOReg1a9d8CyB2S+fjv5FJgbTfowROGLAH4KD/fkW0DekLNjeVHN2NzALLctzRhjBneJsy74J1l1RTZqAa8a0/sozURZY1XdS4QMpwKCnBHBhY6Orvf9/Vd+Zp283bh794a2LSwsHiVleNU7wn8Dxao7BciuMgAF5JyWmBZSwBw5UpCjYkxtrzjyIeolYo70uYfS58nwFbC1DwcgvJ07Y5EJiBFre86HQGPMepGt9yHoK3KOzLmI5+TsxaDX/n/LX4e6h0RwAyLBtmp75gkyDeQMKO8B/4m1ldFGir8fcc419qfJGAAAAABJRU5ErkJggg=="},"53a3":function(t,e,a){t.exports=a.p+"img/1.3740e00d.png"},5952:function(t,e,a){},"5f34":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-content"},[s("div",{staticClass:"content-wrapper"},[s("a-skeleton",{attrs:{loading:t.skeletonLoading,active:""}},[s("div",{staticClass:"content-list"},[s("a-list",{attrs:{size:"large",pagination:t.pagination,"data-source":t.myContentList,loading:t.loading},scopedSlots:t._u([{key:"renderItem",fn:function(e){return s("a-list-item",{key:"item.key",class:{"my-list-item":!0,"active-item":-1!==t.mySelectedList.indexOf(e.type+"-"+e.id)},on:{click:function(a){return t.handleToggleSelect(e)}}},[s("div",{staticClass:"my-list-item-info"},[s("div",{staticClass:"select-block",on:{click:function(a){return t.handleSelectItem(e,a)}}},[-1===t.mySelectedList.indexOf(e.type+"-"+e.id)?s("a-icon",{staticClass:"select-block-icon",attrs:{type:"border"}}):t._e(),-1!==t.mySelectedList.indexOf(e.type+"-"+e.id)?s("div",{staticClass:"selected-icon"},[s("img",{attrs:{src:a("7aa6")}})]):t._e()],1),s("span",{staticClass:"content-info-left",on:{click:function(a){return t.handleSelectItem(e,a)}}},[s("content-type-icon",{attrs:{type:e.type}}),s("span",{staticClass:"name-content"},[s("span",{staticClass:"name-text"},[t._v(" "+t._s(e.name?e.name:"Untitled")+" ")])])],1),s("span",{staticClass:"content-info-right"},[s("span",{staticClass:"link-status",on:{click:function(a){return t.handleSelectItem(e,a)}}},[t._v(" Linked ")]),s("span",{staticClass:"status",on:{click:function(a){return t.handleSelectItem(e,a)}}},[0===e.status?[t._v("Draft")]:t._e(),1===e.status?[t._v("Published")]:t._e()],2),s("span",{staticClass:"update-time",on:{click:function(a){return t.handleSelectItem(e,a)}}},[t._v(" "+t._s(t._f("dayjs")(e.updateTime||e.createTime))+" ")]),s("div",{staticClass:"action"},[s("div",{staticClass:"action-wrapper"},[s("div",{staticClass:"action-item",on:{click:function(t){e.expand=!e.expand}}},[e.expand?s("arrow-top"):s("arrow-down")],1)])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.expand&&e.forms.length,expression:"item.expand && item.forms.length"}],staticClass:"my-list-expand"},[s("div",{staticClass:"form-list"},t._l(e.forms,(function(e,a){return s("div",{key:a,class:{"form-item":!0,"form-item-active":-1!==t.selectedFormIdList.indexOf(e.formId)}},[s("div",{staticClass:"form-mask",on:{click:function(a){return t.handleAddFormItem(e)}}}),s("evaluation-table",{ref:"evaluationTable",refInFor:!0,attrs:{"form-id":e.formId,"init-raw-headers":e.initRawHeaders,"init-raw-data":e.initRawData,"form-type":e.formType,mode:t.EvaluationTableMode.Preview}})],1)})),0)])])}}])}),s("div",{staticClass:"modal-ensure-action-line"},[s("a-button",{staticClass:"action-item action-cancel",attrs:{shape:"round"},on:{click:t.handleCancel}},[t._v("Cancel")]),s("a-button",{staticClass:"action-ensure action-item",attrs:{type:"primary",shape:"round"},on:{click:t.handleEnsure}},[t._v("Confirm")])],1)],1)])],1)])},i=[],n=(a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("4de4"),a("159b"),a("a434"),a("ac1f"),a("1276"),a("c740"),a("823b")),o=a("9afb"),r=a("3f76"),l=a("8f46"),d=a("57a5b"),c=a("69b3"),u=a("9501"),m=a.n(u),f=a("91e8"),h=a.n(f),v=a("9f06"),p=a("90e8"),g=a("1138"),b={name:"SelectEvaluationList",components:{ContentTypeIcon:l["a"],NoMoreResources:c["a"],ArrowTop:m.a,ArrowDown:h.a,EvaluationTable:g["a"]},props:{taskId:{type:String,required:!1,default:null},classId:{type:String,required:!1,default:null},hiddenEvaluationId:{type:String,default:function(){return[]}}},data:function(){var t=this;return{skeletonLoading:!0,loading:!0,loadFailed:!1,myContentList:[],displayMode:d["a"],EvaluationTableMode:p["a"],pagination:{onChange:function(e){n["info"]("pagination onChange",e),t.pageNo=e,t.loadMyContent()},showTotal:function(t){return"Total ".concat(t," items")},total:0,pageSize:10},pageNo:1,typeMap:r["e"],mySelectedList:[],mySelectedMap:new Map,selectedFormIdList:[],selectedFormList:[]}},created:function(){this.$logger.info("SelectEvaluationList taskId "+this.taskId+" classId "+this.classId+" hiddenEvaluationId "+this.hiddenEvaluationId),this.loadMyContent()},methods:{loadMyContent:function(){var t=this;this.loading=!0,Object(o["FindMyContent"])({owner:r["c"][this.currentOwner],types:[r["e"].evaluation],pageNo:this.pageNo,pageSize:this.pagination.pageSize,currentId:this.currentId}).then((function(e){if(n["info"]("loadMyContent",e),e.result&&e.result.records&&e.result.records.length){e.result.records=e.result.records.filter((function(e){return e.id!==t.hiddenEvaluationId})),e.result.records.forEach((function(t,e){t.key=e,t.expand=!1}));var a=e.result.records;a.forEach((function(t){t.forms=[]})),t.myContentList=e.result.records,t.pagination.total=e.result.total}else t.myContentList=[],t.pagination.total=0;n["info"]("myContentList",t.myContentList)})).finally((function(){t.loading=!1,t.skeletonLoading=!1}))},handleSelectItem:function(t,e){n["info"]("handleSelectItem",t),e.preventDefault(),e.stopPropagation();var a=t.type+"-"+t.id,s=this.mySelectedList.indexOf(a);-1!==s?(this.mySelectedList.splice(s,1),this.mySelectedMap.delete(a)):(this.mySelectedList.push(a),this.mySelectedMap.set(a,t)),this.$logger.info("mySelectedList",this.mySelectedList)},handleToggleSelect:function(t){var e=this;n["info"]("handleToggleSelect",t),t.expand&&Object(v["EvaluationQueryByIds"])({ids:[t.id]}).then((function(a){e.$logger.info("handleToggleSelect EvaluationQueryByIds "+t.id,a);var s=[];a.result.forEach((function(t){t.forms.forEach((function(t){s.push({title:t.title,titleEditing:!1,formType:t.formType,se:t.se,pe:t.pe,menuVisible:!1,id:t.id,formId:t.formId,initRawHeaders:JSON.parse(t.initRawHeaders),initRawData:JSON.parse(t.initRawData)})}))})),t.forms=s,0===t.forms.length&&e.$message.warn("The current assessment tool form has not been created")}))},handleCancel:function(){this.$logger.info("cancel"),this.$emit("cancel")},handleEnsure:function(){this.$logger.info("handleEnsure");var t=[];this.mySelectedList.forEach((function(e){t.push(e.split("-")[1])}));var e={evaluationIdList:t,selectedFormList:this.selectedFormList};this.$emit("selected",e)},handleAddFormItem:function(t){n["info"]("handleAddFormItem",t);var e=this.selectedFormList.findIndex((function(e){return e.formId===t.formId}));-1!==e?this.selectedFormList.splice(e,1):this.selectedFormList.push(t);var a=[];this.selectedFormList.forEach((function(t){a.push(t.formId)})),this.selectedFormIdList=a}}},A=b,I=(a("200e"),a("0c7c")),E=Object(I["a"])(A,s,i,!1,null,"2dba5a7f",null);e["a"]=E.exports},"66a8":function(t,e){t.exports="data:image/png;base64,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"},"67b9":function(t,e,a){},"6d09":function(t,e,a){"use strict";a("67b9")},7735:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ppt-slide-view"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"score-number-item"},[s("score-number",{attrs:{score:t.studentScore}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.mode,expression:"mode"}],staticClass:"go-session-detail"},[s("a-space",[s("a-button",{attrs:{shape:"round",type:"primary",disabled:t.loading},on:{click:t.handleEnsureEvidence}},[t._v("Confirm")]),s("a-button",{attrs:{shape:"round"},on:{click:t.handleCancelEvidence}},[t._v("Cancel")])],1)],1),t.loading?t._e():s("div",{staticClass:"student-profile"},[s("div",{staticClass:"student-info"},[s("div",{staticClass:"student-name"},[t._v("Student :")]),t._v(" "+t._s(t.studentName)+" ")])]),t.loading?t._e():s("div",{staticClass:"tips"},[s("h3",[t._v("Multiple choice")])]),t.loading?t._e():s("div",{staticClass:"slide-content-list",style:{height:t.mode?"calc(100vh - 200px)":"400px"}},[t._l(t.slideDataList,(function(e,i){return s("div",{key:i,class:{"slide-comment-item":!0,"active-slide-item":-1!==t.selectedSlidePageIdList.indexOf(e.pageObjectId)||-1!==t.selectedStudentSlidePageIdList.indexOf(e.pageObjectId)},attrs:{"data-pageObjectId":e.pageObjectId,"data-selectedSlidePageIdList":JSON.stringify(t.selectedSlidePageIdList)},on:{click:function(a){return t.handleAddSlideItem(e)}}},[s("div",{staticClass:"slide-header-label"},[s("h3",[t._v("Slide "+t._s(i+1))]),s("div",{staticClass:"selected-icon"},[-1!==t.selectedSlidePageIdList.indexOf(e.pageObjectId)?s("div",{staticClass:"icon-item"},[s("teacher-icon")],1):t._e(),-1!==t.selectedStudentSlidePageIdList.indexOf(e.pageObjectId)?s("div",{staticClass:"icon-item"},[s("student-icon")],1):t._e()])]),s("div",{staticClass:"slide-body"},[s("div",{staticClass:"slide-img"},[s("img",{attrs:{src:e.contentUrl,"data-url":e.contentUrl},on:{click:function(e){return t.handleClickImg(e)}}}),s("div",{staticClass:"top-icon-groups"},[Object.keys(e.material).length>0?s("a-col",{staticClass:"material-row"},[s("div",{staticClass:"icon-group"},[e.material.hasOwnProperty("text")?s("a-badge",{attrs:{count:e.material["text"]?e.material["text"].length:0}},[s("div",{staticClass:"icon",on:{click:function(a){return t.showPluginMaterial(e,"text")}}},[s("text-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Text")])],1)]):t._e(),e.material.hasOwnProperty("image")?s("a-badge",{attrs:{count:e.material["image"]?e.material["image"].length:0}},[s("div",{staticClass:"icon",on:{click:function(a){return t.showPluginMaterial(e,"image")}}},[s("image-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Image")])],1)]):t._e(),e.material.hasOwnProperty("video")?s("a-badge",{attrs:{count:e.material["video"]?e.material["video"].length:0}},[s("div",{staticClass:"icon",on:{click:function(a){return t.showPluginMaterial(e,"video")}}},[s("video-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Video")])],1)]):t._e(),e.material.hasOwnProperty("audio")?s("a-badge",{attrs:{count:e.material["audio"]?e.material["audio"].length:0}},[s("div",{staticClass:"icon",on:{click:function(a){return t.showPluginMaterial(e,"audio")}}},[s("audio-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Audio")])],1)]):t._e(),e.material.hasOwnProperty("iframe")?s("a-badge",{attrs:{count:e.material["iframe"]?e.material["iframe"].length:0}},[s("div",{staticClass:"icon",on:{click:function(a){return t.showPluginMaterial(e,"iframe")}}},[s("youtube-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Youtube")])],1)]):t._e(),e.material.hasOwnProperty("pdf")?s("a-badge",{attrs:{count:e.material["pdf"]?e.material["pdf"].length:0}},[s("div",{staticClass:"icon",on:{click:function(a){return t.showPluginMaterial(e,"pdf")}}},[s("pdf-type-svg"),s("div",{staticClass:"icon-text"},[t._v("PDF")])],1)]):t._e(),e.material.hasOwnProperty("website")?s("a-badge",{attrs:{count:e.material["website"]?e.material["website"].length:0}},[s("div",{staticClass:"icon",on:{click:function(a){return t.showPluginMaterial(e,"website")}}},[s("url-type-svg"),s("div",{staticClass:"icon-text"},[t._v("Website")])],1)]):t._e()],1)]):t._e()],1)]),s("div",{staticClass:"slide-response"},[s("div",{staticClass:"data-list"},[e.commentList.length?s("div",{staticClass:"data-item"},[s("div",{staticClass:"comment-bg",on:{click:function(t){t.stopPropagation()}}},[s("img",{staticClass:"cover",attrs:{src:e.contentUrl}}),s("img",{staticClass:"expand-icon",attrs:{src:a("d815")},on:{click:function(a){return a.stopPropagation(),t.handleViewExpand(e)}}}),t._l(e.commentList,(function(t,e){return s("div",{key:e,staticClass:"dot-item",style:{position:"absolute",border:"2px solid #aaa",backgroundColor:t.background,left:t.left/t.content_width*280+"px",top:t.top/t.content_height*160+"px"}})}))],2)]):t._e(),e.material&&e.material.hasOwnProperty("image")?s("div",{staticClass:"img-item-list",on:{click:function(t){t.stopPropagation()}}},t._l(e.material.image,(function(e,a){return s("div",{key:a,staticClass:"img-item",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"img-cover",style:{"background-image":"url('"+e.url+"')"}}),s("div",{staticClass:"view-item",on:{click:function(a){return a.stopPropagation(),t.handleViewItem(e.url)}}},[t._v("View "),s("a-icon",{attrs:{type:"eye"}})],1)])})),0):t._e(),e.material&&e.material.hasOwnProperty("audio")?s("div",{staticClass:"audio-item-list"},t._l(e.material.audio,(function(t,e){return s("div",{key:e,staticClass:"audio-item",on:{click:function(t){t.stopPropagation()}}},[s("img",{staticClass:"img-icon",attrs:{src:a("1707")}}),s("div",{staticClass:"audio-view"},[s("audio",{attrs:{controls:"",src:t.url}})])])})),0):t._e(),e.material&&e.material.hasOwnProperty("video")?s("div",{staticClass:"video-item-list"},t._l(e.material.video,(function(t,e){return s("div",{key:e,staticClass:"video-item",on:{click:function(t){t.stopPropagation()}}},[s("img",{staticClass:"img-icon",attrs:{src:a("66a8")}}),s("div",{staticClass:"video-view"},[s("video",{attrs:{controls:"",src:t.url}})])])})),0):t._e(),t._l(e.responseList,(function(e,a){return s("div",{key:a,staticClass:"data-item"},["media"===e.itemData.type?["audio"===e.responseData.content.mediaType?[s("audio",{attrs:{src:e.responseData.content.link,controls:""}})]:t._e()]:t._e(),"audio"===e.responseData.type?[s("audio",{attrs:{src:e.responseData.content.link,controls:""}})]:t._e(),"draw"===e.responseData.type?[s("img",{attrs:{src:e.responseData.content}})]:t._e(),"text"===e.responseData.type?[t._v(" "+t._s(e.responseData.content)+" ")]:t._e(),e.itemData&&e.itemData.data&&e.itemData.data.options?[s("div",{staticClass:"option-list",on:{click:function(t){t.stopPropagation()}}},t._l(e.itemData.data.options,(function(e,a){return s("div",{key:a,staticClass:"option-item"},[s("a-radio",{attrs:{checked:e.isAnswer}},[t._v(t._s(e.text))]),e.isAnswer?s("span",{staticClass:"correct-option"},[t._v("Correct answer")]):t._e()],1)})),0)]:t._e()],2)}))],2)]),s("div",{staticClass:"slide-comment"},[s("div",{staticClass:"teacher-data",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"teacher-score"},[s("a-row",{staticClass:"score-item",attrs:{gutter:5}},[s("a-col",{attrs:{span:"5"}},[s("h3",{staticStyle:{"text-align":"right"}},[t._v("Score")])]),s("a-col",{attrs:{span:"16"}},[s("a-input",{attrs:{placeholder:"Max 10",type:"number",min:"0",max:"10"},nativeOn:{keyup:function(t){t.stopPropagation(),e.score=e.score>10?10:e.score}},model:{value:e.score,callback:function(a){t.$set(e,"score",a)},expression:"slideItem.score"}})],1)],1),s("div",{staticClass:"comment-list"},t._l(e.teacherCommentList,(function(e,a){return s("div",{key:a,staticClass:"comment-item"},[s("div",{staticClass:"comment-user-info"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:e.avatar}})]),s("div",{staticClass:"profile"},[s("div",{staticClass:"name"},[t._v(t._s(e.createBy))]),s("div",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(e.createTime)))])])]),s("div",{staticClass:"comment-detail"},[t._v(t._s(e.comment))])])})),0),s("div",{staticClass:"comment-add"},[s("div",{staticClass:"add-comment-wrapper"},[s("div",{staticClass:"comment-input-wrapper"},[s("div",{staticClass:"input"},[s("evidence-comment-input",{attrs:{extra:e},on:{send:t.handleAddComment}})],1)])])])],1)]),s("div",{staticClass:"action-item"},[t.mode===t.EvaluationTableMode.TeacherEvaluate?[-1!==t.selectedSlidePageIdList.indexOf(e.pageObjectId)?[t._m(0,!0)]:t._e(),-1===t.selectedSlidePageIdList.indexOf(e.pageObjectId)?[t._m(1,!0)]:t._e()]:t._e(),t.mode===t.EvaluationTableMode.StudentEvaluate?[-1!==t.selectedStudentSlidePageIdList.indexOf(e.pageObjectId)?[t._m(2,!0)]:t._e(),-1===t.selectedStudentSlidePageIdList.indexOf(e.pageObjectId)?[t._m(3,!0)]:t._e()]:t._e()],2)])])])})),s("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"800px",zIndex:6e3,title:"My Materials"},on:{ok:function(e){t.materialVisible=!1},cancel:function(e){t.materialVisible=!1}},model:{value:t.materialVisible,callback:function(e){t.materialVisible=e},expression:"materialVisible"}},[s("task-material-preview",{attrs:{"current-page-element-lists":t.currentPageElementLists,"filter-type":t.filterMaterialType}})],1),s("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"900px",zIndex:5e3,title:null},on:{ok:function(e){t.mediaVisible=!1},cancel:function(e){t.mediaVisible=!1}},model:{value:t.mediaVisible,callback:function(e){t.mediaVisible=e},expression:"mediaVisible"}},[s("media-preview",{attrs:{"media-list":t.mediaList,"material-type":t.filterMaterialType}})],1),s("a-modal",{attrs:{footer:null,destroyOnClose:"",width:"1000px",zIndex:5e3,title:null},on:{ok:function(e){t.viewSlideItemVisible=!1},cancel:function(e){t.viewSlideItemVisible=!1}},model:{value:t.viewSlideItemVisible,callback:function(e){t.viewSlideItemVisible=e},expression:"viewSlideItemVisible"}},[s("slide-preview",{attrs:{"slide-item":t.currentViewSlideItem}})],1)],2),t.loading?s("div",{staticClass:"loading"},[s("a-spin")],1):t._e(),s("a-modal",{attrs:{destroyOnClose:"",footer:null,closable:!1,width:"800px",bodyStyle:{padding:"0px"}},on:{ok:function(e){t.previewItemVisible=!1}},model:{value:t.previewItemVisible,callback:function(e){t.previewItemVisible=e},expression:"previewItemVisible"}},[s("div",{staticClass:"preview-item"},[s("img",{staticClass:"preview-img",attrs:{src:t.previewItemUrl},on:{load:function(e){t.previewLoading=!1}}}),t.previewLoading?s("div",{staticClass:"preview-loading"},[s("a-spin",{staticClass:"preview-loading"})],1):t._e()])])],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"action-btn-delete"},[s("div",{staticClass:"action-icon"},[s("img",{attrs:{src:a("8dab"),alt:""}})]),s("div",{staticClass:"text"},[t._v(" Delete ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"action-btn-add"},[s("div",{staticClass:"action-icon"},[s("img",{attrs:{src:a("ce1b"),alt:""}})]),s("div",{staticClass:"text"},[t._v(" Add ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"action-btn-delete"},[s("div",{staticClass:"action-icon"},[s("img",{attrs:{src:a("8dab"),alt:""}})]),s("div",{staticClass:"text"},[t._v(" Delete ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"action-btn-add"},[s("div",{staticClass:"action-icon"},[s("img",{attrs:{src:a("ce1b"),alt:""}})]),s("div",{staticClass:"text"},[t._v(" Add ")])])}],n=a("3835"),o=a("b85c"),r=a("5530"),l=(a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("159b"),a("a434"),a("b0c0"),a("8897")),d=a("9f06"),c=a("c621"),u=a("90e8"),m=a("519d"),f=a.n(m),h=a("a615f"),v=a.n(h),p=a("1b72"),g=a("873a"),b=a("542c"),A=a("8448"),I=a.n(A),E=a("998c"),C=a.n(E),w=a("4084"),y=a.n(w),S=a("8a21"),L=a.n(S),k=a("1eeb"),x=a.n(k),O=a("5a1d"),D=a.n(O),M=a("6631"),T=a.n(M),F=a("f4e6"),N=a("97e7"),U=a("de36"),B=a("2f59"),P={name:"PptSlideView",components:{ScoreNumber:N["a"],SlidePreview:F["a"],EvidenceCommentInput:U["a"],StudentIcon:f.a,TeacherIcon:v.a,MediaPreview:g["a"],TaskMaterialPreview:b["a"],TextTypeSvg:I.a,ImageTypeSvg:C.a,VideoTypeSvg:y.a,AudioTypeSvg:L.a,YoutubeTypeSvg:x.a,PdfTypeSvg:D.a,UrlTypeSvg:T.a},mixins:[B["a"]],props:{mode:{type:String,default:""},slideId:{type:String,required:!0},formId:{type:String,default:null},rowId:{type:String,default:null},classId:{type:String,default:null},sessionId:{type:String,default:null},selectedIdList:{type:Array,default:function(){return[]}},selectedIdStudentList:{type:Array,default:function(){return[]}},studentName:{type:String,default:null}},data:function(){return{loading:!0,EvaluationTableMode:u["a"],selectedSlidePageIdList:[],selectedStudentSlidePageIdList:[],rawSlideDataMap:new Map,slideDataList:[],elementsList:[],itemsList:[],materialVisible:!1,mediaVisible:!1,filterMaterialType:null,currentPageElementLists:[],mediaList:[],currentViewSlideItem:null,viewSlideItemVisible:!1,previewItemUrl:null,previewItemVisible:!1,previewLoading:!1}},watch:{studentName:function(){this.loadData()}},computed:{studentScore:function(){var t=0;return this.slideDataList.forEach((function(e){t+=parseInt(e.score)})),t},totalScore:function(){return 10*this.slideDataList.length}},created:function(){this.$logger.info("PptSlideView"+this.slideId+" classId "+this.classId,"selectedIdList",this.selectedIdList,"selectedIdStudentList",this.selectedIdStudentList,"studentName",this.studentName),this.selectedSlidePageIdList=this.selectedIdList,this.selectedStudentSlidePageIdList=this.selectedIdStudentList,this.loadData()},methods:{resetData:function(){this.rawSlideDataMap.clear(),this.slideDataList=[],this.elementsList=[],this.itemsList=[],this.currentPageElementLists=[],this.mediaList=[],this.materialVisible=!1,this.mediaVisible=!1,this.viewSlideItemVisible=!1,this.previewItemVisible=!1,this.previewLoading=!1,this.filterMaterialType=null,this.previewItemUrl=null,this.currentViewSlideItem=null},loadData:function(){var t=this;this.loading=!0,this.resetData(),this.$logger.info("加载PPT数据 "+this.classId+" slideId "+this.slideId+" formId"+this.formId+" rowId "+this.rowId),Promise.all([Object(c["d"])({taskId:this.formId}),Object(p["c"])({slideId:this.slideId}),Object(d["QuerySessionEvidence"])({sessionId:this.sessionId,user:this.studentName}),Object(p["d"])({classId:this.sessionId})]).then((function(e){if(t.$logger.info("加载PPT数据 response",e),e[2].result&&e[2].result.result){t.$logger.info("使用历史评估数据",e[2].result.result);var a=JSON.parse(e[2].result.result);t.$logger.info("解析历史数据",a),t.slideDataList=a.slideDataList,t.elementsList=a.elementsList,t.itemsList=a.itemsList,t.$logger.info("使用历史评估数据 this.slideDataList",t.slideDataList," this.elementsList",t.elementsList," this.itemsList",t.itemsList),t.loading=!1}else{if(e[0].code!==t.ErrorCode.ppt_google_token_expires&&e[0].code!==t.ErrorCode.ppt_forbidden){var s=e[0].result.pageObjects;s.length?(s.forEach((function(e){e.responseList=[],e.commentList=[],e.pageObjectId&&t.rawSlideDataMap.set(e.pageObjectId,e)})),t.loadStudentData()):(t.loading=!1,t.$logger.info("loaded data",t.imgList,t.commentData))}e[1].success&&(t.elementsList=e[1].result.relements,t.itemsList=e[1].result.items)}}))},handleAuthCallback:function(){this.$logger.info("handleAuthCallback"),this.loadData()},loadStudentData:function(){var t=this;this.$logger.info("loadStudentData",this.rawSlideDataMap),Object(l["a"])({class_id:this.sessionId}).then((function(e){t.$logger.info("GetStudentResponse response",e);var a=e.data.presentation_comments;a.forEach((function(e){var a=JSON.parse(e.data),s=a.page_id,i=t.rawSlideDataMap.get(s);i?(i.commentList.push(Object(r["a"])(Object(r["a"])({},a),{},{user_id:e.user_id})),t.rawSlideDataMap.set(s,i)):t.$logger.warn("commentList no get slideIem by pageId "+s)}));var s=e.data.response,i=[];s.forEach((function(e){var a=JSON.parse(e.response_data),s=JSON.parse(e.item_data),n=e.response_type,o=e.student_user_id,r=a.page_id,l=t.rawSlideDataMap.get(r);l&&-1===i.indexOf(s.item_id)&&(i.push(s.item_id),t.$logger.info("find slideItem response "+a.page_id,s),l.responseList.push({responseData:a,itemData:s,responseType:n,studentUserId:o}),t.rawSlideDataMap.set(r,l))})),t.$logger.info("after set rawSlideDataMap ",t.rawSlideDataMap);var l,d=Object(o["a"])(t.rawSlideDataMap);try{var c=function(){var e=Object(n["a"])(l.value,2),a=e[0],s=e[1],i={};t.elementsList.forEach((function(t){if(a===t.pageId){var e=JSON.parse(t.data);"tip"!==e.type&&(i.hasOwnProperty(e.type)||(i[e.type]=[]),i[e.type].push(e))}})),t.slideDataList.push(Object(r["a"])(Object(r["a"])({},s),{},{pageId:a,material:i,score:0,teacherCommentList:[]})),s.commentList.length&&t.$logger.info("commentList have data"+JSON.stringify(s)),s.responseList.length&&t.$logger.info("responseList have data"+JSON.stringify(s))};for(d.s();!(l=d.n()).done;)c()}catch(u){d.e(u)}finally{d.f()}t.$logger.info("slideDataList",t.slideDataList)})).finally((function(){t.loading=!1}))},showPluginMaterial:function(t,e){var a=t.material[e],s=t.pageId;this.$logger.info("showPluginMaterial ",t,e);var i=[];0!==this.slideDataList.length&&this.elementsList.forEach((function(t){if(s===t.pageId){var e=JSON.parse(t.data);i.push(e)}})),this.currentPageElementLists=i,"text"===e||"website"===e||"pdf"===e?a.length>1?(this.filterMaterialType=e,this.materialVisible=!0):"tip"!==a[0].type&&window.open(a[0].url,"_blank"):(this.mediaList=a,this.filterMaterialType=e,this.mediaVisible=!0)},handleAddSlideItem:function(t){if(this.$logger.info("handleAddSlideItem",t),this.mode===u["a"].TeacherEvaluate){var e=this.selectedSlidePageIdList.indexOf(t.pageId);-1!==e?this.selectedSlidePageIdList.splice(e,1):this.selectedSlidePageIdList.push(t.pageId)}else if(this.mode===u["a"].StudentEvaluate){var a=this.selectedStudentSlidePageIdList.indexOf(t.pageId);-1!==a?this.selectedStudentSlidePageIdList.splice(a,1):this.selectedStudentSlidePageIdList.push(t.pageId)}},handleClickImg:function(t){this.$logger.info("handleClickImg",t),t.target.src=t.target.src+"#"+(new Date).getTime()},handleEnsureEvidence:function(){var t=this;this.$logger.info("handleEnsureEvidence "+this.mode,this.mode===u["a"].TeacherEvaluate?this.selectedSlidePageIdList:this.selectedStudentSlidePageIdList);var e={slideDataList:this.slideDataList,elementsList:this.elementsList,itemsList:this.itemsList};this.$logger.info("保存evaluation数据",e),Object(d["SaveSessionEvidence"])({sessionId:this.sessionId,user:this.studentName,result:JSON.stringify(e)}).then((function(){t.$emit("ensure-evidence-finish",{mode:t.mode,data:t.mode===u["a"].TeacherEvaluate?t.selectedSlidePageIdList:t.selectedStudentSlidePageIdList,row:t.rowId,user:t.studentName,formId:t.formId,slideDataList:JSON.stringify(t.slideDataList)})}))},handleCancelEvidence:function(){this.$emit("cancel-evidence-finish")},handleAddComment:function(t){this.$logger.info("handleAddComment",t),t.extra.teacherCommentList.push({comment:t.inputValue,avatar:this.$store.getters.avatar,createBy:this.$store.state.user.name,createTime:(new Date).getTime()})},handleViewExpand:function(t){this.$logger.info("handleViewExpand",t),this.currentViewSlideItem=t,this.viewSlideItemVisible=!0},handleViewItem:function(t){this.previewItemUrl=t,this.previewItemVisible=!0,this.previewLoading=!0}}},j=P,Q=(a("93ba"),a("0c7c")),R=Object(Q["a"])(j,s,i,!1,null,"1a73cb12",null);e["a"]=R.exports},"7aa6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAABWlJREFUWEfVmX9MHFUQx7/THvGuLaAUKNge7Qnyo9IgAYUWjNo0NipEaqgl0QQbDOgfNcFEA4l/mNSERhJJ1Kgl4o9EE6pVUUi1ptLGKumlJaQttaAVECilSLFAhSP8eGaWXXK3t3e7e3do+/7Zy723bz47b2bevHmEIJoQIg9AAYAkAHEANshPnnUYwKD87ALwPRH9Eqg4MvuiEOJBAM/KgNEm3x8F0ALgA7PQhkGFECkADgAoUuB6pyfw3bU+tE+OYGR2CkMzU9KTW2zYKtita7DWYsX9EXF4JCoBDluE+3c1Aagiom4jH6sLKoSwAqgD8BwAyz/zs6gf6kTj1d/Q65owImNpjMMagZJ1ySi/Mx2rV4bx/3OsXQCVROTyN5lfUCEE293XAHLnxAI+Gb6Iuv4OjMxOmwJUD44Ns6EyIROlcWmw0AruPgVgFxGxXWs2n6BCiAzZnjb0uybxzK9H0TX1d1CA6pdTV92BTzfvRII1nLvY8QqI6KyWEE1QGfJnAGuc48Mo6zoWtBZ9fSFrtyF1B3IiefFwA0C+FqwXqLzcpznUNI/2oLy7FfNChFST6slWEqE+ZTsKo+/irj4AW9Vm4AEqO85xtknWZFFny7JDKtAM25ReoGiWV/NhImJnk5oa9D0Az7NNPnb2m2Vbbn9mcCTjCcVm3yeiF7xAhRCpAM7PiQXL9o6vQu44Rm2HHaw180mOBqzNNCK65KFRIQSHoaKGKxdQ/Ueb0XkDHsdLzaFpZmHea47axHyUxqfx/01EtGsJVN4WT3AwzzlzaNmXvCohGy/aMyTQhqELqO7xVAxHAmf2HmVTyCUip2SjQoiPeP+uG+hAzZ9nAtaSkRf3O3JRsX6Lx9Dyrh/RNNrj8V/1xmxU2jP5v4+JaC8JISwArgCIZm2a3RaNwCljtCC5782BDhxQKSjJdjvasnZz9ygRxTBoPoCTnGDktB8yI9fUWF+QPElx5xH8dP2y13zOrD1KIvMAg9ZwFvPu4Dm81uc0JdzoYH+Q/uTud2xFxfp0FvM6g37BH1V28Riar/UalW14nD/I+svn8Wov5yParXCtAw1pO7jzMIOe5P218Ny3cE5c1XyjOCZJSs04lLDDtV7n/EG/BQPJs2+LjEfTFj5A4ASDsho3ZZ1uxMDMpJd0t8FSH6d75V2taNHRfrCQLMt+Wzja7yvhn30Mysml1d72oWbwrdqYjZcWw8RS04MNBSQLW73Cgt5te/nnDV3QkthkvJXMxyTP5gs2VJBaoH6Xnre6L9Mfl+xFDzaUkFpLr+tMvASN9zyqpGCaZpATsc5rx1EG6nm3L7dUO5Oh8OQP1p//BwrJc6rDk+GAbxY2GEgGVQd8eQsdR07757rB0ShssJAM4sx6Cg5bJP+UtlDTSYkebCggvZISxlXSPK0sxpeKfcGGApJlusXvxTRPBn0IwHGziTPD1iTmSdUP3l7f6G/H24Oax3Jdk3IfoEqc+UR6aulwt3QU0ci49aQwsEvMh+zEWpuYh9L4zSzW8ygia/XWONzJsDfTcfkdItqnrOatWYCQtcpFoJu7pKOoWQhxL5+j/qciGXt5p9qB/ZUdGbaZi2X/UdmRi2OFWpAMbaqQ+9lwtxQr/wqykBsTZsMrCVl4Oi5FKeRyUWx3QIVcNzPwKo0fHOrE4ZHfcWl6XC/EevQn2SJRHHs3KrxL4/vcK3dak+rW8N2A+Yqm1vOyYRw/jPVLh8KxORcGXJMYm10sxUeFWWG3hiPKYgXnqouXDVKCoTS+bHhZKYLpfbFhUDdgzrbKgry+Ocjboh6ce79pUPeX5SrLTgC8q/Gd0yb5ycP4TokdhJ98IXaUiNgWA2r/AqKY1RuF7jn8AAAAAElFTkSuQmCC"},"7bd1":function(t,e,a){},"7ee9":function(t,e,a){t.exports=a.p+"img/5.2460f902.png"},"80a9":function(t,e,a){t.exports=a.p+"img/button_line_1.e8da84a5.png"},"81c4":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a-row",{staticClass:"common-form-header"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.$store.getters.hiddenHeader&&t.debounceHiddenHeader,expression:"$store.getters.hiddenHeader && debounceHiddenHeader"}],staticClass:"hover-bar",on:{mouseenter:t.handleMouseEnterOutHoverBar,mouseout:t.handleCancelBounce}}),s("a-col",{attrs:{span:"15"}},[s("a-space",[t.showBack?s("span",{staticClass:"back-icon"},[s("a-icon",{attrs:{type:"left"}})],1):t._e(),t.showBack?s("a-button",{staticClass:"nav-back-btn",attrs:{type:"link"},on:{click:t.handleBack}},[t._v(t._s(t.$t("teacher.add-lesson.back")))]):t._e(),s("span",[s("content-type-icon",{attrs:{type:t.form.type}})],1),t.form.type===t.typeMap.classSessionEvaluation?[s("div",{staticClass:"edit-form-name"},[s("div",{staticClass:"form-name"},[t._v(" "+t._s(t.form.className?t.form.className:"Untitled session")+" ")]),s("div",{staticClass:"class-name"},[t._v(" "+t._s(t.form.name?t.form.name:"Untitled className")+" ")])])]:t._e(),t.form.type===t.typeMap.evaluation?[s("div",{staticClass:"edit-form-name"},[s("div",{staticClass:"form-name"},[t.editFormNameMode?[s("a-input",{attrs:{maxLength:240},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnsureNewFormName.apply(null,arguments)},click:function(t){t.stopPropagation()}},model:{value:t.formName,callback:function(e){t.formName=e},expression:"formName"}})]:[t._v(t._s(t.form.name?t.form.name:"Untitled session"))]],2),s("div",{staticClass:"edit-icon",on:{click:function(e){e.stopPropagation(),t.editFormNameMode=!t.editFormNameMode}}},[s("img",{attrs:{src:a("5399"),alt:""}})])])]:t._e(),t.form.type!==t.typeMap.evaluation&&t.form.type!==t.typeMap.classSessionEvaluation?[t.lastChangeSavedTime?s("span",{staticClass:"unit-last-change-time"},[s("span",{staticClass:"unit-nav-title"},[t._v(" "+t._s(t.form.name?t.form.name:"Untitled")+" ")]),t.form.name?s("a-divider",{attrs:{type:"vertical"}}):t._e(),t._v(" "+t._s(t.$t("teacher.add-lesson.last-change-saved-at-time",{time:t.lastChangeSavedTime}))+" ")],1):t._e()]:t._e()],2)],1),s("a-col",{staticClass:"unit-right-action",attrs:{span:"9"}},[s("a-space",[t.showCollaborate?[s("div",{staticClass:"collaborate-users"},[t._l(t.collaborateUserList,(function(e,a){return a<5?s("div",{key:a,class:{"item-avator":!0,gray:-1===t.onlineUsers.indexOf(e.email)},style:{"z-index":1e3-a}},[s("a-tooltip",{attrs:{title:t.formatOnlineEmail(e.email),placement:"bottom"}},[s("a-badge",{attrs:{color:"green"}},[s("a-avatar",{staticClass:"user-item",attrs:{size:30,src:e.userAvatar}})],1)],1)],1):t._e()})),s("a-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.collaborateUserList.length>5,expression:"collaborateUserList.length > 5"}],attrs:{overlayStyle:{"z-index":"3000"}}},[s("a",{staticClass:"ant-dropdown-link",staticStyle:{"font-size":"16px","margin-left":"15px"}},[t._v(" +"+t._s(t.collaborateUserList.length-5)+" ")]),s("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},t._l(t.collaborateUserList,(function(e,a){return a>4?s("a-menu-item",{key:a},[s("a-avatar",{class:{"user-item":!0,gray:-1===t.onlineUsers.indexOf(e.email)},attrs:{size:"small",src:e.userAvatar}}),t._v(" "+t._s(e.userName)+" ")],1):t._e()})),1)],1)],2),s("a-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.isOwner,expression:"isOwner"}],attrs:{placement:"bottom",title:"Collaborate"}},[s("div",{staticClass:"collaborate-comment",on:{click:t.handleStartCollaborate}},[s("collaborate-user-icon",{staticClass:"active-icon"})],1)]),t.isOwner||t.isEditCollaborater?s("div",{staticClass:"collaborate-comment",on:{click:t.handleViewComment}},[s("comment-icon",{staticClass:"active-icon"})],1):t._e()]:t._e(),s("a-button",{directives:[{name:"show",rawName:"v-show",value:t.showShare&&(t.isOwner||t.isEditCollaborater),expression:"showShare && (isOwner || isEditCollaborater)"}],staticClass:"my-form-header-btn",on:{click:t.handleSharing}},[s("div",{staticClass:"btn-icon"},[s("a-icon",{style:{fontSize:"16px",color:"#15c39a"},attrs:{type:"share-alt"}})],1),s("div",{staticClass:"btn-text"},[t.isShare?[t._v(" Sharing ")]:[t._v(" Share ")]],2)]),s("a-button",{directives:[{name:"show",rawName:"v-show",value:t.isOwner||t.isEditCollaborater,expression:"isOwner || isEditCollaborater"}],staticClass:"my-form-header-btn",attrs:{loading:t.saving},on:{click:t.handleSave}},[s("div",{staticClass:"btn-icon"},[s("img",{attrs:{src:a("4551")}})]),s("div",{staticClass:"btn-text",attrs:{"data-isOwner":t.isOwner+"","data-isEditCollaborater":t.isEditCollaborater+""}},[t._v(" Save ")])]),t.isOwner&&0===t.form.status&&t.form.type!==t.typeMap.classSessionEvaluation?s("a-button",{staticClass:"my-form-header-btn",attrs:{loading:t.publishing},on:{click:function(e){return t.handlePublish(1)}}},[s("div",{staticClass:"btn-icon"},[s("img",{attrs:{src:a("f7b2")}})]),s("div",{staticClass:"btn-text",attrs:{"data-isOwner":t.isOwner+"","data-form-status":t.form.status+""}},[t._v(" Publish ")])]):t._e(),t.isOwner&&1===t.form.status?s("a-button",{staticClass:"my-form-header-btn",attrs:{loading:t.publishing},on:{click:function(e){return t.handlePublish(0)}}},[s("div",{staticClass:"btn-icon"},[s("a-icon",{style:{fontSize:"16px",color:"#15c39a"},attrs:{theme:"filled",type:"down-square"}})],1),s("div",{staticClass:"btn-text",attrs:{"data-isOwner":t.isOwner+"","data-form-status":t.form.status+""}},[t._v(" Unpublish ")])]):t._e()],2),t.allowHiddenHeader?s("div",{staticClass:"hidden-top-header",style:{"background-color":(t.hiddenHeader,"#fff")}},[s("div",{staticClass:"hidden-toggle",on:{click:t.toggleHiddenHeader}},[t.hiddenHeader?[s("a-icon",{style:{fontSize:"16px",color:"#182552"},attrs:{type:"caret-down"}})]:t._e()],2)]):t._e()],1)],1)},i=[],n=(a("cd17"),a("ed3b")),o=a("5530"),r=(a("a9e3"),a("c740"),a("99af"),a("b0c0"),a("a434"),a("4de4"),a("a903")),l=a.n(r),d=a("09cf"),c=a.n(d),u=a("8f46"),m=a("3f76"),f=a("49cf"),h=a.n(f),v=a("2f62"),p=a("9fb0"),g=a("4fcf"),b=g.debounce,A={name:"CommonFormHeader",components:{CommentIcon:l.a,ContentTypeIcon:u["a"],EditIcon:h.a,CollaborateUserIcon:c.a},props:{form:{type:Object,default:function(){return null}},collaborate:{type:Object,default:function(){return null}},lastChangeSavedTime:{type:String,default:""},showCollaborate:{type:Boolean,default:!0},showBack:{type:Boolean,default:!0},shareStatus:{type:Number,default:0},showShare:{type:Boolean,default:!0},isPreviewMode:{type:Boolean,default:!1}},data:function(){return{publishing:!1,saving:!1,typeMap:m["e"],editFormNameMode:!1,formName:"",collaborateUserList:[],owner:{},isShare:!1,onlineUsers:[this.$store.getters.userInfo.email],debounceHiddenHeader:null}},computed:Object(o["a"])(Object(o["a"])({isOwner:function(){return this.$store.getters.userInfo.email===this.form.createBy},isCollaborater:function(){var t=this,e=this.collaborateUserList.findIndex((function(e){return e.email===t.$store.getters.userInfo.email}));return e>-1},isEditCollaborater:function(){var t=this,e=this.collaborateUserList.findIndex((function(e){return e.email===t.$store.getters.userInfo.email}));return e>-1&&"Edit"===this.collaborateUserList[e].permissions}},Object(v["e"])({removedCollaborate:function(t){return t.websocket.removedCollaborate},hiddenHeader:function(t){return t.app.hiddenHeader}})),{},{allowHiddenHeader:function(){return this.$route.meta.allowHiddenHeader}}),watch:{collaborate:function(t){this.owner=t.owner;var e=[this.$store.getters.userInfo.email].concat(t.onlineEmails);this.onlineUsers=e,this.formatUserList(t.users)},shareStatus:function(t){this.isShare=1===t},removedCollaborate:function(t){var e=this;t&&t.indexOf(this.form.id)>-1&&n["a"].error({title:"Alert",content:"You have been removed from the collaborating list of "+this.form.name,okText:"Ok",mask:!0,onOk:function(){e.$router.push({path:"/teacher/main/created-by-me"})}});var a=this.collaborate.users.findIndex((function(t){return t.email===e.$store.getters.userInfo.email}));a>-1&&this.collaborate.users.splice(a,1),this.removedCollaborateAction(!1)}},created:function(){this.$logger.info("form header name:"+this.form.name+" lastChangeSavedTime:"+this.lastChangeSavedTime),this.form&&this.form.name&&(this.formName=this.form.name),this.debounceHiddenHeader=b(this.toggleHiddenHeader,500)},methods:Object(o["a"])(Object(o["a"])({handleMouseEnterOutHoverBar:function(){this.debounceHiddenHeader()}},Object(v["b"])(["removedCollaborateAction"])),{},{formatUserList:function(t){var e=this,a=[];this.owner&&(a=[{userName:this.owner.nickname,userAvatar:this.owner.avatar,email:this.owner.email}]),t&&(a=a.concat(t.filter((function(t){return e.onlineUsers.indexOf(t.email)>-1&&t.email!==e.owner.email}))),a=a.concat(t.filter((function(t){return-1===e.onlineUsers.indexOf(t.email)&&t.email!==e.owner.email})))),this.collaborateUserList=a},handleBack:function(){this.$logger.info("handleBack"),this.isPreviewMode?this.$emit("back"):(this.isOwner,this.$router.push({path:"/teacher/main/created-by-me"}))},handleSave:function(){this.saving=!0,this.$logger.info("handleSave"),this.$emit("save")},handlePublish:function(t){this.publishing=!0,this.$logger.info("handlePublish"),this.$emit("publish",t)},handleStartCollaborate:function(){this.$logger.info("handleStartCollaborate"),this.$emit("collaborate")},handleViewComment:function(){this.$emit("view-collaborate")},handleEnsureNewFormName:function(){if(this.$logger.info("handleEnsureNewFormName "+this.form.name),this.editFormNameMode=!1,this.formName&&this.formName!==this.form.name){var t=Object.assign({},this.form);t.name=this.formName,this.$emit("update-form",t)}this.$logger.info("editFormNameMode "+this.editFormNameMode)},handleSharing:function(){this.sharing=!0,this.$logger.info("handleSharing"),this.$emit("share")},formatOnlineEmail:function(t){return t===this.form.createBy?"Owner: "+t:t},toggleHiddenHeader:function(){this.$logger.info("toggleHiddenHeader"),this.$store.commit(p["j"],!this.$store.getters.hiddenHeader)},handleCancelBounce:function(){this.$logger.info("handleCancelBounce"),this.debounceHiddenHeader.cancel()}})},I=A,E=(a("9bc1"),a("0c7c")),C=Object(E["a"])(I,s,i,!1,null,"b4133aa6",null);e["a"]=C.exports},8760:function(t,e,a){},8897:function(t,e,a){"use strict";a.d(e,"g",(function(){return n})),a.d(e,"d",(function(){return o})),a.d(e,"f",(function(){return r})),a.d(e,"e",(function(){return l})),a.d(e,"c",(function(){return d})),a.d(e,"b",(function(){return c})),a.d(e,"a",(function(){return u}));var s=a("ef87"),i={GetMyClasses:"/class/get_my_classes",TurnOnStudentPaced:"/class/turn_on_student_paced",EndSession:"/class/end_session",ReopenSession:"/class/reopen_session",NameSession:"/class/name_session",StartLesson:"/slide/start_lesson",GetStudents:"/class/get_students",GetStudentResponse:"/class/get_student_response",SlideGetAll:"/slide/get_all",GetClassMembers:"/class/get_class_members"};function n(t){return Object(s["a"])({url:i.TurnOnStudentPaced,method:"post",data:t})}function o(t){return Object(s["a"])({url:i.EndSession,method:"post",data:t})}function r(t){return Object(s["a"])({url:i.ReopenSession,method:"post",data:t})}function l(t){return Object(s["a"])({url:i.NameSession,method:"post",data:t})}function d(t){return Object(s["a"])({url:i.StartLesson,method:"post",data:t})}function c(t){return Object(s["a"])({url:i.GetStudents,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(t){return Object(s["a"])({url:i.GetStudentResponse,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},"8dab":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAABKRJREFUWEfNWFtoFGcU/s4/yWaTmM1uVoRgHpqW9kF8EiRVm7q5QJpuZolIpIkQURCEPkQbIQHtmxf6YJu0BZ9UGi1K85LsbEgCQZO0Bm1BEASJtaiQYhHNZjddk2x25pSZdDe3vczkUvrDPOzOOef//u+c/1yGYHFxba0jJEQNhKhmoneZeTsB23UzDPwpiCbA/EzVtCFo2qC7vz9sZQsyKxzy+bwa8ykiKmfAZkaPgCiAUQ3oKPL7+0zqpBcL+3z7VOAigHIzBlPJMPMvIGov8vvvprOTkiFuaJBCMzNfMdEXIDLNZFrQzAzmr525uW3U3a0mk026UbC+3glN6wZQvR5WUrIFDJIQn7l6eqZWyqwCNOX1uiDEfSZ6fzPAJGwy/y6i0Q8LBwcnl+6zDJDupqm5uYHNYibJAYecOTmfLHXfMkBBn+97AJ9vKjMrjTN/61KUlvjfCUDBujoPhLizFjBSaSn0RwsGEXv4ENA0a2Y0rcIVCAzrSglAkz7fPQLKLFkSAnktLbB5PAk19cULRM6dg/bqlRVTYy6/f18CUNDr9UGSeq1Y0GVz6uuRe/Qo5h88QPT2bYMl+8GDiD16hL/PnLFkTtI0nyMQUAyGgrL8M4g+smQBwJZLlyAVFyN07BgwO2uo550+DVt5OUJHjoCnVt3qdFuMuvz+/RSuqnKreXl/gSgrlTS53Sjo6IBwOKxiXrzlkQimW1uhvXyZ3AZzTIvF3DQpy01E9GPadJ6fj/yzZyFKSgxQWjicYCQtwuxsCJcLHIlAnZhA5MKFtKyxqjZS0Of7AUCzmaPbKiuNIH7b2WnETKaVtXMntpw/j9mbNzF761Ymcf19lw5oBMDHZqT/A0CjOqBxAB+sBZD98GHMj41Be/0a9kOHMNPVBbF1K2zV1Zi9fh1rYOgJBWU5BCJT0bqSIWdvr+EO/Zrrrplub0fWjh3IbW42bplUUmLNZczhDQWk5x6dFXtjI8LHj0Ns27YGQOtw2UqG1g0IeLKuoN4EQEZQr/nabwKgLlOJMX4DkwX1zI0bUB8/Xgjq1lYjhvT6FmpqMmqblTxkJEYzpSMVoOyyMsTGx41MbKuqQnRgAFRQgKxduzA/MmLt2sdLx7/F9Q6IFnuIFEkpnldmrl3DXE9PxtSVvXcv8tva8PbyZQNs2sU87FKUioVqb7b9sNtRePUqOBpdKAVRfexKsSTJaE9EcTGmT5zI2B8x86dFitK/2DHK8jCI9mc6tu4mvcUgW+ZZkVUVM1euINqXYUZkHnEpiuGhBKA3dXV7hBBjmQAZSk6nkZHJbk8pzvPzUJ8+Td1uLNEUzHsKFeXeMkD6jzey/I0gOmkG1EbJaJrW6Q4EEnv+v8cg/dShmpoiLSfnVwDvbRQLKez8Qaq629nXF1z6PukoHT5wwK3GYj+BqHKTQA1BiAZTo3QcAHs8WVMOR8eGD47M3znt9lOWPjYsZSXo9VawJF20PLOtpvYuVPVLV19f2mHU9GeWSVmuE8BJJtLb3WyTrpwH86gEdDgUJWBGxzSguLGgx+PkgoJaAnYDKAXROwD0R1/PwfwcwDMGfiNJ6k8WJ+mA/QM7FWPB1r8LHAAAAABJRU5ErkJggg=="},"8f46":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"status-icon-item"},[t.type===t.typeMap.task?a("span",[t._v("Task")]):t._e(),t.type===t.typeMap["unit-plan"]?a("span",[t._v("Unit")]):t._e(),t.type===t.typeMap.pd?a("span",[t._v("PD")]):t._e(),t.type===t.typeMap.video?a("span",[t._v("Video")]):t._e()])},i=[],n=(a("a9e3"),a("3f76")),o={name:"ContentTypeIcon",props:{type:{type:Number,default:-1},size:{type:String,default:"30px"}},data:function(){return{typeMap:n["e"]}}},r=o,l=(a("4133"),a("0c7c")),d=Object(l["a"])(r,s,i,!1,null,"a464ed10",null);e["a"]=d.exports},"91e8":function(t,e,a){var s=a("b2b7");t.exports={__esModule:!0,default:s.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"9",viewBox:"0 0 16 9"},children:[{tag:"defs"},{tag:"path",attrsMap:{class:"a",d:"M6.505,1.682a2,2,0,0,1,2.99,0l3.546,3.99A2,2,0,0,1,11.546,9H4.454A2,2,0,0,1,2.959,5.671Z",transform:"translate(16 9) rotate(180)"}}]})}},"93ba":function(t,e,a){"use strict";a("d4fb")},9501:function(t,e,a){var s=a("b2b7");t.exports={__esModule:!0,default:s.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"9",viewBox:"0 0 16 9"},children:[{tag:"defs"},{tag:"path",attrsMap:{class:"a",d:"M6.505,1.682a2,2,0,0,1,2.99,0l3.546,3.99A2,2,0,0,1,11.546,9H4.454A2,2,0,0,1,2.959,5.671Z"}}]})}},"95c6":function(t,e,a){"use strict";a.r(e),a.d(e,"favoritesAPIUrl",(function(){return i})),a.d(e,"FavoritesAdd",(function(){return n})),a.d(e,"FavoritesQueryById",(function(){return o})),a.d(e,"FavoritesDelete",(function(){return r})),a.d(e,"FavoritesDeleteBatch",(function(){return l})),a.d(e,"FavoritesList",(function(){return d})),a.d(e,"FavoritesGetMyFavorites",(function(){return c}));var s=a("b775"),i={FavoritesAdd:"/classcipe/api/favorites/add",FavoritesQueryById:"/classcipe/api/favorites/queryById",FavoritesDelete:"/classcipe/api/favorites/delete",FavoritesDeleteBatch:"/classcipe/api/favorites/deleteBatch",FavoritesList:"/classcipe/api/favorites/list",FavoritesGetMyFavorites:"/classcipe/api/favorites/getMyFavorites"};function n(t){return Object(s["d"])({url:i.FavoritesAdd,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(t){return Object(s["d"])({url:i.FavoritesQueryById,method:"get",params:t})}function r(t){return Object(s["d"])({url:i.FavoritesDelete,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(t){return Object(s["d"])({url:i.FavoritesDeleteBatch,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(t){return Object(s["d"])({url:i.FavoritesList,method:"get",params:t})}function c(t){return Object(s["d"])({url:i.FavoritesGetMyFavorites,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},"973f":function(t,e,a){},"97e7":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"score-number"},[s("div",{staticClass:"score-number-label"},t._l(t.numberLetters,(function(e,i){return s("div",{key:i,staticClass:"score-number-item"},["0"===e?s("img",{style:{width:t.size+"px"},attrs:{src:a("4bd5"),alt:e}}):t._e(),"1"===e?s("img",{style:{width:t.size+"px"},attrs:{src:a("53a3"),alt:e}}):t._e(),"2"===e?s("img",{style:{width:t.size+"px"},attrs:{src:a("03fe"),alt:e}}):t._e(),"3"===e?s("img",{style:{width:t.size+"px"},attrs:{src:a("bec2"),alt:e}}):t._e(),"4"===e?s("img",{style:{width:t.size+"px"},attrs:{src:a("e062"),alt:e}}):t._e(),"5"===e?s("img",{style:{width:t.size+"px"},attrs:{src:a("7ee9"),alt:e}}):t._e(),"6"===e?s("img",{style:{width:t.size+"px"},attrs:{src:a("462b"),alt:e}}):t._e(),"7"===e?s("img",{style:{width:t.size+"px"},attrs:{src:a("cbe2"),alt:e}}):t._e(),"8"===e?s("img",{style:{width:t.size+"px"},attrs:{src:a("edce"),alt:e}}):t._e(),"9"===e?s("img",{style:{width:t.size+"px"},attrs:{src:a("cf3a"),alt:e}}):t._e()])})),0),s("div",{staticClass:"number-underline"},[s("img",{style:{width:1.5*t.size+"px"},attrs:{src:a("80a9"),alt:""}}),s("img",{style:{width:1.5*t.size+"px"},attrs:{src:a("a8b4"),alt:""}})])])},i=[],n=(a("a9e3"),a("ac1f"),a("1276"),a("d3b7"),a("25f0"),{name:"ScoreNumber",props:{score:{type:Number,default:0},size:{type:Number,default:40}},data:function(){return{numberLetters:[]}},created:function(){var t=this.score.toString().split("");t.length?this.numberLetters=t:this.numberLetters=["0"]},watch:{score:function(t){var e=t.toString().split("");e.length?this.numberLetters=e:this.numberLetters=["0"]}}}),o=n,r=(a("4bc1"),a("0c7c")),l=Object(r["a"])(o,s,i,!1,null,"613e9fe3",null);e["a"]=l.exports},"980a":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"b",(function(){return r}));var s=a("b775"),i={PDContentAddOrUpdate:"/classcipe/api/v2/pd/addOrUpdate",PDContentQueryById:"/classcipe/api/v2/pd/queryById",PDContentDelete:"/classcipe/api/v2/pd/delete",PDContentDeleteBatch:"/classcipe/api/v2/pd/deleteBatch",PDContentList:"/classcipe/api/v2/pd/list"};function n(t){return Object(s["d"])({url:i.PDContentAddOrUpdate,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(t){return Object(s["d"])({url:i.PDContentQueryById,method:"get",params:t})}function r(t){return Object(s["d"])({url:i.PDContentDelete+"?id="+t.id,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},"98a4":function(t,e,a){var s=a("b2b7");t.exports={__esModule:!0,default:s.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"31.442",height:"40",viewBox:"0 0 31.442 40"},children:[{tag:"g",attrsMap:{transform:"translate(-179.2 -99.38)"},children:[{tag:"path",attrsMap:{class:"a",style:"fill:#808191;",d:"M311.741,121.054h-8.855a3.363,3.363,0,0,1-3.334-3.372l-2.351-14.93a3.363,3.363,0,0,1,3.334-3.372h13.558a3.363,3.363,0,0,1,3.334,3.372l-2.351,14.93A3.363,3.363,0,0,1,311.741,121.054Z",transform:"translate(-112.388)"}},{tag:"path",attrsMap:{class:"b",style:"fill:#dbdbdb;",d:"M309.8,99.48h-9.432A3.382,3.382,0,0,0,297,102.852l2.378,14.93a3.382,3.382,0,0,0,3.372,3.372S320.211,104.4,309.8,99.48Z",transform:"translate(-112.28 -0.095)"}},{tag:"path",attrsMap:{class:"c",style:"fill:#fff;opacity:0.5;",d:"M305.523,99.48h-5.151A3.382,3.382,0,0,0,297,102.852l1.493,9.318S310.432,104.916,305.523,99.48Z",transform:"translate(-112.256 -0.095)"}},{tag:"path",attrsMap:{class:"d",style:"fill:#e7e7e7;",d:"M193.655,253.831l-12.8-7.107A2.924,2.924,0,0,1,179.4,244.2V229.982a2.924,2.924,0,0,1,1.459-2.528l12.8-7.107a2.916,2.916,0,0,1,2.923,0l12.8,7.107a2.924,2.924,0,0,1,1.459,2.528V244.2a2.924,2.924,0,0,1-1.459,2.528l-12.8,7.107A2.939,2.939,0,0,1,193.655,253.831Z",transform:"translate(-0.19 -114.84)"}},{tag:"path",attrsMap:{class:"e",style:"fill:#acacac;opacity:0.2;",d:"M210.637,639.48v4.461a2.948,2.948,0,0,1-1.464,2.549l-12.8,7.168a2.9,2.9,0,0,1-2.923,0l-12.8-7.168a2.944,2.944,0,0,1-1.459-2.549v-4.257s1.01-.452,2.493,2.421c1.147,2.226,7.134,4.685,9.632,6.5a5.258,5.258,0,0,0,3.6,1.389,12.643,12.643,0,0,0,2.484-.576c2.233-.79,9.066-5.222,10.1-6.7C208.715,641,209.258,639.48,210.637,639.48Z",transform:"translate(0 -514.704)"}},{tag:"path",attrsMap:{class:"f",style:"fill:#b5b5b5;opacity:0.2;",d:"M234.729,224.149l-9.738-5.4a2.886,2.886,0,0,0-2.918,0L209.3,225.919s-.113,4.2,10.422,5.712,2.72.395,2.72.395S232.806,231.365,234.729,224.149Z",transform:"translate(-28.667 -113.316)"}},{tag:"path",attrsMap:{class:"g",style:"fill:#cecece;",d:"M375.76,446.593l.9,1.817a1.593,1.593,0,0,0,1.2.87l2.007.29a1.592,1.592,0,0,1,.88,2.716l-1.451,1.417a1.585,1.585,0,0,0-.457,1.408l.342,2a1.594,1.594,0,0,1-2.312,1.679l-1.793-.942a1.594,1.594,0,0,0-1.479,0l-1.793.942a1.593,1.593,0,0,1-2.312-1.679l.342-2a1.581,1.581,0,0,0-.457-1.408l-1.451-1.417a1.592,1.592,0,0,1,.885-2.716l2.007-.29a1.593,1.593,0,0,0,1.2-.87l.9-1.817a1.583,1.583,0,0,1,2.844,0Z",transform:"translate(-179.405 -330.031)"}},{tag:"path",attrsMap:{class:"h",style:"fill:#fff;",d:"M389.277,459.237l1.17,2.369a.953.953,0,0,0,.723.523l2.611.38a.955.955,0,0,1,.528,1.631l-1.893,1.845a.965.965,0,0,0-.276.847l.447,2.6a.957.957,0,0,1-1.389,1.008l-2.34-1.227a.95.95,0,0,0-.889,0l-2.335,1.227a.957.957,0,0,1-1.389-1.008l.447-2.6a.952.952,0,0,0-.276-.847l-1.893-1.845a.958.958,0,0,1,.533-1.631l2.611-.38a.972.972,0,0,0,.723-.523l1.17-2.369A.959.959,0,0,1,389.277,459.237Z",transform:"translate(-193.493 -342.41)"}}]}]})}},"9bb4":function(t,e,a){},"9bc1":function(t,e,a){"use strict";a("9bb4")},a3c5:function(t,e,a){var s=a("b2b7");t.exports={__esModule:!0,default:s.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"7.197",viewBox:"0 0 12 7.197"},children:[{tag:"defs"},{tag:"path",attrsMap:{class:"a",d:"M.354,5.149A1.2,1.2,0,0,0,1.2,7.2h9.6a1.2,1.2,0,0,0,.848-2.048l-4.8-4.8a1.2,1.2,0,0,0-1.7,0l-4.8,4.8Z",transform:"translate(0)"}}]})}},a6bd:function(t,e,a){t.exports=a.p+"img/default_avatar.47541fcf.png"},a8b4:function(t,e,a){t.exports=a.p+"img/button_line_2.04084462.png"},a903:function(t,e,a){var s=a("b2b7");t.exports={__esModule:!0,default:s.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40"},children:[{tag:"g",attrsMap:{id:"组_3098","data-name":"组 3098",transform:"translate(-1148 -81)"},children:[{tag:"g",attrsMap:{id:"组_2452","data-name":"组 2452",transform:"translate(1046.967 -34.555)"},children:[{tag:"path",attrsMap:{id:"路径_1323","data-name":"路径 1323",d:"M257.987,432.507h0a2.427,2.427,0,1,0,4.855,0h0a2.427,2.427,0,1,0-4.855,0Z",transform:"translate(-148.775 -298.588)",fill:"#15c39a"}},{tag:"path",attrsMap:{id:"路径_1324","data-name":"路径 1324",d:"M459.935,432.507h0a2.427,2.427,0,1,0,4.855,0h0a2.427,2.427,0,1,0-4.855,0Z",transform:"translate(-341.129 -298.588)",fill:"#15c39a"}},{tag:"path",attrsMap:{id:"路径_1325","data-name":"路径 1325",d:"M661.883,432.507a2.427,2.427,0,1,0,2.427-2.427A2.427,2.427,0,0,0,661.883,432.507Z",transform:"translate(-533.483 -298.588)",fill:"#15c39a"}},{tag:"path",attrsMap:{id:"路径_1326","data-name":"路径 1326",d:"M139.309,127.116a17.325,17.325,0,0,0-4.226-5.506,21.375,21.375,0,0,0-27.5,0,17.263,17.263,0,0,0-4.226,5.506,15.57,15.57,0,0,0-1.562,6.8,15.845,15.845,0,0,0,2.179,7.962,18.117,18.117,0,0,0,5.126,5.552v5.737a1.388,1.388,0,0,0,.692,1.2,1.389,1.389,0,0,0,1.384,0l6.071-3.506a22.012,22.012,0,0,0,4.088.381,20.768,20.768,0,0,0,13.751-5.01,17.262,17.262,0,0,0,4.226-5.506,15.605,15.605,0,0,0,0-13.613Zm-17.977,21.362a19.272,19.272,0,0,1-4.036-.427,1.383,1.383,0,0,0-.98.156l-4.451,2.571v-4.071a1.4,1.4,0,0,0-.623-1.159,13.915,13.915,0,0,1-6.688-11.629c0-8.026,7.524-14.552,16.778-14.552s16.778,6.527,16.778,14.552-7.53,14.558-16.778,14.558Z",transform:"translate(0 0)",fill:"#15c39a"}}]},{tag:"rect",attrsMap:{id:"矩形_1460","data-name":"矩形 1460",width:"40",height:"40",transform:"translate(1148 81)",fill:"none"}}]}]})}},ab9f:function(t,e,a){"use strict";a.d(e,"f",(function(){return i})),a.d(e,"a",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"e",(function(){return r})),a.d(e,"b",(function(){return l})),a.d(e,"d",(function(){return d}));var s=a("b775"),i={SchoolClassAddClassMember:"/classcipe/api/school/class/addClassMember",SchoolClassAddOrUpdate:"/classcipe/api/school/class/addOrUpdate",PersonalAddOrUpdateClass:"/classcipe/api/school/class/addOrUpdatePersonalClass",FindClassBySessonId:"/classcipe/api/school/class/findClassBySessonId",SchoolClassGetById:"/classcipe/api/school/class/getById",SchoolClassGetMyClasses:"/classcipe/api/school/class/getMyClasses",SchoolClassClassList:"/classcipe/api/school/class/list",SchoolClassListClassMembers:"/classcipe/api/school/class/listClassMembers",SchoolClassDelete:"/classcipe/api/school/class/delete",SchoolClassRemoveClassMember:"/classcipe/api/school/class/removeClassMember",SchoolClassImport:"/classcipe/api/school/class/importClassExcel",SchoolClassListClassAttendance:"/classcipe/api/school/class/listClassAttendance",PersonaClasslist:"/classcipe/api/school/class/personaClasslist"};function n(t){return Object(s["d"])({url:i.SchoolClassAddClassMember,method:"post",params:t})}function o(){return Object(s["d"])({url:i.SchoolClassGetMyClasses,method:"get"})}function r(t){return Object(s["d"])({url:i.SchoolClassRemoveClassMember,method:"post",params:t})}function l(t){return Object(s["d"])({url:i.SchoolClassDelete+"?id="+t.id,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(t){return Object(s["d"])({url:i.SchoolClassListClassAttendance,method:"get",params:t})}},af28:function(t,e,a){"use strict";a.d(e,"a",(function(){return m}));a("d3b7"),a("159b"),a("6062"),a("3ca3"),a("ddb0"),a("b64b"),a("caad"),a("2532");var s=a("9f06"),i=a("9afb"),n=a("3f76"),o=a("90e8"),r=a("ab9f"),l=a("2b0e"),d=new l["default"],c=a("b21a"),u=a("c948"),m={components:{},data:function(){return{typeMap:n["e"],evaluationId:null,taskEvaluationForms:[],forms:[],groups:[],evaluationForm:{classId:"",className:null,email:null,evaluationMode:o["a"].TeacherEvaluate,forms:[],groups:[],id:null,name:null,studentEvaluateData:null,type:n["e"].classSessionEvaluation},attendanceEmailList:[],attendanceList:[],initCompleted:!1,showWaitingMask:!1,studentEvaluateData:{},hasNewEvaluationDataReceived:!1}},created:function(){this.mode===o["a"].TeacherEvaluate?(d.$on(c["b"],this.handleEvaluationAttendance),d.$on(c["e"],this.handleEvaluationStudentSubmit),d.$on(c["c"],this.handleEvaluationPeerSubmit)):(this.mode===o["a"].PeerEvaluate||this.mode===o["a"].StudentEvaluate)&&(d.$on(c["b"],this.handleEvaluationAttendance),d.$on(c["f"],this.handleEvaluationTeacherSubmit),d.$on(c["d"],this.handleEvaluationSetChange))},destroyed:function(){this.mode===o["a"].TeacherEvaluate?(d.$off(c["b"],this.handleEvaluationAttendance),d.$off(c["e"],this.handleEvaluationStudentSubmit),d.$off(c["c"],this.handleEvaluationPeerSubmit)):(this.mode===o["a"].PeerEvaluate||this.mode===o["a"].StudentEvaluate)&&(d.$off(c["b"],this.handleEvaluationAttendance),d.$off(c["f"],this.handleEvaluationTeacherSubmit),d.$off(c["d"],this.handleEvaluationSetChange))},computed:{},methods:{CheckAndCreateTaskSessionEvaluationData:function(t,e,a){var i=this;this.$logger.info("CheckTaskSessionExistEvaluationData ".concat(t," sessionId")+t),Object(s["GetSessionEvaluationByClassId"])({classId:t}).then((function(s){i.$logger.info("CheckTaskSessionExistEvaluationData ".concat(t," response"),s);var n=s.result;n.evaluation?(i.$logger.info("CheckTaskSessionExistEvaluationData has evaluation data, skip it "+t),a&&(i.$logger.info("skip and callback"),a())):(i.$logger.info("CheckTaskSessionExistEvaluationData no evaluation data, start init "+t),i.initTaskSessionEvaluationData(t,e,a))})).catch((function(t){i.$logger.error("CheckTaskSessionExistEvaluationData error",t),i.$message.error("CheckTaskSessionExistEvaluationData error "+t)}))},initTaskSessionEvaluationData:function(t,e,a){var o=this;this.$logger.info("initTaskSessionEvaluationData "+e);var r=[];Object(i["GetAssociate"])({id:e,type:this.typeMap.task}).then((function(t){o.$logger.info("GetAssociateEvaluationTable ",t),t.result.owner.forEach((function(t){t.contents.forEach((function(t){t.type===n["e"].evaluation&&r.push(t.id)}))})),t.result.others.forEach((function(t){t.contents.forEach((function(t){t.type===n["e"].evaluation&&r.push(t.id)}))}))})).finally((function(){if(o.$logger.info("associateEvaluationIdList ",r),r.length){var i=[];Object(s["EvaluationQueryByIds"])({ids:r}).then((function(t){o.$logger.info("associateEvaluationIdList EvaluationQueryByIds ",t);var e=[];t.result.forEach((function(t){t.forms.forEach((function(t){-1===e.indexOf(t.formId)?(e.push(t.formId),i.push({title:t.title,titleEditing:!1,comment:null,formType:t.formType,se:t.se,pe:t.pe,menuVisible:!1,mode:t.mode,id:null,formId:t.formId,initRawHeaders:JSON.parse(t.initRawHeaders),initRawData:JSON.parse(t.initRawData)})):o.$logger.info("form existed ",t)}))}))})).then((function(){o.taskEvaluationForms=i,o.$logger.info("taskEvaluationForms",o.taskEvaluationForms),o.saveInitSessionEvaluationData(t,e,a)}))}else o.$logger.warn("no associate evaluation data for task "+e),a&&(o.$logger.info("no associate and callback"),a())}))},saveInitSessionEvaluationData:function(t,e,a){var i=this;this.$logger.info("saveInitSessionEvaluationData "+t);var n=JSON.parse(JSON.stringify(this.evaluationForm)),o=JSON.parse(JSON.stringify(this.taskEvaluationForms));this.$logger.info("formDataList",o,"formData",n),n.classId=t,o.forEach((function(t){t.initRawHeaders=JSON.stringify(t.initRawHeaders),t.initRawData=JSON.stringify(t.initRawData)})),n.forms=o,n.studentEvaluateData="{}",this.evaluationId&&(this.evaluationForm.id=this.evaluationId,n.id=this.evaluationId),Object(s["SaveSessionEvaluation"])(n).then((function(t){i.$logger.info("SaveSessionEvaluation response",t),t.result&&t.result.id&&(i.evaluationId=t.result.id),t.success?(i.taskEvaluationForms=[],i.evaluationForm.forms=[],a&&(i.$logger.info("saveInitSessionEvaluationData callback"),a())):i.$message.error(t.message)}))},handleEvaluationAttendance:function(t){var e=this,a=this.$createElement;this.$logger.info("handleEvaluationAttendance",t);var s=t.content;s.sessionId===this.sessionId&&Object(r["d"])({sessionId:this.sessionId}).then((function(t){e.$logger.info("refreshAttendance response",t);var s=[],i=[];if(t.success){if(t.result.length>0){var n=new Set,o=[],r=e.studentEvaluateData?Object.keys(e.studentEvaluateData):[];t.result.forEach((function(t){n.has(t.email)||(s.push(t),i.push(t.email),n.add(t.email),-1!==r.indexOf(t.email)&&o.push(t))})),e.attendanceList=s,e.attendanceEmailList=i,e.$logger.info("attendanceList",e.attendanceList),e.$logger.info("newStudentList",o),o.length&&(o.forEach((function(t){var a={};e.forms.forEach((function(t){a[t.formId]={comment:null},t.initRawData.forEach((function(e){a[t.formId][e.rowId]={teacherEvaluation:null,teacherName:null,teacherEmail:null,peerEvaluation:null,peerName:null,peerEmail:null,studentEvaluation:null,studentName:null,studentEmail:null,data:null,evidenceIdList:[],evidenceIdStudentList:[]}}))})),e.$set(e.studentEvaluateData,t.email,a),e.$logger.info("add student "+t.email,e.studentEvaluateData)})),e.$notification.open({message:"Notification",description:"The student attendance list has been updated, please refresh to view.",icon:a("a-icon",{attrs:{type:"usergroup-add"},style:"color: #108ee9"})})),e.attendanceList&&e.groups.forEach((function(t){var a=[];t.members.forEach((function(t){e.attendanceEmailList.includes(t.userId)&&a.push(t.userId)})),t.attendanceList=a}))}}else e.$message.error(t.message)})).catch((function(t){e.$logger.error("refreshAttendance",t),e.$message.error("refreshAttendance "+t)}))},handleEvaluationTeacherSubmit:function(t){var e=this.$createElement;this.$logger.info("handleEvaluationTeacherSubmit",t);var a=t.content;a.sessionId===this.sessionId&&(this.hasNewEvaluationDataReceived=!0,this.$notification.open({message:"Notification",description:"New teacher review(s) just received. Refresh to see",icon:e("a-icon",{attrs:{type:"mail"},style:"color: #108ee9"})}))},handleEvaluationStudentSubmit:function(t){var e=this.$createElement;this.$logger.info("handleEvaluationStudentSubmit",t);var a=t.content;a.sessionId===this.sessionId&&(this.hasNewEvaluationDataReceived=!0,this.$notification.open({message:"Notification",description:"New self review(s) just received. Refresh to see",icon:e("a-icon",{attrs:{type:"mail"},style:"color: #108ee9"})}))},handleEvaluationPeerSubmit:function(t){var e=this.$createElement;this.$logger.info("handleEvaluationPeerSubmit",t);var a=t.content;a.sessionId===this.sessionId&&(this.hasNewEvaluationDataReceived=!0,this.$notification.open({message:"Notification",description:"New peer review(s) just received. Refresh to see",icon:e("a-icon",{attrs:{type:"mail"},style:"color: #108ee9"})}))},handleEvaluationSetChange:function(t){this.$logger.info("handleEvaluationSetChange",t,"this.sessionId",this.sessionId);var e=t.content;if(e&&e.sessionId===this.sessionId){var a=this.showWaitingMask;this.showWaitingMask=e.mode===u["a"].Editing,a&&!this.showWaitingMask&&(this.initCompleted=!1,window.location.reload())}},handleRefreshEvaluationData:function(){this.$logger.info("handleRefreshEvaluationData"),window.location.reload()}}}},b199:function(t,e,a){"use strict";a.r(e),a.d(e,"taskAPIUrl",(function(){return i})),a.d(e,"TaskCreateTaskPPT",(function(){return n})),a.d(e,"TaskCreateNewTaskPPT",(function(){return o})),a.d(e,"TaskAddOrUpdate",(function(){return r})),a.d(e,"SplitTask",(function(){return l})),a.d(e,"TaskQueryById",(function(){return d})),a.d(e,"TaskDelete",(function(){return c})),a.d(e,"getTaskBySessionId",(function(){return u})),a.d(e,"UpdateSlideEditing",(function(){return m})),a.d(e,"QuerySubTask",(function(){return f}));var s=a("b775"),i={createTaskPPT:"/classcipe/api/task/createTaskPPT",createNewTaskPPT:"/classcipe/api/task/createNewTaskPPT",addOrUpdate:"/classcipe/api/task/addOrUpdate",delete:"/classcipe/api/task/delete",deleteBatch:"/classcipe/api/task/deleteBatch",list:"/classcipe/api/task/list",queryById:"/classcipe/api/task/queryById",splitTask:"/classcipe/api/task/spliteTask",getTaskBySessonId:"/classcipe/api/task/getTaskBySessonId",updateSlideEditing:"/classcipe/api/task/updateSlideEditing",querySubTask:"/classcipe/api/task/querySubTask"};function n(t){return Object(s["d"])({url:i.createTaskPPT,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(t){return Object(s["d"])({url:i.createNewTaskPPT,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(t){return Object(s["d"])({url:i.addOrUpdate,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(t){return Object(s["d"])({url:i.splitTask,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(t){return Object(s["d"])({url:i.queryById,method:"get",params:t})}function c(t){return Object(s["d"])({url:i.delete+"?id="+t.id,method:"post",data:t})}function u(t){return Object(s["d"])({url:i.getTaskBySessonId,method:"get",params:t})}function m(t){return Object(s["d"])({url:i.updateSlideEditing,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(t){return Object(s["d"])({url:i.querySubTask,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},bec2:function(t,e,a){t.exports=a.p+"img/3.19a62d0d.png"},c621:function(t,e,a){"use strict";a.d(e,"e",(function(){return n})),a.d(e,"a",(function(){return o})),a.d(e,"f",(function(){return r})),a.d(e,"c",(function(){return l})),a.d(e,"b",(function(){return d})),a.d(e,"d",(function(){return c}));var s=a("b775"),i={getTemplates:"/classcipe/api/templates/getTemplates",filterTemplates:"/classcipe/api/templates/filterTemplates",recommendTemplates:"/classcipe/api/templates/recommendTemplates",getPresentation:"/classcipe/api/templates/getPresentation",getPublishedPresentation:"/classcipe/api/templates/getPublishedPresentation",getPageThumbnail:"/classcipe/api/templates/getPageThumbnail",queryById:"/classcipe/api/templates/queryById"};function n(t){return Object(s["d"])({url:i.getTemplates,method:"get",params:t})}function o(t){return Object(s["d"])({url:i.filterTemplates,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(t){return Object(s["d"])({url:i.recommendTemplates,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(t){return Object(s["d"])({url:i.getPresentation,method:"get",params:t})}function d(t){return Object(s["d"])({url:i.getPageThumbnail,method:"get",params:t})}function c(t){return Object(s["d"])({url:i.getPublishedPresentation,method:"get",params:t})}},c948:function(t,e,a){"use strict";var s={Editing:0,Evaluating:1};e["a"]=s},cbe2:function(t,e,a){t.exports=a.p+"img/7.d0600535.png"},ce1b:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAAAXNSR0IArs4c6QAABDZJREFUWEfNWF1oHFUU/s7MpBYVk5pdbYLU2Db1ry/qi3XT2H3WgmCESl9ES7YaUEEKBQtViCBUEMWiu61ioWCh8an1eWo2q0+tL6GNTUvXPiSr2TaNtJR0Z+bIubuzs7M/2dnZRPY+DTPn55tzz/3OuYcQYnVnklu6HLxGTC8yIULMAwBtBNgCkGeiLDHyIEzd0/jsUixxtVU3FFQhah59EIbxATO9RYStQfVEjhlXiPhHWNZXC/Gx20F0mwMzDxu9Rn9CYxwCSVSUI0BpyoM8knpyjXHpvXrDAJU/cM4hjN+w5pKIfyrRbbhWBNaTOf54l2OfBWi7B8MDEOTPXT2/I54uaPqrt2L7/mpkoyGwDZPHYwbsCYlSMQISl/ZWMb5ctMScs6CPLA7vy9SzWtfXw5nU65rNp4jIYGZQeS/aA+ZquzaZ2XJ02nMzNvpzteUaYBIpHfa5tQJVD5wNfVd15HzAesxvB7p07Xe1fWsQqeqolH0w5wq2s+NW/N2sK+MBMw8bUaP/D0n0/wNUdeQAnl6w5p5zT2sZWG/62JgG/kYSvf00by0XXZ9MvD8/lEgWKQiAIk/dmC2ewNbpQCfCO33PwiDCiflLuOOsSFE1qD1a5Bxsa1BIuAgsnfwYoPEwoET/7b5n8PmWmHJ48GoGP8xfbC1kPmk+tLAz8ZkCFplMzUqZCQvswKbncWDTC8r8kevnceT6hZaBub4ZmMnvHH2aHjKPbr3P6JqVMhOWrlYDmKLeEoZlqzBIkfSxjwj8RdhoicFVA+bl94cUTadOAxhp5zSuAbAJiqRTaQKGOgNYkaoYOEfRqdQ1MAaaZesDmoG9G59Ct7GuRvSl7j7EuvvV+8zSHH5bmq+RWbLu4UTuEpYdu5kr4assRSdTd0FY3yzHRvu3Y3zzjuZGV5AITCXMtyXH7gLNge199El8OTjcFrD3/jQxsXAlgA0BFnArhd139z6Bwft7Qm3lzJ1FnLlxLQAodTSzkvwmAbs6L/nLdNF6jXR/f9Xowmu1hC46lGA7tiR1bBGvbHuCHZlaqT2PbMPX215WH96//CtO/XM5rCkp5V7b42sUQ/T6QiUCziANJ/+ega1uxMFXZe/vaxTFhNdahz+dwaH4JRu21krMdxkJ35u1Cs7rAxtcRsRgZ17fSr+6wUwO6QZMAhm+SUmroWgmX+oaGGzZFuKL8cRUpUr9EcHkdyMa0U8Crp2WuxE216aAcpjfvDm8f6JatvFQxUwOGTpOF2/lUljbv2/66rEMVWy8UR0pF+DKYygZGRjaGXcMJUrN+rZ6UarV4emC5eyuHAkEjlhZUA3uHkto7JQHdwJP4ifXmkaTIOEmuXb5RnrMOdbwSb4w931bg7vKv2hr1AnMEPjk6o466+xNqfC/AnWJQYQIA2COKFGiPDOyBOQBTC1bhV/+jY8FaVt9nv4DguA3GCvpDXoAAAAASUVORK5CYII="},cf3a:function(t,e,a){t.exports=a.p+"img/9.1120bb95.png"},d4fb:function(t,e,a){},d815:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABVNJREFUeF7tm0+IG3UUx9+brOypB2kmCoL00HopnlZcaJvU9mILCrXignUR7XYTW1GpB+mldBeEIoVFFP9ksodClaLFFS9aT+1m4l7qsQiixR5EShKKKIsUmnky2cw4SebP78/7jZRtjsnv937v+5n3+/fmBWGTf3CT64chAEW3MQWe9ywnlAnPO39r3/GbqjZtt/4CebBTtf9oP8vCG+1y9ULwfQjAbjkHgeBbroECO+TRYndvbUHFrr22vB163i8qfVP7ELzaqVTP+21CAMXV+gJaeIZ7MILevm75+FVVu3bL+QIIZlT7x/WLPhSjAAjwSLc8f1HX+WKzfgERZ3XtxEWlOQCRMONw3HadZQCY47BlPAII6bXunlqdw9moDdt1PgKAE7p2DQOgtzrl2ge6Tib1L7WcJSI4qWPfGAAkfKddmT+n45xIX9utnwXAUyJt81wET3fK1XdVnZLtp7NrGYkAnf0+T/H+WEYAjBqWFSXaXufJ57INmowEDvFGIyCOsOiTzWrHJT4XANzTgVN8bgC4IBTdxhkEUrpMJUWVsUUwds8FXOiW5xezQjzud3XxNAOAXzID8I36n2TDiQMqQNAR3ynXLpWan84SWuG9P+qbQgTQjG/UN+InKJQgSOQFdMUHYu3VxhxY5F+ihj6SAP4THxo2CIFLfOBryXVOEIB/iQo/EgDGxZuEwC0+8LXYrJ9ExKW4bTolH5AsXhtCTJao6DqPIcDP8otltp8bU7dxCoDOJm6DdqsxBxTMFzGj6mtCvH275fwGBNvEIYj76dsMzhNIcKBdqX7fX9Kjg9k/OG8AWt91dh37VdwJ2YURVzrl+efj7Jdc5zkiuAgIk9njy4lPssf2XkBsd6DLk4X1w7/vevufJIdKa87T1AM/j/hgMgQe8WMRkE09vUUGhNU769bhvw4cu501TrHp7EWEzwHgkfG2fOLZASSuCQjXCAqHunvm/sgSH/y+tbn8pIXeZwCwI7KBhecRUTtZ7dimwNBaMnROoOtowaH27tqNLGdGf39orf6410M/v7gFgN4LDmOydtLaGwHQX3HdxpQFNG3RxKVblaMdTqc5bRkDwOmkSVv3AZikey/Yvh8Bpp7SVrc+bQE8yrFyP3zlk206NQa57wLDOTxcmSz8PZt2+ks8FfpHY4Ql/35gKtvMPgXiE5h0+c564SWRU2AAo38kvgvfRO8FJiCwAsjI3q4SFo6InAYHR+Gv4+4D3BDYAAilrhGuIdKLaafCwRF4Jf4esBEfnBBCAP5Cc9eyXgHLuypb0iIkPpzodL1AD+yPOx0Ojr5fDZ//41cIVQh+3VH0uh+bEZIpbZETvyEGAV5vl6sfj0qzXecKADwlujPJQgjrjYSKpARKXFRzeD2a2Hm7cvQnXQD96SCYco/WGQknRdNKXVTFAxhItGZAGK0vEgYwWHLGSl5MiA+iQSyzND5JkiIhrq5IEgBAtPTFpHhuCEn1RNIABo6dJsCC2otK+TSWbiSk1RGpAhBdnEfayYvXjgSPFtOqXnMEoC5eF0La08oJgL54UxByAMAn3gQEwwD4xXNDMAjAnHhOCIYAmBfPBeGeB+CDUD0njF6nmf8vkE8UpNX/iBxWDEVAMLRZCEl1PyLCQw8j9UrMEWAWQly9j4zwHAH0Zxrrm9zROh8V4TkD4IMQre/REf4/AACAgrVDtuQmKlIl5ZYFKX4RdBtTCPRjVmfp3y14s7O7+qF0v0EH23VItW9SPwR4Ofj36HCRVMs5SD2aZhsQ4c9upfa+jr2i6zwDHj2hYyPaFxFvBv8a9b9ney/A5WDedjY9gH8Beinjbph4NMoAAAAASUVORK5CYII="},d8fe:function(t,e,a){var s=a("b2b7");t.exports={__esModule:!0,default:s.svgComponent({tag:"svg",attrsMap:{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"7.197",viewBox:"0 0 12 7.197"},children:[{tag:"defs"},{tag:"path",attrsMap:{class:"a",d:"M.354,2.048A1.2,1.2,0,0,1,1.2,0h9.6a1.2,1.2,0,0,1,.848,2.048l-4.8,4.8a1.2,1.2,0,0,1-1.7,0l-4.8-4.8Z",transform:"translate(0)"}}]})}},de36:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-input-with-button"},[t.replyMode?[a("a-input",{staticClass:"my-padding-input reply-mode",attrs:{size:"large"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("div",{staticClass:"reply-info",attrs:{slot:"addonBefore"},slot:"addonBefore"},[a("span",{staticClass:"reply-tips"},[t._v("Reply")]),a("span",{staticClass:"reply-user"},[t._v(" @"+t._s(t.replyUsername)+" ")])])])]:t._e(),t.replyMode?t._e():[a("a-input",{staticClass:"my-padding-input",attrs:{size:"large"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],a("a-button",{staticClass:"my-send-btn",attrs:{loading:t.sendLoading,size:"small",type:"primary"},on:{click:t.handleSendEvent,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSendEvent.apply(null,arguments)}}},[t._v("Send ")])],2)},i=[],n={name:"EvidenceCommentInput",props:{replyMode:{type:Boolean,default:!1},replyUsername:{type:String,default:null},extra:{type:Object,default:null}},data:function(){return{value:null,sendLoading:!1}},methods:{handleSendEvent:function(){var t=this;this.$logger.info("trigger send "+this.value),this.value&&(this.sendLoading=!0,this.$emit("send",{inputValue:this.value,extra:this.extra}),setTimeout((function(){t.sendLoading=!1,t.value=""}),1e3))}}},o=n,r=(a("f61a"),a("0c7c")),l=Object(r["a"])(o,s,i,!1,null,"64ce848f",null);e["a"]=l.exports},e062:function(t,e,a){t.exports=a.p+"img/4.1ebec331.png"},edce:function(t,e,a){t.exports=a.p+"img/8.2fb6907e.png"},ef87:function(t,e,a){"use strict";a("d3b7");var s=a("bc3a"),i=a.n(s),n=a("8ded"),o=a.n(n),r=a("56cd"),l=(a("a27e"),a("9fb0")),d=a("823b"),c=i.a.create({baseURL:"https://api.app.classcipe.com",timeout:6e3}),u=function(t){if(t.response){var e=t.response.data;403===t.response.status&&r["a"].error({message:"Forbidden",description:e.message})}return Promise.reject(t)};c.interceptors.request.use((function(t){var e=o.a.get(l["a"]);return e?t.data?t.data["token"]||(t.data["token"]=e):t.data={token:e}:d["info"](l["a"]+" no set"),t}),u),c.interceptors.response.use((function(t){return t&&t.data&&t.data.code&&"ok"!==t.data.code&&200!==t.data.code&&d["error"](t.data),t.data}),u);e["a"]=c},efca:function(t,e,a){"use strict";a("7bd1")},f4e6:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"slide-preview"},[a("div",{staticClass:"slide-cover"},[a("img",{staticClass:"cover",attrs:{src:t.slideItem.contentUrl}}),t._l(t.slideItem.commentList,(function(e,s){return[e.user_id===t.userId?a("div",{key:s,class:{"dot-item":!0,heartbeat:t.currentActiveId===e.link+"_"+e.time},style:{position:"absolute",border:"3px solid #aaa",backgroundColor:e.background,left:e.left/e.content_width*700+"px",top:e.top/e.content_height*400+"px"},on:{click:function(a){return t.handleActiveItem(e)},mouseover:function(a){return t.handleActiveItem(e)}}}):t._e()]}))],2),a("div",{staticClass:"slide-dot-list"},[t._l(t.slideItem.commentList,(function(e,s){return[e.user_id===t.userId?a("div",{key:s,class:{"dot-item":!0,"active-dot-item":t.currentActiveId===e.link+"_"+e.time,"in-active-dot-item":t.currentActiveId!==e.link+"_"+e.time},attrs:{id:"dot-item-"+e.link+"_"+e.time},on:{mouseover:function(a){return t.handleActiveItem(e)},click:function(a){return t.handleActiveItem(e)}}},[a("div",{staticClass:"author-profile"},[a("div",{staticClass:"avatar"},[a("span",{staticClass:"avatar-user"},[t._v(t._s(e.user_id?e.user_id.slice(0,1).toUpperCase():"C"))])]),a("div",{staticClass:"profile"},[a("div",{staticClass:"author-name"},[t._v(t._s(e.user_id))]),a("div",{staticClass:"author-time"},[t._v(t._s(t._f("formatDate")(1e3*e.time)))])])]),a("div",{staticClass:"dot-detail",attrs:{"data-item":JSON.stringify(e)}},["audio"===e.type?a("div",{class:{"audio-item":!0}},[a("audio",{attrs:{controls:"",src:e.link}})]):t._e(),"video"===e.type?a("div",{class:{"video-item":!0}},[a("video",{attrs:{controls:"",src:e.link}})]):t._e(),"text"===e.type?a("div",{class:{"text-item":!0}},[t._v(" "+t._s(e.link)+" ")]):t._e()])]):t._e()]}))],2)])},i=[],n=(a("9911"),{name:"SlidePreview",props:{slideItem:{type:Object,required:!0},userId:{type:String,default:null}},data:function(){return{currentActiveId:null}},created:function(){},methods:{handleActiveItem:function(t){this.$logger.info("SlidePreview handleActiveItem",t),this.currentActiveId=t.link+"_"+t.time;var e="dot-item-"+t.link+"_"+t.time,a=document.getElementById(e);a&&a.scrollIntoView({behavior:"smooth"})}}}),o=n,r=(a("efca"),a("0c7c")),l=Object(r["a"])(o,s,i,!1,null,"b58106c2",null);e["a"]=l.exports},f61a:function(t,e,a){"use strict";a("5952")},f7b2:function(t,e){t.exports="data:image/png;base64,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"}}]);