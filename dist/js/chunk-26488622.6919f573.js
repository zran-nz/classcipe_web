(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26488622"],{"20b5":function(e,t,i){},"6b36":function(e,t,i){"use strict";i.r(t),i.d(t,"reviewsTaskAPIUrl",(function(){return a})),i.d(t,"ReviewsTaskSave",(function(){return r})),i.d(t,"ReviewsTaskList",(function(){return n})),i.d(t,"ReviewsTaskMyReview",(function(){return o})),i.d(t,"ReviewsTaskStats",(function(){return l})),i.d(t,"ReviewsTaskDelete",(function(){return c})),i.d(t,"ReviewsTaskMyReviewBySession",(function(){return u})),i.d(t,"getReviewsStatByContentId",(function(){return d}));var s=i("b775"),a={delete:"/classcipe/api/reviewsTask/delete",getMyReviews:"/classcipe/api/reviewsTask/library/getMyReviews",getMyReviewsSession:"/classcipe/api/reviewsTask/session/getMyReviews",getReviewsStat:"/classcipe/api/reviewsTask/library/getReviewsStat",list:"/classcipe/api/reviewsTask/list",save:"/classcipe/api/reviewsTask/save",getReviewsStatByContentId:"/classcipe/api/reviewsTask/getReviewsStatByContentId"};function r(e){return Object(s["d"])({url:a.save,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function n(e){return Object(s["d"])({url:a.list,method:"get",params:e})}function o(e){return Object(s["d"])({url:a.getMyReviews,method:"get",params:e})}function l(e){return Object(s["d"])({url:a.getReviewsStat,method:"get",params:e})}function c(e){return Object(s["d"])({url:a.delete+"?id="+e.id,method:"get",data:e})}function u(e){return Object(s["d"])({url:a.getMyReviewsSession,method:"get",params:e})}function d(e){return Object(s["d"])({url:a.getReviewsStatByContentId,method:"get",params:e})}},"6f26":function(e,t,i){"use strict";i("20b5")},"72df":function(e,t,i){},"95c6":function(e,t,i){"use strict";i.r(t),i.d(t,"favoritesAPIUrl",(function(){return a})),i.d(t,"FavoritesAdd",(function(){return r})),i.d(t,"FavoritesQueryById",(function(){return n})),i.d(t,"FavoritesDelete",(function(){return o})),i.d(t,"FavoritesDeleteBatch",(function(){return l})),i.d(t,"FavoritesList",(function(){return c})),i.d(t,"FavoritesGetMyFavorites",(function(){return u}));var s=i("b775"),a={FavoritesAdd:"/classcipe/api/favorites/add",FavoritesQueryById:"/classcipe/api/favorites/queryById",FavoritesDelete:"/classcipe/api/favorites/delete",FavoritesDeleteBatch:"/classcipe/api/favorites/deleteBatch",FavoritesList:"/classcipe/api/favorites/list",FavoritesGetMyFavorites:"/classcipe/api/favorites/getMyFavorites"};function r(e){return Object(s["d"])({url:a.FavoritesAdd,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function n(e){return Object(s["d"])({url:a.FavoritesQueryById,method:"get",params:e})}function o(e){return Object(s["d"])({url:a.FavoritesDelete,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(s["d"])({url:a.FavoritesDeleteBatch,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(s["d"])({url:a.FavoritesList,method:"get",params:e})}function u(e){return Object(s["d"])({url:a.FavoritesGetMyFavorites,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},ab4d:function(e,t,i){"use strict";i("72df")},abb8:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("label",{staticStyle:{"margin-right":"10px"},attrs:{for:""}},[e._v("Overall")]),"student"===e.currentRole?i("a-rate",{attrs:{"allow-half":"",disabled:""},model:{value:e.data.reviewsScore,callback:function(t){e.$set(e.data,"reviewsScore",t)},expression:"data.reviewsScore"}}):e._e(),"teacher"===e.currentRole?i("a-popover",{attrs:{placement:e.placement},on:{visibleChange:e.debouncedGetData}},[i("template",{slot:"content"},[i("a-spin",{attrs:{spinning:e.loading}},[i("a-space",{attrs:{direction:"vertical"}},[i("a-space",{attrs:{align:"center"}},[i("label",[e._v("Students engagement")]),i("a-rate",{staticStyle:{margin:"0"},attrs:{tooltips:e.RATE_TOOLTIPS.ENGAGEMENT,"allow-half":"",disabled:""},model:{value:e.data.studentsEngagement,callback:function(t){e.$set(e.data,"studentsEngagement",t)},expression:"data.studentsEngagement"}})],1),i("a-space",{attrs:{align:"center"}},[i("label",[e._v("Effectiveness of teaching & learning")]),i("a-rate",{staticStyle:{margin:"0"},attrs:{tooltips:e.RATE_TOOLTIPS.EFFETIVENESS,"allow-half":"",disabled:""},model:{value:e.data.effectiveness,callback:function(t){e.$set(e.data,"effectiveness",t)},expression:"data.effectiveness"}})],1),i("a-space",{attrs:{align:"center"}},[i("label",[e._v("Quality of the content")]),i("a-rate",{staticStyle:{margin:"0"},attrs:{tooltips:e.RATE_TOOLTIPS.QUALITY,"allow-half":"",disabled:""},model:{value:e.data.quality,callback:function(t){e.$set(e.data,"quality",t)},expression:"data.quality"}})],1)],1)],1)],1),i("a-rate",{attrs:{tooltips:e.RATE_TOOLTIPS.OVERALL,"allow-half":"",disabled:""},model:{value:e.data.overall,callback:function(t){e.$set(e.data,"overall",t)},expression:"data.overall"}}),i("a-icon",{staticStyle:{"margin-left":"5px"},attrs:{type:"down"}})],2):e._e()],1)},a=[],r=i("5530"),n=(i("d3b7"),i("f93e")),o=i("c2e5"),l=i("6b36"),c=i("2f62"),u=i("4fcf"),d=u.debounce,v={name:"ReviewScore",props:{review:{type:Object,default:function(){}},placement:{type:String,default:"bottom"},id:{type:String,default:null}},watch:{review:{handler:function(e){this.data=e?Object(r["a"])({},e):{}},immediate:!0},id:{handler:function(e){e&&(this.reviewId=e)},immediate:!0}},computed:Object(r["a"])({},Object(c["e"])({currentRole:function(e){return e.user.currentRole}})),created:function(){this.debouncedGetData=d(this.getReview,300)},beforeDestroy:function(){this.timer&&clearTimeout(this.timer)},data:function(){return{RATE_TOOLTIPS:n["y"],data:{},reviewId:this.id,hasRender:!1,timer:null,loading:!1}},methods:{getReview:function(e){var t=this;if(this.reviewId&&e&&!this.hasRender){var i=null;i="student"===this.currentRole?l["ReviewsTaskStats"]:o["ReviewsTeacherStats"],this.loading=!0,i&&i({taskId:this.reviewId,purchasesId:this.reviewId}).then((function(e){e.success&&(t.data=e.result,t.hasRender=!0,t.timer=setTimeout((function(){t.hasRender=!1}),6e4))})).finally((function(){t.loading=!1}))}}}},w=v,m=i("0c7c"),f=Object(m["a"])(w,s,a,!1,null,"6e24629c",null);t["a"]=f.exports},b4ab:function(e,t,i){},c2e5:function(e,t,i){"use strict";i.r(t),i.d(t,"reviewsTeacherAPIUrl",(function(){return r})),i.d(t,"ReviewsTeacherSave",(function(){return n})),i.d(t,"ReviewsTeacherList",(function(){return o})),i.d(t,"ReviewsTeacherDelete",(function(){return l})),i.d(t,"ReviewsTeacherMyReview",(function(){return c})),i.d(t,"ReviewsTeacherStats",(function(){return u})),i.d(t,"byOverall",(function(){return d}));var s=i("b775"),a="reviewsTeacher",r={delete:"/classcipe/api/".concat(a,"/delete"),list:"/classcipe/api/".concat(a,"/list"),save:"/classcipe/api/".concat(a,"/save"),myReviews:"/classcipe/api/".concat(a,"/myReviews"),queryReviewsStat:"/classcipe/api/".concat(a,"/queryReviewsStat"),byOverall:"/classcipe/api/".concat(a,"/reviewsStat/byOverall")};function n(e){return Object(s["d"])({url:r.save,method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(s["d"])({url:r.list,method:"get",params:e})}function l(e){return Object(s["d"])({url:r.delete+"?id="+e.id,method:"get",data:e})}function c(e){return Object(s["d"])({url:r.myReviews,method:"get",params:e})}function u(e){return Object(s["d"])({url:r.queryReviewsStat,method:"get",params:e})}function d(e){return Object(s["d"])({url:r.byOverall,method:"get",params:e})}},d980:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"ratePercentCon",staticClass:"rate-percent-con"},[i("div",{staticClass:"rate-percent-wrap"},[i("div",{ref:"ratePercentSum",staticClass:"rate-percent__sum"},[i("div",{staticClass:"sum-title"},[e._v(e._s(e._f("percentFormat")(e.percents.avgReviewsScore)))]),i("div",{staticClass:"sum-desc"},[i("a-rate",{attrs:{defaultValue:e.percents.avgReviewsScore,"allow-half":"",disabled:""}})],1)]),i("div",{staticClass:"rate-percent__detail",attrs:{direction:"vertical"}},e._l(e.percents.reviewsScoreStatDetail.concat().reverse(),(function(t,s){return i("a-space",{key:"percent_"+s,staticClass:"detail-bar",attrs:{align:"center"}},[i("a-progress",{style:{width:e.progressWidth},attrs:{strokeLinecap:"square",strokeColor:"#FFBB00",percent:t.reviewsScoreRate,showInfo:!1}}),i("a-rate",{attrs:{defaultValue:t.reviewsScore,disabled:""}}),i("span",[e._v(e._s(t.reviewsScoreRate)+"%")])],1)})),1)])])},a=[],r=i("5530"),n=(i("b4ab"),{name:"RateByPercent",props:{rates:{type:Object,default:function(){return{avgReviewsScore:0,reviewsScoreStatDetail:[{reviewsScore:1,reviewsScoreCount:0,reviewsScoreRate:0},{reviewsScore:2,reviewsScoreCount:0,reviewsScoreRate:0},{reviewsScore:3,reviewsScoreCount:0,reviewsScoreRate:0},{reviewsScore:4,reviewsScoreCount:0,reviewsScoreRate:0},{reviewsScore:5,reviewsScoreCount:0,reviewsScoreRate:0}]}}}},watch:{rates:function(e){this.percents=Object(r["a"])({},e)}},data:function(){return{percents:this.rates,progressWidth:"135px"}},mounted:function(){if(this.$refs.ratePercentCon&&this.$refs.ratePercentSum){var e=this.$refs.ratePercentCon.getBoundingClientRect().width,t=this.$refs.ratePercentSum.getBoundingClientRect().width;this.progressWidth=e-40-t-45-200+"px"}}}),o=n,l=i("0c7c"),c=Object(l["a"])(o,s,a,!1,null,null,null);t["a"]=c.exports},dd6e:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"reviews-wrapper"},[e.canList||e.showCreate||e.canEdit?s("div",{staticClass:"reviews-title"},[s("h4",[e._v("Reviews")])]):e._e(),s("review-edit",{directives:[{name:"show",rawName:"v-show",value:e.canEdit,expression:"canEdit"}],ref:"myReview",attrs:{role:e.role,footerBottom:!e.canList&&e.showCreate,canCreate:e.showCreate,myReviews:e.myReviews},on:{submit:e.handleSaveMyReview}}),e.needSearch&&e.canList?s("div",{staticClass:"reviews-search"},[s("div",{staticClass:"my-search"},[s("a-input-search",{attrs:{placeholder:"Search",allowClear:!0},on:{search:e.triggerSearch,pressEnter:e.triggerSearch},model:{value:e.reviewsNotes,callback:function(t){e.reviewsNotes=t},expression:"reviewsNotes"}})],1),s("a-select",{attrs:{getPopupContainer:function(e){return e.parentElement}},on:{change:e.triggerChangeRate},model:{value:e.reviewsScore,callback:function(t){e.reviewsScore=t},expression:"reviewsScore"}},[s("a-select-option",{attrs:{value:""}},[e._v(" All rating ")]),e._l([5,4,3,2,1],(function(t){return s("a-select-option",{key:"rate_choose_"+t,attrs:{value:t}},[e._v(" "+e._s(t)+" star ")])}))],2)],1):e._e(),e.canList?s("div",{staticClass:"reviews-content"},[s("a-spin",{attrs:{spinning:e.delLoading}},[e.myReviews?s("div",{staticClass:"reviews-content-detail reviews-me"},[s("div",{staticClass:"content-detail__avatar"},[e.myReviews.avatar?s("img",{attrs:{src:e.myReviews.avatar}}):s("img",{attrs:{src:i("4992")}})]),s("div",{staticClass:"content-detail__rate"},[s("review-score",{attrs:{review:e.myReviews}}),s("div",{staticClass:"content-detail__tag"},[s("a-tooltip",{attrs:{title:"Distance learning"}},[s("a-tag",{directives:[{name:"show",rawName:"v-show",value:e.myReviews.learningDistance,expression:"myReviews.learningDistance"}],attrs:{color:"#f50"}},[e._v(" Distance ")])],1),s("a-tooltip",{attrs:{title:"At home learning"}},[s("a-tag",{directives:[{name:"show",rawName:"v-show",value:e.myReviews.learningHome,expression:"myReviews.learningHome"}],attrs:{color:"#2db7f5"}},[e._v(" At home ")])],1),s("a-tooltip",{attrs:{title:"In-class learning"}},[s("a-tag",{directives:[{name:"show",rawName:"v-show",value:e.myReviews.learningClass,expression:"myReviews.learningClass"}],attrs:{color:"#87d068"}},[e._v(" In-class ")])],1)],1)],1),s("div",[s("div",{staticClass:"content-detail__title"},[s("div",{staticClass:"title-info"},[s("div",{staticClass:"info-author"},[e._v(" "+e._s(e.myReviews.nickName)+" ")]),s("div",{staticClass:"info-time"},[e._v(" "+e._s(e._f("dayjs")(e.myReviews.createTime))+" ")])])]),s("div",{staticClass:"content-detail__review"},[s("label",[e._v(" "+e._s(e.myReviews.reviewsNotes)+" ")])])]),s("a-space",{directives:[{name:"show",rawName:"v-show",value:e.canEdit,expression:"canEdit"}],staticClass:"content-detail__edit"},[s("a-button",{attrs:{type:"link"},on:{click:function(){return e.triggerEdit(!0)}}},[e._v("Edit")]),s("a-button",{attrs:{type:"link"},on:{click:e.handleDelMyReview}},[e._v("Delete")])],1)],1):e._e()]),s("a-skeleton",{attrs:{loading:e.loading,active:""}},[e.reviewsList.length>0?s("a-list",{attrs:{"item-layout":"vertical",pagination:e.pagination,"data-source":e.reviewsList},scopedSlots:e._u([{key:"renderItem",fn:function(t){return s("a-list-item",{key:"item.id"},[s("div",{staticClass:"reviews-content-detail"},[s("div",{staticClass:"content-detail__avatar"},[t.avatar?s("img",{attrs:{src:t.avatar}}):s("img",{attrs:{src:i("4992")}})]),s("div",{staticClass:"content-detail__rate"},[s("review-score",{attrs:{review:t}}),s("div",{staticClass:"content-detail__tag"},[s("a-tooltip",{attrs:{title:"Distance learning"}},[s("a-tag",{directives:[{name:"show",rawName:"v-show",value:t.learningDistance,expression:"item.learningDistance"}],attrs:{color:"#f50"}},[e._v(" Distance ")])],1),s("a-tooltip",{attrs:{title:"At home learning"}},[s("a-tag",{directives:[{name:"show",rawName:"v-show",value:t.learningHome,expression:"item.learningHome"}],attrs:{color:"#2db7f5"}},[e._v(" At home ")])],1),s("a-tooltip",{attrs:{title:"In-class learning"}},[s("a-tag",{directives:[{name:"show",rawName:"v-show",value:t.learningClass,expression:"item.learningClass"}],attrs:{color:"#87d068"}},[e._v(" In-class ")])],1)],1)],1),s("div",[s("div",{staticClass:"content-detail__title"},[s("div",{staticClass:"title-info"},[s("div",{staticClass:"info-author"},[e._v(" "+e._s(t.nickName)+" ")]),s("div",{staticClass:"info-time"},[e._v(" "+e._s(e._f("dayjs")(t.createTime))+" ")])])]),s("div",{staticClass:"content-detail__review"},[s("label",[e._v(" "+e._s(t.reviewsNotes)+" ")])])])])])}}],null,!1,2711396856)}):e._e(),e.myReviews||0!==e.reviewsList.length?e._e():s("a-empty",{attrs:{description:"No reviews yet"}})],1)],1):e._e()],1)},a=[],r=i("5530"),n=i("53ca"),o=(i("a9e3"),i("d3b7"),i("7db0"),i("823b")),l=i("f93e"),c=i("ed18"),u=i("abb8"),d={name:"ReviewsPreview",components:{ReviewEdit:c["a"],ReviewScore:u["a"]},props:{id:{type:[String,Number],required:!0},role:{type:String,default:"student"},save:{type:Function,default:function(){}},list:{type:Function,required:!0},del:{type:Function,default:function(){}},myReview:{type:Function,default:function(){}},canEdit:{type:Boolean,default:!0},canCreate:{type:Boolean,default:!0},canList:{type:Boolean,default:!0},needSearch:{type:Boolean,default:!0}},watch:{id:{handler:function(e){this.currentId=e,this.loadData()},immediate:!0},canCreate:function(e){this.showCreate=e}},data:function(){var e=this;return{loading:!1,delLoading:!1,subLoading:!1,showCreate:this.canCreate,RATE_TOOLTIPS:l["y"],isEdit:!1,myReviews:null,reviewsList:[],reviewsNotes:"",reviewsScore:"",currentId:this.id,pagination:{onChange:function(t){e.pageNo=t,e.loadReviewList()},showTotal:function(e){return"Total ".concat(e," items")},total:0,pageSize:10,size:"small"},pageNo:1,mockData:{reviewsLabel:1,reviewsNotes:"123213123",reviewsScore:1,overall:1,effectiveness:5,quality:4,studentsEngagement:1,createBy:"jacob",id:123213213,createTime:"123123"}}},mounted:function(){this.loadData()},methods:{justifyPromise:function(e){return("object"===Object(n["a"])(e)||"function"===typeof e)&&"function"===typeof e.then},loadData:function(){this.loadMyReview(),this.loadReviewList()},loadMyReview:function(){var e=this,t=this.myReview({taskId:this.currentId,purchasesId:this.currentId});this.justifyPromise(t)&&(this.$refs.myReview&&this.$refs.myReview.triggerLoading(!0),this.delLoading=!0,t.then((function(t){t.success&&t.result?e.myReviews=Object(r["a"])(Object(r["a"])({},t.result),{},{learningClass:Boolean(t.result.learningClass),learningDistance:Boolean(t.result.learningDistance),learningHome:Boolean(t.result.learningHome),updatedMsg:Boolean(t.result.updatedMsg)}):e.myReviews=null})).finally((function(){e.$refs.myReview&&e.$refs.myReview.triggerLoading(!1),e.delLoading=!1})))},loadReviewList:function(){var e=this,t=this.list({reviewsNotes:this.reviewsNotes,reviewsScore:this.reviewsScore,pageNo:this.pageNo,pageSize:this.pagination.pageSize,taskId:this.currentId,excludeSelf:1,overall:this.reviewsScore,searchKey:this.reviewsNotes,purchasesId:this.currentId});this.justifyPromise(t)&&(this.loading=!0,t.then((function(t){o["info"]("loadReviewList",t),t.result&&t.result.records&&t.result.records.length?(e.reviewsList=t.result.records,e.pagination.total=t.result.total):(e.reviewsList=[],e.pagination.total=0),o["info"]("reviewsList",e.reviewsList)})).finally((function(){e.loading=!1})))},handleDelMyReview:function(){var e=this;this.myReviews&&this.$confirm({title:"Confirm delete",content:"Are you sure to delete your review ?",centered:!0,onOk:function(){var t=e.del({id:e.myReviews.id});e.justifyPromise(t)&&(e.delLoading=!0,t.then((function(t){e.$logger.info("del response",t),t.success&&(e.$message.success("Del successfully"),e.myReviews=null,e.$emit("update"))})).finally((function(){e.delLoading=!1})))}})},handleSaveMyReview:function(e){var t=this;if("student"!==this.role||this.myReviews){var i=this.save(Object(r["a"])({taskId:this.currentId,purchasesId:this.currentId,id:this.myReviews&&this.myReviews.id?this.myReviews.id:null},e));this.justifyPromise(i)&&(this.$refs.myReview&&this.$refs.myReview.triggerLoading(!0),i.then((function(e){if(e.success){if(t.$message.success("Submitted successfully"),t.myReviews=Object(r["a"])(Object(r["a"])(Object(r["a"])({},t.myReviews),e.result),{},{learningClass:Boolean(e.result.learningClass),learningDistance:Boolean(e.result.learningDistance),learningHome:Boolean(e.result.learningHome),updatedMsg:Boolean(e.result.updatedMsg)}),t.myReviews&&t.myReviews.id){var i=t.reviewsList.find((function(e){return e.id===t.myReviews.id}));i&&(i=Object(r["a"])(Object(r["a"])({},i),e.result))}t.$refs.myReview&&t.$refs.myReview.triggerIsEdit(!1),t.$emit("update")}})).finally((function(){t.$refs.myReview&&t.$refs.myReview.triggerLoading(!1)})))}},triggerEdit:function(e){this.$refs.myReview&&this.$refs.myReview.triggerEdit(e)},triggerSearch:function(){this.loadReviewList()},triggerChangeRate:function(e){this.loadReviewList()}}},v=d,w=(i("6f26"),i("0c7c")),m=Object(w["a"])(v,s,a,!1,null,"807d777a",null);t["a"]=m.exports},ed18:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"my-reviews"},[!e.myReviews&&"teacher"!==e.role||e.footerBottom?e._e():i("a-space",{staticClass:"reviews-opt"},["student"!==e.role||e.isEdit?e._e():i("a-button",{attrs:{type:"link"},on:{click:function(){return e.triggerEdit(!0)}}},[e._v("Edit Review")]),"teacher"!==e.role||e.myReviews||e.isEdit||!e.showCreate?e._e():i("a-button",{attrs:{type:"link"},on:{click:function(){return e.triggerEdit(!0)}}},[e._v("Leave a Review")]),e.isEdit?i("a-button",{attrs:{type:"link"},on:{click:function(){return e.triggerEdit(!1)}}},[e._v("Cancel")]):e._e(),e.isEdit?i("a-button",{attrs:{type:"primary"},on:{click:e.handleSaveMyReview}},[e._v(e._s(e.myReviews?"Update":"Submit"))]):e._e()],1),"student"===e.role?i("a-spin",{attrs:{spinning:e.subLoading}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],staticClass:"reviews-edit"},[i("div",{staticClass:"reviews-edit__check"},[i("div",[i("label",[e._v("Difficulty Level")]),i("a-rate",{staticClass:"rate-bar-con",attrs:{count:3,tooltips:e.reviewsText,allowClear:!1},model:{value:e.subForm.reviewsLabel,callback:function(t){e.$set(e.subForm,"reviewsLabel",t)},expression:"subForm.reviewsLabel"}},[i("div",{attrs:{slot:"character"},slot:"character"},[i("div",{staticClass:"rate-bar"})])])],1),i("div",[i("label",[e._v("Overall review")]),i("a-rate",{attrs:{allowClear:!1},model:{value:e.subForm.reviewsScore,callback:function(t){e.$set(e.subForm,"reviewsScore",t)},expression:"subForm.reviewsScore"}})],1)]),i("div",{staticClass:"reviews-edit__text"},[i("a-textarea",{ref:"reviewsNotes",attrs:{placeholder:"Enter your reviews......","auto-size":{minRows:4,maxRows:6}},model:{value:e.subForm.reviewsNotes,callback:function(t){e.$set(e.subForm,"reviewsNotes",t)},expression:"subForm.reviewsNotes"}})],1)])]):e._e(),"teacher"===e.role?i("a-spin",{attrs:{spinning:e.subLoading}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"isEdit"}],staticClass:"reviews-edit"},[i("div",{staticClass:"reviews-edit__check"},[i("div",[i("a-tooltip",{attrs:{title:"Overall review"}},[i("label",[e._v("Overall review")])]),i("a-rate",{attrs:{tooltips:e.RATE_TOOLTIPS.OVERALL,allowClear:!1},model:{value:e.subForm.overall,callback:function(t){e.$set(e.subForm,"overall",t)},expression:"subForm.overall"}})],1),i("div",[i("a-tooltip",{attrs:{title:"Students engagement"}},[i("label",[e._v("Students engagement")])]),i("a-rate",{attrs:{tooltips:e.RATE_TOOLTIPS.ENGAGEMENT,allowClear:!1},model:{value:e.subForm.studentsEngagement,callback:function(t){e.$set(e.subForm,"studentsEngagement",t)},expression:"subForm.studentsEngagement"}})],1)]),i("div",{staticClass:"reviews-edit__check"},[i("div",[i("a-tooltip",{attrs:{title:"Effectiveness of teaching & learning"}},[i("label",[e._v("Effectiveness of teaching & learning")])]),i("a-rate",{attrs:{tooltips:e.RATE_TOOLTIPS.EFFETIVENESS,allowClear:!1},model:{value:e.subForm.effectiveness,callback:function(t){e.$set(e.subForm,"effectiveness",t)},expression:"subForm.effectiveness"}})],1),i("div",[i("a-tooltip",{attrs:{title:"Quality of the content"}},[i("label",[e._v("Quality of the content")])]),i("a-rate",{attrs:{tooltips:e.RATE_TOOLTIPS.QUALITY,allowClear:!1},model:{value:e.subForm.quality,callback:function(t){e.$set(e.subForm,"quality",t)},expression:"subForm.quality"}})],1)]),i("div",{staticClass:"reviews-edit__check"},[i("div",[i("a-checkbox",{model:{value:e.subForm.learningDistance,callback:function(t){e.$set(e.subForm,"learningDistance",t)},expression:"subForm.learningDistance"}},[e._v(" Distance learning ")])],1),i("div",[i("a-checkbox",{model:{value:e.subForm.learningHome,callback:function(t){e.$set(e.subForm,"learningHome",t)},expression:"subForm.learningHome"}},[e._v(" At home learning ")])],1),i("div",[i("a-checkbox",{model:{value:e.subForm.learningClass,callback:function(t){e.$set(e.subForm,"learningClass",t)},expression:"subForm.learningClass"}},[e._v(" In-class learning ")])],1)]),i("div",{staticClass:"reviews-edit__text"},[i("a-textarea",{ref:"reviewsNotes",attrs:{placeholder:"Enter your reviews......","auto-size":{minRows:4,maxRows:6}},model:{value:e.subForm.reviewsNotes,callback:function(t){e.$set(e.subForm,"reviewsNotes",t)},expression:"subForm.reviewsNotes"}})],1)])]):e._e(),(e.myReviews||"teacher"===e.role)&&e.footerBottom?i("a-space",{staticClass:"reviews-footer"},[i("a-button",{on:{click:e.handleCancel}},[e._v("Cancel")]),i("a-button",{attrs:{type:"primary"},on:{click:e.handleSaveMyReview}},[e._v("Submit")])],1):e._e()],1)},a=[],r=i("5530"),n=(i("a9e3"),i("f93e")),o={name:"ReviewsEdit",props:{footerBottom:{type:Boolean,default:!1},role:{type:String,default:"student"},myReviews:{type:Object,default:null},canCreate:{type:Boolean,default:!0}},watch:{canCreate:function(e){this.showCreate=e,!this.footerBottom&&("teacher"!==this.role||!this.showCreate||this.myReviews&&this.myReviews.id)||(this.isEdit=!0)},myReviews:{handler:function(e){this.subForm=e?Object(r["a"])({},e):Object(r["a"])({},this.init),this.footerBottom||"teacher"===this.role&&this.showCreate&&(!e||!e.id)?this.isEdit=!0:this.isEdit=!1},immediate:!0}},data:function(){return{subLoading:!1,showCreate:this.canCreate,RATE_TOOLTIPS:n["y"],isEdit:!1,reviewsText:["Easy","Intermediate","Difficult"],subForm:this.myReviews,init:{reviewsLabel:1,reviewsNotes:"",reviewsScore:1,overall:1,effectiveness:1,quality:1,studentsEngagement:1,learningClass:!1,learningDistance:!1,learningHome:!1,updatedMsg:!0}}},mounted:function(){!this.footerBottom&&("teacher"!==this.role||!this.showCreate||this.myReviews&&this.myReviews.id)||(this.isEdit=!0)},methods:{handleSaveMyReview:function(){if("student"!==this.role||this.myReviews){this.subLoading=!0;var e=Object(r["a"])(Object(r["a"])({},this.subForm),{},{learningClass:Number(this.subForm.learningClass),learningDistance:Number(this.subForm.learningDistance),learningHome:Number(this.subForm.learningHome),updatedMsg:Number(this.subForm.updatedMsg)});this.$emit("submit",e)}},handleCancel:function(){this.$emit("cancel")},triggerLoading:function(e){this.subLoading=e},triggerIsEdit:function(e){this.isEdit=e},triggerEdit:function(e){var t=this;this.isEdit=e,this.$nextTick((function(){e&&t.$refs.reviewsNotes&&t.$refs.reviewsNotes.focus()}))}}},l=o,c=(i("ab4d"),i("0c7c")),u=Object(c["a"])(l,s,a,!1,null,"179193f5",null);t["a"]=u.exports}}]);