(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03fd990d"],{"21fb":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CurrentSchoolMixin; });\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("b0c0");\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__);\n\nvar CurrentSchoolMixin = {\n  data: function data() {\n    return {\n      unwatch: null,\n      routeName: this.$route.name\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.unwatch = this.$store.watch(function (state) {\n      return state.user.currentSchool;\n    }, function (currentSchool) {\n      return currentSchool && _this.$route.name === _this.routeName && _this.handleSchoolChange(currentSchool);\n    });\n  },\n  computed: {},\n  beforeDestroy: function beforeDestroy() {\n    this.unwatch && this.unwatch();\n  },\n  methods: {\n    // 默认方法，各个组件可自定义覆盖此方法\n    handleSchoolChange: function handleSchoolChange(currentSchool) {}\n  }\n};\n\n//# sourceURL=webpack:///./src/mixins/CurrentSchoolMixin.js?')},"36c7":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolUserSelect_vue_vue_type_style_index_0_id_a1b3353a_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("8b1a3");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolUserSelect_vue_vue_type_style_index_0_id_a1b3353a_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolUserSelect_vue_vue_type_style_index_0_id_a1b3353a_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolUser/SchoolUserSelect.vue?')},4187:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolRoleSubject_vue_vue_type_style_index_0_id_61bfc537_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("debb");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolRoleSubject_vue_vue_type_style_index_0_id_61bfc537_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolRoleSubject_vue_vue_type_style_index_0_id_61bfc537_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolRole/SchoolRoleSubject.vue?')},"444d":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/account/manage/SchoolRole.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},"457d":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolRole/SchoolRoleUser.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},4992:function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__.p + "img/default-avatar.db1c5445.png";\n\n//# sourceURL=webpack:///./src/assets/icons/library/default-avatar.png?')},"50c4a":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"719c2c8a-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/SchoolRole.vue?vue&type=template&id=95456610&scoped=true&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{staticClass:"my-full-form-wrapper",attrs:{"id":"formRoot"}},[_c(\'fixed-form-header\',{scopedSlots:_vm._u([{key:"header",fn:function(){return [_c(\'form-header\',{attrs:{"title":"Role Manage","show-share":false,"show-collaborate":false,"is-preview-mode":true},on:{"back":_vm.goBack},scopedSlots:_vm._u([{key:"back",fn:function(){return [_c(\'img\',{staticClass:"single-logo-img",attrs:{"src":__webpack_require__("be50"),"alt":"classcipe"},on:{"click":function($event){$event.stopPropagation();return _vm.openV2(\'/v2/\')}}})]},proxy:true},{key:"left",fn:function(){return [_c(\'a-space\',{attrs:{"size":5,"align":"center"},on:{"click":function($event){$event.stopPropagation();}}},[_c(\'label\',{staticStyle:{"cursor":"pointer"},on:{"click":function($event){return _vm.openV2(\'/v2/account/info\')}}},[_vm._v("Account Info")]),_c(\'label\',{attrs:{"for":""}},[_vm._v(">")]),_c(\'label\',{staticStyle:{"font-weight":"normal"}},[_vm._v("Role Manage")])])]},proxy:true},{key:"right",fn:function(){return undefined},proxy:true}])})]},proxy:true}])}),_c(\'div\',{staticClass:"form-content"},[_c(\'div\',{staticClass:"form-tab"},[_c(\'a-row\',{staticStyle:{"height":"100%"},attrs:{"gutter":10}},[_c(\'a-col\',{staticStyle:{"height":"100%"},attrs:{"md":_vm.leftColMd,"sm":24}},[_c(\'a-card\',{staticStyle:{"height":"100%"},attrs:{"bordered":false}},[_c(\'school-role-list\',{ref:"schoolRoleList",attrs:{"school":_vm.currentSchool},on:{"choose":_vm.chooseRole}})],1)],1),(_vm.rightcolval === 1)?_c(\'a-col\',{staticStyle:{"height":"100%"},attrs:{"md":_vm.rightColMd,"sm":24}},[_c(\'a-card\',{staticStyle:{"height":"100%"},attrs:{"bordered":false}},[(_vm.selectedRole && _vm.selectedRole.roleCode === \'Admin\')?_c(\'school-role-user\',{attrs:{"school":_vm.currentSchool,"role":_vm.selectedRole},on:{"close":_vm.clearRole}}):_vm._e(),(_vm.selectedRole && _vm.selectedRole.roleCode === \'Homeroom teacher\')?_c(\'school-role-class\',{attrs:{"school":_vm.currentSchool,"role":_vm.selectedRole},on:{"close":_vm.clearRole}}):_vm._e(),(_vm.selectedRole && _vm.selectedRole.roleCode === \'Subject coordinator\')?_c(\'school-role-subject\',{attrs:{"school":_vm.currentSchool,"role":_vm.selectedRole},on:{"close":_vm.clearRole}}):_vm._e()],1)],1):_vm._e()],1)],1)])],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/manage/SchoolRole.vue?vue&type=template&id=95456610&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("5530");\n\n// EXTERNAL MODULE: ./src/const/common.js\nvar common = __webpack_require__("f93e");\n\n// EXTERNAL MODULE: ./src/mixins/UserModeMixin.js\nvar UserModeMixin = __webpack_require__("6e84");\n\n// EXTERNAL MODULE: ./src/mixins/CurrentSchoolMixin.js\nvar CurrentSchoolMixin = __webpack_require__("21fb");\n\n// EXTERNAL MODULE: ./src/components/Common/FixedFormHeader.vue + 4 modules\nvar FixedFormHeader = __webpack_require__("b5ff8");\n\n// EXTERNAL MODULE: ./src/components/FormHeader/FormHeader.vue + 9 modules\nvar FormHeader = __webpack_require__("b5a9");\n\n// EXTERNAL MODULE: ./src/components/Common/CustomTextButton.vue + 4 modules\nvar CustomTextButton = __webpack_require__("20ae");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"719c2c8a-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolRole/SchoolRoleList.vue?vue&type=template&id=3110e2ed&scoped=true&\nvar SchoolRoleListvue_type_template_id_3110e2ed_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{staticClass:"role-con"},[_c(\'div\',{staticClass:"filter-tab"}),_c(\'div\',{staticClass:"table-con"},[_c(\'a-table\',{ref:"table",attrs:{"rowKey":function (item) { return item.roleCode; },"columns":_vm.columns,"dataSource":_vm.dataSource,"pagination":_vm.ipagination,"loading":_vm.loading,"rowSelection":{\n        selectedRowKeys: _vm.selectedRowKeys,\n        onChange: _vm.onSelectChange,\n        type: \'radio\'\n      }},on:{"change":_vm.handleTableChange},scopedSlots:_vm._u([{key:"action",fn:function(text, record){return _c(\'a-space\',{},[_c(\'a\',{on:{"click":function($event){return _vm.showUsers(record)}}},[_vm._v("Users")]),(_vm.selectedRowKeys.length === 0)?[_c(\'a\',{on:{"click":function($event){return _vm.handleEdit(record)}}},[_vm._v("Edit")]),_c(\'a-popover\',{attrs:{"overlayStyle":{width: \'300px\'},"title":record.name + \' Permission\',"trigger":"click"}},[_c(\'div\',{attrs:{"slot":"content"},slot:"content"},[_c(\'a-space\',{staticStyle:{"flex-wrap":"wrap"}},_vm._l((_vm.ROLE_PERMISSION[record.roleCode].label.split(\',\')),function(per){return _c(\'a-tag\',{key:per,staticStyle:{"margin-bottom":"5px"}},[_vm._v(" "+_vm._s(per)+" ")])}),1)],1),_c(\'a\',[_vm._v("Permissions")])])]:_c(\'a-dropdown\',[_c(\'a\',{staticClass:"ant-dropdown-link"},[_vm._v(" More "),_c(\'a-icon\',{attrs:{"type":"down"}})],1),_c(\'a-menu\',{attrs:{"slot":"overlay"},slot:"overlay"},[_c(\'a-menu-item\',[_c(\'a-popover\',{attrs:{"overlayStyle":{width: \'300px\'},"title":record.name + \' Permission\',"trigger":"click"}},[_c(\'div\',{attrs:{"slot":"content"},slot:"content"},[_c(\'a-space\',{staticStyle:{"flex-wrap":"wrap"}},_vm._l((_vm.ROLE_PERMISSION[record.roleCode].label.split(\',\')),function(per){return _c(\'a-tag\',{key:per,staticStyle:{"margin-bottom":"5px"}},[_vm._v(" "+_vm._s(per)+" ")])}),1)],1),_c(\'a\',[_vm._v("Permissions")])])],1),_c(\'a-menu-item\',[_c(\'a\',{on:{"click":function($event){return _vm.handleEdit(record)}}},[_vm._v("Edit")])])],1)],1)],2)}}])})],1),_c(\'school-role-add\',{ref:"schoolRoleAdd",on:{"ok":_vm.debounceLoad}}),_c(\'school-role-permission\',{ref:"schoolRolePermission",on:{"ok":_vm.debounceLoad}})],1)}\nvar SchoolRoleListvue_type_template_id_3110e2ed_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRoleList.vue?vue&type=template&id=3110e2ed&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__("2909");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__("99af");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__("d3b7");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__("b64b");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__("159b");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__("b0c0");\n\n// EXTERNAL MODULE: ./src/api/v2/schoolRole.js\nvar schoolRole = __webpack_require__("6f2a");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"719c2c8a-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolRole/SchoolRoleAdd.vue?vue&type=template&id=0261a469&scoped=true&\nvar SchoolRoleAddvue_type_template_id_0261a469_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'a-modal\',{staticStyle:{"top":"5%","height":"85%","overflow-y":"hidden"},attrs:{"title":_vm.title,"width":800,"visible":_vm.visible,"confirmLoading":_vm.confirmLoading,"cancelText":"Close","wrapClassName":"ant-modal-cust-warp"},on:{"ok":_vm.handleOk,"cancel":_vm.handleCancel}},[_c(\'a-spin\',{attrs:{"spinning":_vm.confirmLoading}},[_c(\'a-form-model\',_vm._b({ref:"form",attrs:{"model":_vm.model,"rules":_vm.validatorRules}},\'a-form-model\',_vm.layout,false),[_c(\'a-form-model-item\',{attrs:{"label":"Role Name","required":"","prop":"name"}},[_c(\'a-input\',{attrs:{"placeholder":"Please input role name"},model:{value:(_vm.model.name),callback:function ($$v) {_vm.$set(_vm.model, "name", $$v)},expression:"model.name"}})],1)],1)],1)],1)}\nvar SchoolRoleAddvue_type_template_id_0261a469_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRoleAdd.vue?vue&type=template&id=0261a469&scoped=true&\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolRole/SchoolRoleAdd.vue?vue&type=script&lang=js&\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SchoolRoleAddvue_type_script_lang_js_ = ({\n  name: \'SchoolRoleAdd\',\n  data: function data() {\n    return {\n      title: \'School Role Edit\',\n      visible: false,\n      roleDisabled: false,\n      model: {\n        schoolId: \'\',\n        changedKey: \'\',\n        roleNames: {},\n        name: \'\'\n      },\n      layout: {\n        labelCol: {\n          span: 3\n        },\n        wrapperCol: {\n          span: 14\n        }\n      },\n      confirmLoading: false,\n      validatorRules: {\n        name: [{\n          required: true,\n          message: \'Please input role name!\'\n        }, {\n          min: 2,\n          max: 30,\n          message: \'No more than 30 characters in length \',\n          trigger: \'blur\'\n        }]\n      }\n    };\n  },\n  created: function created() {\n    // 备份model原始值\n    this.modelDefault = JSON.parse(JSON.stringify(this.model));\n  },\n  methods: {\n    add: function add() {\n      var record = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.edit(Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, this.modelDefault), record));\n    },\n    edit: function edit(record) {\n      if (!record.changedKey) {\n        this.$message.error(\'Please select a role\');\n        return;\n      }\n\n      this.model = JSON.parse(JSON.stringify(record));\n      this.visible = true;\n    },\n    close: function close() {\n      this.$refs.form.clearValidate();\n      this.$emit(\'close\');\n      this.visible = false;\n    },\n    handleOk: function handleOk() {\n      var _this = this;\n\n      var that = this; // 触发表单验证\n\n      this.$refs.form.validate(function (valid) {\n        if (valid) {\n          that.confirmLoading = true;\n          var roleNames = _this.model.roleNames;\n          roleNames[_this.model.changedKey] = _this.model.name;\n          Object(schoolRole["i" /* saveSchoolRole */])({\n            schoolId: _this.model.schoolId,\n            roleNames: roleNames\n          }).then(function (res) {\n            if (res.success) {\n              that.$message.success(res.message);\n              that.$emit(\'ok\');\n            } else {\n              that.$message.warning(res.message);\n            }\n          }).finally(function () {\n            that.confirmLoading = false;\n            that.close();\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    handleCancel: function handleCancel() {\n      this.close();\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRoleAdd.vue?vue&type=script&lang=js&\n /* harmony default export */ var schoolRole_SchoolRoleAddvue_type_script_lang_js_ = (SchoolRoleAddvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("0c7c");\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRoleAdd.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["a" /* default */])(\n  schoolRole_SchoolRoleAddvue_type_script_lang_js_,\n  SchoolRoleAddvue_type_template_id_0261a469_scoped_true_render,\n  SchoolRoleAddvue_type_template_id_0261a469_scoped_true_staticRenderFns,\n  false,\n  null,\n  "0261a469",\n  null\n  \n)\n\n/* harmony default export */ var SchoolRoleAdd = (component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"719c2c8a-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolRole/SchoolRolePermission.vue?vue&type=template&id=6e2ec06a&scoped=true&\nvar SchoolRolePermissionvue_type_template_id_6e2ec06a_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'a-modal\',{attrs:{"title":_vm.title,"width":800,"visible":_vm.visible,"confirmLoading":_vm.loading,"footer":null,"cancelText":"Close","wrapClassName":"ant-modal-cust-warp"},on:{"ok":_vm.handleOk,"cancel":_vm.handleCancel}},[_c(\'a-spin\',{attrs:{"spinning":_vm.loading}},[(_vm.result.length > 0)?_c(\'div\'):_c(\'a-empty\')],1)],1)}\nvar SchoolRolePermissionvue_type_template_id_6e2ec06a_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRolePermission.vue?vue&type=template&id=6e2ec06a&scoped=true&\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolRole/SchoolRolePermission.vue?vue&type=script&lang=js&\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SchoolRolePermissionvue_type_script_lang_js_ = ({\n  name: \'SchoolRolePermission\',\n  data: function data() {\n    return {\n      title: \'School Role Permission\',\n      result: [],\n      loading: false,\n      visible: false\n    };\n  },\n  methods: {\n    edit: function edit(record) {\n      var _this = this;\n\n      this.loading = true;\n      Object(schoolRole["e" /* getRolePermission */])({\n        roleId: record.id\n      }).then(function (res) {\n        if (res.code === 0) {\n          _this.result = res.result.permissionList;\n          _this.visible = true;\n        }\n      }).finally(function () {\n        _this.loading = false;\n      });\n    },\n    close: function close() {\n      this.$emit(\'close\');\n      this.visible = false;\n    },\n    handleOk: function handleOk() {},\n    handleCancel: function handleCancel() {\n      this.close();\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRolePermission.vue?vue&type=script&lang=js&\n /* harmony default export */ var schoolRole_SchoolRolePermissionvue_type_script_lang_js_ = (SchoolRolePermissionvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRolePermission.vue\n\n\n\n\n\n/* normalize component */\n\nvar SchoolRolePermission_component = Object(componentNormalizer["a" /* default */])(\n  schoolRole_SchoolRolePermissionvue_type_script_lang_js_,\n  SchoolRolePermissionvue_type_template_id_6e2ec06a_scoped_true_render,\n  SchoolRolePermissionvue_type_template_id_6e2ec06a_scoped_true_staticRenderFns,\n  false,\n  null,\n  "6e2ec06a",\n  null\n  \n)\n\n/* harmony default export */ var SchoolRolePermission = (SchoolRolePermission_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolRole/SchoolRoleList.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\nvar _require = __webpack_require__("4fcf"),\n    debounce = _require.debounce;\n\n/* harmony default export */ var SchoolRoleListvue_type_script_lang_js_ = ({\n  name: \'SchoolRoleList\',\n  components: {\n    SchoolRoleAdd: SchoolRoleAdd,\n    SchoolRolePermission: SchoolRolePermission\n  },\n  props: {\n    school: {\n      type: Object,\n      default: function _default() {}\n    }\n  },\n  watch: {\n    school: {\n      handler: function handler(val) {\n        this.currentSchool = Object(objectSpread2["a" /* default */])({}, val);\n        this.loadData();\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  data: function data() {\n    return {\n      ROLE_PERMISSION: common["y" /* ROLE_PERMISSION */],\n      currentSchool: this.school,\n      queryParams: {\n        searchKey: \'\'\n      },\n      loading: false,\n      dataSource: [],\n      selectedRowKeys: [],\n      selectionRows: [],\n      ipagination: {\n        current: 1,\n        pageSize: 10,\n        pageSizeOptions: [\'10\', \'20\', \'30\'],\n        showTotal: function showTotal(total, range) {\n          return range[0] + \'-\' + range[1] + \' of \' + total + \'\';\n        },\n        total: 0\n      }\n    };\n  },\n  computed: {\n    columns: function columns() {\n      return [{\n        title: \'Name\',\n        align: \'center\',\n        dataIndex: \'name\' // width: 200\n\n      }].concat(Object(toConsumableArray["a" /* default */])(this.selectedRowKeys.length > 0 ? [] : [// {\n        //   title: \'Role Type\',\n        //   align: \'center\',\n        //   dataIndex: \'roleType\',\n        //   // width: 120,\n        //   customRender: (text, record) => {\n        //     return text === 2 ? \'自定义角色\' : \'系统角色\'\n        //   }\n        // },\n        // {\n        //   title: \'Create Time\',\n        //   align: \'center\',\n        //   dataIndex: \'createTime\'\n        //   // width: 120\n        // }\n      ]), [{\n        title: \'Action\',\n        align: \'center\',\n        scopedSlots: {\n          customRender: \'action\'\n        }\n      }]);\n    }\n  },\n  created: function created() {\n    this.debounceLoad = debounce(this.loadData, 300);\n  },\n  methods: {\n    loadData: function loadData() {\n      var _this = this;\n\n      this.loading = true;\n      Object(schoolRole["h" /* pageListRole */])(Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, this.queryParams), {}, {\n        pageNo: this.ipagination.current,\n        pageSize: this.ipagination.pageSize,\n        schoolId: this.currentSchool.id\n      })).then(function (res) {\n        if (res.code === 0) {\n          _this.dataSource = res.result.records;\n\n          if (res.result.total) {\n            _this.ipagination.total = res.result.total;\n          } else {\n            _this.ipagination.total = 0;\n          }\n        }\n      }).finally(function () {\n        _this.loading = false;\n      });\n    },\n    onSelectChange: function onSelectChange(selectedRowKeys, selectionRows) {\n      this.selectedRowKeys = selectedRowKeys;\n      this.selectionRows = selectionRows;\n      this.$emit(\'choose\', selectionRows[0]);\n    },\n    onClearSelected: function onClearSelected() {\n      this.doClear();\n      this.$emit(\'choose\', \'\');\n    },\n    doClear: function doClear() {\n      this.selectedRowKeys = [];\n      this.selectionRows = [];\n    },\n    handleSearch: function handleSearch() {\n      this.ipagination.current = 1;\n      this.debounceLoad();\n    },\n    handleTableChange: function handleTableChange(pagination, filters, sorter) {\n      // 分页、排序、筛选变化时触发\n      if (Object.keys(sorter).length > 0) {\n        this.isorter.column = sorter.field;\n        this.isorter.order = sorter.order === \'ascend\' ? \'asc\' : \'desc\';\n      }\n\n      this.ipagination = pagination;\n      this.debounceLoad();\n    },\n    showUsers: function showUsers(item) {\n      this.selectedRowKeys = [item.roleCode];\n      this.selectionRows = [Object(objectSpread2["a" /* default */])({}, item)];\n      this.$emit(\'choose\', item);\n    },\n    handleAdd: function handleAdd() {\n      this.$refs.schoolRoleAdd.add({\n        schoolId: this.currentSchool.id,\n        roleNames: {}\n      });\n    },\n    handleEdit: function handleEdit(item) {\n      var roleNames = {};\n      this.dataSource.forEach(function (item) {\n        roleNames[item.roleCode] = item.name;\n      });\n      this.$refs.schoolRoleAdd.edit({\n        schoolId: this.currentSchool.id,\n        name: item.name,\n        roleNames: roleNames,\n        changedKey: item.roleCode\n      });\n    },\n    handlePermission: function handlePermission(item) {\n      this.$refs.schoolRolePermission.edit({\n        schoolId: this.currentSchool.id,\n        id: item.id\n      });\n    },\n    handleDelete: function handleDelete(item) {\n      this.$confirm({\n        title: \'Confirm delete role \' + item.name,\n        content: \'By deleting the role, all teachers belong to it will be removed. Do you confirm to delete? \',\n        centered: true,\n        onOk: function onOk() {// this.loading = true\n          // deleteRole({\n          //   id: item.id\n          // }).then(res => {\n          //   if (res.code === 0) {\n          //     this.onClearSelected()\n          //     this.debounceLoad()\n          //   } else {\n          //     this.loading = false\n          //   }\n          // }).catch(() => {\n          //   this.loading = false\n          // })\n        }\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRoleList.vue?vue&type=script&lang=js&\n /* harmony default export */ var schoolRole_SchoolRoleListvue_type_script_lang_js_ = (SchoolRoleListvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/account/manage/schoolRole/SchoolRoleList.vue?vue&type=style&index=0&id=3110e2ed&scoped=true&lang=less&\nvar SchoolRoleListvue_type_style_index_0_id_3110e2ed_scoped_true_lang_less_ = __webpack_require__("b098f");\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRoleList.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar SchoolRoleList_component = Object(componentNormalizer["a" /* default */])(\n  schoolRole_SchoolRoleListvue_type_script_lang_js_,\n  SchoolRoleListvue_type_template_id_3110e2ed_scoped_true_render,\n  SchoolRoleListvue_type_template_id_3110e2ed_scoped_true_staticRenderFns,\n  false,\n  null,\n  "3110e2ed",\n  null\n  \n)\n\n/* harmony default export */ var SchoolRoleList = (SchoolRoleList_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"719c2c8a-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolRole/SchoolRoleUser.vue?vue&type=template&id=0862cd91&scoped=true&\nvar SchoolRoleUservue_type_template_id_0862cd91_scoped_true_render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{staticClass:"role-con"},[_c(\'a-icon\',{staticClass:"close",attrs:{"type":"close-circle"},on:{"click":_vm.handleClose}}),_c(\'div\',{staticClass:"filter-tab"},[_c(\'div\',{directives:[{name:"clickOutside",rawName:"v-clickOutside",value:(function () { return this$1.searchPoverVis = false; }),expression:"() => this.searchPoverVis = false"}],staticStyle:{"width":"300px"}},[_c(\'a-popover\',{staticClass:"global-search",staticStyle:{"width":"100%"},attrs:{"placement":"bottomLeft","overlayClassName":"search-popver","getPopupContainer":function (trigger) { return trigger.parentElement; },"overlayStyle":{\n          maxHeight: \'300px\',\n          overflow: \'auto\'\n        },"size":"large","trigger":"null"},model:{value:(_vm.searchPoverVis),callback:function ($$v) {_vm.searchPoverVis=$$v},expression:"searchPoverVis"}},[_c(\'a-input-search\',{attrs:{"placeholder":"Search and add by name/email"},on:{"focus":function($event){_vm.searchPoverVis = true},"change":_vm.getFilterMembers},model:{value:(_vm.searchKeyMember),callback:function ($$v) {_vm.searchKeyMember=$$v},expression:"searchKeyMember"}}),_c(\'template\',{slot:"content"},_vm._l((_vm.filterMembers),function(item){return _c(\'div\',{key:item.id,staticClass:"search-user"},[_c(\'div\',{staticClass:"user-avatar"},[_c(\'div\',{staticClass:"avatar"},[_c(\'img\',{attrs:{"src":item.avatar}})])]),_c(\'div\',{staticClass:"user-name-email"},[_c(\'div\',{staticClass:"user-name"},[_vm._v(" "+_vm._s(item.nickname || ((item.firstname) + " " + (item.lastname)))+" ")]),_c(\'div\',{staticClass:"email"},[_vm._v(" "+_vm._s(item.email)+" ")])]),_c(\'div\',{staticClass:"action-wrapper"},[_c(\'a-button\',{attrs:{"type":"link"},on:{"click":function($event){return _vm.handleAddMember(item)}}},[_vm._v(" Add ")])],1)])}),0)],2)],1)]),_c(\'div\',{staticClass:"table-con"},[_c(\'a-table\',{ref:"table",attrs:{"rowKey":function (item) { return item.id; },"columns":_vm.columns,"dataSource":_vm.dataSource,"pagination":_vm.ipagination,"loading":_vm.loading,"rowSelection":{\n        selectedRowKeys: _vm.selectedRowKeys,\n        onChange: _vm.onSelectChange\n      }},on:{"change":_vm.handleTableChange},scopedSlots:_vm._u([{key:"action",fn:function(text, record){return _c(\'a-space\',{},[_c(\'a\',{attrs:{"type":"link"},on:{"click":function($event){return _vm.handleDelete(record)}}},[_vm._v("Delete")])])}}])})],1)],1)}\nvar SchoolRoleUservue_type_template_id_0862cd91_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRoleUser.vue?vue&type=template&id=0862cd91&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__("3835");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.iterator.js\nvar es_string_iterator = __webpack_require__("3ca3");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__("ddb0");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js\nvar es_array_map = __webpack_require__("d81d");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__("4de4");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.includes.js\nvar es_array_includes = __webpack_require__("caad");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.includes.js\nvar es_string_includes = __webpack_require__("2532");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.find.js\nvar es_array_find = __webpack_require__("7db0");\n\n// EXTERNAL MODULE: ./src/api/v2/schoolUser.js\nvar schoolUser = __webpack_require__("ec09");\n\n// EXTERNAL MODULE: ./src/api/academicSettingSubject.js\nvar academicSettingSubject = __webpack_require__("9bfe");\n\n// EXTERNAL MODULE: ./src/api/v2/schoolClass.js\nvar schoolClass = __webpack_require__("ad59");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"719c2c8a-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolUser/SchoolUserSelect.vue?vue&type=template&id=a1b3353a&scoped=true&\nvar SchoolUserSelectvue_type_template_id_a1b3353a_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',[_c(\'a-modal\',{attrs:{"centered":"","title":_vm.title,"width":800,"visible":_vm.visible,"cancelText":"Close"},on:{"ok":_vm.handleOk,"cancel":_vm.handleCancel}},[_c(\'div\',{staticClass:"table-page-search-wrapper"},[_c(\'a-form\',{attrs:{"layout":"inline"},nativeOn:{"keyup":function($event){if(!$event.type.indexOf(\'key\')&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")){ return null; }return _vm.searchQuery.apply(null, arguments)}}},[_c(\'a-row\',{attrs:{"gutter":24}},[_c(\'a-col\',{attrs:{"span":10}},[_c(\'a-form-item\',{attrs:{"label":"User Name"}},[_c(\'a-input\',{attrs:{"placeholder":"Search here"},model:{value:(_vm.queryParam.searchKey),callback:function ($$v) {_vm.$set(_vm.queryParam, "searchKey", $$v)},expression:"queryParam.searchKey"}})],1)],1),_c(\'a-col\',{attrs:{"span":8}},[_c(\'span\',{staticClass:"table-page-search-submitButtons",staticStyle:{"float":"left","overflow":"hidden"}},[_c(\'a-button\',{attrs:{"type":"primary","icon":"search"},on:{"click":_vm.searchQuery}},[_vm._v("Search")]),_c(\'a-button\',{staticStyle:{"margin-left":"8px"},attrs:{"type":"primary","icon":"reload"},on:{"click":_vm.searchReset}},[_vm._v("Reset")])],1)])],1)],1)],1),_c(\'div\',[_c(\'a-table\',{attrs:{"bordered":"","size":"small","rowKey":"id","columns":_vm.columns1,"dataSource":_vm.dataSource,"pagination":_vm.ipagination,"loading":_vm.loading,"scroll":{ y: 240 },"rowSelection":{selectedRowKeys: _vm.selectedRowKeys,onSelectAll:_vm.onSelectAll,onSelect:_vm.onSelect,onChange: _vm.onSelectChange}},on:{"change":_vm.handleTableChange}})],1)])],1)}\nvar SchoolUserSelectvue_type_template_id_a1b3353a_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolUser/SchoolUserSelect.vue?vue&type=template&id=a1b3353a&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.splice.js\nvar es_array_splice = __webpack_require__("a434");\n\n// EXTERNAL MODULE: ./src/utils/util.js\nvar util = __webpack_require__("ca00");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolUser/SchoolUserSelect.vue?vue&type=script&lang=js&\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var SchoolUserSelectvue_type_script_lang_js_ = ({\n  name: \'SchoolUserSelect\',\n  props: {\n    school: {\n      type: Object,\n      default: function _default() {}\n    },\n    roles: {\n      type: String,\n      default: \'teacher\'\n    }\n  },\n  watch: {\n    school: {\n      handler: function handler(val) {\n        this.currentSchool = Object(objectSpread2["a" /* default */])({}, val);\n        this.loadData();\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  data: function data() {\n    return {\n      title: \'Add School User\',\n      currentSchool: this.school,\n      names: [],\n      visible: false,\n      placement: \'right\',\n      description: \'\',\n      // 查询条件\n      queryParam: {},\n      // 表头\n      columns1: [{\n        title: \'Name\',\n        align: \'center\',\n        dataIndex: \'nickname\',\n        width: 150,\n        customRender: function customRender(text, record) {\n          return text || (record.firstname || \'\') + (record.lastname || \'\') || record.email;\n        }\n      }, {\n        title: \'Email\',\n        align: \'center\',\n        width: 100,\n        dataIndex: \'email\'\n      }, {\n        title: \'Gender\',\n        align: \'center\',\n        width: 100,\n        dataIndex: \'gender\'\n      }, {\n        title: \'Create Time\',\n        align: \'center\',\n        dataIndex: \'createTime\',\n        width: 120\n      }],\n      // 数据集\n      dataSource: [],\n      dataSource2: [],\n      // 分页参数\n      ipagination: {\n        current: 1,\n        pageSize: 10,\n        pageSizeOptions: [\'10\', \'20\', \'30\'],\n        showTotal: function showTotal(total, range) {\n          return range[0] + \'-\' + range[1] + \' of \' + total + \'\';\n        },\n        total: 0\n      },\n      isorter: {\n        column: \'createTime\',\n        order: \'desc\'\n      },\n      loading: false,\n      selectedRowKeys: [],\n      selectedRows: []\n    };\n  },\n  created: function created() {\n    this.loadData();\n  },\n  methods: {\n    searchQuery: function searchQuery() {\n      this.loadData(1);\n    },\n    searchReset: function searchReset() {\n      this.queryParam = {};\n      this.loadData(1);\n    },\n    handleCancel: function handleCancel() {\n      this.visible = false;\n    },\n    handleOk: function handleOk() {\n      this.dataSource2 = this.selectedRowKeys;\n      this.$emit(\'selectFinished\', this.dataSource2);\n      this.visible = false;\n    },\n    add: function add() {\n      this.visible = true;\n    },\n    loadData: function loadData(arg) {\n      var _this = this;\n\n      // 加载数据 若传入参数1则加载第一页的内容\n      if (arg === 1) {\n        this.ipagination.current = 1;\n      }\n\n      var params = this.getQueryParams(); // 查询条件\n\n      Object(schoolUser["m" /* getSchoolUsers */])(params).then(function (res) {\n        if (res.success) {\n          _this.dataSource = res.result.records;\n          _this.ipagination.total = res.result.total;\n        }\n      });\n    },\n    getQueryParams: function getQueryParams() {\n      var param = Object.assign({}, this.queryParam, this.isorter);\n      param.field = this.getQueryField();\n      param.pageNo = this.ipagination.current;\n      param.pageSize = this.ipagination.pageSize;\n      param.schoolId = this.currentSchool.id;\n      param.roles = this.roles;\n      return Object(util["filterObj"])(param);\n    },\n    getQueryField: function getQueryField() {// TODO 字段权限控制\n    },\n    onSelectAll: function onSelectAll(selected, selectedRows, changeRows) {\n      if (selected === true) {\n        for (var a = 0; a < changeRows.length; a++) {\n          this.dataSource2.push(changeRows[a]);\n        }\n      } else {\n        for (var b = 0; b < changeRows.length; b++) {\n          this.dataSource2.splice(this.dataSource2.indexOf(changeRows[b]), 1);\n        }\n      } // console.log(selected, selectedRows, changeRows);\n\n    },\n    onSelect: function onSelect(record, selected) {\n      if (selected === true) {\n        this.dataSource2.push(record);\n      } else {\n        var index = this.dataSource2.indexOf(record); // console.log();\n\n        if (index >= 0) {\n          this.dataSource2.splice(this.dataSource2.indexOf(record), 1);\n        }\n      }\n    },\n    onSelectChange: function onSelectChange(selectedRowKeys, selectedRows) {\n      this.selectedRowKeys = selectedRowKeys;\n      this.selectionRows = selectedRows;\n    },\n    onClearSelected: function onClearSelected() {\n      this.selectedRowKeys = [];\n      this.selectionRows = [];\n    },\n    handleDelete: function handleDelete(record) {\n      this.dataSource2.splice(this.dataSource2.indexOf(record), 1);\n    },\n    handleTableChange: function handleTableChange(pagination, filters, sorter) {\n      // 分页、排序、筛选变化时触发\n      // TODO 筛选\n      if (Object.keys(sorter).length > 0) {\n        this.isorter.column = sorter.field;\n        this.isorter.order = sorter.order === \'ascend\' ? \'asc\' : \'desc\';\n      }\n\n      this.ipagination = pagination;\n      this.loadData();\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/manage/schoolUser/SchoolUserSelect.vue?vue&type=script&lang=js&\n /* harmony default export */ var schoolUser_SchoolUserSelectvue_type_script_lang_js_ = (SchoolUserSelectvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/account/manage/schoolUser/SchoolUserSelect.vue?vue&type=style&index=0&id=a1b3353a&lang=less&scoped=true&\nvar SchoolUserSelectvue_type_style_index_0_id_a1b3353a_lang_less_scoped_true_ = __webpack_require__("36c7");\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolUser/SchoolUserSelect.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar SchoolUserSelect_component = Object(componentNormalizer["a" /* default */])(\n  schoolUser_SchoolUserSelectvue_type_script_lang_js_,\n  SchoolUserSelectvue_type_template_id_a1b3353a_scoped_true_render,\n  SchoolUserSelectvue_type_template_id_a1b3353a_scoped_true_staticRenderFns,\n  false,\n  null,\n  "a1b3353a",\n  null\n  \n)\n\n/* harmony default export */ var SchoolUserSelect = (SchoolUserSelect_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolRole/SchoolRoleUser.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\nvar SchoolRoleUservue_type_script_lang_js_require = __webpack_require__("4fcf"),\n    SchoolRoleUservue_type_script_lang_js_debounce = SchoolRoleUservue_type_script_lang_js_require.debounce;\n\n/* harmony default export */ var SchoolRoleUservue_type_script_lang_js_ = ({\n  name: \'SchoolRoleUser\',\n  components: {\n    SchoolUserSelect: SchoolUserSelect\n  },\n  props: {\n    school: {\n      type: Object,\n      default: function _default() {}\n    },\n    role: {\n      type: Object,\n      default: function _default() {}\n    }\n  },\n  watch: {\n    school: {\n      handler: function handler(val) {\n        this.currentSchool = Object(objectSpread2["a" /* default */])({}, val);\n        this.loadData();\n      },\n      deep: true,\n      immediate: true\n    },\n    role: {\n      handler: function handler(val) {\n        this.currentRole = Object(objectSpread2["a" /* default */])({}, val);\n        this.loadData();\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  data: function data() {\n    return {\n      currentSchool: this.school,\n      currentRole: this.role,\n      searchPoverVis: false,\n      subjectOptions: [],\n      classOptions: [],\n      teacherList: [],\n      filterMembers: [],\n      queryParams: {\n        searchKey: \'\'\n      },\n      selectMember: \'\',\n      searchKeyMember: \'\',\n      loading: false,\n      dataSource: [],\n      selectedRowKeys: [],\n      selectionRows: [],\n      ipagination: {\n        current: 1,\n        pageSize: 10,\n        pageSizeOptions: [\'10\', \'20\', \'30\'],\n        showTotal: function showTotal(total, range) {\n          return range[0] + \'-\' + range[1] + \' of \' + total + \'\';\n        },\n        total: 0\n      }\n    };\n  },\n  computed: {\n    columns: function columns() {\n      return [{\n        title: \'Email\',\n        align: \'center\',\n        dataIndex: \'email\',\n        width: 150\n      }, {\n        title: \'Name\',\n        align: \'center\',\n        dataIndex: \'nickname\',\n        width: 150,\n        customRender: function customRender(text, record) {\n          return text || (record.firstname || \'\') + (record.lastname || \'\') || record.email;\n        }\n      }, {\n        title: \'Create Time\',\n        align: \'center\',\n        dataIndex: \'createTime\',\n        width: 120\n      }, {\n        title: \'Action\',\n        align: \'center\',\n        scopedSlots: {\n          customRender: \'action\'\n        }\n      }];\n    }\n  },\n  created: function created() {\n    this.debounceLoad = SchoolRoleUservue_type_script_lang_js_debounce(this.loadData, 300);\n    this.initDict();\n    this.initSchoolUsers();\n  },\n  methods: {\n    loadData: function loadData() {\n      var _this = this;\n\n      if (!this.currentSchool || !this.currentRole) return;\n      this.loading = true;\n      Object(schoolUser["m" /* getSchoolUsers */])(Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, this.queryParams), {}, {\n        pageNo: this.ipagination.current,\n        pageSize: this.ipagination.pageSize,\n        schoolId: this.currentSchool.id,\n        schoolUserStatus: 1,\n        teacherRoles: \'Admin\',\n        roles: \'teacher\'\n      })).then(function (res) {\n        if (res.code === 0) {\n          _this.dataSource = res.result.records;\n\n          if (res.result.total) {\n            _this.ipagination.total = res.result.total;\n          } else {\n            _this.ipagination.total = 0;\n          }\n        }\n      }).finally(function () {\n        _this.loading = false;\n      });\n    },\n    initDict: function initDict() {\n      var _this2 = this;\n\n      Promise.all([Object(academicSettingSubject["a" /* getSubjectBySchoolId */])({\n        schoolId: this.currentSchool.id\n      }), Object(schoolClass["g" /* listClass */])({\n        pageNo: 1,\n        pageSize: 10000,\n        schoolId: this.currentSchool.id\n      })]).then(function (_ref) {\n        var _ref2 = Object(slicedToArray["a" /* default */])(_ref, 2),\n            subjectRes = _ref2[0],\n            clsRes = _ref2[1];\n\n        if (subjectRes.success) {\n          var subjects = [];\n          subjectRes.result.forEach(function (item) {\n            if (item.subjectList && item.subjectList.length > 0) {\n              subjects = subjects.concat(item.subjectList);\n            }\n          });\n          _this2.subjectOptions = subjects;\n        }\n\n        if (clsRes.success) {\n          _this2.classOptions = clsRes.result.records;\n        }\n      });\n    },\n    initSchoolUsers: function initSchoolUsers() {\n      var _this3 = this;\n\n      Object(schoolUser["m" /* getSchoolUsers */])({\n        pageNo: 1,\n        pageSize: 10000,\n        schoolId: this.currentSchool.id,\n        onlyActive: true,\n        roles: \'teacher\'\n      }).then(function (res) {\n        if (res.success) {\n          _this3.teacherList = res.result.records;\n\n          _this3.getFilterMembers();\n        }\n      });\n    },\n    getFilterMembers: function getFilterMembers() {\n      var _this4 = this;\n\n      // 根据roleCode判断是否存在\n      this.filterMembers = this.teacherList.filter(function (member) {\n        var roles = member.roles.map(function (item) {\n          return item.name.toLowerCase();\n        });\n        var isIn = roles.includes(_this4.currentRole.roleCode.toLowerCase());\n        var userName = ((member.firstname || \'\') + (member.lastname || \'\')).toLowerCase();\n        return !isIn && (member.email && member.email.toLowerCase().indexOf(_this4.searchKeyMember.toLowerCase() || \'\') > -1 || userName.indexOf(_this4.searchKeyMember.toLowerCase() || \'\') > -1);\n      }).map(function (item) {\n        var classIds = item.classes.map(function (item) {\n          return item.id;\n        });\n\n        _this4.$set(item, \'classArr\', classIds);\n\n        return item;\n      });\n    },\n    onSelectChange: function onSelectChange(selectedRowKeys, selectionRows) {\n      this.selectedRowKeys = selectedRowKeys;\n      this.selectionRows = selectionRows;\n    },\n    onClearSelected: function onClearSelected() {\n      this.selectedRowKeys = [];\n      this.selectionRows = [];\n    },\n    handleSearch: function handleSearch() {\n      this.ipagination.current = 1;\n      this.debounceLoad();\n    },\n    handleTableChange: function handleTableChange(pagination, filters, sorter) {\n      // 分页、排序、筛选变化时触发\n      if (Object.keys(sorter).length > 0) {\n        this.isorter.column = sorter.field;\n        this.isorter.order = sorter.order === \'ascend\' ? \'asc\' : \'desc\';\n      }\n\n      this.ipagination = pagination;\n      this.debounceLoad();\n    },\n    handleAdd: function handleAdd() {\n      if (!this.currentRole || !this.currentRole.roleCode) {\n        this.$message.error(\'Please select a role!\');\n      } else {\n        this.$refs.schoolUserSelect.add();\n      }\n    },\n    handleClose: function handleClose() {\n      this.$emit(\'close\');\n    },\n    handleDelete: function handleDelete(item) {\n      var _this5 = this;\n\n      if (!this.currentRole || !this.currentRole.roleCode) {\n        this.$message.error(\'Please select a role!\');\n        return;\n      }\n\n      this.$confirm({\n        title: \'Confirm delete user \' + item.email,\n        // content: \'By deleting the role, all teachers belong to it will be removed. Do you confirm to delete? \',\n        centered: true,\n        onOk: function onOk() {\n          _this5.loading = true;\n          Object(schoolUser["s" /* removeAdmins */])({\n            roleId: _this5.currentRole.id,\n            schoolId: _this5.currentSchool.id,\n            userIdList: [item.uid]\n          }).then(function (res) {\n            if (res.code === 0) {\n              _this5.$message.success(\'Delete user successfully\');\n\n              _this5.initSchoolUsers();\n\n              _this5.debounceLoad();\n            } else {\n              _this5.loading = false;\n            }\n          }).catch(function () {\n            _this5.loading = false;\n          });\n        }\n      });\n    },\n    handleSearchMember: function handleSearchMember(val) {\n      this.searchKeyMember = val;\n    },\n    handleSelectMember: function handleSelectMember(val) {\n      var user = this.teacherList.find(function (item) {\n        return item.id === val;\n      });\n\n      if (user) {\n        this.handleAddMember(user);\n      }\n    },\n    handleAddMember: function handleAddMember(user) {\n      var _this6 = this;\n\n      if (!this.currentRole || !this.currentRole.roleCode) {\n        this.$message.error(\'Please select a role!\');\n        return;\n      } // 根据roleCode判断是否存在\n\n\n      var roles = user.roles.map(function (item) {\n        return item.name.toLowerCase();\n      });\n      var isIn = roles.includes(this.currentRole.roleCode.toLowerCase());\n\n      if (isIn) {\n        this.$message.error(\'This user has been added\');\n      }\n\n      this.selectMember = \'\';\n      this.loading = true;\n      Object(schoolUser["b" /* addSchoolAdmin */])({\n        roleId: this.currentRole.id,\n        schoolId: this.currentSchool.id,\n        email: user.email\n      }).then(function (res) {\n        if (res.code === 0) {\n          _this6.$message.success(\'Add user successfully\');\n\n          _this6.initSchoolUsers();\n\n          _this6.debounceLoad();\n        } else {\n          _this6.loading = false;\n        }\n      }).catch(function () {\n        _this6.loading = false;\n      });\n    },\n    selectOK: function selectOK(data) {\n      var _this7 = this;\n\n      if (!this.currentRole || !this.currentRole.roleCode) {\n        this.$message.error(\'Please select a role!\');\n        return;\n      } // TODO 需要批量添加\n\n\n      this.loading = true;\n      Object(schoolUser["b" /* addSchoolAdmin */])({\n        roleId: this.currentRole.id,\n        schoolId: this.currentSchool.id,\n        email: data[0]\n      }).then(function (res) {\n        if (res.code === 0) {\n          _this7.$message.success(\'Add user successfully\');\n\n          _this7.debounceLoad();\n        } else {\n          _this7.loading = false;\n        }\n      }).catch(function () {\n        _this7.loading = false;\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRoleUser.vue?vue&type=script&lang=js&\n /* harmony default export */ var schoolRole_SchoolRoleUservue_type_script_lang_js_ = (SchoolRoleUservue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/account/manage/schoolRole/SchoolRoleUser.vue?vue&type=style&index=0&id=0862cd91&scoped=true&lang=less&\nvar SchoolRoleUservue_type_style_index_0_id_0862cd91_scoped_true_lang_less_ = __webpack_require__("c627e");\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRoleUser.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar SchoolRoleUser_component = Object(componentNormalizer["a" /* default */])(\n  schoolRole_SchoolRoleUservue_type_script_lang_js_,\n  SchoolRoleUservue_type_template_id_0862cd91_scoped_true_render,\n  SchoolRoleUservue_type_template_id_0862cd91_scoped_true_staticRenderFns,\n  false,\n  null,\n  "0862cd91",\n  null\n  \n)\n\n/* harmony default export */ var SchoolRoleUser = (SchoolRoleUser_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"719c2c8a-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolRole/SchoolRoleClass.vue?vue&type=template&id=a4ff69c0&scoped=true&\nvar SchoolRoleClassvue_type_template_id_a4ff69c0_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{staticClass:"role-con"},[_c(\'a-icon\',{staticClass:"close",attrs:{"type":"close-circle"},on:{"click":_vm.handleClose}}),_c(\'div\',{staticClass:"filter-tab"},[_c(\'div\',{staticStyle:{"width":"300px"}}),_c(\'a-space\',{staticClass:"filter-opt"},[_c(\'a-button\',{attrs:{"type":"primary"},on:{"click":_vm.handleAddClass}},[_vm._v("Add Class")])],1)],1),_c(\'div\',{staticClass:"table-con"},[_c(\'a-table\',{ref:"table",attrs:{"rowKey":function (item) { return item.id; },"columns":_vm.columns,"dataSource":_vm.dataSource,"pagination":false,"loading":_vm.loading},scopedSlots:_vm._u([{key:"headerTeachers",fn:function(text, record){return _c(\'a-space\',{staticStyle:{"flex-wrap":"wrap"}},[(text && text.length > 0)?_vm._l((record.headerTeachers),function(item){return _c(\'div\',{key:item.userId,staticClass:"user-tag"},[_c(\'div\',{staticClass:"avatar"},[(item.avatar)?_c(\'img\',{attrs:{"src":item.avatar}}):_c(\'img\',{attrs:{"src":__webpack_require__("4992")}})]),_c(\'div\',{staticClass:"user-name-email"},[_c(\'div\',{staticClass:"user-name"},[_vm._v(" "+_vm._s(item.userName)+" ")]),_c(\'div\',{staticClass:"email"},[_vm._v(" "+_vm._s(item.email)+" ")])]),_c(\'div\',{staticClass:"user-opt"},[_c(\'a-icon\',{attrs:{"type":"close-circle"},on:{"click":function($event){return _vm.handleDelete(item, record)}}})],1)])}):_vm._e()],2)}},{key:"action",fn:function(text, record){return _c(\'a-space\',{},[_c(\'a-popover\',{attrs:{"placement":"left","title":"Choose User","trigger":"click"}},[_c(\'div\',{staticClass:"search-popver",attrs:{"slot":"content"},slot:"content"},[_c(\'a-space\',{staticClass:"search-con"},[_c(\'a-input-search\',{attrs:{"allow-clear":true,"placeholder":"Search and add by name/email"},model:{value:(_vm.searchKeyMember),callback:function ($$v) {_vm.searchKeyMember=$$v},expression:"searchKeyMember"}}),_c(\'a-button\',{on:{"click":_vm.goTeachers}},[_vm._v("Add new")])],1),_vm._l((_vm.filterMembers),function(item){return _c(\'div\',{key:item.id,staticClass:"search-user"},[_c(\'div\',{staticClass:"user-avatar"},[_c(\'div\',{staticClass:"avatar"},[(item.avatar)?_c(\'img\',{attrs:{"src":item.avatar}}):_c(\'img\',{attrs:{"src":__webpack_require__("4992")}})])]),_c(\'div\',{staticClass:"user-name-email"},[_c(\'div\',{staticClass:"user-name"},[_vm._v(" "+_vm._s(item.nickname || ((item.firstname) + " " + (item.lastname)))+" ")]),_c(\'div\',{staticClass:"email"},[_vm._v(" "+_vm._s(item.email)+" ")])]),_c(\'div\',{staticClass:"action-wrapper"},[_c(\'a-button\',{attrs:{"loadin":_vm.loading,"type":"link"},on:{"click":function($event){return _vm.handleAddMember(item, record)}}},[_vm._v(" Add ")])],1)])})],2),_c(\'a\',{attrs:{"type":"link"},on:{"click":function($event){return _vm.handleResetFilter(record)}}},[_vm._v("Add")])])],1)}}])})],1)],1)}\nvar SchoolRoleClassvue_type_template_id_a4ff69c0_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRoleClass.vue?vue&type=template&id=a4ff69c0&scoped=true&\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolRole/SchoolRoleClass.vue?vue&type=script&lang=js&\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\nvar SchoolRoleClassvue_type_script_lang_js_require = __webpack_require__("4fcf"),\n    SchoolRoleClassvue_type_script_lang_js_debounce = SchoolRoleClassvue_type_script_lang_js_require.debounce;\n\n/* harmony default export */ var SchoolRoleClassvue_type_script_lang_js_ = ({\n  name: \'SchoolRoleClass\',\n  components: {},\n  props: {\n    school: {\n      type: Object,\n      default: function _default() {}\n    },\n    role: {\n      type: Object,\n      default: function _default() {}\n    }\n  },\n  watch: {\n    school: {\n      handler: function handler(val) {\n        this.currentSchool = Object(objectSpread2["a" /* default */])({}, val);\n        this.loadData();\n        this.initSchoolUsers();\n      },\n      deep: true,\n      immediate: true\n    },\n    role: {\n      handler: function handler(val) {\n        this.currentRole = Object(objectSpread2["a" /* default */])({}, val);\n        this.loadData();\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  data: function data() {\n    return {\n      currentSchool: this.school,\n      currentRole: this.role,\n      searchPoverVis: false,\n      subjectOptions: [],\n      classOptions: [],\n      teacherList: [],\n      currentRecord: null,\n      queryParams: {\n        searchKey: \'\'\n      },\n      selectMember: \'\',\n      searchKeyMember: \'\',\n      loading: false,\n      dataSource: [],\n      selectedRowKeys: [],\n      selectionRows: [],\n      ipagination: {\n        current: 1,\n        pageSize: 10,\n        pageSizeOptions: [\'10\', \'20\', \'30\'],\n        showTotal: function showTotal(total, range) {\n          return range[0] + \'-\' + range[1] + \' of \' + total + \'\';\n        },\n        total: 0\n      }\n    };\n  },\n  computed: {\n    columns: function columns() {\n      return [{\n        title: \'Class\',\n        align: \'center\',\n        dataIndex: \'className\',\n        width: 150\n      }, {\n        title: \'Teachers\',\n        align: \'center\',\n        dataIndex: \'headerTeachers\',\n        scopedSlots: {\n          customRender: \'headerTeachers\'\n        }\n      }, {\n        title: \'Action\',\n        align: \'center\',\n        width: 80,\n        scopedSlots: {\n          customRender: \'action\'\n        }\n      }];\n    },\n    filterMembers: function filterMembers() {\n      var _this = this;\n\n      var members = [];\n\n      if (this.currentRecord) {\n        members = this.teacherList.filter(function (teacher) {\n          return !_this.currentRecord.teachers || !_this.currentRecord.teachers.find(function (head) {\n            return head.userId === teacher.uid;\n          });\n        });\n      }\n\n      if (this.searchKeyMember) {\n        var userName = ((this.currentRecord.firstname || \'\') + (this.currentRecord.lastname || \'\')).toLowerCase();\n        members = members.filter(function (item) {\n          return item.email && (item.email.toLowerCase().indexOf((_this.searchKeyMember || \'\').toLowerCase() || \'\') > -1 || userName.indexOf((_this.searchKeyMember || \'\').toLowerCase() || \'\') > -1);\n        });\n      }\n\n      return members;\n    }\n  },\n  created: function created() {\n    this.debounceLoad = SchoolRoleClassvue_type_script_lang_js_debounce(this.loadData, 300);\n    this.initDict();\n    this.initSchoolUsers();\n  },\n  methods: {\n    loadData: function loadData() {\n      var _this2 = this;\n\n      if (!this.currentSchool || !this.currentRole) return;\n      this.loading = true;\n      Object(schoolRole["d" /* getRoleClassTeachers */])({\n        schoolId: this.currentSchool.id\n      }).then(function (res) {\n        if (res.code === 0) {\n          _this2.dataSource = res.result;\n        }\n      }).finally(function () {\n        _this2.loading = false; // this.dataSource = [{\n        //   classId: 1,\n        //   className: \'test\',\n        //   headerTeachers: [{\n        //     avatar: \'\',\n        //     email: \'luori@q.com\',\n        //     userName: \'adfjlksdjflksdjfklsdjf adlkjflsdkfj\',\n        //     userId: 1\n        //   }, {\n        //     avatar: \'\',\n        //     email: \'luori@q.com\',\n        //     userName: \'jasdjfkdlsf\',\n        //     userId: 2\n        //   } ]\n        // }]\n      });\n    },\n    initDict: function initDict() {},\n    initSchoolUsers: function initSchoolUsers() {\n      var _this3 = this;\n\n      Object(schoolUser["m" /* getSchoolUsers */])({\n        pageNo: 1,\n        pageSize: 10000,\n        schoolId: this.currentSchool.id,\n        schoolUserStatus: 1,\n        roles: \'teacher\'\n      }).then(function (res) {\n        if (res.success) {\n          _this3.teacherList = res.result.records;\n        }\n      });\n    },\n    handleAdd: function handleAdd() {\n      if (!this.currentRole || !this.currentRole.id) {\n        this.$message.error(\'Please select a role!\');\n      } else {\n        this.$refs.schoolUserSelect.add();\n      }\n    },\n    handleClose: function handleClose() {\n      this.$emit(\'close\');\n    },\n    handleDelete: function handleDelete(item, cls) {\n      var _this4 = this;\n\n      if (!this.currentRole || !this.currentRole.roleCode) {\n        this.$message.error(\'Please select a role!\');\n        return;\n      }\n\n      this.$confirm({\n        title: \'Confirm delete user \' + item.email,\n        // content: \'By deleting the role, all teachers belong to it will be removed. Do you confirm to delete? \',\n        centered: true,\n        onOk: function onOk() {\n          _this4.loading = true;\n          Object(schoolRole["a" /* bindRoleClassTeachers */])({\n            bindFlag: 0,\n            classId: cls.classId,\n            isHead: true,\n            userId: item.userId\n          }).then(function (res) {\n            if (res.code === 0) {\n              _this4.$message.success(\'Delete user successfully\');\n\n              _this4.initSchoolUsers();\n\n              _this4.debounceLoad();\n\n              _this4.$store.dispatch(\'GetInfo\');\n            } else {\n              _this4.loading = false;\n            }\n          }).catch(function () {\n            _this4.loading = false;\n          });\n        }\n      });\n    },\n    handleResetFilter: function handleResetFilter(record) {\n      this.currentRecord = Object(objectSpread2["a" /* default */])({}, record);\n      this.searchKeyMember = \'\';\n    },\n    handleAddClass: function handleAddClass() {\n      this.$router.push(\'/manage/class\');\n    },\n    goTeachers: function goTeachers() {\n      this.$router.push(\'/manage/teacher\');\n    },\n    handleAddMember: function handleAddMember(user, cls) {\n      var _this5 = this;\n\n      if (!this.currentRole || !this.currentRole.roleCode) {\n        this.$message.error(\'Please select a role!\');\n        return;\n      } // 根据roleCode判断是否存在\n      // const roles = user.roles.map(item => item.name)\n      // const isIn = roles.includes(this.currentRole.roleCode)\n      // if (isIn) {\n      //   this.$message.error(\'This user has been added\')\n      // }\n\n\n      this.selectMember = \'\';\n      this.loading = true;\n      Object(schoolRole["a" /* bindRoleClassTeachers */])({\n        bindFlag: 1,\n        classId: cls.classId,\n        isHead: true,\n        userId: user.uid\n      }).then(function (res) {\n        if (res.code === 0) {\n          _this5.$message.success(\'Add user successfully\');\n\n          _this5.initSchoolUsers();\n\n          _this5.debounceLoad();\n\n          _this5.$store.dispatch(\'GetInfo\');\n        } else {\n          _this5.loading = false;\n        }\n      }).catch(function () {\n        _this5.loading = false;\n      });\n    },\n    selectOK: function selectOK(data) {\n      var _this6 = this;\n\n      if (!this.currentRole || !this.currentRole.id) {\n        this.$message.error(\'Please select a role!\');\n        return;\n      } // TODO 需要批量添加\n\n\n      this.loading = true;\n      Object(schoolRole["a" /* bindRoleClassTeachers */])({\n        bindFlag: 1,\n        classId: 1,\n        isHead: true,\n        userId: data[0]\n      }).then(function (res) {\n        if (res.code === 0) {\n          _this6.$message.success(\'Add user successfully\');\n\n          _this6.debounceLoad();\n\n          _this6.$store.dispatch(\'GetInfo\');\n        } else {\n          _this6.loading = false;\n        }\n      }).catch(function () {\n        _this6.loading = false;\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRoleClass.vue?vue&type=script&lang=js&\n /* harmony default export */ var schoolRole_SchoolRoleClassvue_type_script_lang_js_ = (SchoolRoleClassvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/account/manage/schoolRole/SchoolRoleClass.vue?vue&type=style&index=0&id=a4ff69c0&scoped=true&lang=less&\nvar SchoolRoleClassvue_type_style_index_0_id_a4ff69c0_scoped_true_lang_less_ = __webpack_require__("675f");\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRoleClass.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar SchoolRoleClass_component = Object(componentNormalizer["a" /* default */])(\n  schoolRole_SchoolRoleClassvue_type_script_lang_js_,\n  SchoolRoleClassvue_type_template_id_a4ff69c0_scoped_true_render,\n  SchoolRoleClassvue_type_template_id_a4ff69c0_scoped_true_staticRenderFns,\n  false,\n  null,\n  "a4ff69c0",\n  null\n  \n)\n\n/* harmony default export */ var SchoolRoleClass = (SchoolRoleClass_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"719c2c8a-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolRole/SchoolRoleSubject.vue?vue&type=template&id=61bfc537&scoped=true&\nvar SchoolRoleSubjectvue_type_template_id_61bfc537_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{staticClass:"role-con"},[_c(\'a-icon\',{staticClass:"close",attrs:{"type":"close-circle"},on:{"click":_vm.handleClose}}),_c(\'div\',{staticClass:"filter-tab"},[_c(\'a-row\',{staticStyle:{"width":"300px"}},[_c(\'a-select\',{staticStyle:{"width":"140px"},attrs:{"placeholder":"Select a curriculum","options":_vm.allCurriculums},on:{"change":_vm.handleCurriculumIdChange},model:{value:(_vm.currentCurriculumId),callback:function ($$v) {_vm.currentCurriculumId=$$v},expression:"currentCurriculumId"}})],1),_c(\'a-space\',{staticClass:"filter-opt"},[_c(\'a-button\',{attrs:{"type":"primary"},on:{"click":_vm.handleAddSubject}},[_vm._v("Add Subject")])],1)],1),_c(\'div\',{staticClass:"table-con"},[_c(\'a-table\',{ref:"table",attrs:{"rowKey":function (item) { return item.subjectId; },"columns":_vm.columns,"dataSource":_vm.filteredDataSource,"pagination":false,"loading":_vm.loading},scopedSlots:_vm._u([{key:"teachers",fn:function(text, record){return _c(\'a-space\',{staticStyle:{"flex-wrap":"wrap"}},[(text && text.length > 0)?_vm._l((record.teachers),function(item){return _c(\'div\',{key:item.userId,staticClass:"user-tag"},[_c(\'div\',{staticClass:"avatar"},[(item.avatar)?_c(\'img\',{attrs:{"src":item.avatar}}):_c(\'img\',{attrs:{"src":__webpack_require__("4992")}})]),_c(\'div\',{staticClass:"user-name-email"},[_c(\'div\',{staticClass:"user-name"},[_vm._v(" "+_vm._s(item.userName)+" ")]),_c(\'div\',{staticClass:"email"},[_vm._v(" "+_vm._s(item.email)+" ")])]),_c(\'div\',{staticClass:"user-opt"},[_c(\'a-icon\',{attrs:{"type":"close-circle"},on:{"click":function($event){return _vm.handleDelete(item, record)}}})],1)])}):_vm._e()],2)}},{key:"action",fn:function(text, record){return _c(\'a-space\',{staticClass:"popover-link"},[_c(\'a-popover\',{attrs:{"placement":"left","title":"Choose User","trigger":"click"}},[_c(\'div\',{staticClass:"search-popover",attrs:{"slot":"content"},slot:"content"},[_c(\'a-space\',{staticClass:"search-con"},[_c(\'a-input-search\',{attrs:{"allow-clear":true,"placeholder":"Search and add by name/email"},model:{value:(_vm.searchKeyMember),callback:function ($$v) {_vm.searchKeyMember=$$v},expression:"searchKeyMember"}}),_c(\'a-button\',{on:{"click":_vm.goTeachers}},[_vm._v("Add new")])],1),_vm._l((_vm.filterMembers),function(item){return _c(\'div\',{key:item.userId,staticClass:"search-user"},[_c(\'div\',{staticClass:"user-avatar"},[_c(\'div\',{staticClass:"avatar"},[(item.avatar)?_c(\'img\',{attrs:{"src":item.avatar}}):_c(\'img\',{attrs:{"src":__webpack_require__("4992")}})])]),_c(\'div\',{staticClass:"user-name-email"},[_c(\'div\',{staticClass:"user-name"},[_vm._v(" "+_vm._s(item.nickname || ((item.firstname) + " " + (item.lastname)))+" ")]),_c(\'div\',{staticClass:"email"},[_vm._v(" "+_vm._s(item.email)+" ")])]),_c(\'div\',{staticClass:"action-wrapper"},[_c(\'a-button\',{attrs:{"loading":_vm.loading,"type":"link"},on:{"click":function($event){return _vm.handleAddMember(item, record)}}},[_vm._v(" Add ")])],1)])})],2),_c(\'a\',{attrs:{"id":\'popover_\' + record.id,"type":"link"},on:{"click":function($event){return _vm.handleResetFilter(record)}}},[_vm._v("Add")])])],1)}}])})],1)],1)}\nvar SchoolRoleSubjectvue_type_template_id_61bfc537_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRoleSubject.vue?vue&type=template&id=61bfc537&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__("1da1");\n\n// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js\nvar runtime = __webpack_require__("96cf");\n\n// EXTERNAL MODULE: ./src/api/preference.js\nvar preference = __webpack_require__("d597");\n\n// EXTERNAL MODULE: ./src/api/academicSettingCurriculum.js\nvar academicSettingCurriculum = __webpack_require__("8ee6");\n\n// EXTERNAL MODULE: ./node_modules/lodash-es/debounce.js\nvar lodash_es_debounce = __webpack_require__("85b1");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/schoolRole/SchoolRoleSubject.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// TODO: refactor in new web (WIP)\n\n\n\n\n\n\n/* harmony default export */ var SchoolRoleSubjectvue_type_script_lang_js_ = ({\n  name: \'SchoolRoleSubject\',\n  components: {},\n  props: {\n    school: {\n      type: Object,\n      default: function _default() {}\n    },\n    role: {\n      type: Object,\n      default: function _default() {}\n    }\n  },\n  watch: {\n    school: {\n      handler: function handler(val) {\n        this.currentSchool = Object(objectSpread2["a" /* default */])({}, val);\n        this.loadData();\n        this.initSchoolUsers();\n        this.debounceSchoolUsers = Object(lodash_es_debounce["a" /* default */])(this.initSchoolUsers, 300);\n      },\n      deep: true,\n      immediate: true\n    },\n    role: {\n      handler: function handler(val) {\n        this.currentRole = Object(objectSpread2["a" /* default */])({}, val);\n        this.loadData();\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  data: function data() {\n    return {\n      currentSchool: this.school,\n      currentRole: this.role,\n      searchPoverVis: false,\n      subjectOptions: [],\n      curriculumOptions: [],\n      classOptions: [],\n      teacherList: [],\n      currentRecord: null,\n      queryParams: {\n        searchKey: \'\'\n      },\n      selectMember: \'\',\n      searchKeyMember: \'\',\n      loading: false,\n      dataSource: [],\n      filteredDataSource: [],\n      selectedRowKeys: [],\n      selectionRows: [],\n      ipagination: {\n        current: 1,\n        pageSize: 10,\n        pageSizeOptions: [\'10\', \'20\', \'30\'],\n        showTotal: function showTotal(total, range) {\n          return range[0] + \'-\' + range[1] + \' of \' + total + \'\';\n        },\n        total: 0\n      },\n      allCurriculums: [],\n      currentCurriculumId: null\n    };\n  },\n  computed: {\n    columns: function columns() {\n      var _this = this;\n\n      return [{\n        title: \'Subject\',\n        align: \'center\',\n        dataIndex: \'subjectName\',\n        width: 150,\n        customRender: function customRender(text, record) {\n          return _this.formatViewName(record.subjectId) + text;\n        }\n      }, {\n        title: \'Teachers\',\n        align: \'center\',\n        dataIndex: \'teachers\',\n        scopedSlots: {\n          customRender: \'teachers\'\n        }\n      }, {\n        title: \'Action\',\n        align: \'center\',\n        width: 80,\n        scopedSlots: {\n          customRender: \'action\'\n        }\n      }];\n    },\n    filterMembers: function filterMembers() {\n      var _this2 = this;\n\n      var members = [];\n\n      if (this.currentRecord) {\n        members = this.teacherList.filter(function (teacher) {\n          return !_this2.currentRecord.teachers || !_this2.currentRecord.teachers.find(function (head) {\n            return head.userId === teacher.uid;\n          });\n        });\n      }\n\n      if (this.searchKeyMember) {\n        var userName = ((this.currentRecord.firstname || \'\') + (this.currentRecord.lastname || \'\')).toLowerCase();\n        members = members.filter(function (item) {\n          return item.email && (item.email.toLowerCase().indexOf((_this2.searchKeyMember || \'\').toLowerCase() || \'\') > -1 || userName.indexOf((_this2.searchKeyMember || \'\').toLowerCase() || \'\') > -1);\n        });\n      }\n\n      return members;\n    }\n  },\n  created: function created() {\n    var _this3 = this;\n\n    return Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this3.debounceLoad = Object(lodash_es_debounce["a" /* default */])(_this3.loadData, 300);\n              _context.next = 3;\n              return _this3.initDict();\n\n            case 3:\n              _this3.initSchoolUsers();\n\n            case 4:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    loadData: function loadData() {\n      var _this4 = this;\n\n      if (!this.currentSchool || !this.currentRole) return;\n      this.loading = true;\n      Object(schoolRole["f" /* getRoleSubjectLeaders */])({\n        schoolId: this.currentSchool.id\n      }).then(function (res) {\n        if (res.code === 0) {\n          _this4.dataSource = res.result.filter(function (e) {\n            return e.subjectId && e.subjectName;\n          });\n        }\n      }).finally(function () {\n        _this4.loading = false;\n      });\n    },\n    initDict: function initDict() {\n      var _this5 = this;\n\n      return Object(asyncToGenerator["a" /* default */])( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var res, _res, subjectRes, currentRes, allCurriculumRes, subjects, options;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return Promise.all([Object(academicSettingSubject["a" /* getSubjectBySchoolId */])({\n                  schoolId: _this5.currentSchool.id\n                }), Object(academicSettingCurriculum["a" /* getCurriculumBySchoolId */])({\n                  schoolId: _this5.currentSchool.id\n                }), Object(preference["e" /* getAllCurriculums */])() // App.service(\'curriculum\').get(\'pubList\'),\n                // App.service(\'conf-school\').get(\'get\', { query: { key: \'Curriculum\', rid: this.currentSchool.id } })\n                ]);\n\n              case 2:\n                res = _context2.sent;\n                _res = Object(slicedToArray["a" /* default */])(res, 3), subjectRes = _res[0], currentRes = _res[1], allCurriculumRes = _res[2];\n\n                if (subjectRes.success) {\n                  subjects = [];\n                  subjectRes.result.forEach(function (parent) {\n                    if (parent.subjectList && parent.subjectList.length > 0) {\n                      subjects = subjects.concat(parent.subjectList.map(function (item) {\n                        return Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, item), {}, {\n                          curriculumId: parent.curriculumId\n                        });\n                      }));\n                    }\n                  });\n                  options = [];\n                  subjects.forEach(function (item) {\n                    var option = {\n                      curriculumId: item.curriculumId\n                    };\n\n                    if (item.subjectId && item.subjectName) {\n                      option.subjectId = item.subjectId;\n                      option.subjectName = item.subjectName;\n                    } else if (item.parentSubjectId && item.parentSubjectName) {\n                      option.subjectId = item.parentSubjectId;\n                      option.subjectName = item.parentSubjectName;\n                    }\n\n                    options.push(option);\n                  });\n                  _this5.subjectOptions = options;\n                  _this5.filteredDataSource = _this5.subjectOptions;\n                }\n\n                if (currentRes.success) {\n                  _this5.curriculumOptions = currentRes.result;\n                }\n\n                if (allCurriculumRes.success) {\n                  _this5.allCurriculums = allCurriculumRes.result.map(function (e) {\n                    return {\n                      value: e.id,\n                      label: e.name\n                    };\n                  });\n                }\n\n              case 7:\n              case "end":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    initSchoolUsers: function initSchoolUsers() {\n      var _this6 = this;\n\n      Object(schoolUser["m" /* getSchoolUsers */])({\n        pageNo: 1,\n        pageSize: 10000,\n        schoolId: this.currentSchool.id,\n        schoolUserStatus: 1,\n        roles: \'teacher\'\n      }).then(function (res) {\n        if (res.success) {\n          _this6.teacherList = res.result.records;\n        }\n      });\n    },\n    handleAdd: function handleAdd() {\n      if (!this.currentRole || !this.currentRole.id) {\n        this.$message.error(\'Please select a role!\');\n      } else {\n        this.$refs.schoolUserSelect.add();\n      }\n    },\n    handleAddClass: function handleAddClass() {\n      this.$router.push(\'/manage/curriculum\');\n    },\n    handleClose: function handleClose() {\n      this.$emit(\'close\');\n    },\n    handleDelete: function handleDelete(item, cls) {\n      var _this7 = this;\n\n      if (!this.currentRole || !this.currentRole.roleCode) {\n        this.$message.error(\'Please select a role!\');\n        return;\n      }\n\n      this.$confirm({\n        title: \'Confirm delete user \' + item.email,\n        // content: \'By deleting the role, all teachers belong to it will be removed. Do you confirm to delete? \',\n        centered: true,\n        onOk: function onOk() {\n          _this7.loading = true;\n          Object(schoolRole["b" /* bindRoleSubjectLeader */])({\n            bindFlag: 0,\n            schoolId: _this7.currentSchool.id,\n            subjectId: cls.subjectId,\n            userId: item.userId\n          }).then(function (res) {\n            if (res.code === 0) {\n              _this7.$message.success(\'Delete user successfully\');\n\n              _this7.initSchoolUsers();\n\n              _this7.debounceLoad();\n\n              _this7.$store.dispatch(\'GetInfo\');\n            } else {\n              _this7.loading = false;\n            }\n          }).catch(function () {\n            _this7.loading = false;\n          });\n        }\n      });\n    },\n    handleCurriculumIdChange: function handleCurriculumIdChange() {\n      var _this8 = this;\n\n      if (this.currentCurriculumId) {\n        this.filteredDataSource = this.subjectOptions.filter(function (e) {\n          return "".concat(e.curriculumId) === _this8.currentCurriculumId;\n        });\n      }\n    },\n    handleResetFilter: function handleResetFilter(record) {\n      this.currentRecord = Object(objectSpread2["a" /* default */])({}, record);\n      this.searchKeyMember = \'\';\n    },\n    handleAddSubject: function handleAddSubject() {\n      this.$router.push(\'/manage/curriculum\');\n    },\n    goTeachers: function goTeachers() {\n      this.$router.push(\'/manage/teacher\');\n    },\n    handleAddMember: function handleAddMember(user, cls) {\n      var _this9 = this;\n\n      if (!this.currentRole || !this.currentRole.roleCode) {\n        this.$message.error(\'Please select a role!\');\n        return;\n      } // 根据roleCode判断是否存在\n      // const roles = user.roles.map(item => item.name)\n      // const isIn = roles.includes(this.currentRole.roleCode)\n      // if (isIn) {\n      //   this.$message.error(\'This user has been added\')\n      // }\n\n\n      this.selectMember = \'\';\n      this.loading = true;\n      Object(schoolRole["b" /* bindRoleSubjectLeader */])({\n        bindFlag: 1,\n        schoolId: this.currentSchool.id,\n        subjectId: cls.subjectId,\n        userId: user.uid\n      }).then(function (res) {\n        if (res.code === 0) {\n          _this9.$message.success(\'Add user successfully\');\n\n          _this9.initSchoolUsers();\n\n          _this9.debounceLoad();\n\n          _this9.$store.dispatch(\'GetInfo\');\n\n          document.getElementById("popover_".concat(cls.id)).click();\n        } else {\n          _this9.loading = false;\n        }\n      }).catch(function () {\n        _this9.loading = false;\n      });\n    },\n    formatViewName: function formatViewName(id) {\n      var findSubject = this.subjectOptions.find(function (subject) {\n        return subject.subjectId === id;\n      });\n\n      if (findSubject && this.curriculumOptions) {\n        var cur = this.curriculumOptions.find(function (item) {\n          return item.curriculumId === findSubject.curriculumId;\n        });\n\n        if (cur) {\n          return cur.curriculumName + \'-\';\n        }\n      } // const findGrade = this.gradeOptions.find(grade => grade.gradeId === id)\n      // if (findGrade) return findGrade.gradeName\n\n\n      return \'\';\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRoleSubject.vue?vue&type=script&lang=js&\n /* harmony default export */ var schoolRole_SchoolRoleSubjectvue_type_script_lang_js_ = (SchoolRoleSubjectvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/account/manage/schoolRole/SchoolRoleSubject.vue?vue&type=style&index=0&id=61bfc537&scoped=true&lang=less&\nvar SchoolRoleSubjectvue_type_style_index_0_id_61bfc537_scoped_true_lang_less_ = __webpack_require__("4187");\n\n// CONCATENATED MODULE: ./src/views/account/manage/schoolRole/SchoolRoleSubject.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar SchoolRoleSubject_component = Object(componentNormalizer["a" /* default */])(\n  schoolRole_SchoolRoleSubjectvue_type_script_lang_js_,\n  SchoolRoleSubjectvue_type_template_id_61bfc537_scoped_true_render,\n  SchoolRoleSubjectvue_type_template_id_61bfc537_scoped_true_staticRenderFns,\n  false,\n  null,\n  "61bfc537",\n  null\n  \n)\n\n/* harmony default export */ var SchoolRoleSubject = (SchoolRoleSubject_component.exports);\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js\nvar vuex_esm = __webpack_require__("2f62");\n\n// EXTERNAL MODULE: ./node_modules/store/dist/store.legacy.js\nvar store_legacy = __webpack_require__("8ded");\nvar store_legacy_default = /*#__PURE__*/__webpack_require__.n(store_legacy);\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/manage/SchoolRole.vue?vue&type=script&lang=js&\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar SchoolRolevue_type_script_lang_js_require = __webpack_require__("4fcf"),\n    SchoolRolevue_type_script_lang_js_debounce = SchoolRolevue_type_script_lang_js_require.debounce;\n\n/* harmony default export */ var SchoolRolevue_type_script_lang_js_ = ({\n  name: \'SchoolRole\',\n  mixins: [UserModeMixin["a" /* UserModeMixin */], CurrentSchoolMixin["a" /* CurrentSchoolMixin */]],\n  components: {\n    FixedFormHeader: FixedFormHeader["a" /* default */],\n    FormHeader: FormHeader["a" /* default */],\n    CustomTextButton: CustomTextButton["a" /* default */],\n    SchoolRoleList: SchoolRoleList,\n    SchoolRoleUser: SchoolRoleUser,\n    SchoolRoleClass: SchoolRoleClass,\n    SchoolRoleSubject: SchoolRoleSubject\n  },\n  props: {\n    id: {\n      type: String,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      USER_MODE: common["T" /* USER_MODE */],\n      SCHOOL_USER_STATUS: common["z" /* SCHOOL_USER_STATUS */],\n      rightcolval: 0,\n      selectedRole: \'\',\n      loading: false\n    };\n  },\n  beforeUpdate: function beforeUpdate() {\n    var _storage$get;\n\n    if (store_legacy_default.a.get(\'user_mode\') != common["T" /* USER_MODE */].SCHOOL) {\n      this.openV2(\'/v2/account/info\');\n    } else if (((_storage$get = store_legacy_default.a.get(\'SET_CURRENT_SCHOOL\')) === null || _storage$get === void 0 ? void 0 : _storage$get.id) !== this.currentSchool.id) {\n      window.location.reload();\n    }\n  },\n  created: function created() {\n    this.debounceLoad = SchoolRolevue_type_script_lang_js_debounce(this.loadData, 300);\n  },\n  computed: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, Object(vuex_esm["e" /* mapState */])({\n    userMode: function userMode(state) {\n      return state.app.userMode;\n    },\n    currentSchool: function currentSchool(state) {\n      return state.user.currentSchool;\n    }\n  })), {}, {\n    leftColMd: function leftColMd() {\n      return !this.selectedRole ? 24 : 10;\n    },\n    rightColMd: function rightColMd() {\n      return !this.selectedRole ? 0 : 14;\n    }\n  }),\n  methods: {\n    goBack: function goBack() {\n      this.$router.go(-1);\n    },\n    handleSchoolChange: function handleSchoolChange(currentSchool) {\n      if (this.userMode === common["T" /* USER_MODE */].SCHOOL) {}\n    },\n    handleModeChange: function handleModeChange(userMode) {// 模式切换，个人还是学校 个人接口\n    },\n    loadData: function loadData() {},\n    handleSave: function handleSave(data) {},\n    chooseRole: function chooseRole(item) {\n      if (item) {\n        this.rightcolval = 1;\n        this.selectedRole = Object(objectSpread2["a" /* default */])({}, item);\n      } else {\n        this.clearRole();\n      }\n    },\n    clearRole: function clearRole() {\n      this.rightcolval = 0;\n      this.selectedRole = \'\';\n      this.$refs.schoolRoleList.doClear();\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/manage/SchoolRole.vue?vue&type=script&lang=js&\n /* harmony default export */ var manage_SchoolRolevue_type_script_lang_js_ = (SchoolRolevue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/account/manage/SchoolRole.vue?vue&type=style&index=0&id=95456610&lang=less&scoped=true&\nvar SchoolRolevue_type_style_index_0_id_95456610_lang_less_scoped_true_ = __webpack_require__("72afd");\n\n// CONCATENATED MODULE: ./src/views/account/manage/SchoolRole.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar SchoolRole_component = Object(componentNormalizer["a" /* default */])(\n  manage_SchoolRolevue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  "95456610",\n  null\n  \n)\n\n/* harmony default export */ var SchoolRole = __webpack_exports__["default"] = (SchoolRole_component.exports);\n\n//# sourceURL=webpack:///./src/views/account/manage/SchoolRole.vue_+_39_modules?')},"675f":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolRoleClass_vue_vue_type_style_index_0_id_a4ff69c0_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("a7b7");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolRoleClass_vue_vue_type_style_index_0_id_a4ff69c0_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolRoleClass_vue_vue_type_style_index_0_id_a4ff69c0_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolRole/SchoolRoleClass.vue?')},"6e84":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return UserModeMixin; });\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"b0c0\");\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__);\n\nvar UserModeMixin = {\n  data: function data() {\n    return {\n      unwatch: null,\n      routeName: this.$route.name\n    };\n  },\n  computed: {\n    redirectUrl: function redirectUrl() {\n      return '/account/info?_=UserModeMixin:13'; // if (this.$store.state.user.currentRole === 'student') {\n      //   return '/student/main/my-task'\n      // } else {\n      // }\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.unwatch = this.$store.watch(function (state) {\n      return state.app.userMode;\n    }, function (userMode) {\n      if (userMode && _this.$route.name === _this.routeName) {\n        _this.handleModeChange(userMode);\n\n        _this.routeInMode();\n      }\n    });\n    this.routeInMode();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unwatch && this.unwatch();\n  },\n  methods: {\n    // 判断路由是否存在\n    routeInMode: function routeInMode() {\n      if (this.$route.meta.mode && this.$route.meta.mode !== this.$store.state.app.userMode) {\n        // 返回公共页面\n        this.$router.push({\n          path: this.redirectUrl\n        });\n      }\n    },\n    // 默认方法,可覆盖\n    handleModeChange: function handleModeChange(userMode) {}\n  }\n};\n\n//# sourceURL=webpack:///./src/mixins/UserModeMixin.js?")},"6f2a":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* unused harmony export schoolRoleApi */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return listRole; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return pageListRole; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return getRolePermission; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return bindRoleSubjectLeader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return bindRoleClassTeachers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return getRoleSubjectLeaders; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return getRoleClassTeachers; });\n/* unused harmony export getSchoolRole */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return saveSchoolRole; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return geHeaderClassByUserId; });\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"d3b7\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"b775\");\n\n\nvar API_PREFIX = 'api2/school/role';\nvar schoolRoleApi = {\n  listRole: \"/classcipe/\".concat(API_PREFIX, \"/list\"),\n  pageListRole: \"/classcipe/\".concat(API_PREFIX, \"/pageList\"),\n  getRolePermission: \"/classcipe/\".concat(API_PREFIX, \"/getPermission\"),\n  bindRoleSubjectLeader: \"/classcipe/\".concat(API_PREFIX, \"/user/bindSubjectLeader\"),\n  bindRoleClassTeachers: \"/classcipe/\".concat(API_PREFIX, \"/user/bindTeachers\"),\n  getRoleSubjectLeaders: \"/classcipe/\".concat(API_PREFIX, \"/user/getSubjectLeaders\"),\n  getRoleClassTeachers: \"/classcipe/\".concat(API_PREFIX, \"/user/getTeachers\"),\n  getSchoolRole: \"/classcipe/\".concat(API_PREFIX, \"/user/getSchoolRole\"),\n  saveSchoolRole: \"/classcipe/\".concat(API_PREFIX, \"/user/saveSchoolRole\"),\n  geHeaderClassByUserId: \"/classcipe/\".concat(API_PREFIX, \"/user/geHeaderClassByUserId\")\n};\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction listRole(parameter) {\n  // return request({\n  //   url: schoolRoleApi.listRole,\n  //   method: 'get',\n  //   params: parameter\n  // })\n  // { \"admin\": \"Admin\", \"leader\": \"Subject leader\", \"head\": \"Head teacher\", \"teacher\": \"Teacher\" }\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getSchoolRole,\n    method: 'get',\n    params: parameter\n  }).then(function (res) {\n    var result = res;\n\n    if (result.code === 0) {\n      var arr = [];\n\n      for (var key in result.result.roleNames) {\n        if (key !== 'Teacher') {\n          arr.push({\n            roleCode: key,\n            name: result.result.roleNames[key]\n          });\n        }\n      }\n\n      result.result = arr;\n    }\n\n    return Promise.resolve(result);\n  }).catch(function (err) {\n    return Promise.reject(err);\n  }); // return new Promise((resolve) => {\n  //   resolve({\n  //     code: 0,\n  //     success: true,\n  //     result: [\n  //       { 'roleCode': 'admin', 'name': 'Admin' },\n  //       { 'roleCode': 'head', 'name': 'Head teacher' },\n  //       { 'roleCode': 'leader', 'name': 'Subject leader' }\n  //       // { 'roleCode': 'teacher', 'name': 'Teacher' }\n  //     ]\n  //   })\n  // })\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction pageListRole(parameter) {\n  // return request({\n  //   url: schoolRoleApi.pageListRole,\n  //   method: 'get',\n  //   params: parameter\n  // })\n  // return new Promise((resolve) => {\n  //   resolve({\n  //     code: 0,\n  //     success: true,\n  //     result: {\n  //       total: 3,\n  //       records: [\n  //         { 'roleCode': 'admin', 'name': 'Admin' },\n  //         { 'roleCode': 'head', 'name': 'Head teacher' },\n  //         { 'roleCode': 'leader', 'name': 'Subject leader' }\n  //         // { 'roleCode': 'teacher', 'name': 'Teacher' }\n  //       ]\n  //     }\n  //   })\n  // })\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getSchoolRole,\n    method: 'get',\n    params: parameter\n  }).then(function (res) {\n    var result = res;\n\n    if (result.code === 0) {\n      var arr = [];\n\n      for (var key in result.result.roleNames) {\n        if (key !== 'Teacher') {\n          arr.push({\n            roleCode: key,\n            name: result.result.roleNames[key]\n          });\n        }\n      }\n\n      result.result = {\n        total: arr.length,\n        records: arr\n      };\n    }\n\n    return Promise.resolve(result);\n  }).catch(function (err) {\n    return Promise.reject(err);\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getRolePermission(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getRolePermission,\n    method: 'get',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction bindRoleSubjectLeader(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.bindRoleSubjectLeader,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction bindRoleClassTeachers(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.bindRoleClassTeachers,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getRoleSubjectLeaders(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getRoleSubjectLeaders,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getRoleClassTeachers(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getRoleClassTeachers,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getSchoolRole(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.getSchoolRole,\n    method: 'get',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction saveSchoolRole(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.saveSchoolRole,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction geHeaderClassByUserId(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"d\"])({\n    url: schoolRoleApi.geHeaderClassByUserId,\n    method: 'get',\n    params: parameter\n  });\n}\n\n//# sourceURL=webpack:///./src/api/v2/schoolRole.js?")},"72afd":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolRole_vue_vue_type_style_index_0_id_95456610_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("444d");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolRole_vue_vue_type_style_index_0_id_95456610_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolRole_vue_vue_type_style_index_0_id_95456610_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/account/manage/SchoolRole.vue?')},"8b1a3":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolUser/SchoolUserSelect.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},a7b7:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolRole/SchoolRoleClass.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},b098f:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolRoleList_vue_vue_type_style_index_0_id_3110e2ed_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("dabb");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolRoleList_vue_vue_type_style_index_0_id_3110e2ed_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolRoleList_vue_vue_type_style_index_0_id_3110e2ed_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolRole/SchoolRoleList.vue?')},c627e:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolRoleUser_vue_vue_type_style_index_0_id_0862cd91_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("457d");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolRoleUser_vue_vue_type_style_index_0_id_0862cd91_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_SchoolRoleUser_vue_vue_type_style_index_0_id_0862cd91_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolRole/SchoolRoleUser.vue?')},dabb:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolRole/SchoolRoleList.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},debb:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/account/manage/schoolRole/SchoolRoleSubject.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},ec09:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export schoolUserApi */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "m", function() { return getSchoolUsers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return addStudents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return addTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "t", function() { return removeStudents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "u", function() { return removeTeachers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "l", function() { return getInvite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "y", function() { return updateInvite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "A", function() { return updateTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return bulkActTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return bulkActStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return acceptInvite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return batchAddStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return batchAddTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "n", function() { return getStudentInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "p", function() { return getTeacherInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return checkEmailParent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "j", function() { return checkEmailStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "k", function() { return checkEmailTeacher; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "v", function() { return resetPassword; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "r", function() { return moveClassStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "z", function() { return updateStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "x", function() { return sendParentEmail; });\n/* unused harmony export addAdmin */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "s", function() { return removeAdmins; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "w", function() { return resetUserPassword; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return addSchoolAdmin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "o", function() { return getTeacherCount; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "q", function() { return listStudents; });\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("b775");\n/* harmony import */ var _utils_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__("ca00");\n\n\nvar API_PREFIX = \'api2/school/user\';\nvar schoolUserApi = {\n  getSchoolUsers: "/classcipe/".concat(API_PREFIX, "/getSchoolUsers"),\n  addStudents: "/classcipe/".concat(API_PREFIX, "/addStudents"),\n  addTeacher: "/classcipe/".concat(API_PREFIX, "/addTeacher"),\n  removeStudents: "/classcipe/".concat(API_PREFIX, "/removeStudents"),\n  removeTeachers: "/classcipe/".concat(API_PREFIX, "/removeTeachers"),\n  updateTeacher: "/classcipe/".concat(API_PREFIX, "/updateTeacher"),\n  getInvite: "/classcipe/".concat(API_PREFIX, "/getInvite"),\n  updateInvite: "/classcipe/".concat(API_PREFIX, "/updateInvite"),\n  bulkActTeacher: "/classcipe/".concat(API_PREFIX, "/teacher/bulkAct"),\n  bulkActStudent: "/classcipe/".concat(API_PREFIX, "/student/bulkAct"),\n  acceptInvite: "/classcipe/".concat(API_PREFIX, "/acceptInvite"),\n  batchAddStudent: "/classcipe/".concat(API_PREFIX, "/batchAddStudent"),\n  batchAddTeacher: "/classcipe/".concat(API_PREFIX, "/batchAddTeacher"),\n  getStudentInfo: "/classcipe/".concat(API_PREFIX, "/getStudentInfo"),\n  getTeacherInfo: "/classcipe/".concat(API_PREFIX, "/getTeacherInfo"),\n  checkEmailParent: "/classcipe/".concat(API_PREFIX, "/parent/checkEmail"),\n  resetPassword: "/classcipe/".concat(API_PREFIX, "/resetPassword"),\n  checkEmailStudent: "/classcipe/".concat(API_PREFIX, "/student/checkEmail"),\n  moveClassStudent: "/classcipe/".concat(API_PREFIX, "/student/moveClass"),\n  sendParentEmail: "/classcipe/".concat(API_PREFIX, "/student/sendParentEmail"),\n  checkEmailTeacher: "/classcipe/".concat(API_PREFIX, "/teacher/checkEmail"),\n  updateStudent: "/classcipe/".concat(API_PREFIX, "/updateStudent"),\n  addAdmin: "/classcipe/".concat(API_PREFIX, "/addAdmin"),\n  removeAdmins: "/classcipe/".concat(API_PREFIX, "/removeAdmins"),\n  resetUserPassword: "/classcipe/".concat(API_PREFIX, "/user/resetPassword"),\n  addSchoolAdmin: "/classcipe/".concat(API_PREFIX, "/addSchoolAdmin"),\n  getTeacherCount: "/classcipe/".concat(API_PREFIX, "/getTeacherCount"),\n  listStudents: "/classcipe/".concat(API_PREFIX, "/list/students")\n};\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getSchoolUsers(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getSchoolUsers,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction addStudents(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.addStudents,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction addTeacher(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.addTeacher,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction removeStudents(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.removeStudents,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction removeTeachers(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.removeTeachers,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getInvite(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getInvite,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction updateInvite(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.updateInvite,\n    method: \'post\',\n    data: parameter,\n    params: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction updateTeacher(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.updateTeacher,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction bulkActTeacher(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.bulkActTeacher,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction bulkActStudent(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.bulkActStudent,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction acceptInvite(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.acceptInvite,\n    method: \'post\',\n    data: parameter,\n    params: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction batchAddStudent(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.batchAddStudent,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction batchAddTeacher(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.batchAddTeacher,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getStudentInfo(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getStudentInfo,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getTeacherInfo(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getTeacherInfo,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction checkEmailParent(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.checkEmailParent,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction checkEmailStudent(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.checkEmailStudent,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction checkEmailTeacher(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.checkEmailTeacher,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction resetPassword(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.resetPassword,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction moveClassStudent(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.moveClassStudent,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction updateStudent(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.updateStudent,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction sendParentEmail(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.sendParentEmail,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction addAdmin(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.addAdmin,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction removeAdmins(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.removeAdmins,\n    method: \'post\',\n    data: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction resetUserPassword(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.resetUserPassword,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction addSchoolAdmin(parameter) {\n  // 去除空格\n  parameter = Object(_utils_util__WEBPACK_IMPORTED_MODULE_1__["trimParams"])(parameter);\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.addSchoolAdmin,\n    method: \'post\',\n    data: parameter,\n    params: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getTeacherCount(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.getTeacherCount,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction listStudents(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolUserApi.listStudents,\n    method: \'get\',\n    params: parameter\n  });\n}\n\n//# sourceURL=webpack:///./src/api/v2/schoolUser.js?')}}]);