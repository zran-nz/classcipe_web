(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6882567e"],{"0381":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"disabled-button":t.disabled,"cc-custom-button":!t.disabled},style:{"background-color":t.bgColor,color:t.color},on:{click:t.handleClick,dblclick:t.handleDbClick}},[t.disabled&&t.disabledTooltip?[n("a-tooltip",{attrs:{title:t.disabledTooltip,placement:t.placement}},[t.loading?n("div",{staticClass:"loading vertical-center"},[n("a-spin",[n("a-icon",{staticStyle:{"font-size":"14px",color:"#666666"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)],1):t._e(),n("div",{staticClass:"icon"},[t._t("icon")],2),n("div",{staticClass:"label"},[t._v(" "+t._s(t.label)+" ")])])]:[t.loading?n("div",{staticClass:"loading vertical-center"},[n("a-spin",[n("a-icon",{staticStyle:{"font-size":"14px",color:"#666666"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)],1):t._e(),n("div",{staticClass:"icon"},[t._t("icon")],2),n("div",{staticClass:"label"},[t._v(" "+t._s(t.label)+" ")])]],2)},i=[],o={name:"CustomButton",props:{label:{type:String,default:""},bgColor:{type:String,default:"#EEF1F3"},color:{type:String,default:"#16274A"},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledTooltip:{type:String,default:""},placement:{type:String,default:"top"}},methods:{handleClick:function(){this.disabled||this.$emit("click")},handleDbClick:function(){this.disabled||this.$emit("dblclick")}}},s=o,c=(n("5d91"),n("0c7c")),r=Object(c["a"])(s,a,i,!1,null,"b546cb6a",null);e["a"]=r.exports},"19d1":function(t,e,n){},"2e66":function(t,e,n){"use strict";n("495e")},"3b68":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var a=n("b775"),i={queryByContentId:"/classcipe/api2/discountSetting/queryByContentId",save:"/classcipe/api2/discountSetting/save"};function o(t){return Object(a["d"])({url:i.queryByContentId,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(t){return Object(a["d"])({url:i.save,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},4063:function(t,e,n){var a=n("b2b7");t.exports={__esModule:!0,default:a.svgComponent({tag:"svg",attrsMap:{t:"1654007912423",class:"icon",viewBox:"0 0 1084 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4353","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"50.8125",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M960.480617 0.226421a34.896459 34.896459 0 0 1 38.539661 29.898346v22.401178c-23.184015 149.461623-38.539661 269.0249-54.196399 358.68983A336.34887 336.34887 0 0 1 1083.927969 680.210566 348.663497 348.663497 0 0 1 728.640468 1023.936169a343.996584 343.996584 0 0 1-277.907088-134.497396v97.13199h-77.079322V672.743507a44.68192 44.68192 0 0 1 7.527278-29.898347 357.274702 357.274702 0 0 1 255.024163-291.426078l161.987013-186.676483L126.458263 501.001142l154.459736 82.197871a38.148243 38.148243 0 0 1 23.184014 52.299524 33.51144 33.51144 0 0 1-53.895307 15.054556l-231.840149-112.066109a18.968739 18.968739 0 0 1-15.355646-22.431287 48.38534 48.38534 0 0 1 15.355646-52.299524L937.296602 0.226421h23.184015z m-231.840149 425.923473a254.211218 254.211218 0 1 0 262.551441 254.060672 255.927437 255.927437 0 0 0-262.551441-254.060672z m162.288104 216.785594a49.07785 49.07785 0 0 1 46.36803 44.832465 47.993922 47.993922 0 0 1-38.539661 44.832465H566.653455a49.047741 49.047741 0 0 1-46.36803-44.832465 47.692831 47.692831 0 0 1 38.539661-44.832465h332.103486z m7.828369-463.28888l-139.10409 164.395742a637.560409 637.560409 0 0 1 115.920075 22.431287z","p-id":"4354"}}]})}},4133:function(t,e,n){"use strict";n("973f")},4663:function(t,e,n){var a=n("b2b7");t.exports={__esModule:!0,default:a.svgComponent({tag:"svg",attrsMap:{t:"1651916978523",class:"icon",viewBox:"0 0 4082 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3589","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"191.34375",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M1428.30377823 305.16784271A206.88634426 206.88634426 0 1 1 1222.06767929 512.05418697 206.50703463 206.50703463 0 0 1 1428.30377823 305.16784271z m619.95460051 0a206.88634426 206.88634426 0 1 1-206.23609896 206.88634426A206.5612216 206.5612216 0 0 1 2048.25837874 305.16784271z m619.95460049 0a206.88634426 206.88634426 0 1 1-206.23609895 206.88634426A206.5612216 206.5612216 0 0 1 2668.21297923 305.16784271z","p-id":"3590"}}]})}},"495e":function(t,e,n){},"49a2":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.content?a("div",{staticClass:"content-item",style:{border:t.activeItem?"1px solid #15c39a":"1px solid #EEF1F6"}},[a("div",{staticClass:"cover"},[a("div",{staticClass:"cover-block",style:{"background-image":"url('"+(t.content.image||"http://dcdkqlzgpl5ba.cloudfront.net/1392467808404684802/file/202208140641519097-20220814143449.png")+"')"}},[t.content.type!==t.typeMap.task&&t.content.type!==t.typeMap.pd||!t.content.slideEditing?t._e():a("div",{staticClass:"slide-editing-mask"},[a("custom-button",{attrs:{label:"Save Slides",loading:t.updateEditSlideLoading},on:{click:t.updateEditSlideStatus},scopedSlots:t._u([{key:"icon",fn:function(){return[a("a-icon",{attrs:{type:"save"}})]},proxy:!0}],null,!1,1080341873)})],1),t.showCoverBar?a("div",{staticClass:"bottom-action"},[!t.content.delFlag&&t.showEdit?a("div",{staticClass:"bottom-action-item vertical-left",on:{click:t.editItem}},[a("div",{staticClass:"bottom-action-item-icon"},[a("a-icon",{attrs:{type:"form"}})],1),a("div",{staticClass:"bottom-action-item-label"},[t._v("Edit")])]):a("div",{staticClass:"bottom-action-item vertical-left"}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.allowPreview&&!((t.content.type===t.typeMap.task||t.content.type===t.typeMap.pd)&&t.content.slideEditing),expression:"allowPreview && !((content.type === typeMap.task || content.type === typeMap.pd) && content.slideEditing)"}],staticClass:"bottom-action-item vertical-right",on:{click:function(e){return t.handlePreviewDetail(t.content)}}},[a("div",{staticClass:"bottom-action-item-icon"},[a("a-icon",{attrs:{type:"eye"}})],1),a("div",{staticClass:"bottom-action-item-label"},[t._v("Preview")])])]):t._e()])]),a("div",{staticClass:"detail"},[a("div",{staticClass:"detail-content"},[a("div",{staticClass:"base-info"},[a("div",{staticClass:"header-line vertical-between"},[a("div",{staticClass:"left vertical-left"},[a("div",{staticClass:"type-icon vertical-left"},[a("a-space",[a("content-type-icon",{attrs:{type:t.content.type}}),t.content.collaborates>0?a("collaborate-icon"):t._e(),t.content.sourceFrom?a("a-icon",{attrs:{type:"shopping"}}):t._e()],1)],1),a("div",{staticClass:"name"},[t._v(" "+t._s(t.content.name||"Untitled "+t.contentTypeName)+" ")])]),a("div",{staticClass:"right vertical-right"},[a("div",{staticClass:"time-at"},[t._v(" "+t._s(t._f("datejs")(t.content.updateTime||t.content.createTime))+" ")])])]),a("div",{staticClass:"set-price-line vertical-right"},[a("div",{staticClass:"price-info vertical-left"},[a("div",{staticClass:"price"},[t._v(" $"+t._s(t.content.discountPrice||t.content.price||0)+" ")]),t.content.discountPrice>0&&t.content.discountPrice!==t.content.price?a("div",{staticClass:"price_was"},[t._v("$"+t._s(t.content.price))]):t._e(),t.showSetPrice?a("div",{staticClass:"edit"},[a("a-icon",{attrs:{type:"edit"},nativeOn:{click:function(e){return t.showEditPrice.apply(null,arguments)}}})],1):t._e()]),t.showPublishStatus?a("div",{staticClass:"publish-status"},[t._v(" "+t._s(1===t.content.status?"Published":"Unpublished")+" ")]):t._e()]),a("div",{staticClass:"extra-info"},[a("a-space",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.curriculumName&&t.content.type!==t.typeMap.pd,expression:"curriculumName && content.type !== typeMap.pd"}],staticClass:"info-item curriculum-info"},[t._v(" "+t._s(t.curriculumName)+" ")]),a("div",{staticClass:"info-item subject-info"},[a("a-space",t._l(t.content.subjectList.slice(0,2),(function(e,n){return a("div",{key:"sub"+n,staticClass:"subject-item"},[t._v(t._s(e))])})),0),t.content.subjectList.slice(2).length?a("div",{staticClass:"more-item"},[a("a-tooltip",{attrs:{placement:"top",title:t.content.subjectList.slice(2).join("、 ")}},[t._v("more("+t._s(t.content.subjectList.slice(2).length)+")")])],1):t._e()],1),a("div",{staticClass:"info-item year-info"},[a("a-space",t._l(t.content.yearList.slice(0,4),(function(e,n){return a("div",{key:"year"+n,staticClass:"subject-item"},[t._v(t._s(e))])})),0),t.content.yearList.slice(4).length?a("div",{staticClass:"more-item"},[a("a-tooltip",{attrs:{placement:"top",title:t.content.yearList.slice(4).join("、 ")}},[t._v("more("+t._s(t.content.yearList.slice(4).length)+")")])],1):t._e()],1),t.content.taskType?a("div",{staticClass:"info-item task-type-info"},[a("div",{staticClass:"self-type-wrapper"},[a("div",{staticClass:"self-field-label"},["FA"===t.content.taskType?a("div",{staticClass:"task-type-item green-active-task-type"},[a("a-tooltip",{attrs:{placement:"top",title:"Formative Assessment"}},[t._v("FA")])],1):t._e(),"SA"===t.content.taskType?a("div",{staticClass:"task-type-item red-active-task-type"},[a("a-tooltip",{attrs:{placement:"top",title:"Summative Assessment"}},[t._v("SA")])],1):t._e(),"Activity"===t.content.taskType?a("div",{staticClass:"task-type-item blue-active-task-type task-type-activity"},[a("a-tooltip",{attrs:{title:"Teaching/Learning Activity",placement:"top"}},[t._v("Activity")])],1):t._e(),"IA"===t.content.taskType?a("div",{staticClass:"task-type-item blue-active-task-type task-type-examine"},[a("a-tooltip",{attrs:{title:"Internal Assessment",placement:"top"}},[t._v("IA")])],1):t._e()])])]):t._e()])],1),t.knowledgeTagsList.length?a("div",{staticClass:"tag-info"},t._l(t.knowledgeTagsList,(function(e,n){return a("div",{key:"tag"+n,staticClass:"tag-info-item"},[a("a-tag",{staticClass:"tag-item knowledge-tag",attrs:{color:"#EABA7F",title:e}},[t._v(t._s(e))])],1)})),0):t._e(),a("div",{staticClass:"tag-info"},[t.commandTermsList.length?t._l(t.commandTermsList,(function(e,n){return a("div",{key:"term"+n,staticClass:"tag-info-item"},[a("a-tag",{staticClass:"tag-item command-tag",attrs:{color:"#06ACD7",title:e}},[t._v(t._s(e))])],1)})):t._e(),t._l(t.content.customTags,(function(e,n){return a("div",{key:"ct"+n,staticClass:"tag-info-item"},[a("a-tag",{staticClass:"tag-item",attrs:{color:"#FFEDAF",title:e.category}},[t._v(" "+t._s(e.name)+" ")])],1)}))],2)])]),a("div",{staticClass:"footer-line"},[a("div",{staticClass:"avatar-info"},[a("div",{staticClass:"owner"},[t.content.owner?[t.content.owner.avatar?a("a-avatar",{attrs:{src:t.content.owner.avatar,size:"small"}}):a("img",{attrs:{src:n("4992")}})]:[a("a-avatar",{attrs:{size:"small"}},[t._v(t._s(t.content.createBy.toUpperCase()[0]))])],a("div",{staticClass:"user-name"},[t._v(" "+t._s(t._f("upCaseFirst")(t.content.owner?t.content.owner.firstname+" "+t.content.owner.lastname:t.content.createBy))+" ")])],2)]),a("div",{staticClass:"action vertical-right"},[t.showButton&&!t.content.delFlag?[t.showSchedule&&t.content.type===t.typeMap.task?a("custom-button",{attrs:{label:"Schedule",disabled:!t.content.canPublish||t.content.slideEditing,"disabled-tooltip":t.content.slideEditing?"Please save your slides":"Please complete the information"},on:{click:t.handleSchedule},scopedSlots:t._u([{key:"icon",fn:function(){return[a("schedule-icon",{staticStyle:{width:"13px",height:"14px"}})]},proxy:!0}],null,!1,3052775659)}):t._e(),t.showSchedule&&t.content.type===t.typeMap.pd&&t.content.owner.email===t.$store.getters.email?a("custom-button",{attrs:{label:"Workshop",disabled:!t.content.canPublish||t.content.slideEditing,"disabled-tooltip":t.content.slideEditing?"Please save your slides":"Please complete the information"},on:{click:t.handlePublicWorkshopSchedule},scopedSlots:t._u([{key:"icon",fn:function(){return[a("schedule-icon",{staticStyle:{width:"13px",height:"14px"}})]},proxy:!0}],null,!1,3052775659)}):t._e(),t.canPublishToLibrary(t.content)?[0===t.content.status?a("custom-button",{attrs:{disabled:!t.content.canPublish||t.content.slideEditing,"disabled-tooltip":t.content.slideEditing?"Please save your slides":"Please complete the information",label:"Publish"},on:{click:t.handlePublishStatus},scopedSlots:t._u([{key:"icon",fn:function(){return[a("publish-icon",{staticStyle:{width:"13px",height:"14px"}})]},proxy:!0}],null,!1,558482039)}):t._e(),0!==t.content.status&&t.content.owner.email===t.$store.getters.email?a("custom-button",{attrs:{label:"Unpublish"},on:{click:t.handlePublishStatus},scopedSlots:t._u([{key:"icon",fn:function(){return[a("un-publish-icon",{staticStyle:{width:"13px",height:"14px"}})]},proxy:!0}],null,!1,1836974273)}):t._e()]:t._e(),t.content.sourceFrom?a("custom-button",{attrs:{label:"Review"},on:{click:function(e){return t.handlePreviewDetail(t.content,!0)}},scopedSlots:t._u([{key:"icon",fn:function(){return[a("edit-icon",{staticStyle:{width:"13px",height:"14px"}})]},proxy:!0}],null,!1,25356274)}):t._e(),t.showSub&&t.content.type===t.typeMap.task?a("custom-button",{attrs:{label:"Sub-task",disabled:!t.content.canPublish||t.content.slideEditing,"disabled-tooltip":t.content.slideEditing?"Please save your slides":"Please complete the information"},on:{click:t.goToSubTaskList},scopedSlots:t._u([{key:"icon",fn:function(){return[a("sub-task-icon",{staticStyle:{width:"13px",height:"14px"}})]},proxy:!0}],null,!1,2286577578)}):t._e(),t.showCollaborateDelete?a("a-dropdown",{attrs:{trigger:["click"],getPopupContainer:function(t){return t.parentElement}}},[a("div",{staticClass:"more-action"},[a("more-icon")],1),a("div",{staticClass:"content-item-more-action",attrs:{slot:"overlay"},slot:"overlay"},[a("div",{staticClass:"menu-item"},[a("a-popconfirm",{attrs:{placement:"topRight","ok-text":"Yes","cancel-text":"No"},on:{confirm:t.handleCollaborateDeleteItem},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" Confirm delete this content? ")]},proxy:!0}],null,!1,4061851878)},[a("custom-button",{attrs:{label:"Delete"}})],1)],1)])]):t._e(),t.showArchive&&t.content.owner.email===t.$store.getters.email&&1!==t.content.status?a("a-dropdown",{attrs:{trigger:["click"],getPopupContainer:function(t){return t.parentElement}}},[a("div",{staticClass:"more-action"},[a("more-icon")],1),a("div",{staticClass:"content-item-more-action",attrs:{slot:"overlay"},slot:"overlay"},[a("div",{staticClass:"menu-item"},[a("custom-button",{attrs:{label:"Archive"},on:{click:t.handleDeleteItem}})],1)])]):t._e()]:t._e(),t.showButton&&t.content.delFlag&&t.content.owner.email===t.$store.getters.email&&t.allowPermanentDelete?[a("a-dropdown",{attrs:{trigger:["click"],getPopupContainer:function(t){return t.parentElement}}},[a("div",{staticClass:"more-action"},[a("more-icon")],1),a("div",{staticClass:"content-item-more-action",attrs:{slot:"overlay"},slot:"overlay"},[a("div",{staticClass:"menu-item"},[a("a-popconfirm",{attrs:{placement:"topRight",title:"Confirm restore "+(t.content.name?t.content.name:"Untitled")+" ?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(e){return t.handleRestoreItem(t.content)}}},[a("custom-button",{attrs:{label:"Restore"},scopedSlots:t._u([{key:"icon",fn:function(){return[a("edit-icon")]},proxy:!0}],null,!1,1068401689)})],1)],1),t.content.sessionCount>0?a("div",{staticClass:"menu-item"},[a("custom-button",{attrs:{label:"Delete",disabled:!0,"disabled-tooltip":"There are still sessions existing under this content, it cannot be deleted"},scopedSlots:t._u([{key:"icon",fn:function(){return[a("delete-icon",{staticStyle:{width:"13px",height:"14px"}})]},proxy:!0}],null,!1,4176319575)})],1):a("div",{staticClass:"menu-item"},[a("a-popconfirm",{attrs:{placement:"topRight","ok-text":"Yes","cancel-text":"No"},on:{confirm:t.handlePermanentDeleteItem},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" All the relevant content will be "),a("br"),t._v(" cleared and you will not be able "),a("br"),t._v(" to retrieve after deleting it ")]},proxy:!0}],null,!1,553494336)},[a("custom-button",{attrs:{label:"Delete"},scopedSlots:t._u([{key:"icon",fn:function(){return[a("delete-icon",{staticStyle:{width:"13px",height:"14px"}})]},proxy:!0}],null,!1,4176319575)})],1)],1)])])]:t._e()],2)])]),t.previewVisible?a("content-preview",t._b({attrs:{"content-id":t.previewCurrentId,"content-type":t.previewType,"review-edit":t.reviewEdit,"review-create":t.reviewCreate,"review-list":t.reviewList},on:{close:t.handlePreviewClose}},"content-preview",t.$attrs,!1)):t._e(),a("discounted-price",{ref:"discountedPrice",on:{update:t.updatePrice}})],1):t._e()},i=[],o=(n("d3b7"),n("3f76")),s=n("9afb"),c=n("f031"),r=n("0381"),l=n("4cf6"),d=n.n(l),u=n("49c9"),p=n.n(u),h=n("d185"),m=n.n(h),v=n("e6fe"),f=n.n(v),b=n("4063"),y=n.n(b),g=n("98f7"),w=n.n(g),C=n("81cf"),k=n.n(C),_=n("b3e1"),x=n.n(_),S=n("4663"),T=n.n(S),P=n("ce85"),D=n("8f46"),I=n("fb85"),M=n("823b"),j=n("60427"),O=n("3404"),E=n.n(O),B=n("523d"),$={name:"ContentItem",components:{ModalHeader:j["a"],ContentTypeIcon:D["a"],ContentPreview:P["a"],CustomButton:r["a"],SubTaskIcon:d.a,PreviewGrayIcon:p.a,EditIcon:m.a,PublishIcon:f.a,UnPublishIcon:y.a,ScheduleIcon:w.a,OriginalTipsIcon:k.a,CollaborateIcon:E.a,DeleteIcon:x.a,MoreIcon:T.a,DiscountedPrice:I["a"]},props:{content:{type:Object,default:null},showButton:{type:Boolean,default:!0},clickPreview:{type:Boolean,default:!0},activeItem:{type:Boolean,default:!1},showPublish:{type:Boolean,default:!1},showEdit:{type:Boolean,default:!0},showSchedule:{type:Boolean,default:!0},showSubTask:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0},showSetPrice:{type:Boolean,default:!1},showCoverBar:{type:Boolean,default:!0},allowPermanentDelete:{type:Boolean,default:!0},showArchive:{type:Boolean,default:!0},showRestore:{type:Boolean,default:!1},showPublishStatus:{type:Boolean,default:!1},showSub:{type:Boolean,default:!0},showCollaborateDelete:{type:Boolean,default:!1}},mixins:[c["a"]],data:function(){return{typeMap:o["e"],isSelfLearning:!1,enableDiscount:!1,visible:!1,reviewList:!1,reviewCreate:!1,reviewEdit:!1}},created:function(){this.allowPreview=this.clickPreview,this.isSelfLearning=1===this.content.contentType},computed:{status:function(){return this.content.status},contentTypeName:function(){return this.content?Object(o["b"])(this.content.type):null},curriculumName:function(){return this.$store.getters.curriculumId2NameMap.hasOwnProperty(this.content.curriculumId)?this.$store.getters.curriculumId2NameMap[this.content.curriculumId]:null},isOwner:function(){return this.$store.getters.userInfo.email===this.content.createBy},canPublishToLibrary:function(){return function(t){var e=this.showPublish&&!t.sourceFrom&&t.owner.email===this.$store.getters.email;return t.type!==o["e"].pd&&e}}},methods:{editItem:function(){var t=this.content;t.canPublish||this.$classcipe.setRequiredCheck(t.id),t.type===o["e"]["unit-plan"]?this.$router.push({path:"/teacher/unit-plan-redirect/"+t.id}):t.type===o["e"].task?this.$router.push({path:"/teacher/task-redirect/"+t.id}):t.type===o["e"].video?this.$router.push({path:"/teacher/video-redirect/"+t.id}):t.type===o["e"].pd&&this.$router.push({path:"/teacher/pd-content-redirect/"+t.id})},setCheckRequired:function(){this.$classcipe.setRequiredCheck(this.contentId)},handleSchedule:function(){this.$router.push({path:"/teacher/schedule-session/"+this.content.id+"/"+this.content.type})},handlePublicWorkshopSchedule:function(){this.$logger.info("handlePublicWorkshopSchedule",this.content),this.$router.push({path:"/teacher/schedule-workshop/"+this.content.id+"/"+this.content.type})},handlePublishStatus:function(){this.$emit("update-publish",{content:this.content})},handleDeleteItem:function(){var t=this;this.$logger.info("handleDeleteItem",this.content),Object(s["DeleteMyContentByType"])(this.content).then((function(e){t.$logger.info("DeleteMyContentByType",e),t.$emit("delete",{content:t.content})}))},handlePermanentDeleteItem:function(){var t=this;M["info"]("handlePermanentDeleteItem",this.content),Object(s["PermanentDeleteMyContent"])({sourceId:this.content.id,sourceType:this.content.type}).then((function(t){M["info"]("handlePermanentDeleteItem",t)})).then((function(){t.$emit("delete",{content:t.content})}))},handleRestoreItem:function(){var t=this;M["info"]("handleRestoreItem",this.content),Object(s["ContentRestore"])({id:this.content.id,type:this.content.type}).then((function(e){t.$logger.info("handleRestoreItem response",e)})).finally((function(){t.$emit("delete",{content:t.content})}))},handleCollaborateDeleteItem:function(){var t=this;M["info"]("handleCollaborateDeleteItem",this.content),Object(B["d"])({id:this.content.id,type:this.content.type}).then((function(t){M["info"]("handleCollaborateDeleteItem",t)})).then((function(){t.$emit("update-list")}))},showEditPrice:function(){this.visible=!0,this.$refs.discountedPrice.showEditPrice(this.content.id,this.content.type)},updatePrice:function(t){this.$logger.info("update price"),this.content.price=t.price,this.content.discountPrice=t.discountPrice,this.visible=!1},goToSubTaskList:function(){this.$router.push({path:"/teacher/sub-task/".concat(this.content.id)})}}},F=$,L=(n("4d4b"),n("0c7c")),R=Object(L["a"])(F,a,i,!1,null,"50aa0942",null);e["a"]=R.exports},"49c9":function(t,e,n){var a=n("b2b7");t.exports={__esModule:!0,default:a.svgComponent({tag:"svg",attrsMap:{t:"1652089317367",class:"icon",viewBox:"0 0 1172 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3862","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"54.9375",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M171.162468 259.56311L84.13823 174.181676c-61.272168-60.250965 30.636084-150.605212 91.908251-90.354247l109.890301 107.759095a712.888349 712.888349 0 0 1 234.654641-59.940164v-66.600182a65.046178 65.046178 0 0 1 130.092356 0v66.600182a714.642154 714.642154 0 0 1 234.432641 59.940164l109.6683-107.759095a66.067381 66.067381 0 0 1 92.130252 1.620605 63.314573 63.314573 0 0 1 0 88.800242l-87.024238 85.381434c105.450288 80.34202 171.162468 191.608724 171.162468 316.794866 0 251.726488-265.512726 447.331223-585.415601 447.331223S0 828.151064 0 576.424576c0-125.252742 65.71218-236.519447 171.162468-316.861466zM585.637601 895.88345c254.634696 0 455.323245-147.697004 455.323245-319.525474s-200.688549-319.547674-455.323245-319.547674c-255.078697 0-455.545246 147.697004-455.545245 319.547674S330.558904 895.88345 585.637601 895.88345z m0-63.913975A255.655899 255.655899 0 1 1 845.822313 576.357976a258.009105 258.009105 0 0 1-260.184712 255.611499z m0-127.80575a127.82795 127.82795 0 1 0 0-255.633699 127.82795 127.82795 0 1 0 0 255.633699z","p-id":"3863"}}]})}},"4cf6":function(t,e,n){var a=n("b2b7");t.exports={__esModule:!0,default:a.svgComponent({tag:"svg",attrsMap:{t:"1651915697007",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3453","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"48",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M892.598721 0.002327H131.397471A84.246928 84.246928 0 0 0 46.545455 83.783803v856.43286A84.246928 84.246928 0 0 0 131.397471 1023.998138h761.20125A84.246928 84.246928 0 0 0 977.450737 940.216663V83.783803A84.246928 84.246928 0 0 0 892.598721 0.002327z m-342.014601 95.603973h155.368092v156.159361l-77.684046-44.218001-77.684046 44.218001V95.6063z m329.912832 785.032425a48.127803 48.127803 0 0 1-48.500165 47.755441H191.999405a48.127803 48.127803 0 0 1-48.500165-47.755441V143.361741a48.127803 48.127803 0 0 1 48.500165-47.755441h261.63093v240.871742a7.214516 7.214516 0 0 0 0 1.023995 5.911249 5.911249 0 0 1 0 1.303268v2.280718a11.822497 11.822497 0 0 0 0 1.349812v0.837815c0 0.558543 0.232726 1.070541 0.372362 1.582539a2.327263 2.327263 0 0 0 0 0.558543c0 0.651634 0.325817 1.210177 0.465452 1.861811v0.279272c0 0.698179 0.418907 1.396358 0.651634 2.094536a48.593256 48.593256 0 0 0 6.702518 12.893039l1.256722 1.675629 0.279272 0.325817 2.094537 1.349813 0.511998 0.558543a9.72796 9.72796 0 0 0 0.930905 1.023996l0.744724 0.744724 0.837815 0.791269 0.837815 0.837815 0.837814 0.698179 0.930906 0.79127 1.023996 1.023995 0.744724 0.605089 1.629084 1.163631a48.081258 48.081258 0 0 0 21.457367 7.959241H510.601738l1.349813-0.279272h0.837814l1.582539-0.372362h0.605089l1.76872-0.511998h0.418907l1.908356-0.698179h0.279272l2.047991-0.837815 2.141082-1.023996 2.047992-1.070541 101.887583-57.948854 101.934129 57.855764 0.465452 0.279271 1.396358 0.744725 0.698179 0.325816 1.535994 0.744725 0.651634 0.279271 1.535993 0.651634 0.744725 0.279272 1.442903 0.511997 0.837814 0.279272 1.349813 0.418907 1.023996 0.279272 1.210177 0.279272 1.210177 0.279271 1.070541 0.232726h12.893038a48.081258 48.081258 0 0 0 44.683453-47.66235V96.211388h29.090791a48.127803 48.127803 0 0 1 48.500165 47.755441v737.276984zM269.59036 630.876837h290.907901a47.801986 47.801986 0 1 0 0-95.603972h-290.907901a47.801986 47.801986 0 1 0 0 95.603972z m446.043266 114.687531H269.59036a47.801986 47.801986 0 1 0 0 95.557427h446.043266a47.801986 47.801986 0 1 0 0-95.557427z","p-id":"3454"}}]})}},"4d4b":function(t,e,n){"use strict";n("ae49")},"523d":function(t,e,n){"use strict";n.d(e,"o",(function(){return o})),n.d(e,"n",(function(){return s})),n.d(e,"u",(function(){return c})),n.d(e,"q",(function(){return r})),n.d(e,"p",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"r",(function(){return u})),n.d(e,"t",(function(){return p})),n.d(e,"j",(function(){return h})),n.d(e,"e",(function(){return m})),n.d(e,"b",(function(){return v})),n.d(e,"l",(function(){return f})),n.d(e,"m",(function(){return b})),n.d(e,"g",(function(){return y})),n.d(e,"h",(function(){return g})),n.d(e,"f",(function(){return w})),n.d(e,"c",(function(){return C})),n.d(e,"s",(function(){return k})),n.d(e,"k",(function(){return _})),n.d(e,"i",(function(){return x})),n.d(e,"d",(function(){return S}));var a=n("b775"),i={InviteCollaborate:"/classcipe/api/collaborate/invite",GetCollaborateUsers:"/classcipe/api/collaborate/getCollaborateUsers",GetShared:"/classcipe/api/collaborate/getShared",GetSharedNotReceived:"/classcipe/api/collaborate/getSharedNotReceived",GetFindSharedNotReceived:"/classcipe/api/collaborate/getFindSharedNotReceived",DeleteCollaborate:"/classcipe/api/collaborate/delete",DeleteByMeCollaborate:"/classcipe/api/collaborate/deleteByMe",ReceiveCollaborate:"/classcipe/api/collaborate/receive",GetCollaborateComment:"/classcipe/api/editMessage/queryNewMessage",DeleteCollaborateCommentById:"/classcipe/api/editMessage/delete",MarkedCollaborateComment:"/classcipe/api/editMessage/marked",AddCollaborateComment:"/classcipe/api/editMessage/addMessage",GetCollaborateModifiedHistory:"/classcipe/api/editMessage/queryHistory",QueryContentCollaborates:"/classcipe/api/collaborate/v2/queryContentCollaborates",CollaboratesSearchUser:"/classcipe/api/collaborate/v2/searchUser",CollaboratesInvite:"/classcipe/api/collaborate/v2/invite",CollaboratesAgree:"/classcipe/api/collaborate/v2/agree",CollaboratesUpdate:"/classcipe/api/collaborate/v2/updateCollaborate",CollaboratesRemove:"/classcipe/api/collaborate/v2/remove",CollaboratesDeleteByOthers:"/classcipe/api/collaborate/v2/deleteByOthers",CollaboratesUpdateLink:"/classcipe/api/collaborate/v2/updateLink",CollaboratesQueryShared:"/classcipe/api/collaborate/v2/queryShared",CollaboratesQuerySharedOwner:"/classcipe/api/collaborate/v2/querySharedOwner",QueryByLinkCode:"/classcipe/api/collaborate/v2/queryByLinkCode",CollaboratesApply:"/classcipe/api/collaborate/v2/apply",CollaboratesSendInviteEmail:"/classcipe/api/collaborate/v2/sendInviteEmail"};function o(t){return Object(a["d"])({url:i.DeleteCollaborate,method:"post",data:t})}function s(t){return Object(a["d"])({url:i.DeleteByMeCollaborate,method:"post",data:t})}function c(t){return Object(a["d"])({url:i.ReceiveCollaborate,method:"post",data:t})}function r(t){return Object(a["d"])({url:i.GetCollaborateComment,method:"post",data:t})}function l(t){return Object(a["d"])({url:i.DeleteCollaborateCommentById+"?id="+t.id,method:"post",data:t})}function d(t){return Object(a["d"])({url:i.AddCollaborateComment,method:"post",data:t})}function u(t){return Object(a["d"])({url:i.GetCollaborateModifiedHistory,method:"post",data:t})}function p(t){return Object(a["d"])({url:i.QueryContentCollaborates,method:"get",params:t})}function h(t){return Object(a["d"])({url:i.CollaboratesSearchUser,method:"get",params:t})}function m(t){return Object(a["d"])({url:i.CollaboratesInvite,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function v(t){return Object(a["d"])({url:i.CollaboratesAgree,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(t){return Object(a["d"])({url:i.CollaboratesUpdate,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(t){return Object(a["d"])({url:i.CollaboratesUpdateLink,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function y(t){return Object(a["d"])({url:i.CollaboratesQueryShared,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function g(t){return Object(a["d"])({url:i.CollaboratesQuerySharedOwner,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function w(t){return Object(a["d"])({url:i.QueryByLinkCode,method:"get",params:t})}function C(t){return Object(a["d"])({url:i.CollaboratesApply,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function k(t){return Object(a["d"])({url:i.MarkedCollaborateComment+"?id="+t.id,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function _(t){return Object(a["d"])({url:i.CollaboratesSendInviteEmail,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function x(t){return Object(a["d"])({url:i.CollaboratesRemove,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function S(t){return Object(a["d"])({url:i.CollaboratesDeleteByOthers,method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},"5d91":function(t,e,n){"use strict";n("19d1")},"81cf":function(t,e,n){var a=n("b2b7");t.exports={__esModule:!0,default:a.svgComponent({tag:"svg",attrsMap:{t:"1651915706526",class:"icon",viewBox:"0 0 1069 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3589","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"50.109375",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M550.120826 4.91l497.83239 344.313542a26.725201 26.725201 0 0 1 6.69292 37.554717 26.39985 26.39985 0 0 1-6.69292 6.553484l-497.83239 344.36002a27.887166 27.887166 0 0 1-31.280104 0L21.008332 393.331743a26.725201 26.725201 0 0 1-6.646442-37.554717 26.213936 26.213936 0 0 1 6.646442-6.553484L518.840722 4.91a27.887166 27.887166 0 0 1 31.280104 0z m-15.616813 120.844386L179.314477 371.486796l355.189536 245.546496 355.143058-245.639453-355.189536-245.639453z m-15.663291 893.318881L0 660.118963l95.095236-65.767232 439.408777 303.830672 439.362299-303.830672L1069.008027 660.118963l-518.840722 358.907826a27.887166 27.887166 0 0 1-31.280105 0z","p-id":"3590"}}]})}},"8f46":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"status-icon-item"},[t.type===t.typeMap.task?n("span",[t._v("Task")]):t._e(),t.type===t.typeMap["unit-plan"]?n("span",[t._v("Unit")]):t._e(),t.type===t.typeMap.pd?n("span",[t._v("PD")]):t._e(),t.type===t.typeMap.video?n("span",[t._v("Video")]):t._e()])},i=[],o=(n("a9e3"),n("3f76")),s={name:"ContentTypeIcon",props:{type:{type:Number,default:-1},size:{type:String,default:"30px"}},data:function(){return{typeMap:o["e"]}}},c=s,r=(n("4133"),n("0c7c")),l=Object(r["a"])(c,a,i,!1,null,"a464ed10",null);e["a"]=l.exports},"973f":function(t,e,n){},ae49:function(t,e,n){},b3e1:function(t,e,n){var a=n("b2b7");t.exports={__esModule:!0,default:a.svgComponent({tag:"svg",attrsMap:{t:"1651291412559",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2926",width:"48",height:"48","xmlns:xlink":"http://www.w3.org/1999/xlink"},children:[{tag:"path",attrsMap:{d:"M776.28836885 838.02245644a56.86808467 56.86808467 0 0 1-56.86808467 56.18566846H307.41100859a56.86808467 56.86808467 0 0 1-56.86808554-56.18566845V241.36250908h526.31412715v596.65994737zM364.33596114 140.47852607a11.37361729 11.37361729 0 0 1 11.71482626-11.37361728h274.90032247a11.37361729 11.37361729 0 0 1 11.71482539 11.37361728v34.12085098H364.33596114v-34.12085098z m547.41218642 34.12085098h-180.89737822v-34.12085098a79.61531924 79.61531924 0 0 0-79.61531924-78.53482529H376.33512763A79.61531924 79.61531924 0 0 0 296.43546816 140.47852607v34.12085098H114.79880498a34.12085097 34.12085097 0 1 0 0 67.72988936h66.53565879v595.69319004a125.10978662 125.10978662 0 0 0 126.07654482 123.97242568h412.00927559a125.10978662 125.10978662 0 0 0 126.07654483-123.97242568V241.36250908h66.53565878a34.12085097 34.12085097 0 0 0 34.46205997-34.12085098 33.49530175 33.49530175 0 0 0-34.7464002-32.86975341zM513.15973964 792.86919717a34.12085097 34.12085097 0 0 0 34.4051921-34.12085098V398.43215967a34.46205908 34.46205908 0 0 0-68.86725117 0v360.31618652a34.12085097 34.12085097 0 0 0 34.46205908 34.12085098m-124.48423741-71.99499551a34.12085097 34.12085097 0 0 0 34.46205909-34.12085098v-216.09872315a34.46205908 34.46205908 0 0 0-68.92411904 0v216.09872315a35.14447617 35.14447617 0 0 0 34.46205995 34.12085098m248.91160782 0a34.12085097 34.12085097 0 0 0 34.46205908-34.12085098v-216.09872315a34.46205908 34.46205908 0 0 0-68.92411904 0v216.09872315a34.12085097 34.12085097 0 0 0 34.46205996 34.12085098","p-id":"2927"}}]})}},d185:function(t,e,n){var a=n("b2b7");t.exports={__esModule:!0,default:a.svgComponent({tag:"svg",attrsMap:{t:"1651915723829",class:"icon",viewBox:"0 0 1317 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3997","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"61.734375",height:"48"},children:[{tag:"defs"},{tag:"path",attrsMap:{d:"M656.175524 768.22059l85.236153-84.379029-111.902212-110.521292-85.712332 84.37903v40.713358h70.950764v69.807933h41.427627z m324.278325-523.797588a15.285366 15.285366 0 0 0-24.285161 0.761887l-258.089357 254.51801a14.904422 14.904422 0 0 0-0.952359 23.808982 15.809164 15.809164 0 0 0 24.761341-0.71427l258.089357-254.565628a14.666332 14.666332 0 0 0 0.476179-23.666127z m59.046274 432.037774v138.092092a200.471622 200.471622 0 0 1-61.903351 147.996627 207.423845 207.423845 0 0 1-150.472762 61.427172H213.328472a207.423845 207.423845 0 0 1-150.472761-61.427172 200.947802 200.947802 0 0 1-62.379531-147.996627V209.661889a200.804948 200.804948 0 0 1 62.379531-147.996627A207.471463 207.471463 0 0 1 213.328472 0.190472h613.795538a204.138206 204.138206 0 0 1 86.188512 18.190062 21.523319 21.523319 0 0 1 13.33303 16.761522 21.809027 21.809027 0 0 1-6.666515 21.04714l-36.189652 35.665854a21.428083 21.428083 0 0 1-23.332801 5.809391 134.187419 134.187419 0 0 0-33.332574-4.380852H213.328472a113.473605 113.473605 0 0 0-83.331434 34.189697A110.568909 110.568909 0 0 0 95.235925 209.661889v605.129069a110.568909 110.568909 0 0 0 34.761113 82.188603 113.425987 113.425987 0 0 0 83.331434 34.142079h613.795538a114.28311 114.28311 0 0 0 83.331434-34.142079 110.568909 110.568909 0 0 0 34.761113-82.188603v-91.664578a22.237589 22.237589 0 0 1 6.666515-15.999636l47.141783-46.522749a22.332824 22.332824 0 0 1 25.7137-5.095122 20.904286 20.904286 0 0 1 14.761568 21.094757zM969.025538 139.711102l212.376113 209.519036L685.698661 837.933287H472.846368v-209.519035z m327.611583 95.997813l-68.093687 66.665147-212.376113-209.519035 67.617507-66.665148a69.807933 69.807933 0 0 1 50.475041-20.33287 68.71272 68.71272 0 0 1 49.99886 20.33287l112.378392 110.56891a69.950787 69.950787 0 0 1 0 98.902508z","p-id":"3998"}}]})}},f031:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("1da1"),i=(n("d81d"),n("0481"),n("b0c0"),n("159b"),n("96cf"),n("c621")),o=n("f93e"),s=n("b199"),c=n("980a"),r=n("944d"),l={data:function(){return{allowPreview:!0,previewCurrentId:null,previewType:null,previewCode:null,previewVisible:!1,previewSchoolId:"0",updateEditSlideLoading:!1,setColor:["#FFEDAF","#C8F4FF","#E6E4FF","#ffccb0","#ffa9a2","#a3ecb9","#f7c5f8","#ffbfe2","#d5b9ff","#c4f6b1"],savingSlides:!1,formSteps:[],requiredFields:[],emptyRequiredFields:[]}},created:function(){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},computed:{commandTermsList:function(){return Object(r["a"])(this.content.learnOuts.map((function(t){return t.commandTerms})).flat(2),"name").map((function(t){return t.name}))},knowledgeTagsList:function(){return Object(r["a"])(this.content.learnOuts.map((function(t){return t.knowledgeTags})).flat(2),"name").map((function(t){return t.name}))}},methods:{handlePreviewDetail:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$logger.info("handlePreviewDetail",t,"allowPreview",this.allowPreview),this.allowPreview&&(this.previewVisible=!1,this.$nextTick((function(){e.previewCurrentId=n&&t.sourceFrom||t.id,e.previewType=t.type,e.previewCode=t.sessionId||t.sessionInfo&&t.sessionInfo.classId,e.previewSchoolId=t.schoolId?t.schoolId:"0",e.reviewList=!1,e.reviewCreate=!!n,e.reviewEdit=!!n,e.previewVisible=!0})),this.$emit("preview",t))},handlePreviewDeleteDetail:function(t){var e=this;this.$logger.info("handlePreviewDeleteDetail",t,"allowPreview",this.allowPreview),this.allowPreview&&(this.previewVisible=!1,this.$nextTick((function(){e.previewCurrentId=t.contentId,e.previewType=t.contentType,e.previewCode=t.classId,e.reviewList=!1,e.reviewCreate=!1,e.reviewEdit=!1,e.previewVisible=!0})),this.$emit("preview",t))},handlePreviewClose:function(){this.$logger.info("handlePreviewClose"),this.previewVisible=!1,this.previewCurrentId=null,this.previewType=null,this.previewCode=null},updateEditSlideStatus:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.updateEditSlideLoading){e.next=26;break}if(e.prev=1,t.updateEditSlideLoading=!0,n=parseInt(t.content.type),a=null,n!==t.$classcipe.typeMap.task){e.next=11;break}return e.next=8,Object(i["c"])({taskId:t.content.id,needRefresh:!0});case 8:a=e.sent,e.next=15;break;case 11:if(n!==t.$classcipe.typeMap.pd){e.next=15;break}return e.next=14,Object(i["c"])({taskId:t.content.id,needRefresh:!0});case 14:a=e.sent;case 15:a&&0===a.code&&(t.content.presentationId=a.result.presentationId,t.content.pageObjects=a.result.pageObjects),t.content.slideEditing=!1,e.next=21;break;case 19:e.prev=19,e.t0=e["catch"](1);case 21:return e.prev=21,t.updateEditSlideLoading=!1,o=t.contentReget(),0===o.code&&(t.content.canPublish=o.result.canPublish),e.finish(21);case 26:case"end":return e.stop()}}),e,null,[[1,19,21,26]])})))()},contentReget:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=parseInt(t.content.type),a=null,n!==t.$classcipe.typeMap.task){e.next=8;break}return e.next=5,Object(s["TaskQueryById"])({id:t.content.id});case 5:a=e.sent,e.next=12;break;case 8:if(n!==t.$classcipe.typeMap.pd){e.next=12;break}return e.next=11,Object(c["c"])({id:t.content.id});case 11:a=e.sent;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))()},simpleIsEmpty:function(t){return null===t||""===t||void 0===t||(!(!t.hasOwnProperty("length")||0!==t.length)||"{}"===JSON.stringify(t))},calculateCanPublish:function(){var t=this,e=!0;this.emptyRequiredFields=[],this.formSteps.forEach((function(t){t.showRequiredTips=!1,t.showSatisfiedTips=!1})),this.requiredFields.forEach((function(n){var a;n===o["V"].Slides||n===o["v"].Slides?t.content.presentationId&&null!==(a=t.content.pageObjects)&&void 0!==a&&a.length||(t.emptyRequiredFields.push(n),t.formSteps.forEach((function(t){t.commonFields.indexOf(n)>-1&&(t.showRequiredTips=!0,t.showSatisfiedTips=!1,e=!1)}))):n===o["V"].Link||n===o["w"].Link||"learnOuts"===n||"questions"===n||"overview"===n||"goals"===n||t.simpleIsEmpty(t.content[n])&&(t.$logger.info("".concat(n," is empty"),t.content[n]),t.emptyRequiredFields.push(n),t.formSteps.forEach((function(t){t.commonFields.indexOf(n)>-1&&(t.showRequiredTips=!0,t.showSatisfiedTips=!1,e=!1)})))})),this.content.canPublish,this.content.canPublish=e}}}},fb85:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-modal",{attrs:{closable:!1,maskClosable:!1,destroyOnClose:"","ok-text":t.okText,confirmLoading:t.confirmLoading},on:{ok:t.updatePrice,cancel:function(e){t.visible=!1}},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[n("modal-header",{attrs:{title:"Edit price"},on:{close:function(e){t.visible=!1}}}),n("div",{staticClass:"edit-price"},[n("a-row",{attrs:{gutter:20,type:"flex",align:"middle"}},[n("a-col",{staticClass:"label-name",attrs:{span:"6"}},[t._v(" Price: ")]),n("a-col",{attrs:{span:"6"}},[n("a-input-number",{attrs:{"default-value":0,min:0,max:1e7,formatter:function(t){return("$ "+t).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(t){return t.replace(/\$\s?|(,*)/g,"")}},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1),n("a-col",{directives:[{name:"show",rawName:"v-show",value:t.enableDiscount&&t.price>0,expression:"enableDiscount && price > 0"}],attrs:{span:"12"}},[t._v("Discounted price "),n("span",{style:{color:"red"}},[t._v("$"+t._s((t.price*(1-1*t.discount/100)).toFixed(2)))])])],1),t.price>0?n("a-row",{attrs:{gutter:20,type:"flex",align:"middle"}},[n("a-col",{staticClass:"label-name",attrs:{span:"6"}},[t._v(" Discount: ")]),n("a-col",{attrs:{span:"6"}},[n("a-input-number",{directives:[{name:"show",rawName:"v-show",value:t.enableDiscount,expression:"enableDiscount"}],attrs:{"default-value":1,min:.01,max:100,formatter:function(t){return(t||1)+"%"},parser:function(t){return t.replace("%","")||1}},model:{value:t.discount,callback:function(e){t.discount=e},expression:"discount"}})],1),n("a-col",{attrs:{span:"12"}},[t.price>0?n("a-switch",{attrs:{checked:t.enableDiscount,size:"small"},on:{change:t.onChange}}):t._e()],1)],1):t._e(),n("a-row",{directives:[{name:"show",rawName:"v-show",value:t.enableDiscount&&t.price>0,expression:"enableDiscount && price > 0"}],attrs:{gutter:20,type:"flex",align:"middle"}},[n("a-col",{staticClass:"label-name",attrs:{span:"6"}},[t._v(" Duration setting ")]),n("a-col",{attrs:{span:"16"}},[n("a-range-picker",{attrs:{"default-value":t.initDate,mode:["date"],"disabled-date":t.disabledDate},on:{change:t.handleDurationChange}})],1)],1)],1)],1)},i=[],o=n("1da1"),s=(n("b680"),n("96cf"),n("3f76")),c=n("3b68"),r=n("60427"),l=n("c1df"),d=n.n(l),u={name:"DiscountedPrice",props:{okText:{type:String,default:"OK"}},components:{ModalHeader:r["a"]},data:function(){return{typeMap:s["e"],contentId:"",contentType:"",enableDiscount:!1,visible:!1,discount:0,price:0,editPrice:!1,startDate:null,endData:null,initDate:[d()(new Date),null],confirmLoading:!1}},methods:{showEditPrice:function(t,e){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n.contentId=t,n.contentType=e,a.next=4,Object(c["a"])({contentId:t,contentType:e});case 4:i=a.sent,o=i.result,o&&(n.$logger.info("discountSettingQuery",o),n.discount=o.discount,n.price=o.price,n.enableDiscount=Boolean(o.enableDiscount),n.startDate=o.discountStartTime,n.endData=o.discountEndTime,o.discountStartTime&&o.discountEndTime&&(n.initDate=[d.a.utc(o.discountStartTime).local(),d.a.utc(o.discountEndTime).local()])),n.visible=!0;case 8:case"end":return a.stop()}}),a)})))()},updatePrice:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$logger.info("update price"),n=parseInt(t.contentType),t.confirmLoading=!0,e.next=5,Object(c["b"])({contentId:t.contentId,contentType:n,discount:t.discount,discountModel:2,price:t.price,discountStartTime:t.startDate,enableDiscount:t.enableDiscount,discountEndTime:t.endData});case 5:a=!1,t.discount>0&&(a=d()().isAfter(d.a.utc(t.startDate).local())&&d()().isBefore(d.a.utc(t.endData).local())),i=t.price,a&&t.discount>0&&(i=parseFloat((t.price-t.price*t.discount/100).toFixed(2))),t.$emit("update",{price:t.price,discountPrice:i}),t.editPrice=!1,t.confirmLoading=!1,t.visible=!1;case 13:case"end":return e.stop()}}),e)})))()},handleDurationChange:function(t){this.$logger.info("handleDurationChange",t),this.startDate=d()(t[0].toDate()).utc().format("YYYY-MM-DD 00:00:00"),this.endData=d()(t[1].toDate()).utc().format("YYYY-MM-DD 00:00:00")},onChange:function(t){this.enableDiscount=t,t?this.discount||(this.discount=1):(this.discount=0,this.startDate=null,this.endData=null)},disabledDate:function(t){return t&&t<d()().subtract(1,"days").endOf("day")}}},p=u,h=(n("2e66"),n("0c7c")),m=Object(h["a"])(p,a,i,!1,null,"14094471",null);e["a"]=m.exports}}]);