(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["register"],{"0d0c":function(e,t,a){"use strict";a("4453")},1348:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user-register"},[1===e.currentStep?r("div",{staticClass:"steps-action",on:{click:e.back}},[r("img",{staticClass:"logo",staticStyle:{width:"18px"},attrs:{src:a("73c9")}}),r("span",[e._v("Back")])]):e._e(),r("div",{staticClass:"steps-content"},[0===e.currentStep?r("div",{staticClass:"role"},[e._m(0),r("div",{staticClass:"role-item",class:{selected:e.selectedRole===e.userRole.teacher},on:{click:function(t){return e.handleSelectRole(e.userRole.teacher)}}},[e._m(1),e._m(2)]),r("div",{staticClass:"role-item",class:{selected:e.selectedRole===e.userRole.student},on:{click:function(t){return e.handleSelectRole(e.userRole.student)}}},[e._m(3),e._m(4)])]):e._e(),1===e.currentStep?r("div",{staticClass:"register"},[e.selectedRole===e.userRole.teacher?r("div",[r("div",[r("div",{staticClass:"desc"},[e._v("Sign Up")]),r("div",{staticClass:"desc2"},[e._v("Sign Up to Classcipe using your Google account")]),r("div",{staticClass:"desc2"},[e._v(" Already have an account? | "),r("span",[r("router-link",{attrs:{to:{path:e.teacherLoginPath}}},[e._v("Sign In")])],1)])]),r("div",{staticClass:"third-login-wrapper"},[r("third-login-button",{attrs:{icon:"googleIcon",label:e.$t("user.login.SignUpWithGoogle"),disabled:this.disabled},nativeOn:{click:function(t){return e.thirdSignIn("google","teacher")}}})],1),r("div",{staticClass:"info"},[r("a-checkbox",{on:{change:e.handleChange}},[e._v(" I agree to Classcipe's "),r("span",[r("a",{attrs:{href:"https://www.classcipe.com/term.html",target:"_blank"}},[e._v("Terms of service")])]),e._v(" and "),r("span",[r("a",{attrs:{href:"https://www.classcipe.com/policy.html",target:"_blank"}},[e._v("Privacy Policy")])])])],1)]):e._e(),e.selectedRole===e.userRole.student?r("div",[r("div",[r("div",{staticClass:"desc"},[e._v("Sign Up")]),r("div",{staticClass:"desc2"},[e._v(" Already have an account? | "),r("span",[r("router-link",{attrs:{to:{path:e.selectedRole===e.userRole.student?e.studentLoginPath:e.teacherLoginPath}}},[e._v("Sign In")])],1)])]),r("a-form",{staticClass:"register-form",attrs:{form:e.form},on:{submit:e.handleSubmit}},[r("a-form-item",{staticStyle:{"margin-bottom":"0"}},[r("a-row",{attrs:{gutter:20}},[r("a-col",{attrs:{span:12}},[r("a-form-item",{staticClass:"form-name"},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["firstname",{rules:[{required:!0,message:e.$t("user.register.name.required")}],validateTrigger:["change","blur"]}],expression:"[\n                      'firstname',\n                      {\n                        rules: [\n                          {\n                            required: true,\n                            message: $t('user.register.name.required'),\n                          },\n                        ],\n                        validateTrigger: ['change', 'blur'],\n                      },\n                    ]"}],attrs:{size:"large",type:"text",placeholder:"First Name"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-item",{staticClass:"form-name"},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["lastname",{rules:[{required:!0,message:e.$t("user.register.name.required")}],validateTrigger:["change","blur"]}],expression:"[\n                      'lastname',\n                      {\n                        rules: [\n                          {\n                            required: true,\n                            message: $t('user.register.name.required'),\n                          },\n                        ],\n                        validateTrigger: ['change', 'blur'],\n                      },\n                    ]"}],attrs:{size:"large",type:"text",placeholder:"Last Name"}})],1)],1)],1)],1),r("a-form-item",{staticClass:"form-email"},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0,type:"email",message:e.$t("user.email.required")}],validateTrigger:["change","blur"]}],expression:"[\n                'email',\n                {\n                  rules: [\n                    {\n                      required: true,\n                      type: 'email',\n                      message: $t('user.email.required'),\n                    },\n                  ],\n                  validateTrigger: ['change', 'blur'],\n                },\n              ]"}],attrs:{size:"large",type:"text",placeholder:e.$t("user.register.email.placeholder")}})],1),r("a-form-item",{staticClass:"form-password"},[r("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:e.$t("user.password.required")},{validator:e.handlePassword}],validateTrigger:["change","blur"]}],expression:"[\n                'password',\n                {\n                  rules: [\n                    { required: true, message: $t('user.password.required') },\n                    {\n                      validator: handlePassword,\n                    },\n                  ],\n                  validateTrigger: ['change', 'blur'],\n                },\n              ]"}],attrs:{size:"large",placeholder:e.$t("user.register.password.placeholder")}})],1),r("a-form-item",{staticClass:"form-submit"},[r("a-button",{attrs:{type:"primary",disabled:this.disabled,block:"",loading:e.loading,size:"large","html-type":"submit"}},[e._v(" Sign Up ")])],1)],1),e._m(5),r("div",{staticClass:"third-login-wrapper"},[r("third-login-button",{attrs:{icon:"googleIcon",label:e.$t("user.login.SignUpWithGoogle"),disabled:this.disabled},nativeOn:{click:function(t){return e.thirdSignIn("google","student")}}})],1),r("div",{staticClass:"info"},[r("a-checkbox",{on:{change:e.handleChange}},[e._v(" I agree to Classcipe's "),r("span",[r("a",{attrs:{href:"https://www.classcipe.com/term.html",target:"_blank"}},[e._v("Terms of service")])]),e._v(" and "),r("span",[r("a",{attrs:{href:"https://www.classcipe.com/policy.html",target:"_blank"}},[e._v("Privacy Policy")])])])],1)],1):e._e()]):e._e()])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"desc"},[e._v("Choose your role to enter")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"role-info"},[r("img",{staticClass:"role-img",attrs:{src:a("7603")}}),r("div",[r("div",{staticClass:"role-name"},[e._v("I am an educator")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"arrow"},[a("span")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"role-info"},[r("img",{staticClass:"role-img",attrs:{src:a("3132")}}),r("div",[r("div",{staticClass:"role-name"},[e._v("I am a student")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"arrow"},[a("span")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"or"},[a("div",{staticClass:"line"}),a("div",{staticClass:"text"},[e._v("OR")]),a("div",{staticClass:"line"})])}],i=a("5530"),n=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("ac1f"),a("841c"),a("99af"),a("8a79"),a("705f")),A=a("d07e"),l=a("dbdc"),c=a("2f62"),o=a("9fb0"),d=a("8ded"),u=a.n(d),g=a("ca00"),h=a("6757"),m={name:"Register",components:{ThirdLoginButton:A["a"]},mixins:[n["a"]],data:function(){return{loading:!1,currentStep:0,selectedRole:null,form:this.$form.createForm(this),loginPath:"/user/login",teacherLoginPath:"/user/login?role=teacher",studentLoginPath:"/user/login?role=student",disabled:!0,callbackUrl:"",userRole:h["a"]}},created:function(){var e=new URLSearchParams(window.location.search),t=e.get("redirect");t&&(this.loginPath="/user/login?redirect=".concat(t),this.teacherLoginPath="/user/login?role=teacher&redirect=".concat(t),this.studentLoginPath="/user/login?role=student&redirect=".concat(t),this.callbackUrl=t),u.a.set(o["n"],!1)},computed:{},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])(["SignUp"])),{},{back:function(){this.currentStep=0},next:function(){this.currentStep=1},handleSelectRole:function(e){this.selectedRole=e,this.disabled=!0,this.next()},handleChange:function(e){e.target.checked?this.disabled=!1:this.disabled=!0},thirdSignIn:function(e,t){var a=Object(l["b"])(e);a+="?role=".concat(t),a+="&channelId=".concat(Object(g["getCookie"])(o["v"])),a+="&callbackUrl=",a+=l["c"],window.location.href=a},handleSubmit:function(e){var t=this;e.preventDefault();var a=this.form.validateFields,r=this.SignUp;a({force:!0},(function(e,a){if(!e){t.loading=!0;var s={firstname:a.firstname,lastname:a.lastname,nickname:"".concat(a.firstname," ").concat(a.lastname),password:a.password,username:a.email,role:t.selectedRole};r(s).then((function(e){return t.loginSuccess(e)})).catch((function(e){return t.requestFailed(e)})).finally((function(){t.loading=!1}))}}))},handleEmail:function(e,t,a){if(t){var r=/^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/;r.test(t)?this.selectedRole===this.userRole.teacher&&t&&!t.endsWith("@gmail.com")?a(new Error("please use your google email")):a():a(new Error(this.$t("user.email.required")))}else a(new Error(this.$t("user.email.required")))},handlePassword:function(e,t,a){t&&t.length<6?a(new Error(this.$t("user.password.strength.msg"))):a()},loginSuccess:function(e){var t=this;this.$message.success(e.message),this.$store.dispatch("GetInfo").then((function(a){var r=t.callbackUrl;r?window.location.href=r+(r.indexOf("?")>-1?"&":"?")+"token="+e.result.token:t.$store.getters.currentRole?t.$router.push(t.$store.getters.defaultRouter):t.$router.push({path:t.loginPath})})).catch((function(e){t.$message.error("GetInfo Failed,"+e)}))},requestFailed:function(e){this.$message.error(e.message)}})},v=m,p=(a("5d18"),a("0d0c"),a("0c7c")),f=Object(p["a"])(v,r,s,!1,null,"33e67cf6",null);t["default"]=f.exports},3132:function(e,t,a){e.exports=a.p+"img/student.a9ab85af.png"},4453:function(e,t,a){},"5d18":function(e,t,a){"use strict";a("8d67")},"73c9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAqCAMAAAAH47LZAAAAAXNSR0IArs4c6QAAAMNQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQHCrIAAAAEB0Uk5TAAQIDBAYHB8gJCgvNDc4Ozw/QENIT1BTV1xgY2xvc3d7f4OHi4+Tl5ujp6uvs7e7v8PHy8/T19vf4+fr7/P3+4fccbIAAAE9SURBVBgZhcGHVsIwGAbQLwYQcS9kiMqo4qCAg6pA873/U/kn0nOAluReZPTLclxGkBqRHCGoT7FESJtWgoBzQ6sJv4M5rUf46RmtsYKXimnNSvCLaC1q8GvTae9vU1h3arjL7/OlQuaDPrNjrKT0Mn38mzIggnOUMiCC06TTu9hSv40NnRs4PVrzA+TUJrTmZTgjWjONHPVK6wmO/qIVK+SomCItw6n+0oqQV1lQPODfmaHVQN4DxSdWWrQ+kFdKKUpYGVAkKBBT1LGiYpKPKNClaCOjh99DjQItii6CrigiBNUpBghqUXQR1KdoIeid4gIhVUMy3UNIRDFByGFK0UGA/qRY7MFPT2n14Hf9QyvRWHN41900/KFjTrCmYbhDB+sS7tDBhiULLZrY9MYirxVsKY8NN6TJ+L6CzB+N+YWamYjxMQAAAABJRU5ErkJggg=="},7603:function(e,t,a){e.exports=a.p+"img/teacher.dc39419c.png"},"8d67":function(e,t,a){}}]);