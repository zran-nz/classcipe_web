(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18560d3f"],{"0049":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/account/settings/BasicSetting.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},"178d":function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/views/account/settings/AvatarModal.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},"1fce":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"227a4198-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/settings/BasicSetting.vue?vue&type=template&id=3a671751&scoped=true&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'a-row\',{staticStyle:{"flex-wrap":"nowrap"},attrs:{"type":"flex"}},[_c(\'a-col\',{staticClass:"account-settings-info-view",attrs:{"flex":"auto"}},[_c(\'a-spin\',{attrs:{"size":"large","spinning":_vm.loading}},[(!_vm.editMode)?_c(\'div\',{staticClass:"edit-action-wrapper"},[_c(\'div\',{staticClass:"edit-action",on:{"click":function($event){_vm.editMode = !_vm.editMode}}},[_c(\'a-icon\',{attrs:{"type":"edit"}}),_vm._v(" Edit ")],1)]):_vm._e(),_c(\'avatar-modal\',{ref:"modal",on:{"ok":_vm.setAvatar}}),_c(\'a-row\',{attrs:{"gutter":[16, 16]}},[_c(\'a-col\',{staticClass:"username-line",style:({ minHeight: \'180px\' }),attrs:{"span":"16"}},[_c(\'div\',{staticClass:"ant-upload-preview",on:{"click":function($event){return _vm.$refs.modal.edit(1)}}},[_c(\'a-icon\',{staticClass:"upload-icon",attrs:{"type":"cloud-upload-o"}}),_c(\'div\',{staticClass:"mask"},[_c(\'a-icon\',{attrs:{"type":"plus"}})],1),(_vm.userInfo.avatar)?_c(\'img\',{attrs:{"src":_vm.userInfo.avatar}}):_c(\'img\',{attrs:{"src":__webpack_require__("4992")}})],1),_c(\'div\',{staticStyle:{"width":"100%"}},[_c(\'div\',{staticClass:"user-name"},[(!_vm.editMode)?_c(\'h1\',[_vm._v(_vm._s(_vm.userInfo.nickname ||( _vm.userInfo.firstname + \' \' + _vm.userInfo.lastname)))]):_vm._e(),(_vm.editMode)?_c(\'div\',{staticClass:"edit-user-name"},[_c(\'a-input\',{attrs:{"size":"large","maxLength":80},model:{value:(_vm.userInfo.tempNickname),callback:function ($$v) {_vm.$set(_vm.userInfo, "tempNickname", $$v)},expression:"userInfo.tempNickname"}})],1):_vm._e()]),_c(\'a-icon\',{staticStyle:{"margin-left":"30px"},attrs:{"type":"profile"}}),_vm._v("  "+_vm._s(_vm.userInfo.email)+" ")],1)])],1),_c(\'a-divider\'),_c(\'a-row\',{attrs:{"gutter":[16, 16]}},[_c(\'a-col\',{attrs:{"span":"24"}},[_c(\'div\',{staticClass:"profile-title"},[_vm._v(" "+_vm._s(_vm.userMode === _vm.USER_MODE.SELF ? \'Personal account\' : ("School account: " + (_vm.currentSchool.schoolName)))+" ")])]),_c(\'a-col\',{attrs:{"span":"24"}},[_c(\'div\',{staticClass:"profile-item-line"},[_c(\'div\',{staticClass:"profile-label"},[_c(\'span\',{staticClass:"label-txt"},[_vm._v("Role : ")])]),_c(\'a-space\',{staticClass:"profile-text profile-data"},_vm._l((_vm.rolesName),function(roleName){return _c(\'a-tag\',{key:\'roleName_\'+roleName},[_vm._v(" "+_vm._s(roleName)+" ")])}),1)],1),_c(\'div\',{staticClass:"profile-item-line"},[_c(\'div\',{staticClass:"profile-label"},[_c(\'span\',{staticClass:"label-txt"},[_vm._v("Member since :")])]),_c(\'div\',{staticClass:"profile-text profile-data"},[(_vm.userMode === _vm.USER_MODE.SELF)?[_vm._v(" "+_vm._s(_vm._f("dayjs")(_vm.userInfo.createTime))+" ")]:[_vm._v(" "+_vm._s(_vm._f("dayjs")(_vm.currentSchool.schoolJoinDate))+" ")]],2)]),(_vm.$store.getters.currentRole === \'expert\')?_c(\'div\',{staticClass:"profile-item-line"},[_c(\'div\',{staticClass:"profile-label"},[_c(\'span\',{staticClass:"label-txt"},[_vm._v("Area(s) :")])]),(!_vm.editMode || !_vm.canEdit)?_c(\'div\',{staticClass:"profile-text profile-data"},[_vm._l((_vm.userInfo.areaNameList),function(areaName,index){return _c(\'div\',{key:index,staticClass:"profile-tag-item"},[_c(\'a-tag\',[_vm._v(_vm._s(areaName))])],1)}),(_vm.userInfo.others && _vm.userInfo.others.length)?_vm._l((_vm.userInfo.others),function(otherName,index){return _c(\'div\',{key:\'o\' + index,staticClass:"profile-tag-item"},[_c(\'a-tag\',{attrs:{"color":"#108ee9"}},[_vm._v(_vm._s(otherName))])],1)}):_vm._e()],2):_c(\'div\',{staticClass:"profile-input profile-data"},[_c(\'a-select\',{attrs:{"getPopupContainer":function (trigger) { return trigger.parentElement; },"placeholder":"Please select","mode":"multiple"},model:{value:(_vm.userInfo.areaIds),callback:function ($$v) {_vm.$set(_vm.userInfo, "areaIds", $$v)},expression:"userInfo.areaIds"}},_vm._l((_vm.areaOptions),function(areaOption){return _c(\'a-select-option\',{key:areaOption.id,attrs:{"value":areaOption.id},nativeOn:{"click":function($event){return _vm.handleSelectAreaOption(areaOption)}}},[_vm._v(_vm._s(areaOption.name)+" ")])}),1),(_vm.currentArea && _vm.currentArea.name === \'Others\')?_c(\'a-input\',{staticClass:"area-input",attrs:{"placeholder":"Please input"},model:{value:(_vm.userInfo.tempOthers),callback:function ($$v) {_vm.$set(_vm.userInfo, "tempOthers", $$v)},expression:"userInfo.tempOthers"}}):_vm._e()],1)]):_vm._e(),(_vm.$store.getters.currentRole === \'teacher\')?_c(\'div\',{staticClass:"profile-item-line"},[_c(\'div\',{staticClass:"profile-label"},[_c(\'span\',{staticClass:"label-txt"},[_vm._v("Curriculum :")])]),(!_vm.editMode || !_vm.canEdit)?_c(\'div\',{staticClass:"profile-text profile-data"},[_vm._v(" "+_vm._s(_vm.userInfo.curriculumName)+" ")]):_c(\'div\',{staticClass:"profile-input profile-data"},[_c(\'a-select\',{attrs:{"getPopupContainer":function (trigger) { return trigger.parentElement; },"placeholder":"Please select curriculum"},model:{value:(_vm.userInfo.curriculumId),callback:function ($$v) {_vm.$set(_vm.userInfo, "curriculumId", $$v)},expression:"userInfo.curriculumId"}},_vm._l((_vm.curriculumOptions),function(curriculumOption){return _c(\'a-select-option\',{key:curriculumOption.id,attrs:{"value":curriculumOption.id},nativeOn:{"click":function($event){return _vm.handleSelectCurriculumOption(curriculumOption)}}},[_vm._v(_vm._s(curriculumOption.name)+" ")])}),1)],1)]):_vm._e(),_c(\'div\',{directives:[{name:"hasRole",rawName:"v-hasRole",value:([\'teacher\', \'student\']),expression:"[\'teacher\', \'student\']"}],staticClass:"profile-item-line"},[_c(\'div\',{staticClass:"profile-label"},[_c(\'span\',{staticClass:"label-txt"},[_vm._v("Subject(s) :")])]),(!_vm.editMode || !_vm.canEdit)?_c(\'div\',{staticClass:"profile-text profile-data"},_vm._l((_vm.userInfo.subjects),function(subjectName,index){return _c(\'div\',{key:index,staticClass:"profile-tag-item"},[_c(\'a-tag\',[_vm._v(_vm._s(subjectName))])],1)}),0):_c(\'div\',{staticClass:"profile-input profile-data"},[_c(\'a-select\',{attrs:{"getPopupContainer":function (trigger) { return trigger.parentElement; },"mode":"multiple"},model:{value:(_vm.userInfo.subjects),callback:function ($$v) {_vm.$set(_vm.userInfo, "subjects", $$v)},expression:"userInfo.subjects"}},_vm._l((_vm.subjectOptionsFilter),function(subject){return _c(\'a-select-option\',{key:subject.id,attrs:{"value":subject.name}},[_vm._v(_vm._s(subject.name))])}),1)],1)]),_c(\'div\',{directives:[{name:"hasRole",rawName:"v-hasRole",value:([\'student\']),expression:"[\'student\']"}],staticClass:"profile-item-line"},[_c(\'div\',{staticClass:"profile-label"},[_c(\'span\',{staticClass:"label-txt"},[_vm._v("Age : ")])]),(!_vm.editMode || !_vm.canEdit)?_c(\'div\',{staticClass:"profile-text profile-data"},[_vm._v(" "+_vm._s(_vm.userInfo.age)+" ")]):_c(\'div\',{staticClass:"profile-input profile-data"},[_c(\'a-select\',{attrs:{"getPopupContainer":function (trigger) { return trigger.parentElement; },"placeholder":"Please select age"},model:{value:(_vm.userInfo.age),callback:function ($$v) {_vm.$set(_vm.userInfo, "age", $$v)},expression:"userInfo.age"}},_vm._l((_vm.ageList),function(ageOption){return _c(\'a-select-option\',{key:\'age_\'+ageOption,attrs:{"value":ageOption}},[_vm._v(" "+_vm._s(ageOption)+" ")])}),1)],1)]),(_vm.$store.getters.currentRole === \'teacher\')?_c(\'div\',{staticClass:"profile-item-line"},[_c(\'div\',{staticClass:"profile-label"},[_c(\'span\',{staticClass:"label-txt"},[_vm._v("Level/Grade :")])]),(!_vm.editMode || !_vm.canEdit)?_c(\'div\',{staticClass:"profile-text profile-data"},_vm._l((_vm.userInfo.gradeNameList),function(gradeName,index){return _c(\'div\',{key:index,staticClass:"profile-tag-item"},[_c(\'a-tag\',[_vm._v(_vm._s(gradeName))])],1)}),0):_c(\'div\',{staticClass:"profile-input profile-data"},[_c(\'a-select\',{attrs:{"getPopupContainer":function (trigger) { return trigger.parentElement; },"placeholder":"Please select grade","mode":"multiple"},model:{value:(_vm.userInfo.gradeIds),callback:function ($$v) {_vm.$set(_vm.userInfo, "gradeIds", $$v)},expression:"userInfo.gradeIds"}},_vm._l((_vm.gradeOptions),function(gradeOption){return _c(\'a-select-option\',{key:gradeOption.id,attrs:{"value":gradeOption.id}},[_vm._v(" "+_vm._s(gradeOption.name)+" ")])}),1)],1)]):_vm._e(),(_vm.$store.getters.currentRole === \'teacher\')?_c(\'div\',{staticClass:"profile-item-line"},[_c(\'div\',{staticClass:"profile-label"},[_c(\'span\',{staticClass:"label-txt"},[_vm._v("Customized tags :")])]),_c(\'div\',{staticClass:"profile-text profile-data"},[_c(\'a\',{attrs:{"slot":"extra","href":"#"},on:{"click":_vm.handleSetting},slot:"extra"},[_c(\'a-icon\',{attrs:{"type":"edit"}}),_vm._v(" Tags setting")],1)])]):_vm._e(),_c(\'div\',{staticClass:"profile-item-line"},[_c(\'div\',{staticClass:"profile-label"},[_c(\'span\',{staticClass:"label-txt"},[_vm._v("Linked School(s):")])]),_c(\'div\',{staticClass:"profile-text profile-data"},[(_vm.linkedSchool.length > 0)?_c(\'a-space\',_vm._l((_vm.linkedSchool),function(item){return _c(\'a-tag\',{key:\'linkedSchool_\'+item,attrs:{"color":"#ffc001"}},[_vm._v(" "+_vm._s(item)+" ")])}),1):_vm._e(),(_vm.linkedSchool.length===0 && _vm.currentRole === \'teacher\')?_c(\'div\',[_c(\'a-button\',{on:{"click":function($event){_vm.userFormVisible = true}}},[_vm._v("Refer your principal")])],1):_vm._e(),(_vm.linkedSchool.length===0 && _vm.currentRole === \'student\')?_c(\'div\',{staticClass:"no-linked-school-name"},[_vm._v("You have not linked to any school")]):_vm._e()],1)])])],1),_c(\'a-row\',[_c(\'a-col\',{staticClass:"action-line",attrs:{"span":"24"}},[(_vm.editMode)?_c(\'div\',{staticClass:"submit-action-wrapper"},[_c(\'a-button\',{attrs:{"type":"primary","loading":_vm.loadSaving},on:{"click":_vm.saveDetail}},[_vm._v(_vm._s(_vm.$t(\'account.settings.basic.update\')))])],1):_vm._e(),(_vm.editMode)?_c(\'div\',{staticClass:"submit-action-wrapper-second"},[_c(\'a-button\',{on:{"click":_vm.cancelDetail}},[_vm._v(_vm._s(_vm.$t(\'account.settings.basic.cancel\')))])],1):_vm._e()])],1),_c(\'a-modal\',{attrs:{"title":"Tags Setting","footer":null,"destroyOnClose":"","width":"600px","dialog-style":{ top: \'20px\' }},model:{value:(_vm.settingVisible),callback:function ($$v) {_vm.settingVisible=$$v},expression:"settingVisible"}},[_c(\'div\',[_c(\'tag-setting\')],1)])],1)],1),_c(\'a-col\',{directives:[{name:"show",rawName:"v-show",value:(_vm.userFormVisible),expression:"userFormVisible"}],attrs:{"flex":"30px"}},[_c(\'a-divider\',{staticStyle:{"height":"100%","margin":"0 15px"},attrs:{"type":"vertical"}})],1),_c(\'a-col\',{directives:[{name:"show",rawName:"v-show",value:(_vm.userFormVisible),expression:"userFormVisible"}],attrs:{"flex":"500px"}},[_c(\'div\',{staticClass:"account-info"},[_c(\'div\',{staticClass:"account-info-title"},[_vm._v(" Complete the form below to send your principal an email about Classcipe ")]),_c(\'div\',{staticClass:"account-info-sub"},[_c(\'a-button\',{directives:[{name:"show",rawName:"v-show",value:(!_vm.adminFormVisible),expression:"!adminFormVisible"}],attrs:{"type":"link"},on:{"click":function($event){_vm.adminFormVisible = true}}},[_vm._v("I\'m an administrator >")]),_c(\'a-button\',{directives:[{name:"show",rawName:"v-show",value:(_vm.adminFormVisible),expression:"adminFormVisible"}],attrs:{"type":"link"},on:{"click":function($event){_vm.adminFormVisible = false}}},[_vm._v("I\'m not an administrator >")])],1),_c(\'a-spin\',{attrs:{"spinning":_vm.confirmLoading}},[_c(\'a-form-model\',{directives:[{name:"show",rawName:"v-show",value:(!_vm.adminFormVisible),expression:"!adminFormVisible"}],ref:"userForm",staticClass:"account-info-form",attrs:{"layout":_vm.userForm.layout,"model":_vm.userForm,"rules":_vm.validatorRules}},[_c(\'a-row\',{attrs:{"gutter":16}},[_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"label":"Your Frist Name","prop":"firstname"}},[_c(\'a-input\',{attrs:{"size":"large","placeholder":"input your first name"},model:{value:(_vm.userForm.firstname),callback:function ($$v) {_vm.$set(_vm.userForm, "firstname", $$v)},expression:"userForm.firstname"}})],1)],1),_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"label":"Your Last Name","prop":"lastname"}},[_c(\'a-input\',{attrs:{"size":"large","placeholder":"input your last Name"},model:{value:(_vm.userForm.lastname),callback:function ($$v) {_vm.$set(_vm.userForm, "lastname", $$v)},expression:"userForm.lastname"}})],1)],1)],1),_c(\'a-form-model-item\',{attrs:{"label":"Your Email Address","prop":"email"}},[_c(\'a-input\',{attrs:{"size":"large","placeholder":"input your email address"},model:{value:(_vm.userForm.email),callback:function ($$v) {_vm.$set(_vm.userForm, "email", $$v)},expression:"userForm.email"}})],1),_c(\'a-row\',{attrs:{"gutter":16}},[_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"label":"Principal\'s Frist Name","prop":"principleFirstname"}},[_c(\'a-input\',{attrs:{"size":"large","placeholder":"input principal\'s first name"},model:{value:(_vm.userForm.principleFirstname),callback:function ($$v) {_vm.$set(_vm.userForm, "principleFirstname", $$v)},expression:"userForm.principleFirstname"}})],1)],1),_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"label":"Principal\'s Last Name","prop":"principleLastname"}},[_c(\'a-input\',{attrs:{"size":"large","placeholder":"input principal\'s last Name"},model:{value:(_vm.userForm.principleLastname),callback:function ($$v) {_vm.$set(_vm.userForm, "principleLastname", $$v)},expression:"userForm.principleLastname"}})],1)],1)],1),_c(\'a-form-model-item\',{attrs:{"label":"Principal\'s Email Address","prop":"principleEmail"}},[_c(\'a-input\',{attrs:{"size":"large","placeholder":"input principal\'s email address"},model:{value:(_vm.userForm.principleEmail),callback:function ($$v) {_vm.$set(_vm.userForm, "principleEmail", $$v)},expression:"userForm.principleEmail"}})],1),_c(\'a-form-model-item\',{key:"School",attrs:{"label":"School","prop":"schoolId"}},[_c(\'a-select\',{attrs:{"placeholder":"Please select school","show-search":"","default-active-first-option":false,"show-arrow":false,"filter-option":false,"not-found-content":null,"option-label-prop":"label"},on:{"change":_vm.changeUserSchool,"search":_vm.handleSearchSchool,"focus":_vm.handleSearchSchool},scopedSlots:_vm._u([{key:"dropdownRender",fn:function(menu){return _c(\'div\',{},[_c(\'v-nodes\',{attrs:{"vnodes":menu}}),(_vm.ifShowCreate)?_c(\'div\',[_c(\'a-divider\',{staticStyle:{"margin":"4px 0"}}),_c(\'div\',{staticStyle:{"padding":"4px 8px","cursor":"pointer"},on:{"mousedown":function (e) { return e.preventDefault(); },"click":function($event){return _vm.handleCreateSchool(\'userForm\')}}},[_vm._v(" Create School: "),_c(\'a-tag\',{attrs:{"color":"#15c39a"}},[_vm._v(_vm._s(_vm.createSchoolName))])],1)],1):_vm._e()],1)}}]),model:{value:(_vm.userForm.schoolId),callback:function ($$v) {_vm.$set(_vm.userForm, "schoolId", $$v)},expression:"userForm.schoolId"}},_vm._l((_vm.myCreateSchoolOptions.concat( _vm.schoolOptions)),function(schoolOption){return _c(\'a-select-option\',{key:schoolOption.id,attrs:{"value":schoolOption.id,"label":schoolOption.name}},[_c(\'label\',{staticStyle:{"display":"flex","justify-content":"space-between"}},[_c(\'span\',[_vm._v(_vm._s(schoolOption.name))]),_c(\'a-tag\',{directives:[{name:"show",rawName:"v-show",value:(schoolOption.country),expression:"schoolOption.country"}],attrs:{"type":"primary"}},[_vm._v(_vm._s(schoolOption.country))])],1)])}),1)],1),_c(\'a-form-model-item\',{attrs:{"prop":"country","label":"Country/Region"}},[_c(\'a-select\',{attrs:{"show-search":"","placeholder":"Please Select a Country","option-filter-prop":"children","filter-option":_vm.filterOptions,"getPopupContainer":function (target) { return target.parentNode; }},model:{value:(_vm.userForm.country),callback:function ($$v) {_vm.$set(_vm.userForm, "country", $$v)},expression:"userForm.country"}},_vm._l((_vm.countries),function(param){return _c(\'a-select-option\',{key:\'country_\' + param.en,attrs:{"value":param.en}},[_vm._v(" "+_vm._s(param.en)+" ")])}),1)],1),_c(\'a-form-model-item\',{attrs:{"label":"Your Personalized Message (Optional)"}},[_c(\'a-textarea\',{attrs:{"auto-size":{ minRows: 3},"size":"large","placeholder":"input your personalized message"},model:{value:(_vm.userForm.personalizedMessage),callback:function ($$v) {_vm.$set(_vm.userForm, "personalizedMessage", $$v)},expression:"userForm.personalizedMessage"}})],1),_c(\'a-form-model-item\',{staticStyle:{"text-align":"right"}},[_c(\'a-button\',{attrs:{"type":"primary","html-type":"submit","loading":_vm.confirmLoading},on:{"click":_vm.doSaveUserForm}},[_vm._v(" Send ")])],1)],1),_c(\'a-form-model\',{directives:[{name:"show",rawName:"v-show",value:(_vm.adminFormVisible),expression:"adminFormVisible"}],ref:"adminForm",staticClass:"account-info-form",attrs:{"layout":"vertical","model":_vm.adminForm,"rules":_vm.validatorRules}},[_c(\'a-row\',{attrs:{"gutter":16}},[_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"label":"Your Frist Name","prop":"firstname"}},[_c(\'a-input\',{attrs:{"size":"large","placeholder":"input your first name"},model:{value:(_vm.adminForm.firstname),callback:function ($$v) {_vm.$set(_vm.adminForm, "firstname", $$v)},expression:"adminForm.firstname"}})],1)],1),_c(\'a-col\',{attrs:{"span":12}},[_c(\'a-form-model-item\',{attrs:{"label":"Your Last Name","prop":"lastname"}},[_c(\'a-input\',{attrs:{"size":"large","placeholder":"input your last Name"},model:{value:(_vm.adminForm.lastname),callback:function ($$v) {_vm.$set(_vm.adminForm, "lastname", $$v)},expression:"adminForm.lastname"}})],1)],1)],1),_c(\'a-form-model-item\',{attrs:{"label":"Email","prop":"email"}},[_c(\'a-input\',{attrs:{"placeholder":"Please Input Email"},model:{value:(_vm.adminForm.email),callback:function ($$v) {_vm.$set(_vm.adminForm, "email", $$v)},expression:"adminForm.email"}})],1),_c(\'a-form-model-item\',{key:"School",attrs:{"label":"School","prop":"schoolId"}},[_c(\'a-select\',{attrs:{"placeholder":"Please select school","show-search":"","default-active-first-option":false,"show-arrow":false,"filter-option":false,"not-found-content":null,"option-label-prop":"label"},on:{"change":_vm.changeAdminSchool,"search":_vm.handleSearchSchool,"focus":_vm.handleSearchSchool},scopedSlots:_vm._u([{key:"dropdownRender",fn:function(menu){return _c(\'div\',{},[_c(\'v-nodes\',{attrs:{"vnodes":menu}}),(_vm.ifShowCreate)?_c(\'div\',[_c(\'a-divider\',{staticStyle:{"margin":"4px 0"}}),_c(\'div\',{staticStyle:{"padding":"4px 8px","cursor":"pointer"},on:{"mousedown":function (e) { return e.preventDefault(); },"click":function($event){return _vm.handleCreateSchool(\'adminForm\')}}},[_vm._v(" Create School: "),_c(\'a-tag\',{attrs:{"color":"#15c39a"}},[_vm._v(_vm._s(_vm.createSchoolName))])],1)],1):_vm._e()],1)}}]),model:{value:(_vm.adminForm.schoolId),callback:function ($$v) {_vm.$set(_vm.adminForm, "schoolId", $$v)},expression:"adminForm.schoolId"}},_vm._l((_vm.myCreateSchoolOptions.concat( _vm.schoolOptions)),function(schoolOption){return _c(\'a-select-option\',{key:schoolOption.id,attrs:{"value":schoolOption.id,"label":schoolOption.name}},[_c(\'label\',{staticStyle:{"display":"flex","justify-content":"space-between"}},[_c(\'span\',[_vm._v(_vm._s(schoolOption.name))]),_c(\'a-tag\',{directives:[{name:"show",rawName:"v-show",value:(schoolOption.country),expression:"schoolOption.country"}],attrs:{"type":"primary"}},[_vm._v(_vm._s(schoolOption.country))])],1)])}),1)],1),_c(\'a-form-model-item\',{attrs:{"prop":"country","label":"School Country"}},[_c(\'a-select\',{attrs:{"show-search":"","placeholder":"Please Select a Country","option-filter-prop":"children","filter-option":_vm.filterOptions,"getPopupContainer":function (target) { return target.parentNode; }},model:{value:(_vm.adminForm.country),callback:function ($$v) {_vm.$set(_vm.adminForm, "country", $$v)},expression:"adminForm.country"}},_vm._l((_vm.countries),function(param){return _c(\'a-select-option\',{key:\'adminCountry_\' + param.en,attrs:{"value":param.en}},[_vm._v(" "+_vm._s(param.en)+" ")])}),1)],1),_c(\'a-form-model-item\',{attrs:{"prop":"position","label":"Position"}},[_c(\'a-select\',{attrs:{"placeholder":"Please Select a Position","getPopupContainer":function (target) { return target.parentNode; }},model:{value:(_vm.adminForm.position),callback:function ($$v) {_vm.$set(_vm.adminForm, "position", $$v)},expression:"adminForm.position"}},_vm._l((_vm.positions),function(param){return _c(\'a-select-option\',{key:\'position_\' + param,attrs:{"value":param}},[_vm._v(" "+_vm._s(param)+" ")])}),1),_c(\'a-form-model-item\',{directives:[{name:"show",rawName:"v-show",value:(_vm.adminForm.position === \'Other position\'),expression:"adminForm.position === \'Other position\'"}],staticStyle:{"margin-top":"20px"},attrs:{"prop":"positionInput","label":""}},[_c(\'a-input\',{attrs:{"placeholder":"Please Input Position"},model:{value:(_vm.adminForm.positionInput),callback:function ($$v) {_vm.$set(_vm.adminForm, "positionInput", $$v)},expression:"adminForm.positionInput"}})],1)],1),_c(\'a-form-model-item\',{attrs:{"label":"I Would Like a Quote For"}},[_c(\'a-radio-group\',{model:{value:(_vm.adminForm.planFor),callback:function ($$v) {_vm.$set(_vm.adminForm, "planFor", $$v)},expression:"adminForm.planFor"}},[_c(\'a-radio\',{attrs:{"value":"1"}},[_vm._v(" Plan for my school ")]),_c(\'a-radio\',{attrs:{"value":"2"}},[_vm._v(" Plan for a group ")])],1)],1),_c(\'a-form-model-item\',{attrs:{"label":"Notes"}},[_c(\'a-input\',{attrs:{"placeholder":"Please Input Notes"},model:{value:(_vm.adminForm.notes),callback:function ($$v) {_vm.$set(_vm.adminForm, "notes", $$v)},expression:"adminForm.notes"}})],1),_c(\'a-form-model-item\',{staticStyle:{"text-align":"right"}},[_c(\'a-button\',{attrs:{"type":"primary","html-type":"submit","loading":_vm.confirmLoading},on:{"click":_vm.doSaveAdminForm}},[_vm._v(" Send ")])],1)],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/settings/BasicSetting.vue?vue&type=template&id=3a671751&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__("2909");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__("5530");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js\nvar es_array_map = __webpack_require__("d81d");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__("99af");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.find.js\nvar es_array_find = __webpack_require__("7db0");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__("b0c0");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__("4de4");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__("159b");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.includes.js\nvar es_array_includes = __webpack_require__("caad");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.includes.js\nvar es_string_includes = __webpack_require__("2532");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__("d3b7");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.iterator.js\nvar es_string_iterator = __webpack_require__("3ca3");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__("ddb0");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.join.js\nvar es_array_join = __webpack_require__("a15b");\n\n// EXTERNAL MODULE: ./src/views/account/settings/AvatarModal.vue + 4 modules\nvar AvatarModal = __webpack_require__("8d90");\n\n// EXTERNAL MODULE: ./src/utils/logger.js\nvar logger = __webpack_require__("823b");\n\n// EXTERNAL MODULE: ./src/api/user.js\nvar user = __webpack_require__("c24f");\n\n// EXTERNAL MODULE: ./src/api/preference.js\nvar preference = __webpack_require__("d597");\n\n// EXTERNAL MODULE: ./src/api/school.js\nvar api_school = __webpack_require__("caa4");\n\n// EXTERNAL MODULE: ./src/api/schoolUser.js\nvar schoolUser = __webpack_require__("4e8a");\n\n// EXTERNAL MODULE: ./src/components/UnitPlan/TagSetting.vue + 4 modules\nvar TagSetting = __webpack_require__("b842");\n\n// EXTERNAL MODULE: ./src/api/subject.js\nvar api_subject = __webpack_require__("c418");\n\n// EXTERNAL MODULE: ./src/api/schoolPrinciple.js\nvar schoolPrinciple = __webpack_require__("4d59");\n\n// EXTERNAL MODULE: ./src/api/quotation.js\nvar quotation = __webpack_require__("e0dd");\n\n// EXTERNAL MODULE: ./src/api/v2/country.js\nvar country = __webpack_require__("b2b5");\n\n// EXTERNAL MODULE: ./src/const/common.js\nvar common = __webpack_require__("f93e");\n\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js\nvar vuex_esm = __webpack_require__("2f62");\n\n// EXTERNAL MODULE: ./src/mixins/UserModeMixin.js\nvar UserModeMixin = __webpack_require__("6e84");\n\n// EXTERNAL MODULE: ./src/mixins/CurrentSchoolMixin.js\nvar CurrentSchoolMixin = __webpack_require__("21fb");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/settings/BasicSetting.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _require = __webpack_require__("4fcf"),\n    debounce = _require.debounce;\n\n/* harmony default export */ var BasicSettingvue_type_script_lang_js_ = ({\n  name: \'BasicSetting\',\n  mixins: [UserModeMixin["a" /* UserModeMixin */], CurrentSchoolMixin["a" /* CurrentSchoolMixin */]],\n  components: {\n    AvatarModal: AvatarModal["a" /* default */],\n    TagSetting: TagSetting["a" /* default */],\n    VNodes: {\n      functional: true,\n      render: function render(h, ctx) {\n        return ctx.props.vnodes;\n      }\n    }\n  },\n  data: function data() {\n    return {\n      USER_MODE: common["U" /* USER_MODE */],\n      loadSaving: false,\n      curriculumList: [],\n      subjectList: [],\n      gradeList: [],\n      userInfo: {\n        avatar: \'\',\n        nickname: \'\',\n        tempNickname: \'\',\n        email: this.$store.getters.email,\n        currentRole: \'\',\n        createTime: null,\n        curriculumId: this.$store.getters.bindCurriculum,\n        curriculumName: null,\n        gradeNameList: [],\n        areaNameList: [],\n        subjects: [],\n        gradeIds: [],\n        areaIds: [],\n        others: null,\n        tempOthers: null,\n        age: 5\n      },\n      currentArea: null,\n      otherAreaId: null,\n      currentCurriculum: null,\n      curriculumOptions: [],\n      subjectOptions: [],\n      gradeOptions: [],\n      areaOptions: [],\n      customizedTags: [],\n      customizedTagIds: [],\n      loading: true,\n      editMode: false,\n      settingVisible: false,\n      disableQuestion: this.$store.getters.disableQuestion,\n      subjectType: common["M" /* SubjectType */],\n      ageList: [5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18],\n      userFormVisible: false,\n      adminFormVisible: false,\n      confirmLoading: false,\n      userForm: {\n        layout: \'vertical\',\n        firstname: \'\',\n        lastname: \'\',\n        email: \'\',\n        principleFirstname: \'\',\n        principleLastname: \'\',\n        principleEmail: \'\',\n        schoolId: undefined,\n        schoolName: undefined,\n        country: undefined,\n        personalizedMessage: \'\'\n      },\n      adminForm: {\n        layout: \'vertical\',\n        position: \'Teacher\',\n        positionInfo: \'Teacher\',\n        positionInput: \'\',\n        firstname: \'\',\n        lastname: \'\',\n        email: \'\',\n        schoolId: undefined,\n        schoolName: undefined,\n        country: undefined\n      },\n      countries: [],\n      positions: [\'Teacher\', \'School administrator\', \'Principle/Deputy principle\', \'Other position\'],\n      schoolOptions: [],\n      myCreateSchoolOptions: [],\n      createSchoolName: \'\',\n      schoolUserInfo: {}\n    };\n  },\n  watch: {\n    \'userInfo.curriculumId\': function userInfoCurriculumId(val) {\n      logger["info"](\'userInfo.curriculumId change\', val);\n      this.loadSubjectByCurriculumId(val);\n    }\n  },\n  computed: Object(objectSpread2["a" /* default */])(Object(objectSpread2["a" /* default */])({}, Object(vuex_esm["e" /* mapState */])({\n    userInfoStore: function userInfoStore(state) {\n      return state.user.info;\n    },\n    currentRole: function currentRole(state) {\n      return state.user.currentRole;\n    },\n    userMode: function userMode(state) {\n      return state.app.userMode;\n    },\n    currentSchool: function currentSchool(state) {\n      return state.user.currentSchool;\n    }\n  })), {}, {\n    canEdit: function canEdit() {\n      if (this.userMode === common["U" /* USER_MODE */].SELF) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    rolesName: function rolesName() {\n      var _this = this;\n\n      if (this.userMode === common["U" /* USER_MODE */].SCHOOL) {\n        return this.currentSchool.roleNames.map(function (item) {\n          return _this.upperCaseName(item);\n        });\n      } else {\n        return [this.upperCaseName(this.userInfoStore.currentRole)];\n      }\n    },\n    linkedSchool: function linkedSchool() {\n      if (this.userMode === common["U" /* USER_MODE */].SELF) {\n        return this.userInfoStore.schoolList.map(function (item) {\n          return item.schoolName;\n        });\n      } else {\n        return this.currentSchool.schoolName ? [this.currentSchool.schoolName] : [];\n      }\n    },\n    ifShowCreate: function ifShowCreate() {\n      var _this2 = this;\n\n      var list = [].concat(Object(toConsumableArray["a" /* default */])(this.myCreateSchoolOptions), Object(toConsumableArray["a" /* default */])(this.schoolOptions));\n      var findOne = list.find(function (item) {\n        return item.name === _this2.createSchoolName;\n      });\n      return this.createSchoolName && !findOne;\n    },\n    subjectOptionsFilter: function subjectOptionsFilter() {\n      if (this.$store.getters.currentRole === \'student\') {\n        return this.subjectOptions;\n      }\n\n      return this.subjectOptions ? this.subjectOptions.filter(function (subject) {\n        return subject.subjectType === common["M" /* SubjectType */].Skill || subject.subjectType === common["M" /* SubjectType */].LearnAndSkill;\n      }) : [];\n    },\n    validatorRules: function validatorRules() {\n      return {\n        firstname: [{\n          required: true,\n          message: \'Please Input First Name!\'\n        }],\n        lastname: [{\n          required: true,\n          message: \'Please Input Last Name!\'\n        }],\n        email: [{\n          required: true,\n          message: \'Please Input Email!\'\n        }, {\n          required: false,\n          type: \'email\',\n          message: \'The email is not correct!\',\n          trigger: \'blur\'\n        }],\n        principleFirstname: [{\n          required: true,\n          message: \'Please Input First Name!\'\n        }],\n        principleLastname: [{\n          required: true,\n          message: \'Please Input Last Name!\'\n        }],\n        principleEmail: [{\n          required: true,\n          message: \'Please Input Email!\'\n        }, {\n          required: false,\n          type: \'email\',\n          message: \'The email is not correct!\',\n          trigger: \'blur\'\n        }],\n        schoolId: [{\n          required: true,\n          message: \'Please Select a School!\'\n        }],\n        country: [{\n          required: true,\n          message: \'Please Select a Country!\'\n        }]\n      };\n    },\n    validatorAdminRules: function validatorAdminRules() {\n      return {\n        firstname: [{\n          required: true,\n          message: \'Please Input First Name!\'\n        }],\n        lastname: [{\n          required: true,\n          message: \'Please Input Last Name!\'\n        }],\n        email: [{\n          required: true,\n          message: \'Please Input Email!\'\n        }, {\n          required: false,\n          type: \'email\',\n          message: \'The email is not correct!\',\n          trigger: \'blur\'\n        }],\n        position: [{\n          required: true,\n          message: \'Please Select a Position!\'\n        }],\n        positionInput: [{\n          required: this.adminForm.position === \'Other position\',\n          message: \'Please Input Position!\'\n        }],\n        countryId: [{\n          required: true,\n          message: \'Please Select a Country!\'\n        }],\n        country: [{\n          required: true,\n          message: \'Please Select a Country!\'\n        }]\n      };\n    }\n  }),\n  created: function created() {\n    this.debouncedSearchSchool = debounce(this.searchSchool, 500);\n    this.debounceGetUserInfo = debounce(this.getUserInfo, 500);\n    this.getUserInfo(this.currentSchool);\n    this.initDict();\n  },\n  methods: {\n    initDict: function initDict() {\n      var _this3 = this;\n\n      Object(country["b" /* getCountry */])({}).then(function (res) {\n        _this3.countries = res;\n      });\n    },\n    initBasic: function initBasic() {\n      var _this4 = this;\n\n      this.userInfo.subjects = [];\n      this.userInfo.gradeNameList = [];\n      this.userInfo.areaNameList = [];\n      this.userInfo.avatar = this.userInfoStore.avatar;\n      this.userInfo.firstname = this.userInfoStore.firstname;\n      this.userInfo.lastname = this.userInfoStore.lastname;\n      this.userInfo.nickname = this.userInfoStore.nickname;\n      this.userInfo.tempNickname = this.userInfoStore.nickname;\n      this.userInfo.currentRole = this.userInfoStore.currentRole;\n      this.userInfo.createTime = this.userInfoStore.createTime; // 区分个人和学校\n\n      if (this.userMode === common["U" /* USER_MODE */].SELF) {\n        this.userInfo.curriculumId = this.userInfoStore.bindCurriculum;\n        this.userInfo.subjects = this.userInfoStore.preference.subjects;\n        this.userInfo.gradeIds = this.userInfoStore.preference.gradeIds;\n      } else {\n        this.userInfo.curriculumId = this.currentSchool.curriculumId || this.userInfoStore.bindCurriculum;\n        this.userInfo.subjects = this.schoolUserInfo.classes ? this.schoolUserInfo.classes.map(function (item) {\n          return item.subject;\n        }) : [];\n        this.userInfo.gradeIds = this.schoolUserInfo.grades;\n      }\n\n      this.userInfo.areaIds = this.userInfoStore.preference.areaIds;\n      this.userInfo.others = this.userInfoStore.preference.others;\n      this.userInfo.age = this.userInfoStore.age;\n      this.userForm.firstname = this.userInfoStore.firstname;\n      this.userForm.lastname = this.userInfoStore.lastname;\n      this.userForm.email = this.userInfoStore.email;\n      this.adminForm.firstname = this.userInfoStore.firstname;\n      this.adminForm.lastname = this.userInfoStore.lastname;\n      this.adminForm.email = this.userInfoStore.email;\n      this.customizedTagIds = [];\n      this.$store.getters.userInfo.customizedTags.forEach(function (item) {\n        _this4.customizedTagIds.push({\n          \'label\': item.name,\n          \'value\': item.id\n        });\n      });\n\n      if (this.gradeOptions && this.gradeOptions.length > 0 && this.userInfo.gradeIds && this.userInfo.gradeIds.length > 0) {\n        this.userInfo.gradeNameList = this.gradeOptions.filter(function (item) {\n          return _this4.userInfo.gradeIds.includes(item.id);\n        }).map(function (item) {\n          return item.name;\n        });\n      }\n\n      this.$logger.info(\'user info loaded\', this.userInfo);\n    },\n    initData: function initData() {\n      var _this5 = this;\n\n      this.$logger.info(\'init data\');\n      this.initBasic();\n      this.loading = true;\n\n      if (this.$store.getters.currentRole === \'teacher\') {\n        Promise.all([Object(preference["e" /* getAllCurriculums */])(), Object(preference["a" /* GetGradesByCurriculumId */])({\n          curriculumId: this.userInfo.curriculumId\n        }), Object(preference["f" /* getAllSubjectsByCurriculumId */])({\n          curriculumId: this.userInfo.curriculumId\n        }), Object(preference["g" /* getCustomizedTags */])()]).then(function (response) {\n          _this5.$logger.info(\'init data\', response);\n\n          if (!response[0].code) {\n            logger["info"](\'getAllCurriculums response\', response[0]);\n            _this5.curriculumOptions = response[0].result;\n\n            _this5.curriculumOptions.forEach(function (item) {\n              if (item.id === _this5.userInfo.curriculumId) {\n                _this5.userInfo.curriculumName = item.name;\n              }\n            });\n          }\n\n          if (!response[1].code) {\n            _this5.userInfo.gradeNameList = [];\n            _this5.gradeOptions = response[1].result;\n\n            _this5.gradeOptions.forEach(function (item) {\n              if (_this5.userInfo.gradeIds.indexOf(item.id) !== -1) {\n                _this5.userInfo.gradeNameList.push(item.name);\n              }\n            });\n          }\n\n          if (!response[2].code) {\n            _this5.userInfo.subjectNameList = [];\n            logger["info"](\'SubjectTree response\', response[2]);\n            _this5.subjectOptions = response[2].result; // this.subjectOptions.forEach(option => {\n            //   if (this.userInfo.subjectIds.indexOf(option.id) !== -1 && this.userInfo.subjectNameList.indexOf(option.name) === -1) {\n            //     this.userInfo.subjectNameList.push(option.name)\n            //   } else {\n            //     this.$logger.info(\'subject id \' + option.id + \' dont exist in \', this.userInfo.subjectIds)\n            //   }\n            // })\n          }\n\n          if (!response[3].code) {\n            logger["info"](\'getCustomizedTags response\', response[3]);\n            _this5.customizedTags = response[3].result;\n\n            _this5.customizedTags.forEach(function (item) {\n              item.selectable = item.children.length === 0;\n            });\n          }\n\n          _this5.loading = false;\n        }).catch(function (err) {\n          _this5.$message.error(err);\n        }).finally(function () {\n          _this5.loading = false;\n        });\n      } else {\n        Promise.all([Object(preference["d" /* getAllAreas */])(), Object(api_subject["SubjectStudentList"])()]).then(function (response) {\n          _this5.$logger.info(\'init data\', response);\n\n          if (!response[0].code) {\n            logger["info"](\'getAllAreas response\', response[0]);\n            _this5.areaOptions = response[0].result;\n\n            _this5.areaOptions.forEach(function (item) {\n              if (_this5.userInfo.areaIds.indexOf(item.id) !== -1) {\n                _this5.userInfo.areaNameList.push(item.name);\n\n                _this5.currentArea = item;\n\n                if (item.name === \'Others\') {\n                  _this5.userInfo.tempOthers = _this5.userInfo.others && _this5.userInfo.others.length ? _this5.userInfo.others[0] : null;\n                }\n              }\n\n              if (item.name === \'Others\') {\n                _this5.otherAreaId = item.id;\n              }\n            });\n          }\n\n          if (!response[1].code) {\n            logger["info"](\'SubjectTree response\', response[1]);\n            _this5.subjectOptions = response[1].result; // this.userInfo.subjectNameList = []\n            // this.subjectOptions.forEach(option => {\n            //   if (this.userInfo.subjectIds.indexOf(option.id) !== -1) {\n            //     this.userInfo.subjectNameList.push(option.name)\n            //   } else {\n            //     this.$logger.info(\'subject id \' + option.id + \' dont exist in \', this.userInfo.subjectIds)\n            //   }\n            // })\n          }\n\n          _this5.loading = false;\n        }).catch(function (err) {\n          _this5.$message.error(err);\n        }).finally(function () {\n          _this5.loading = false;\n        });\n      }\n    },\n    getUserInfo: function getUserInfo(currentSchool) {\n      var _this6 = this;\n\n      if (!this.userInfoStore.username) return;\n\n      Object(schoolUser["h" /* getUserInfo */])({\n        schoolId: currentSchool.id,\n        username: this.userInfoStore.username\n      }).then(function (res) {\n        if (res.success) {\n          _this6.schoolUserInfo = Object(objectSpread2["a" /* default */])({}, res.result);\n\n          _this6.initData();\n        }\n      });\n    },\n    handleSchoolChange: function handleSchoolChange(currentSchool) {\n      if (this.userMode === common["U" /* USER_MODE */].SCHOOL) {\n        this.debounceGetUserInfo(currentSchool);\n      }\n    },\n    handleModeChange: function handleModeChange(userMode) {\n      this.debounceGetUserInfo(this.currentSchool);\n    },\n    handleSelectCurriculumOption: function handleSelectCurriculumOption(curriculum) {\n      logger["info"](\'handleSelectCurriculumOption\', curriculum);\n\n      if (this.currentCurriculum === null || this.currentCurriculum.id !== curriculum.id) {\n        this.currentSubject = null;\n        this.userInfo.subjectIds = [];\n      }\n\n      this.currentCurriculum = curriculum;\n    },\n    handleSelectAreaOption: function handleSelectAreaOption(area) {\n      logger["info"](\'handleSelectAreaOption\', area);\n      this.currentArea = area;\n    },\n    loadSubjectByCurriculumId: function loadSubjectByCurriculumId(curriculumId) {\n      var _this7 = this;\n\n      this.$logger.info(\'loadSubjectByCurriculumId \' + curriculumId);\n      this.userInfo.subjectIds = [];\n      this.userInfo.gradeIds = [];\n      Object(preference["f" /* getAllSubjectsByCurriculumId */])({\n        curriculumId: curriculumId\n      }).then(function (response) {\n        logger["info"](\'subjectOptions\', response.result);\n        _this7.subjectOptions = response.result;\n      });\n      Object(preference["a" /* GetGradesByCurriculumId */])({\n        curriculumId: curriculumId\n      }).then(function (response) {\n        logger["info"](\'GetGradesByCurriculumId\', response);\n        _this7.gradeOptions = response.result;\n        logger["info"](\'gradeOptions\', _this7.gradeOptions);\n      });\n    },\n    setAvatar: function setAvatar(url) {\n      var _this8 = this;\n\n      logger["info"](\'setAvatar \' + url);\n      this.userInfo.avatar = url;\n      var userData = {\n        avatar: this.userInfo.avatar,\n        nickname: this.userInfo.tempNickname,\n        id: this.$store.getters.userInfo.id\n      };\n      Object(user["e" /* editUser */])(userData).then(function (response) {\n        _this8.$logger.info(\'update preference and edit user response\', response);\n      }).finally(function () {\n        _this8.$store.dispatch(\'GetInfo\').then(function () {\n          _this8.initData();\n        });\n      });\n    },\n    saveDetail: function saveDetail() {\n      var _this9 = this;\n\n      var postData = null;\n      this.loadSaving = true;\n\n      if (this.$store.getters.currentRole === \'expert\') {\n        postData = {\n          areaIds: Array.isArray(this.userInfo.areaIds) ? this.userInfo.areaIds : [this.userInfo.areaIds]\n        };\n\n        if (postData.areaIds.indexOf(this.otherAreaId) !== -1) {\n          this.$logger.info(\'others \', this.userInfo.tempOthers);\n\n          if (this.userInfo.tempOthers && this.userInfo.tempOthers.length <= 80) {\n            postData.others = [this.userInfo.tempOthers];\n          } else {\n            this.$message.warn(\'illegal [others] contents\');\n          }\n        }\n      } else if (this.$store.getters.currentRole === \'teacher\') {\n        postData = {\n          curriculumId: this.userInfo.curriculumId,\n          gradeIds: this.userInfo.gradeIds,\n          subjects: this.userInfo.subjects,\n          tagIds: this.customizedTagIds.map(function (item) {\n            return item.value;\n          })\n        };\n      } else if (this.$store.getters.currentRole === \'student\') {\n        postData = {\n          subjectIds: this.userInfo.subjectIds,\n          age: this.userInfo.age\n        };\n      }\n\n      this.$logger.info(\'tempNickname \', this.userInfo.tempNickname);\n\n      if (this.userInfo.tempNickname && this.userInfo.tempNickname.length < 80) {\n        var userData = {\n          avatar: this.userInfo.avatar,\n          nickname: this.userInfo.tempNickname,\n          id: this.$store.getters.userInfo.id,\n          currentRole: this.userInfo.currentRole\n        };\n        this.$logger.info(\'update preference and edit user post data\', postData, userData);\n        var promises = [Object(user["e" /* editUser */])(userData)]; // 学校模式下不能修改\n\n        if (this.canEdit) {\n          promises.push(Object(preference["c" /* addPreference */])(postData));\n        }\n\n        Promise.all(promises).then(function (response) {\n          _this9.$logger.info(\'update preference and edit user response\', response);\n        }).finally(function () {\n          _this9.$store.dispatch(\'GetInfo\').then(function () {\n            _this9.initData();\n\n            _this9.editMode = false;\n            _this9.loadSaving = false;\n          });\n        });\n      } else {\n        this.$message.warn(\'illegal nickname\');\n      }\n    },\n    cancelDetail: function cancelDetail() {\n      this.initBasic();\n      this.editMode = false;\n    },\n    onChange: function onChange(value) {\n      if (!value) {\n        this.$emit(\'change\', \'\');\n        this.treeValue = null;\n      } else if (value instanceof Array) {\n        this.$emit(\'change\', value.map(function (item) {\n          return item.value;\n        }).join(\',\'));\n        this.treeValue = value;\n      } else {\n        this.$emit(\'change\', value.value, value.label);\n        this.treeValue = value;\n      }\n    },\n    onSearch: function onSearch(value) {},\n    handleSetting: function handleSetting() {\n      this.settingVisible = true;\n    },\n    onChangeSwitch: function onChangeSwitch(checked) {\n      var _this10 = this;\n\n      this.disableQuestion = !checked;\n      Object(user["d" /* UserSetting */])({\n        disableQuestion: this.disableQuestion\n      }).then(function (response) {\n        _this10.$logger.info(\'UserSetting\', response.result);\n\n        if (response.success) {\n          _this10.$store.dispatch(\'GetInfo\');\n        } else {\n          _this10.$message.error(response.message);\n        }\n      }).finally(function () {});\n    },\n    filterOptions: function filterOptions(input, option) {\n      return option.componentOptions.children[0].text.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n    },\n    changeUserSchool: function changeUserSchool(schoolId) {\n      var list = [].concat(Object(toConsumableArray["a" /* default */])(this.myCreateSchoolOptions), Object(toConsumableArray["a" /* default */])(this.schoolOptions));\n      var findOne = list.find(function (item) {\n        return item.id === schoolId;\n      });\n\n      if (findOne) {\n        findOne.country && (this.userForm.country = findOne.country);\n        this.userForm.schoolName = findOne.name;\n      }\n    },\n    changeAdminSchool: function changeAdminSchool(schoolId) {\n      var list = [].concat(Object(toConsumableArray["a" /* default */])(this.myCreateSchoolOptions), Object(toConsumableArray["a" /* default */])(this.schoolOptions));\n      var findOne = list.find(function (item) {\n        return item.id === schoolId;\n      });\n\n      if (findOne) {\n        findOne.country && (this.adminForm.country = findOne.country);\n        this.adminForm.schoolName = findOne.name;\n      }\n    },\n    doSaveUserForm: function doSaveUserForm() {\n      var _this11 = this;\n\n      this.$refs.userForm.validate(function (valid) {\n        if (valid) {\n          // 同名 同国家 才是同学校，否则不是同学校\n          var school = _this11.myCreateSchoolOptions.find(function (item) {\n            return item.id === _this11.userForm.schoolId;\n          });\n\n          var createdSchool = _this11.schoolOptions.find(function (item) {\n            return item.id === _this11.userForm.schoolId;\n          });\n\n          if (school || createdSchool && api_school["a" /* createSchool */].country !== _this11.userForm.country) {\n            _this11.confirmLoading = true;\n            Object(api_school["a" /* createSchool */])({\n              name: (school || createdSchool).name,\n              country: _this11.userForm.country,\n              principleEmail: _this11.userForm.principleEmail,\n              principleFirstname: _this11.userForm.principleFirstname,\n              principleLastname: _this11.userForm.principleLastname,\n              curriculumId: _this11.userInfo.curriculumId\n            }).then(function (res) {\n              if (res.success) {\n                if (school) {\n                  school.id = res.result.id;\n                }\n\n                if (createdSchool) {\n                  _this11.schoolOptions.push({\n                    id: res.result.id,\n                    name: res.result.name\n                  });\n                }\n\n                _this11.userForm.schoolId = res.result.id;\n                _this11.userForm.schoolName = res.result.name;\n                Object(schoolPrinciple["a" /* SchoolPrincipleSave */])(_this11.userForm).then(function (res) {\n                  if (res.success) {\n                    _this11.$message.success(\'Send successfully\');\n\n                    _this11.userFormVisible = false;\n                  }\n                });\n              }\n            }).finally(function (res) {\n              _this11.confirmLoading = false;\n            });\n          } else {\n            _this11.confirmLoading = true;\n            Object(schoolPrinciple["a" /* SchoolPrincipleSave */])(_this11.userForm).then(function (res) {\n              if (res.success) {\n                _this11.$message.success(\'Send successfully\');\n\n                _this11.userFormVisible = false;\n              }\n            }).finally(function (res) {\n              _this11.confirmLoading = false;\n            });\n          }\n        }\n      });\n    },\n    doSaveAdminForm: function doSaveAdminForm() {\n      var _this12 = this;\n\n      this.$refs.adminForm.validate(function (valid) {\n        if (valid) {\n          var school = _this12.myCreateSchoolOptions.find(function (item) {\n            return item.id === _this12.adminForm.schoolId;\n          });\n\n          var createdSchool = _this12.schoolOptions.find(function (item) {\n            return item.id === _this12.adminForm.schoolId;\n          }); // if (school || (createdSchool && createSchool.country !== this.adminForm.country)) {\n          //   this.confirmLoading = true\n          //   createSchool({\n          //     name: (school || createdSchool).name,\n          //     country: this.adminForm.country,\n          //     principleEmail: this.adminForm.email,\n          //     principleFirstname: this.adminForm.firstname,\n          //     principleLastname: this.adminForm.lastname,\n          //     curriculumId: this.userInfo.curriculumId\n          //   }).then(res => {\n          //     if (res.success) {\n          //       if (school) {\n          //         school.id = res.result.id\n          //       }\n          //       if (createdSchool) {\n          //         this.schoolOptions.push({\n          //           id: res.result.id,\n          //           name: res.result.name\n          //         })\n          //       }\n          //       this.adminForm.schoolId = res.result.id\n          //       this.adminForm.schoolName = res.result.name\n          //       QuotationAddOrUpdate(this.adminForm).then(res => {\n          //         if (res.success) {\n          //           this.$message.success(\'Send successfully\')\n          //         }\n          //       })\n          //     }\n          //   }).finally(res => {\n          //     this.confirmLoading = false\n          //   })\n          // } else {\n\n\n          _this12.confirmLoading = true;\n\n          if (school || createdSchool && api_school["a" /* createSchool */].country !== _this12.adminForm.country) {\n            _this12.adminForm.schoolId = null;\n          }\n\n          Object(quotation["a" /* QuotationAddOrUpdate */])(_this12.adminForm).then(function (res) {\n            if (res.success) {\n              _this12.$message.success(\'Send successfully\');\n\n              _this12.userFormVisible = false;\n              _this12.adminFormVisible = false;\n            }\n          }).finally(function (res) {\n            _this12.confirmLoading = false;\n          }); // }\n        }\n      });\n    },\n    handleSearchSchool: function handleSearchSchool(value) {\n      this.createSchoolName = value;\n      this.debouncedSearchSchool(value);\n    },\n    searchSchool: function searchSchool(value) {\n      var _this13 = this;\n\n      if (!value) return;\n      Object(api_school["b" /* getSchools */])({\n        // curriculumId: this.userInfo.curriculumId,\n        name: value\n      }).then(function (res) {\n        logger["info"](\'schools\', res);\n\n        if (res.success) {\n          _this13.schoolOptions = res.result || [];\n        } else {\n          _this13.schoolOptions = [];\n        }\n      });\n    },\n    handleCreateSchool: function handleCreateSchool(formName) {\n      // 保存的时候在真正创建学校\n      var res = {\n        id: new Date().getTime(),\n        name: this.createSchoolName\n      };\n      this.myCreateSchoolOptions.push(res);\n    },\n    upperCaseName: function upperCaseName(name) {\n      return name.substr(0, 1).toUpperCase() + name.substr(1);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/settings/BasicSetting.vue?vue&type=script&lang=js&\n /* harmony default export */ var settings_BasicSettingvue_type_script_lang_js_ = (BasicSettingvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/account/settings/BasicSetting.vue?vue&type=style&index=0&id=3a671751&lang=less&scoped=true&\nvar BasicSettingvue_type_style_index_0_id_3a671751_lang_less_scoped_true_ = __webpack_require__("8524");\n\n// EXTERNAL MODULE: ./node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("0c7c");\n\n// CONCATENATED MODULE: ./src/views/account/settings/BasicSetting.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["a" /* default */])(\n  settings_BasicSettingvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  "3a671751",\n  null\n  \n)\n\n/* harmony default export */ var BasicSetting = __webpack_exports__["default"] = (component.exports);\n\n//# sourceURL=webpack:///./src/views/account/settings/BasicSetting.vue_+_4_modules?')},"21fb":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CurrentSchoolMixin; });\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("b0c0");\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__);\n\nvar CurrentSchoolMixin = {\n  data: function data() {\n    return {\n      unwatch: null,\n      routeName: this.$route.name\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.unwatch = this.$store.watch(function (state) {\n      return state.user.currentSchool;\n    }, function (currentSchool) {\n      return currentSchool && _this.$route.name === _this.routeName && _this.handleSchoolChange(currentSchool);\n    });\n  },\n  computed: {},\n  beforeDestroy: function beforeDestroy() {\n    this.unwatch && this.unwatch();\n  },\n  methods: {\n    // 默认方法，各个组件可自定义覆盖此方法\n    handleSchoolChange: function handleSchoolChange(currentSchool) {}\n  }\n};\n\n//# sourceURL=webpack:///./src/mixins/CurrentSchoolMixin.js?')},4992:function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__.p + "img/default-avatar.db1c5445.png";\n\n//# sourceURL=webpack:///./src/assets/icons/library/default-avatar.png?')},"4c77":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_AvatarModal_vue_vue_type_style_index_0_id_06163b63_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("178d");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_AvatarModal_vue_vue_type_style_index_0_id_06163b63_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_AvatarModal_vue_vue_type_style_index_0_id_06163b63_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/account/settings/AvatarModal.vue?')},"4d59":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export schoolPrincipleApiUrl */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SchoolPrincipleSave; });\n/* unused harmony export SchoolPrincipleList */\n/* unused harmony export SchoolPrincipleDelete */\n/* unused harmony export SchoolPrincipleGetBySchoolId */\n/* unused harmony export SchoolPrincipleQueryById */\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("b775");\n\nvar API_PREFIX = \'schoolPrinciple\';\nvar schoolPrincipleApiUrl = {\n  SchoolPrincipleList: "/classcipe/school/".concat(API_PREFIX, "/list"),\n  SchoolPrincipleDelete: "/classcipe/school/".concat(API_PREFIX, "/delete"),\n  SchoolPrincipleGetBySchoolId: "/classcipe/school/".concat(API_PREFIX, "/getBySchoolId"),\n  SchoolPrincipleQueryById: "/classcipe/school/".concat(API_PREFIX, "/queryById"),\n  SchoolPrincipleSave: "/classcipe/school/".concat(API_PREFIX, "/save")\n};\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction SchoolPrincipleSave(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolPrincipleApiUrl.SchoolPrincipleSave,\n    method: \'post\',\n    data: parameter,\n    params: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction SchoolPrincipleList(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolPrincipleApiUrl.SchoolPrincipleList,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction SchoolPrincipleDelete(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolPrincipleApiUrl.SchoolPrincipleDelete,\n    method: \'delete\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction SchoolPrincipleGetBySchoolId(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolPrincipleApiUrl.SchoolPrincipleGetBySchoolId,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction SchoolPrincipleQueryById(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: schoolPrincipleApiUrl.SchoolPrincipleQueryById,\n    method: \'get\',\n    params: parameter\n  });\n}\n\n//# sourceURL=webpack:///./src/api/schoolPrinciple.js?')},"4e8a":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return schoolUserAPIUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return getSchoolRoleList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return getSchoolClassList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return addStaff; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return addStudent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return getOrCreateInvite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return checkInvite; });\n/* unused harmony export acceptInvite */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"k\", function() { return updateInvite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return getSchoolUsers; });\n/* unused harmony export queryUser */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"m\", function() { return updateUserStatus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return removeSchoolUser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return getUserInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"l\", function() { return updateProfile; });\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"b775\");\n\nvar schoolUserAPIUrl = {\n  getSchoolRoleList: '/classcipe/api/school/role/getRoles',\n  getSchoolClassList: '/classcipe/api/school/class/list',\n  addStaff: '/classcipe/api/school/user/addStaff',\n  addStudent: '/classcipe/api/school/user/addStudents',\n  getOrCreateInvite: '/classcipe/api/school/user/getOrCreateInvite',\n  checkInvite: '/classcipe/api/school/user/checkInvite',\n  acceptInvite: '/classcipe/api/school/user/acceptInvite',\n  updateInvite: '/classcipe/api/school/user/updateInvite',\n  getSchoolUsers: '/classcipe/api/school/user/getSchoolUsers',\n  queryUser: '/classcipe/api/school/user/queryUser',\n  updateUserStatus: '/classcipe/api/school/user/updateUserStatus',\n  importStaff: '/classcipe/api/school/user/importStaffByExcel',\n  importStudent: '/classcipe/api/school/user/importStudentByExcel',\n  exportInvalidStaff: '/classcipe/api/school/user/exportInvalidStaff',\n  exportInvalidStudent: '/classcipe/api/school/user/exportInvalidStudent',\n  removeSchoolUser: '/classcipe/api/school/user/removeSchoolUser',\n  getUserInfo: '/classcipe/api/school/user/getUserInfo',\n  updateProfile: '/classcipe/api/school/user/updateProfile'\n};\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction getSchoolRoleList(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: schoolUserAPIUrl.getSchoolRoleList,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction getSchoolClassList(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: schoolUserAPIUrl.getSchoolClassList,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction addStaff(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: schoolUserAPIUrl.addStaff,\n    method: 'post',\n    params: parameter\n  });\n}\nfunction addStudent(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: schoolUserAPIUrl.addStudent,\n    method: 'post',\n    params: parameter\n  });\n}\nfunction getOrCreateInvite(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: schoolUserAPIUrl.getOrCreateInvite,\n    method: 'post',\n    params: parameter\n  });\n}\nfunction checkInvite(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: schoolUserAPIUrl.checkInvite,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction acceptInvite(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: schoolUserAPIUrl.acceptInvite,\n    method: 'post',\n    params: parameter\n  });\n}\nfunction updateInvite(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: schoolUserAPIUrl.updateInvite,\n    method: 'post',\n    params: parameter\n  });\n}\nfunction getSchoolUsers(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: schoolUserAPIUrl.getSchoolUsers,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction queryUser(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: schoolUserAPIUrl.queryUser,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction updateUserStatus(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: schoolUserAPIUrl.updateUserStatus,\n    method: 'post',\n    params: parameter\n  });\n}\nfunction removeSchoolUser(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: schoolUserAPIUrl.removeSchoolUser,\n    method: 'post',\n    params: parameter\n  });\n}\nfunction getUserInfo(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: schoolUserAPIUrl.getUserInfo,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction updateProfile(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: schoolUserAPIUrl.updateProfile,\n    method: 'post',\n    data: parameter\n  });\n}\n\n//# sourceURL=webpack:///./src/api/schoolUser.js?")},"6e84":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return UserModeMixin; });\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"b0c0\");\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__);\n\nvar UserModeMixin = {\n  data: function data() {\n    return {\n      unwatch: null,\n      routeName: this.$route.name\n    };\n  },\n  computed: {\n    redirectUrl: function redirectUrl() {\n      return '/account/info?_=UserModeMixin:13'; // if (this.$store.state.user.currentRole === 'student') {\n      //   return '/student/main/my-task'\n      // } else {\n      // }\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.unwatch = this.$store.watch(function (state) {\n      return state.app.userMode;\n    }, function (userMode) {\n      if (userMode && _this.$route.name === _this.routeName) {\n        _this.handleModeChange(userMode);\n\n        _this.routeInMode();\n      }\n    });\n    this.routeInMode();\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unwatch && this.unwatch();\n  },\n  methods: {\n    // 判断路由是否存在\n    routeInMode: function routeInMode() {\n      if (this.$route.meta.mode && this.$route.meta.mode !== this.$store.state.app.userMode) {\n        // 返回公共页面\n        this.$router.push({\n          path: this.redirectUrl\n        });\n      }\n    },\n    // 默认方法,可覆盖\n    handleModeChange: function handleModeChange(userMode) {}\n  }\n};\n\n//# sourceURL=webpack:///./src/mixins/UserModeMixin.js?")},7715:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/UnitPlan/TagSetting.vue?./node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!./node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--10-oneOf-1-2!./node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options")},8524:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_BasicSetting_vue_vue_type_style_index_0_id_3a671751_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("0049");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_BasicSetting_vue_vue_type_style_index_0_id_3a671751_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_BasicSetting_vue_vue_type_style_index_0_id_3a671751_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/views/account/settings/BasicSetting.vue?')},"8d90":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"227a4198-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/settings/AvatarModal.vue?vue&type=template&id=06163b63&scoped=true&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'a-modal\',{attrs:{"title":_vm.$t(\'account.settings.avatar.edit\'),"visible":_vm.visible,"maskClosable":false,"confirmLoading":_vm.confirmLoading,"width":800,"footer":null},on:{"cancel":_vm.cancelHandel}},[_c(\'a-row\',[_c(\'a-col\',{style:({height: \'350px\'}),attrs:{"xs":24,"md":12}},[_c(\'vue-cropper\',{ref:"cropper",attrs:{"img":_vm.options.img,"info":true,"autoCrop":_vm.options.autoCrop,"autoCropWidth":_vm.options.autoCropWidth,"autoCropHeight":_vm.options.autoCropHeight,"fixedBox":_vm.options.fixedBox},on:{"realTime":_vm.realTime}})],1),_c(\'a-col\',{style:({height: \'350px\'}),attrs:{"xs":24,"md":12}},[_c(\'div\',{staticClass:"avatar-upload-preview"},[_c(\'img\',{style:(_vm.previews.img),attrs:{"src":_vm.previews.url}})])])],1),_c(\'br\'),_c(\'a-row\',[_c(\'a-col\',{attrs:{"lg":2,"md":2}},[_c(\'a-upload\',{attrs:{"name":"file","beforeUpload":_vm.beforeUpload,"showUploadList":false}},[_c(\'a-button\',{attrs:{"icon":"upload"}},[_vm._v(_vm._s(_vm.$t(\'account.settings.avatar.select-image\')))])],1)],1),_c(\'a-col\',{attrs:{"lg":{span: 1, offset: 2},"md":2}},[_c(\'a-button\',{attrs:{"icon":"plus"},on:{"click":function($event){return _vm.changeScale(1)}}})],1),_c(\'a-col\',{attrs:{"lg":{span: 1, offset: 1},"md":2}},[_c(\'a-button\',{attrs:{"icon":"minus"},on:{"click":function($event){return _vm.changeScale(-1)}}})],1),_c(\'a-col\',{attrs:{"lg":{span: 1, offset: 1},"md":2}},[_c(\'a-button\',{attrs:{"icon":"undo"},on:{"click":_vm.rotateLeft}})],1),_c(\'a-col\',{attrs:{"lg":{span: 1, offset: 1},"md":2}},[_c(\'a-button\',{attrs:{"icon":"redo"},on:{"click":_vm.rotateRight}})],1),_c(\'a-col\',{attrs:{"lg":{span: 4, offset: 6},"md":4}},[_c(\'a-space\',[_c(\'a-button\',{on:{"click":_vm.close}},[_vm._v(" Cancel ")]),_c(\'a-button\',{attrs:{"type":"primary","disabled":_vm.confirmLoading,"loading":_vm.confirmLoading},on:{"click":_vm.uploadImage}},[_vm._v("Save")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/views/account/settings/AvatarModal.vue?vue&type=template&id=06163b63&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__("ac1f");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.split.js\nvar es_string_split = __webpack_require__("1276");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.match.js\nvar es_string_match = __webpack_require__("466d");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array-buffer.slice.js\nvar es_array_buffer_slice = __webpack_require__("ace4");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__("d3b7");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.uint8-array.js\nvar es_typed_array_uint8_array = __webpack_require__("5cc6");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.copy-within.js\nvar es_typed_array_copy_within = __webpack_require__("9a8c");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.every.js\nvar es_typed_array_every = __webpack_require__("a975");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.fill.js\nvar es_typed_array_fill = __webpack_require__("735e");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.filter.js\nvar es_typed_array_filter = __webpack_require__("c1ac");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find.js\nvar es_typed_array_find = __webpack_require__("d139");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.find-index.js\nvar es_typed_array_find_index = __webpack_require__("3a7b");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.for-each.js\nvar es_typed_array_for_each = __webpack_require__("d5d6");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.includes.js\nvar es_typed_array_includes = __webpack_require__("82f8");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.index-of.js\nvar es_typed_array_index_of = __webpack_require__("e91f");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.iterator.js\nvar es_typed_array_iterator = __webpack_require__("60bd");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.join.js\nvar es_typed_array_join = __webpack_require__("5f96");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.last-index-of.js\nvar es_typed_array_last_index_of = __webpack_require__("3280");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.map.js\nvar es_typed_array_map = __webpack_require__("3fcc");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reduce.js\nvar es_typed_array_reduce = __webpack_require__("ca91");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reduce-right.js\nvar es_typed_array_reduce_right = __webpack_require__("25a1");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.reverse.js\nvar es_typed_array_reverse = __webpack_require__("cd26");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.set.js\nvar es_typed_array_set = __webpack_require__("3c5d");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.slice.js\nvar es_typed_array_slice = __webpack_require__("2954");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.some.js\nvar es_typed_array_some = __webpack_require__("649e");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.sort.js\nvar es_typed_array_sort = __webpack_require__("219c");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.subarray.js\nvar es_typed_array_subarray = __webpack_require__("170b");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-locale-string.js\nvar es_typed_array_to_locale_string = __webpack_require__("b39a");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.typed-array.to-string.js\nvar es_typed_array_to_string = __webpack_require__("72f7");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js\nvar es_array_concat = __webpack_require__("99af");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.slice.js\nvar es_array_slice = __webpack_require__("fb6a");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.to-string.js\nvar es_regexp_to_string = __webpack_require__("25f0");\n\n// EXTERNAL MODULE: ./src/components/AddMaterial/Utils/AwsS3.js\nvar AwsS3 = __webpack_require__("d0d0");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/views/account/settings/AvatarModal.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var AvatarModalvue_type_script_lang_js_ = ({\n  data: function data() {\n    return {\n      visible: false,\n      id: null,\n      confirmLoading: false,\n      fileList: [],\n      uploading: false,\n      options: {\n        img: \'\',\n        autoCrop: true,\n        autoCropWidth: 200,\n        autoCropHeight: 200,\n        fixedBox: true\n      },\n      previews: {}\n    };\n  },\n  methods: {\n    edit: function edit(id) {\n      this.visible = true;\n      this.id = id;\n      /* 获取原始头像 */\n    },\n    close: function close() {\n      this.id = null;\n      this.visible = false;\n    },\n    cancelHandel: function cancelHandel() {\n      this.close();\n    },\n    changeScale: function changeScale(num) {\n      num = num || 1;\n      this.$refs.cropper.changeScale(num);\n    },\n    rotateLeft: function rotateLeft() {\n      this.$refs.cropper.rotateLeft();\n    },\n    rotateRight: function rotateRight() {\n      this.$refs.cropper.rotateRight();\n    },\n    beforeUpload: function beforeUpload(file) {\n      var _this = this;\n\n      var reader = new FileReader(); // 把Array Buffer转化为blob 如果是base64不需要\n      // 转化为base64\n\n      reader.readAsDataURL(file);\n\n      reader.onload = function () {\n        _this.options.img = reader.result;\n      }; // 转化为blob\n      // reader.readAsArrayBuffer(file)\n\n\n      return false;\n    },\n    // 上传图片（点击上传按钮）\n    uploadImage: function uploadImage() {\n      var _this2 = this;\n\n      this.$refs.cropper.getCropData(function (data) {\n        var arr = data.split(\',\');\n        var mime = arr[0].match(/:(.*?);/)[1];\n        var bstr = atob(arr[1]);\n        var n = bstr.length;\n        var u8arr = new Uint8Array(n);\n\n        while (n--) {\n          u8arr[n] = bstr.charCodeAt(n);\n        }\n\n        _this2.model = true;\n        _this2.modelSrc = data;\n        var suffix = mime.split(\'/\')[1];\n        var file = new File([u8arr], "custom_image_".concat(Date.now(), "_").concat(Math.random().toString(36).slice(2), ".").concat(suffix), {\n          type: mime\n        });\n\n        _this2.$logger.info(\'upload file\', file);\n\n        _this2.confirmLoading = true;\n        Object(AwsS3["a" /* upAwsS3File */])(_this2.$store.getters.userInfo.id, file, _this2.getProgressUpLoad, function (result) {\n          _this2.onSuccess(file, result);\n        }, true);\n      });\n    },\n    getProgressUpLoad: function getProgressUpLoad(progress) {\n      this.$logger.info(\'getProgressUpLoad\', progress);\n      this.confirmLoading = true;\n    },\n    onSuccess: function onSuccess(file, result) {\n      this.$logger.info(\'upload success\', file, result);\n      this.$emit(\'ok\', result);\n      this.confirmLoading = false;\n      this.okHandel();\n    },\n    okHandel: function okHandel() {\n      var vm = this;\n      vm.confirmLoading = true;\n      setTimeout(function () {\n        vm.confirmLoading = false;\n        vm.close();\n        vm.$message.success(\'update avatar successfully!\');\n      }, 2000);\n    },\n    realTime: function realTime(data) {\n      this.previews = data;\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/views/account/settings/AvatarModal.vue?vue&type=script&lang=js&\n /* harmony default export */ var settings_AvatarModalvue_type_script_lang_js_ = (AvatarModalvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/views/account/settings/AvatarModal.vue?vue&type=style&index=0&id=06163b63&lang=less&scoped=true&\nvar AvatarModalvue_type_style_index_0_id_06163b63_lang_less_scoped_true_ = __webpack_require__("4c77");\n\n// EXTERNAL MODULE: ./node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("0c7c");\n\n// CONCATENATED MODULE: ./src/views/account/settings/AvatarModal.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["a" /* default */])(\n  settings_AvatarModalvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  "06163b63",\n  null\n  \n)\n\n/* harmony default export */ var AvatarModal = __webpack_exports__["a"] = (component.exports);\n\n//# sourceURL=webpack:///./src/views/account/settings/AvatarModal.vue_+_4_modules?')},acba:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_TagSetting_vue_vue_type_style_index_0_id_7e71e60a_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("7715");\n/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_TagSetting_vue_vue_type_style_index_0_id_7e71e60a_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_vue_cli_service_node_modules_css_loader_dist_cjs_js_ref_10_oneOf_1_1_node_modules_vue_cli_service_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_cli_service_node_modules_vue_loader_lib_index_js_vue_loader_options_TagSetting_vue_vue_type_style_index_0_id_7e71e60a_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n\n\n//# sourceURL=webpack:///./src/components/UnitPlan/TagSetting.vue?')},b842:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"227a4198-vue-loader-template"}!./node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/components/UnitPlan/TagSetting.vue?vue&type=template&id=7e71e60a&scoped=true&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\'div\',{staticClass:"tag-setting",on:{"click":_vm.trySaveTagCategory}},[_c(\'a-spin\',{attrs:{"spinning":_vm.tagLoading}},[_c(\'div\',{staticClass:"tag-content-wrapper"},[_c(\'div\',{staticClass:"tag-tab",attrs:{"id":"tag-tab"}},[_c(\'div\',{directives:[{name:"show",rawName:"v-show",value:(_vm.userTagList.length),expression:"userTagList.length"}],staticClass:"icon-left icon-nav",on:{"click":function($event){$event.stopPropagation();return _vm.scrollLeft.apply(null, arguments)}}},[_c(\'a-icon\',{attrs:{"type":"left"}})],1),(_vm.userTagList.length)?_c(\'div\',{staticClass:"user-tag-category-tabs",attrs:{"id":"user-tag-category-tabs"}},_vm._l((_vm.userTagList),function(userTagItem,idx){return _c(\'div\',{key:idx,class:{ \'user-tag-item\': true, \'active-tab\': userTagItem.name === _vm.currentActiveTagCategoryName },on:{"click":function($event){return _vm.handleActiveTagCategory(userTagItem)}}},[_c(\'div\',{directives:[{name:"show",rawName:"v-show",value:(userTagItem.editing === false),expression:"userTagItem.editing === false"}],staticClass:"action-icon"},[_c(\'div\',{staticClass:"tag-title-item"},[_c(\'div\',{staticClass:"tag-title",on:{"dblclick":function($event){return _vm.handleEditTagCategory(userTagItem)}}},[_vm._v(_vm._s(userTagItem.name))]),_c(\'div\',{staticClass:"tag-delete-icon",on:{"click":function($event){return _vm.handleDeleteTagCategory(userTagItem.name)}}},[_c(\'a-icon\',{style:({ fontSize: \'12px\', color: \'#15c39a\' }),attrs:{"type":"delete"}})],1)])]),_c(\'div\',{directives:[{name:"show",rawName:"v-show",value:(userTagItem.editing === true),expression:"userTagItem.editing === true"}],staticClass:"editing-title",on:{"click":function($event){$event.stopPropagation();}}},[_c(\'a-input\',{staticClass:"my-tag-category-input",attrs:{"placeholder":"Name your category","id":\'tag-category-\' + userTagItem.name},on:{"keyup":function($event){if(!$event.type.indexOf(\'key\')&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")){ return null; }return _vm.handleEnsureUpdateTagCategory(userTagItem)}},model:{value:(_vm.currentEditTagCategoryName),callback:function ($$v) {_vm.currentEditTagCategoryName=$$v},expression:"currentEditTagCategoryName"}})],1)])}),0):_vm._e(),_c(\'div\',{staticClass:"icon-right icon-nav"},[_c(\'a-icon\',{directives:[{name:"show",rawName:"v-show",value:(_vm.userTagList.length),expression:"userTagList.length"}],attrs:{"type":"right"},on:{"click":function($event){$event.stopPropagation();return _vm.scrollRight.apply(null, arguments)}}})],1),_c(\'div\',{directives:[{name:"show",rawName:"v-show",value:(_vm.userTagList.length >= 1),expression:"userTagList.length >= 1"}],staticClass:"icon-add"},[_c(\'a-tooltip\',{attrs:{"placement":"top"}},[_c(\'template\',{slot:"title"},[_vm._v(" Add tag type ")]),_c(\'a-icon\',{directives:[{name:"show",rawName:"v-show",value:(_vm.showAddCategory),expression:"showAddCategory"}],style:({ fontSize: \'18px\', color: \'#15c39a\' }),attrs:{"type":"plus-circle"},on:{"click":function($event){$event.stopPropagation();return _vm.handleInitCreateTagCategory.apply(null, arguments)}}})],2)],1)]),_c(\'div\',{staticClass:"user-tag-list-wrapper"},[_c(\'div\',{staticClass:"tab-content"},[_c(\'div\',{staticClass:"skt-tag-wrapper"},[_c(\'div\',{directives:[{name:"show",rawName:"v-show",value:(_vm.userTagList.length),expression:"userTagList.length"}],staticClass:"skt-tag-list"},[_c(\'div\',{staticClass:"search-tag-wrapper tag-wrapper"},[_vm._l((_vm.displayTagList),function(keyword){return _c(\'div\',{key:keyword,staticClass:"skt-tag-item"},[_c(\'a-tag\',{staticClass:"tag-item",class:{\'active-tag-item\': _vm.tagSearchList.indexOf(keyword) > -1}},[_vm._v(" "+_vm._s(keyword)+" "),_c(\'a-icon\',{attrs:{"type":"close"},on:{"click":function($event){return _vm.handleDeleteTag(keyword)}}})],1)],1)}),_c(\'div\',{staticClass:"create-tag-item-btn"},[_c(\'a-input\',{directives:[{name:"show",rawName:"v-show",value:(_vm.createTagInputVisible),expression:"createTagInputVisible"}],ref:"search-input",staticClass:"search-input",attrs:{"placeholder":"Create Tags"},on:{"pressEnter":_vm.handleEnsureCreateTag,"change":_vm.handleFilterSearchTag},nativeOn:{"blur":function($event){return _vm.handleEnsureCreateTag.apply(null, arguments)}},model:{value:(_vm.inputTag),callback:function ($$v) {_vm.inputTag=$$v},expression:"inputTag"}}),_c(\'div\',{staticClass:"create-tag-item-wrapper"},[(_vm.displayTagList.length === 0 && !_vm.createTagInputVisible)?_c(\'div\',{staticClass:"no-tag-list"},[_c(\'div\',{staticClass:"no-tips"},[_vm._v(" There is no tag under the current type. ")])]):_vm._e(),_c(\'a-tooltip\',{attrs:{"placement":"top"}},[_c(\'template\',{slot:"title"},[_vm._v(" Create tag ")]),_c(\'a-icon\',{directives:[{name:"show",rawName:"v-show",value:(!_vm.createTagInputVisible),expression:"!createTagInputVisible"}],style:({ fontSize: \'18px\', color: \'#15c39a\' }),attrs:{"type":"plus-circle"},on:{"click":_vm.handleShowSearchInput}})],2)],1)],1)],2)]),_c(\'div\',{directives:[{name:"show",rawName:"v-show",value:(_vm.userTagList.length === 0 && !_vm.tagLoading),expression:"userTagList.length === 0 && !tagLoading"}],staticClass:"no-tag-tips"},[_c(\'no-more-resources\',{attrs:{"tips":""}}),_c(\'div\',{staticClass:"no-tips"},[_vm._v(" No tags type have been added yet, create one now ? ")]),_c(\'div\',{staticClass:"create-tag-btn"},[_c(\'a-button\',{attrs:{"type":"primary","shape":"round"},on:{"click":_vm.handleInitCreateTagCategory}},[_vm._v("Create")])],1)],1)])])])])])],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/UnitPlan/TagSetting.vue?vue&type=template&id=7e71e60a&scoped=true&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.function.name.js\nvar es_function_name = __webpack_require__("b0c0");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__("159b");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.trim.js\nvar es_string_trim = __webpack_require__("498a");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__("d3b7");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.find.js\nvar es_array_find = __webpack_require__("7db0");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.from.js\nvar es_array_from = __webpack_require__("a630");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.iterator.js\nvar es_string_iterator = __webpack_require__("3ca3");\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__("4de4");\n\n// EXTERNAL MODULE: ./src/api/tag.js\nvar tag = __webpack_require__("d28d");\n\n// EXTERNAL MODULE: ./src/mixins/UtilMixin.js\nvar UtilMixin = __webpack_require__("d33b4");\n\n// EXTERNAL MODULE: ./src/components/Common/NoMoreResources.vue + 4 modules\nvar NoMoreResources = __webpack_require__("69b3");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/@vue/cli-service/node_modules/vue-loader/lib??vue-loader-options!./src/components/UnitPlan/TagSetting.vue?vue&type=script&lang=js&\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var TagSettingvue_type_script_lang_js_ = ({\n  name: \'TagSetting\',\n  mixins: [UtilMixin["a" /* UtilMixin */]],\n  components: {\n    NoMoreResources: NoMoreResources["a" /* default */]\n  },\n  data: function data() {\n    return {\n      currentActiveTagCategory: null,\n      currentActiveTagCategoryName: \'\',\n      currentEditTagCategoryName: \'\',\n      userTagList: [],\n      createTagName: \'\',\n      tagLoading: false,\n      inputTag: \'\',\n      tagSearchList: [],\n      currentEditTagName: \'\',\n      displayTagList: [],\n      createTagInputVisible: false\n    };\n  },\n  computed: {\n    showAddCategory: function showAddCategory() {\n      return this.userTagList.every(function (item) {\n        return item.editing === false;\n      });\n    }\n  },\n  created: function created() {\n    this.handleUpdateUserTags();\n  },\n  methods: {\n    handleActiveTagCategory: function handleActiveTagCategory(userTagItem) {\n      this.$logger.info(\'handleActiveTagCategory\', userTagItem);\n      this.currentActiveTagCategoryName = userTagItem.name;\n      this.currentActiveTagCategory = userTagItem;\n      this.displayTagList = userTagItem.keywords;\n      this.filterKeyword();\n    },\n    handleEditTagCategory: function handleEditTagCategory(userTagItem) {\n      this.$logger.info(\'handleEditTagCategory\', userTagItem);\n      this.currentEditTagCategoryName = userTagItem.name;\n      this.userTagList.forEach(function (item) {\n        item.editing = false;\n      });\n      userTagItem.editing = true;\n    },\n    handleEnsureUpdateTagCategory: function handleEnsureUpdateTagCategory(userTagItem) {\n      this.$logger.info(\'handleEnsureUpdateTagCategory \' + this.currentEditTagCategoryName, userTagItem);\n      this.currentEditTagCategoryName = this.currentEditTagCategoryName && this.currentEditTagCategoryName.trim() ? this.currentEditTagCategoryName.trim() : \'Untitled category \' + (this.userTagList.length + 1);\n\n      if (userTagItem.newTag) {\n        this.handleCreateTagCategory(userTagItem);\n      } else {\n        this.handleUpdateTagCategory(userTagItem);\n      }\n    },\n    handleCreateTagCategory: function handleCreateTagCategory(userTagItem) {\n      var _this = this;\n\n      this.$logger.info(\'handleCreateTagCategory\', userTagItem);\n      this.tagLoading = true;\n      Object(tag["a" /* AddUserParentTag */])({\n        parentName: this.currentEditTagCategoryName\n      }).then(function (response) {\n        _this.$logger.info(\'add AddUserParentTag \', response.result);\n\n        if (response.success) {\n          _this.handleUpdateUserTags();\n        } else {\n          _this.$message.error(response.message);\n\n          _this.tagLoading = false;\n        }\n      }).catch(function () {\n        _this.tagLoading = false;\n      });\n    },\n    handleUpdateTagCategory: function handleUpdateTagCategory(userTagItem) {\n      var _this2 = this;\n\n      this.$logger.info(\'handleUpdateTagCategory\', userTagItem);\n\n      if (userTagItem.name && this.currentEditTagCategoryName && userTagItem.name !== this.currentEditTagCategoryName) {\n        this.tagLoading = true;\n        Object(tag["k" /* UpdateUserParentTag */])({\n          name: userTagItem.name,\n          newName: this.currentEditTagCategoryName\n        }).then(function (response) {\n          _this2.$logger.info(\'UpdateUserParentTag response\', response.result);\n\n          if (response.success) {\n            _this2.handleUpdateUserTags();\n          } else {\n            _this2.$message.error(response.message);\n\n            _this2.tagLoading = false;\n          }\n        }).catch(function () {\n          _this2.tagLoading = false;\n        });\n      }\n    },\n    handleInitCreateTagCategory: function handleInitCreateTagCategory() {\n      var _this3 = this;\n\n      this.$logger.info(\'handleInitCreateTagCategory\');\n      this.currentEditTagName = \'Untitled category \' + (this.userTagList.length + 1);\n      var newUserTagItem = {\n        name: this.currentEditTagName,\n        editing: true,\n        newTag: true,\n        keywords: []\n      };\n      this.currentActiveTagCategoryName = newUserTagItem.name;\n      this.currentEditTagCategoryName = newUserTagItem.name;\n      this.currentActiveTagCategory = newUserTagItem;\n      this.displayTagList = [];\n      this.userTagList.push(newUserTagItem);\n      this.$nextTick(function () {\n        var dom = document.getElementById(\'tag-category-\' + newUserTagItem.name);\n\n        if (dom) {\n          dom.focus();\n        }\n\n        _this3.scrollRight();\n      });\n    },\n    handleUpdateUserTags: function handleUpdateUserTags() {\n      var _this4 = this;\n\n      this.tagLoading = true;\n      Object(tag["c" /* FindCustomTags */])({}).then(function (response) {\n        _this4.$logger.info(\'FindCustomTags response\', response.result);\n\n        if (response.success) {\n          var userTags = [];\n          response.result.userTags.forEach(function (userTag) {\n            if (userTag.name) {\n              userTag.editing = false;\n              userTag.newTag = false;\n              userTags.push(userTag);\n            }\n          });\n          _this4.userTagList = userTags;\n\n          _this4.$logger.info(\'userTagList\', _this4.userTagList);\n\n          var firstTagCategory = _this4.userTagList.find(function (item) {\n            return item.name && _this4.currentActiveTagCategoryName === item.name;\n          });\n\n          if (!firstTagCategory) {\n            firstTagCategory = _this4.userTagList.find(function (item) {\n              return item.name && _this4.currentEditTagCategoryName === item.name;\n            });\n          }\n\n          if (!firstTagCategory && _this4.userTagList.length > 0) {\n            firstTagCategory = _this4.userTagList.find(function (item) {\n              return item.name;\n            });\n          }\n\n          if (firstTagCategory) {\n            _this4.currentActiveTagCategoryName = firstTagCategory.name;\n            _this4.currentActiveTagCategory = firstTagCategory;\n            _this4.displayTagList = firstTagCategory.keywords;\n          }\n\n          _this4.$logger.info(\'currentActiveTagCategory\', _this4.currentActiveTagCategory, \'displayTagList\', _this4.displayTagList);\n\n          _this4.filterKeyword();\n        } else {\n          _this4.$message.error(response.message);\n        }\n      }).finally(function () {\n        _this4.tagLoading = false;\n      });\n    },\n    filterKeyword: function filterKeyword() {\n      var _this5 = this;\n\n      if (this.currentActiveTagCategoryName) {\n        this.tagSearchList = [];\n        var userTagItem = this.userTagList.find(function (item) {\n          return item.name === _this5.currentActiveTagCategoryName;\n        });\n        this.$logger.info(\'userTagItem\', userTagItem);\n\n        if (!userTagItem || userTagItem.keywords && userTagItem.keywords.length === 0) {\n          return;\n        }\n\n        this.tagSearchList = Array.from(userTagItem.keywords);\n        this.tagSearchList = this.tagSearchList.filter(function (item) {\n          return _this5.inputTag && _this5.inputTag.trim() && item.toLowerCase().indexOf(_this5.inputTag.toLowerCase()) > -1;\n        });\n        this.$logger.info(\'tagSearchList\', this.tagSearchList);\n      }\n    },\n    handleEnsureCreateTag: function handleEnsureCreateTag() {\n      this.$logger.info(\'handleEnsureCreateTag\', this.inputTag);\n      this.createTagName = this.inputTag;\n      this.inputTag = \'\';\n      this.createTagInputVisible = false;\n      this.handleCreateTagByInput();\n    },\n    handleCreateTagByInput: function handleCreateTagByInput() {\n      var _this6 = this;\n\n      this.$logger.info(\'handleCreateTagByInput \' + this.createTagName);\n      var existTag = false;\n      var userTagItem = this.userTagList.find(function (item) {\n        return item.name === _this6.currentActiveTagCategoryName;\n      });\n\n      if (userTagItem && userTagItem.keywords) {\n        var tagKeyword = userTagItem.keywords.find(function (item) {\n          return item.toLowerCase() === _this6.createTagName.toLowerCase();\n        });\n\n        if (tagKeyword) {\n          existTag = true;\n        }\n      }\n\n      if (existTag) {\n        this.$message.warn(\'Already exist same name tag\');\n      } else if (!this.createTagName || !this.createTagName.trim()) {} else {\n        var item = {\n          name: this.createTagName,\n          parentName: this.currentActiveTagCategoryName\n        };\n        this.tagLoading = true;\n        Object(tag["b" /* AddUserTagNew */])(item).then(function (response) {\n          _this6.$logger.info(\'add AddUserTagNew \', response.result);\n\n          if (response.success) {\n            _this6.handleUpdateUserTags();\n\n            _this6.$message.success(\'Add tag successfully\');\n\n            _this6.inputTag = \'\';\n            _this6.createTagName = \'\';\n\n            _this6.$emit(\'change-add-keywords\', item);\n          } else {\n            _this6.$message.error(response.message);\n          }\n        }).finally(function () {\n          _this6.tagLoading = false;\n        });\n      }\n    },\n    handleFilterSearchTag: function handleFilterSearchTag() {\n      this.$logger.info(\'tag handleFilterSearchTag\', this.inputTag);\n      this.createTagName = this.inputTag;\n      this.filterKeyword();\n    },\n    handleDeleteTag: function handleDeleteTag(keyword) {\n      var _this7 = this;\n\n      var h = this.$createElement;\n      this.$confirm({\n        title: \'Delete tag \' + keyword + \'\',\n        content: function content(h) {\n          return h("div", {\n            "class": \'my-delete-tips\'\n          }, ["Are you sure you want to delete this tag ? This is permanent and can not be undone ."]);\n        },\n        bodyStyle: {\n          padding: \'10px\'\n        },\n        okText: \'Confirm\',\n        centered: true,\n        onOk: function onOk() {\n          _this7.handleEnsureDeleteTag(keyword);\n        }\n      });\n    },\n    handleEnsureDeleteTag: function handleEnsureDeleteTag(keyword) {\n      var _this8 = this;\n\n      this.$logger.info(\'handleEnsureDeleteTag \' + this.currentActiveTagCategoryName + \' \' + keyword);\n      this.tagLoading = true; // UserTagDeleteNew 传了parentName就删大类,传了name 就删下面的小类\n\n      Object(tag["l" /* UserTagDeleteNew */])({\n        parentName: this.currentActiveTagCategoryName,\n        name: keyword\n      }).then(function (response) {\n        _this8.$logger.info(\'add UserTagDeleteNew \', response.result);\n\n        if (response.success) {\n          _this8.handleUpdateUserTags();\n\n          _this8.$message.success(\'Delete successfully\');\n        } else {\n          _this8.$message.error(response.message);\n        }\n      }).finally(function () {\n        _this8.tagLoading = false;\n      });\n    },\n    handleDeleteTagCategory: function handleDeleteTagCategory(category) {\n      var _this9 = this;\n\n      var h = this.$createElement;\n      this.$confirm({\n        title: \'Delete tag type \' + category,\n        content: function content(h) {\n          return h("div", {\n            "class": \'my-delete-tips\'\n          }, ["Are you sure you want to delete this tag type ? After deleting, all tags under this type will be deleted as well."]);\n        },\n        bodyStyle: {\n          padding: \'10px\'\n        },\n        okText: \'Confirm\',\n        centered: true,\n        onOk: function onOk() {\n          _this9.handleEnsureDeleteTagCategory(category);\n        }\n      });\n    },\n    handleEnsureDeleteTagCategory: function handleEnsureDeleteTagCategory(category) {\n      var _this10 = this;\n\n      this.$logger.info(\'handleEnsureDeleteTagCategory \' + category);\n      this.tagLoading = true; // UserTagDeleteNew 传了parentName就删大类,传了name 就删下面的小类\n\n      Object(tag["l" /* UserTagDeleteNew */])({\n        parentName: category\n      }).then(function (response) {\n        _this10.$logger.info(\'add UserTagDeleteNew \', response.result);\n\n        if (response.success) {\n          _this10.handleUpdateUserTags();\n\n          _this10.$message.success(\'Delete successfully\');\n        } else {\n          _this10.$message.error(response.message);\n        }\n      }).finally(function () {\n        _this10.tagLoading = false;\n      });\n    },\n    handleShowSearchInput: function handleShowSearchInput() {\n      var _this11 = this;\n\n      this.createTagInputVisible = true;\n      this.$nextTick(function () {\n        _this11.$refs[\'search-input\'].focus();\n      });\n    },\n    scrollLeft: function scrollLeft() {\n      this.$logger.info(\'scrollLeft\');\n      var tagCategoryTabDom = document.getElementById(\'user-tag-category-tabs\');\n      tagCategoryTabDom.scrollTo({\n        left: tagCategoryTabDom.scrollLeft - 400,\n        behavior: \'smooth\'\n      });\n    },\n    scrollRight: function scrollRight() {\n      this.$logger.info(\'scrollRight\');\n      var tagCategoryTabDom = document.getElementById(\'user-tag-category-tabs\');\n      tagCategoryTabDom.scrollTo({\n        left: tagCategoryTabDom.scrollLeft + 400,\n        behavior: \'smooth\'\n      });\n    },\n    trySaveTagCategory: function trySaveTagCategory() {\n      this.$logger.info(\'trySaveTagCategory\');\n      var userTagItem = this.userTagList.find(function (item) {\n        return item.editing && item.name;\n      });\n\n      if (userTagItem) {\n        this.$logger.info(\'trySaveTagCategory userTagItem\', userTagItem);\n\n        if (userTagItem.newTag) {\n          this.handleCreateTagCategory(userTagItem);\n        } else {\n          this.handleUpdateTagCategory(userTagItem);\n        }\n      } else {\n        this.$logger.info(\'no editing tag category\');\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/UnitPlan/TagSetting.vue?vue&type=script&lang=js&\n /* harmony default export */ var UnitPlan_TagSettingvue_type_script_lang_js_ = (TagSettingvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/components/UnitPlan/TagSetting.vue?vue&type=style&index=0&id=7e71e60a&lang=less&scoped=true&\nvar TagSettingvue_type_style_index_0_id_7e71e60a_lang_less_scoped_true_ = __webpack_require__("acba");\n\n// EXTERNAL MODULE: ./node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__("0c7c");\n\n// CONCATENATED MODULE: ./src/components/UnitPlan/TagSetting.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer["a" /* default */])(\n  UnitPlan_TagSettingvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  "7e71e60a",\n  null\n  \n)\n\n/* harmony default export */ var TagSetting = __webpack_exports__["a"] = (component.exports);\n\n//# sourceURL=webpack:///./src/components/UnitPlan/TagSetting.vue_+_4_modules?')},c418:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"subjectAPIUrl\", function() { return subjectAPIUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SubjectTree\", function() { return SubjectTree; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SubjectAddOrUpdate\", function() { return SubjectAddOrUpdate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SubjectQueryById\", function() { return SubjectQueryById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SubjectDelete\", function() { return SubjectDelete; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SubjectDeleteBatch\", function() { return SubjectDeleteBatch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SubjectList\", function() { return SubjectList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SubjectStudentList\", function() { return SubjectStudentList; });\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"b775\");\n\nvar subjectAPIUrl = {\n  SubjectTree: '/classcipe/api/subject/tree',\n  SubjectAddOrUpdate: '/classcipe/api/subject/addOrUpdate',\n  SubjectQueryById: '/classcipe/api/subject/queryById',\n  SubjectDelete: '/classcipe/api/subject/delete',\n  SubjectDeleteBatch: '/classcipe/api/subject/deleteBatch',\n  SubjectList: '/classcipe/api/subject/list',\n  SubjectStudentList: '/classcipe/api/subject/getStudentSubjects'\n};\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction SubjectTree(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: subjectAPIUrl.SubjectTree,\n    method: 'get',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction SubjectAddOrUpdate(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: subjectAPIUrl.SubjectAddOrUpdate,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction SubjectQueryById(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: subjectAPIUrl.SubjectQueryById,\n    method: 'get',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction SubjectDelete(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: subjectAPIUrl.SubjectDelete,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction SubjectDeleteBatch(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: subjectAPIUrl.SubjectDeleteBatch,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction SubjectList(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: subjectAPIUrl.SubjectList,\n    method: 'get',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction SubjectStudentList(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: subjectAPIUrl.SubjectStudentList,\n    method: 'get',\n    params: parameter\n  });\n}\n\n//# sourceURL=webpack:///./src/api/subject.js?")},d28d:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* unused harmony export tagAPIUrl */\n/* unused harmony export QuerySourceTagByCategory */\n/* unused harmony export GetRootGlobalTag */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return GetTreeByKey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return GetTagYearTips; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return GetGlobalTagKeywords; });\n/* unused harmony export GetUserTags */\n/* unused harmony export UserTagAddOrUpdate */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return AddUserTagNew; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return AddUserParentTag; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"k\", function() { return UpdateUserParentTag; });\n/* unused harmony export TagQueryById */\n/* unused harmony export UserTagDelete */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"l\", function() { return UserTagDeleteNew; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return FindCustomTags; });\n/* unused harmony export SchoolRootCustomList */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"h\", function() { return SchoolSelectLibrary; });\n/* unused harmony export SchoolAddOrUpdateTag */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return SchoolTagDelete; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return SchoolTagSet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return SchoolCommonTagList; });\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"b775\");\n\nvar tagAPIUrl = {\n  GetUserTags: '/classcipe/api/tag/getUserTags',\n  UserTagAddOrUpdate: '/classcipe/api/tag/addOrUpdateUserTag',\n  AddUserTagNew: '/classcipe/api/tag/addUserTagNew',\n  AddUserParentTag: '/classcipe/api/tag/addUserParentTag',\n  UpdateUserParentTag: '/classcipe/api/tag/updateUserParentTag',\n  UserTagDelete: '/classcipe/api/tag/userTagDelete',\n  UserTagDeleteNew: '/classcipe/api/tag/userTagDeleteNew',\n  GetTreeByKey: '/classcipe/api/tag/getTreeByKey',\n  GetGlobalTree: '/classcipe/api/tag/getTree',\n  GetRootGlobalTag: '/classcipe/api/tag/getRootGlobalTag',\n  GetGlobalTagKeywords: '/classcipe/api/tag/getTagKeywords',\n  TagQueryById: '/classcipe/api/tag/queryById',\n  TagDelete: '/classcipe/api/tag/delete',\n  TagDeleteBatch: '/classcipe/api/tag/deleteBatch',\n  FindCustomTags: '/classcipe/api/tag/findCustomTags',\n  GetTagYearTips: '/classcipe/api/tag/getTagYearTips',\n  QuerySourceTagByCategory: '/classcipe/api/tag/querySourceTagByParent',\n  SchoolRootCustomList: '/classcipe/api/tag/rootSchoolCustomList',\n  SchoolAddOrUpdateTag: '/classcipe/api/tag/addOrUpdate',\n  SchoolTagSet: '/classcipe/api/tag/schoolTagSet',\n  SchoolSelectLibrary: '/classcipe/api/tag/schoolSelectLibrary',\n  SchoolTagDelete: '/classcipe/api/tag/schoolTagDelete',\n  SchoolCommonTagList: '/classcipe/api/tag/schoolCommonTagList'\n};\nfunction QuerySourceTagByCategory(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.QuerySourceTagByCategory,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction GetRootGlobalTag(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.GetRootGlobalTag,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction GetTreeByKey(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.GetTreeByKey,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction GetTagYearTips(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.GetTagYearTips,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction GetGlobalTagKeywords(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.GetGlobalTagKeywords,\n    method: 'get',\n    params: parameter\n  });\n}\nfunction GetUserTags(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.GetUserTags,\n    method: 'get',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction UserTagAddOrUpdate(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.UserTagAddOrUpdate,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction AddUserTagNew(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.AddUserTagNew,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction AddUserParentTag(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.AddUserParentTag,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction UpdateUserParentTag(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.UpdateUserParentTag,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction TagQueryById(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.TagQueryById,\n    method: 'get',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction UserTagDelete(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.UserTagDelete,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction UserTagDeleteNew(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.UserTagDeleteNew,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction FindCustomTags(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.FindCustomTags,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction SchoolRootCustomList(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.SchoolRootCustomList,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction SchoolSelectLibrary(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.SchoolSelectLibrary,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction SchoolAddOrUpdateTag(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.SchoolAddOrUpdateTag,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction SchoolTagDelete(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.SchoolTagDelete + '?id=' + parameter.id,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction SchoolTagSet(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.SchoolTagSet,\n    method: 'post',\n    data: parameter,\n    headers: {\n      'Content-Type': 'application/json;charset=UTF-8'\n    }\n  });\n}\nfunction SchoolCommonTagList(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"d\"])({\n    url: tagAPIUrl.SchoolCommonTagList,\n    method: 'get',\n    params: parameter\n  });\n}\n\n//# sourceURL=webpack:///./src/api/tag.js?")},d33b4:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return UtilMixin; });\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"4de4\");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"b0c0\");\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"823b\");\n/* harmony import */ var _const_teacher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"3f76\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"c1df\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nvar UtilMixin = {\n  data: function data() {\n    return {\n      type2Name: {\n        1: 'Topic',\n        2: 'Unit Plan',\n        3: 'Material',\n        4: 'Task',\n        5: 'Lesson',\n        6: 'Evaluation'\n      },\n      browserDataType: {\n        'bigIdea': 'bigIdea',\n        'sync': 'sync',\n        'curriculum': 'curriculum',\n        'subjectSpecificSkill': 'subjectSpecificSkill',\n        'centurySkill': 'centurySkill',\n        'all21Century': 'all21Century',\n        'assessmentType': 'assessmentType',\n        'idu': 'idu'\n      }\n    };\n  },\n  created: function created() {},\n  computed: {\n    getWeek: function getWeek() {\n      if (this.rangeDate.length === 2) {\n        var str = '';\n        var week = Math.abs(parseInt(this.rangeDate[0].diff(this.rangeDate[1], 'days') / 7));\n        var day = Math.abs(this.rangeDate[0].diff(this.rangeDate[1], 'days')) % 7;\n\n        if (week > 0) {\n          str += week > 1 ? week + ' weeks ' : week + ' week ';\n        }\n\n        if (day > 0) {\n          str += day > 1 ? day + ' days ' : day + ' day ';\n        }\n\n        return str;\n      } else {\n        return '';\n      }\n    }\n  },\n  methods: {\n    /**\n     * 判断标签值是否在列表中，忽律大小写\n     */\n    tagIsExist: function tagIsExist(createTagName, tagSearchList) {\n      return tagSearchList.filter(function (item) {\n        return item.toLowerCase() === createTagName.toLowerCase();\n      }).length > 0;\n    },\n    tagNameIsExist: function tagNameIsExist(createTagName, showTagList) {\n      return showTagList.filter(function (item) {\n        return item.name.toLowerCase() === createTagName.toLowerCase();\n      }).length > 0;\n    },\n    handleOpenItem: function handleOpenItem(item) {\n      item.type = this.type;\n      _utils_logger__WEBPACK_IMPORTED_MODULE_2__[\"info\"]('handleEditItem', item);\n\n      if (item.type === _const_teacher__WEBPACK_IMPORTED_MODULE_3__[/* typeMap */ \"e\"]['unit-plan']) {\n        window.open('/teacher/unit-plan-redirect/' + item.id, '_blank');\n      } else if (item.type === _const_teacher__WEBPACK_IMPORTED_MODULE_3__[/* typeMap */ \"e\"].task) {\n        window.open('/teacher/task-redirect/' + item.id, '_blank');\n      } else if (item.type === _const_teacher__WEBPACK_IMPORTED_MODULE_3__[/* typeMap */ \"e\"].pd) {\n        window.open('/teacher/pd-content-redirect/' + item.id, '_blank');\n      } else if (item.type === _const_teacher__WEBPACK_IMPORTED_MODULE_3__[/* typeMap */ \"e\"].evaluation) {\n        window.open('/teacher/evaluation-redirect/' + item.id, '_blank');\n      }\n    },\n    handleLocationItem: function handleLocationItem(item) {\n      _utils_logger__WEBPACK_IMPORTED_MODULE_2__[\"info\"]('handleEditItem', item);\n\n      if (item.type === _const_teacher__WEBPACK_IMPORTED_MODULE_3__[/* typeMap */ \"e\"]['unit-plan']) {\n        window.location.href = '/teacher/unit-plan-redirect/' + item.id;\n      } else if (item.type === _const_teacher__WEBPACK_IMPORTED_MODULE_3__[/* typeMap */ \"e\"].task) {\n        window.location.href = '/teacher/task-redirect/' + item.id;\n      } else if (item.type === _const_teacher__WEBPACK_IMPORTED_MODULE_3__[/* typeMap */ \"e\"].pd) {\n        window.location.href = '/teacher/pd-content-redirect/' + item.id;\n      } else if (item.type === _const_teacher__WEBPACK_IMPORTED_MODULE_3__[/* typeMap */ \"e\"].evaluation) {\n        window.location.href = '/teacher/evaluation-redirect/' + item.id;\n      }\n    },\n    getWeekByDate: function getWeekByDate(startDate, endDate) {\n      this.$logger.info('getWeekByDate', startDate, endDate);\n\n      if (startDate && endDate) {\n        var str = '';\n        var diffDays = moment__WEBPACK_IMPORTED_MODULE_4___default()(endDate).diff(moment__WEBPACK_IMPORTED_MODULE_4___default()(startDate), 'days');\n        this.$logger.info('diffDays', diffDays);\n        var week = Math.floor(Math.abs(diffDays / 7));\n        var day = Math.ceil(Math.abs(diffDays % 7));\n\n        if (week > 0) {\n          str += week > 1 ? week + ' weeks ' : week + ' week ';\n        }\n\n        if (day > 0) {\n          str += day > 1 ? day + ' days ' : day + ' day ';\n        }\n\n        this.$logger.info('getWeekByDate str', str);\n        return str;\n      } else {\n        return '';\n      }\n    }\n  }\n};\n\n//# sourceURL=webpack:///./src/mixins/UtilMixin.js?")},e0dd:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export quotationApiUrl */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return QuotationAddOrUpdate; });\n/* unused harmony export QuotationList */\n/* unused harmony export QuotationGetBySchoolId */\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("b775");\n\nvar API_PREFIX = \'quotation\';\nvar quotationApiUrl = {\n  QuotationList: "/classcipe/api/school/".concat(API_PREFIX, "/list"),\n  QuotationGetBySchoolId: "/classcipe/api/school/".concat(API_PREFIX, "/getBySchoolId"),\n  QuotationAddOrUpdate: "/classcipe/api/school/".concat(API_PREFIX, "/addOrUpdate")\n};\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction QuotationAddOrUpdate(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: quotationApiUrl.QuotationAddOrUpdate,\n    method: \'post\',\n    data: parameter,\n    params: parameter,\n    headers: {\n      \'Content-Type\': \'application/json;charset=UTF-8\'\n    }\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction QuotationList(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: quotationApiUrl.QuotationList,\n    method: \'get\',\n    params: parameter\n  });\n}\n/**\n * @param parameter\n * @returns {AxiosPromise}\n * @constructor\n */\n\nfunction QuotationGetBySchoolId(parameter) {\n  return Object(_utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "d"])({\n    url: quotationApiUrl.QuotationGetBySchoolId,\n    method: \'get\',\n    params: parameter\n  });\n}\n\n//# sourceURL=webpack:///./src/api/quotation.js?')}}]);